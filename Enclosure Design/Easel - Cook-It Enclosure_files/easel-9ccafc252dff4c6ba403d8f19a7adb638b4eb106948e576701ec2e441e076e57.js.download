"use strict";(()=>{var pve=Object.create;var jv=Object.defineProperty;var dve=Object.getOwnPropertyDescriptor;var mve=Object.getOwnPropertyNames;var fve=Object.getPrototypeOf,hve=Object.prototype.hasOwnProperty;var gve=(e,t,r)=>t in e?jv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var P=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var lt=(e,t)=>()=>(e&&(t=e(e=0)),t);var we=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),cf=(e,t)=>{for(var r in t)jv(e,r,{get:t[r],enumerable:!0})},rN=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of mve(t))!hve.call(e,i)&&i!==r&&jv(e,i,{get:()=>t[i],enumerable:!(o=dve(t,i))||o.enumerable});return e},pe=(e,t,r)=>(rN(e,t,"default"),r&&rN(r,t,"default")),M=(e,t,r)=>(r=e!=null?pve(fve(e)):{},rN(t||!e||!e.__esModule?jv(r,"default",{value:e,enumerable:!0}):r,e));var y=(e,t,r)=>gve(e,typeof t!="symbol"?t+"":t,r);function $o(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");oN(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Xv(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(r[o[i]]=e[o[i]]);return r}function Le(e,t,r,o){function i(n){return n instanceof r?n:new r(function(s){s(n)})}return new(r||(r=Promise))(function(n,s){function a(u){try{c(o.next(u))}catch(p){s(p)}}function l(u){try{c(o.throw(u))}catch(p){s(p)}}function c(u){u.done?n(u.value):i(u.value).then(a,l)}c((o=o.apply(e,t||[])).next())})}function Be(e,t){var r={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},o,i,n,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(o)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(o=1,i&&(n=c[0]&2?i.return:c[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,c[1])).done)return n;switch(i=0,n&&(c=[c[0]&2,n.value]),c[0]){case 0:case 1:n=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(n=r.trys,!(n=n.length>0&&n[n.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!n||c[1]>n[0]&&c[1]<n[3])){r.label=c[1];break}if(c[0]===6&&r.label<n[1]){r.label=n[1],n=c;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(c);break}n[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(u){c=[6,u],i=0}finally{o=n=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function mo(e,t,r){if(r||arguments.length===2)for(var o=0,i=t.length,n;o<i;o++)(n||!(o in t))&&(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}var oN,xe,or=lt(()=>{oN=function(e,t){return oN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},oN(e,t)};xe=function(){return xe=Object.assign||function(t){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xe.apply(this,arguments)}});var mY=lt(()=>{});var fY=lt(()=>{});var iN=lt(()=>{});function Xx(e,t,r){t.split&&(t=t.split("."));for(var o=0,i=t.length,n=e,s,a;o<i&&(a=""+t[o++],!(a==="__proto__"||a==="constructor"||a==="prototype"));)n=n[a]=o===i?r:typeof(s=n[a])==typeof t?s:t[o]*0!==0||~(""+t[o]).indexOf(".")?{}:[]}var nN=lt(()=>{});var hY,gY=lt(()=>{hY=function(e,t){return Object.keys(e).filter(function(r){return t(r,e[r])}).reduce(function(r,o){return r[o]=e[o],r},{})}});var e5,sN=lt(()=>{or();e5=function(e){$o(t,e);function t(r,o){var i=e.call(this,"".concat(r," ").concat(o))||this;return i.field=r,i}return t}(Error)});function Dd(e){return typeof e=="string"}function Yv(e){return typeof e=="number"}function E1(e){return typeof e=="function"}function yY(e){return e!=null}function zs(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()==="object"}var aN=lt(()=>{});function Mve(e){if(!yY(e))throw new e5("Event",Eve);if(typeof e!="object")throw new e5("Event",cN)}function Ave(e){if(!Dd(e.type))throw new e5(".type",lN)}function Ive(e){if(!Dd(e.event))throw new e5(".event",lN)}function Dve(e){if(!zs(e.properties))throw new e5(".properties",cN)}function Nve(e){if(!zs(e.traits))throw new e5(".traits",cN)}function Ove(e){if(!Dd(e.messageId))throw new e5(".messageId",lN)}function xY(e){Mve(e),Ave(e),Ove(e),e.type==="track"&&(Ive(e),Dve(e)),["group","identify"].includes(e.type)&&Nve(e)}var lN,cN,Eve,uN=lt(()=>{sN();aN();lN="is not a string",cN="is not an object",Eve="is nil"});var Lve,bY,vY=lt(()=>{or();iN();nN();gY();uN();Lve=function(){function e(t){var r,o;this.settings=t,this.createMessageId=t.createMessageId,this.onEventMethodCall=(r=t.onEventMethodCall)!==null&&r!==void 0?r:function(){},this.onFinishedEvent=(o=t.onFinishedEvent)!==null&&o!==void 0?o:function(){}}return e}(),bY=function(){function e(t){this.settings=new Lve(t)}return e.prototype.track=function(t,r,o,i){return this.settings.onEventMethodCall({type:"track",options:o}),this.normalize(xe(xe({},this.baseEvent()),{event:t,type:"track",properties:r??{},options:xe({},o),integrations:xe({},i)}))},e.prototype.page=function(t,r,o,i,n){var s;this.settings.onEventMethodCall({type:"page",options:i});var a={type:"page",properties:xe({},o),options:xe({},i),integrations:xe({},n)};return t!==null&&(a.category=t,a.properties=(s=a.properties)!==null&&s!==void 0?s:{},a.properties.category=t),r!==null&&(a.name=r),this.normalize(xe(xe({},this.baseEvent()),a))},e.prototype.screen=function(t,r,o,i,n){this.settings.onEventMethodCall({type:"screen",options:i});var s={type:"screen",properties:xe({},o),options:xe({},i),integrations:xe({},n)};return t!==null&&(s.category=t),r!==null&&(s.name=r),this.normalize(xe(xe({},this.baseEvent()),s))},e.prototype.identify=function(t,r,o,i){return this.settings.onEventMethodCall({type:"identify",options:o}),this.normalize(xe(xe({},this.baseEvent()),{type:"identify",userId:t,traits:r??{},options:xe({},o),integrations:i}))},e.prototype.group=function(t,r,o,i){return this.settings.onEventMethodCall({type:"group",options:o}),this.normalize(xe(xe({},this.baseEvent()),{type:"group",traits:r??{},options:xe({},o),integrations:xe({},i),groupId:t}))},e.prototype.alias=function(t,r,o,i){this.settings.onEventMethodCall({type:"alias",options:o});var n={userId:t,type:"alias",options:xe({},o),integrations:xe({},i)};return r!==null&&(n.previousId=r),t===void 0?this.normalize(xe(xe({},n),this.baseEvent())):this.normalize(xe(xe({},this.baseEvent()),n))},e.prototype.baseEvent=function(){return{integrations:{},options:{}}},e.prototype.context=function(t){var r,o=["userId","anonymousId","timestamp","messageId"];delete t.integrations;var i=Object.keys(t),n=(r=t.context)!==null&&r!==void 0?r:{},s={};return i.forEach(function(a){a!=="context"&&(o.includes(a)?Xx(s,a,t[a]):Xx(n,a,t[a]))}),[n,s]},e.prototype.normalize=function(t){var r,o,i=Object.keys((r=t.integrations)!==null&&r!==void 0?r:{}).reduce(function(m,h){var f,x;return xe(xe({},m),(f={},f[h]=!!(!((x=t.integrations)===null||x===void 0)&&x[h]),f))},{});t.options=hY(t.options||{},function(m,h){return h!==void 0});var n=xe(xe({},i),(o=t.options)===null||o===void 0?void 0:o.integrations),s=t.options?this.context(t.options):[],a=s[0],l=s[1],c=t.options,u=Xv(t,["options"]),p=xe(xe(xe(xe({timestamp:new Date},u),{context:a,integrations:n}),l),{messageId:c.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(p),xY(p),p},e}()});function Yx(e,t){return new Promise(function(r,o){var i=setTimeout(function(){o(Error("Promise timed out"))},t);e.then(function(n){return clearTimeout(i),r(n)}).catch(o)})}function Bve(e){return new Promise(function(t){return setTimeout(t,e)})}function pN(e,t,r){var o=function(){try{return Promise.resolve(t(e))}catch(i){return Promise.reject(i)}};return Bve(r).then(function(){return Yx(o(),1e3)}).catch(function(i){e?.log("warn","Callback Error",{error:i}),e?.stats.increment("callback_error")}).then(function(){return e})}var dN=lt(()=>{});var fy,SY=lt(()=>{fy=function(){var e,t,r=!1,o=new Promise(function(i,n){e=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];r=!0,i.apply(void 0,s)},t=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];r=!0,n.apply(void 0,s)}});return{resolve:e,reject:t,promise:o,isSettled:function(){return r}}}});var CY=lt(()=>{SY()});var hy,PY=lt(()=>{hy=function(){function e(t){var r;this.callbacks={},this.warned=!1,this.maxListeners=(r=t?.maxListeners)!==null&&r!==void 0?r:10}return e.prototype.warnIfPossibleMemoryLeak=function(t){this.warned||this.maxListeners&&this.callbacks[t].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(t)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},e.prototype.on=function(t,r){return this.callbacks[t]?(this.callbacks[t].push(r),this.warnIfPossibleMemoryLeak(t)):this.callbacks[t]=[r],this},e.prototype.once=function(t,r){var o=this,i=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];o.off(t,i),r.apply(o,n)};return this.on(t,i),this},e.prototype.off=function(t,r){var o,i=(o=this.callbacks[t])!==null&&o!==void 0?o:[],n=i.filter(function(s){return s!==r});return this.callbacks[t]=n,this},e.prototype.emit=function(t){for(var r=this,o,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var s=(o=this.callbacks[t])!==null&&o!==void 0?o:[];return s.forEach(function(a){a.apply(r,i)}),this},e}()});var wY=lt(()=>{PY()});var M1=lt(()=>{CY();wY()});function _Y(e){var t=Math.random()+1,r=e.minTimeout,o=r===void 0?500:r,i=e.factor,n=i===void 0?2:i,s=e.attempt,a=e.maxTimeout,l=a===void 0?1/0:a;return Math.min(t*o*Math.pow(n,s),l)}var kY=lt(()=>{});var qv,pf,mN=lt(()=>{or();M1();kY();qv="onRemoveFromFuture",pf=function(e){$o(t,e);function t(r,o,i){var n=e.call(this)||this;return n.future=[],n.maxAttempts=r,n.queue=o,n.seen=i??{},n}return t.prototype.push=function(){for(var r=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var n=o.map(function(s){var a=r.updateAttempts(s);return a>r.maxAttempts||r.includes(s)?!1:(r.queue.push(s),!0)});return this.queue=this.queue.sort(function(s,a){return r.getAttempts(s)-r.getAttempts(a)}),n},t.prototype.pushWithBackoff=function(r,o){var i=this;if(o===void 0&&(o=0),o==0&&this.getAttempts(r)===0)return this.push(r)[0];var n=this.updateAttempts(r);if(n>this.maxAttempts||this.includes(r))return!1;var s=_Y({attempt:n-1});return o>0&&s<o&&(s=o),setTimeout(function(){i.queue.push(r),i.future=i.future.filter(function(a){return a.id!==r.id}),i.emit(qv)},s),this.future.push(r),!0},t.prototype.getAttempts=function(r){var o;return(o=this.seen[r.id])!==null&&o!==void 0?o:0},t.prototype.updateAttempts=function(r){return this.seen[r.id]=this.getAttempts(r)+1,this.getAttempts(r)},t.prototype.includes=function(r){return this.queue.includes(r)||this.future.includes(r)||!!this.queue.find(function(o){return o.id===r.id})||!!this.future.find(function(o){return o.id===r.id})},t.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(t.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),t}(hy)});function gy(){var e=0,t,r="";if(!$v||A1+16>256){for($v=Array(e=256);e--;)$v[e]=256*Math.random()|0;e=A1=0}for(;e<16;e++)t=$v[A1+e],e==6?r+=Zv[t&15|64]:e==8?r+=Zv[t&63|128]:r+=Zv[t],e&1&&e>1&&e<11&&(r+="-");return A1++,r}var A1,Zv,$v,Jv=lt(()=>{A1=256,Zv=[];for(;A1--;)Zv[A1]=(A1+256).toString(16).substring(1)});var TY,EY=lt(()=>{or();TY=function(){function e(){this._logs=[]}return e.prototype.log=function(t,r,o){var i=new Date;this._logs.push({level:t,message:r,time:i,extras:o})},Object.defineProperty(e.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),e.prototype.flush=function(){if(this.logs.length>1){var t=this._logs.reduce(function(r,o){var i,n,s,a=xe(xe({},o),{json:JSON.stringify(o.extras,null," "),extras:o.extras});delete a.time;var l=(s=(n=o.time)===null||n===void 0?void 0:n.toISOString())!==null&&s!==void 0?s:"";return r[l]&&(l="".concat(l,"-").concat(Math.random())),xe(xe({},r),(i={},i[l]=a,i))},{});console.table?console.table(t):console.log(t)}else this.logs.forEach(function(r){var o=r.level,i=r.message,n=r.extras;o==="info"||o==="debug"?console.log(i,n??""):console[o](i,n??"")});this._logs=[]},e}()});var Fve,fN,MY,hN=lt(()=>{or();Fve=function(e){var t={gauge:"g",counter:"c"};return t[e]},fN=function(){function e(){this.metrics=[]}return e.prototype.increment=function(t,r,o){r===void 0&&(r=1),this.metrics.push({metric:t,value:r,tags:o??[],type:"counter",timestamp:Date.now()})},e.prototype.gauge=function(t,r,o){this.metrics.push({metric:t,value:r,tags:o??[],type:"gauge",timestamp:Date.now()})},e.prototype.flush=function(){var t=this.metrics.map(function(r){return xe(xe({},r),{tags:r.tags.join(",")})});console.table?console.table(t):console.log(t),this.metrics=[]},e.prototype.serialize=function(){return this.metrics.map(function(t){return{m:t.metric,v:t.value,t:t.tags,k:Fve(t.type),e:t.timestamp}})},e}(),MY=function(e){$o(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.gauge=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o]},t.prototype.increment=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o]},t.prototype.flush=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o]},t.prototype.serialize=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return[]},t}(fN)});var ql,I1,Kv=lt(()=>{Jv();nN();EY();hN();ql=function(){function e(t){var r,o,i;this.retry=(r=t.retry)!==null&&r!==void 0?r:!0,this.type=(o=t.type)!==null&&o!==void 0?o:"plugin Error",this.reason=(i=t.reason)!==null&&i!==void 0?i:""}return e}(),I1=function(){function e(t,r,o,i){r===void 0&&(r=gy()),o===void 0&&(o=new MY),i===void 0&&(i=new TY),this.attempts=0,this.event=t,this._id=r,this.logger=i,this.stats=o}return e.system=function(){},e.prototype.isSame=function(t){return t.id===this.id},e.prototype.cancel=function(t){throw t||new ql({reason:"Context Cancel"})},e.prototype.log=function(t,r,o){this.logger.log(t,r,o)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.prototype.updateEvent=function(t,r){var o;if(t.split(".")[0]==="integrations"){var i=t.split(".")[1];if(((o=this.event.integrations)===null||o===void 0?void 0:o[i])===!1)return this.event}return Xx(this.event,t,r),this.event},e.prototype.failedDelivery=function(){return this._failedDelivery},e.prototype.setFailedDelivery=function(t){this._failedDelivery=t},e.prototype.logs=function(){return this.logger.logs},e.prototype.flush=function(){this.logger.flush(),this.stats.flush()},e.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},e}()});function AY(e,t){var r={};return e.forEach(function(o){var i,n=void 0;if(typeof t=="string"){var s=o[t];n=typeof s!="string"?JSON.stringify(s):s}else t instanceof Function&&(n=t(o));n!==void 0&&(r[n]=mo(mo([],(i=r[n])!==null&&i!==void 0?i:[],!0),[o],!1))}),r}var IY=lt(()=>{or()});var DY,NY=lt(()=>{DY=function(e){return typeof e=="object"&&e!==null&&"then"in e&&typeof e.then=="function"}});var OY,LY=lt(()=>{NY();OY=function(){var e,t,r=0;return{done:function(){return e},run:function(o){var i=o();return DY(i)&&(++r===1&&(e=new Promise(function(n){return t=n})),i.finally(function(){return--r===0&&t()})),i}}}});function Wve(e){return Le(this,void 0,void 0,function(){var t;return Be(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e()];case 1:return[2,r.sent()];case 2:return t=r.sent(),[2,Promise.reject(t)];case 3:return[2]}})})}function df(e,t){e.log("debug","plugin",{plugin:t.name});var r=new Date().getTime(),o=t[e.event.type];if(o===void 0)return Promise.resolve(e);var i=Wve(function(){return o.apply(t,[e])}).then(function(n){var s=new Date().getTime()-r;return n.stats.gauge("plugin_time",s,["plugin:".concat(t.name)]),n}).catch(function(n){if(n instanceof ql&&n.type==="middleware_cancellation")throw n;return n instanceof ql?(e.log("warn",n.type,{plugin:t.name,error:n}),n):(e.log("error","plugin Error",{plugin:t.name,error:n}),e.stats.increment("plugin_error",1,["plugin:".concat(t.name)]),n)});return i}function BY(e,t){return df(e,t).then(function(r){if(r instanceof I1)return r;e.log("debug","Context canceled"),e.stats.increment("context_canceled"),e.cancel(r)})}var gN=lt(()=>{or();Kv()});var FY,WY=lt(()=>{or();IY();mN();Kv();M1();LY();gN();FY=function(e){$o(t,e);function t(r){var o=e.call(this)||this;return o.criticalTasks=OY(),o.plugins=[],o.failedInitializations=[],o.flushing=!1,o.queue=r,o.queue.on(qv,function(){o.scheduleFlush(0)}),o}return t.prototype.register=function(r,o,i){return Le(this,void 0,void 0,function(){var n,s,a=this;return Be(this,function(l){switch(l.label){case 0:return this.plugins.push(o),n=function(c){a.failedInitializations.push(o.name),a.emit("initialization_failure",o),console.warn(o.name,c),r.log("warn","Failed to load destination",{plugin:o.name,error:c}),a.plugins=a.plugins.filter(function(u){return u!==o})},o.type==="destination"&&o.name!=="Segment.io"?(o.load(r,i).catch(n),[3,4]):[3,1];case 1:return l.trys.push([1,3,,4]),[4,o.load(r,i)];case 2:return l.sent(),[3,4];case 3:return s=l.sent(),n(s),[3,4];case 4:return[2]}})})},t.prototype.deregister=function(r,o,i){return Le(this,void 0,void 0,function(){var n;return Be(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),o.unload?[4,Promise.resolve(o.unload(r,i))]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.plugins=this.plugins.filter(function(a){return a.name!==o.name}),[3,4];case 3:return n=s.sent(),r.log("warn","Failed to unload destination",{plugin:o.name,error:n}),[3,4];case 4:return[2]}})})},t.prototype.dispatch=function(r){return Le(this,void 0,void 0,function(){var o;return Be(this,function(i){return r.log("debug","Dispatching"),r.stats.increment("message_dispatched"),this.queue.push(r),o=this.subscribeToDelivery(r),this.scheduleFlush(0),[2,o]})})},t.prototype.subscribeToDelivery=function(r){return Le(this,void 0,void 0,function(){var o=this;return Be(this,function(i){return[2,new Promise(function(n){var s=function(a,l){a.isSame(r)&&(o.off("flush",s),n(a))};o.on("flush",s)})]})})},t.prototype.dispatchSingle=function(r){return Le(this,void 0,void 0,function(){var o=this;return Be(this,function(i){return r.log("debug","Dispatching"),r.stats.increment("message_dispatched"),this.queue.updateAttempts(r),r.attempts=1,[2,this.deliver(r).catch(function(n){var s=o.enqueuRetry(n,r);return s?o.subscribeToDelivery(r):(r.setFailedDelivery({reason:n}),r)})]})})},t.prototype.isEmpty=function(){return this.queue.length===0},t.prototype.scheduleFlush=function(r){var o=this;r===void 0&&(r=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){o.flush().then(function(){setTimeout(function(){o.flushing=!1,o.queue.length&&o.scheduleFlush(0)},0)})},r))},t.prototype.deliver=function(r){return Le(this,void 0,void 0,function(){var o,i,n,s;return Be(this,function(a){switch(a.label){case 0:return[4,this.criticalTasks.done()];case 1:a.sent(),o=Date.now(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.flushOne(r)];case 3:return r=a.sent(),i=Date.now()-o,this.emit("delivery_success",r),r.stats.gauge("delivered",i),r.log("debug","Delivered",r.event),[2,r];case 4:throw n=a.sent(),s=n,r.log("error","Failed to deliver",s),this.emit("delivery_failure",r,s),r.stats.increment("delivery_failed"),n;case 5:return[2]}})})},t.prototype.enqueuRetry=function(r,o){var i=!(r instanceof ql)||r.retry;return i?this.queue.pushWithBackoff(o):!1},t.prototype.flush=function(){return Le(this,void 0,void 0,function(){var r,o,i;return Be(this,function(n){switch(n.label){case 0:if(this.queue.length===0)return[2,[]];if(r=this.queue.pop(),!r)return[2,[]];r.attempts=this.queue.getAttempts(r),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.deliver(r)];case 2:return r=n.sent(),this.emit("flush",r,!0),[3,4];case 3:return o=n.sent(),i=this.enqueuRetry(o,r),i||(r.setFailedDelivery({reason:o}),this.emit("flush",r,!1)),[2,[]];case 4:return[2,[r]]}})})},t.prototype.isReady=function(){return!0},t.prototype.availableExtensions=function(r){var o=this.plugins.filter(function(h){var f,x,v;if(h.type!=="destination"&&h.name!=="Segment.io")return!0;var b=void 0;return(f=h.alternativeNames)===null||f===void 0||f.forEach(function(S){r[S]!==void 0&&(b=r[S])}),(v=(x=r[h.name])!==null&&x!==void 0?x:b)!==null&&v!==void 0?v:(h.name==="Segment.io"?!0:r.All)!==!1}),i=AY(o,"type"),n=i.before,s=n===void 0?[]:n,a=i.enrichment,l=a===void 0?[]:a,c=i.destination,u=c===void 0?[]:c,p=i.after,m=p===void 0?[]:p;return{before:s,enrichment:l,destinations:u,after:m}},t.prototype.flushOne=function(r){var o,i;return Le(this,void 0,void 0,function(){var n,s,a,l,c,u,f,p,m,h,f,x,v,b,S;return Be(this,function(w){switch(w.label){case 0:if(!this.isReady())throw new Error("Not ready");r.attempts>1&&this.emit("delivery_retry",r),n=this.availableExtensions((o=r.event.integrations)!==null&&o!==void 0?o:{}),s=n.before,a=n.enrichment,l=0,c=s,w.label=1;case 1:return l<c.length?(u=c[l],[4,BY(r,u)]):[3,4];case 2:f=w.sent(),f instanceof I1&&(r=f),this.emit("message_enriched",r,u),w.label=3;case 3:return l++,[3,1];case 4:p=0,m=a,w.label=5;case 5:return p<m.length?(h=m[p],[4,df(r,h)]):[3,8];case 6:f=w.sent(),f instanceof I1&&(r=f),this.emit("message_enriched",r,h),w.label=7;case 7:return p++,[3,5];case 8:return x=this.availableExtensions((i=r.event.integrations)!==null&&i!==void 0?i:{}),v=x.destinations,b=x.after,[4,new Promise(function(_,E){setTimeout(function(){var T=v.map(function(A){return df(r,A)});Promise.all(T).then(_).catch(E)},0)})];case 9:return w.sent(),r.stats.increment("message_delivered"),this.emit("message_delivered",r),S=b.map(function(_){return df(r,_)}),[4,Promise.all(S)];case 10:return w.sent(),[2,r]}})})},t}(hy)});var VY=lt(()=>{});function UY(e,t,r,o){return Le(this,void 0,void 0,function(){var i,n;return Be(this,function(s){switch(s.label){case 0:return r.emit("dispatch_start",e),i=Date.now(),t.isEmpty()?[4,t.dispatchSingle(e)]:[3,2];case 1:return n=s.sent(),[3,4];case 2:return[4,t.dispatch(e)];case 3:n=s.sent(),s.label=4;case 4:return o?.callback?[4,pN(n,o.callback,Vve(i,o.timeout))]:[3,6];case 5:n=s.sent(),s.label=6;case 6:return o?.debug&&n.flush(),[2,n]}})})}var Vve,RY=lt(()=>{or();dN();Vve=function(e,t){var r=Date.now()-e;return Math.max((t??300)-r,0)}});var jY=lt(()=>{});var Fc=lt(()=>{mY();fY();iN();vY();dN();mN();Kv();WY();VY();RY();aN();sN();uN();jY();hN();gN()});function qx(){return typeof window<"u"}function Qv(){return!qx()}var $x=lt(()=>{});function bN(){return qx()?window.navigator.onLine:!0}function Wc(){return!bN()}var yy=lt(()=>{$x()});function zY(e,t){return t=t||{},new Promise(function(r,o){var i=new XMLHttpRequest,n=[],s=[],a={},l=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:l,headers:{keys:function(){return n},entries:function(){return s},get:function(u){return a[u.toLowerCase()]},has:function(u){return u.toLowerCase()in a}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(u,p,m){n.push(p=p.toLowerCase()),s.push([p,m]),a[p]=a[p]?a[p]+","+m:m}),r(l())},i.onerror=o,i.withCredentials=t.credentials=="include",t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)})}var XY=lt(()=>{});var xy,eS=lt(()=>{xy=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:null}});var t5,Zx=lt(()=>{XY();eS();t5=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=xy();return(r&&r.fetch||zY).apply(void 0,e)}});var mf,Jx=lt(()=>{mf="1.81.1"});function by(){return Uve}var Uve,tS=lt(()=>{Uve="npm"});var rS,vN=lt(()=>{rS="api.segment.io/v1"});function SN(e){console.error("Error sending segment performance metrics",e)}var Rve,YY,qY=lt(()=>{or();Zx();Jx();tS();vN();Rve=function(e,t,r){var o=t.reduce(function(i,n){var s=n.split(":"),a=s[0],l=s[1];return i[a]=l,i},{});return{type:"Counter",metric:e,value:1,tags:xe(xe({},o),{library:"analytics.js",library_version:r==="web"?"next-".concat(mf):"npm:next-".concat(mf)})}};YY=function(){function e(t){var r=this,o,i,n,s,a;if(this.host=(o=t?.host)!==null&&o!==void 0?o:rS,this.sampleRate=(i=t?.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(n=t?.flushTimer)!==null&&n!==void 0?n:30*1e3,this.maxQueueSize=(s=t?.maxQueueSize)!==null&&s!==void 0?s:20,this.protocol=(a=t?.protocol)!==null&&a!==void 0?a:"https",this.queue=[],this.sampleRate>0){var l=!1,c=function(){l||(l=!0,r.flush().catch(SN),l=!1,setTimeout(c,r.flushTimer))};c()}}return e.prototype.increment=function(t,r){if(t.includes("analytics_js.")&&r.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var o=Rve(t,r,by());this.queue.push(o),t.includes("error")&&this.flush().catch(SN)}},e.prototype.flush=function(){return Le(this,void 0,void 0,function(){var t=this;return Be(this,function(r){switch(r.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(o){SN(o),t.sampleRate=0})];case 1:return r.sent(),[2]}})})},e.prototype.send=function(){return Le(this,void 0,void 0,function(){var t,r,o;return Be(this,function(i){return t={series:this.queue},this.queue=[],r={"Content-Type":"text/plain"},o="".concat(this.protocol,"://").concat(this.host,"/m"),[2,t5(o,{headers:r,body:JSON.stringify(t),method:"POST"})]})})},e}()});var oS,iS,CN=lt(()=>{or();Fc();qY();iS=function(e){$o(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.initRemoteMetrics=function(r){oS=new YY(r)},t.prototype.increment=function(r,o,i){e.prototype.increment.call(this,r,o,i),oS?.increment(r,i??[])},t}(fN)});var da,Nd=lt(()=>{or();Fc();CN();da=function(e){$o(t,e);function t(r,o){return e.call(this,r,o,new iS)||this}return t.system=function(){return new this({type:"track",event:"system"})},t}(I1)});var Kx=lt(()=>{Fc()});function QY(e){var t=Od.getItem(e);return(t?JSON.parse(t):[]).map(function(r){return new da(r.event,r.id)})}function Yve(e,t){var r=QY(e),o=mo(mo([],t,!0),r,!0),i=o.reduce(function(n,s){var a;return xe(xe({},n),(a={},a[s.id]=s,a))},{});Od.setItem(e,JSON.stringify(Object.values(i)))}function eq(e){var t=Od.getItem(e);return t?JSON.parse(t):{}}function qve(e,t){var r=eq(e);Od.setItem(e,JSON.stringify(xe(xe({},r),t)))}function KY(e){Od.removeItem(e)}function TN(e,t,r){r===void 0&&(r=0);var o=50,i="persisted-queue:v1:".concat(e,":lock"),n=function(c){return new Date().getTime()>c},s=Od.getItem(i),a=s?JSON.parse(s):null,l=a===null||n(a);if(l){Od.setItem(i,JSON.stringify($ve()+o)),t(),Od.removeItem(i);return}!l&&r<3?setTimeout(function(){TN(e,t,r+1)},o):console.error("Unable to retrieve lock")}var Od,$ve,r5,Qx=lt(()=>{or();Kx();Nd();$x();Od={getItem:function(){},setItem:function(){},removeItem:function(){}};try{Od=qx()&&window.localStorage?window.localStorage:Od}catch(e){console.warn("Unable to access localStorage",e)}$ve=function(){return new Date().getTime()};r5=function(e){$o(t,e);function t(r,o){var i=e.call(this,r,[])||this,n="persisted-queue:v1:".concat(o,":items"),s="persisted-queue:v1:".concat(o,":seen"),a=[],l={};return TN(o,function(){try{a=QY(n),l=eq(s),KY(n),KY(s),i.queue=mo(mo([],a,!0),i.queue,!0),i.seen=xe(xe({},l),i.seen)}catch(c){console.error(c)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var c=mo(mo([],i.queue,!0),i.future,!0);try{TN(o,function(){Yve(n,c),qve(s,i.seen)})}catch(u){console.error(u)}}}),i}return t}(pf)});function t4(){return window[IN]}function sq(e){IN=e}function aq(e){window[IN]=e}var IN,r4=lt(()=>{IN="analytics"});var i4=we((b3t,Cy)=>{Cy.exports=DN(rSe);Cy.exports.find=Cy.exports;Cy.exports.replace=function(e,t,r,o){return DN(iSe).call(this,e,t,r,o),e};Cy.exports.del=function(e,t,r){return DN(oSe).call(this,e,t,null,r),e};function DN(e){return function(t,r,o,i){var n=i&&sSe(i.normalizer)?i.normalizer:nSe;r=n(r);for(var s,a=!1;!a;)l();function l(){for(s in t){var c=n(s);if(r.indexOf(c)===0){var u=r.substr(c.length);if(u.charAt(0)==="."||u.length===0){r=u.substr(1);var p=t[s];if(p==null){a=!0;return}if(!r.length){a=!0;return}t=p;return}}}s=void 0,a=!0}if(s)return t==null?t:e(t,s,o)}}function rSe(e,t){if(e.hasOwnProperty(t))return e[t]}function oSe(e,t){return e.hasOwnProperty(t)&&delete e[t],e}function iSe(e,t,r){return e.hasOwnProperty(t)&&(e[t]=r),e}function nSe(e){return e.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function sSe(e){return typeof e=="function"}});var yq=we(n4=>{"use strict";var aSe=n4&&n4.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n4,"__esModule",{value:!0});var o5=aSe(i4());function Py(e,t){return function(){var r=this.traits(),o=this.properties?this.properties():{};return o5.default(r,"address."+e)||o5.default(r,e)||(t?o5.default(r,"address."+t):null)||(t?o5.default(r,t):null)||o5.default(o,"address."+e)||o5.default(o,e)||(t?o5.default(o,"address."+t):null)||(t?o5.default(o,t):null)}}function lSe(e){e.zip=Py("postalCode","zip"),e.country=Py("country"),e.street=Py("street"),e.state=Py("state"),e.city=Py("city"),e.region=Py("region")}n4.default=lSe});var xq=we(mS=>{"use strict";Object.defineProperty(mS,"__esModule",{value:!0});mS.clone=void 0;function NN(e){if(typeof e!="object")return e;if(Object.prototype.toString.call(e)==="[object Object]"){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=NN(e[r]));return t}else return Array.isArray(e)?e.map(NN):e}mS.clone=NN});var bq=we(ON=>{"use strict";Object.defineProperty(ON,"__esModule",{value:!0});var cSe={Salesforce:!0};function uSe(e){return!cSe[e]}ON.default=uSe});var BN=we(LN=>{"use strict";var vq=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;LN.parse=function(e){var t=[1,5,6,7,11,12],r=vq.exec(e),o=0;if(!r)return new Date(e);for(var i=0,n;n=t[i];i++)r[n]=parseInt(r[n],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0,r[4]===" "?o=new Date().getTimezoneOffset():r[9]!=="Z"&&r[10]&&(o=r[11]*60+r[12],r[10]==="+"&&(o=0-o));var s=Date.UTC(r[1],r[2],r[3],r[5],r[6]+o,r[7],r[8]);return new Date(s)};LN.is=function(e,t){return typeof e!="string"||t&&/^\d{4}-\d{2}-\d{2}/.test(e)===!1?!1:vq.test(e)}});var Sq=we(FN=>{"use strict";var pSe=/\d{13}/;FN.is=function(e){return pSe.test(e)};FN.parse=function(e){return e=parseInt(e,10),new Date(e)}});var Cq=we(WN=>{"use strict";var dSe=/\d{10}/;WN.is=function(e){return dSe.test(e)};WN.parse=function(e){var t=parseInt(e,10)*1e3;return new Date(t)}});var fS=we((k3t,Tq)=>{"use strict";var Pq=BN(),wq=Sq(),_q=Cq(),mSe=Object.prototype,kq=mSe.toString;function fSe(e){return kq.call(e)==="[object Date]"}function hSe(e){return kq.call(e)==="[object Number]"}Tq.exports=function(t){return fSe(t)?t:hSe(t)?new Date(gSe(t)):Pq.is(t)?Pq.parse(t):wq.is(t)?wq.parse(t):_q.is(t)?_q.parse(t):new Date(t)};function gSe(e){return e<315576e5?e*1e3:e}});var Aq=we((T3t,Mq)=>{"use strict";var Eq=BN();Mq.exports=VN;function VN(e,t){return t===void 0&&(t=!0),e&&typeof e=="object"?ySe(e,t):Array.isArray(e)?xSe(e,t):Eq.is(e,t)?Eq.parse(e):e}function ySe(e,t){return Object.keys(e).forEach(function(r){e[r]=VN(e[r],t)}),e}function xSe(e,t){return e.forEach(function(r,o){e[o]=VN(r,t)}),e}});var i5=we(_y=>{"use strict";var s4=_y&&_y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_y,"__esModule",{value:!0});_y.Facade=void 0;var bSe=s4(yq()),wy=xq(),vSe=s4(bq()),SSe=s4(fS()),UN=s4(i4()),CSe=s4(Aq());function Vc(e,t){t=t||{},this.raw=wy.clone(e),"clone"in t||(t.clone=!0),t.clone&&(e=wy.clone(e)),"traverse"in t||(t.traverse=!0),"timestamp"in e?e.timestamp=SSe.default(e.timestamp):e.timestamp=new Date,t.traverse&&CSe.default(e),this.opts=t,this.obj=e}_y.Facade=Vc;var Ni=Vc.prototype;Ni.proxy=function(e){var t=e.split(".");e=t.shift();var r=this[e]||this.obj[e];return r&&(typeof r=="function"&&(r=r.call(this)||{}),t.length===0?this.opts.clone?RN(r):r:(r=UN.default(r,t.join(".")),this.opts.clone?RN(r):r))};Ni.field=function(e){var t=this.obj[e];return this.opts.clone?RN(t):t};Vc.proxy=function(e){return function(){return this.proxy(e)}};Vc.field=function(e){return function(){return this.field(e)}};Vc.multi=function(e){return function(){var t=this.proxy(e+"s");if(Array.isArray(t))return t;var r=this.proxy(e);return r&&(r=[this.opts.clone?wy.clone(r):r]),r||[]}};Vc.one=function(e){return function(){var t=this.proxy(e);if(t)return t;var r=this.proxy(e+"s");if(Array.isArray(r))return r[0]}};Ni.json=function(){var e=this.opts.clone?wy.clone(this.obj):this.obj;return this.type&&(e.type=this.type()),e};Ni.rawEvent=function(){return this.raw};Ni.options=function(e){var t=this.obj.options||this.obj.context||{},r=this.opts.clone?wy.clone(t):t;if(!e)return r;if(this.enabled(e)){var o=this.integrations(),i=o[e]||UN.default(o,e);return typeof i!="object"&&(i=UN.default(this.options(),e)),typeof i=="object"?i:{}}};Ni.context=Ni.options;Ni.enabled=function(e){var t=this.proxy("options.providers.all");typeof t!="boolean"&&(t=this.proxy("options.all")),typeof t!="boolean"&&(t=this.proxy("integrations.all")),typeof t!="boolean"&&(t=!0);var r=t&&vSe.default(e),o=this.integrations();if(o.providers&&o.providers.hasOwnProperty(e)&&(r=o.providers[e]),o.hasOwnProperty(e)){var i=o[e];typeof i=="boolean"?r=i:r=!0}return!!r};Ni.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};Ni.active=function(){var e=this.proxy("options.active");return e==null&&(e=!0),e};Ni.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};Ni.sessionId=Ni.anonymousId;Ni.groupId=Vc.proxy("options.groupId");Ni.traits=function(e){var t=this.proxy("options.traits")||{},r=this.userId();e=e||{},r&&(t.id=r);for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=this[o]==null?this.proxy("options.traits."+o):this[o]();if(i==null)continue;t[e[o]]=i,delete t[o]}return t};Ni.library=function(){var e=this.proxy("options.library");return e?typeof e=="string"?{name:e,version:null}:e:{name:"unknown",version:null}};Ni.device=function(){var e=this.proxy("context.device");(typeof e!="object"||e===null)&&(e={});var t=this.library().name;return e.type||(t.indexOf("ios")>-1&&(e.type="ios"),t.indexOf("android")>-1&&(e.type="android")),e};Ni.userAgent=Vc.proxy("context.userAgent");Ni.timezone=Vc.proxy("context.timezone");Ni.timestamp=Vc.field("timestamp");Ni.channel=Vc.field("channel");Ni.ip=Vc.proxy("context.ip");Ni.userId=Vc.field("userId");bSe.default(Ni);function RN(e){return wy.clone(e)}});var n5=we((M3t,jN)=>{typeof Object.create=="function"?jN.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:jN.exports=function(t,r){if(r){t.super_=r;var o=function(){};o.prototype=r.prototype,t.prototype=new o,t.prototype.constructor=t}}});var Dq=we(ky=>{"use strict";var PSe=ky&&ky.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ky,"__esModule",{value:!0});ky.Alias=void 0;var wSe=PSe(n5()),Iq=i5();function Dp(e,t){Iq.Facade.call(this,e,t)}ky.Alias=Dp;wSe.default(Dp,Iq.Facade);Dp.prototype.action=function(){return"alias"};Dp.prototype.type=Dp.prototype.action;Dp.prototype.previousId=function(){return this.field("previousId")||this.field("from")};Dp.prototype.from=Dp.prototype.previousId;Dp.prototype.userId=function(){return this.field("userId")||this.field("to")};Dp.prototype.to=Dp.prototype.userId});var a4=we(GN=>{"use strict";Object.defineProperty(GN,"__esModule",{value:!0});var _Se=/.+\@.+\..+/;function kSe(e){return _Se.test(e)}GN.default=kSe});var Nq=we(Ty=>{"use strict";var HN=Ty&&Ty.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ty,"__esModule",{value:!0});Ty.Group=void 0;var TSe=HN(n5()),ESe=HN(a4()),MSe=HN(fS()),Ey=i5();function zN(e,t){Ey.Facade.call(this,e,t)}Ty.Group=zN;TSe.default(zN,Ey.Facade);var Np=zN.prototype;Np.action=function(){return"group"};Np.type=Np.action;Np.groupId=Ey.Facade.field("groupId");Np.created=function(){var e=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(e)return MSe.default(e)};Np.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.groupId();if(ESe.default(t))return t};Np.traits=function(e){var t=this.properties(),r=this.groupId();e=e||{},r&&(t.id=r);for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=this[o]==null?this.proxy("traits."+o):this[o]();if(i==null)continue;t[e[o]]=i,delete t[o]}return t};Np.name=Ey.Facade.proxy("traits.name");Np.industry=Ey.Facade.proxy("traits.industry");Np.employees=Ey.Facade.proxy("traits.employees");Np.properties=function(){return this.field("traits")||this.field("properties")||{}}});var YN=we(Ay=>{"use strict";var hS=Ay&&Ay.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ay,"__esModule",{value:!0});Ay.Identify=void 0;var Bd=i5(),My=hS(i4()),ASe=hS(n5()),ISe=hS(a4()),Oq=hS(fS()),L1=function(e){return e.trim()};function XN(e,t){Bd.Facade.call(this,e,t)}Ay.Identify=XN;ASe.default(XN,Bd.Facade);var Oi=XN.prototype;Oi.action=function(){return"identify"};Oi.type=Oi.action;Oi.traits=function(e){var t=this.field("traits")||{},r=this.userId();e=e||{},r&&(t.id=r);for(var o in e){var i=this[o]==null?this.proxy("traits."+o):this[o]();i!=null&&(t[e[o]]=i,o!==e[o]&&delete t[o])}return t};Oi.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.userId();if(ISe.default(t))return t};Oi.created=function(){var e=this.proxy("traits.created")||this.proxy("traits.createdAt");if(e)return Oq.default(e)};Oi.companyCreated=function(){var e=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(e)return Oq.default(e)};Oi.companyName=function(){return this.proxy("traits.company.name")};Oi.name=function(){var e=this.proxy("traits.name");if(typeof e=="string")return L1(e);var t=this.firstName(),r=this.lastName();if(t&&r)return L1(t+" "+r)};Oi.firstName=function(){var e=this.proxy("traits.firstName");if(typeof e=="string")return L1(e);var t=this.proxy("traits.name");if(typeof t=="string")return L1(t).split(" ")[0]};Oi.lastName=function(){var e=this.proxy("traits.lastName");if(typeof e=="string")return L1(e);var t=this.proxy("traits.name");if(typeof t=="string"){var r=L1(t).indexOf(" ");if(r!==-1)return L1(t.substr(r+1))}};Oi.uid=function(){return this.userId()||this.username()||this.email()};Oi.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};Oi.age=function(){var e=this.birthday(),t=My.default(this.traits(),"age");if(t!=null)return t;if(e instanceof Date){var r=new Date;return r.getFullYear()-e.getFullYear()}};Oi.avatar=function(){var e=this.traits();return My.default(e,"avatar")||My.default(e,"photoUrl")||My.default(e,"avatarUrl")};Oi.position=function(){var e=this.traits();return My.default(e,"position")||My.default(e,"jobTitle")};Oi.username=Bd.Facade.proxy("traits.username");Oi.website=Bd.Facade.one("traits.website");Oi.websites=Bd.Facade.multi("traits.website");Oi.phone=Bd.Facade.one("traits.phone");Oi.phones=Bd.Facade.multi("traits.phone");Oi.address=Bd.Facade.proxy("traits.address");Oi.gender=Bd.Facade.proxy("traits.gender");Oi.birthday=Bd.Facade.proxy("traits.birthday")});var gS=we(Iy=>{"use strict";var qN=Iy&&Iy.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Iy,"__esModule",{value:!0});Iy.Track=void 0;var DSe=qN(n5()),Ys=i5(),NSe=YN(),OSe=qN(a4()),Lq=qN(i4());function $N(e,t){Ys.Facade.call(this,e,t)}Iy.Track=$N;DSe.default($N,Ys.Facade);var er=$N.prototype;er.action=function(){return"track"};er.type=er.action;er.event=Ys.Facade.field("event");er.value=Ys.Facade.proxy("properties.value");er.category=Ys.Facade.proxy("properties.category");er.id=Ys.Facade.proxy("properties.id");er.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")};er.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")};er.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")};er.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")};er.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")};er.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")};er.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")};er.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")};er.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")};er.sku=Ys.Facade.proxy("properties.sku");er.tax=Ys.Facade.proxy("properties.tax");er.name=Ys.Facade.proxy("properties.name");er.price=Ys.Facade.proxy("properties.price");er.total=Ys.Facade.proxy("properties.total");er.repeat=Ys.Facade.proxy("properties.repeat");er.coupon=Ys.Facade.proxy("properties.coupon");er.shipping=Ys.Facade.proxy("properties.shipping");er.discount=Ys.Facade.proxy("properties.discount");er.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")};er.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")};er.description=Ys.Facade.proxy("properties.description");er.plan=Ys.Facade.proxy("properties.plan");er.subtotal=function(){var e=Lq.default(this.properties(),"subtotal"),t=this.total()||this.revenue();if(e)return e;if(!t)return 0;if(this.total()){var r=this.tax();r&&(t-=r),r=this.shipping(),r&&(t-=r),r=this.discount(),r&&(t+=r)}return t};er.products=function(){var e=this.properties(),t=Lq.default(e,"products");return Array.isArray(t)?t.filter(function(r){return r!==null}):[]};er.quantity=function(){var e=this.obj.properties||{};return e.quantity||1};er.currency=function(){var e=this.obj.properties||{};return e.currency||"USD"};er.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};er.query=Ys.Facade.proxy("options.query");er.properties=function(e){var t=this.field("properties")||{};e=e||{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=this[r]==null?this.proxy("properties."+r):this[r]();if(o==null)continue;t[e[r]]=o,delete t[r]}return t};er.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};er.email=function(){var e=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(e)return e;var t=this.userId();if(OSe.default(t))return t};er.revenue=function(){var e=this.proxy("properties.revenue"),t=this.event(),r=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!e&&t&&t.match(r)&&(e=this.proxy("properties.total")),LSe(e)};er.cents=function(){var e=this.revenue();return typeof e!="number"?this.value()||0:e*100};er.identify=function(){var e=this.json();return e.traits=this.traits(),new NSe.Identify(e,this.opts)};function LSe(e){if(e){if(typeof e=="number")return e;if(typeof e=="string"&&(e=e.replace(/\$/g,""),e=parseFloat(e),!isNaN(e)))return e}}});var JN=we(Dy=>{"use strict";var Bq=Dy&&Dy.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dy,"__esModule",{value:!0});Dy.Page=void 0;var BSe=Bq(n5()),B1=i5(),FSe=gS(),WSe=Bq(a4());function ZN(e,t){B1.Facade.call(this,e,t)}Dy.Page=ZN;BSe.default(ZN,B1.Facade);var $l=ZN.prototype;$l.action=function(){return"page"};$l.type=$l.action;$l.category=B1.Facade.field("category");$l.name=B1.Facade.field("name");$l.title=B1.Facade.proxy("properties.title");$l.path=B1.Facade.proxy("properties.path");$l.url=B1.Facade.proxy("properties.url");$l.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};$l.properties=function(e){var t=this.field("properties")||{},r=this.category(),o=this.name();e=e||{},r&&(t.category=r),o&&(t.name=o);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=this[i]==null?this.proxy("properties."+i):this[i]();if(n==null)continue;t[e[i]]=n,i!==e[i]&&delete t[i]}return t};$l.email=function(){var e=this.proxy("context.traits.email")||this.proxy("properties.email");if(e)return e;var t=this.userId();if(WSe.default(t))return t};$l.fullName=function(){var e=this.category(),t=this.name();return t&&e?e+" "+t:t};$l.event=function(e){return e?"Viewed "+e+" Page":"Loaded a Page"};$l.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new FSe.Track(t,this.opts)}});var Wq=we(Ny=>{"use strict";var VSe=Ny&&Ny.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ny,"__esModule",{value:!0});Ny.Screen=void 0;var USe=VSe(n5()),Fq=JN(),RSe=gS();function F1(e,t){Fq.Page.call(this,e,t)}Ny.Screen=F1;USe.default(F1,Fq.Page);F1.prototype.action=function(){return"screen"};F1.prototype.type=F1.prototype.action;F1.prototype.event=function(e){return e?"Viewed "+e+" Screen":"Loaded a Screen"};F1.prototype.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new RSe.Track(t,this.opts)}});var Uq=we(Oy=>{"use strict";var jSe=Oy&&Oy.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oy,"__esModule",{value:!0});Oy.Delete=void 0;var GSe=jSe(n5()),Vq=i5();function KN(e,t){Vq.Facade.call(this,e,t)}Oy.Delete=KN;GSe.default(KN,Vq.Facade);KN.prototype.type=function(){return"delete"}});var QN=we(Ln=>{"use strict";var yS=Ln&&Ln.__assign||function(){return yS=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},yS.apply(this,arguments)};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.Delete=Ln.Screen=Ln.Page=Ln.Track=Ln.Identify=Ln.Group=Ln.Alias=Ln.Facade=void 0;var Rq=i5();Object.defineProperty(Ln,"Facade",{enumerable:!0,get:function(){return Rq.Facade}});var jq=Dq();Object.defineProperty(Ln,"Alias",{enumerable:!0,get:function(){return jq.Alias}});var Gq=Nq();Object.defineProperty(Ln,"Group",{enumerable:!0,get:function(){return Gq.Group}});var Hq=YN();Object.defineProperty(Ln,"Identify",{enumerable:!0,get:function(){return Hq.Identify}});var zq=gS();Object.defineProperty(Ln,"Track",{enumerable:!0,get:function(){return zq.Track}});var Xq=JN();Object.defineProperty(Ln,"Page",{enumerable:!0,get:function(){return Xq.Page}});var Yq=Wq();Object.defineProperty(Ln,"Screen",{enumerable:!0,get:function(){return Yq.Screen}});var qq=Uq();Object.defineProperty(Ln,"Delete",{enumerable:!0,get:function(){return qq.Delete}});Ln.default=yS(yS({},Rq.Facade),{Alias:jq.Alias,Group:Gq.Group,Identify:Hq.Identify,Track:zq.Track,Page:Xq.Page,Screen:Yq.Screen,Delete:qq.Delete})});function Ly(e,t){var r=new Zl.Facade(e,t);return e.type==="track"&&(r=new Zl.Track(e,t)),e.type==="identify"&&(r=new Zl.Identify(e,t)),e.type==="page"&&(r=new Zl.Page(e,t)),e.type==="alias"&&(r=new Zl.Alias(e,t)),e.type==="group"&&(r=new Zl.Group(e,t)),e.type==="screen"&&(r=new Zl.Screen(e,t)),Object.defineProperty(r,"obj",{value:e,writable:!0}),r}var Zl,eO=lt(()=>{Zl=M(QN())});var vS,oO=lt(()=>{or();vS=function(e,t){return Le(void 0,void 0,void 0,function(){var r;return Be(this,function(o){return r=function(i){return Le(void 0,void 0,void 0,function(){var n;return Be(this,function(s){switch(s.label){case 0:return e(i)?(n=r,[4,t()]):[3,2];case 1:return[2,n.apply(void 0,[s.sent()])];case 2:return[2]}})})},[2,r(void 0)]})})}});var e$=lt(()=>{Fc()});var l4={};cf(l4,{form:()=>eCe,link:()=>QSe});function JSe(e){var t=e;return!!(t.ctrlKey||t.shiftKey||t.metaKey||t.button&&t.button==1)}function KSe(e,t){return!!(e.target==="_blank"&&t)}function QSe(e,t,r,o){var i=this,n=[];return e?(e instanceof Element?n=[e]:"toArray"in e?n=e.toArray():n=e,n.forEach(function(s){s.addEventListener("click",function(a){var l,c,u=t instanceof Function?t(s):t,p=r instanceof Function?r(s):r,m=s.getAttribute("href")||s.getAttributeNS("http://www.w3.org/1999/xlink","href")||s.getAttribute("xlink:href")||((l=s.getElementsByTagName("a")[0])===null||l===void 0?void 0:l.getAttribute("href")),h=Yx(i.track(u,p,o??{}),(c=i.settings.timeout)!==null&&c!==void 0?c:500);!KSe(s,m)&&!JSe(a)&&m&&(a.preventDefault?a.preventDefault():a.returnValue=!1,h.catch(console.error).then(function(){window.location.href=m}).catch(console.error))},!1)}),this):this}function eCe(e,t,r,o){var i=this;if(!e)return this;e instanceof HTMLFormElement&&(e=[e]);var n=e;return n.forEach(function(s){if(!(s instanceof Element))throw new TypeError("Must pass HTMLElement to trackForm/trackSubmit.");var a=function(c){var u;c.preventDefault?c.preventDefault():c.returnValue=!1;var p=t instanceof Function?t(s):t,m=r instanceof Function?r(s):r,h=Yx(i.track(p,m,o??{}),(u=i.settings.timeout)!==null&&u!==void 0?u:500);h.catch(console.error).then(function(){s.submit()}).catch(console.error)},l=window.jQuery||window.Zepto;l?l(s).submit(a):s.addEventListener("submit",a,!1)}),this}var c4=lt(()=>{e$()});var t$={};cf(t$,{applyDestinationMiddleware:()=>u4,sourceMiddlewarePlugin:()=>tCe});function u4(e,t,r){return Le(this,void 0,void 0,function(){function o(c,u){return Le(this,void 0,void 0,function(){var p,m,h;return Be(this,function(f){switch(f.label){case 0:return p=!1,m=null,[4,u({payload:Ly(c,{clone:!0,traverse:!1}),integration:e,next:function(x){p=!0,x===null&&(m=null),x&&(m=x.obj)}})];case 1:return f.sent(),!p&&m!==null&&(m=m,m.integrations=xe(xe({},c.integrations),(h={},h[e]=!1,h))),[2,m]}})})}var i,n,s,a,l;return Be(this,function(c){switch(c.label){case 0:i=Ly(t,{clone:!0,traverse:!1}).rawEvent(),n=0,s=r,c.label=1;case 1:return n<s.length?(a=s[n],[4,o(i,a)]):[3,4];case 2:if(l=c.sent(),l===null)return[2,null];i=l,c.label=3;case 3:return n++,[3,1];case 4:return[2,i]}})})}function tCe(e,t){function r(o){return Le(this,void 0,void 0,function(){var i;return Be(this,function(n){switch(n.label){case 0:return i=!1,[4,e({payload:Ly(o.event,{clone:!0,traverse:!1}),integrations:t??{},next:function(s){i=!0,s&&(o.event=s.obj)}})];case 1:if(n.sent(),!i)throw new ql({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,o]}})})}return{name:"Source Middleware ".concat(e.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(o){return Promise.resolve(o)},track:r,page:r,screen:r,identify:r,alias:r,group:r}}var SS=lt(()=>{or();Nd();eO()});function iO(e,t){return Object.keys(t).reduce(function(r,o){if(o.startsWith(e)){var i=o.substr(e.length);r[i]=t[o]}return r},{})}var r$=lt(()=>{});function CS(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return e}}var nO=lt(()=>{});var o$={};cf(o$,{queryString:()=>rCe});function rCe(e,t){var r=document.createElement("a");r.href=t;var o=r.search.slice(1),i=o.split("&").reduce(function(w,_){var E=_.split("="),T=E[0],A=E[1];return w[T]=CS(A),w},{}),n=[],s=i.ajs_uid,a=i.ajs_event,l=i.ajs_aid,c=zs(e.options.useQueryString)?e.options.useQueryString:{},u=c.aid,p=u===void 0?/.+/:u,m=c.uid,h=m===void 0?/.+/:m;if(l){var f=Array.isArray(i.ajs_aid)?i.ajs_aid[0]:i.ajs_aid;p.test(f)&&e.setAnonymousId(f)}if(s){var x=Array.isArray(i.ajs_uid)?i.ajs_uid[0]:i.ajs_uid;if(h.test(x)){var v=iO("ajs_trait_",i);n.push(e.identify(x,v))}}if(a){var b=Array.isArray(i.ajs_event)?i.ajs_event[0]:i.ajs_event,S=iO("ajs_prop_",i);n.push(e.track(b,S))}return Promise.all(n)}var i$=lt(()=>{r$();nO();Fc()});var nCe,sCe,PS,aCe,n$,p4,d4,m4=lt(()=>{r4();nCe=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,sCe=function(){var e,t=Array.prototype.slice.call(document.querySelectorAll("script"));return t.forEach(function(r){var o,i=(o=r.getAttribute("src"))!==null&&o!==void 0?o:"",n=nCe.exec(i);n&&n[1]&&(e=n[1])}),e},aCe=function(){var e,t=PS??((e=t4())===null||e===void 0?void 0:e._cdn);return t},n$=function(e){var t=t4();t&&(t._cdn=e),PS=e},p4=function(){var e=aCe();if(e)return e;var t=sCe();return t||"https://cdn.segment.com"},d4=function(){var e=p4();return"".concat(e,"/next-integrations")}});function wS(e,t){var r,o=Object.entries((r=t.integrations)!==null&&r!==void 0?r:{}).reduce(function(i,n){var s,a,l=n[0],c=n[1];return typeof c=="object"?xe(xe({},i),(s={},s[l]=c,s)):xe(xe({},i),(a={},a[l]={},a))},{});return Object.entries(e.integrations).reduce(function(i,n){var s,a=n[0],l=n[1];return xe(xe({},i),(s={},s[a]=xe(xe({},l),o[a]),s))},{})}var pO=lt(()=>{or()});function l$(e){var t=Array.prototype.slice.call(window.document.querySelectorAll("script"));return t.find(function(r){return r.src===e})}function ff(e,t){var r=l$(e);if(r!==void 0){var o=r?.getAttribute("status");if(o==="loaded")return Promise.resolve(r);if(o==="loading")return new Promise(function(i,n){r.addEventListener("load",function(){return i(r)}),r.addEventListener("error",function(s){return n(s)})})}return new Promise(function(i,n){var s,a=window.document.createElement("script");a.type="text/javascript",a.src=e,a.async=!0,a.setAttribute("status","loading");for(var l=0,c=Object.entries(t??{});l<c.length;l++){var u=c[l],p=u[0],m=u[1];a.setAttribute(p,m)}a.onload=function(){a.onerror=a.onload=null,a.setAttribute("status","loaded"),i(a)},a.onerror=function(){a.onerror=a.onload=null,a.setAttribute("status","error"),n(new Error("Failed to load ".concat(e)))};var h=window.document.querySelector("script");h?(s=h.parentElement)===null||s===void 0||s.insertBefore(a,h):window.document.head.appendChild(a)})}function c$(e){var t=l$(e);return t!==void 0&&t.remove(),Promise.resolve()}var _S=lt(()=>{});function Wd(e,t){var r=t.methodName,o=t.integrationName,i=t.type,n=t.didError,s=n===void 0?!1:n;e.stats.increment("analytics_js.integration.invoke".concat(s?".error":""),1,["method:".concat(r),"integration_name:".concat(o),"type:".concat(i)])}var dO=lt(()=>{});var f$=we((kS,fO)=>{"use strict";(function(e,t){if(typeof kS=="object"&&typeof fO=="object")fO.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r=t();for(var o in r)(typeof kS=="object"?kS:e)[o]=r[o]}})(self,function(){return function(){var e={2870:function(o,i,n){"use strict";var s=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.Store=i.matches=i.transform=void 0;var a=n(4303);Object.defineProperty(i,"transform",{enumerable:!0,get:function(){return s(a).default}});var l=n(2370);Object.defineProperty(i,"matches",{enumerable:!0,get:function(){return s(l).default}});var c=n(1444);Object.defineProperty(i,"Store",{enumerable:!0,get:function(){return s(c).default}})},2370:function(o,i,n){"use strict";var s=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0});var a=s(n(7843));function l(f,x){if(!Array.isArray(f))return c(f,x)===!0;var v,b,S,w,_=f[0];switch(_){case"!":return!l(f[1],x);case"or":for(var E=1;E<f.length;E++)if(l(f[E],x))return!0;return!1;case"and":for(E=1;E<f.length;E++)if(!l(f[E],x))return!1;return!0;case"=":case"!=":return function(A,O,L,R){switch(u(A)&&(A=l(A,R)),u(O)&&(O=l(O,R)),typeof A=="object"&&typeof O=="object"&&(A=JSON.stringify(A),O=JSON.stringify(O)),L){case"=":return A===O;case"!=":return A!==O;default:throw new Error("Invalid operator in compareItems: ".concat(L))}}(c(f[1],x),c(f[2],x),_,x);case"<=":case"<":case">":case">=":return function(A,O,L,R){if(u(A)&&(A=l(A,R)),u(O)&&(O=l(O,R)),typeof A!="number"||typeof O!="number")return!1;switch(L){case"<=":return A<=O;case">=":return A>=O;case"<":return A<O;case">":return A>O;default:throw new Error("Invalid operator in compareNumbers: ".concat(L))}}(c(f[1],x),c(f[2],x),_,x);case"in":return function(A,O,L){return O.find(function(R){return c(R,L)===A})!==void 0}(c(f[1],x),c(f[2],x),x);case"contains":return S=c(f[1],x),w=c(f[2],x),typeof S=="string"&&typeof w=="string"&&S.indexOf(w)!==-1;case"match":return v=c(f[1],x),b=c(f[2],x),typeof v=="string"&&typeof b=="string"&&function(A,O){var L,R;e:for(;A.length>0;){var z,I;if(z=(L=p(A)).star,I=L.chunk,A=L.pattern,z&&I==="")return!0;var F=m(I,O),B=F.t,j=F.ok,X=F.err;if(X)return!1;if(!j||!(B.length===0||A.length>0)){if(z)for(var te=0;te<O.length;te++){if(B=(R=m(I,O.slice(te+1))).t,j=R.ok,X=R.err,j){if(A.length===0&&B.length>0)continue;O=B;continue e}if(X)return!1}return!1}O=B}return O.length===0}(b,v);case"lowercase":var T=c(f[1],x);return typeof T!="string"?null:T.toLowerCase();case"typeof":return typeof c(f[1],x);case"length":return function(A){return A===null?0:Array.isArray(A)||typeof A=="string"?A.length:NaN}(c(f[1],x));default:throw new Error("FQL IR could not evaluate for token: ".concat(_))}}function c(f,x){return Array.isArray(f)?f:typeof f=="object"?f.value:(0,a.default)(x,f)}function u(f){return!!Array.isArray(f)&&((f[0]==="lowercase"||f[0]==="length"||f[0]==="typeof")&&f.length===2||(f[0]==="contains"||f[0]==="match")&&f.length===3)}function p(f){for(var x={star:!1,chunk:"",pattern:""};f.length>0&&f[0]==="*";)f=f.slice(1),x.star=!0;var v,b=!1;e:for(v=0;v<f.length;v++)switch(f[v]){case"\\":v+1<f.length&&v++;break;case"[":b=!0;break;case"]":b=!1;break;case"*":if(!b)break e}return x.chunk=f.slice(0,v),x.pattern=f.slice(v),x}function m(f,x){for(var v,b,S={t:"",ok:!1,err:!1};f.length>0;){if(x.length===0)return S;switch(f[0]){case"[":var w=x[0];x=x.slice(1);var _=!0;(f=f.slice(1)).length>0&&f[0]==="^"&&(_=!1,f=f.slice(1));for(var E=!1,T=0;;){if(f.length>0&&f[0]==="]"&&T>0){f=f.slice(1);break}var A,O="";if(A=(v=h(f)).char,f=v.newChunk,v.err||(O=A,f[0]==="-"&&(O=(b=h(f.slice(1))).char,f=b.newChunk,b.err)))return S;A<=w&&w<=O&&(E=!0),T++}if(E!==_)return S;break;case"?":x=x.slice(1),f=f.slice(1);break;case"\\":if((f=f.slice(1)).length===0)return S.err=!0,S;default:if(f[0]!==x[0])return S;x=x.slice(1),f=f.slice(1)}}return S.t=x,S.ok=!0,S.err=!1,S}function h(f){var x={char:"",newChunk:"",err:!1};return f.length===0||f[0]==="-"||f[0]==="]"||f[0]==="\\"&&(f=f.slice(1)).length===0?(x.err=!0,x):(x.char=f[0],x.newChunk=f.slice(1),x.newChunk.length===0&&(x.err=!0),x)}i.default=function(f,x){if(!x)throw new Error("No matcher supplied!");switch(x.type){case"all":return!0;case"fql":return function(v,b){if(!v)return!1;try{v=JSON.parse(v)}catch(w){throw new Error('Failed to JSON.parse FQL intermediate representation "'.concat(v,'": ').concat(w))}var S=l(v,b);return typeof S=="boolean"&&S}(x.ir,f);default:throw new Error("Matcher of type ".concat(x.type," unsupported."))}}},1444:function(o,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function s(a){this.rules=[],this.rules=a||[]}return s.prototype.getRulesByDestinationName=function(a){for(var l=[],c=0,u=this.rules;c<u.length;c++){var p=u[c];p.destinationName!==a&&p.destinationName!==void 0||l.push(p)}return l},s}();i.default=n},4303:function(o,i,n){"use strict";var s=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(i,"__esModule",{value:!0});var a=s(n(374)),l=s(n(7843)),c=s(n(5500)),u=n(9014),p=n(4966);function m(S,w){f(S,w.drop,function(_,E){E.forEach(function(T){return delete _[T]})})}function h(S,w){f(S,w.allow,function(_,E){Object.keys(_).forEach(function(T){E.includes(T)||delete _[T]})})}function f(S,w,_){Object.entries(w).forEach(function(E){var T=E[0],A=E[1],O=function(R){typeof R=="object"&&R!==null&&_(R,A)},L=T===""?S:(0,l.default)(S,T);Array.isArray(L)?L.forEach(O):O(L)})}function x(S,w){var _=JSON.parse(JSON.stringify(S));for(var E in w.map)if(w.map.hasOwnProperty(E)){var T=w.map[E],A=E.split("."),O=void 0;if(A.length>1?(A.pop(),O=(0,l.default)(_,A.join("."))):O=S,typeof O=="object"){if(T.copy){var L=(0,l.default)(_,T.copy);L!==void 0&&(0,u.dset)(S,E,L)}else if(T.move){var R=(0,l.default)(_,T.move);R!==void 0&&(0,u.dset)(S,E,R),(0,p.unset)(S,T.move)}else T.hasOwnProperty("set")&&(0,u.dset)(S,E,T.set);if(T.to_string){var z=(0,l.default)(S,E);if(typeof z=="string"||typeof z=="object"&&z!==null)continue;z!==void 0?(0,u.dset)(S,E,JSON.stringify(z)):(0,u.dset)(S,E,"undefined")}}}}function v(S,w){return!(w.sample.percent<=0)&&(w.sample.percent>=1||(w.sample.path?function(E,T){var A=(0,l.default)(E,T.sample.path),O=(0,a.default)(JSON.stringify(A)),L=-64,R=[];b(O.slice(0,8),R);for(var z=0,I=0;I<64&&R[I]!==1;I++)z++;if(z!==0){var F=[];b(O.slice(9,16),F),L-=z,R.splice(0,z),F.splice(64-z),R=R.concat(F)}return R[63]=R[63]===0?1:0,(0,c.default)(parseInt(R.join(""),2),L)<T.sample.percent}(S,w):(_=w.sample.percent,Math.random()<=_)));var _}function b(S,w){for(var _=0;_<8;_++)for(var E=S[_],T=128;T>=1;T/=2)E-T>=0?(E-=T,w.push(1)):w.push(0)}i.default=function(S,w){for(var _=S,E=0,T=w;E<T.length;E++){var A=T[E];switch(A.type){case"drop":return null;case"drop_properties":m(_,A.config);break;case"allow_properties":h(_,A.config);break;case"sample_event":if(v(_,A.config))break;return null;case"map_properties":x(_,A.config);break;case"hash_properties":break;default:throw new Error('Transformer of type "'.concat(A.type,'" is unsupported.'))}}return _}},4966:function(o,i,n){"use strict";var s=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.unset=void 0;var a=s(n(7843));i.unset=function(l,c){if((0,a.default)(l,c)){for(var u=c.split("."),p=u.pop();u.length&&u[u.length-1].slice(-1)==="\\";)p=u.pop().slice(0,-1)+"."+p;for(;u.length;)l=l[c=u.shift()];return delete l[p]}return!0}},9014:function(o,i){i.dset=function(n,s,a){s.split&&(s=s.split("."));for(var l,c,u=0,p=s.length,m=n;u<p&&(c=s[u++])!=="__proto__"&&c!=="constructor"&&c!=="prototype";)m=m[c]=u===p?a:typeof(l=m[c])==typeof s?l:0*s[u]!=0||~(""+s[u]).indexOf(".")?{}:[]}},3304:function(o){"use strict";var i=typeof Float64Array=="function"?Float64Array:void 0;o.exports=i},7382:function(o,i,n){"use strict";var s,a=n(5569),l=n(3304),c=n(8482);s=a()?l:c,o.exports=s},8482:function(o){"use strict";o.exports=function(){throw new Error("not implemented")}},6322:function(o,i,n){"use strict";var s,a=n(2508),l=n(5679),c=n(882);s=a()?l:c,o.exports=s},882:function(o){"use strict";o.exports=function(){throw new Error("not implemented")}},5679:function(o){"use strict";var i=typeof Uint16Array=="function"?Uint16Array:void 0;o.exports=i},4773:function(o,i,n){"use strict";var s,a=n(9773),l=n(3004),c=n(3078);s=a()?l:c,o.exports=s},3078:function(o){"use strict";o.exports=function(){throw new Error("not implemented")}},3004:function(o){"use strict";var i=typeof Uint32Array=="function"?Uint32Array:void 0;o.exports=i},7980:function(o,i,n){"use strict";var s,a=n(8114),l=n(6737),c=n(3357);s=a()?l:c,o.exports=s},3357:function(o){"use strict";o.exports=function(){throw new Error("not implemented")}},6737:function(o){"use strict";var i=typeof Uint8Array=="function"?Uint8Array:void 0;o.exports=i},2684:function(o){"use strict";var i=typeof Float64Array=="function"?Float64Array:null;o.exports=i},5569:function(o,i,n){"use strict";var s=n(3876);o.exports=s},3876:function(o,i,n){"use strict";var s=n(1448),a=n(2684);o.exports=function(){var l,c;if(typeof a!="function")return!1;try{c=new a([1,3.14,-3.14,NaN]),l=s(c)&&c[0]===1&&c[1]===3.14&&c[2]===-3.14&&c[3]!=c[3]}catch{l=!1}return l}},9048:function(o,i,n){"use strict";var s=n(3763);o.exports=s},3763:function(o){"use strict";var i=Object.prototype.hasOwnProperty;o.exports=function(n,s){return n!=null&&i.call(n,s)}},7009:function(o,i,n){"use strict";var s=n(6784);o.exports=s},6784:function(o){"use strict";o.exports=function(){return typeof Symbol=="function"&&typeof Symbol("foo")=="symbol"}},3123:function(o,i,n){"use strict";var s=n(8481);o.exports=s},8481:function(o,i,n){"use strict";var s=n(7009)();o.exports=function(){return s&&typeof Symbol.toStringTag=="symbol"}},2508:function(o,i,n){"use strict";var s=n(3403);o.exports=s},3403:function(o,i,n){"use strict";var s=n(768),a=n(9668),l=n(187);o.exports=function(){var c,u;if(typeof l!="function")return!1;try{u=new l(u=[1,3.14,-3.14,a+1,a+2]),c=s(u)&&u[0]===1&&u[1]===3&&u[2]===a-2&&u[3]===0&&u[4]===1}catch{c=!1}return c}},187:function(o){"use strict";var i=typeof Uint16Array=="function"?Uint16Array:null;o.exports=i},9773:function(o,i,n){"use strict";var s=n(2822);o.exports=s},2822:function(o,i,n){"use strict";var s=n(2744),a=n(3899),l=n(746);o.exports=function(){var c,u;if(typeof l!="function")return!1;try{u=new l(u=[1,3.14,-3.14,a+1,a+2]),c=s(u)&&u[0]===1&&u[1]===3&&u[2]===a-2&&u[3]===0&&u[4]===1}catch{c=!1}return c}},746:function(o){"use strict";var i=typeof Uint32Array=="function"?Uint32Array:null;o.exports=i},8114:function(o,i,n){"use strict";var s=n(8066);o.exports=s},8066:function(o,i,n){"use strict";var s=n(8279),a=n(3443),l=n(2731);o.exports=function(){var c,u;if(typeof l!="function")return!1;try{u=new l(u=[1,3.14,-3.14,a+1,a+2]),c=s(u)&&u[0]===1&&u[1]===3&&u[2]===a-2&&u[3]===0&&u[4]===1}catch{c=!1}return c}},2731:function(o){"use strict";var i=typeof Uint8Array=="function"?Uint8Array:null;o.exports=i},1448:function(o,i,n){"use strict";var s=n(1453);o.exports=s},1453:function(o,i,n){"use strict";var s=n(6208),a=typeof Float64Array=="function";o.exports=function(l){return a&&l instanceof Float64Array||s(l)==="[object Float64Array]"}},9331:function(o,i,n){"use strict";var s=n(7980),a={uint16:n(6322),uint8:s};o.exports=a},5902:function(o,i,n){"use strict";var s=n(4106);o.exports=s},4106:function(o,i,n){"use strict";var s,a,l=n(9331);(a=new l.uint16(1))[0]=4660,s=new l.uint8(a.buffer)[0]===52,o.exports=s},768:function(o,i,n){"use strict";var s=n(3823);o.exports=s},3823:function(o,i,n){"use strict";var s=n(6208),a=typeof Uint16Array=="function";o.exports=function(l){return a&&l instanceof Uint16Array||s(l)==="[object Uint16Array]"}},2744:function(o,i,n){"use strict";var s=n(2326);o.exports=s},2326:function(o,i,n){"use strict";var s=n(6208),a=typeof Uint32Array=="function";o.exports=function(l){return a&&l instanceof Uint32Array||s(l)==="[object Uint32Array]"}},8279:function(o,i,n){"use strict";var s=n(208);o.exports=s},208:function(o,i,n){"use strict";var s=n(6208),a=typeof Uint8Array=="function";o.exports=function(l){return a&&l instanceof Uint8Array||s(l)==="[object Uint8Array]"}},6315:function(o){"use strict";o.exports=1023},1686:function(o){"use strict";o.exports=2147483647},3105:function(o){"use strict";o.exports=2146435072},3449:function(o){"use strict";o.exports=2147483648},6988:function(o){"use strict";o.exports=-1023},9777:function(o){"use strict";o.exports=1023},3690:function(o){"use strict";o.exports=-1074},2918:function(o,i,n){"use strict";var s=n(4772).NEGATIVE_INFINITY;o.exports=s},4165:function(o){"use strict";var i=Number.POSITIVE_INFINITY;o.exports=i},6488:function(o){"use strict";o.exports=22250738585072014e-324},9668:function(o){"use strict";o.exports=65535},3899:function(o){"use strict";o.exports=4294967295},3443:function(o){"use strict";o.exports=255},7011:function(o,i,n){"use strict";var s=n(812);o.exports=s},812:function(o,i,n){"use strict";var s=n(4165),a=n(2918);o.exports=function(l){return l===s||l===a}},1883:function(o,i,n){"use strict";var s=n(1797);o.exports=s},1797:function(o){"use strict";o.exports=function(i){return i!=i}},513:function(o,i,n){"use strict";var s=n(5760);o.exports=s},5760:function(o){"use strict";o.exports=function(i){return Math.abs(i)}},5848:function(o,i,n){"use strict";var s=n(677);o.exports=s},677:function(o,i,n){"use strict";var s=n(3449),a=n(1686),l=n(7838),c=n(1921),u=n(2490),p=[0,0];o.exports=function(m,h){var f,x;return l.assign(m,p,1,0),f=p[0],f&=a,x=c(h),u(f|=x&=s,p[1])}},5500:function(o,i,n){"use strict";var s=n(8397);o.exports=s},8397:function(o,i,n){"use strict";var s=n(4165),a=n(2918),l=n(6315),c=n(9777),u=n(6988),p=n(3690),m=n(1883),h=n(7011),f=n(5848),x=n(4948),v=n(8478),b=n(7838),S=n(2490),w=[0,0],_=[0,0];o.exports=function(E,T){var A,O;return E===0||m(E)||h(E)?E:(x(w,E),T+=w[1],(T+=v(E=w[0]))<p?f(0,E):T>c?E<0?a:s:(T<=u?(T+=52,O=2220446049250313e-31):O=1,b(_,E),A=_[0],A&=2148532223,O*S(A|=T+l<<20,_[1])))}},4772:function(o,i,n){"use strict";var s=n(7548);o.exports=s},7548:function(o){"use strict";o.exports=Number},8478:function(o,i,n){"use strict";var s=n(4500);o.exports=s},4500:function(o,i,n){"use strict";var s=n(1921),a=n(3105),l=n(6315);o.exports=function(c){var u=s(c);return(u=(u&a)>>>20)-l|0}},2490:function(o,i,n){"use strict";var s=n(9639);o.exports=s},4445:function(o,i,n){"use strict";var s,a,l;n(5902)===!0?(a=1,l=0):(a=0,l=1),s={HIGH:a,LOW:l},o.exports=s},9639:function(o,i,n){"use strict";var s=n(4773),a=n(7382),l=n(4445),c=new a(1),u=new s(c.buffer),p=l.HIGH,m=l.LOW;o.exports=function(h,f){return u[p]=h,u[m]=f,c[0]}},5646:function(o,i,n){"use strict";var s;s=n(5902)===!0?1:0,o.exports=s},1921:function(o,i,n){"use strict";var s=n(6285);o.exports=s},6285:function(o,i,n){"use strict";var s=n(4773),a=n(7382),l=n(5646),c=new a(1),u=new s(c.buffer);o.exports=function(p){return c[0]=p,u[l]}},9024:function(o,i,n){"use strict";var s=n(6488),a=n(7011),l=n(1883),c=n(513);o.exports=function(u,p,m,h){return l(u)||a(u)?(p[h]=u,p[h+m]=0,p):u!==0&&c(u)<s?(p[h]=4503599627370496*u,p[h+m]=-52,p):(p[h]=u,p[h+m]=0,p)}},4948:function(o,i,n){"use strict";var s=n(7576),a=n(9422);s(a,"assign",n(9024)),o.exports=a},9422:function(o,i,n){"use strict";var s=n(9024);o.exports=function(a){return s(a,[0,0],1,0)}},5239:function(o,i,n){"use strict";var s=n(4773),a=n(7382),l=n(5782),c=new a(1),u=new s(c.buffer),p=l.HIGH,m=l.LOW;o.exports=function(h,f,x,v){return c[0]=h,f[v]=u[p],f[v+x]=u[m],f}},7838:function(o,i,n){"use strict";var s=n(7576),a=n(4010);s(a,"assign",n(5239)),o.exports=a},5782:function(o,i,n){"use strict";var s,a,l;n(5902)===!0?(a=1,l=0):(a=0,l=1),s={HIGH:a,LOW:l},o.exports=s},4010:function(o,i,n){"use strict";var s=n(5239);o.exports=function(a){return s(a,[0,0],1,0)}},7576:function(o,i,n){"use strict";var s=n(7063);o.exports=s},7063:function(o,i,n){"use strict";var s=n(6691);o.exports=function(a,l,c){s(a,l,{configurable:!1,enumerable:!1,writable:!1,value:c})}},2073:function(o){"use strict";var i=Object.defineProperty;o.exports=i},1680:function(o){"use strict";var i=typeof Object.defineProperty=="function"?Object.defineProperty:null;o.exports=i},1471:function(o,i,n){"use strict";var s=n(1680);o.exports=function(){try{return s({},"x",{}),!0}catch{return!1}}},6691:function(o,i,n){"use strict";var s,a=n(1471),l=n(2073),c=n(1309);s=a()?l:c,o.exports=s},1309:function(o){"use strict";var i=Object.prototype,n=i.toString,s=i.__defineGetter__,a=i.__defineSetter__,l=i.__lookupGetter__,c=i.__lookupSetter__;o.exports=function(u,p,m){var h,f,x,v;if(typeof u!="object"||u===null||n.call(u)==="[object Array]")throw new TypeError("invalid argument. First argument must be an object. Value: `"+u+"`.");if(typeof m!="object"||m===null||n.call(m)==="[object Array]")throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+m+"`.");if((f="value"in m)&&(l.call(u,p)||c.call(u,p)?(h=u.__proto__,u.__proto__=i,delete u[p],u[p]=m.value,u.__proto__=h):u[p]=m.value),x="get"in m,v="set"in m,f&&(x||v))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return x&&s&&s.call(u,p,m.get),v&&a&&a.call(u,p,m.set),u}},6208:function(o,i,n){"use strict";var s,a=n(3123),l=n(7407),c=n(4210);s=a()?c:l,o.exports=s},7407:function(o,i,n){"use strict";var s=n(173);o.exports=function(a){return s.call(a)}},4210:function(o,i,n){"use strict";var s=n(9048),a=n(1403),l=n(173);o.exports=function(c){var u,p,m;if(c==null)return l.call(c);p=c[a],u=s(c,a);try{c[a]=void 0}catch{return l.call(c)}return m=l.call(c),u?c[a]=p:delete c[a],m}},173:function(o){"use strict";var i=Object.prototype.toString;o.exports=i},1403:function(o){"use strict";var i=typeof Symbol=="function"?Symbol.toStringTag:"";o.exports=i},7843:function(o){o.exports=function(i,n,s,a,l){for(n=n.split?n.split("."):n,a=0;a<n.length;a++)i=i?i[n[a]]:l;return i===l?s:i}},374:function(o,i,n){"use strict";n.r(i),n.d(i,{default:function(){return l}});for(var s=[],a=0;a<64;)s[a]=0|4294967296*Math.sin(++a%Math.PI);function l(c){var u,p,m,h=[u=1732584193,p=4023233417,~u,~p],f=[],x=unescape(encodeURI(c))+"\x80",v=x.length;for(c=--v/4+2|15,f[--c]=8*v;~v;)f[v>>2]|=x.charCodeAt(v)<<8*v--;for(a=x=0;a<c;a+=16){for(v=h;x<64;v=[m=v[3],u+((m=v[0]+[u&p|~u&m,m&u|~m&p,u^p^m,p^(u|~m)][v=x>>4]+s[x]+~~f[a|15&[x,5*x+1,3*x+5,7*x][v]])<<(v=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*v+x++%4])|m>>>-v),u,p])u=0|v[1],p=v[2];for(x=4;x;)h[--x]+=v[x]}for(c="";x<32;)c+=(h[x>>3]>>4*(1^x++)&15).toString(16);return c}}},t={};function r(o){var i=t[o];if(i!==void 0)return i.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,r),n.exports}return r.d=function(o,i){for(var n in i)r.o(i,n)&&!r.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:i[n]})},r.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},r.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},r(2870)}()})});var h$={};cf(h$,{tsubMiddleware:()=>vCe});var By,vCe,g$=lt(()=>{By=M(f$()),vCe=function(e){return function(t){var r=t.payload,o=t.integration,i=t.next,n=new By.Store(e),s=n.getRulesByDestinationName(o);s.forEach(function(a){for(var l=a.matchers,c=a.transformers,u=0;u<l.length;u++)if(By.matches(r.obj,l[u])&&(r.obj=By.transform(r.obj,c[u]),r.obj===null))return i(null)}),i(r)}}});function TS(e,t){var r,o;return typeof t?.enabled=="boolean"?t.enabled:(o=(r=e?.__default)===null||r===void 0?void 0:r.enabled)!==null&&o!==void 0?o:!0}var hO=lt(()=>{});function y$(e){return e.toLowerCase().replace(".","").replace(/\s+/g,"-")}function x$(e,t){return t===void 0&&(t=!1),t?btoa(e).replace(/=/g,""):void 0}function b$(e){return("Integration"in e?e.Integration:e).prototype.name}function SCe(e,t,r){var o,i;try{var n=((i=(o=window?.performance)===null||o===void 0?void 0:o.getEntriesByName(e,"resource"))!==null&&i!==void 0?i:[])[0];n&&t.stats.gauge("legacy_destination_time",Math.round(n.duration),mo([r],n.duration<100?["cached"]:[],!0))}catch{}}function v$(e,t,r){var o;if("Integration"in e){var i={user:function(){return r.user()},addIntegration:function(){}};e(i),o=e.Integration}else o=e;var n=new o(t);return n.analytics=r,n}function S$(e,t,r,o){return Le(this,void 0,void 0,function(){var i,n,s,a,l,c;return Be(this,function(u){switch(u.label){case 0:i=y$(t),n=x$(i,o),s=d4(),a="".concat(s,"/integrations/").concat(n??i,"/").concat(r,"/").concat(n??i,".dynamic.js.gz"),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,ff(a)];case 2:return u.sent(),SCe(a,e,t),[3,4];case 3:throw l=u.sent(),e.stats.gauge("legacy_destination_time",-1,["plugin:".concat(t),"failed"]),l;case 4:return c=window["".concat(i,"Deps")],[4,Promise.all(c.map(function(p){return ff(s+p+".gz")}))];case 5:return u.sent(),window["".concat(i,"Loader")](),[2,window["".concat(i,"Integration")]]}})})}function C$(e,t,r){return Le(this,void 0,void 0,function(){var o,i,n,s;return Be(this,function(a){return o=d4(),i=y$(e),n=x$(e,r),s="".concat(o,"/integrations/").concat(n??i,"/").concat(t,"/").concat(n??i,".dynamic.js.gz"),[2,c$(s)]})})}function P$(e){var t,r,o,i;return(i=(r=(t=e?.versionSettings)===null||t===void 0?void 0:t.override)!==null&&r!==void 0?r:(o=e?.versionSettings)===null||o===void 0?void 0:o.version)!==null&&i!==void 0?i:"latest"}var w$=lt(()=>{or();m4();_S()});var _$,k$,T$=lt(()=>{_$=function(e,t){var r,o=t.type,i=t.bundlingStatus,n=t.versionSettings,s=i!=="unbundled"&&(o==="browser"||((r=n?.componentTypes)===null||r===void 0?void 0:r.includes("browser")));return!e.startsWith("Segment")&&e!=="Iterable"&&s},k$=function(e,t){var r=t.All===!1&&t[e]===void 0;return t[e]===!1||r}});var M$={};cf(M$,{LegacyDestination:()=>E$,ajsDestinations:()=>PCe});function CCe(e,t){return Le(this,void 0,void 0,function(){var r,o=this;return Be(this,function(i){switch(i.label){case 0:return r=[],Wc()?[2,t]:[4,vS(function(){return t.length>0&&bN()},function(){return Le(o,void 0,void 0,function(){var n,s,a;return Be(this,function(l){switch(l.label){case 0:return n=t.pop(),n?[4,df(n,e)]:[2];case 1:return s=l.sent(),a=s instanceof da,a||r.push(n),[2]}})})})];case 1:return i.sent(),r.map(function(n){return t.pushWithBackoff(n)}),[2,t]}})})}function PCe(e,t,r,o,i,n){var s,a;if(r===void 0&&(r={}),o===void 0&&(o={}),Qv())return[];t.plan&&(o=o??{},o.plan=t.plan);var l=(a=(s=t.middlewareSettings)===null||s===void 0?void 0:s.routingRules)!==null&&a!==void 0?a:[],c=t.integrations,u=o.integrations,p=wS(t,o??{}),m=n?.reduce(function(f,x){var v;return xe(xe({},f),(v={},v[b$(x)]=x,v))},{}),h=new Set(mo(mo([],Object.keys(c).filter(function(f){return _$(f,c[f])}),!0),Object.keys(m||{}).filter(function(f){return zs(c[f])||zs(u?.[f])}),!0));return Array.from(h).filter(function(f){return!k$(f,r)}).map(function(f){var x=c[f],v=P$(x),b=new E$(f,v,e,p[f],o,m?.[f]),S=l.filter(function(w){return w.destinationName===f});return S.length>0&&i&&b.addMiddleware(i),b})}var Vd,E$,A$=lt(()=>{or();Vd=M(QN());yy();Nd();$x();Fc();hO();pO();oO();Kx();Qx();SS();w$();Fc();T$();dO();M1();E$=function(){function e(t,r,o,i,n,s){i===void 0&&(i={});var a=this;this.options={},this.type="destination",this.middleware=[],this.initializePromise=fy(),this.flushing=!1,this.name=t,this.version=r,this.settings=xe({},i),this.disableAutoISOConversion=n.disableAutoISOConversion||!1,this.integrationSource=s,this.settings.type&&this.settings.type==="browser"&&delete this.settings.type,this.initializePromise.promise.then(function(l){return a._initialized=l},function(){}),this.options=n,this.buffer=n.disableClientPersistence?new pf(4,[]):new r5(4,"".concat(o,":dest-").concat(t)),this.scheduleFlush()}return e.prototype.isLoaded=function(){return!!this._ready},e.prototype.ready=function(){var t=this;return this.initializePromise.promise.then(function(){var r;return(r=t.onReady)!==null&&r!==void 0?r:Promise.resolve()})},e.prototype.load=function(t,r){var o;return Le(this,void 0,void 0,function(){var i,n,s=this;return Be(this,function(a){switch(a.label){case 0:return this._ready||this.onReady!==void 0?[2]:(o=this.integrationSource)!==null&&o!==void 0?(n=o,[3,3]):[3,1];case 1:return[4,S$(t,this.name,this.version,this.options.obfuscate)];case 2:n=a.sent(),a.label=3;case 3:i=n,this.integration=v$(i,this.settings,r),this.onReady=new Promise(function(l){var c=function(){s._ready=!0,l(!0)};s.integration.once("ready",c)}),this.integration.on("initialize",function(){s.initializePromise.resolve(!0)});try{Wd(t,{integrationName:this.name,methodName:"initialize",type:"classic"}),this.integration.initialize()}catch(l){throw Wd(t,{integrationName:this.name,methodName:"initialize",type:"classic",didError:!0}),this.initializePromise.resolve(!1),l}return[2]}})})},e.prototype.unload=function(t,r){return C$(this.name,this.version,this.options.obfuscate)},e.prototype.addMiddleware=function(){for(var t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];this.middleware=(t=this.middleware).concat.apply(t,r)},e.prototype.shouldBuffer=function(t){return t.event.type!=="page"&&(Wc()||this._ready!==!0||this._initialized!==!0)},e.prototype.send=function(t,r,o){var i,n;return Le(this,void 0,void 0,function(){var s,a,l,c,u,p;return Be(this,function(m){switch(m.label){case 0:return this.shouldBuffer(t)?(this.buffer.push(t),this.scheduleFlush(),[2,t]):(s=(n=(i=this.options)===null||i===void 0?void 0:i.plan)===null||n===void 0?void 0:n.track,a=t.event.event,s&&a&&this.name!=="Segment.io"&&(l=s[a],TS(s,l)?t.updateEvent("integrations",xe(xe({},t.event.integrations),l?.integrations)):(t.updateEvent("integrations",xe(xe({},t.event.integrations),{All:!1,"Segment.io":!0})),t.cancel(new ql({retry:!1,reason:"Event ".concat(a," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"}))),l?.enabled&&l?.integrations[this.name]===!1&&t.cancel(new ql({retry:!1,reason:"Event ".concat(a," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"}))),[4,u4(this.name,t.event,this.middleware)]);case 1:if(c=m.sent(),c===null)return[2,t];u=new r(c,{traverse:!this.disableAutoISOConversion}),Wd(t,{integrationName:this.name,methodName:o,type:"classic"}),m.label=2;case 2:return m.trys.push([2,5,,6]),this.integration?[4,this.integration.invoke.call(this.integration,o,u)]:[3,4];case 3:m.sent(),m.label=4;case 4:return[3,6];case 5:throw p=m.sent(),Wd(t,{integrationName:this.name,methodName:o,type:"classic",didError:!0}),p;case 6:return[2,t]}})})},e.prototype.track=function(t){return Le(this,void 0,void 0,function(){return Be(this,function(r){return[2,this.send(t,Vd.Track,"track")]})})},e.prototype.page=function(t){var r;return Le(this,void 0,void 0,function(){return Be(this,function(o){switch(o.label){case 0:return!((r=this.integration)===null||r===void 0)&&r._assumesPageview&&!this._initialized&&this.integration.initialize(),[4,this.initializePromise.promise];case 1:return o.sent(),[2,this.send(t,Vd.Page,"page")]}})})},e.prototype.identify=function(t){return Le(this,void 0,void 0,function(){return Be(this,function(r){return[2,this.send(t,Vd.Identify,"identify")]})})},e.prototype.alias=function(t){return Le(this,void 0,void 0,function(){return Be(this,function(r){return[2,this.send(t,Vd.Alias,"alias")]})})},e.prototype.group=function(t){return Le(this,void 0,void 0,function(){return Be(this,function(r){return[2,this.send(t,Vd.Group,"group")]})})},e.prototype.scheduleFlush=function(){var t=this;this.flushing||setTimeout(function(){return Le(t,void 0,void 0,function(){var r;return Be(this,function(o){switch(o.label){case 0:return Wc()||this._ready!==!0||this._initialized!==!0?(this.scheduleFlush(),[2]):(this.flushing=!0,r=this,[4,CCe(this,this.buffer)]);case 1:return r.buffer=o.sent(),this.flushing=!1,this.buffer.todo>0&&this.scheduleFlush(),[2]}})})},Math.random()*5e3)},e}()});var I$=we((ES,gO)=>{(function(e,t){typeof ES=="object"&&typeof gO=="object"?gO.exports=t():typeof define=="function"&&define.amd?define([],t):typeof ES=="object"?ES.analyticsVideoPlugins=t():e.analyticsVideoPlugins=t()})(window,function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(o,i,n){r.o(o,i)||Object.defineProperty(o,i,{enumerable:!0,get:n})},r.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},r.t=function(o,i){if(1&i&&(o=r(o)),8&i||4&i&&typeof o=="object"&&o&&o.__esModule)return o;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:o}),2&i&&typeof o!="string")for(var s in o)r.d(n,s,function(a){return o[a]}.bind(null,s));return n},r.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(i,"a",i),i},r.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";r.r(t);var o=typeof fetch=="function"?fetch.bind():function(i,n){return n=n||{},new Promise(function(s,a){var l=new XMLHttpRequest;for(var c in l.open(n.method||"get",i,!0),n.headers)l.setRequestHeader(c,n.headers[c]);function u(){var p,m=[],h=[],f={};return l.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(x,v,b){m.push(v=v.toLowerCase()),h.push([v,b]),p=f[v],f[v]=p?p+","+b:b}),{ok:(l.status/100|0)==2,status:l.status,statusText:l.statusText,url:l.responseURL,clone:u,text:function(){return Promise.resolve(l.responseText)},json:function(){return Promise.resolve(l.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([l.response]))},headers:{keys:function(){return m},entries:function(){return h},get:function(x){return f[x.toLowerCase()]},has:function(x){return x.toLowerCase()in f}}}}l.withCredentials=n.credentials=="include",l.onload=function(){s(u())},l.onerror=a,l.send(n.body)})};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function n(s,a){for(var l=0;l<a.length;l++){var c=a[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}return function(s,a,l){return a&&n(s.prototype,a),l&&n(s,l),s}}(),i=function(){function n(s,a){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,n),this.pluginName=s}return o(n,[{key:"track",value:function(s,a){window.analytics.track(s,a,{integration:{name:this.pluginName}})}}]),n}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YouTubeAnalytics=t.VimeoAnalytics=void 0;var o=n(r(3)),i=n(r(4));function n(s){return s&&s.__esModule?s:{default:s}}t.VimeoAnalytics=o.default,t.YouTubeAnalytics=i.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function a(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,c,u){return c&&a(l.prototype,c),u&&a(l,u),l}}(),i=n(r(0));function n(a){return a&&a.__esModule?a:{default:a}}var s=function(a){function l(c,u){(function(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l);var p=function(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||typeof h!="object"&&typeof h!="function"?m:h}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,"VimeoAnalytics"));return p.authToken=u,p.player=c,p.metadata={content:{},playback:{videoPlayer:"Vimeo"}},p.mostRecentHeartbeat=0,p.isPaused=!1,p}return function(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);c.prototype=Object.create(u&&u.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(c,u):c.__proto__=u)}(l,a),o(l,[{key:"initialize",value:function(){var c=this,u={loaded:this.retrieveMetadata,play:this.trackPlay,pause:this.trackPause,ended:this.trackEnded,timeupdate:this.trackHeartbeat};for(var p in u)this.registerHandler(p,u[p]);this.player.getVideoId().then(function(m){c.retrieveMetadata({id:m})}).catch(console.error)}},{key:"registerHandler",value:function(c,u){var p=this;this.player.on(c,function(m){p.updateMetadata(m),u.call(p,m)})}},{key:"trackPlay",value:function(){this.isPaused?(this.track("Video Playback Resumed",this.metadata.playback),this.isPaused=!1):(this.track("Video Playback Started",this.metadata.playback),this.track("Video Content Started",this.metadata.content))}},{key:"trackEnded",value:function(){this.track("Video Playback Completed",this.metadata.playback),this.track("Video Content Completed",this.metadata.content)}},{key:"trackHeartbeat",value:function(){var c=this.mostRecentHeartbeat,u=this.metadata.playback.position;u!==c&&u-c>=10&&(this.track("Video Content Playing",this.metadata.content),this.mostRecentHeartbeat=Math.floor(u))}},{key:"trackPause",value:function(){this.isPaused=!0,this.track("Video Playback Paused",this.metadata.playback)}},{key:"retrieveMetadata",value:function(c){var u=this;return new Promise(function(p,m){var h=c.id;(0,i.default)("https://api.vimeo.com/videos/"+h,{headers:{Authorization:"Bearer "+u.authToken}}).then(function(f){return f.ok?f.json():m(f)}).then(function(f){u.metadata.content.title=f.name,u.metadata.content.description=f.description,u.metadata.content.publisher=f.user.name,u.metadata.playback.position=0,u.metadata.playback.totalLength=f.duration}).catch(function(f){return console.error("Request to Vimeo API Failed with: ",f),m(f)})})}},{key:"updateMetadata",value:function(c){var u=this;return new Promise(function(p,m){u.player.getVolume().then(function(h){h&&(u.metadata.playback.sound=100*h),u.metadata.playback.position=c.seconds,p()}).catch(m)})}}]),l}(n(r(1)).default);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function c(u,p){for(var m=0;m<p.length;m++){var h=p[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,p,m){return p&&c(u.prototype,p),m&&c(u,m),u}}(),i=s(r(0)),n=s(r(1));function s(c){return c&&c.__esModule?c:{default:c}}var a=function(c){function u(p,m){(function(f,x){if(!(f instanceof x))throw new TypeError("Cannot call a class as a function")})(this,u);var h=function(f,x){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||typeof x!="object"&&typeof x!="function"?f:x}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,"YoutubeAnalytics"));return h.player=p,h.apiKey=m,h.playerLoaded=!1,h.playbackStarted=!1,h.contentStarted=!1,h.isPaused=!1,h.isBuffering=!1,h.isSeeking=!1,h.lastRecordedTime={timeReported:Date.now(),timeElapsed:0},h.metadata=[{playback:{video_player:"youtube"},content:{}}],h.playlistIndex=0,h}return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}(u,c),o(u,[{key:"initialize",value:function(){window.segmentYoutubeOnStateChange=this.onPlayerStateChange.bind(this),window.segmentYoutubeOnReady=this.onPlayerReady.bind(this),this.player.addEventListener("onReady","segmentYoutubeOnReady"),this.player.addEventListener("onStateChange","segmentYoutubeOnStateChange")}},{key:"onPlayerReady",value:function(p){this.retrieveMetadata()}},{key:"onPlayerStateChange",value:function(p){var m=this.player.getCurrentTime();switch(this.metadata[this.playlistIndex]&&(this.metadata[this.playlistIndex].playback.position=this.metadata[this.playlistIndex].content.position=m,this.metadata[this.playlistIndex].playback.quality=this.player.getPlaybackQuality(),this.metadata[this.playlistIndex].playback.sound=this.player.isMuted()?0:this.player.getVolume()),p.data){case-1:if(this.playerLoaded)break;this.retrieveMetadata(),this.playerLoaded=!0;break;case YT.PlayerState.BUFFERING:this.handleBuffer();break;case YT.PlayerState.PLAYING:this.handlePlay();break;case YT.PlayerState.PAUSED:this.handlePause();break;case YT.PlayerState.ENDED:this.handleEnd()}this.lastRecordedTime={timeReported:Date.now(),timeElapsed:1e3*this.player.getCurrentTime()}}},{key:"retrieveMetadata",value:function(){var p=this;return new Promise(function(m,h){var f=p.player.getVideoData(),x=p.player.getPlaylist()||[f.video_id],v=x.join();(0,i.default)("https://www.googleapis.com/youtube/v3/videos?id="+v+"&part=snippet,contentDetails&key="+p.apiKey).then(function(b){if(!b.ok){var S=new Error("Segment request to Youtube API failed (likely due to a bad API Key. Events will still be sent but will not contain video metadata)");throw S.response=b,S}return b.json()}).then(function(b){p.metadata=[];for(var S=0,w=0;w<x.length;w++){var _=b.items[w];p.metadata.push({content:{title:_.snippet.title,description:_.snippet.description,keywords:_.snippet.tags,channel:_.snippet.channelTitle,airdate:_.snippet.publishedAt}}),S+=l(_.contentDetails.duration)}for(w=0;w<x.length;w++)p.metadata[w].playback={total_length:S,video_player:"youtube"};m()}).catch(function(b){p.metadata=x.map(function(S){return{playback:{video_player:"youtube"},content:{}}}),h(b)})})}},{key:"handleBuffer",value:function(){var p=this.determineSeek();this.playbackStarted||(this.playbackStarted=!0,this.track("Video Playback Started",this.metadata[this.playlistIndex].playback)),p&&!this.isSeeking&&(this.isSeeking=!0,this.track("Video Playback Seek Started",this.metadata[this.playlistIndex].playback)),this.isSeeking&&(this.track("Video Playback Seek Completed",this.metadata[this.playlistIndex].playback),this.isSeeking=!1);var m=this.player.getPlaylist();m&&this.player.getCurrentTime()===0&&this.player.getPlaylistIndex()!==this.playlistIndex&&(this.contentStarted=!1,this.playlistIndex===m.length-1&&this.player.getPlaylistIndex()===0&&(this.track("Video Playback Completed",this.metadata[this.player.getPlaylistIndex()].playback),this.track("Video Playback Started",this.metadata[this.player.getPlaylistIndex()].playback))),this.track("Video Playback Buffer Started",this.metadata[this.playlistIndex].playback),this.isBuffering=!0}},{key:"handlePlay",value:function(){this.contentStarted||(this.playlistIndex=this.player.getPlaylistIndex(),this.playlistIndex===-1&&(this.playlistIndex=0),this.track("Video Content Started",this.metadata[this.playlistIndex].content),this.contentStarted=!0),this.isBuffering&&(this.track("Video Playback Buffer Completed",this.metadata[this.playlistIndex].playback),this.isBuffering=!1),this.isPaused&&(this.track("Video Playback Resumed",this.metadata[this.playlistIndex].playback),this.isPaused=!1)}},{key:"handlePause",value:function(){var p=this.determineSeek();this.isBuffering&&(this.track("Video Playback Buffer Completed",this.metadata[this.playlistIndex].playback),this.isBuffering=!1),this.isPaused||(p?(this.track("Video Playback Seek Started",this.metadata[this.playlistIndex].playback),this.isSeeking=!0):(this.track("Video Playback Paused",this.metadata[this.playlistIndex].playback),this.isPaused=!0))}},{key:"handleEnd",value:function(){this.track("Video Content Completed",this.metadata[this.playlistIndex].content),this.contentStarted=!1;var p=this.player.getPlaylistIndex(),m=this.player.getPlaylist();(m&&p===m.length-1||p===-1)&&(this.track("Video Playback Completed",this.metadata[this.playlistIndex].playback),this.playbackStarted=!1)}},{key:"determineSeek",value:function(){var p=this.isPaused||this.isBuffering?0:Date.now()-this.lastRecordedTime.timeReported,m=1e3*this.player.getCurrentTime()-this.lastRecordedTime.timeElapsed;return Math.abs(p-m)>2e3}}]),u}(n.default);function l(c){var u=c.match(/PT(\d+H)?(\d+M)?(\d+S)?/);return u=u.slice(1).map(function(p){if(p!=null)return p.replace(/\D/,"")}),3600*(parseInt(u[0])||0)+60*(parseInt(u[1])||0)+(parseInt(u[2])||0)}t.default=a}])})});var D$={};cf(D$,{loadLegacyVideoPlugins:()=>wCe});function wCe(e){return Le(this,void 0,void 0,function(){var t;return Be(this,function(r){switch(r.label){case 0:return[4,Promise.resolve().then(()=>M(I$()))];case 1:return t=r.sent(),e._plugins=t,[2]}})})}var N$=lt(()=>{or()});var O$={};cf(O$,{schemaFilter:()=>kCe});function _Ce(e,t){var r,o;if(!e||!Object.keys(e))return{};var i=e.integrations?Object.keys(e.integrations).filter(function(s){return e.integrations[s]===!1}):[],n=[];return((r=t.remotePlugins)!==null&&r!==void 0?r:[]).forEach(function(s){i.forEach(function(a){s.creationName==a&&n.push(s.name)})}),((o=t.remotePlugins)!==null&&o!==void 0?o:[]).reduce(function(s,a){return a.settings.subscriptions&&n.includes(a.name)&&a.settings.subscriptions.forEach(function(l){return s["".concat(a.name," ").concat(l.partnerAction)]=!1}),s},{})}function kCe(e,t){function r(o){var i=e,n=o.event.event;if(i&&n){var s=i[n];if(TS(i,s)){var a=_Ce(s,t);o.updateEvent("integrations",xe(xe(xe({},o.event.integrations),s?.integrations),a))}else return o.updateEvent("integrations",xe(xe({},o.event.integrations),{All:!1,"Segment.io":!0})),o}return o}return{name:"Schema Filter",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},type:"before",page:r,alias:r,track:r,identify:r,group:r}}var L$=lt(()=>{or();hO()});var B$={};cf(B$,{remoteMiddlewares:()=>TCe});function TCe(e,t,r){var o;return Le(this,void 0,void 0,function(){var i,n,s,a,l,c=this;return Be(this,function(u){switch(u.label){case 0:return Qv()?[2,[]]:(i=d4(),n=(o=t.enabledMiddleware)!==null&&o!==void 0?o:{},s=Object.entries(n).filter(function(p){var m=p[0],h=p[1];return h}).map(function(p){var m=p[0];return m}),a=s.map(function(p){return Le(c,void 0,void 0,function(){var m,h,f,x;return Be(this,function(v){switch(v.label){case 0:m=p.replace("@segment/",""),h=m,r&&(h=btoa(m).replace(/=/g,"")),f="".concat(i,"/middleware/").concat(h,"/latest/").concat(h,".js.gz"),v.label=1;case 1:return v.trys.push([1,3,,4]),[4,ff(f)];case 2:return v.sent(),[2,window["".concat(m,"Middleware")]];case 3:return x=v.sent(),e.log("error",x),e.stats.increment("failed_remote_middleware"),[3,4];case 4:return[2]}})})}),[4,Promise.all(a)]);case 1:return l=u.sent(),l=l.filter(Boolean),[2,l]}})})}var F$=lt(()=>{or();$x();_S();m4()});var EJ=we((Abt,cC)=>{"use strict";(function(){"use strict";var e={};e.use_lines=!0,e.use_xyz=!1;var t=!1;typeof cC<"u"&&cC.exports?(cC.exports=e,t=!0):typeof document<"u"?window.ClipperLib=e:self.ClipperLib=e;var r;if(t){var o="chrome";r="Netscape"}else{var o=navigator.userAgent.toString().toLowerCase();r=navigator.appName}var i={};o.indexOf("chrome")!=-1&&o.indexOf("chromium")==-1?i.chrome=1:i.chrome=0,o.indexOf("chromium")!=-1?i.chromium=1:i.chromium=0,o.indexOf("safari")!=-1&&o.indexOf("chrome")==-1&&o.indexOf("chromium")==-1?i.safari=1:i.safari=0,o.indexOf("firefox")!=-1?i.firefox=1:i.firefox=0,o.indexOf("firefox/17")!=-1?i.firefox17=1:i.firefox17=0,o.indexOf("firefox/15")!=-1?i.firefox15=1:i.firefox15=0,o.indexOf("firefox/3")!=-1?i.firefox3=1:i.firefox3=0,o.indexOf("opera")!=-1?i.opera=1:i.opera=0,o.indexOf("msie 10")!=-1?i.msie10=1:i.msie10=0,o.indexOf("msie 9")!=-1?i.msie9=1:i.msie9=0,o.indexOf("msie 8")!=-1?i.msie8=1:i.msie8=0,o.indexOf("msie 7")!=-1?i.msie7=1:i.msie7=0,o.indexOf("msie ")!=-1?i.msie=1:i.msie=0,e.biginteger_used=null;var n,s=0xdeadbeefcafe,a=(s&16777215)==15715070;function l(d,g,C){e.biginteger_used=1,d!=null&&(typeof d=="number"&&typeof g>"u"?this.fromInt(d):typeof d=="number"?this.fromNumber(d,g,C):g==null&&typeof d!="string"?this.fromString(d,256):this.fromString(d,g))}function c(){return new l(null,void 0,void 0)}function u(d,g,C,k,D,V){for(;--V>=0;){var G=g*this[d++]+C[k]+D;D=Math.floor(G/67108864),C[k++]=G&67108863}return D}function p(d,g,C,k,D,V){for(var G=g&32767,Z=g>>15;--V>=0;){var ee=this[d]&32767,de=this[d++]>>15,Pe=Z*ee+de*G;ee=G*ee+((Pe&32767)<<15)+C[k]+(D&1073741823),D=(ee>>>30)+(Pe>>>15)+Z*de+(D>>>30),C[k++]=ee&1073741823}return D}function m(d,g,C,k,D,V){for(var G=g&16383,Z=g>>14;--V>=0;){var ee=this[d]&16383,de=this[d++]>>14,Pe=Z*ee+de*G;ee=G*ee+((Pe&16383)<<14)+C[k]+D,D=(ee>>28)+(Pe>>14)+Z*de,C[k++]=ee&268435455}return D}a&&r=="Microsoft Internet Explorer"?(l.prototype.am=p,n=30):a&&r!="Netscape"?(l.prototype.am=u,n=26):(l.prototype.am=m,n=28),l.prototype.DB=n,l.prototype.DM=(1<<n)-1,l.prototype.DV=1<<n;var h=52;l.prototype.FV=Math.pow(2,h),l.prototype.F1=h-n,l.prototype.F2=2*n-h;var f="0123456789abcdefghijklmnopqrstuvwxyz",x=new Array,v,b;for(v=48,b=0;b<=9;++b)x[v++]=b;for(v=97,b=10;b<36;++b)x[v++]=b;for(v=65,b=10;b<36;++b)x[v++]=b;function S(d){return f.charAt(d)}function w(d,g){var C=x[d.charCodeAt(g)];return C??-1}function _(d){for(var g=this.t-1;g>=0;--g)d[g]=this[g];d.t=this.t,d.s=this.s}function E(d){this.t=1,this.s=d<0?-1:0,d>0?this[0]=d:d<-1?this[0]=d+this.DV:this.t=0}function T(d){var g=c();return g.fromInt(d),g}function A(d,g){var C;if(g==16)C=4;else if(g==8)C=3;else if(g==256)C=8;else if(g==2)C=1;else if(g==32)C=5;else if(g==4)C=2;else{this.fromRadix(d,g);return}this.t=0,this.s=0;for(var k=d.length,D=!1,V=0;--k>=0;){var G=C==8?d[k]&255:w(d,k);if(G<0){d.charAt(k)=="-"&&(D=!0);continue}D=!1,V==0?this[this.t++]=G:V+C>this.DB?(this[this.t-1]|=(G&(1<<this.DB-V)-1)<<V,this[this.t++]=G>>this.DB-V):this[this.t-1]|=G<<V,V+=C,V>=this.DB&&(V-=this.DB)}C==8&&(d[0]&128)!=0&&(this.s=-1,V>0&&(this[this.t-1]|=(1<<this.DB-V)-1<<V)),this.clamp(),D&&l.ZERO.subTo(this,this)}function O(){for(var d=this.s&this.DM;this.t>0&&this[this.t-1]==d;)--this.t}function L(d){if(this.s<0)return"-"+this.negate().toString(d);var g;if(d==16)g=4;else if(d==8)g=3;else if(d==2)g=1;else if(d==32)g=5;else if(d==4)g=2;else return this.toRadix(d);var C=(1<<g)-1,k,D=!1,V="",G=this.t,Z=this.DB-G*this.DB%g;if(G-- >0)for(Z<this.DB&&(k=this[G]>>Z)>0&&(D=!0,V=S(k));G>=0;)Z<g?(k=(this[G]&(1<<Z)-1)<<g-Z,k|=this[--G]>>(Z+=this.DB-g)):(k=this[G]>>(Z-=g)&C,Z<=0&&(Z+=this.DB,--G)),k>0&&(D=!0),D&&(V+=S(k));return D?V:"0"}function R(){var d=c();return l.ZERO.subTo(this,d),d}function z(){return this.s<0?this.negate():this}function I(d){var g=this.s-d.s;if(g!=0)return g;var C=this.t;if(g=C-d.t,g!=0)return this.s<0?-g:g;for(;--C>=0;)if((g=this[C]-d[C])!=0)return g;return 0}function F(d){var g=1,C;return(C=d>>>16)!=0&&(d=C,g+=16),(C=d>>8)!=0&&(d=C,g+=8),(C=d>>4)!=0&&(d=C,g+=4),(C=d>>2)!=0&&(d=C,g+=2),(C=d>>1)!=0&&(d=C,g+=1),g}function B(){return this.t<=0?0:this.DB*(this.t-1)+F(this[this.t-1]^this.s&this.DM)}function j(d,g){var C;for(C=this.t-1;C>=0;--C)g[C+d]=this[C];for(C=d-1;C>=0;--C)g[C]=0;g.t=this.t+d,g.s=this.s}function X(d,g){for(var C=d;C<this.t;++C)g[C-d]=this[C];g.t=Math.max(this.t-d,0),g.s=this.s}function te(d,g){var C=d%this.DB,k=this.DB-C,D=(1<<k)-1,V=Math.floor(d/this.DB),G=this.s<<C&this.DM,Z;for(Z=this.t-1;Z>=0;--Z)g[Z+V+1]=this[Z]>>k|G,G=(this[Z]&D)<<C;for(Z=V-1;Z>=0;--Z)g[Z]=0;g[V]=G,g.t=this.t+V+1,g.s=this.s,g.clamp()}function se(d,g){g.s=this.s;var C=Math.floor(d/this.DB);if(C>=this.t){g.t=0;return}var k=d%this.DB,D=this.DB-k,V=(1<<k)-1;g[0]=this[C]>>k;for(var G=C+1;G<this.t;++G)g[G-C-1]|=(this[G]&V)<<D,g[G-C]=this[G]>>k;k>0&&(g[this.t-C-1]|=(this.s&V)<<D),g.t=this.t-C,g.clamp()}function ue(d,g){for(var C=0,k=0,D=Math.min(d.t,this.t);C<D;)k+=this[C]-d[C],g[C++]=k&this.DM,k>>=this.DB;if(d.t<this.t){for(k-=d.s;C<this.t;)k+=this[C],g[C++]=k&this.DM,k>>=this.DB;k+=this.s}else{for(k+=this.s;C<d.t;)k-=d[C],g[C++]=k&this.DM,k>>=this.DB;k-=d.s}g.s=k<0?-1:0,k<-1?g[C++]=this.DV+k:k>0&&(g[C++]=k),g.t=C,g.clamp()}function be(d,g){var C=this.abs(),k=d.abs(),D=C.t;for(g.t=D+k.t;--D>=0;)g[D]=0;for(D=0;D<k.t;++D)g[D+C.t]=C.am(0,k[D],g,D,0,C.t);g.s=0,g.clamp(),this.s!=d.s&&l.ZERO.subTo(g,g)}function ae(d){for(var g=this.abs(),C=d.t=2*g.t;--C>=0;)d[C]=0;for(C=0;C<g.t-1;++C){var k=g.am(C,g[C],d,2*C,0,1);(d[C+g.t]+=g.am(C+1,2*g[C],d,2*C+1,k,g.t-C-1))>=g.DV&&(d[C+g.t]-=g.DV,d[C+g.t+1]=1)}d.t>0&&(d[d.t-1]+=g.am(C,g[C],d,2*C,0,1)),d.s=0,d.clamp()}function he(d,g,C){var k=d.abs();if(!(k.t<=0)){var D=this.abs();if(D.t<k.t){g?.fromInt(0),C!=null&&this.copyTo(C);return}C==null&&(C=c());var V=c(),G=this.s,Z=d.s,ee=this.DB-F(k[k.t-1]);ee>0?(k.lShiftTo(ee,V),D.lShiftTo(ee,C)):(k.copyTo(V),D.copyTo(C));var de=V.t,Pe=V[de-1];if(Pe!=0){var Ae=Pe*(1<<this.F1)+(de>1?V[de-2]>>this.F2:0),$e=this.FV/Ae,Jt=(1<<this.F1)/Ae,Mt=1<<this.F2,Ir=C.t,Lc=Ir-de,hl=g??c();for(V.dlShiftTo(Lc,hl),C.compareTo(hl)>=0&&(C[C.t++]=1,C.subTo(hl,C)),l.ONE.dlShiftTo(de,hl),hl.subTo(V,V);V.t<de;)V[V.t++]=0;for(;--Lc>=0;){var Id=C[--Ir]==Pe?this.DM:Math.floor(C[Ir]*$e+(C[Ir-1]+Mt)*Jt);if((C[Ir]+=V.am(0,Id,C,Lc,0,de))<Id)for(V.dlShiftTo(Lc,hl),C.subTo(hl,C);C[Ir]<--Id;)C.subTo(hl,C)}g!=null&&(C.drShiftTo(de,g),G!=Z&&l.ZERO.subTo(g,g)),C.t=de,C.clamp(),ee>0&&C.rShiftTo(ee,C),G<0&&l.ZERO.subTo(C,C)}}}function fe(d){var g=c();return this.abs().divRemTo(d,null,g),this.s<0&&g.compareTo(l.ZERO)>0&&d.subTo(g,g),g}function ce(d){this.m=d}function Se(d){return d.s<0||d.compareTo(this.m)>=0?d.mod(this.m):d}function It(d){return d}function at(d){d.divRemTo(this.m,null,d)}function Ce(d,g,C){d.multiplyTo(g,C),this.reduce(C)}function yt(d,g){d.squareTo(g),this.reduce(g)}ce.prototype.convert=Se,ce.prototype.revert=It,ce.prototype.reduce=at,ce.prototype.mulTo=Ce,ce.prototype.sqrTo=yt;function Zt(){if(this.t<1)return 0;var d=this[0];if((d&1)==0)return 0;var g=d&3;return g=g*(2-(d&15)*g)&15,g=g*(2-(d&255)*g)&255,g=g*(2-((d&65535)*g&65535))&65535,g=g*(2-d*g%this.DV)%this.DV,g>0?this.DV-g:-g}function Gt(d){this.m=d,this.mp=d.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<d.DB-15)-1,this.mt2=2*d.t}function oo(d){var g=c();return d.abs().dlShiftTo(this.m.t,g),g.divRemTo(this.m,null,g),d.s<0&&g.compareTo(l.ZERO)>0&&this.m.subTo(g,g),g}function On(d){var g=c();return d.copyTo(g),this.reduce(g),g}function Gs(d){for(;d.t<=this.mt2;)d[d.t++]=0;for(var g=0;g<this.m.t;++g){var C=d[g]&32767,k=C*this.mpl+((C*this.mph+(d[g]>>15)*this.mpl&this.um)<<15)&d.DM;for(C=g+this.m.t,d[C]+=this.m.am(0,k,d,g,0,this.m.t);d[C]>=d.DV;)d[C]-=d.DV,d[++C]++}d.clamp(),d.drShiftTo(this.m.t,d),d.compareTo(this.m)>=0&&d.subTo(this.m,d)}function io(d,g){d.squareTo(g),this.reduce(g)}function Fr(d,g,C){d.multiplyTo(g,C),this.reduce(C)}Gt.prototype.convert=oo,Gt.prototype.revert=On,Gt.prototype.reduce=Gs,Gt.prototype.mulTo=Fr,Gt.prototype.sqrTo=io;function eN(){return(this.t>0?this[0]&1:this.s)==0}function Qbe(d,g){if(d>4294967295||d<1)return l.ONE;var C=c(),k=c(),D=g.convert(this),V=F(d)-1;for(D.copyTo(C);--V>=0;)if(g.sqrTo(C,k),(d&1<<V)>0)g.mulTo(k,D,C);else{var G=C;C=k,k=G}return g.revert(C)}function e9e(d,g){var C;return d<256||g.isEven()?C=new ce(g):C=new Gt(g),this.exp(d,C)}l.prototype.copyTo=_,l.prototype.fromInt=E,l.prototype.fromString=A,l.prototype.clamp=O,l.prototype.dlShiftTo=j,l.prototype.drShiftTo=X,l.prototype.lShiftTo=te,l.prototype.rShiftTo=se,l.prototype.subTo=ue,l.prototype.multiplyTo=be,l.prototype.squareTo=ae,l.prototype.divRemTo=he,l.prototype.invDigit=Zt,l.prototype.isEven=eN,l.prototype.exp=Qbe,l.prototype.toString=L,l.prototype.negate=R,l.prototype.abs=z,l.prototype.compareTo=I,l.prototype.bitLength=B,l.prototype.mod=fe,l.prototype.modPowInt=e9e,l.ZERO=T(0),l.ONE=T(1);function t9e(){var d=c();return this.copyTo(d),d}function r9e(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function o9e(){return this.t==0?this.s:this[0]<<24>>24}function i9e(){return this.t==0?this.s:this[0]<<16>>16}function n9e(d){return Math.floor(Math.LN2*this.DB/Math.log(d))}function s9e(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function a9e(d){if(d==null&&(d=10),this.signum()==0||d<2||d>36)return"0";var g=this.chunkSize(d),C=Math.pow(d,g),k=T(C),D=c(),V=c(),G="";for(this.divRemTo(k,D,V);D.signum()>0;)G=(C+V.intValue()).toString(d).substr(1)+G,D.divRemTo(k,D,V);return V.intValue().toString(d)+G}function l9e(d,g){this.fromInt(0),g==null&&(g=10);for(var C=this.chunkSize(g),k=Math.pow(g,C),D=!1,V=0,G=0,Z=0;Z<d.length;++Z){var ee=w(d,Z);if(ee<0){d.charAt(Z)=="-"&&this.signum()==0&&(D=!0);continue}G=g*G+ee,++V>=C&&(this.dMultiply(k),this.dAddOffset(G,0),V=0,G=0)}V>0&&(this.dMultiply(Math.pow(g,V)),this.dAddOffset(G,0)),D&&l.ZERO.subTo(this,this)}function c9e(d,g,C){if(typeof g=="number")if(d<2)this.fromInt(1);else for(this.fromNumber(d,C),this.testBit(d-1)||this.bitwiseTo(l.ONE.shiftLeft(d-1),tN,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(g);)this.dAddOffset(2,0),this.bitLength()>d&&this.subTo(l.ONE.shiftLeft(d-1),this);else{var k=new Array,D=d&7;k.length=(d>>3)+1,g.nextBytes(k),D>0?k[0]&=(1<<D)-1:k[0]=0,this.fromString(k,256)}}function u9e(){var d=this.t,g=new Array;g[0]=this.s;var C=this.DB-d*this.DB%8,k,D=0;if(d-- >0)for(C<this.DB&&(k=this[d]>>C)!=(this.s&this.DM)>>C&&(g[D++]=k|this.s<<this.DB-C);d>=0;)C<8?(k=(this[d]&(1<<C)-1)<<8-C,k|=this[--d]>>(C+=this.DB-8)):(k=this[d]>>(C-=8)&255,C<=0&&(C+=this.DB,--d)),(k&128)!=0&&(k|=-256),D==0&&(this.s&128)!=(k&128)&&++D,(D>0||k!=this.s)&&(g[D++]=k);return g}function p9e(d){return this.compareTo(d)==0}function d9e(d){return this.compareTo(d)<0?this:d}function m9e(d){return this.compareTo(d)>0?this:d}function f9e(d,g,C){var k,D,V=Math.min(d.t,this.t);for(k=0;k<V;++k)C[k]=g(this[k],d[k]);if(d.t<this.t){for(D=d.s&this.DM,k=V;k<this.t;++k)C[k]=g(this[k],D);C.t=this.t}else{for(D=this.s&this.DM,k=V;k<d.t;++k)C[k]=g(D,d[k]);C.t=d.t}C.s=g(this.s,d.s),C.clamp()}function h9e(d,g){return d&g}function g9e(d){var g=c();return this.bitwiseTo(d,h9e,g),g}function tN(d,g){return d|g}function y9e(d){var g=c();return this.bitwiseTo(d,tN,g),g}function iY(d,g){return d^g}function x9e(d){var g=c();return this.bitwiseTo(d,iY,g),g}function nY(d,g){return d&~g}function b9e(d){var g=c();return this.bitwiseTo(d,nY,g),g}function v9e(){for(var d=c(),g=0;g<this.t;++g)d[g]=this.DM&~this[g];return d.t=this.t,d.s=~this.s,d}function S9e(d){var g=c();return d<0?this.rShiftTo(-d,g):this.lShiftTo(d,g),g}function C9e(d){var g=c();return d<0?this.lShiftTo(-d,g):this.rShiftTo(d,g),g}function P9e(d){if(d==0)return-1;var g=0;return(d&65535)==0&&(d>>=16,g+=16),(d&255)==0&&(d>>=8,g+=8),(d&15)==0&&(d>>=4,g+=4),(d&3)==0&&(d>>=2,g+=2),(d&1)==0&&++g,g}function w9e(){for(var d=0;d<this.t;++d)if(this[d]!=0)return d*this.DB+P9e(this[d]);return this.s<0?this.t*this.DB:-1}function _9e(d){for(var g=0;d!=0;)d&=d-1,++g;return g}function k9e(){for(var d=0,g=this.s&this.DM,C=0;C<this.t;++C)d+=_9e(this[C]^g);return d}function T9e(d){var g=Math.floor(d/this.DB);return g>=this.t?this.s!=0:(this[g]&1<<d%this.DB)!=0}function E9e(d,g){var C=l.ONE.shiftLeft(d);return this.bitwiseTo(C,g,C),C}function M9e(d){return this.changeBit(d,tN)}function A9e(d){return this.changeBit(d,nY)}function I9e(d){return this.changeBit(d,iY)}function D9e(d,g){for(var C=0,k=0,D=Math.min(d.t,this.t);C<D;)k+=this[C]+d[C],g[C++]=k&this.DM,k>>=this.DB;if(d.t<this.t){for(k+=d.s;C<this.t;)k+=this[C],g[C++]=k&this.DM,k>>=this.DB;k+=this.s}else{for(k+=this.s;C<d.t;)k+=d[C],g[C++]=k&this.DM,k>>=this.DB;k+=d.s}g.s=k<0?-1:0,k>0?g[C++]=k:k<-1&&(g[C++]=this.DV+k),g.t=C,g.clamp()}function N9e(d){var g=c();return this.addTo(d,g),g}function O9e(d){var g=c();return this.subTo(d,g),g}function L9e(d){var g=c();return this.multiplyTo(d,g),g}function B9e(){var d=c();return this.squareTo(d),d}function F9e(d){var g=c();return this.divRemTo(d,g,null),g}function W9e(d){var g=c();return this.divRemTo(d,null,g),g}function V9e(d){var g=c(),C=c();return this.divRemTo(d,g,C),new Array(g,C)}function U9e(d){this[this.t]=this.am(0,d-1,this,0,0,this.t),++this.t,this.clamp()}function R9e(d,g){if(d!=0){for(;this.t<=g;)this[this.t++]=0;for(this[g]+=d;this[g]>=this.DV;)this[g]-=this.DV,++g>=this.t&&(this[this.t++]=0),++this[g]}}function Gx(){}function sY(d){return d}function j9e(d,g,C){d.multiplyTo(g,C)}function G9e(d,g){d.squareTo(g)}Gx.prototype.convert=sY,Gx.prototype.revert=sY,Gx.prototype.mulTo=j9e,Gx.prototype.sqrTo=G9e;function H9e(d){return this.exp(d,new Gx)}function z9e(d,g,C){var k=Math.min(this.t+d.t,g);for(C.s=0,C.t=k;k>0;)C[--k]=0;var D;for(D=C.t-this.t;k<D;++k)C[k+this.t]=this.am(0,d[k],C,k,0,this.t);for(D=Math.min(d.t,g);k<D;++k)this.am(0,d[k],C,k,0,g-k);C.clamp()}function X9e(d,g,C){--g;var k=C.t=this.t+d.t-g;for(C.s=0;--k>=0;)C[k]=0;for(k=Math.max(g-this.t,0);k<d.t;++k)C[this.t+k-g]=this.am(g-k,d[k],C,0,0,this.t+k-g);C.clamp(),C.drShiftTo(1,C)}function uy(d){this.r2=c(),this.q3=c(),l.ONE.dlShiftTo(2*d.t,this.r2),this.mu=this.r2.divide(d),this.m=d}function Y9e(d){if(d.s<0||d.t>2*this.m.t)return d.mod(this.m);if(d.compareTo(this.m)<0)return d;var g=c();return d.copyTo(g),this.reduce(g),g}function q9e(d){return d}function $9e(d){for(d.drShiftTo(this.m.t-1,this.r2),d.t>this.m.t+1&&(d.t=this.m.t+1,d.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);d.compareTo(this.r2)<0;)d.dAddOffset(1,this.m.t+1);for(d.subTo(this.r2,d);d.compareTo(this.m)>=0;)d.subTo(this.m,d)}function Z9e(d,g){d.squareTo(g),this.reduce(g)}function J9e(d,g,C){d.multiplyTo(g,C),this.reduce(C)}uy.prototype.convert=Y9e,uy.prototype.revert=q9e,uy.prototype.reduce=$9e,uy.prototype.mulTo=J9e,uy.prototype.sqrTo=Z9e;function K9e(d,g){var C=d.bitLength(),k,D=T(1),V;if(C<=0)return D;C<18?k=1:C<48?k=3:C<144?k=4:C<768?k=5:k=6,C<8?V=new ce(g):g.isEven()?V=new uy(g):V=new Gt(g);var G=new Array,Z=3,ee=k-1,de=(1<<k)-1;if(G[1]=V.convert(this),k>1){var Pe=c();for(V.sqrTo(G[1],Pe);Z<=de;)G[Z]=c(),V.mulTo(Pe,G[Z-2],G[Z]),Z+=2}var Ae=d.t-1,$e,Jt=!0,Mt=c(),Ir;for(C=F(d[Ae])-1;Ae>=0;){for(C>=ee?$e=d[Ae]>>C-ee&de:($e=(d[Ae]&(1<<C+1)-1)<<ee-C,Ae>0&&($e|=d[Ae-1]>>this.DB+C-ee)),Z=k;($e&1)==0;)$e>>=1,--Z;if((C-=Z)<0&&(C+=this.DB,--Ae),Jt)G[$e].copyTo(D),Jt=!1;else{for(;Z>1;)V.sqrTo(D,Mt),V.sqrTo(Mt,D),Z-=2;Z>0?V.sqrTo(D,Mt):(Ir=D,D=Mt,Mt=Ir),V.mulTo(Mt,G[$e],D)}for(;Ae>=0&&(d[Ae]&1<<C)==0;)V.sqrTo(D,Mt),Ir=D,D=Mt,Mt=Ir,--C<0&&(C=this.DB-1,--Ae)}return V.revert(D)}function Q9e(d){var g=this.s<0?this.negate():this.clone(),C=d.s<0?d.negate():d.clone();if(g.compareTo(C)<0){var k=g;g=C,C=k}var D=g.getLowestSetBit(),V=C.getLowestSetBit();if(V<0)return g;for(D<V&&(V=D),V>0&&(g.rShiftTo(V,g),C.rShiftTo(V,C));g.signum()>0;)(D=g.getLowestSetBit())>0&&g.rShiftTo(D,g),(D=C.getLowestSetBit())>0&&C.rShiftTo(D,C),g.compareTo(C)>=0?(g.subTo(C,g),g.rShiftTo(1,g)):(C.subTo(g,C),C.rShiftTo(1,C));return V>0&&C.lShiftTo(V,C),C}function eve(d){if(d<=0)return 0;var g=this.DV%d,C=this.s<0?d-1:0;if(this.t>0)if(g==0)C=this[0]%d;else for(var k=this.t-1;k>=0;--k)C=(g*C+this[k])%d;return C}function tve(d){var g=d.isEven();if(this.isEven()&&g||d.signum()==0)return l.ZERO;for(var C=d.clone(),k=this.clone(),D=T(1),V=T(0),G=T(0),Z=T(1);C.signum()!=0;){for(;C.isEven();)C.rShiftTo(1,C),g?((!D.isEven()||!V.isEven())&&(D.addTo(this,D),V.subTo(d,V)),D.rShiftTo(1,D)):V.isEven()||V.subTo(d,V),V.rShiftTo(1,V);for(;k.isEven();)k.rShiftTo(1,k),g?((!G.isEven()||!Z.isEven())&&(G.addTo(this,G),Z.subTo(d,Z)),G.rShiftTo(1,G)):Z.isEven()||Z.subTo(d,Z),Z.rShiftTo(1,Z);C.compareTo(k)>=0?(C.subTo(k,C),g&&D.subTo(G,D),V.subTo(Z,V)):(k.subTo(C,k),g&&G.subTo(D,G),Z.subTo(V,Z))}if(k.compareTo(l.ONE)!=0)return l.ZERO;if(Z.compareTo(d)>=0)return Z.subtract(d);if(Z.signum()<0)Z.addTo(d,Z);else return Z;return Z.signum()<0?Z.add(d):Z}var fl=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],rve=(1<<26)/fl[fl.length-1];function ove(d){var g,C=this.abs();if(C.t==1&&C[0]<=fl[fl.length-1]){for(g=0;g<fl.length;++g)if(C[0]==fl[g])return!0;return!1}if(C.isEven())return!1;for(g=1;g<fl.length;){for(var k=fl[g],D=g+1;D<fl.length&&k<rve;)k*=fl[D++];for(k=C.modInt(k);g<D;)if(k%fl[g++]==0)return!1}return C.millerRabin(d)}function ive(d){var g=this.subtract(l.ONE),C=g.getLowestSetBit();if(C<=0)return!1;var k=g.shiftRight(C);d=d+1>>1,d>fl.length&&(d=fl.length);for(var D=c(),V=0;V<d;++V){D.fromInt(fl[Math.floor(Math.random()*fl.length)]);var G=D.modPow(k,this);if(G.compareTo(l.ONE)!=0&&G.compareTo(g)!=0){for(var Z=1;Z++<C&&G.compareTo(g)!=0;)if(G=G.modPowInt(2,this),G.compareTo(l.ONE)==0)return!1;if(G.compareTo(g)!=0)return!1}}return!0}l.prototype.chunkSize=n9e,l.prototype.toRadix=a9e,l.prototype.fromRadix=l9e,l.prototype.fromNumber=c9e,l.prototype.bitwiseTo=f9e,l.prototype.changeBit=E9e,l.prototype.addTo=D9e,l.prototype.dMultiply=U9e,l.prototype.dAddOffset=R9e,l.prototype.multiplyLowerTo=z9e,l.prototype.multiplyUpperTo=X9e,l.prototype.modInt=eve,l.prototype.millerRabin=ive,l.prototype.clone=t9e,l.prototype.intValue=r9e,l.prototype.byteValue=o9e,l.prototype.shortValue=i9e,l.prototype.signum=s9e,l.prototype.toByteArray=u9e,l.prototype.equals=p9e,l.prototype.min=d9e,l.prototype.max=m9e,l.prototype.and=g9e,l.prototype.or=y9e,l.prototype.xor=x9e,l.prototype.andNot=b9e,l.prototype.not=v9e,l.prototype.shiftLeft=S9e,l.prototype.shiftRight=C9e,l.prototype.getLowestSetBit=w9e,l.prototype.bitCount=k9e,l.prototype.testBit=T9e,l.prototype.setBit=M9e,l.prototype.clearBit=A9e,l.prototype.flipBit=I9e,l.prototype.add=N9e,l.prototype.subtract=O9e,l.prototype.multiply=L9e,l.prototype.divide=F9e,l.prototype.remainder=W9e,l.prototype.divideAndRemainder=V9e,l.prototype.modPow=K9e,l.prototype.modInverse=tve,l.prototype.pow=H9e,l.prototype.gcd=Q9e,l.prototype.isProbablePrime=ove,l.prototype.square=B9e;var dr=l;dr.prototype.IsNegative=function(){return this.compareTo(dr.ZERO)==-1},dr.op_Equality=function(d,g){return d.compareTo(g)==0},dr.op_Inequality=function(d,g){return d.compareTo(g)!=0},dr.op_GreaterThan=function(d,g){return d.compareTo(g)>0},dr.op_LessThan=function(d,g){return d.compareTo(g)<0},dr.op_Addition=function(d,g){return new dr(d).add(new dr(g))},dr.op_Subtraction=function(d,g){return new dr(d).subtract(new dr(g))},dr.Int128Mul=function(d,g){return new dr(d).multiply(new dr(g))},dr.op_Division=function(d,g){return d.divide(g)},dr.prototype.ToDouble=function(){return parseFloat(this.toString())};var aY=function(d,g){var C;if(typeof Object.getOwnPropertyNames>"u"){for(C in g.prototype)(typeof d.prototype[C]>"u"||d.prototype[C]===Object.prototype[C])&&(d.prototype[C]=g.prototype[C]);for(C in g)typeof d[C]>"u"&&(d[C]=g[C]);d.$baseCtor=g}else{for(var k=Object.getOwnPropertyNames(g.prototype),D=0;D<k.length;D++)typeof Object.getOwnPropertyDescriptor(d.prototype,k[D])>"u"&&Object.defineProperty(d.prototype,k[D],Object.getOwnPropertyDescriptor(g.prototype,k[D]));for(C in g)typeof d[C]>"u"&&(d[C]=g[C]);d.$baseCtor=g}};e.Path=function(){return[]},e.Paths=function(){return[]},e.DoublePoint=function(){var d=arguments;this.X=0,this.Y=0,d.length===1?(this.X=d[0].X,this.Y=d[0].Y):d.length===2&&(this.X=d[0],this.Y=d[1])},e.DoublePoint0=function(){this.X=0,this.Y=0},e.DoublePoint1=function(d){this.X=d.X,this.Y=d.Y},e.DoublePoint2=function(d,g){this.X=d,this.Y=g},e.PolyNode=function(){this.m_Parent=null,this.m_polygon=new e.Path,this.m_Index=0,this.m_jointype=0,this.m_endtype=0,this.m_Childs=[],this.IsOpen=!1},e.PolyNode.prototype.IsHoleNode=function(){for(var d=!0,g=this.m_Parent;g!==null;)d=!d,g=g.m_Parent;return d},e.PolyNode.prototype.ChildCount=function(){return this.m_Childs.length},e.PolyNode.prototype.Contour=function(){return this.m_polygon},e.PolyNode.prototype.AddChild=function(d){var g=this.m_Childs.length;this.m_Childs.push(d),d.m_Parent=this,d.m_Index=g},e.PolyNode.prototype.GetNext=function(){return this.m_Childs.length>0?this.m_Childs[0]:this.GetNextSiblingUp()},e.PolyNode.prototype.GetNextSiblingUp=function(){return this.m_Parent===null?null:this.m_Index===this.m_Parent.m_Childs.length-1?this.m_Parent.GetNextSiblingUp():this.m_Parent.m_Childs[this.m_Index+1]},e.PolyNode.prototype.Childs=function(){return this.m_Childs},e.PolyNode.prototype.Parent=function(){return this.m_Parent},e.PolyNode.prototype.IsHole=function(){return this.IsHoleNode()},e.PolyTree=function(){this.m_AllPolys=[],e.PolyNode.call(this)},e.PolyTree.prototype.Clear=function(){for(var d=0,g=this.m_AllPolys.length;d<g;d++)this.m_AllPolys[d]=null;this.m_AllPolys.length=0,this.m_Childs.length=0},e.PolyTree.prototype.GetFirst=function(){return this.m_Childs.length>0?this.m_Childs[0]:null},e.PolyTree.prototype.Total=function(){var d=this.m_AllPolys.length;return d>0&&this.m_Childs[0]!==this.m_AllPolys[0]&&d--,d},aY(e.PolyTree,e.PolyNode),e.Math_Abs_Int64=e.Math_Abs_Int32=e.Math_Abs_Double=function(d){return Math.abs(d)},e.Math_Max_Int32_Int32=function(d,g){return Math.max(d,g)},i.msie||i.opera||i.safari?e.Cast_Int32=function(d){return d|0}:e.Cast_Int32=function(d){return~~d},i.chrome?e.Cast_Int64=function(d){return d<-2147483648||d>2147483647?d<0?Math.ceil(d):Math.floor(d):~~d}:i.firefox&&typeof Number.toInteger=="function"?e.Cast_Int64=function(d){return Number.toInteger(d)}:i.msie7||i.msie8?e.Cast_Int64=function(d){return parseInt(d,10)}:i.msie?e.Cast_Int64=function(d){return d<-2147483648||d>2147483647?d<0?Math.ceil(d):Math.floor(d):d|0}:e.Cast_Int64=function(d){return d<0?Math.ceil(d):Math.floor(d)},e.Clear=function(d){d.length=0},e.PI=3.141592653589793,e.PI2=2*3.141592653589793,e.IntPoint=function(){var d=arguments,g=d.length;if(this.X=0,this.Y=0,e.use_xyz)if(this.Z=0,g===3)this.X=d[0],this.Y=d[1],this.Z=d[2];else if(g===2)this.X=d[0],this.Y=d[1],this.Z=0;else if(g===1)if(d[0]instanceof e.DoublePoint){var C=d[0];this.X=e.Clipper.Round(C.X),this.Y=e.Clipper.Round(C.Y),this.Z=0}else{var k=d[0];typeof k.Z>"u"&&(k.Z=0),this.X=k.X,this.Y=k.Y,this.Z=k.Z}else this.X=0,this.Y=0,this.Z=0;else if(g===2)this.X=d[0],this.Y=d[1];else if(g===1)if(d[0]instanceof e.DoublePoint){var C=d[0];this.X=e.Clipper.Round(C.X),this.Y=e.Clipper.Round(C.Y)}else{var k=d[0];this.X=k.X,this.Y=k.Y}else this.X=0,this.Y=0},e.IntPoint.op_Equality=function(d,g){return d.X===g.X&&d.Y===g.Y},e.IntPoint.op_Inequality=function(d,g){return d.X!==g.X||d.Y!==g.Y},e.use_xyz?(e.IntPoint0=function(){this.X=0,this.Y=0,this.Z=0},e.IntPoint1=function(d){this.X=d.X,this.Y=d.Y,this.Z=d.Z},e.IntPoint1dp=function(d){this.X=e.Clipper.Round(d.X),this.Y=e.Clipper.Round(d.Y),this.Z=0},e.IntPoint2=function(d,g){this.X=d,this.Y=g,this.Z=0},e.IntPoint3=function(d,g,C){this.X=d,this.Y=g,this.Z=C}):(e.IntPoint0=function(){this.X=0,this.Y=0},e.IntPoint1=function(d){this.X=d.X,this.Y=d.Y},e.IntPoint1dp=function(d){this.X=e.Clipper.Round(d.X),this.Y=e.Clipper.Round(d.Y)},e.IntPoint2=function(d,g){this.X=d,this.Y=g}),e.IntRect=function(){var d=arguments,g=d.length;g===4?(this.left=d[0],this.top=d[1],this.right=d[2],this.bottom=d[3]):g===1?(this.left=ir.left,this.top=ir.top,this.right=ir.right,this.bottom=ir.bottom):(this.left=0,this.top=0,this.right=0,this.bottom=0)},e.IntRect0=function(){this.left=0,this.top=0,this.right=0,this.bottom=0},e.IntRect1=function(d){this.left=d.left,this.top=d.top,this.right=d.right,this.bottom=d.bottom},e.IntRect4=function(d,g,C,k){this.left=d,this.top=g,this.right=C,this.bottom=k},e.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3},e.PolyType={ptSubject:0,ptClip:1},e.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3},e.JoinType={jtSquare:0,jtRound:1,jtMiter:2},e.EndType={etOpenSquare:0,etOpenRound:1,etOpenButt:2,etClosedLine:3,etClosedPolygon:4},e.EdgeSide={esLeft:0,esRight:1},e.Direction={dRightToLeft:0,dLeftToRight:1},e.TEdge=function(){this.Bot=new e.IntPoint,this.Curr=new e.IntPoint,this.Top=new e.IntPoint,this.Delta=new e.IntPoint,this.Dx=0,this.PolyTyp=e.PolyType.ptSubject,this.Side=e.EdgeSide.esLeft,this.WindDelta=0,this.WindCnt=0,this.WindCnt2=0,this.OutIdx=0,this.Next=null,this.Prev=null,this.NextInLML=null,this.NextInAEL=null,this.PrevInAEL=null,this.NextInSEL=null,this.PrevInSEL=null},e.IntersectNode=function(){this.Edge1=null,this.Edge2=null,this.Pt=new e.IntPoint},e.MyIntersectNodeSort=function(){},e.MyIntersectNodeSort.Compare=function(d,g){var C=g.Pt.Y-d.Pt.Y;return C>0?1:C<0?-1:0},e.LocalMinima=function(){this.Y=0,this.LeftBound=null,this.RightBound=null,this.Next=null},e.Scanbeam=function(){this.Y=0,this.Next=null},e.Maxima=function(){this.X=0,this.Next=null,this.Prev=null},e.OutRec=function(){this.Idx=0,this.IsHole=!1,this.IsOpen=!1,this.FirstLeft=null,this.Pts=null,this.BottomPt=null,this.PolyNode=null},e.OutPt=function(){this.Idx=0,this.Pt=new e.IntPoint,this.Next=null,this.Prev=null},e.Join=function(){this.OutPt1=null,this.OutPt2=null,this.OffPt=new e.IntPoint},e.ClipperBase=function(){this.m_MinimaList=null,this.m_CurrentLM=null,this.m_edges=new Array,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1,this.PreserveCollinear=!1,this.m_MinimaList=null,this.m_CurrentLM=null,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},e.ClipperBase.horizontal=-9007199254740992,e.ClipperBase.Skip=-2,e.ClipperBase.Unassigned=-1,e.ClipperBase.tolerance=1e-20,e.ClipperBase.loRange=47453132,e.ClipperBase.hiRange=0xfffffffffffff,e.ClipperBase.near_zero=function(d){return d>-e.ClipperBase.tolerance&&d<e.ClipperBase.tolerance},e.ClipperBase.IsHorizontal=function(d){return d.Delta.Y===0},e.ClipperBase.prototype.PointIsVertex=function(d,g){var C=g;do{if(e.IntPoint.op_Equality(C.Pt,d))return!0;C=C.Next}while(C!==g);return!1},e.ClipperBase.prototype.PointOnLineSegment=function(d,g,C,k){return k?d.X===g.X&&d.Y===g.Y||d.X===C.X&&d.Y===C.Y||d.X>g.X==d.X<C.X&&d.Y>g.Y==d.Y<C.Y&&dr.op_Equality(dr.Int128Mul(d.X-g.X,C.Y-g.Y),dr.Int128Mul(C.X-g.X,d.Y-g.Y)):d.X===g.X&&d.Y===g.Y||d.X===C.X&&d.Y===C.Y||d.X>g.X==d.X<C.X&&d.Y>g.Y==d.Y<C.Y&&(d.X-g.X)*(C.Y-g.Y)===(C.X-g.X)*(d.Y-g.Y)},e.ClipperBase.prototype.PointOnPolygon=function(d,g,C){for(var k=g;;){if(this.PointOnLineSegment(d,k.Pt,k.Next.Pt,C))return!0;if(k=k.Next,k===g)break}return!1},e.ClipperBase.prototype.SlopesEqual=e.ClipperBase.SlopesEqual=function(){var d=arguments,g=d.length,C,k,D,V,G,Z,ee;return g===3?(C=d[0],k=d[1],ee=d[2],ee?dr.op_Equality(dr.Int128Mul(C.Delta.Y,k.Delta.X),dr.Int128Mul(C.Delta.X,k.Delta.Y)):e.Cast_Int64(C.Delta.Y*k.Delta.X)===e.Cast_Int64(C.Delta.X*k.Delta.Y)):g===4?(D=d[0],V=d[1],G=d[2],ee=d[3],ee?dr.op_Equality(dr.Int128Mul(D.Y-V.Y,V.X-G.X),dr.Int128Mul(D.X-V.X,V.Y-G.Y)):e.Cast_Int64((D.Y-V.Y)*(V.X-G.X))-e.Cast_Int64((D.X-V.X)*(V.Y-G.Y))===0):(D=d[0],V=d[1],G=d[2],Z=d[3],ee=d[4],ee?dr.op_Equality(dr.Int128Mul(D.Y-V.Y,G.X-Z.X),dr.Int128Mul(D.X-V.X,G.Y-Z.Y)):e.Cast_Int64((D.Y-V.Y)*(G.X-Z.X))-e.Cast_Int64((D.X-V.X)*(G.Y-Z.Y))===0)},e.ClipperBase.SlopesEqual3=function(d,g,C){return C?dr.op_Equality(dr.Int128Mul(d.Delta.Y,g.Delta.X),dr.Int128Mul(d.Delta.X,g.Delta.Y)):e.Cast_Int64(d.Delta.Y*g.Delta.X)===e.Cast_Int64(d.Delta.X*g.Delta.Y)},e.ClipperBase.SlopesEqual4=function(d,g,C,k){return k?dr.op_Equality(dr.Int128Mul(d.Y-g.Y,g.X-C.X),dr.Int128Mul(d.X-g.X,g.Y-C.Y)):e.Cast_Int64((d.Y-g.Y)*(g.X-C.X))-e.Cast_Int64((d.X-g.X)*(g.Y-C.Y))===0},e.ClipperBase.SlopesEqual5=function(d,g,C,k,D){return D?dr.op_Equality(dr.Int128Mul(d.Y-g.Y,C.X-k.X),dr.Int128Mul(d.X-g.X,C.Y-k.Y)):e.Cast_Int64((d.Y-g.Y)*(C.X-k.X))-e.Cast_Int64((d.X-g.X)*(C.Y-k.Y))===0},e.ClipperBase.prototype.Clear=function(){this.DisposeLocalMinimaList();for(var d=0,g=this.m_edges.length;d<g;++d){for(var C=0,k=this.m_edges[d].length;C<k;++C)this.m_edges[d][C]=null;e.Clear(this.m_edges[d])}e.Clear(this.m_edges),this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},e.ClipperBase.prototype.DisposeLocalMinimaList=function(){for(;this.m_MinimaList!==null;){var d=this.m_MinimaList.Next;this.m_MinimaList=null,this.m_MinimaList=d}this.m_CurrentLM=null},e.ClipperBase.prototype.RangeTest=function(d,g){g.Value?(d.X>e.ClipperBase.hiRange||d.Y>e.ClipperBase.hiRange||-d.X>e.ClipperBase.hiRange||-d.Y>e.ClipperBase.hiRange)&&e.Error("Coordinate outside allowed range in RangeTest()."):(d.X>e.ClipperBase.loRange||d.Y>e.ClipperBase.loRange||-d.X>e.ClipperBase.loRange||-d.Y>e.ClipperBase.loRange)&&(g.Value=!0,this.RangeTest(d,g))},e.ClipperBase.prototype.InitEdge=function(d,g,C,k){d.Next=g,d.Prev=C,d.Curr.X=k.X,d.Curr.Y=k.Y,e.use_xyz&&(d.Curr.Z=k.Z),d.OutIdx=-1},e.ClipperBase.prototype.InitEdge2=function(d,g){d.Curr.Y>=d.Next.Curr.Y?(d.Bot.X=d.Curr.X,d.Bot.Y=d.Curr.Y,e.use_xyz&&(d.Bot.Z=d.Curr.Z),d.Top.X=d.Next.Curr.X,d.Top.Y=d.Next.Curr.Y,e.use_xyz&&(d.Top.Z=d.Next.Curr.Z)):(d.Top.X=d.Curr.X,d.Top.Y=d.Curr.Y,e.use_xyz&&(d.Top.Z=d.Curr.Z),d.Bot.X=d.Next.Curr.X,d.Bot.Y=d.Next.Curr.Y,e.use_xyz&&(d.Bot.Z=d.Next.Curr.Z)),this.SetDx(d),d.PolyTyp=g},e.ClipperBase.prototype.FindNextLocMin=function(d){for(var g;;){for(;e.IntPoint.op_Inequality(d.Bot,d.Prev.Bot)||e.IntPoint.op_Equality(d.Curr,d.Top);)d=d.Next;if(d.Dx!==e.ClipperBase.horizontal&&d.Prev.Dx!==e.ClipperBase.horizontal)break;for(;d.Prev.Dx===e.ClipperBase.horizontal;)d=d.Prev;for(g=d;d.Dx===e.ClipperBase.horizontal;)d=d.Next;if(d.Top.Y!==d.Prev.Bot.Y){g.Prev.Bot.X<d.Bot.X&&(d=g);break}}return d},e.ClipperBase.prototype.ProcessBound=function(d,g){var C,k=d,D;if(k.OutIdx===e.ClipperBase.Skip){if(d=k,g){for(;d.Top.Y===d.Next.Bot.Y;)d=d.Next;for(;d!==k&&d.Dx===e.ClipperBase.horizontal;)d=d.Prev}else{for(;d.Top.Y===d.Prev.Bot.Y;)d=d.Prev;for(;d!==k&&d.Dx===e.ClipperBase.horizontal;)d=d.Next}if(d===k)g?k=d.Next:k=d.Prev;else{g?d=k.Next:d=k.Prev;var V=new e.LocalMinima;V.Next=null,V.Y=d.Bot.Y,V.LeftBound=null,V.RightBound=d,d.WindDelta=0,k=this.ProcessBound(d,g),this.InsertLocalMinima(V)}return k}if(d.Dx===e.ClipperBase.horizontal&&(g?C=d.Prev:C=d.Next,C.OutIdx!==e.ClipperBase.Skip&&(C.Dx===e.ClipperBase.horizontal?C.Bot.X!==d.Bot.X&&C.Top.X!==d.Bot.X&&this.ReverseHorizontal(d):C.Bot.X!==d.Bot.X&&this.ReverseHorizontal(d))),C=d,g){for(;k.Top.Y===k.Next.Bot.Y&&k.Next.OutIdx!==e.ClipperBase.Skip;)k=k.Next;if(k.Dx===e.ClipperBase.horizontal&&k.Next.OutIdx!==e.ClipperBase.Skip){for(D=k;D.Prev.Dx===e.ClipperBase.horizontal;)D=D.Prev;D.Prev.Top.X>k.Next.Top.X&&(k=D.Prev)}for(;d!==k;)d.NextInLML=d.Next,d.Dx===e.ClipperBase.horizontal&&d!==C&&d.Bot.X!==d.Prev.Top.X&&this.ReverseHorizontal(d),d=d.Next;d.Dx===e.ClipperBase.horizontal&&d!==C&&d.Bot.X!==d.Prev.Top.X&&this.ReverseHorizontal(d),k=k.Next}else{for(;k.Top.Y===k.Prev.Bot.Y&&k.Prev.OutIdx!==e.ClipperBase.Skip;)k=k.Prev;if(k.Dx===e.ClipperBase.horizontal&&k.Prev.OutIdx!==e.ClipperBase.Skip){for(D=k;D.Next.Dx===e.ClipperBase.horizontal;)D=D.Next;(D.Next.Top.X===k.Prev.Top.X||D.Next.Top.X>k.Prev.Top.X)&&(k=D.Next)}for(;d!==k;)d.NextInLML=d.Prev,d.Dx===e.ClipperBase.horizontal&&d!==C&&d.Bot.X!==d.Next.Top.X&&this.ReverseHorizontal(d),d=d.Prev;d.Dx===e.ClipperBase.horizontal&&d!==C&&d.Bot.X!==d.Next.Top.X&&this.ReverseHorizontal(d),k=k.Prev}return k},e.ClipperBase.prototype.AddPath=function(d,g,C){e.use_lines?!C&&g===e.PolyType.ptClip&&e.Error("AddPath: Open paths must be subject."):C||e.Error("AddPath: Open paths have been disabled.");var k=d.length-1;if(C)for(;k>0&&e.IntPoint.op_Equality(d[k],d[0]);)--k;for(;k>0&&e.IntPoint.op_Equality(d[k],d[k-1]);)--k;if(C&&k<2||!C&&k<1)return!1;for(var D=new Array,V=0;V<=k;V++)D.push(new e.TEdge);var G=!0;D[1].Curr.X=d[1].X,D[1].Curr.Y=d[1].Y,e.use_xyz&&(D[1].Curr.Z=d[1].Z);var Z={Value:this.m_UseFullRange};this.RangeTest(d[0],Z),this.m_UseFullRange=Z.Value,Z.Value=this.m_UseFullRange,this.RangeTest(d[k],Z),this.m_UseFullRange=Z.Value,this.InitEdge(D[0],D[1],D[k],d[0]),this.InitEdge(D[k],D[0],D[k-1],d[k]);for(var V=k-1;V>=1;--V)Z.Value=this.m_UseFullRange,this.RangeTest(d[V],Z),this.m_UseFullRange=Z.Value,this.InitEdge(D[V],D[V+1],D[V-1],d[V]);for(var ee=D[0],de=ee,Pe=ee;;){if(de.Curr===de.Next.Curr&&(C||de.Next!==ee)){if(de===de.Next)break;de===ee&&(ee=de.Next),de=this.RemoveEdge(de),Pe=de;continue}if(de.Prev===de.Next)break;if(C&&e.ClipperBase.SlopesEqual(de.Prev.Curr,de.Curr,de.Next.Curr,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(de.Prev.Curr,de.Curr,de.Next.Curr))){de===ee&&(ee=de.Next),de=this.RemoveEdge(de),de=de.Prev,Pe=de;continue}if(de=de.Next,de===Pe||!C&&de.Next===ee)break}if(!C&&de===de.Next||C&&de.Prev===de.Next)return!1;C||(this.m_HasOpenPaths=!0,ee.Prev.OutIdx=e.ClipperBase.Skip),de=ee;do this.InitEdge2(de,g),de=de.Next,G&&de.Curr.Y!==ee.Curr.Y&&(G=!1);while(de!==ee);if(G){if(C)return!1;de.Prev.OutIdx=e.ClipperBase.Skip;var Ae=new e.LocalMinima;for(Ae.Next=null,Ae.Y=de.Bot.Y,Ae.LeftBound=null,Ae.RightBound=de,Ae.RightBound.Side=e.EdgeSide.esRight,Ae.RightBound.WindDelta=0;de.Bot.X!==de.Prev.Top.X&&this.ReverseHorizontal(de),de.Next.OutIdx!==e.ClipperBase.Skip;)de.NextInLML=de.Next,de=de.Next;return this.InsertLocalMinima(Ae),this.m_edges.push(D),!0}this.m_edges.push(D);var $e,Jt=null;for(e.IntPoint.op_Equality(de.Prev.Bot,de.Prev.Top)&&(de=de.Next);de=this.FindNextLocMin(de),de!==Jt;){Jt===null&&(Jt=de);var Ae=new e.LocalMinima;Ae.Next=null,Ae.Y=de.Bot.Y,de.Dx<de.Prev.Dx?(Ae.LeftBound=de.Prev,Ae.RightBound=de,$e=!1):(Ae.LeftBound=de,Ae.RightBound=de.Prev,$e=!0),Ae.LeftBound.Side=e.EdgeSide.esLeft,Ae.RightBound.Side=e.EdgeSide.esRight,C?Ae.LeftBound.Next===Ae.RightBound?Ae.LeftBound.WindDelta=-1:Ae.LeftBound.WindDelta=1:Ae.LeftBound.WindDelta=0,Ae.RightBound.WindDelta=-Ae.LeftBound.WindDelta,de=this.ProcessBound(Ae.LeftBound,$e),de.OutIdx===e.ClipperBase.Skip&&(de=this.ProcessBound(de,$e));var Mt=this.ProcessBound(Ae.RightBound,!$e);Mt.OutIdx===e.ClipperBase.Skip&&(Mt=this.ProcessBound(Mt,!$e)),Ae.LeftBound.OutIdx===e.ClipperBase.Skip?Ae.LeftBound=null:Ae.RightBound.OutIdx===e.ClipperBase.Skip&&(Ae.RightBound=null),this.InsertLocalMinima(Ae),$e||(de=Mt)}return!0},e.ClipperBase.prototype.AddPaths=function(d,g,C){for(var k=!1,D=0,V=d.length;D<V;++D)this.AddPath(d[D],g,C)&&(k=!0);return k},e.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3=function(d,g,C){return e.IntPoint.op_Equality(d,C)||e.IntPoint.op_Equality(d,g)||e.IntPoint.op_Equality(C,g)?!1:d.X!==C.X?g.X>d.X==g.X<C.X:g.Y>d.Y==g.Y<C.Y},e.ClipperBase.prototype.RemoveEdge=function(d){d.Prev.Next=d.Next,d.Next.Prev=d.Prev;var g=d.Next;return d.Prev=null,g},e.ClipperBase.prototype.SetDx=function(d){d.Delta.X=d.Top.X-d.Bot.X,d.Delta.Y=d.Top.Y-d.Bot.Y,d.Delta.Y===0?d.Dx=e.ClipperBase.horizontal:d.Dx=d.Delta.X/d.Delta.Y},e.ClipperBase.prototype.InsertLocalMinima=function(d){if(this.m_MinimaList===null)this.m_MinimaList=d;else if(d.Y>=this.m_MinimaList.Y)d.Next=this.m_MinimaList,this.m_MinimaList=d;else{for(var g=this.m_MinimaList;g.Next!==null&&d.Y<g.Next.Y;)g=g.Next;d.Next=g.Next,g.Next=d}},e.ClipperBase.prototype.PopLocalMinima=function(){this.m_CurrentLM!==null&&(this.m_CurrentLM=this.m_CurrentLM.Next)},e.ClipperBase.prototype.ReverseHorizontal=function(d){var g=d.Top.X;d.Top.X=d.Bot.X,d.Bot.X=g,e.use_xyz&&(g=d.Top.Z,d.Top.Z=d.Bot.Z,d.Bot.Z=g)},e.ClipperBase.prototype.Reset=function(){if(this.m_CurrentLM=this.m_MinimaList,this.m_CurrentLM!==null)for(var d=this.m_MinimaList;d!==null;){var g=d.LeftBound;g!==null&&(g.Curr.X=g.Bot.X,g.Curr.Y=g.Bot.Y,e.use_xyz&&(g.Curr.Z=g.Bot.Z),g.Side=e.EdgeSide.esLeft,g.OutIdx=e.ClipperBase.Unassigned),g=d.RightBound,g!==null&&(g.Curr.X=g.Bot.X,g.Curr.Y=g.Bot.Y,e.use_xyz&&(g.Curr.Z=g.Bot.Z),g.Side=e.EdgeSide.esRight,g.OutIdx=e.ClipperBase.Unassigned),d=d.Next}},e.Clipper=function(d){typeof d>"u"&&(d=0),this.m_PolyOuts=null,this.m_ClipType=e.ClipType.ctIntersection,this.m_Scanbeam=null,this.m_Maxima=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=null,this.m_IntersectNodeComparer=null,this.m_ExecuteLocked=!1,this.m_ClipFillType=e.PolyFillType.pftEvenOdd,this.m_SubjFillType=e.PolyFillType.pftEvenOdd,this.m_Joins=null,this.m_GhostJoins=null,this.m_UsingPolyTree=!1,this.ReverseSolution=!1,this.StrictlySimple=!1,e.ClipperBase.call(this),this.m_Scanbeam=null,this.m_Maxima=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=new Array,this.m_IntersectNodeComparer=e.MyIntersectNodeSort.Compare,this.m_ExecuteLocked=!1,this.m_UsingPolyTree=!1,this.m_PolyOuts=new Array,this.m_Joins=new Array,this.m_GhostJoins=new Array,this.ReverseSolution=(1&d)!==0,this.StrictlySimple=(2&d)!==0,this.PreserveCollinear=(4&d)!==0,e.use_xyz&&(this.ZFillFunction=null)},e.Clipper.ioReverseSolution=1,e.Clipper.ioStrictlySimple=2,e.Clipper.ioPreserveCollinear=4,e.Clipper.prototype.Clear=function(){this.m_edges.length!==0&&(this.DisposeAllPolyPts(),e.ClipperBase.prototype.Clear.call(this))},e.Clipper.prototype.DisposeScanbeamList=function(){for(;this.m_Scanbeam!==null;){var d=this.m_Scanbeam.Next;this.m_Scanbeam=null,this.m_Scanbeam=d}},e.Clipper.prototype.Reset=function(){e.ClipperBase.prototype.Reset.call(this),this.m_Scanbeam=null,this.m_Maxima=null,this.m_ActiveEdges=null,this.m_SortedEdges=null;for(var d=this.m_MinimaList;d!==null;)this.InsertScanbeam(d.Y),d=d.Next},e.Clipper.prototype.InsertScanbeam=function(d){if(this.m_Scanbeam===null)this.m_Scanbeam=new e.Scanbeam,this.m_Scanbeam.Next=null,this.m_Scanbeam.Y=d;else if(d>this.m_Scanbeam.Y){var g=new e.Scanbeam;g.Y=d,g.Next=this.m_Scanbeam,this.m_Scanbeam=g}else{for(var C=this.m_Scanbeam;C.Next!==null&&d<=C.Next.Y;)C=C.Next;if(d==C.Y)return;var g=new e.Scanbeam;g.Y=d,g.Next=C.Next,C.Next=g}},e.Clipper.prototype.InsertMaxima=function(d){var g=new e.Maxima;if(g.X=d,this.m_Maxima===null)this.m_Maxima=g,this.m_Maxima.Next=null,this.m_Maxima.Prev=null;else if(d<this.m_Maxima.X)g.Next=this.m_Maxima,g.Prev=null,this.m_Maxima=g;else{for(var C=this.m_Maxima;C.Next!==null&&d>=C.Next.X;)C=C.Next;if(d===C.X)return;g.Next=C.Next,g.Prev=C,C.Next!==null&&(C.Next.Prev=g),C.Next=g}},e.Clipper.prototype.Execute=function(){var d=arguments,g=d.length,C=d[1]instanceof e.PolyTree;if(g===4&&!C){var k=d[0],D=d[1],V=d[2],G=d[3];if(this.m_ExecuteLocked)return!1;this.m_HasOpenPaths&&e.Error("Error: PolyTree struct is needed for open path clipping."),this.m_ExecuteLocked=!0,e.Clear(D),this.m_SubjFillType=V,this.m_ClipFillType=G,this.m_ClipType=k,this.m_UsingPolyTree=!1;try{var Z=this.ExecuteInternal();Z&&this.BuildResult(D)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return Z}else if(g===4&&C){var k=d[0],ee=d[1],V=d[2],G=d[3];if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=!0,this.m_SubjFillType=V,this.m_ClipFillType=G,this.m_ClipType=k,this.m_UsingPolyTree=!0;try{var Z=this.ExecuteInternal();Z&&this.BuildResult2(ee)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return Z}else if(g===2&&!C){var k=d[0],D=d[1];return this.Execute(k,D,e.PolyFillType.pftEvenOdd,e.PolyFillType.pftEvenOdd)}else if(g===2&&C){var k=d[0],ee=d[1];return this.Execute(k,ee,e.PolyFillType.pftEvenOdd,e.PolyFillType.pftEvenOdd)}},e.Clipper.prototype.FixHoleLinkage=function(d){if(!(d.FirstLeft===null||d.IsHole!==d.FirstLeft.IsHole&&d.FirstLeft.Pts!==null)){for(var g=d.FirstLeft;g!==null&&(g.IsHole===d.IsHole||g.Pts===null);)g=g.FirstLeft;d.FirstLeft=g}},e.Clipper.prototype.ExecuteInternal=function(){try{if(this.Reset(),this.m_CurrentLM===null)return!1;var d=this.PopScanbeam();do{if(this.InsertLocalMinimaIntoAEL(d),this.ProcessHorizontals(),e.Clear(this.m_GhostJoins),this.m_Scanbeam===null)break;var g=this.PopScanbeam();if(!this.ProcessIntersections(g))return!1;this.ProcessEdgesAtTopOfScanbeam(g),d=g}while(this.m_Scanbeam!==null||this.m_CurrentLM!==null);for(var C=0,k=this.m_PolyOuts.length;C<k;C++){var D=this.m_PolyOuts[C];D.Pts===null||D.IsOpen||(D.IsHole^this.ReverseSolution)==this.Area(D)>0&&this.ReversePolyPtLinks(D.Pts)}this.JoinCommonEdges();for(var C=0,k=this.m_PolyOuts.length;C<k;C++){var D=this.m_PolyOuts[C];D.Pts!==null&&!D.IsOpen&&this.FixupOutPolygon(D)}return this.StrictlySimple&&this.DoSimplePolygons(),!0}finally{e.Clear(this.m_Joins),e.Clear(this.m_GhostJoins)}},e.Clipper.prototype.PopScanbeam=function(){var d=this.m_Scanbeam.Y;return this.m_Scanbeam=this.m_Scanbeam.Next,d},e.Clipper.prototype.DisposeAllPolyPts=function(){for(var d=0,g=this.m_PolyOuts.length;d<g;++d)this.DisposeOutRec(d);e.Clear(this.m_PolyOuts)},e.Clipper.prototype.DisposeOutRec=function(d){var g=this.m_PolyOuts[d];g.Pts=null,g=null,this.m_PolyOuts[d]=null},e.Clipper.prototype.AddJoin=function(d,g,C){var k=new e.Join;k.OutPt1=d,k.OutPt2=g,k.OffPt.X=C.X,k.OffPt.Y=C.Y,e.use_xyz&&(k.OffPt.Z=C.Z),this.m_Joins.push(k)},e.Clipper.prototype.AddGhostJoin=function(d,g){var C=new e.Join;C.OutPt1=d,C.OffPt.X=g.X,C.OffPt.Y=g.Y,e.use_xyz&&(C.OffPt.Z=g.Z),this.m_GhostJoins.push(C)},e.Clipper.prototype.SetZ=function(d,g,C){if(this.ZFillFunction!==null){if(d.Z!==0||this.ZFillFunction===null)return;e.IntPoint.op_Equality(d,g.Bot)?d.Z=g.Bot.Z:e.IntPoint.op_Equality(d,g.Top)?d.Z=g.Top.Z:e.IntPoint.op_Equality(d,C.Bot)?d.Z=C.Bot.Z:e.IntPoint.op_Equality(d,C.Top)?d.Z=C.Top.Z:this.ZFillFunction(g.Bot,g.Top,C.Bot,C.Top,d)}},e.Clipper.prototype.InsertLocalMinimaIntoAEL=function(d){for(;this.m_CurrentLM!==null&&this.m_CurrentLM.Y==d;){var g=this.m_CurrentLM.LeftBound,C=this.m_CurrentLM.RightBound;this.PopLocalMinima();var k=null;if(g===null?(this.InsertEdgeIntoAEL(C,null),this.SetWindingCount(C),this.IsContributing(C)&&(k=this.AddOutPt(C,C.Bot))):C===null?(this.InsertEdgeIntoAEL(g,null),this.SetWindingCount(g),this.IsContributing(g)&&(k=this.AddOutPt(g,g.Bot)),this.InsertScanbeam(g.Top.Y)):(this.InsertEdgeIntoAEL(g,null),this.InsertEdgeIntoAEL(C,g),this.SetWindingCount(g),C.WindCnt=g.WindCnt,C.WindCnt2=g.WindCnt2,this.IsContributing(g)&&(k=this.AddLocalMinPoly(g,C,g.Bot)),this.InsertScanbeam(g.Top.Y)),C!==null&&(e.ClipperBase.IsHorizontal(C)?this.AddEdgeToSEL(C):this.InsertScanbeam(C.Top.Y)),!(g===null||C===null)){if(k!==null&&e.ClipperBase.IsHorizontal(C)&&this.m_GhostJoins.length>0&&C.WindDelta!==0)for(var D=0,V=this.m_GhostJoins.length;D<V;D++){var G=this.m_GhostJoins[D];this.HorzSegmentsOverlap(G.OutPt1.Pt.X,G.OffPt.X,C.Bot.X,C.Top.X)&&this.AddJoin(G.OutPt1,k,G.OffPt)}if(g.OutIdx>=0&&g.PrevInAEL!==null&&g.PrevInAEL.Curr.X===g.Bot.X&&g.PrevInAEL.OutIdx>=0&&e.ClipperBase.SlopesEqual(g.PrevInAEL,g,this.m_UseFullRange)&&g.WindDelta!==0&&g.PrevInAEL.WindDelta!==0){var Z=this.AddOutPt(g.PrevInAEL,g.Bot);this.AddJoin(k,Z,g.Top)}if(g.NextInAEL!==C){if(C.OutIdx>=0&&C.PrevInAEL.OutIdx>=0&&e.ClipperBase.SlopesEqual(C.PrevInAEL,C,this.m_UseFullRange)&&C.WindDelta!==0&&C.PrevInAEL.WindDelta!==0){var Z=this.AddOutPt(C.PrevInAEL,C.Bot);this.AddJoin(k,Z,C.Top)}var ee=g.NextInAEL;if(ee!==null)for(;ee!==C;)this.IntersectEdges(C,ee,g.Curr,!1),ee=ee.NextInAEL}}}},e.Clipper.prototype.InsertEdgeIntoAEL=function(d,g){if(this.m_ActiveEdges===null)d.PrevInAEL=null,d.NextInAEL=null,this.m_ActiveEdges=d;else if(g===null&&this.E2InsertsBeforeE1(this.m_ActiveEdges,d))d.PrevInAEL=null,d.NextInAEL=this.m_ActiveEdges,this.m_ActiveEdges.PrevInAEL=d,this.m_ActiveEdges=d;else{for(g===null&&(g=this.m_ActiveEdges);g.NextInAEL!==null&&!this.E2InsertsBeforeE1(g.NextInAEL,d);)g=g.NextInAEL;d.NextInAEL=g.NextInAEL,g.NextInAEL!==null&&(g.NextInAEL.PrevInAEL=d),d.PrevInAEL=g,g.NextInAEL=d}},e.Clipper.prototype.E2InsertsBeforeE1=function(d,g){return g.Curr.X===d.Curr.X?g.Top.Y>d.Top.Y?g.Top.X<e.Clipper.TopX(d,g.Top.Y):d.Top.X>e.Clipper.TopX(g,d.Top.Y):g.Curr.X<d.Curr.X},e.Clipper.prototype.IsEvenOddFillType=function(d){return d.PolyTyp===e.PolyType.ptSubject?this.m_SubjFillType===e.PolyFillType.pftEvenOdd:this.m_ClipFillType===e.PolyFillType.pftEvenOdd},e.Clipper.prototype.IsEvenOddAltFillType=function(d){return d.PolyTyp===e.PolyType.ptSubject?this.m_ClipFillType===e.PolyFillType.pftEvenOdd:this.m_SubjFillType===e.PolyFillType.pftEvenOdd},e.Clipper.prototype.IsContributing=function(d){var g,C;switch(d.PolyTyp===e.PolyType.ptSubject?(g=this.m_SubjFillType,C=this.m_ClipFillType):(g=this.m_ClipFillType,C=this.m_SubjFillType),g){case e.PolyFillType.pftEvenOdd:if(d.WindDelta===0&&d.WindCnt!==1)return!1;break;case e.PolyFillType.pftNonZero:if(Math.abs(d.WindCnt)!==1)return!1;break;case e.PolyFillType.pftPositive:if(d.WindCnt!==1)return!1;break;default:if(d.WindCnt!==-1)return!1;break}switch(this.m_ClipType){case e.ClipType.ctIntersection:switch(C){case e.PolyFillType.pftEvenOdd:case e.PolyFillType.pftNonZero:return d.WindCnt2!==0;case e.PolyFillType.pftPositive:return d.WindCnt2>0;default:return d.WindCnt2<0}case e.ClipType.ctUnion:switch(C){case e.PolyFillType.pftEvenOdd:case e.PolyFillType.pftNonZero:return d.WindCnt2===0;case e.PolyFillType.pftPositive:return d.WindCnt2<=0;default:return d.WindCnt2>=0}case e.ClipType.ctDifference:if(d.PolyTyp===e.PolyType.ptSubject)switch(C){case e.PolyFillType.pftEvenOdd:case e.PolyFillType.pftNonZero:return d.WindCnt2===0;case e.PolyFillType.pftPositive:return d.WindCnt2<=0;default:return d.WindCnt2>=0}else switch(C){case e.PolyFillType.pftEvenOdd:case e.PolyFillType.pftNonZero:return d.WindCnt2!==0;case e.PolyFillType.pftPositive:return d.WindCnt2>0;default:return d.WindCnt2<0}case e.ClipType.ctXor:if(d.WindDelta===0)switch(C){case e.PolyFillType.pftEvenOdd:case e.PolyFillType.pftNonZero:return d.WindCnt2===0;case e.PolyFillType.pftPositive:return d.WindCnt2<=0;default:return d.WindCnt2>=0}else return!0}return!0},e.Clipper.prototype.SetWindingCount=function(d){for(var g=d.PrevInAEL;g!==null&&(g.PolyTyp!==d.PolyTyp||g.WindDelta===0);)g=g.PrevInAEL;if(g===null)d.WindCnt=d.WindDelta===0?1:d.WindDelta,d.WindCnt2=0,g=this.m_ActiveEdges;else if(d.WindDelta===0&&this.m_ClipType!==e.ClipType.ctUnion)d.WindCnt=1,d.WindCnt2=g.WindCnt2,g=g.NextInAEL;else if(this.IsEvenOddFillType(d)){if(d.WindDelta===0){for(var C=!0,k=g.PrevInAEL;k!==null;)k.PolyTyp===g.PolyTyp&&k.WindDelta!==0&&(C=!C),k=k.PrevInAEL;d.WindCnt=C?0:1}else d.WindCnt=d.WindDelta;d.WindCnt2=g.WindCnt2,g=g.NextInAEL}else g.WindCnt*g.WindDelta<0?Math.abs(g.WindCnt)>1?g.WindDelta*d.WindDelta<0?d.WindCnt=g.WindCnt:d.WindCnt=g.WindCnt+d.WindDelta:d.WindCnt=d.WindDelta===0?1:d.WindDelta:d.WindDelta===0?d.WindCnt=g.WindCnt<0?g.WindCnt-1:g.WindCnt+1:g.WindDelta*d.WindDelta<0?d.WindCnt=g.WindCnt:d.WindCnt=g.WindCnt+d.WindDelta,d.WindCnt2=g.WindCnt2,g=g.NextInAEL;if(this.IsEvenOddAltFillType(d))for(;g!==d;)g.WindDelta!==0&&(d.WindCnt2=d.WindCnt2===0?1:0),g=g.NextInAEL;else for(;g!==d;)d.WindCnt2+=g.WindDelta,g=g.NextInAEL},e.Clipper.prototype.AddEdgeToSEL=function(d){this.m_SortedEdges===null?(this.m_SortedEdges=d,d.PrevInSEL=null,d.NextInSEL=null):(d.NextInSEL=this.m_SortedEdges,d.PrevInSEL=null,this.m_SortedEdges.PrevInSEL=d,this.m_SortedEdges=d)},e.Clipper.prototype.CopyAELToSEL=function(){var d=this.m_ActiveEdges;for(this.m_SortedEdges=d;d!==null;)d.PrevInSEL=d.PrevInAEL,d.NextInSEL=d.NextInAEL,d=d.NextInAEL},e.Clipper.prototype.SwapPositionsInAEL=function(d,g){if(!(d.NextInAEL==d.PrevInAEL||g.NextInAEL==g.PrevInAEL)){if(d.NextInAEL==g){var C=g.NextInAEL;C!==null&&(C.PrevInAEL=d);var k=d.PrevInAEL;k!==null&&(k.NextInAEL=g),g.PrevInAEL=k,g.NextInAEL=d,d.PrevInAEL=g,d.NextInAEL=C}else if(g.NextInAEL==d){var C=d.NextInAEL;C!==null&&(C.PrevInAEL=g);var k=g.PrevInAEL;k!==null&&(k.NextInAEL=d),d.PrevInAEL=k,d.NextInAEL=g,g.PrevInAEL=d,g.NextInAEL=C}else{var C=d.NextInAEL,k=d.PrevInAEL;d.NextInAEL=g.NextInAEL,d.NextInAEL!==null&&(d.NextInAEL.PrevInAEL=d),d.PrevInAEL=g.PrevInAEL,d.PrevInAEL!==null&&(d.PrevInAEL.NextInAEL=d),g.NextInAEL=C,g.NextInAEL!==null&&(g.NextInAEL.PrevInAEL=g),g.PrevInAEL=k,g.PrevInAEL!==null&&(g.PrevInAEL.NextInAEL=g)}d.PrevInAEL===null?this.m_ActiveEdges=d:g.PrevInAEL===null&&(this.m_ActiveEdges=g)}},e.Clipper.prototype.SwapPositionsInSEL=function(d,g){if(!(d.NextInSEL===null&&d.PrevInSEL===null)&&!(g.NextInSEL===null&&g.PrevInSEL===null)){if(d.NextInSEL===g){var C=g.NextInSEL;C!==null&&(C.PrevInSEL=d);var k=d.PrevInSEL;k!==null&&(k.NextInSEL=g),g.PrevInSEL=k,g.NextInSEL=d,d.PrevInSEL=g,d.NextInSEL=C}else if(g.NextInSEL===d){var C=d.NextInSEL;C!==null&&(C.PrevInSEL=g);var k=g.PrevInSEL;k!==null&&(k.NextInSEL=d),d.PrevInSEL=k,d.NextInSEL=g,g.PrevInSEL=d,g.NextInSEL=C}else{var C=d.NextInSEL,k=d.PrevInSEL;d.NextInSEL=g.NextInSEL,d.NextInSEL!==null&&(d.NextInSEL.PrevInSEL=d),d.PrevInSEL=g.PrevInSEL,d.PrevInSEL!==null&&(d.PrevInSEL.NextInSEL=d),g.NextInSEL=C,g.NextInSEL!==null&&(g.NextInSEL.PrevInSEL=g),g.PrevInSEL=k,g.PrevInSEL!==null&&(g.PrevInSEL.NextInSEL=g)}d.PrevInSEL===null?this.m_SortedEdges=d:g.PrevInSEL===null&&(this.m_SortedEdges=g)}},e.Clipper.prototype.AddLocalMaxPoly=function(d,g,C){this.AddOutPt(d,C),g.WindDelta===0&&this.AddOutPt(g,C),d.OutIdx===g.OutIdx?(d.OutIdx=-1,g.OutIdx=-1):d.OutIdx<g.OutIdx?this.AppendPolygon(d,g):this.AppendPolygon(g,d)},e.Clipper.prototype.AddLocalMinPoly=function(d,g,C){var k,D,V;if(e.ClipperBase.IsHorizontal(g)||d.Dx>g.Dx?(k=this.AddOutPt(d,C),g.OutIdx=d.OutIdx,d.Side=e.EdgeSide.esLeft,g.Side=e.EdgeSide.esRight,D=d,D.PrevInAEL===g?V=g.PrevInAEL:V=D.PrevInAEL):(k=this.AddOutPt(g,C),d.OutIdx=g.OutIdx,d.Side=e.EdgeSide.esRight,g.Side=e.EdgeSide.esLeft,D=g,D.PrevInAEL==d?V=d.PrevInAEL:V=D.PrevInAEL),V!==null&&V.OutIdx>=0&&e.Clipper.TopX(V,C.Y)==e.Clipper.TopX(D,C.Y)&&e.ClipperBase.SlopesEqual(D,V,this.m_UseFullRange)&&D.WindDelta!==0&&V.WindDelta!==0){var G=this.AddOutPt(V,C);this.AddJoin(k,G,D.Top)}return k},e.Clipper.prototype.CreateOutRec=function(){var d=new e.OutRec;return d.Idx=-1,d.IsHole=!1,d.IsOpen=!1,d.FirstLeft=null,d.Pts=null,d.BottomPt=null,d.PolyNode=null,this.m_PolyOuts.push(d),d.Idx=this.m_PolyOuts.length-1,d},e.Clipper.prototype.AddOutPt=function(d,g){if(d.OutIdx<0){var C=this.CreateOutRec();C.IsOpen=d.WindDelta===0;var k=new e.OutPt;return C.Pts=k,k.Idx=C.Idx,k.Pt.X=g.X,k.Pt.Y=g.Y,e.use_xyz&&(k.Pt.Z=g.Z),k.Next=k,k.Prev=k,C.IsOpen||this.SetHoleState(d,C),d.OutIdx=C.Idx,k}else{var C=this.m_PolyOuts[d.OutIdx],D=C.Pts,V=d.Side==e.EdgeSide.esLeft;if(V&&e.IntPoint.op_Equality(g,D.Pt))return D;if(!V&&e.IntPoint.op_Equality(g,D.Prev.Pt))return D.Prev;var k=new e.OutPt;return k.Idx=C.Idx,k.Pt.X=g.X,k.Pt.Y=g.Y,e.use_xyz&&(k.Pt.Z=g.Z),k.Next=D,k.Prev=D.Prev,k.Prev.Next=k,D.Prev=k,V&&(C.Pts=k),k}},e.Clipper.prototype.GetLastOutPt=function(d){var g=this.m_PolyOuts[d.OutIdx];return d.Side==e.EdgeSide.esLeft?g.Pts:g.Pts.Prev},e.Clipper.prototype.SwapPoints=function(d,g){var C=new e.IntPoint(d.Value);d.Value.X=g.Value.X,d.Value.Y=g.Value.Y,e.use_xyz&&(d.Value.Z=g.Value.Z),g.Value.X=C.X,g.Value.Y=C.Y,e.use_xyz&&(g.Value.Z=C.Z)},e.Clipper.prototype.HorzSegmentsOverlap=function(d,g,C,k){var D;return d>g&&(D=d,d=g,g=D),C>k&&(D=C,C=k,k=D),d<k&&C<g},e.Clipper.prototype.SetHoleState=function(d,g){for(var C=!1,k=d.PrevInAEL;k!==null;)k.OutIdx>=0&&k.WindDelta!=0&&(C=!C,g.FirstLeft===null&&(g.FirstLeft=this.m_PolyOuts[k.OutIdx])),k=k.PrevInAEL;C&&(g.IsHole=!0)},e.Clipper.prototype.GetDx=function(d,g){return d.Y===g.Y?e.ClipperBase.horizontal:(g.X-d.X)/(g.Y-d.Y)},e.Clipper.prototype.FirstIsBottomPt=function(d,g){for(var C=d.Prev;e.IntPoint.op_Equality(C.Pt,d.Pt)&&C!==d;)C=C.Prev;var k=Math.abs(this.GetDx(d.Pt,C.Pt));for(C=d.Next;e.IntPoint.op_Equality(C.Pt,d.Pt)&&C!==d;)C=C.Next;var D=Math.abs(this.GetDx(d.Pt,C.Pt));for(C=g.Prev;e.IntPoint.op_Equality(C.Pt,g.Pt)&&C!==g;)C=C.Prev;var V=Math.abs(this.GetDx(g.Pt,C.Pt));for(C=g.Next;e.IntPoint.op_Equality(C.Pt,g.Pt)&&C!==g;)C=C.Next;var G=Math.abs(this.GetDx(g.Pt,C.Pt));return k>=V&&k>=G||D>=V&&D>=G},e.Clipper.prototype.GetBottomPt=function(d){for(var g=null,C=d.Next;C!==d;)C.Pt.Y>d.Pt.Y?(d=C,g=null):C.Pt.Y===d.Pt.Y&&C.Pt.X<=d.Pt.X&&(C.Pt.X<d.Pt.X?(g=null,d=C):C.Next!==d&&C.Prev!==d&&(g=C)),C=C.Next;if(g!==null)for(;g!==C;)for(this.FirstIsBottomPt(C,g)||(d=g),g=g.Next;e.IntPoint.op_Inequality(g.Pt,d.Pt);)g=g.Next;return d},e.Clipper.prototype.GetLowermostRec=function(d,g){d.BottomPt===null&&(d.BottomPt=this.GetBottomPt(d.Pts)),g.BottomPt===null&&(g.BottomPt=this.GetBottomPt(g.Pts));var C=d.BottomPt,k=g.BottomPt;return C.Pt.Y>k.Pt.Y?d:C.Pt.Y<k.Pt.Y?g:C.Pt.X<k.Pt.X?d:C.Pt.X>k.Pt.X||C.Next===C?g:k.Next===k||this.FirstIsBottomPt(C,k)?d:g},e.Clipper.prototype.Param1RightOfParam2=function(d,g){do if(d=d.FirstLeft,d===g)return!0;while(d!==null);return!1},e.Clipper.prototype.GetOutRec=function(d){for(var g=this.m_PolyOuts[d];g!==this.m_PolyOuts[g.Idx];)g=this.m_PolyOuts[g.Idx];return g},e.Clipper.prototype.AppendPolygon=function(d,g){var C=this.m_PolyOuts[d.OutIdx],k=this.m_PolyOuts[g.OutIdx],D;this.Param1RightOfParam2(C,k)?D=k:this.Param1RightOfParam2(k,C)?D=C:D=this.GetLowermostRec(C,k);var V=C.Pts,G=V.Prev,Z=k.Pts,ee=Z.Prev,de;d.Side===e.EdgeSide.esLeft?(g.Side===e.EdgeSide.esLeft?(this.ReversePolyPtLinks(Z),Z.Next=V,V.Prev=Z,G.Next=ee,ee.Prev=G,C.Pts=ee):(ee.Next=V,V.Prev=ee,Z.Prev=G,G.Next=Z,C.Pts=Z),de=e.EdgeSide.esLeft):(g.Side===e.EdgeSide.esRight?(this.ReversePolyPtLinks(Z),G.Next=ee,ee.Prev=G,Z.Next=V,V.Prev=Z):(G.Next=Z,Z.Prev=G,V.Prev=ee,ee.Next=V),de=e.EdgeSide.esRight),C.BottomPt=null,D===k&&(k.FirstLeft!==C&&(C.FirstLeft=k.FirstLeft),C.IsHole=k.IsHole),k.Pts=null,k.BottomPt=null,k.FirstLeft=C;var Pe=d.OutIdx,Ae=g.OutIdx;d.OutIdx=-1,g.OutIdx=-1;for(var $e=this.m_ActiveEdges;$e!==null;){if($e.OutIdx===Ae){$e.OutIdx=Pe,$e.Side=de;break}$e=$e.NextInAEL}k.Idx=C.Idx},e.Clipper.prototype.ReversePolyPtLinks=function(d){if(d!==null){var g,C;g=d;do C=g.Next,g.Next=g.Prev,g.Prev=C,g=C;while(g!==d)}},e.Clipper.SwapSides=function(d,g){var C=d.Side;d.Side=g.Side,g.Side=C},e.Clipper.SwapPolyIndexes=function(d,g){var C=d.OutIdx;d.OutIdx=g.OutIdx,g.OutIdx=C},e.Clipper.prototype.IntersectEdges=function(d,g,C){var k=d.OutIdx>=0,D=g.OutIdx>=0;if(e.use_xyz&&this.SetZ(C,d,g),e.use_lines&&(d.WindDelta===0||g.WindDelta===0)){if(d.WindDelta===0&&g.WindDelta===0)return;d.PolyTyp===g.PolyTyp&&d.WindDelta!==g.WindDelta&&this.m_ClipType===e.ClipType.ctUnion?d.WindDelta===0?D&&(this.AddOutPt(d,C),k&&(d.OutIdx=-1)):k&&(this.AddOutPt(g,C),D&&(g.OutIdx=-1)):d.PolyTyp!==g.PolyTyp&&(d.WindDelta===0&&Math.abs(g.WindCnt)===1&&(this.m_ClipType!==e.ClipType.ctUnion||g.WindCnt2===0)?(this.AddOutPt(d,C),k&&(d.OutIdx=-1)):g.WindDelta===0&&Math.abs(d.WindCnt)===1&&(this.m_ClipType!==e.ClipType.ctUnion||d.WindCnt2===0)&&(this.AddOutPt(g,C),D&&(g.OutIdx=-1)));return}if(d.PolyTyp===g.PolyTyp)if(this.IsEvenOddFillType(d)){var V=d.WindCnt;d.WindCnt=g.WindCnt,g.WindCnt=V}else d.WindCnt+g.WindDelta===0?d.WindCnt=-d.WindCnt:d.WindCnt+=g.WindDelta,g.WindCnt-d.WindDelta===0?g.WindCnt=-g.WindCnt:g.WindCnt-=d.WindDelta;else this.IsEvenOddFillType(g)?d.WindCnt2=d.WindCnt2===0?1:0:d.WindCnt2+=g.WindDelta,this.IsEvenOddFillType(d)?g.WindCnt2=g.WindCnt2===0?1:0:g.WindCnt2-=d.WindDelta;var G,Z,ee,de;d.PolyTyp===e.PolyType.ptSubject?(G=this.m_SubjFillType,ee=this.m_ClipFillType):(G=this.m_ClipFillType,ee=this.m_SubjFillType),g.PolyTyp===e.PolyType.ptSubject?(Z=this.m_SubjFillType,de=this.m_ClipFillType):(Z=this.m_ClipFillType,de=this.m_SubjFillType);var Pe,Ae;switch(G){case e.PolyFillType.pftPositive:Pe=d.WindCnt;break;case e.PolyFillType.pftNegative:Pe=-d.WindCnt;break;default:Pe=Math.abs(d.WindCnt);break}switch(Z){case e.PolyFillType.pftPositive:Ae=g.WindCnt;break;case e.PolyFillType.pftNegative:Ae=-g.WindCnt;break;default:Ae=Math.abs(g.WindCnt);break}if(k&&D)Pe!==0&&Pe!==1||Ae!==0&&Ae!==1||d.PolyTyp!==g.PolyTyp&&this.m_ClipType!==e.ClipType.ctXor?this.AddLocalMaxPoly(d,g,C):(this.AddOutPt(d,C),this.AddOutPt(g,C),e.Clipper.SwapSides(d,g),e.Clipper.SwapPolyIndexes(d,g));else if(k)(Ae===0||Ae===1)&&(this.AddOutPt(d,C),e.Clipper.SwapSides(d,g),e.Clipper.SwapPolyIndexes(d,g));else if(D)(Pe===0||Pe===1)&&(this.AddOutPt(g,C),e.Clipper.SwapSides(d,g),e.Clipper.SwapPolyIndexes(d,g));else if((Pe===0||Pe===1)&&(Ae===0||Ae===1)){var $e,Jt;switch(ee){case e.PolyFillType.pftPositive:$e=d.WindCnt2;break;case e.PolyFillType.pftNegative:$e=-d.WindCnt2;break;default:$e=Math.abs(d.WindCnt2);break}switch(de){case e.PolyFillType.pftPositive:Jt=g.WindCnt2;break;case e.PolyFillType.pftNegative:Jt=-g.WindCnt2;break;default:Jt=Math.abs(g.WindCnt2);break}if(d.PolyTyp!==g.PolyTyp)this.AddLocalMinPoly(d,g,C);else if(Pe===1&&Ae===1)switch(this.m_ClipType){case e.ClipType.ctIntersection:$e>0&&Jt>0&&this.AddLocalMinPoly(d,g,C);break;case e.ClipType.ctUnion:$e<=0&&Jt<=0&&this.AddLocalMinPoly(d,g,C);break;case e.ClipType.ctDifference:(d.PolyTyp===e.PolyType.ptClip&&$e>0&&Jt>0||d.PolyTyp===e.PolyType.ptSubject&&$e<=0&&Jt<=0)&&this.AddLocalMinPoly(d,g,C);break;case e.ClipType.ctXor:this.AddLocalMinPoly(d,g,C);break}else e.Clipper.SwapSides(d,g)}},e.Clipper.prototype.DeleteFromAEL=function(d){var g=d.PrevInAEL,C=d.NextInAEL;g===null&&C===null&&d!==this.m_ActiveEdges||(g!==null?g.NextInAEL=C:this.m_ActiveEdges=C,C!==null&&(C.PrevInAEL=g),d.NextInAEL=null,d.PrevInAEL=null)},e.Clipper.prototype.DeleteFromSEL=function(d){var g=d.PrevInSEL,C=d.NextInSEL;g===null&&C===null&&d!==this.m_SortedEdges||(g!==null?g.NextInSEL=C:this.m_SortedEdges=C,C!==null&&(C.PrevInSEL=g),d.NextInSEL=null,d.PrevInSEL=null)},e.Clipper.prototype.UpdateEdgeIntoAEL=function(d){d.NextInLML===null&&e.Error("UpdateEdgeIntoAEL: invalid call");var g=d.PrevInAEL,C=d.NextInAEL;return d.NextInLML.OutIdx=d.OutIdx,g!==null?g.NextInAEL=d.NextInLML:this.m_ActiveEdges=d.NextInLML,C!==null&&(C.PrevInAEL=d.NextInLML),d.NextInLML.Side=d.Side,d.NextInLML.WindDelta=d.WindDelta,d.NextInLML.WindCnt=d.WindCnt,d.NextInLML.WindCnt2=d.WindCnt2,d=d.NextInLML,d.Curr.X=d.Bot.X,d.Curr.Y=d.Bot.Y,e.use_xyz&&(d.Curr.Z=d.Bot.Z),d.PrevInAEL=g,d.NextInAEL=C,e.ClipperBase.IsHorizontal(d)||this.InsertScanbeam(d.Top.Y),d},e.Clipper.prototype.ProcessHorizontals=function(){for(var d=this.m_SortedEdges;d!==null;)this.DeleteFromSEL(d),this.ProcessHorizontal(d),d=this.m_SortedEdges},e.Clipper.prototype.GetHorzDirection=function(d,g){d.Bot.X<d.Top.X?(g.Left=d.Bot.X,g.Right=d.Top.X,g.Dir=e.Direction.dLeftToRight):(g.Left=d.Top.X,g.Right=d.Bot.X,g.Dir=e.Direction.dRightToLeft)},e.Clipper.prototype.ProcessHorizontal=function(d){var g={Dir:null,Left:null,Right:null};this.GetHorzDirection(d,g);for(var C=g.Dir,k=g.Left,D=g.Right,V=d,G=null;V.NextInLML!==null&&e.ClipperBase.IsHorizontal(V.NextInLML);)V=V.NextInLML;V.NextInLML===null&&(G=this.GetMaximaPair(V));var Z=this.m_Maxima;if(Z!==null)if(C===e.Direction.dLeftToRight){for(;Z!==null&&Z.X<=d.Bot.X;)Z=Z.Next;Z!==null&&Z.X>=V.Top.X&&(Z=null)}else{for(;Z.Next!=null&&Z.Next.X<d.Bot.X;)Z=Z.Next;Z.X<=V.Top.X&&(Z=null)}for(var ee=null;;){for(var de=d===V,Pe=this.GetNextInAEL(d,C);Pe!==null;){if(Z!=null)if(C===e.Direction.dLeftToRight)for(;Z!==null&&Z.X<Pe.Curr.X;)d.OutIdx>=0&&this.AddOutPt(d,new e.IntPoint(Z.X,d.Bot.Y)),Z=Z.Next;else for(;Z!==null&&Z.X>Pe.Curr.X;)d.OutIdx>=0&&this.AddOutPt(d,new e.IntPoint(Z.X,d.Bot.Y)),Z=Z.Prev;if(C===e.Direction.dLeftToRight&&Pe.Curr.X>D||C===e.Direction.dRightToLeft&&Pe.Curr.X<k||Pe.Curr.X==d.Top.X&&d.NextInLML!=null&&Pe.Dx<d.NextInLML.Dx)break;if(d.OutIdx>=0){ee=this.AddOutPt(d,Pe.Curr);for(var Ae=this.m_SortedEdges;Ae!==null;){if(Ae.OutIdx>=0&&this.HorzSegmentsOverlap(d.Bot.X,d.Top.X,Ae.Bot.X,Ae.Top.X)){var $e=this.GetLastOutPt(Ae);this.AddJoin($e,ee,Ae.Top)}Ae=Ae.NextInSEL}this.AddGhostJoin(ee,d.Bot)}if(Pe===G&&de){d.OutIdx>=0&&this.AddLocalMaxPoly(d,G,d.Top),this.DeleteFromAEL(d),this.DeleteFromAEL(G);return}if(C==e.Direction.dLeftToRight){var Jt=new e.IntPoint(Pe.Curr.X,d.Curr.Y);this.IntersectEdges(d,Pe,Jt)}else{var Jt=new e.IntPoint(Pe.Curr.X,d.Curr.Y);this.IntersectEdges(Pe,d,Jt)}var Mt=this.GetNextInAEL(Pe,C);this.SwapPositionsInAEL(d,Pe),Pe=Mt}if(d.NextInLML==null||!e.ClipperBase.IsHorizontal(d.NextInLML))break;d=this.UpdateEdgeIntoAEL(d),d.OutIdx>=0&&this.AddOutPt(d,d.Bot);var g={Dir:C,Left:k,Right:D};this.GetHorzDirection(d,g),C=g.Dir,k=g.Left,D=g.Right}if(d.OutIdx>=0&&ee===null){ee=this.GetLastOutPt(d);for(var Ae=this.m_SortedEdges;Ae!==null;){if(Ae.OutIdx>=0&&this.HorzSegmentsOverlap(d.Bot.X,d.Top.X,Ae.Bot.X,Ae.Top.X)){var $e=this.GetLastOutPt(Ae);this.AddJoin($e,ee,Ae.Top)}Ae=Ae.NextInSEL}this.AddGhostJoin(ee,d.Top)}if(d.NextInLML!==null)if(d.OutIdx>=0){if(ee=this.AddOutPt(d,d.Top),d=this.UpdateEdgeIntoAEL(d),d.WindDelta===0)return;var Ir=d.PrevInAEL,Mt=d.NextInAEL;if(Ir!==null&&Ir.Curr.X===d.Bot.X&&Ir.Curr.Y===d.Bot.Y&&Ir.WindDelta!==0&&Ir.OutIdx>=0&&Ir.Curr.Y>Ir.Top.Y&&e.ClipperBase.SlopesEqual(d,Ir,this.m_UseFullRange)){var $e=this.AddOutPt(Ir,d.Bot);this.AddJoin(ee,$e,d.Top)}else if(Mt!==null&&Mt.Curr.X===d.Bot.X&&Mt.Curr.Y===d.Bot.Y&&Mt.WindDelta!==0&&Mt.OutIdx>=0&&Mt.Curr.Y>Mt.Top.Y&&e.ClipperBase.SlopesEqual(d,Mt,this.m_UseFullRange)){var $e=this.AddOutPt(Mt,d.Bot);this.AddJoin(ee,$e,d.Top)}}else d=this.UpdateEdgeIntoAEL(d);else d.OutIdx>=0&&this.AddOutPt(d,d.Top),this.DeleteFromAEL(d)},e.Clipper.prototype.GetNextInAEL=function(d,g){return g===e.Direction.dLeftToRight?d.NextInAEL:d.PrevInAEL},e.Clipper.prototype.IsMinima=function(d){return d!==null&&d.Prev.NextInLML!==d&&d.Next.NextInLML!==d},e.Clipper.prototype.IsMaxima=function(d,g){return d!==null&&d.Top.Y===g&&d.NextInLML===null},e.Clipper.prototype.IsIntermediate=function(d,g){return d.Top.Y===g&&d.NextInLML!==null},e.Clipper.prototype.GetMaximaPair=function(d){var g=null;return e.IntPoint.op_Equality(d.Next.Top,d.Top)&&d.Next.NextInLML===null?g=d.Next:e.IntPoint.op_Equality(d.Prev.Top,d.Top)&&d.Prev.NextInLML===null&&(g=d.Prev),g!==null&&(g.OutIdx==-2||g.NextInAEL==g.PrevInAEL&&!e.ClipperBase.IsHorizontal(g))?null:g},e.Clipper.prototype.ProcessIntersections=function(d){if(this.m_ActiveEdges===null)return!0;try{if(this.BuildIntersectList(d),this.m_IntersectList.length===0)return!0;if(this.m_IntersectList.length===1||this.FixupIntersectionOrder())this.ProcessIntersectList();else return!1}catch{this.m_SortedEdges=null,this.m_IntersectList.length=0,e.Error("ProcessIntersections error")}return this.m_SortedEdges=null,!0},e.Clipper.prototype.BuildIntersectList=function(d){if(this.m_ActiveEdges!==null){var g=this.m_ActiveEdges;for(this.m_SortedEdges=g;g!==null;)g.PrevInSEL=g.PrevInAEL,g.NextInSEL=g.NextInAEL,g.Curr.X=e.Clipper.TopX(g,d),g=g.NextInAEL;for(var C=!0;C&&this.m_SortedEdges!==null;){for(C=!1,g=this.m_SortedEdges;g.NextInSEL!==null;){var k=g.NextInSEL,D=new e.IntPoint;if(g.Curr.X>k.Curr.X){this.IntersectPoint(g,k,D);var V=new e.IntersectNode;V.Edge1=g,V.Edge2=k,V.Pt.X=D.X,V.Pt.Y=D.Y,e.use_xyz&&(V.Pt.Z=D.Z),this.m_IntersectList.push(V),this.SwapPositionsInSEL(g,k),C=!0}else g=k}if(g.PrevInSEL!==null)g.PrevInSEL.NextInSEL=null;else break}this.m_SortedEdges=null}},e.Clipper.prototype.EdgesAdjacent=function(d){return d.Edge1.NextInSEL===d.Edge2||d.Edge1.PrevInSEL===d.Edge2},e.Clipper.IntersectNodeSort=function(d,g){return g.Pt.Y-d.Pt.Y},e.Clipper.prototype.FixupIntersectionOrder=function(){this.m_IntersectList.sort(this.m_IntersectNodeComparer),this.CopyAELToSEL();for(var d=this.m_IntersectList.length,g=0;g<d;g++){if(!this.EdgesAdjacent(this.m_IntersectList[g])){for(var C=g+1;C<d&&!this.EdgesAdjacent(this.m_IntersectList[C]);)C++;if(C===d)return!1;var k=this.m_IntersectList[g];this.m_IntersectList[g]=this.m_IntersectList[C],this.m_IntersectList[C]=k}this.SwapPositionsInSEL(this.m_IntersectList[g].Edge1,this.m_IntersectList[g].Edge2)}return!0},e.Clipper.prototype.ProcessIntersectList=function(){for(var d=0,g=this.m_IntersectList.length;d<g;d++){var C=this.m_IntersectList[d];this.IntersectEdges(C.Edge1,C.Edge2,C.Pt),this.SwapPositionsInAEL(C.Edge1,C.Edge2)}this.m_IntersectList.length=0};var nve=function(d){return d<0?Math.ceil(d-.5):Math.round(d)},sve=function(d){return d<0?Math.ceil(d-.5):Math.floor(d+.5)},ave=function(d){return d<0?-Math.round(Math.abs(d)):Math.round(d)},lve=function(d){return d<0?(d-=.5,d<-2147483648?Math.ceil(d):d|0):(d+=.5,d>2147483647?Math.floor(d):d|0)};i.msie?e.Clipper.Round=nve:i.chromium?e.Clipper.Round=ave:i.safari?e.Clipper.Round=lve:e.Clipper.Round=sve,e.Clipper.TopX=function(d,g){return g===d.Top.Y?d.Top.X:d.Bot.X+e.Clipper.Round(d.Dx*(g-d.Bot.Y))},e.Clipper.prototype.IntersectPoint=function(d,g,C){C.X=0,C.Y=0;var k,D;if(d.Dx===g.Dx){C.Y=d.Curr.Y,C.X=e.Clipper.TopX(d,C.Y);return}if(d.Delta.X===0)C.X=d.Bot.X,e.ClipperBase.IsHorizontal(g)?C.Y=g.Bot.Y:(D=g.Bot.Y-g.Bot.X/g.Dx,C.Y=e.Clipper.Round(C.X/g.Dx+D));else if(g.Delta.X===0)C.X=g.Bot.X,e.ClipperBase.IsHorizontal(d)?C.Y=d.Bot.Y:(k=d.Bot.Y-d.Bot.X/d.Dx,C.Y=e.Clipper.Round(C.X/d.Dx+k));else{k=d.Bot.X-d.Bot.Y*d.Dx,D=g.Bot.X-g.Bot.Y*g.Dx;var V=(D-k)/(d.Dx-g.Dx);C.Y=e.Clipper.Round(V),Math.abs(d.Dx)<Math.abs(g.Dx)?C.X=e.Clipper.Round(d.Dx*V+k):C.X=e.Clipper.Round(g.Dx*V+D)}if(C.Y<d.Top.Y||C.Y<g.Top.Y){if(d.Top.Y>g.Top.Y)return C.Y=d.Top.Y,C.X=e.Clipper.TopX(g,d.Top.Y),C.X<d.Top.X;C.Y=g.Top.Y,Math.abs(d.Dx)<Math.abs(g.Dx)?C.X=e.Clipper.TopX(d,C.Y):C.X=e.Clipper.TopX(g,C.Y)}C.Y>d.Curr.Y&&(C.Y=d.Curr.Y,Math.abs(d.Dx)>Math.abs(g.Dx)?C.X=e.Clipper.TopX(g,C.Y):C.X=e.Clipper.TopX(d,C.Y))},e.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(d){for(var g=this.m_ActiveEdges;g!==null;){var C=this.IsMaxima(g,d);if(C){var k=this.GetMaximaPair(g);C=k===null||!e.ClipperBase.IsHorizontal(k)}if(C){this.StrictlySimple&&this.InsertMaxima(g.Top.X);var D=g.PrevInAEL;this.DoMaxima(g),D===null?g=this.m_ActiveEdges:g=D.NextInAEL}else{if(this.IsIntermediate(g,d)&&e.ClipperBase.IsHorizontal(g.NextInLML)?(g=this.UpdateEdgeIntoAEL(g),g.OutIdx>=0&&this.AddOutPt(g,g.Bot),this.AddEdgeToSEL(g)):(g.Curr.X=e.Clipper.TopX(g,d),g.Curr.Y=d),this.StrictlySimple){var D=g.PrevInAEL;if(g.OutIdx>=0&&g.WindDelta!==0&&D!==null&&D.OutIdx>=0&&D.Curr.X===g.Curr.X&&D.WindDelta!==0){var V=new e.IntPoint(g.Curr);e.use_xyz&&this.SetZ(V,D,g);var G=this.AddOutPt(D,V),Z=this.AddOutPt(g,V);this.AddJoin(G,Z,V)}}g=g.NextInAEL}}for(this.ProcessHorizontals(),this.m_Maxima=null,g=this.m_ActiveEdges;g!==null;){if(this.IsIntermediate(g,d)){var G=null;g.OutIdx>=0&&(G=this.AddOutPt(g,g.Top)),g=this.UpdateEdgeIntoAEL(g);var D=g.PrevInAEL,ee=g.NextInAEL;if(D!==null&&D.Curr.X===g.Bot.X&&D.Curr.Y===g.Bot.Y&&G!==null&&D.OutIdx>=0&&D.Curr.Y>D.Top.Y&&e.ClipperBase.SlopesEqual(g,D,this.m_UseFullRange)&&g.WindDelta!==0&&D.WindDelta!==0){var Z=this.AddOutPt(D,g.Bot);this.AddJoin(G,Z,g.Top)}else if(ee!==null&&ee.Curr.X===g.Bot.X&&ee.Curr.Y==g.Bot.Y&&G!==null&&ee.OutIdx>=0&&ee.Curr.Y>ee.Top.Y&&e.ClipperBase.SlopesEqual(g,ee,this.m_UseFullRange)&&g.WindDelta!==0&&ee.WindDelta!==0){var Z=this.AddOutPt(ee,g.Bot);this.AddJoin(G,Z,g.Top)}}g=g.NextInAEL}},e.Clipper.prototype.DoMaxima=function(d){var g=this.GetMaximaPair(d);if(g===null){d.OutIdx>=0&&this.AddOutPt(d,d.Top),this.DeleteFromAEL(d);return}for(var C=d.NextInAEL;C!==null&&C!==g;)this.IntersectEdges(d,C,d.Top),this.SwapPositionsInAEL(d,C),C=d.NextInAEL;d.OutIdx===-1&&g.OutIdx===-1?(this.DeleteFromAEL(d),this.DeleteFromAEL(g)):d.OutIdx>=0&&g.OutIdx>=0?(d.OutIdx>=0&&this.AddLocalMaxPoly(d,g,d.Top),this.DeleteFromAEL(d),this.DeleteFromAEL(g)):e.use_lines&&d.WindDelta===0?(d.OutIdx>=0&&(this.AddOutPt(d,d.Top),d.OutIdx=-1),this.DeleteFromAEL(d),g.OutIdx>=0&&(this.AddOutPt(g,d.Top),g.OutIdx=-1),this.DeleteFromAEL(g)):e.Error("DoMaxima error")},e.Clipper.ReversePaths=function(d){for(var g=0,C=d.length;g<C;g++)d[g].reverse()},e.Clipper.Orientation=function(d){return e.Clipper.Area(d)>=0},e.Clipper.prototype.PointCount=function(d){if(d===null)return 0;var g=0,C=d;do g++,C=C.Next;while(C!==d);return g},e.Clipper.prototype.BuildResult=function(d){e.Clear(d);for(var g=0,C=this.m_PolyOuts.length;g<C;g++){var k=this.m_PolyOuts[g];if(k.Pts!==null){var D=k.Pts.Prev,V=this.PointCount(D);if(!(V<2)){for(var G=new Array(V),Z=0;Z<V;Z++)G[Z]=D.Pt,D=D.Prev;d.push(G)}}}},e.Clipper.prototype.BuildResult2=function(d){d.Clear();for(var g=0,C=this.m_PolyOuts.length;g<C;g++){var k=this.m_PolyOuts[g],D=this.PointCount(k.Pts);if(!(k.IsOpen&&D<2||!k.IsOpen&&D<3)){this.FixHoleLinkage(k);var V=new e.PolyNode;d.m_AllPolys.push(V),k.PolyNode=V,V.m_polygon.length=D;for(var G=k.Pts.Prev,Z=0;Z<D;Z++)V.m_polygon[Z]=G.Pt,G=G.Prev}}for(var g=0,C=this.m_PolyOuts.length;g<C;g++){var k=this.m_PolyOuts[g];k.PolyNode!==null&&(k.IsOpen?(k.PolyNode.IsOpen=!0,d.AddChild(k.PolyNode)):k.FirstLeft!==null&&k.FirstLeft.PolyNode!==null?k.FirstLeft.PolyNode.AddChild(k.PolyNode):d.AddChild(k.PolyNode))}},e.Clipper.prototype.FixupOutPolygon=function(d){var g=null;d.BottomPt=null;for(var C=d.Pts,k=this.PreserveCollinear||this.StrictlySimple;;){if(C.Prev===C||C.Prev===C.Next){d.Pts=null;return}if(e.IntPoint.op_Equality(C.Pt,C.Next.Pt)||e.IntPoint.op_Equality(C.Pt,C.Prev.Pt)||e.ClipperBase.SlopesEqual(C.Prev.Pt,C.Pt,C.Next.Pt,this.m_UseFullRange)&&(!k||!this.Pt2IsBetweenPt1AndPt3(C.Prev.Pt,C.Pt,C.Next.Pt)))g=null,C.Prev.Next=C.Next,C.Next.Prev=C.Prev,C=C.Prev;else{if(C===g)break;g===null&&(g=C),C=C.Next}}d.Pts=C},e.Clipper.prototype.DupOutPt=function(d,g){var C=new e.OutPt;return C.Pt.X=d.Pt.X,C.Pt.Y=d.Pt.Y,e.use_xyz&&(C.Pt.Z=d.Pt.Z),C.Idx=d.Idx,g?(C.Next=d.Next,C.Prev=d,d.Next.Prev=C,d.Next=C):(C.Prev=d.Prev,C.Next=d,d.Prev.Next=C,d.Prev=C),C},e.Clipper.prototype.GetOverlap=function(d,g,C,k,D){return d<g?C<k?(D.Left=Math.max(d,C),D.Right=Math.min(g,k)):(D.Left=Math.max(d,k),D.Right=Math.min(g,C)):C<k?(D.Left=Math.max(g,C),D.Right=Math.min(d,k)):(D.Left=Math.max(g,k),D.Right=Math.min(d,C)),D.Left<D.Right},e.Clipper.prototype.JoinHorz=function(d,g,C,k,D,V){var G=d.Pt.X>g.Pt.X?e.Direction.dRightToLeft:e.Direction.dLeftToRight,Z=C.Pt.X>k.Pt.X?e.Direction.dRightToLeft:e.Direction.dLeftToRight;if(G===Z)return!1;if(G===e.Direction.dLeftToRight){for(;d.Next.Pt.X<=D.X&&d.Next.Pt.X>=d.Pt.X&&d.Next.Pt.Y===D.Y;)d=d.Next;V&&d.Pt.X!==D.X&&(d=d.Next),g=this.DupOutPt(d,!V),e.IntPoint.op_Inequality(g.Pt,D)&&(d=g,d.Pt.X=D.X,d.Pt.Y=D.Y,e.use_xyz&&(d.Pt.Z=D.Z),g=this.DupOutPt(d,!V))}else{for(;d.Next.Pt.X>=D.X&&d.Next.Pt.X<=d.Pt.X&&d.Next.Pt.Y===D.Y;)d=d.Next;!V&&d.Pt.X!==D.X&&(d=d.Next),g=this.DupOutPt(d,V),e.IntPoint.op_Inequality(g.Pt,D)&&(d=g,d.Pt.X=D.X,d.Pt.Y=D.Y,e.use_xyz&&(d.Pt.Z=D.Z),g=this.DupOutPt(d,V))}if(Z===e.Direction.dLeftToRight){for(;C.Next.Pt.X<=D.X&&C.Next.Pt.X>=C.Pt.X&&C.Next.Pt.Y===D.Y;)C=C.Next;V&&C.Pt.X!==D.X&&(C=C.Next),k=this.DupOutPt(C,!V),e.IntPoint.op_Inequality(k.Pt,D)&&(C=k,C.Pt.X=D.X,C.Pt.Y=D.Y,e.use_xyz&&(C.Pt.Z=D.Z),k=this.DupOutPt(C,!V))}else{for(;C.Next.Pt.X>=D.X&&C.Next.Pt.X<=C.Pt.X&&C.Next.Pt.Y===D.Y;)C=C.Next;!V&&C.Pt.X!==D.X&&(C=C.Next),k=this.DupOutPt(C,V),e.IntPoint.op_Inequality(k.Pt,D)&&(C=k,C.Pt.X=D.X,C.Pt.Y=D.Y,e.use_xyz&&(C.Pt.Z=D.Z),k=this.DupOutPt(C,V))}return G===e.Direction.dLeftToRight===V?(d.Prev=C,C.Next=d,g.Next=k,k.Prev=g):(d.Next=C,C.Prev=d,g.Prev=k,k.Next=g),!0},e.Clipper.prototype.JoinPoints=function(d,g,C){var k=d.OutPt1,D=new e.OutPt,V=d.OutPt2,G=new e.OutPt,Z=d.OutPt1.Pt.Y===d.OffPt.Y;if(Z&&e.IntPoint.op_Equality(d.OffPt,d.OutPt1.Pt)&&e.IntPoint.op_Equality(d.OffPt,d.OutPt2.Pt)){if(g!==C)return!1;for(D=d.OutPt1.Next;D!==k&&e.IntPoint.op_Equality(D.Pt,d.OffPt);)D=D.Next;var ee=D.Pt.Y>d.OffPt.Y;for(G=d.OutPt2.Next;G!==V&&e.IntPoint.op_Equality(G.Pt,d.OffPt);)G=G.Next;var de=G.Pt.Y>d.OffPt.Y;return ee===de?!1:ee?(D=this.DupOutPt(k,!1),G=this.DupOutPt(V,!0),k.Prev=V,V.Next=k,D.Next=G,G.Prev=D,d.OutPt1=k,d.OutPt2=D,!0):(D=this.DupOutPt(k,!0),G=this.DupOutPt(V,!1),k.Next=V,V.Prev=k,D.Prev=G,G.Next=D,d.OutPt1=k,d.OutPt2=D,!0)}else if(Z){for(D=k;k.Prev.Pt.Y===k.Pt.Y&&k.Prev!==D&&k.Prev!==V;)k=k.Prev;for(;D.Next.Pt.Y===D.Pt.Y&&D.Next!==k&&D.Next!==V;)D=D.Next;if(D.Next===k||D.Next===V)return!1;for(G=V;V.Prev.Pt.Y===V.Pt.Y&&V.Prev!==G&&V.Prev!==D;)V=V.Prev;for(;G.Next.Pt.Y===G.Pt.Y&&G.Next!==V&&G.Next!==k;)G=G.Next;if(G.Next===V||G.Next===k)return!1;var Pe={Left:null,Right:null};if(!this.GetOverlap(k.Pt.X,D.Pt.X,V.Pt.X,G.Pt.X,Pe))return!1;var Ae=Pe.Left,$e=Pe.Right,Jt=new e.IntPoint,Mt;return k.Pt.X>=Ae&&k.Pt.X<=$e?(Jt.X=k.Pt.X,Jt.Y=k.Pt.Y,e.use_xyz&&(Jt.Z=k.Pt.Z),Mt=k.Pt.X>D.Pt.X):V.Pt.X>=Ae&&V.Pt.X<=$e?(Jt.X=V.Pt.X,Jt.Y=V.Pt.Y,e.use_xyz&&(Jt.Z=V.Pt.Z),Mt=V.Pt.X>G.Pt.X):D.Pt.X>=Ae&&D.Pt.X<=$e?(Jt.X=D.Pt.X,Jt.Y=D.Pt.Y,e.use_xyz&&(Jt.Z=D.Pt.Z),Mt=D.Pt.X>k.Pt.X):(Jt.X=G.Pt.X,Jt.Y=G.Pt.Y,e.use_xyz&&(Jt.Z=G.Pt.Z),Mt=G.Pt.X>V.Pt.X),d.OutPt1=k,d.OutPt2=V,this.JoinHorz(k,D,V,G,Jt,Mt)}else{for(D=k.Next;e.IntPoint.op_Equality(D.Pt,k.Pt)&&D!==k;)D=D.Next;var Ir=D.Pt.Y>k.Pt.Y||!e.ClipperBase.SlopesEqual(k.Pt,D.Pt,d.OffPt,this.m_UseFullRange);if(Ir){for(D=k.Prev;e.IntPoint.op_Equality(D.Pt,k.Pt)&&D!==k;)D=D.Prev;if(D.Pt.Y>k.Pt.Y||!e.ClipperBase.SlopesEqual(k.Pt,D.Pt,d.OffPt,this.m_UseFullRange))return!1}for(G=V.Next;e.IntPoint.op_Equality(G.Pt,V.Pt)&&G!==V;)G=G.Next;var Lc=G.Pt.Y>V.Pt.Y||!e.ClipperBase.SlopesEqual(V.Pt,G.Pt,d.OffPt,this.m_UseFullRange);if(Lc){for(G=V.Prev;e.IntPoint.op_Equality(G.Pt,V.Pt)&&G!==V;)G=G.Prev;if(G.Pt.Y>V.Pt.Y||!e.ClipperBase.SlopesEqual(V.Pt,G.Pt,d.OffPt,this.m_UseFullRange))return!1}return D===k||G===V||D===G||g===C&&Ir===Lc?!1:Ir?(D=this.DupOutPt(k,!1),G=this.DupOutPt(V,!0),k.Prev=V,V.Next=k,D.Next=G,G.Prev=D,d.OutPt1=k,d.OutPt2=D,!0):(D=this.DupOutPt(k,!0),G=this.DupOutPt(V,!1),k.Next=V,V.Prev=k,D.Prev=G,G.Next=D,d.OutPt1=k,d.OutPt2=D,!0)}},e.Clipper.GetBounds=function(d){for(var g=0,C=d.length;g<C&&d[g].length===0;)g++;if(g===C)return new e.IntRect(0,0,0,0);var k=new e.IntRect;for(k.left=d[g][0].X,k.right=k.left,k.top=d[g][0].Y,k.bottom=k.top;g<C;g++)for(var D=0,V=d[g].length;D<V;D++)d[g][D].X<k.left?k.left=d[g][D].X:d[g][D].X>k.right&&(k.right=d[g][D].X),d[g][D].Y<k.top?k.top=d[g][D].Y:d[g][D].Y>k.bottom&&(k.bottom=d[g][D].Y);return k},e.Clipper.prototype.GetBounds2=function(d){var g=d,C=new e.IntRect;for(C.left=d.Pt.X,C.right=d.Pt.X,C.top=d.Pt.Y,C.bottom=d.Pt.Y,d=d.Next;d!==g;)d.Pt.X<C.left&&(C.left=d.Pt.X),d.Pt.X>C.right&&(C.right=d.Pt.X),d.Pt.Y<C.top&&(C.top=d.Pt.Y),d.Pt.Y>C.bottom&&(C.bottom=d.Pt.Y),d=d.Next;return C},e.Clipper.PointInPolygon=function(d,g){var C=0,k=g.length;if(k<3)return 0;for(var D=g[0],V=1;V<=k;++V){var G=V===k?g[0]:g[V];if(G.Y===d.Y&&(G.X===d.X||D.Y===d.Y&&G.X>d.X==D.X<d.X))return-1;if(D.Y<d.Y!=G.Y<d.Y){if(D.X>=d.X)if(G.X>d.X)C=1-C;else{var Z=(D.X-d.X)*(G.Y-d.Y)-(G.X-d.X)*(D.Y-d.Y);if(Z===0)return-1;Z>0==G.Y>D.Y&&(C=1-C)}else if(G.X>d.X){var Z=(D.X-d.X)*(G.Y-d.Y)-(G.X-d.X)*(D.Y-d.Y);if(Z===0)return-1;Z>0==G.Y>D.Y&&(C=1-C)}}D=G}return C},e.Clipper.prototype.PointInPolygon=function(d,g){var C=0,k=g,D=d.X,V=d.Y,G=g.Pt.X,Z=g.Pt.Y;do{g=g.Next;var ee=g.Pt.X,de=g.Pt.Y;if(de===V&&(ee===D||Z===V&&ee>D==G<D))return-1;if(Z<V!=de<V){if(G>=D)if(ee>D)C=1-C;else{var Pe=(G-D)*(de-V)-(ee-D)*(Z-V);if(Pe===0)return-1;Pe>0==de>Z&&(C=1-C)}else if(ee>D){var Pe=(G-D)*(de-V)-(ee-D)*(Z-V);if(Pe===0)return-1;Pe>0==de>Z&&(C=1-C)}}G=ee,Z=de}while(k!==g);return C},e.Clipper.prototype.Poly2ContainsPoly1=function(d,g){var C=d;do{var k=this.PointInPolygon(C.Pt,g);if(k>=0)return k>0;C=C.Next}while(C!==d);return!0},e.Clipper.prototype.FixupFirstLefts1=function(d,g){for(var C=0,k=this.m_PolyOuts.length;C<k;C++){var D=this.m_PolyOuts[C];if(!(D.Pts===null||D.FirstLeft===null)){var V=this.ParseFirstLeft(D.FirstLeft);V===d&&this.Poly2ContainsPoly1(D.Pts,g.Pts)&&(D.FirstLeft=g)}}},e.Clipper.prototype.FixupFirstLefts2=function(d,g){for(var C=0,k=this.m_PolyOuts,D=k.length,V=k[C];C<D;C++,V=k[C])V.FirstLeft===d&&(V.FirstLeft=g)},e.Clipper.ParseFirstLeft=function(d){for(;d!==null&&d.Pts===null;)d=d.FirstLeft;return d},e.Clipper.prototype.JoinCommonEdges=function(){for(var d=0,g=this.m_Joins.length;d<g;d++){var C=this.m_Joins[d],k=this.GetOutRec(C.OutPt1.Idx),D=this.GetOutRec(C.OutPt2.Idx);if(!(k.Pts===null||D.Pts===null)&&!(k.IsOpen||D.IsOpen)){var V;if(k===D?V=k:this.Param1RightOfParam2(k,D)?V=D:this.Param1RightOfParam2(D,k)?V=k:V=this.GetLowermostRec(k,D),!!this.JoinPoints(C,k,D))if(k===D){if(k.Pts=C.OutPt1,k.BottomPt=null,D=this.CreateOutRec(),D.Pts=C.OutPt2,this.UpdateOutPtIdxs(D),this.m_UsingPolyTree)for(var G=0,Z=this.m_PolyOuts.length;G<Z-1;G++){var ee=this.m_PolyOuts[G];ee.Pts===null||e.Clipper.ParseFirstLeft(ee.FirstLeft)!==k||ee.IsHole==k.IsHole||this.Poly2ContainsPoly1(ee.Pts,C.OutPt2)&&(ee.FirstLeft=D)}this.Poly2ContainsPoly1(D.Pts,k.Pts)?(D.IsHole=!k.IsHole,D.FirstLeft=k,this.m_UsingPolyTree&&this.FixupFirstLefts2(D,k),(D.IsHole^this.ReverseSolution)==this.Area(D)>0&&this.ReversePolyPtLinks(D.Pts)):this.Poly2ContainsPoly1(k.Pts,D.Pts)?(D.IsHole=k.IsHole,k.IsHole=!D.IsHole,D.FirstLeft=k.FirstLeft,k.FirstLeft=D,this.m_UsingPolyTree&&this.FixupFirstLefts2(k,D),(k.IsHole^this.ReverseSolution)==this.Area(k)>0&&this.ReversePolyPtLinks(k.Pts)):(D.IsHole=k.IsHole,D.FirstLeft=k.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(k,D))}else D.Pts=null,D.BottomPt=null,D.Idx=k.Idx,k.IsHole=V.IsHole,V===D&&(k.FirstLeft=D.FirstLeft),D.FirstLeft=k,this.m_UsingPolyTree&&this.FixupFirstLefts2(D,k)}}},e.Clipper.prototype.UpdateOutPtIdxs=function(d){var g=d.Pts;do g.Idx=d.Idx,g=g.Prev;while(g!==d.Pts)},e.Clipper.prototype.DoSimplePolygons=function(){for(var d=0;d<this.m_PolyOuts.length;){var g=this.m_PolyOuts[d++],C=g.Pts;if(!(C===null||g.IsOpen))do{for(var k=C.Next;k!==g.Pts;){if(e.IntPoint.op_Equality(C.Pt,k.Pt)&&k.Next!==C&&k.Prev!==C){var D=C.Prev,V=k.Prev;C.Prev=V,V.Next=C,k.Prev=D,D.Next=k,g.Pts=C;var G=this.CreateOutRec();G.Pts=k,this.UpdateOutPtIdxs(G),this.Poly2ContainsPoly1(G.Pts,g.Pts)?(G.IsHole=!g.IsHole,G.FirstLeft=g,this.m_UsingPolyTree&&this.FixupFirstLefts2(G,g)):this.Poly2ContainsPoly1(g.Pts,G.Pts)?(G.IsHole=g.IsHole,g.IsHole=!G.IsHole,G.FirstLeft=g.FirstLeft,g.FirstLeft=G,this.m_UsingPolyTree&&this.FixupFirstLefts2(g,G)):(G.IsHole=g.IsHole,G.FirstLeft=g.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(g,G)),k=C}k=k.Next}C=C.Next}while(C!==g.Pts)}},e.Clipper.Area=function(d){var g=d.length;if(g<3)return 0;for(var C=0,k=0,D=g-1;k<g;++k)C+=(d[D].X+d[k].X)*(d[D].Y-d[k].Y),D=k;return-C*.5},e.Clipper.prototype.Area=function(d){var g=d.Pts;if(g===null)return 0;var C=0;do C=C+(g.Prev.Pt.X+g.Pt.X)*(g.Prev.Pt.Y-g.Pt.Y),g=g.Next;while(g!==d.Pts);return C*.5},e.Clipper.SimplifyPolygon=function(d,g){var C=new Array,k=new e.Clipper(0);return k.StrictlySimple=!0,k.AddPath(d,e.PolyType.ptSubject,!0),k.Execute(e.ClipType.ctUnion,C,g,g),C},e.Clipper.SimplifyPolygons=function(d,g){typeof g>"u"&&(g=e.PolyFillType.pftEvenOdd);var C=new Array,k=new e.Clipper(0);return k.StrictlySimple=!0,k.AddPaths(d,e.PolyType.ptSubject,!0),k.Execute(e.ClipType.ctUnion,C,g,g),C},e.Clipper.DistanceSqrd=function(d,g){var C=d.X-g.X,k=d.Y-g.Y;return C*C+k*k},e.Clipper.DistanceFromLineSqrd=function(d,g,C){var k=g.Y-C.Y,D=C.X-g.X,V=k*g.X+D*g.Y;return V=k*d.X+D*d.Y-V,V*V/(k*k+D*D)},e.Clipper.SlopesNearCollinear=function(d,g,C,k){return Math.abs(d.X-g.X)>Math.abs(d.Y-g.Y)?d.X>g.X==d.X<C.X?e.Clipper.DistanceFromLineSqrd(d,g,C)<k:g.X>d.X==g.X<C.X?e.Clipper.DistanceFromLineSqrd(g,d,C)<k:e.Clipper.DistanceFromLineSqrd(C,d,g)<k:d.Y>g.Y==d.Y<C.Y?e.Clipper.DistanceFromLineSqrd(d,g,C)<k:g.Y>d.Y==g.Y<C.Y?e.Clipper.DistanceFromLineSqrd(g,d,C)<k:e.Clipper.DistanceFromLineSqrd(C,d,g)<k},e.Clipper.PointsAreClose=function(d,g,C){var k=d.X-g.X,D=d.Y-g.Y;return k*k+D*D<=C},e.Clipper.ExcludeOp=function(d){var g=d.Prev;return g.Next=d.Next,d.Next.Prev=g,g.Idx=0,g},e.Clipper.CleanPolygon=function(d,g){typeof g>"u"&&(g=1.415);var C=d.length;if(C===0)return new Array;for(var k=new Array(C),D=0;D<C;++D)k[D]=new e.OutPt;for(var D=0;D<C;++D)k[D].Pt=d[D],k[D].Next=k[(D+1)%C],k[D].Next.Prev=k[D],k[D].Idx=0;for(var V=g*g,G=k[0];G.Idx===0&&G.Next!==G.Prev;)e.Clipper.PointsAreClose(G.Pt,G.Prev.Pt,V)?(G=e.Clipper.ExcludeOp(G),C--):e.Clipper.PointsAreClose(G.Prev.Pt,G.Next.Pt,V)?(e.Clipper.ExcludeOp(G.Next),G=e.Clipper.ExcludeOp(G),C-=2):e.Clipper.SlopesNearCollinear(G.Prev.Pt,G.Pt,G.Next.Pt,V)?(G=e.Clipper.ExcludeOp(G),C--):(G.Idx=1,G=G.Next);C<3&&(C=0);for(var Z=new Array(C),D=0;D<C;++D)Z[D]=new e.IntPoint(G.Pt),G=G.Next;return k=null,Z},e.Clipper.CleanPolygons=function(d,g){for(var C=new Array(d.length),k=0,D=d.length;k<D;k++)C[k]=e.Clipper.CleanPolygon(d[k],g);return C},e.Clipper.Minkowski=function(d,g,C,k){var D=k?1:0,V=d.length,G=g.length,Z=new Array;if(C)for(var ee=0;ee<G;ee++){for(var de=new Array(V),Pe=0,Ae=d.length,$e=d[Pe];Pe<Ae;Pe++,$e=d[Pe])de[Pe]=new e.IntPoint(g[ee].X+$e.X,g[ee].Y+$e.Y);Z.push(de)}else for(var ee=0;ee<G;ee++){for(var de=new Array(V),Pe=0,Ae=d.length,$e=d[Pe];Pe<Ae;Pe++,$e=d[Pe])de[Pe]=new e.IntPoint(g[ee].X-$e.X,g[ee].Y-$e.Y);Z.push(de)}for(var Jt=new Array,ee=0;ee<G-1+D;ee++)for(var Pe=0;Pe<V;Pe++){var Mt=new Array;Mt.push(Z[ee%G][Pe%V]),Mt.push(Z[(ee+1)%G][Pe%V]),Mt.push(Z[(ee+1)%G][(Pe+1)%V]),Mt.push(Z[ee%G][(Pe+1)%V]),e.Clipper.Orientation(Mt)||Mt.reverse(),Jt.push(Mt)}return Jt},e.Clipper.MinkowskiSum=function(d,g,C){if(g[0]instanceof Array){for(var D=g,G=new e.Paths,V=new e.Clipper,Z=0;Z<D.length;++Z){var ee=e.Clipper.Minkowski(d,D[Z],!0,C);if(V.AddPaths(ee,e.PolyType.ptSubject,!0),C){var k=e.Clipper.TranslatePath(D[Z],d[0]);V.AddPath(k,e.PolyType.ptClip,!0)}}return V.Execute(e.ClipType.ctUnion,G,e.PolyFillType.pftNonZero,e.PolyFillType.pftNonZero),G}else{var k=g,D=e.Clipper.Minkowski(d,k,!0,C),V=new e.Clipper;return V.AddPaths(D,e.PolyType.ptSubject,!0),V.Execute(e.ClipType.ctUnion,D,e.PolyFillType.pftNonZero,e.PolyFillType.pftNonZero),D}},e.Clipper.TranslatePath=function(d,g){for(var C=new e.Path,k=0;k<d.length;k++)C.push(new e.IntPoint(d[k].X+g.X,d[k].Y+g.Y));return C},e.Clipper.MinkowskiDiff=function(d,g){var C=e.Clipper.Minkowski(d,g,!1,!0),k=new e.Clipper;return k.AddPaths(C,e.PolyType.ptSubject,!0),k.Execute(e.ClipType.ctUnion,C,e.PolyFillType.pftNonZero,e.PolyFillType.pftNonZero),C},e.Clipper.PolyTreeToPaths=function(d){var g=new Array;return e.Clipper.AddPolyNodeToPaths(d,e.Clipper.NodeType.ntAny,g),g},e.Clipper.AddPolyNodeToPaths=function(d,g,C){var k=!0;switch(g){case e.Clipper.NodeType.ntOpen:return;case e.Clipper.NodeType.ntClosed:k=!d.IsOpen;break;default:break}d.m_polygon.length>0&&k&&C.push(d.m_polygon);for(var D=0,V=d.Childs(),G=V.length,Z=V[D];D<G;D++,Z=V[D])e.Clipper.AddPolyNodeToPaths(Z,g,C)},e.Clipper.OpenPathsFromPolyTree=function(d){for(var g=new e.Paths,C=0,k=d.ChildCount();C<k;C++)d.Childs()[C].IsOpen&&g.push(d.Childs()[C].m_polygon);return g},e.Clipper.ClosedPathsFromPolyTree=function(d){var g=new e.Paths;return e.Clipper.AddPolyNodeToPaths(d,e.Clipper.NodeType.ntClosed,g),g},aY(e.Clipper,e.ClipperBase),e.Clipper.NodeType={ntAny:0,ntOpen:1,ntClosed:2},e.ClipperOffset=function(d,g){typeof d>"u"&&(d=2),typeof g>"u"&&(g=e.ClipperOffset.def_arc_tolerance),this.m_destPolys=new e.Paths,this.m_srcPoly=new e.Path,this.m_destPoly=new e.Path,this.m_normals=new Array,this.m_delta=0,this.m_sinA=0,this.m_sin=0,this.m_cos=0,this.m_miterLim=0,this.m_StepsPerRad=0,this.m_lowest=new e.IntPoint,this.m_polyNodes=new e.PolyNode,this.MiterLimit=d,this.ArcTolerance=g,this.m_lowest.X=-1},e.ClipperOffset.two_pi=6.28318530717959,e.ClipperOffset.def_arc_tolerance=.25,e.ClipperOffset.prototype.Clear=function(){e.Clear(this.m_polyNodes.Childs()),this.m_lowest.X=-1},e.ClipperOffset.Round=e.Clipper.Round,e.ClipperOffset.prototype.AddPath=function(d,g,C){var k=d.length-1;if(!(k<0)){var D=new e.PolyNode;if(D.m_jointype=g,D.m_endtype=C,C===e.EndType.etClosedLine||C===e.EndType.etClosedPolygon)for(;k>0&&e.IntPoint.op_Equality(d[0],d[k]);)k--;D.m_polygon.push(d[0]);for(var V=0,G=0,Z=1;Z<=k;Z++)e.IntPoint.op_Inequality(D.m_polygon[V],d[Z])&&(V++,D.m_polygon.push(d[Z]),(d[Z].Y>D.m_polygon[G].Y||d[Z].Y===D.m_polygon[G].Y&&d[Z].X<D.m_polygon[G].X)&&(G=V));if(!(C===e.EndType.etClosedPolygon&&V<2)&&(this.m_polyNodes.AddChild(D),C===e.EndType.etClosedPolygon))if(this.m_lowest.X<0)this.m_lowest=new e.IntPoint(this.m_polyNodes.ChildCount()-1,G);else{var ee=this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];(D.m_polygon[G].Y>ee.Y||D.m_polygon[G].Y===ee.Y&&D.m_polygon[G].X<ee.X)&&(this.m_lowest=new e.IntPoint(this.m_polyNodes.ChildCount()-1,G))}}},e.ClipperOffset.prototype.AddPaths=function(d,g,C){for(var k=0,D=d.length;k<D;k++)this.AddPath(d[k],g,C)},e.ClipperOffset.prototype.FixOrientations=function(){if(this.m_lowest.X>=0&&!e.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon))for(var d=0;d<this.m_polyNodes.ChildCount();d++){var g=this.m_polyNodes.Childs()[d];(g.m_endtype===e.EndType.etClosedPolygon||g.m_endtype===e.EndType.etClosedLine&&e.Clipper.Orientation(g.m_polygon))&&g.m_polygon.reverse()}else for(var d=0;d<this.m_polyNodes.ChildCount();d++){var g=this.m_polyNodes.Childs()[d];g.m_endtype===e.EndType.etClosedLine&&!e.Clipper.Orientation(g.m_polygon)&&g.m_polygon.reverse()}},e.ClipperOffset.GetUnitNormal=function(d,g){var C=g.X-d.X,k=g.Y-d.Y;if(C===0&&k===0)return new e.DoublePoint(0,0);var D=1/Math.sqrt(C*C+k*k);return C*=D,k*=D,new e.DoublePoint(k,-C)},e.ClipperOffset.prototype.DoOffset=function(d){if(this.m_destPolys=new Array,this.m_delta=d,e.ClipperBase.near_zero(d)){for(var g=0;g<this.m_polyNodes.ChildCount();g++){var C=this.m_polyNodes.Childs()[g];C.m_endtype===e.EndType.etClosedPolygon&&this.m_destPolys.push(C.m_polygon)}return}this.MiterLimit>2?this.m_miterLim=2/(this.MiterLimit*this.MiterLimit):this.m_miterLim=.5;var k;this.ArcTolerance<=0?k=e.ClipperOffset.def_arc_tolerance:this.ArcTolerance>Math.abs(d)*e.ClipperOffset.def_arc_tolerance?k=Math.abs(d)*e.ClipperOffset.def_arc_tolerance:k=this.ArcTolerance;var D=3.14159265358979/Math.acos(1-k/Math.abs(d));this.m_sin=Math.sin(e.ClipperOffset.two_pi/D),this.m_cos=Math.cos(e.ClipperOffset.two_pi/D),this.m_StepsPerRad=D/e.ClipperOffset.two_pi,d<0&&(this.m_sin=-this.m_sin);for(var g=0;g<this.m_polyNodes.ChildCount();g++){var C=this.m_polyNodes.Childs()[g];this.m_srcPoly=C.m_polygon;var V=this.m_srcPoly.length;if(!(V===0||d<=0&&(V<3||C.m_endtype!==e.EndType.etClosedPolygon))){if(this.m_destPoly=new Array,V===1){if(C.m_jointype===e.JoinType.jtRound)for(var G=1,Z=0,ee=1;ee<=D;ee++){this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[0].X+G*d),e.ClipperOffset.Round(this.m_srcPoly[0].Y+Z*d)));var de=G;G=G*this.m_cos-this.m_sin*Z,Z=de*this.m_sin+Z*this.m_cos}else for(var G=-1,Z=-1,ee=0;ee<4;++ee)this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[0].X+G*d),e.ClipperOffset.Round(this.m_srcPoly[0].Y+Z*d))),G<0?G=1:Z<0?Z=1:G=-1;this.m_destPolys.push(this.m_destPoly);continue}this.m_normals.length=0;for(var ee=0;ee<V-1;ee++)this.m_normals.push(e.ClipperOffset.GetUnitNormal(this.m_srcPoly[ee],this.m_srcPoly[ee+1]));if(C.m_endtype===e.EndType.etClosedLine||C.m_endtype===e.EndType.etClosedPolygon?this.m_normals.push(e.ClipperOffset.GetUnitNormal(this.m_srcPoly[V-1],this.m_srcPoly[0])):this.m_normals.push(new e.DoublePoint(this.m_normals[V-2])),C.m_endtype===e.EndType.etClosedPolygon){for(var Pe=V-1,ee=0;ee<V;ee++)Pe=this.OffsetPoint(ee,Pe,C.m_jointype);this.m_destPolys.push(this.m_destPoly)}else if(C.m_endtype===e.EndType.etClosedLine){for(var Pe=V-1,ee=0;ee<V;ee++)Pe=this.OffsetPoint(ee,Pe,C.m_jointype);this.m_destPolys.push(this.m_destPoly),this.m_destPoly=new Array;for(var Ae=this.m_normals[V-1],ee=V-1;ee>0;ee--)this.m_normals[ee]=new e.DoublePoint(-this.m_normals[ee-1].X,-this.m_normals[ee-1].Y);this.m_normals[0]=new e.DoublePoint(-Ae.X,-Ae.Y),Pe=0;for(var ee=V-1;ee>=0;ee--)Pe=this.OffsetPoint(ee,Pe,C.m_jointype);this.m_destPolys.push(this.m_destPoly)}else{for(var Pe=0,ee=1;ee<V-1;++ee)Pe=this.OffsetPoint(ee,Pe,C.m_jointype);var $e;if(C.m_endtype===e.EndType.etOpenButt){var ee=V-1;$e=new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[ee].X+this.m_normals[ee].X*d),e.ClipperOffset.Round(this.m_srcPoly[ee].Y+this.m_normals[ee].Y*d)),this.m_destPoly.push($e),$e=new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[ee].X-this.m_normals[ee].X*d),e.ClipperOffset.Round(this.m_srcPoly[ee].Y-this.m_normals[ee].Y*d)),this.m_destPoly.push($e)}else{var ee=V-1;Pe=V-2,this.m_sinA=0,this.m_normals[ee]=new e.DoublePoint(-this.m_normals[ee].X,-this.m_normals[ee].Y),C.m_endtype===e.EndType.etOpenSquare?this.DoSquare(ee,Pe):this.DoRound(ee,Pe)}for(var ee=V-1;ee>0;ee--)this.m_normals[ee]=new e.DoublePoint(-this.m_normals[ee-1].X,-this.m_normals[ee-1].Y);this.m_normals[0]=new e.DoublePoint(-this.m_normals[1].X,-this.m_normals[1].Y),Pe=V-1;for(var ee=Pe-1;ee>0;--ee)Pe=this.OffsetPoint(ee,Pe,C.m_jointype);C.m_endtype===e.EndType.etOpenButt?($e=new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[0].X-this.m_normals[0].X*d),e.ClipperOffset.Round(this.m_srcPoly[0].Y-this.m_normals[0].Y*d)),this.m_destPoly.push($e),$e=new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[0].X+this.m_normals[0].X*d),e.ClipperOffset.Round(this.m_srcPoly[0].Y+this.m_normals[0].Y*d)),this.m_destPoly.push($e)):(Pe=1,this.m_sinA=0,C.m_endtype===e.EndType.etOpenSquare?this.DoSquare(0,1):this.DoRound(0,1)),this.m_destPolys.push(this.m_destPoly)}}}},e.ClipperOffset.prototype.Execute=function(){var d=arguments,g=d[0]instanceof e.PolyTree;if(g){var C=d[0],k=d[1];C.Clear(),this.FixOrientations(),this.DoOffset(k);var D=new e.Clipper(0);if(D.AddPaths(this.m_destPolys,e.PolyType.ptSubject,!0),k>0)D.Execute(e.ClipType.ctUnion,C,e.PolyFillType.pftPositive,e.PolyFillType.pftPositive);else{var V=e.Clipper.GetBounds(this.m_destPolys),G=new e.Path;if(G.push(new e.IntPoint(V.left-10,V.bottom+10)),G.push(new e.IntPoint(V.right+10,V.bottom+10)),G.push(new e.IntPoint(V.right+10,V.top-10)),G.push(new e.IntPoint(V.left-10,V.top-10)),D.AddPath(G,e.PolyType.ptSubject,!0),D.ReverseSolution=!0,D.Execute(e.ClipType.ctUnion,C,e.PolyFillType.pftNegative,e.PolyFillType.pftNegative),C.ChildCount()===1&&C.Childs()[0].ChildCount()>0){var Z=C.Childs()[0];C.Childs()[0]=Z.Childs()[0],C.Childs()[0].m_Parent=C;for(var ee=1;ee<Z.ChildCount();ee++)C.AddChild(Z.Childs()[ee])}else C.Clear()}}else{var C=d[0],k=d[1];e.Clear(C),this.FixOrientations(),this.DoOffset(k);var D=new e.Clipper(0);if(D.AddPaths(this.m_destPolys,e.PolyType.ptSubject,!0),k>0)D.Execute(e.ClipType.ctUnion,C,e.PolyFillType.pftPositive,e.PolyFillType.pftPositive);else{var V=e.Clipper.GetBounds(this.m_destPolys),G=new e.Path;G.push(new e.IntPoint(V.left-10,V.bottom+10)),G.push(new e.IntPoint(V.right+10,V.bottom+10)),G.push(new e.IntPoint(V.right+10,V.top-10)),G.push(new e.IntPoint(V.left-10,V.top-10)),D.AddPath(G,e.PolyType.ptSubject,!0),D.ReverseSolution=!0,D.Execute(e.ClipType.ctUnion,C,e.PolyFillType.pftNegative,e.PolyFillType.pftNegative),C.length>0&&C.splice(0,1)}}},e.ClipperOffset.prototype.OffsetPoint=function(d,g,C){if(this.m_sinA=this.m_normals[g].X*this.m_normals[d].Y-this.m_normals[d].X*this.m_normals[g].Y,Math.abs(this.m_sinA*this.m_delta)<1){var k=this.m_normals[g].X*this.m_normals[d].X+this.m_normals[d].Y*this.m_normals[g].Y;if(k>0)return this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[d].X+this.m_normals[g].X*this.m_delta),e.ClipperOffset.Round(this.m_srcPoly[d].Y+this.m_normals[g].Y*this.m_delta))),g}else this.m_sinA>1?this.m_sinA=1:this.m_sinA<-1&&(this.m_sinA=-1);if(this.m_sinA*this.m_delta<0)this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[d].X+this.m_normals[g].X*this.m_delta),e.ClipperOffset.Round(this.m_srcPoly[d].Y+this.m_normals[g].Y*this.m_delta))),this.m_destPoly.push(new e.IntPoint(this.m_srcPoly[d])),this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[d].X+this.m_normals[d].X*this.m_delta),e.ClipperOffset.Round(this.m_srcPoly[d].Y+this.m_normals[d].Y*this.m_delta)));else switch(C){case e.JoinType.jtMiter:{var D=1+(this.m_normals[d].X*this.m_normals[g].X+this.m_normals[d].Y*this.m_normals[g].Y);D>=this.m_miterLim?this.DoMiter(d,g,D):this.DoSquare(d,g);break}case e.JoinType.jtSquare:this.DoSquare(d,g);break;case e.JoinType.jtRound:this.DoRound(d,g);break}return g=d,g},e.ClipperOffset.prototype.DoSquare=function(d,g){var C=Math.tan(Math.atan2(this.m_sinA,this.m_normals[g].X*this.m_normals[d].X+this.m_normals[g].Y*this.m_normals[d].Y)/4);this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[d].X+this.m_delta*(this.m_normals[g].X-this.m_normals[g].Y*C)),e.ClipperOffset.Round(this.m_srcPoly[d].Y+this.m_delta*(this.m_normals[g].Y+this.m_normals[g].X*C)))),this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[d].X+this.m_delta*(this.m_normals[d].X+this.m_normals[d].Y*C)),e.ClipperOffset.Round(this.m_srcPoly[d].Y+this.m_delta*(this.m_normals[d].Y-this.m_normals[d].X*C))))},e.ClipperOffset.prototype.DoMiter=function(d,g,C){var k=this.m_delta/C;this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[d].X+(this.m_normals[g].X+this.m_normals[d].X)*k),e.ClipperOffset.Round(this.m_srcPoly[d].Y+(this.m_normals[g].Y+this.m_normals[d].Y)*k)))},e.ClipperOffset.prototype.DoRound=function(d,g){for(var C=Math.atan2(this.m_sinA,this.m_normals[g].X*this.m_normals[d].X+this.m_normals[g].Y*this.m_normals[d].Y),k=Math.max(e.Cast_Int32(e.ClipperOffset.Round(this.m_StepsPerRad*Math.abs(C))),1),D=this.m_normals[g].X,V=this.m_normals[g].Y,G,Z=0;Z<k;++Z)this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[d].X+D*this.m_delta),e.ClipperOffset.Round(this.m_srcPoly[d].Y+V*this.m_delta))),G=D,D=D*this.m_cos-this.m_sin*V,V=G*this.m_sin+V*this.m_cos;this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[d].X+this.m_normals[d].X*this.m_delta),e.ClipperOffset.Round(this.m_srcPoly[d].Y+this.m_normals[d].Y*this.m_delta)))},e.Error=function(d){typeof window<"u"&&window.onerror&&window.onerror(d,"clipper.js",0,0)},e.JS={},e.JS.AreaOfPolygon=function(d,g){return g||(g=1),e.Clipper.Area(d)/(g*g)},e.JS.AreaOfPolygons=function(d,g){g||(g=1);for(var C=0,k=0;k<d.length;k++)C+=e.Clipper.Area(d[k]);return C/(g*g)},e.JS.BoundsOfPath=function(d,g){return e.JS.BoundsOfPaths([d],g)},e.JS.BoundsOfPaths=function(d,g){g||(g=1);var C=e.Clipper.GetBounds(d);return C.left/=g,C.bottom/=g,C.right/=g,C.top/=g,C},e.JS.Clean=function(k,g){if(!(k instanceof Array))return[];var C=k[0]instanceof Array,k=e.JS.Clone(k);if(typeof g!="number"||g===null)return e.Error("Delta is not a number in Clean()."),k;if(k.length===0||k.length===1&&k[0].length===0||g<0)return k;C||(k=[k]);for(var D=k.length,V,G,Z,ee,de,Pe,Ae,$e=[],Jt=0;Jt<D;Jt++)if(G=k[Jt],V=G.length,V!==0){if(V<3){Z=G,$e.push(Z);continue}for(Z=G,ee=g*g,de=G[0],Pe=1,Ae=1;Ae<V;Ae++)(G[Ae].X-de.X)*(G[Ae].X-de.X)+(G[Ae].Y-de.Y)*(G[Ae].Y-de.Y)<=ee||(Z[Pe]=G[Ae],de=G[Ae],Pe++);de=G[Pe-1],(G[0].X-de.X)*(G[0].X-de.X)+(G[0].Y-de.Y)*(G[0].Y-de.Y)<=ee&&Pe--,Pe<V&&Z.splice(Pe,V-Pe),Z.length&&$e.push(Z)}return!C&&$e.length?$e=$e[0]:!C&&$e.length===0?$e=[]:C&&$e.length===0&&($e=[[]]),$e},e.JS.Clone=function(d){if(!(d instanceof Array))return[];if(d.length===0)return[];if(d.length===1&&d[0].length===0)return[[]];var g=d[0]instanceof Array;g||(d=[d]);var C=d.length,k,D,V,G,Z=new Array(C);for(D=0;D<C;D++){for(k=d[D].length,G=new Array(k),V=0;V<k;V++)G[V]={X:d[D][V].X,Y:d[D][V].Y};Z[D]=G}return g||(Z=Z[0]),Z},e.JS.Lighten=function(d,g){if(!(d instanceof Array))return[];if(typeof g!="number"||g===null)return e.Error("Tolerance is not a number in Lighten()."),e.JS.Clone(d);if(d.length===0||d.length===1&&d[0].length===0||g<0)return e.JS.Clone(d);d[0]instanceof Array||(d=[d]);var C,k,D,V,G,Z,ee,de,Pe,Ae,$e,Jt,Mt,Ir,Lc,hl,Id,cve=d.length,uve=g*g,py=[];for(C=0;C<cve;C++)if(D=d[C],Z=D.length,Z!==0){for(V=0;V<1e6;V++){for(G=[],Z=D.length,D[Z-1].X!==D[0].X||D[Z-1].Y!==D[0].Y?(Jt=1,D.push({X:D[0].X,Y:D[0].Y}),Z=D.length):Jt=0,$e=[],k=0;k<Z-2;k++)ee=D[k],Pe=D[k+1],de=D[k+2],hl=ee.X,Id=ee.Y,Mt=de.X-hl,Ir=de.Y-Id,(Mt!==0||Ir!==0)&&(Lc=((Pe.X-hl)*Mt+(Pe.Y-Id)*Ir)/(Mt*Mt+Ir*Ir),Lc>1?(hl=de.X,Id=de.Y):Lc>0&&(hl+=Mt*Lc,Id+=Ir*Lc)),Mt=Pe.X-hl,Ir=Pe.Y-Id,Ae=Mt*Mt+Ir*Ir,Ae<=uve&&($e[k+1]=1,k++);for(G.push({X:D[0].X,Y:D[0].Y}),k=1;k<Z-1;k++)$e[k]||G.push({X:D[k].X,Y:D[k].Y});if(G.push({X:D[Z-1].X,Y:D[Z-1].Y}),Jt&&D.pop(),$e.length)D=G;else break}Z=G.length,G[Z-1].X===G[0].X&&G[Z-1].Y===G[0].Y&&G.pop(),G.length>2&&py.push(G)}return d[0]instanceof Array||(py=py[0]),typeof py>"u"&&(py=[[]]),py},e.JS.PerimeterOfPath=function(d,g,C){if(typeof d>"u")return 0;var k=Math.sqrt,D=0,V,G,Z=0,ee=0,de=0,Pe=0,Ae=d.length;if(Ae<2)return 0;for(g&&(d[Ae]=d[0],Ae++);--Ae;)V=d[Ae],Z=V.X,ee=V.Y,G=d[Ae-1],de=G.X,Pe=G.Y,D+=k((Z-de)*(Z-de)+(ee-Pe)*(ee-Pe));return g&&d.pop(),D/C},e.JS.PerimeterOfPaths=function(d,g,C){C||(C=1);for(var k=0,D=0;D<d.length;D++)k+=e.JS.PerimeterOfPath(d[D],g,C);return k},e.JS.ScaleDownPath=function(d,g){var C,k;for(g||(g=1),C=d.length;C--;)k=d[C],k.X=k.X/g,k.Y=k.Y/g},e.JS.ScaleDownPaths=function(d,g){var C,k,D;for(g||(g=1),C=d.length;C--;)for(k=d[C].length;k--;)D=d[C][k],D.X=D.X/g,D.Y=D.Y/g},e.JS.ScaleUpPath=function(d,g){var C,k,D=Math.round;for(g||(g=1),C=d.length;C--;)k=d[C],k.X=D(k.X*g),k.Y=D(k.Y*g)},e.JS.ScaleUpPaths=function(d,g){var C,k,D,V=Math.round;for(g||(g=1),C=d.length;C--;)for(k=d[C].length;k--;)D=d[C][k],D.X=V(D.X*g),D.Y=V(D.Y*g)},e.ExPolygons=function(){return[]},e.ExPolygon=function(){this.outer=null,this.holes=null},e.JS.AddOuterPolyNodeToExPolygons=function(d,g){var C=new e.ExPolygon;C.outer=d.Contour();var k=d.Childs(),D=k.length;C.holes=new Array(D);var V,G,Z,ee,de,Pe;for(Z=0;Z<D;Z++)for(V=k[Z],C.holes[Z]=V.Contour(),ee=0,de=V.Childs(),Pe=de.length;ee<Pe;ee++)G=de[ee],e.JS.AddOuterPolyNodeToExPolygons(G,g);g.push(C)},e.JS.ExPolygonsToPaths=function(d){var g,C,k,D,V=new e.Paths;for(g=0,k=d.length;g<k;g++)for(V.push(d[g].outer),C=0,D=d[g].holes.length;C<D;C++)V.push(d[g].holes[C]);return V},e.JS.PolyTreeToExPolygons=function(d){var g=new e.ExPolygons,C,k,D,V;for(k=0,D=d.Childs(),V=D.length;k<V;k++)C=D[k],e.JS.AddOuterPolyNodeToExPolygons(C,g);return g}})()});var t2=we((sB,aB)=>{(function(e,t){typeof sB=="object"&&typeof aB<"u"?aB.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs=t()})(sB,function(){"use strict";var e=1e3,t=6e4,r=36e5,o="millisecond",i="second",n="minute",s="hour",a="day",l="week",c="month",u="quarter",p="year",m="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(I){var F=["th","st","nd","rd"],B=I%100;return"["+I+(F[(B-20)%10]||F[B]||F[0])+"]"}},b=function(I,F,B){var j=String(I);return!j||j.length>=F?I:""+Array(F+1-j.length).join(B)+I},S={s:b,z:function(I){var F=-I.utcOffset(),B=Math.abs(F),j=Math.floor(B/60),X=B%60;return(F<=0?"+":"-")+b(j,2,"0")+":"+b(X,2,"0")},m:function I(F,B){if(F.date()<B.date())return-I(B,F);var j=12*(B.year()-F.year())+(B.month()-F.month()),X=F.clone().add(j,c),te=B-X<0,se=F.clone().add(j+(te?-1:1),c);return+(-(j+(B-X)/(te?X-se:se-X))||0)},a:function(I){return I<0?Math.ceil(I)||0:Math.floor(I)},p:function(I){return{M:c,y:p,w:l,d:a,D:m,h:s,m:n,s:i,ms:o,Q:u}[I]||String(I||"").toLowerCase().replace(/s$/,"")},u:function(I){return I===void 0}},w="en",_={};_[w]=v;var E="$isDayjsObject",T=function(I){return I instanceof R||!(!I||!I[E])},A=function I(F,B,j){var X;if(!F)return w;if(typeof F=="string"){var te=F.toLowerCase();_[te]&&(X=te),B&&(_[te]=B,X=te);var se=F.split("-");if(!X&&se.length>1)return I(se[0])}else{var ue=F.name;_[ue]=F,X=ue}return!j&&X&&(w=X),X||!j&&w},O=function(I,F){if(T(I))return I.clone();var B=typeof F=="object"?F:{};return B.date=I,B.args=arguments,new R(B)},L=S;L.l=A,L.i=T,L.w=function(I,F){return O(I,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var R=function(){function I(B){this.$L=A(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[E]=!0}var F=I.prototype;return F.parse=function(B){this.$d=function(j){var X=j.date,te=j.utc;if(X===null)return new Date(NaN);if(L.u(X))return new Date;if(X instanceof Date)return new Date(X);if(typeof X=="string"&&!/Z$/i.test(X)){var se=X.match(f);if(se){var ue=se[2]-1||0,be=(se[7]||"0").substring(0,3);return te?new Date(Date.UTC(se[1],ue,se[3]||1,se[4]||0,se[5]||0,se[6]||0,be)):new Date(se[1],ue,se[3]||1,se[4]||0,se[5]||0,se[6]||0,be)}}return new Date(X)}(B),this.init()},F.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},F.$utils=function(){return L},F.isValid=function(){return this.$d.toString()!==h},F.isSame=function(B,j){var X=O(B);return this.startOf(j)<=X&&X<=this.endOf(j)},F.isAfter=function(B,j){return O(B)<this.startOf(j)},F.isBefore=function(B,j){return this.endOf(j)<O(B)},F.$g=function(B,j,X){return L.u(B)?this[j]:this.set(X,B)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(B,j){var X=this,te=!!L.u(j)||j,se=L.p(B),ue=function(at,Ce){var yt=L.w(X.$u?Date.UTC(X.$y,Ce,at):new Date(X.$y,Ce,at),X);return te?yt:yt.endOf(a)},be=function(at,Ce){return L.w(X.toDate()[at].apply(X.toDate("s"),(te?[0,0,0,0]:[23,59,59,999]).slice(Ce)),X)},ae=this.$W,he=this.$M,fe=this.$D,ce="set"+(this.$u?"UTC":"");switch(se){case p:return te?ue(1,0):ue(31,11);case c:return te?ue(1,he):ue(0,he+1);case l:var Se=this.$locale().weekStart||0,It=(ae<Se?ae+7:ae)-Se;return ue(te?fe-It:fe+(6-It),he);case a:case m:return be(ce+"Hours",0);case s:return be(ce+"Minutes",1);case n:return be(ce+"Seconds",2);case i:return be(ce+"Milliseconds",3);default:return this.clone()}},F.endOf=function(B){return this.startOf(B,!1)},F.$set=function(B,j){var X,te=L.p(B),se="set"+(this.$u?"UTC":""),ue=(X={},X[a]=se+"Date",X[m]=se+"Date",X[c]=se+"Month",X[p]=se+"FullYear",X[s]=se+"Hours",X[n]=se+"Minutes",X[i]=se+"Seconds",X[o]=se+"Milliseconds",X)[te],be=te===a?this.$D+(j-this.$W):j;if(te===c||te===p){var ae=this.clone().set(m,1);ae.$d[ue](be),ae.init(),this.$d=ae.set(m,Math.min(this.$D,ae.daysInMonth())).$d}else ue&&this.$d[ue](be);return this.init(),this},F.set=function(B,j){return this.clone().$set(B,j)},F.get=function(B){return this[L.p(B)]()},F.add=function(B,j){var X,te=this;B=Number(B);var se=L.p(j),ue=function(he){var fe=O(te);return L.w(fe.date(fe.date()+Math.round(he*B)),te)};if(se===c)return this.set(c,this.$M+B);if(se===p)return this.set(p,this.$y+B);if(se===a)return ue(1);if(se===l)return ue(7);var be=(X={},X[n]=t,X[s]=r,X[i]=e,X)[se]||1,ae=this.$d.getTime()+B*be;return L.w(ae,this)},F.subtract=function(B,j){return this.add(-1*B,j)},F.format=function(B){var j=this,X=this.$locale();if(!this.isValid())return X.invalidDate||h;var te=B||"YYYY-MM-DDTHH:mm:ssZ",se=L.z(this),ue=this.$H,be=this.$m,ae=this.$M,he=X.weekdays,fe=X.months,ce=X.meridiem,Se=function(Ce,yt,Zt,Gt){return Ce&&(Ce[yt]||Ce(j,te))||Zt[yt].slice(0,Gt)},It=function(Ce){return L.s(ue%12||12,Ce,"0")},at=ce||function(Ce,yt,Zt){var Gt=Ce<12?"AM":"PM";return Zt?Gt.toLowerCase():Gt};return te.replace(x,function(Ce,yt){return yt||function(Zt){switch(Zt){case"YY":return String(j.$y).slice(-2);case"YYYY":return L.s(j.$y,4,"0");case"M":return ae+1;case"MM":return L.s(ae+1,2,"0");case"MMM":return Se(X.monthsShort,ae,fe,3);case"MMMM":return Se(fe,ae);case"D":return j.$D;case"DD":return L.s(j.$D,2,"0");case"d":return String(j.$W);case"dd":return Se(X.weekdaysMin,j.$W,he,2);case"ddd":return Se(X.weekdaysShort,j.$W,he,3);case"dddd":return he[j.$W];case"H":return String(ue);case"HH":return L.s(ue,2,"0");case"h":return It(1);case"hh":return It(2);case"a":return at(ue,be,!0);case"A":return at(ue,be,!1);case"m":return String(be);case"mm":return L.s(be,2,"0");case"s":return String(j.$s);case"ss":return L.s(j.$s,2,"0");case"SSS":return L.s(j.$ms,3,"0");case"Z":return se}return null}(Ce)||se.replace(":","")})},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(B,j,X){var te,se=this,ue=L.p(j),be=O(B),ae=(be.utcOffset()-this.utcOffset())*t,he=this-be,fe=function(){return L.m(se,be)};switch(ue){case p:te=fe()/12;break;case c:te=fe();break;case u:te=fe()/3;break;case l:te=(he-ae)/6048e5;break;case a:te=(he-ae)/864e5;break;case s:te=he/r;break;case n:te=he/t;break;case i:te=he/e;break;default:te=he}return X?te:L.a(te)},F.daysInMonth=function(){return this.endOf(c).$D},F.$locale=function(){return _[this.$L]},F.locale=function(B,j){if(!B)return this.$L;var X=this.clone(),te=A(B,j,!0);return te&&(X.$L=te),X},F.clone=function(){return L.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},I}(),z=R.prototype;return O.prototype=z,[["$ms",o],["$s",i],["$m",n],["$H",s],["$W",a],["$M",c],["$y",p],["$D",m]].forEach(function(I){z[I[1]]=function(F){return this.$g(F,I[0],I[1])}}),O.extend=function(I,F){return I.$i||(I(F,R,O),I.$i=!0),O},O.locale=A,O.isDayjs=T,O.unix=function(I){return O(1e3*I)},O.en=_[w],O.Ls=_,O.p={},O})});var IQ=we((lB,cB)=>{(function(e,t){typeof lB=="object"&&typeof cB<"u"?cB.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs_plugin_duration=t()})(lB,function(){"use strict";var e,t,r=1e3,o=6e4,i=36e5,n=864e5,s=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,a=31536e6,l=2628e6,c=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,u={years:a,months:l,days:n,hours:i,minutes:o,seconds:r,milliseconds:1,weeks:6048e5},p=function(_){return _ instanceof S},m=function(_,E,T){return new S(_,T,E.$l)},h=function(_){return t.p(_)+"s"},f=function(_){return _<0},x=function(_){return f(_)?Math.ceil(_):Math.floor(_)},v=function(_){return Math.abs(_)},b=function(_,E){return _?f(_)?{negative:!0,format:""+v(_)+E}:{negative:!1,format:""+_+E}:{negative:!1,format:""}},S=function(){function _(T,A,O){var L=this;if(this.$d={},this.$l=O,T===void 0&&(this.$ms=0,this.parseFromMilliseconds()),A)return m(T*u[h(A)],this);if(typeof T=="number")return this.$ms=T,this.parseFromMilliseconds(),this;if(typeof T=="object")return Object.keys(T).forEach(function(I){L.$d[h(I)]=T[I]}),this.calMilliseconds(),this;if(typeof T=="string"){var R=T.match(c);if(R){var z=R.slice(2).map(function(I){return I!=null?Number(I):0});return this.$d.years=z[0],this.$d.months=z[1],this.$d.weeks=z[2],this.$d.days=z[3],this.$d.hours=z[4],this.$d.minutes=z[5],this.$d.seconds=z[6],this.calMilliseconds(),this}}return this}var E=_.prototype;return E.calMilliseconds=function(){var T=this;this.$ms=Object.keys(this.$d).reduce(function(A,O){return A+(T.$d[O]||0)*u[O]},0)},E.parseFromMilliseconds=function(){var T=this.$ms;this.$d.years=x(T/a),T%=a,this.$d.months=x(T/l),T%=l,this.$d.days=x(T/n),T%=n,this.$d.hours=x(T/i),T%=i,this.$d.minutes=x(T/o),T%=o,this.$d.seconds=x(T/r),T%=r,this.$d.milliseconds=T},E.toISOString=function(){var T=b(this.$d.years,"Y"),A=b(this.$d.months,"M"),O=+this.$d.days||0;this.$d.weeks&&(O+=7*this.$d.weeks);var L=b(O,"D"),R=b(this.$d.hours,"H"),z=b(this.$d.minutes,"M"),I=this.$d.seconds||0;this.$d.milliseconds&&(I+=this.$d.milliseconds/1e3,I=Math.round(1e3*I)/1e3);var F=b(I,"S"),B=T.negative||A.negative||L.negative||R.negative||z.negative||F.negative,j=R.format||z.format||F.format?"T":"",X=(B?"-":"")+"P"+T.format+A.format+L.format+j+R.format+z.format+F.format;return X==="P"||X==="-P"?"P0D":X},E.toJSON=function(){return this.toISOString()},E.format=function(T){var A=T||"YYYY-MM-DDTHH:mm:ss",O={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return A.replace(s,function(L,R){return R||String(O[L])})},E.as=function(T){return this.$ms/u[h(T)]},E.get=function(T){var A=this.$ms,O=h(T);return O==="milliseconds"?A%=1e3:A=O==="weeks"?x(A/u[O]):this.$d[O],A||0},E.add=function(T,A,O){var L;return L=A?T*u[h(A)]:p(T)?T.$ms:m(T,this).$ms,m(this.$ms+L*(O?-1:1),this)},E.subtract=function(T,A){return this.add(T,A,!0)},E.locale=function(T){var A=this.clone();return A.$l=T,A},E.clone=function(){return m(this.$ms,this)},E.humanize=function(T){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!T)},E.valueOf=function(){return this.asMilliseconds()},E.milliseconds=function(){return this.get("milliseconds")},E.asMilliseconds=function(){return this.as("milliseconds")},E.seconds=function(){return this.get("seconds")},E.asSeconds=function(){return this.as("seconds")},E.minutes=function(){return this.get("minutes")},E.asMinutes=function(){return this.as("minutes")},E.hours=function(){return this.get("hours")},E.asHours=function(){return this.as("hours")},E.days=function(){return this.get("days")},E.asDays=function(){return this.as("days")},E.weeks=function(){return this.get("weeks")},E.asWeeks=function(){return this.as("weeks")},E.months=function(){return this.get("months")},E.asMonths=function(){return this.as("months")},E.years=function(){return this.get("years")},E.asYears=function(){return this.as("years")},_}(),w=function(_,E,T){return _.add(E.years()*T,"y").add(E.months()*T,"M").add(E.days()*T,"d").add(E.hours()*T,"h").add(E.minutes()*T,"m").add(E.seconds()*T,"s").add(E.milliseconds()*T,"ms")};return function(_,E,T){e=T,t=T().$utils(),T.duration=function(L,R){var z=T.locale();return m(L,{$l:z},R)},T.isDuration=p;var A=E.prototype.add,O=E.prototype.subtract;E.prototype.add=function(L,R){return p(L)?w(this,L,1):A.bind(this)(L,R)},E.prototype.subtract=function(L,R){return p(L)?w(this,L,-1):O.bind(this)(L,R)}}})});var pW=we((zVt,mie)=>{var $Re=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ZRe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];mie.exports=function(t){var r=t,o=t.indexOf("["),i=t.indexOf("]");o!=-1&&i!=-1&&(t=t.substring(0,o)+t.substring(o,i).replace(/:/g,";")+t.substring(i,t.length));for(var n=$Re.exec(t||""),s={},a=14;a--;)s[ZRe[a]]=n[a]||"";return o!=-1&&i!=-1&&(s.source=r,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=JRe(s,s.path),s.queryKey=KRe(s,s.query),s};function JRe(e,t){var r=/\/{2,9}/g,o=t.replace(r,"/").split("/");return(t.substr(0,1)=="/"||t.length===0)&&o.splice(0,1),t.substr(t.length-1,1)=="/"&&o.splice(o.length-1,1),o}function KRe(e,t){var r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(o,i,n){i&&(r[i]=n)}),r}});var hie=we((XVt,fie)=>{var v8=1e3,S8=v8*60,C8=S8*60,P8=C8*24,QRe=P8*365.25;fie.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return eje(e);if(r==="number"&&isNaN(e)===!1)return t.long?rje(e):tje(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function eje(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return r*QRe;case"days":case"day":case"d":return r*P8;case"hours":case"hour":case"hrs":case"hr":case"h":return r*C8;case"minutes":case"minute":case"mins":case"min":case"m":return r*S8;case"seconds":case"second":case"secs":case"sec":case"s":return r*v8;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function tje(e){return e>=P8?Math.round(e/P8)+"d":e>=C8?Math.round(e/C8)+"h":e>=S8?Math.round(e/S8)+"m":e>=v8?Math.round(e/v8)+"s":e+"ms"}function rje(e){return uw(e,P8,"day")||uw(e,C8,"hour")||uw(e,S8,"minute")||uw(e,v8,"second")||e+" ms"}function uw(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}});var yie=we((Sr,gie)=>{Sr=gie.exports=dW.debug=dW.default=dW;Sr.coerce=lje;Sr.disable=sje;Sr.enable=nje;Sr.enabled=aje;Sr.humanize=hie();Sr.instances=[];Sr.names=[];Sr.skips=[];Sr.formatters={};function oje(e){var t=0,r;for(r in e)t=(t<<5)-t+e.charCodeAt(r),t|=0;return Sr.colors[Math.abs(t)%Sr.colors.length]}function dW(e){var t;function r(){if(r.enabled){var o=r,i=+new Date,n=i-(t||i);o.diff=n,o.prev=t,o.curr=i,t=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=Sr.coerce(s[0]),typeof s[0]!="string"&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(u,p){if(u==="%%")return u;l++;var m=Sr.formatters[p];if(typeof m=="function"){var h=s[l];u=m.call(o,h),s.splice(l,1),l--}return u}),Sr.formatArgs.call(o,s);var c=r.log||Sr.log||console.log.bind(console);c.apply(o,s)}}return r.namespace=e,r.enabled=Sr.enabled(e),r.useColors=Sr.useColors(),r.color=oje(e),r.destroy=ije,typeof Sr.init=="function"&&Sr.init(r),Sr.instances.push(r),r}function ije(){var e=Sr.instances.indexOf(this);return e!==-1?(Sr.instances.splice(e,1),!0):!1}function nje(e){Sr.save(e),Sr.names=[],Sr.skips=[];var t,r=(typeof e=="string"?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&(e=r[t].replace(/\*/g,".*?"),e[0]==="-"?Sr.skips.push(new RegExp("^"+e.substr(1)+"$")):Sr.names.push(new RegExp("^"+e+"$")));for(t=0;t<Sr.instances.length;t++){var i=Sr.instances[t];i.enabled=Sr.enabled(i.namespace)}}function sje(){Sr.enable("")}function aje(e){if(e[e.length-1]==="*")return!0;var t,r;for(t=0,r=Sr.skips.length;t<r;t++)if(Sr.skips[t].test(e))return!1;for(t=0,r=Sr.names.length;t<r;t++)if(Sr.names[t].test(e))return!0;return!1}function lje(e){return e instanceof Error?e.stack||e.message:e}});var w8=we((Sl,bie)=>{Sl=bie.exports=yie();Sl.log=pje;Sl.formatArgs=uje;Sl.save=dje;Sl.load=xie;Sl.useColors=cje;Sl.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:mje();Sl.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function cje(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}Sl.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function uje(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+Sl.humanize(this.diff),!!t){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(n){n!=="%%"&&(o++,n==="%c"&&(i=o))}),e.splice(i,0,r)}}function pje(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function dje(e){try{e==null?Sl.storage.removeItem("debug"):Sl.storage.debug=e}catch{}}function xie(){var e;try{e=Sl.storage.debug}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}Sl.enable(xie());function mje(){try{return window.localStorage}catch{}}});var Cie=we((YVt,Sie)=>{var fje=pW(),vie=w8()("socket.io-client:url");Sie.exports=hje;function hje(e,t){var r=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(vie("protocol-less url %s",e),typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),vie("parse %s",e),r=fje(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var o=r.host.indexOf(":")!==-1,i=o?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port,r.href=r.protocol+"://"+i+(t&&t.port===r.port?"":":"+r.port),r}});var wie=we((qVt,Pie)=>{var _8=1e3,k8=_8*60,T8=k8*60,E8=T8*24,gje=E8*365.25;Pie.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return yje(e);if(r==="number"&&isNaN(e)===!1)return t.long?bje(e):xje(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function yje(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return r*gje;case"days":case"day":case"d":return r*E8;case"hours":case"hour":case"hrs":case"hr":case"h":return r*T8;case"minutes":case"minute":case"mins":case"min":case"m":return r*k8;case"seconds":case"second":case"secs":case"sec":case"s":return r*_8;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function xje(e){return e>=E8?Math.round(e/E8)+"d":e>=T8?Math.round(e/T8)+"h":e>=k8?Math.round(e/k8)+"m":e>=_8?Math.round(e/_8)+"s":e+"ms"}function bje(e){return pw(e,E8,"day")||pw(e,T8,"hour")||pw(e,k8,"minute")||pw(e,_8,"second")||e+" ms"}function pw(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}});var kie=we((Cr,_ie)=>{Cr=_ie.exports=mW.debug=mW.default=mW;Cr.coerce=_je;Cr.disable=Pje;Cr.enable=Cje;Cr.enabled=wje;Cr.humanize=wie();Cr.instances=[];Cr.names=[];Cr.skips=[];Cr.formatters={};function vje(e){var t=0,r;for(r in e)t=(t<<5)-t+e.charCodeAt(r),t|=0;return Cr.colors[Math.abs(t)%Cr.colors.length]}function mW(e){var t;function r(){if(r.enabled){var o=r,i=+new Date,n=i-(t||i);o.diff=n,o.prev=t,o.curr=i,t=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=Cr.coerce(s[0]),typeof s[0]!="string"&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(u,p){if(u==="%%")return u;l++;var m=Cr.formatters[p];if(typeof m=="function"){var h=s[l];u=m.call(o,h),s.splice(l,1),l--}return u}),Cr.formatArgs.call(o,s);var c=r.log||Cr.log||console.log.bind(console);c.apply(o,s)}}return r.namespace=e,r.enabled=Cr.enabled(e),r.useColors=Cr.useColors(),r.color=vje(e),r.destroy=Sje,typeof Cr.init=="function"&&Cr.init(r),Cr.instances.push(r),r}function Sje(){var e=Cr.instances.indexOf(this);return e!==-1?(Cr.instances.splice(e,1),!0):!1}function Cje(e){Cr.save(e),Cr.names=[],Cr.skips=[];var t,r=(typeof e=="string"?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&(e=r[t].replace(/\*/g,".*?"),e[0]==="-"?Cr.skips.push(new RegExp("^"+e.substr(1)+"$")):Cr.names.push(new RegExp("^"+e+"$")));for(t=0;t<Cr.instances.length;t++){var i=Cr.instances[t];i.enabled=Cr.enabled(i.namespace)}}function Pje(){Cr.enable("")}function wje(e){if(e[e.length-1]==="*")return!0;var t,r;for(t=0,r=Cr.skips.length;t<r;t++)if(Cr.skips[t].test(e))return!1;for(t=0,r=Cr.names.length;t<r;t++)if(Cr.names[t].test(e))return!0;return!1}function _je(e){return e instanceof Error?e.stack||e.message:e}});var Mie=we((Cl,Eie)=>{Cl=Eie.exports=kie();Cl.log=Eje;Cl.formatArgs=Tje;Cl.save=Mje;Cl.load=Tie;Cl.useColors=kje;Cl.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:Aje();Cl.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function kje(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}Cl.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function Tje(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+Cl.humanize(this.diff),!!t){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(n){n!=="%%"&&(o++,n==="%c"&&(i=o))}),e.splice(i,0,r)}}function Eje(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function Mje(e){try{e==null?Cl.storage.removeItem("debug"):Cl.storage.debug=e}catch{}}function Tie(){var e;try{e=Cl.storage.debug}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}Cl.enable(Tie());function Aje(){try{return window.localStorage}catch{}}});var T2=we(($Vt,fW)=>{typeof fW<"u"&&(fW.exports=$c);function $c(e){if(e)return Ije(e)}function Ije(e){for(var t in $c.prototype)e[t]=$c.prototype[t];return e}$c.prototype.on=$c.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};$c.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};$c.prototype.off=$c.prototype.removeListener=$c.prototype.removeAllListeners=$c.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var o,i=0;i<r.length;i++)if(o=r[i],o===t||o.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};$c.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],o=1;o<arguments.length;o++)t[o-1]=arguments[o];if(r){r=r.slice(0);for(var o=0,i=r.length;o<i;++o)r[o].apply(this,t)}return this};$c.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};$c.prototype.hasListeners=function(e){return!!this.listeners(e).length}});var dw=we((ZVt,Aie)=>{var Dje={}.toString;Aie.exports=Array.isArray||function(e){return Dje.call(e)=="[object Array]"}});var hW=we((JVt,Iie)=>{Iie.exports=Bje;var Nje=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",Oje=typeof ArrayBuffer=="function",Lje=function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer};function Bje(e){return Nje&&Buffer.isBuffer(e)||Oje&&(e instanceof ArrayBuffer||Lje(e))}});var Oie=we(mw=>{var xW=dw(),Die=hW(),Nie=Object.prototype.toString,Fje=typeof Blob=="function"||typeof Blob<"u"&&Nie.call(Blob)==="[object BlobConstructor]",Wje=typeof File=="function"||typeof File<"u"&&Nie.call(File)==="[object FileConstructor]";mw.deconstructPacket=function(e){var t=[],r=e.data,o=e;return o.data=gW(r,t),o.attachments=t.length,{packet:o,buffers:t}};function gW(e,t){if(!e)return e;if(Die(e)){var r={_placeholder:!0,num:t.length};return t.push(e),r}else if(xW(e)){for(var o=new Array(e.length),i=0;i<e.length;i++)o[i]=gW(e[i],t);return o}else if(typeof e=="object"&&!(e instanceof Date)){var o={};for(var n in e)o[n]=gW(e[n],t);return o}return e}mw.reconstructPacket=function(e,t){return e.data=yW(e.data,t),e.attachments=void 0,e};function yW(e,t){if(!e)return e;if(e&&e._placeholder===!0){var r=typeof e.num=="number"&&e.num>=0&&e.num<t.length;if(r)return t[e.num];throw new Error("illegal attachments")}else if(xW(e))for(var o=0;o<e.length;o++)e[o]=yW(e[o],t);else if(typeof e=="object")for(var i in e)e[i]=yW(e[i],t);return e}mw.removeBlobs=function(e,t){function r(n,s,a){if(!n)return n;if(Fje&&n instanceof Blob||Wje&&n instanceof File){o++;var l=new FileReader;l.onload=function(){a?a[s]=this.result:i=this.result,--o||t(i)},l.readAsArrayBuffer(n)}else if(xW(n))for(var c=0;c<n.length;c++)r(n[c],c,n);else if(typeof n=="object"&&!Die(n))for(var u in n)r(n[u],u,n)}var o=0,i=e;r(i),o||t(i)}});var hw=we(en=>{var vW=Mie()("socket.io-parser"),Vje=T2(),bW=Oie(),Lie=dw(),Uje=hW();en.protocol=4;en.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"];en.CONNECT=0;en.DISCONNECT=1;en.EVENT=2;en.ACK=3;en.ERROR=4;en.BINARY_EVENT=5;en.BINARY_ACK=6;en.Encoder=Bie;en.Decoder=fw;function Bie(){}var Rje=en.ERROR+'"encode error"';Bie.prototype.encode=function(e,t){if(vW("encoding packet %j",e),en.BINARY_EVENT===e.type||en.BINARY_ACK===e.type)Gje(e,t);else{var r=Fie(e);t([r])}};function Fie(e){var t=""+e.type;if((en.BINARY_EVENT===e.type||en.BINARY_ACK===e.type)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null){var r=jje(e.data);if(r!==!1)t+=r;else return Rje}return vW("encoded %j as %s",e,t),t}function jje(e){try{return JSON.stringify(e)}catch{return!1}}function Gje(e,t){function r(o){var i=bW.deconstructPacket(o),n=Fie(i.packet),s=i.buffers;s.unshift(n),t(s)}bW.removeBlobs(e,r)}function fw(){this.reconstructor=null}Vje(fw.prototype);fw.prototype.add=function(e){var t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=zje(e),en.BINARY_EVENT===t.type||en.BINARY_ACK===t.type?(this.reconstructor=new SW(t),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",t)):this.emit("decoded",t)}else if(Uje(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)};function Hje(e,t){switch(e){case 0:return typeof t=="object";case 1:return t===void 0;case 4:return typeof t=="string"||typeof t=="object";case 2:case 5:return Lie(t)&&(typeof t[0]=="string"||typeof t[0]=="number");case 3:case 6:return Lie(t)}}function zje(e){var t=0,r={type:Number(e.charAt(0))};if(en.types[r.type]==null)return Yje("unknown packet type "+r.type);if(en.BINARY_EVENT===r.type||en.BINARY_ACK===r.type){for(var o=t+1;e.charAt(++t)!=="-"&&t!=e.length;);var i=e.substring(o,t);if(i!=Number(i)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(i)}if(e.charAt(t+1)==="/"){for(var o=t+1;++t;){var n=e.charAt(t);if(n===","||t===e.length)break}r.nsp=e.substring(o,t)}else r.nsp="/";var s=e.charAt(t+1);if(s!==""&&Number(s)==s){for(var o=t+1;++t;){var n=e.charAt(t);if(n==null||Number(n)!=n){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){var a=Xje(e.substr(t));if(Hje(r.type,a))r.data=a;else throw new Error("invalid payload")}return vW("decoded %s as %j",e,r),r}function Xje(e){try{return JSON.parse(e)}catch{return!1}}fw.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function SW(e){this.reconPack=e,this.buffers=[]}SW.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=bW.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null};SW.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function Yje(e){return{type:en.ERROR,data:"parser error: "+e}}});var Wie=we((eUt,CW)=>{try{CW.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{CW.exports=!1}});var gw=we((tUt,Vie)=>{Vie.exports=function(){return typeof self<"u"?self:typeof window<"u"?window:Function("return this")()}()});var yw=we((rUt,Uie)=>{var qje=Wie(),$je=gw();Uie.exports=function(e){var t=e.xdomain,r=e.xscheme,o=e.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!t||qje))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!r&&o)return new XDomainRequest}catch{}if(!t)try{return new $je[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}});var jie=we((oUt,Rie)=>{Rie.exports=Object.keys||function(t){var r=[],o=Object.prototype.hasOwnProperty;for(var i in t)o.call(t,i)&&r.push(i);return r}});var PW=we((iUt,Hie)=>{var Zje=dw(),Gie=Object.prototype.toString,Jje=typeof Blob=="function"||typeof Blob<"u"&&Gie.call(Blob)==="[object BlobConstructor]",Kje=typeof File=="function"||typeof File<"u"&&Gie.call(File)==="[object FileConstructor]";Hie.exports=xw;function xw(e){if(!e||typeof e!="object")return!1;if(Zje(e)){for(var t=0,r=e.length;t<r;t++)if(xw(e[t]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(e)||typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Jje&&e instanceof Blob||Kje&&e instanceof File)return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return xw(e.toJSON(),!0);for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&xw(e[o]))return!0;return!1}});var Xie=we((nUt,zie)=>{zie.exports=function(e,t,r){var o=e.byteLength;if(t=t||0,r=r||o,e.slice)return e.slice(t,r);if(t<0&&(t+=o),r<0&&(r+=o),r>o&&(r=o),t>=o||t>=r||o===0)return new ArrayBuffer(0);for(var i=new Uint8Array(e),n=new Uint8Array(r-t),s=t,a=0;s<r;s++,a++)n[a]=i[s];return n.buffer}});var qie=we((sUt,Yie)=>{Yie.exports=Qje;function Qje(e,t,r){var o=!1;return r=r||eGe,i.count=e,e===0?t():i;function i(n,s){if(i.count<=0)throw new Error("after called too many times");--i.count,n?(o=!0,t(n),t=r):i.count===0&&!o&&t(null,s)}}function eGe(){}});var Kie=we((aUt,Jie)=>{var k5=String.fromCharCode;function $ie(e){for(var t=[],r=0,o=e.length,i,n;r<o;)i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<o?(n=e.charCodeAt(r++),(n&64512)==56320?t.push(((i&1023)<<10)+(n&1023)+65536):(t.push(i),r--)):t.push(i);return t}function tGe(e){for(var t=e.length,r=-1,o,i="";++r<t;)o=e[r],o>65535&&(o-=65536,i+=k5(o>>>10&1023|55296),o=56320|o&1023),i+=k5(o);return i}function Zie(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function wW(e,t){return k5(e>>t&63|128)}function rGe(e,t){if((e&4294967168)==0)return k5(e);var r="";return(e&4294965248)==0?r=k5(e>>6&31|192):(e&4294901760)==0?(Zie(e,t)||(e=65533),r=k5(e>>12&15|224),r+=wW(e,6)):(e&4292870144)==0&&(r=k5(e>>18&7|240),r+=wW(e,12),r+=wW(e,6)),r+=k5(e&63|128),r}function oGe(e,t){t=t||{};for(var r=t.strict!==!1,o=$ie(e),i=o.length,n=-1,s,a="";++n<i;)s=o[n],a+=rGe(s,r);return a}function T3(){if(T5>=vw)throw Error("Invalid byte index");var e=bw[T5]&255;if(T5++,(e&192)==128)return e&63;throw Error("Invalid continuation byte")}function iGe(e){var t,r,o,i,n;if(T5>vw)throw Error("Invalid byte index");if(T5==vw)return!1;if(t=bw[T5]&255,T5++,(t&128)==0)return t;if((t&224)==192){if(r=T3(),n=(t&31)<<6|r,n>=128)return n;throw Error("Invalid continuation byte")}if((t&240)==224){if(r=T3(),o=T3(),n=(t&15)<<12|r<<6|o,n>=2048)return Zie(n,e)?n:65533;throw Error("Invalid continuation byte")}if((t&248)==240&&(r=T3(),o=T3(),i=T3(),n=(t&7)<<18|r<<12|o<<6|i,n>=65536&&n<=1114111))return n;throw Error("Invalid UTF-8 detected")}var bw,vw,T5;function nGe(e,t){t=t||{};var r=t.strict!==!1;bw=$ie(e),vw=bw.length,T5=0;for(var o=[],i;(i=iGe(r))!==!1;)o.push(i);return tGe(o)}Jie.exports={version:"2.1.2",encode:oGe,decode:nGe}});var Qie=we(_W=>{(function(e){"use strict";_W.encode=function(t){var r=new Uint8Array(t),o,i=r.length,n="";for(o=0;o<i;o+=3)n+=e[r[o]>>2],n+=e[(r[o]&3)<<4|r[o+1]>>4],n+=e[(r[o+1]&15)<<2|r[o+2]>>6],n+=e[r[o+2]&63];return i%3===2?n=n.substring(0,n.length-1)+"=":i%3===1&&(n=n.substring(0,n.length-2)+"=="),n},_W.decode=function(t){var r=t.length*.75,o=t.length,i,n=0,s,a,l,c;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);var u=new ArrayBuffer(r),p=new Uint8Array(u);for(i=0;i<o;i+=4)s=e.indexOf(t[i]),a=e.indexOf(t[i+1]),l=e.indexOf(t[i+2]),c=e.indexOf(t[i+3]),p[n++]=s<<2|a>>4,p[n++]=(a&15)<<4|l>>2,p[n++]=(l&3)<<6|c&63;return u}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")});var nne=we((cUt,ine)=>{var E3=typeof E3<"u"?E3:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,ene=function(){try{var e=new Blob(["hi"]);return e.size===2}catch{return!1}}(),sGe=ene&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return e.size===2}catch{return!1}}(),aGe=E3&&E3.prototype.append&&E3.prototype.getBlob;function tne(e){return e.map(function(t){if(t.buffer instanceof ArrayBuffer){var r=t.buffer;if(t.byteLength!==r.byteLength){var o=new Uint8Array(t.byteLength);o.set(new Uint8Array(r,t.byteOffset,t.byteLength)),r=o.buffer}return r}return t})}function rne(e,t){t=t||{};var r=new E3;return tne(e).forEach(function(o){r.append(o)}),t.type?r.getBlob(t.type):r.getBlob()}function one(e,t){return new Blob(tne(e),t||{})}typeof Blob<"u"&&(rne.prototype=Blob.prototype,one.prototype=Blob.prototype);ine.exports=function(){return ene?sGe?Blob:one:aGe?rne:void 0}()});var E2=we(Zo=>{var lGe=jie(),cGe=PW(),Sw=Xie(),uGe=qie(),sne=Kie(),kW;typeof ArrayBuffer<"u"&&(kW=Qie());var pGe=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),dGe=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),ane=pGe||dGe;Zo.protocol=3;var Cw=Zo.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},M8=lGe(Cw),Yp={type:"error",data:"parser error"},Zc=nne();Zo.encodePacket=function(e,t,r,o){typeof t=="function"&&(o=t,t=!1),typeof r=="function"&&(o=r,r=null);var i=e.data===void 0?void 0:e.data.buffer||e.data;if(typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer)return fGe(e,t,o);if(typeof Zc<"u"&&i instanceof Zc)return gGe(e,t,o);if(i&&i.base64)return mGe(e,o);var n=Cw[e.type];return e.data!==void 0&&(n+=r?sne.encode(String(e.data),{strict:!1}):String(e.data)),o(""+n)};function mGe(e,t){var r="b"+Zo.packets[e.type]+e.data.data;return t(r)}function fGe(e,t,r){if(!t)return Zo.encodeBase64Packet(e,r);var o=e.data,i=new Uint8Array(o),n=new Uint8Array(1+o.byteLength);n[0]=Cw[e.type];for(var s=0;s<i.length;s++)n[s+1]=i[s];return r(n.buffer)}function hGe(e,t,r){if(!t)return Zo.encodeBase64Packet(e,r);var o=new FileReader;return o.onload=function(){Zo.encodePacket({type:e.type,data:o.result},t,!0,r)},o.readAsArrayBuffer(e.data)}function gGe(e,t,r){if(!t)return Zo.encodeBase64Packet(e,r);if(ane)return hGe(e,t,r);var o=new Uint8Array(1);o[0]=Cw[e.type];var i=new Zc([o.buffer,e.data]);return r(i)}Zo.encodeBase64Packet=function(e,t){var r="b"+Zo.packets[e.type];if(typeof Zc<"u"&&e.data instanceof Zc){var o=new FileReader;return o.onload=function(){var l=o.result.split(",")[1];t(r+l)},o.readAsDataURL(e.data)}var i;try{i=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch{for(var n=new Uint8Array(e.data),s=new Array(n.length),a=0;a<n.length;a++)s[a]=n[a];i=String.fromCharCode.apply(null,s)}return r+=btoa(i),t(r)};Zo.decodePacket=function(e,t,r){if(e===void 0)return Yp;if(typeof e=="string"){if(e.charAt(0)==="b")return Zo.decodeBase64Packet(e.substr(1),t);if(r&&(e=yGe(e),e===!1))return Yp;var i=e.charAt(0);return Number(i)!=i||!M8[i]?Yp:e.length>1?{type:M8[i],data:e.substring(1)}:{type:M8[i]}}var o=new Uint8Array(e),i=o[0],n=Sw(e,1);return Zc&&t==="blob"&&(n=new Zc([n])),{type:M8[i],data:n}};function yGe(e){try{e=sne.decode(e,{strict:!1})}catch{return!1}return e}Zo.decodeBase64Packet=function(e,t){var r=M8[e.charAt(0)];if(!kW)return{type:r,data:{base64:!0,data:e.substr(1)}};var o=kW.decode(e.substr(1));return t==="blob"&&Zc&&(o=new Zc([o])),{type:r,data:o}};Zo.encodePayload=function(e,t,r){typeof t=="function"&&(r=t,t=null);var o=cGe(e);if(t&&o)return Zc&&!ane?Zo.encodePayloadAsBlob(e,r):Zo.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");function i(s){return s.length+":"+s}function n(s,a){Zo.encodePacket(s,o?t:!1,!1,function(l){a(null,i(l))})}TW(e,n,function(s,a){return r(a.join(""))})};function TW(e,t,r){for(var o=new Array(e.length),i=uGe(e.length,r),n=function(a,l,c){t(l,function(u,p){o[a]=p,c(u,o)})},s=0;s<e.length;s++)n(s,e[s],i)}Zo.decodePayload=function(e,t,r){if(typeof e!="string")return Zo.decodePayloadAsBinary(e,t,r);typeof t=="function"&&(r=t,t=null);var o;if(e==="")return r(Yp,0,1);for(var i="",n,s,a=0,l=e.length;a<l;a++){var c=e.charAt(a);if(c!==":"){i+=c;continue}if(i===""||i!=(n=Number(i))||(s=e.substr(a+1,n),i!=s.length))return r(Yp,0,1);if(s.length){if(o=Zo.decodePacket(s,t,!1),Yp.type===o.type&&Yp.data===o.data)return r(Yp,0,1);var u=r(o,a+n,l);if(u===!1)return}a+=n,i=""}if(i!=="")return r(Yp,0,1)};Zo.encodePayloadAsArrayBuffer=function(e,t){if(!e.length)return t(new ArrayBuffer(0));function r(o,i){Zo.encodePacket(o,!0,!0,function(n){return i(null,n)})}TW(e,r,function(o,i){var n=i.reduce(function(l,c){var u;return typeof c=="string"?u=c.length:u=c.byteLength,l+u.toString().length+u+2},0),s=new Uint8Array(n),a=0;return i.forEach(function(l){var c=typeof l=="string",u=l;if(c){for(var h=new Uint8Array(l.length),p=0;p<l.length;p++)h[p]=l.charCodeAt(p);u=h.buffer}c?s[a++]=0:s[a++]=1;for(var m=u.byteLength.toString(),p=0;p<m.length;p++)s[a++]=parseInt(m[p]);s[a++]=255;for(var h=new Uint8Array(u),p=0;p<h.length;p++)s[a++]=h[p]}),t(s.buffer)})};Zo.encodePayloadAsBlob=function(e,t){function r(o,i){Zo.encodePacket(o,!0,!0,function(n){var s=new Uint8Array(1);if(s[0]=1,typeof n=="string"){for(var a=new Uint8Array(n.length),l=0;l<n.length;l++)a[l]=n.charCodeAt(l);n=a.buffer,s[0]=0}for(var c=n instanceof ArrayBuffer?n.byteLength:n.size,u=c.toString(),p=new Uint8Array(u.length+1),l=0;l<u.length;l++)p[l]=parseInt(u[l]);if(p[u.length]=255,Zc){var m=new Zc([s.buffer,p.buffer,n]);i(null,m)}})}TW(e,r,function(o,i){return t(new Zc(i))})};Zo.decodePayloadAsBinary=function(e,t,r){typeof t=="function"&&(r=t,t=null);for(var o=e,i=[];o.byteLength>0;){for(var n=new Uint8Array(o),s=n[0]===0,a="",l=1;n[l]!==255;l++){if(a.length>310)return r(Yp,0,1);a+=n[l]}o=Sw(o,2+a.length),a=parseInt(a);var c=Sw(o,0,a);if(s)try{c=String.fromCharCode.apply(null,new Uint8Array(c))}catch{var u=new Uint8Array(c);c="";for(var l=0;l<u.length;l++)c+=String.fromCharCode(u[l])}i.push(c),o=Sw(o,a)}var p=i.length;i.forEach(function(m,h){r(Zo.decodePacket(m,t,!0),h,p)})}});var Pw=we((pUt,lne)=>{var xGe=E2(),bGe=T2();lne.exports=lm;function lm(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}bGe(lm.prototype);lm.prototype.onError=function(e,t){var r=new Error(e);return r.type="TransportError",r.description=t,this.emit("error",r),this};lm.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this};lm.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this};lm.prototype.send=function(e){if(this.readyState==="open")this.write(e);else throw new Error("Transport not open")};lm.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")};lm.prototype.onData=function(e){var t=xGe.decodePacket(e,this.socket.binaryType);this.onPacket(t)};lm.prototype.onPacket=function(e){this.emit("packet",e)};lm.prototype.onClose=function(){this.readyState="closed",this.emit("close")}});var A8=we(EW=>{EW.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t};EW.decode=function(e){for(var t={},r=e.split("&"),o=0,i=r.length;o<i;o++){var n=r[o].split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return t}});var I8=we((mUt,cne)=>{cne.exports=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}});var IW=we((fUt,fne)=>{"use strict";var dne="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ww=64,mne={},une=0,E5=0,pne;function MW(e){var t="";do t=dne[e%ww]+t,e=Math.floor(e/ww);while(e>0);return t}function vGe(e){var t=0;for(E5=0;E5<e.length;E5++)t=t*ww+mne[e.charAt(E5)];return t}function AW(){var e=MW(+new Date);return e!==pne?(une=0,pne=e):e+"."+MW(une++)}for(;E5<ww;E5++)mne[dne[E5]]=E5;AW.encode=MW;AW.decode=vGe;fne.exports=AW});var gne=we((hUt,hne)=>{var D8=1e3,N8=D8*60,O8=N8*60,L8=O8*24,SGe=L8*365.25;hne.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return CGe(e);if(r==="number"&&isNaN(e)===!1)return t.long?wGe(e):PGe(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function CGe(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return r*SGe;case"days":case"day":case"d":return r*L8;case"hours":case"hour":case"hrs":case"hr":case"h":return r*O8;case"minutes":case"minute":case"mins":case"min":case"m":return r*N8;case"seconds":case"second":case"secs":case"sec":case"s":return r*D8;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function PGe(e){return e>=L8?Math.round(e/L8)+"d":e>=O8?Math.round(e/O8)+"h":e>=N8?Math.round(e/N8)+"m":e>=D8?Math.round(e/D8)+"s":e+"ms"}function wGe(e){return _w(e,L8,"day")||_w(e,O8,"hour")||_w(e,N8,"minute")||_w(e,D8,"second")||e+" ms"}function _w(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}});var xne=we((Pr,yne)=>{Pr=yne.exports=DW.debug=DW.default=DW;Pr.coerce=AGe;Pr.disable=EGe;Pr.enable=TGe;Pr.enabled=MGe;Pr.humanize=gne();Pr.instances=[];Pr.names=[];Pr.skips=[];Pr.formatters={};function _Ge(e){var t=0,r;for(r in e)t=(t<<5)-t+e.charCodeAt(r),t|=0;return Pr.colors[Math.abs(t)%Pr.colors.length]}function DW(e){var t;function r(){if(r.enabled){var o=r,i=+new Date,n=i-(t||i);o.diff=n,o.prev=t,o.curr=i,t=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=Pr.coerce(s[0]),typeof s[0]!="string"&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(u,p){if(u==="%%")return u;l++;var m=Pr.formatters[p];if(typeof m=="function"){var h=s[l];u=m.call(o,h),s.splice(l,1),l--}return u}),Pr.formatArgs.call(o,s);var c=r.log||Pr.log||console.log.bind(console);c.apply(o,s)}}return r.namespace=e,r.enabled=Pr.enabled(e),r.useColors=Pr.useColors(),r.color=_Ge(e),r.destroy=kGe,typeof Pr.init=="function"&&Pr.init(r),Pr.instances.push(r),r}function kGe(){var e=Pr.instances.indexOf(this);return e!==-1?(Pr.instances.splice(e,1),!0):!1}function TGe(e){Pr.save(e),Pr.names=[],Pr.skips=[];var t,r=(typeof e=="string"?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&(e=r[t].replace(/\*/g,".*?"),e[0]==="-"?Pr.skips.push(new RegExp("^"+e.substr(1)+"$")):Pr.names.push(new RegExp("^"+e+"$")));for(t=0;t<Pr.instances.length;t++){var i=Pr.instances[t];i.enabled=Pr.enabled(i.namespace)}}function EGe(){Pr.enable("")}function MGe(e){if(e[e.length-1]==="*")return!0;var t,r;for(t=0,r=Pr.skips.length;t<r;t++)if(Pr.skips[t].test(e))return!1;for(t=0,r=Pr.names.length;t<r;t++)if(Pr.names[t].test(e))return!0;return!1}function AGe(e){return e instanceof Error?e.stack||e.message:e}});var B8=we((Pl,vne)=>{Pl=vne.exports=xne();Pl.log=NGe;Pl.formatArgs=DGe;Pl.save=OGe;Pl.load=bne;Pl.useColors=IGe;Pl.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:LGe();Pl.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function IGe(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}Pl.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function DGe(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+Pl.humanize(this.diff),!!t){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(n){n!=="%%"&&(o++,n==="%c"&&(i=o))}),e.splice(i,0,r)}}function NGe(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function OGe(e){try{e==null?Pl.storage.removeItem("debug"):Pl.storage.debug=e}catch{}}function bne(){var e;try{e=Pl.storage.debug}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}Pl.enable(bne());function LGe(){try{return window.localStorage}catch{}}});var NW=we((gUt,Pne)=>{var Sne=Pw(),BGe=A8(),Cne=E2(),FGe=I8(),WGe=IW(),qp=B8()("engine.io-client:polling");Pne.exports=cm;var VGe=function(){var e=yw(),t=new e({xdomain:!1});return t.responseType!=null}();function cm(e){var t=e&&e.forceBase64;(!VGe||t)&&(this.supportsBinary=!1),Sne.call(this,e)}FGe(cm,Sne);cm.prototype.name="polling";cm.prototype.doOpen=function(){this.poll()};cm.prototype.pause=function(e){var t=this;this.readyState="pausing";function r(){qp("paused"),t.readyState="paused",e()}if(this.polling||!this.writable){var o=0;this.polling&&(qp("we are currently polling - waiting to pause"),o++,this.once("pollComplete",function(){qp("pre-pause polling complete"),--o||r()})),this.writable||(qp("we are currently writing - waiting to pause"),o++,this.once("drain",function(){qp("pre-pause writing complete"),--o||r()}))}else r()};cm.prototype.poll=function(){qp("polling"),this.polling=!0,this.doPoll(),this.emit("poll")};cm.prototype.onData=function(e){var t=this;qp("polling got data %s",e);var r=function(o,i,n){if(t.readyState==="opening"&&o.type==="open"&&t.onOpen(),o.type==="close")return t.onClose(),!1;t.onPacket(o)};Cne.decodePayload(e,this.socket.binaryType,r),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():qp('ignoring poll - transport state "%s"',this.readyState))};cm.prototype.doClose=function(){var e=this;function t(){qp("writing close packet"),e.write([{type:"close"}])}this.readyState==="open"?(qp("transport open - closing"),t()):(qp("transport not open - deferring close"),this.once("open",t))};cm.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit("drain")};Cne.encodePayload(e,this.supportsBinary,function(o){t.doWrite(o,r)})};cm.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",r="";this.timestampRequests!==!1&&(e[this.timestampParam]=WGe()),!this.supportsBinary&&!e.sid&&(e.b64=1),e=BGe.encode(e),this.port&&(t==="https"&&Number(this.port)!==443||t==="http"&&Number(this.port)!==80)&&(r=":"+this.port),e.length&&(e="?"+e);var o=this.hostname.indexOf(":")!==-1;return t+"://"+(o?"["+this.hostname+"]":this.hostname)+r+this.path+e}});var Ene=we((yUt,LW)=>{var UGe=yw(),Tne=NW(),RGe=T2(),jGe=I8(),OW=B8()("engine.io-client:polling-xhr"),GGe=gw();LW.exports=M3;LW.exports.Request=Es;function wne(){}function M3(e){if(Tne.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,typeof location<"u"){var t=location.protocol==="https:",r=location.port;r||(r=t?443:80),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}}jGe(M3,Tne);M3.prototype.supportsBinary=!0;M3.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new Es(e)};M3.prototype.doWrite=function(e,t){var r=typeof e!="string"&&e!==void 0,o=this.request({method:"POST",data:e,isBinary:r}),i=this;o.on("success",t),o.on("error",function(n){i.onError("xhr post error",n)}),this.sendXhr=o};M3.prototype.doPoll=function(){OW("xhr poll");var e=this.request(),t=this;e.on("data",function(r){t.onData(r)}),e.on("error",function(r){t.onError("xhr poll error",r)}),this.pollXhr=e};function Es(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=e.async!==!1,this.data=e.data!==void 0?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}RGe(Es.prototype);Es.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new UGe(e),r=this;try{OW("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.extraHeaders[o])}}catch{}if(this.method==="POST")try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){if(t.readyState===2)try{var i=t.getResponseHeader("Content-Type");(r.supportsBinary&&i==="application/octet-stream"||i==="application/octet-stream; charset=UTF-8")&&(t.responseType="arraybuffer")}catch{}t.readyState===4&&(t.status===200||t.status===1223?r.onLoad():setTimeout(function(){r.onError(typeof t.status=="number"?t.status:0)},0))},OW("xhr data %s",this.data),t.send(this.data)}catch(i){setTimeout(function(){r.onError(i)},0);return}typeof document<"u"&&(this.index=Es.requestsCount++,Es.requests[this.index]=this)};Es.prototype.onSuccess=function(){this.emit("success"),this.cleanup()};Es.prototype.onData=function(e){this.emit("data",e),this.onSuccess()};Es.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)};Es.prototype.cleanup=function(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=wne:this.xhr.onreadystatechange=wne,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Es.requests[this.index],this.xhr=null}};Es.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch{}t==="application/octet-stream"||t==="application/octet-stream; charset=UTF-8"?e=this.xhr.response||this.xhr.responseText:e=this.xhr.responseText}catch(r){this.onError(r)}e!=null&&this.onData(e)};Es.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR};Es.prototype.abort=function(){this.cleanup()};Es.requestsCount=0;Es.requests={};typeof document<"u"&&(typeof attachEvent=="function"?attachEvent("onunload",kne):typeof addEventListener=="function"&&(_ne="onpagehide"in GGe?"pagehide":"unload",addEventListener(_ne,kne,!1)));var _ne;function kne(){for(var e in Es.requests)Es.requests.hasOwnProperty(e)&&Es.requests[e].abort()}});var Ine=we((xUt,Ane)=>{var BW=NW(),HGe=I8(),Mne=gw();Ane.exports=A3;var zGe=/\n/g,XGe=/\\n/g,kw;function YGe(){}function A3(e){BW.call(this,e),this.query=this.query||{},kw||(kw=Mne.___eio=Mne.___eio||[]),this.index=kw.length;var t=this;kw.push(function(r){t.onData(r)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){t.script&&(t.script.onerror=YGe)},!1)}HGe(A3,BW);A3.prototype.supportsBinary=!1;A3.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),BW.prototype.doClose.call(this)};A3.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(i){e.onError("jsonp poll error",i)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t;var o=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);o&&setTimeout(function(){var i=document.createElement("iframe");document.body.appendChild(i),document.body.removeChild(i)},100)};A3.prototype.doWrite=function(e,t){var r=this;if(!this.form){var o=document.createElement("form"),i=document.createElement("textarea"),n=this.iframeId="eio_iframe_"+this.index,s;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=n,o.method="POST",o.setAttribute("accept-charset","utf-8"),i.name="d",o.appendChild(i),document.body.appendChild(o),this.form=o,this.area=i}this.form.action=this.uri();function a(){l(),t()}function l(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(u){r.onError("jsonp polling iframe removal error",u)}try{var c='<iframe src="javascript:0" name="'+r.iframeId+'">';s=document.createElement(c)}catch{s=document.createElement("iframe"),s.name=r.iframeId,s.src="javascript:0"}s.id=r.iframeId,r.form.appendChild(s),r.iframe=s}l(),e=e.replace(XGe,`\\
`),this.area.value=e.replace(zGe,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){r.iframe.readyState==="complete"&&a()}:this.iframe.onload=a}});var Dne=we(()=>{});var One=we((SUt,Nne)=>{var FW=Pw(),qGe=E2(),$Ge=A8(),ZGe=I8(),JGe=IW(),KGe=B8()("engine.io-client:websocket"),Tw,WW;typeof WebSocket<"u"?Tw=WebSocket:typeof self<"u"&&(Tw=self.WebSocket||self.MozWebSocket);if(typeof window>"u")try{WW=Dne()}catch{}var I3=Tw||WW;Nne.exports=qu;function qu(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=Tw&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(I3=WW),FW.call(this,e)}ZGe(qu,FW);qu.prototype.name="websocket";qu.prototype.supportsBinary=!0;qu.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,r={};this.isReactNative||(r.agent=this.agent,r.perMessageDeflate=this.perMessageDeflate,r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new I3(e,t):new I3(e):new I3(e,t,r)}catch(o){return this.emit("error",o)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}};qu.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}};qu.prototype.write=function(e){var t=this;this.writable=!1;for(var r=e.length,o=0,i=r;o<i;o++)(function(s){qGe.encodePacket(s,t.supportsBinary,function(a){if(!t.usingBrowserWebSocket){var l={};if(s.options&&(l.compress=s.options.compress),t.perMessageDeflate){var c=typeof a=="string"?Buffer.byteLength(a):a.length;c<t.perMessageDeflate.threshold&&(l.compress=!1)}}try{t.usingBrowserWebSocket?t.ws.send(a):t.ws.send(a,l)}catch{KGe("websocket closed before onclose event")}--r||n()})})(e[o]);function n(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}};qu.prototype.onClose=function(){FW.prototype.onClose.call(this)};qu.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()};qu.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",r="";this.port&&(t==="wss"&&Number(this.port)!==443||t==="ws"&&Number(this.port)!==80)&&(r=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=JGe()),this.supportsBinary||(e.b64=1),e=$Ge.encode(e),e.length&&(e="?"+e);var o=this.hostname.indexOf(":")!==-1;return t+"://"+(o?"["+this.hostname+"]":this.hostname)+r+this.path+e};qu.prototype.check=function(){return!!I3&&!("__initialize"in I3&&this.name===qu.prototype.name)}});var UW=we(VW=>{var QGe=yw(),eHe=Ene(),tHe=Ine(),rHe=One();VW.polling=oHe;VW.websocket=rHe;function oHe(e){var t,r=!1,o=!1,i=e.jsonp!==!1;if(typeof location<"u"){var n=location.protocol==="https:",s=location.port;s||(s=n?443:80),r=e.hostname!==location.hostname||s!==e.port,o=e.secure!==n}if(e.xdomain=r,e.xscheme=o,t=new QGe(e),"open"in t&&!e.forceJSONP)return new eHe(e);if(!i)throw new Error("JSONP disabled");return new tHe(e)}});var RW=we((PUt,Lne)=>{var iHe=[].indexOf;Lne.exports=function(e,t){if(iHe)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}});var Vne=we((wUt,Wne)=>{var nHe=UW(),sHe=T2(),ss=B8()("engine.io-client:socket"),aHe=RW(),Fne=E2(),Bne=pW(),lHe=A8();Wne.exports=Or;function Or(e,t){if(!(this instanceof Or))return new Or(e,t);t=t||{},e&&typeof e=="object"&&(t=e,e=null),e?(e=Bne(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Bne(t.host).host),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=t.query||{},typeof this.query=="string"&&(this.query=lHe.decode(this.query)),this.upgrade=t.upgrade!==!1,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=t.jsonp!==!1,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=t.withCredentials!==!1,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=t.perMessageDeflate!==!1?t.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||void 0,this.key=t.key||void 0,this.passphrase=t.passphrase||void 0,this.cert=t.cert||void 0,this.ca=t.ca||void 0,this.ciphers=t.ciphers||void 0,this.rejectUnauthorized=t.rejectUnauthorized===void 0?!0:t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}Or.priorWebsocketSuccess=!1;sHe(Or.prototype);Or.protocol=Fne.protocol;Or.Socket=Or;Or.Transport=Pw();Or.transports=UW();Or.parser=E2();Or.prototype.createTransport=function(e){ss('creating transport "%s"',e);var t=cHe(this.query);t.EIO=Fne.protocol,t.transport=e;var r=this.transportOptions[e]||{};this.id&&(t.sid=this.id);var o=new nHe[e]({query:t,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,withCredentials:r.withCredentials||this.withCredentials,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0,isReactNative:this.isReactNative});return o};function cHe(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}Or.prototype.open=function(){var e;if(this.rememberUpgrade&&Or.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){var t=this;setTimeout(function(){t.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)};Or.prototype.setTransport=function(e){ss("setting transport %s",e.name);var t=this;this.transport&&(ss("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(r){t.onPacket(r)}).on("error",function(r){t.onError(r)}).on("close",function(){t.onClose("transport close")})};Or.prototype.probe=function(e){ss('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),r=!1,o=this;Or.priorWebsocketSuccess=!1;function i(){if(o.onlyBinaryUpgrades){var p=!this.supportsBinary&&o.transport.supportsBinary;r=r||p}r||(ss('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(m){if(!r)if(m.type==="pong"&&m.data==="probe"){if(ss('probe transport "%s" pong',e),o.upgrading=!0,o.emit("upgrading",t),!t)return;Or.priorWebsocketSuccess=t.name==="websocket",ss('pausing current transport "%s"',o.transport.name),o.transport.pause(function(){r||o.readyState!=="closed"&&(ss("changing transport and sending upgrade packet"),u(),o.setTransport(t),t.send([{type:"upgrade"}]),o.emit("upgrade",t),t=null,o.upgrading=!1,o.flush())})}else{ss('probe transport "%s" failed',e);var h=new Error("probe error");h.transport=t.name,o.emit("upgradeError",h)}}))}function n(){r||(r=!0,u(),t.close(),t=null)}function s(p){var m=new Error("probe error: "+p);m.transport=t.name,n(),ss('probe transport "%s" failed because of error: %s',e,p),o.emit("upgradeError",m)}function a(){s("transport closed")}function l(){s("socket closed")}function c(p){t&&p.name!==t.name&&(ss('"%s" works - aborting "%s"',p.name,t.name),n())}function u(){t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),o.removeListener("close",l),o.removeListener("upgrading",c)}t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",l),this.once("upgrading",c),t.open()};Or.prototype.onOpen=function(){if(ss("socket open"),this.readyState="open",Or.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){ss("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}};Or.prototype.onPacket=function(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(ss('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else ss('packet received with socket readyState "%s"',this.readyState)};Or.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};Or.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){t.readyState!=="closed"&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)};Or.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){ss("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)};Or.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})};Or.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()};Or.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(ss("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};Or.prototype.write=Or.prototype.send=function(e,t,r){return this.sendPacket("message",e,t,r),this};Or.prototype.sendPacket=function(e,t,r,o){if(typeof t=="function"&&(o=t,t=void 0),typeof r=="function"&&(o=r,r=null),!(this.readyState==="closing"||this.readyState==="closed")){r=r||{},r.compress=r.compress!==!1;var i={type:e,data:t,options:r};this.emit("packetCreate",i),this.writeBuffer.push(i),o&&this.once("flush",o),this.flush()}};Or.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?o():t()}):this.upgrading?o():t()}function t(){e.onClose("forced close"),ss("socket closing - telling transport to close"),e.transport.close()}function r(){e.removeListener("upgrade",r),e.removeListener("upgradeError",r),t()}function o(){e.once("upgrade",r),e.once("upgradeError",r)}return this};Or.prototype.onError=function(e){ss("socket error %j",e),Or.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)};Or.prototype.onClose=function(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){ss('socket close with reason: "%s"',e);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),r.writeBuffer=[],r.prevBufferLen=0}};Or.prototype.filterUpgrades=function(e){for(var t=[],r=0,o=e.length;r<o;r++)~aHe(this.transports,e[r])&&t.push(e[r]);return t}});var Une=we((_Ut,jW)=>{jW.exports=Vne();jW.exports.parser=E2()});var jne=we((kUt,Rne)=>{Rne.exports=uHe;function uHe(e,t){var r=[];t=t||0;for(var o=t||0;o<e.length;o++)r[o-t]=e[o];return r}});var GW=we((TUt,Gne)=>{Gne.exports=pHe;function pHe(e,t,r){return e.on(t,r),{destroy:function(){e.removeListener(t,r)}}}});var HW=we((EUt,zne)=>{var Hne=[].slice;zne.exports=function(e,t){if(typeof t=="string"&&(t=e[t]),typeof t!="function")throw new Error("bind() requires a function");var r=Hne.call(arguments,2);return function(){return t.apply(e,r.concat(Hne.call(arguments)))}}});var $W=we((qne,$ne)=>{var wl=hw(),Xne=T2(),YW=jne(),zW=GW(),XW=HW(),$p=w8()("socket.io-client:socket"),dHe=A8(),Yne=PW();$ne.exports=qne=yn;var mHe={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},qW=Xne.prototype.emit;function yn(e,t,r){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}Xne(yn.prototype);yn.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[zW(e,"open",XW(this,"onopen")),zW(e,"packet",XW(this,"onpacket")),zW(e,"close",XW(this,"onclose"))]}};yn.prototype.open=yn.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)};yn.prototype.send=function(){var e=YW(arguments);return e.unshift("message"),this.emit.apply(this,e),this};yn.prototype.emit=function(e){if(mHe.hasOwnProperty(e))return qW.apply(this,arguments),this;var t=YW(arguments),r={type:(this.flags.binary!==void 0?this.flags.binary:Yne(t))?wl.BINARY_EVENT:wl.EVENT,data:t};return r.options={},r.options.compress=!this.flags||this.flags.compress!==!1,typeof t[t.length-1]=="function"&&($p("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this};yn.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)};yn.prototype.onopen=function(){if($p("transport is open - connecting"),this.nsp!=="/")if(this.query){var e=typeof this.query=="object"?dHe.encode(this.query):this.query;$p("sending connect packet with query %s",e),this.packet({type:wl.CONNECT,query:e})}else this.packet({type:wl.CONNECT})};yn.prototype.onclose=function(e){$p("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)};yn.prototype.onpacket=function(e){var t=e.nsp===this.nsp,r=e.type===wl.ERROR&&e.nsp==="/";if(!(!t&&!r))switch(e.type){case wl.CONNECT:this.onconnect();break;case wl.EVENT:this.onevent(e);break;case wl.BINARY_EVENT:this.onevent(e);break;case wl.ACK:this.onack(e);break;case wl.BINARY_ACK:this.onack(e);break;case wl.DISCONNECT:this.ondisconnect();break;case wl.ERROR:this.emit("error",e.data);break}};yn.prototype.onevent=function(e){var t=e.data||[];$p("emitting event %j",t),e.id!=null&&($p("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?qW.apply(this,t):this.receiveBuffer.push(t)};yn.prototype.ack=function(e){var t=this,r=!1;return function(){if(!r){r=!0;var o=YW(arguments);$p("sending ack %j",o),t.packet({type:Yne(o)?wl.BINARY_ACK:wl.ACK,id:e,data:o})}}};yn.prototype.onack=function(e){var t=this.acks[e.id];typeof t=="function"?($p("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):$p("bad ack %s",e.id)};yn.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()};yn.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)qW.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]};yn.prototype.ondisconnect=function(){$p("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")};yn.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)};yn.prototype.close=yn.prototype.disconnect=function(){return this.connected&&($p("performing disconnect (%s)",this.nsp),this.packet({type:wl.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this};yn.prototype.compress=function(e){return this.flags.compress=e,this};yn.prototype.binary=function(e){return this.flags.binary=e,this}});var Jne=we((MUt,Zne)=>{Zne.exports=D3;function D3(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}D3.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};D3.prototype.reset=function(){this.attempts=0};D3.prototype.setMin=function(e){this.ms=e};D3.prototype.setMax=function(e){this.max=e};D3.prototype.setJitter=function(e){this.jitter=e}});var ZW=we((AUt,ese)=>{var fHe=Une(),hHe=$W(),gHe=T2(),yHe=hw(),M5=GW(),N3=HW(),Xa=w8()("socket.io-client:manager"),Kne=RW(),xHe=Jne(),Qne=Object.prototype.hasOwnProperty;ese.exports=Zr;function Zr(e,t){if(!(this instanceof Zr))return new Zr(e,t);e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new xHe({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=t.parser||yHe;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=t.autoConnect!==!1,this.autoConnect&&this.open()}Zr.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)Qne.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)};Zr.prototype.updateSocketIds=function(){for(var e in this.nsps)Qne.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))};Zr.prototype.generateId=function(e){return(e==="/"?"":e+"#")+this.engine.id};gHe(Zr.prototype);Zr.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection};Zr.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts};Zr.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay};Zr.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor};Zr.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax};Zr.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout};Zr.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()};Zr.prototype.open=Zr.prototype.connect=function(e,t){if(Xa("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;Xa("opening %s",this.uri),this.engine=fHe(this.uri,this.opts);var r=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var i=M5(r,"open",function(){o.onopen(),e&&e()}),n=M5(r,"error",function(l){if(Xa("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",l),e){var c=new Error("Connection error");c.data=l,e(c)}else o.maybeReconnectOnOpen()});if(this._timeout!==!1){var s=this._timeout;Xa("connect attempt will timeout after %d",s),s===0&&i.destroy();var a=setTimeout(function(){Xa("connect attempt timed out after %d",s),i.destroy(),r.close(),r.emit("error","timeout"),o.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(i),this.subs.push(n),this};Zr.prototype.onopen=function(){Xa("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(M5(e,"data",N3(this,"ondata"))),this.subs.push(M5(e,"ping",N3(this,"onping"))),this.subs.push(M5(e,"pong",N3(this,"onpong"))),this.subs.push(M5(e,"error",N3(this,"onerror"))),this.subs.push(M5(e,"close",N3(this,"onclose"))),this.subs.push(M5(this.decoder,"decoded",N3(this,"ondecoded")))};Zr.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")};Zr.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};Zr.prototype.ondata=function(e){this.decoder.add(e)};Zr.prototype.ondecoded=function(e){this.emit("packet",e)};Zr.prototype.onerror=function(e){Xa("error",e),this.emitAll("error",e)};Zr.prototype.socket=function(e,t){var r=this.nsps[e];if(!r){r=new hHe(this,e,t),this.nsps[e]=r;var o=this;r.on("connecting",i),r.on("connect",function(){r.id=o.generateId(e)}),this.autoConnect&&i()}function i(){~Kne(o.connecting,r)||o.connecting.push(r)}return r};Zr.prototype.destroy=function(e){var t=Kne(this.connecting,e);~t&&this.connecting.splice(t,1),!this.connecting.length&&this.close()};Zr.prototype.packet=function(e){Xa("writing packet %j",e);var t=this;e.query&&e.type===0&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(r){for(var o=0;o<r.length;o++)t.engine.write(r[o],e.options);t.encoding=!1,t.processPacketQueue()}))};Zr.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}};Zr.prototype.cleanup=function(){Xa("cleanup");for(var e=this.subs.length,t=0;t<e;t++){var r=this.subs.shift();r.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()};Zr.prototype.close=Zr.prototype.disconnect=function(){Xa("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()};Zr.prototype.onclose=function(e){Xa("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()};Zr.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)Xa("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();Xa("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var r=setTimeout(function(){e.skipReconnect||(Xa("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),!e.skipReconnect&&e.open(function(o){o?(Xa("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",o.data)):(Xa("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(r)}})}};Zr.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}});var nse=we((M2,ise)=>{var bHe=Cie(),vHe=hw(),tse=ZW(),rse=w8()("socket.io-client");ise.exports=M2=ose;var F8=M2.managers={};function ose(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};var r=bHe(e),o=r.source,i=r.id,n=r.path,s=F8[i]&&n in F8[i].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||s,l;return a?(rse("ignoring socket cache for %s",o),l=tse(o,t)):(F8[i]||(rse("new io instance for %s",o),F8[i]=tse(o,t)),l=F8[i]),r.query&&!t.query&&(t.query=r.query),l.socket(r.path,t)}M2.protocol=vHe.protocol;M2.connect=ose;M2.Manager=ZW();M2.Socket=$W()});var Gae=we((XYt,jae)=>{"use strict";var Bae={},Fae="apply",ls="concat",TV=String,ZXe=TV.prototype.toLowerCase,as=Math,kV=as.max,pm=as.PI,Iae=as.abs,JXe="split",zw="array",KXe=Object.prototype.toString,QXe={NaN:1,Infinity:1,"-Infinity":1},Hw=parseFloat,Dae=TV.prototype.toUpperCase,Yw="hasOwnProperty",eYe=/,?([achlmqrstvxz]),?/gi,tYe=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,rYe=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig;function oYe(e,t){for(var r=0,o=e.length;r<o;r++)if(e[r]===t)return e.push(e.splice(r,1)[0])}function Wae(e,t,r){function o(){var i=Array.prototype.slice.call(arguments,0),n=i.join("\u2400"),s=o.cache=o.cache||{},a=o.count=o.count||[];return s[Yw](n)?(oYe(a,n),r?r(s[n]):s[n]):(a.length>=1e3&&delete s[a.shift()],a.push(n),s[n]=e[Fae](t,i),r?r(s[n]):s[n])}return o}function W5(e){var t=Uae(e);return t.toString=function(){return this.join(",").replace(/,?([achlmqrstvxz]),?/gi,"$1")},t}function Q8(e){var t=Q8.ps=Q8.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var r in t)t[Yw](r)&&r!=e&&(t[r].sleep--,!t[r].sleep&&delete t[r])}),t[e]}function Nae(e){var t=Q8(e);if(t.abs)return W5(t.abs);if((!Xw(e,zw)||!Xw(e&&e[0],zw))&&(e=Vae(e)),!e||!e.length)return[["M",0,0]];var r=[],o=0,i=0,n=0,s=0,a=0;e[0][0]=="M"&&(o=+e[0][1],i=+e[0][2],n=o,s=i,a++,r[0]=["M",o,i]);for(var l=e.length==3&&e[0][0]=="M"&&e[1][0].toUpperCase()=="R"&&e[2][0].toUpperCase()=="Z",c,u,p=a,m=e.length;p<m;p++){if(r.push(c=[]),u=e[p],u[0]!=Dae.call(u[0]))switch(c[0]=Dae.call(u[0]),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+(u[6]+o),c[7]=+(u[7]+i);break;case"V":c[1]=+u[1]+i;break;case"H":c[1]=+u[1]+o;break;case"R":for(var h=[o,i][ls](u.slice(1)),f=2,x=h.length;f<x;f++)h[f]=+h[f]+o,h[++f]=+h[f]+i;r.pop(),r=r[ls](Oae(h,l));break;case"M":n=+u[1]+o,s=+u[2]+i;default:for(f=1,x=u.length;f<x;f++)c[f]=+u[f]+(f%2?o:i)}else if(u[0]=="R")h=[o,i][ls](u.slice(1)),r.pop(),r=r[ls](Oae(h,l)),c=["R"][ls](u.slice(-2));else for(var v=0,b=u.length;v<b;v++)c[v]=u[v];switch(c[0]){case"Z":o=n,i=s;break;case"H":o=c[1];break;case"V":i=c[1];break;case"M":n=c[c.length-2],s=c[c.length-1];default:o=c[c.length-2],i=c[c.length-1]}}return r.toString=iYe,t.abs=W5(r),r}function iYe(){return this.join(",").replace(eYe,"$1")}function Oae(e,t){for(var r=[],o=0,i=e.length;i-2*!t>o;o+=2){var n=[{x:+e[o-2],y:+e[o-1]},{x:+e[o],y:+e[o+1]},{x:+e[o+2],y:+e[o+3]},{x:+e[o+4],y:+e[o+5]}];t?o?i-4==o?n[3]={x:+e[0],y:+e[1]}:i-2==o&&(n[2]={x:+e[0],y:+e[1]},n[3]={x:+e[2],y:+e[3]}):n[0]={x:+e[i-2],y:+e[i-1]}:i-4==o?n[3]=n[2]:o||(n[0]={x:+e[o],y:+e[o+1]}),r.push(["C",(-n[0].x+6*n[1].x+n[2].x)/6,(-n[0].y+6*n[1].y+n[2].y)/6,(n[1].x+6*n[2].x-n[3].x)/6,(n[1].y+6*n[2].y-n[3].y)/6,n[2].x,n[2].y])}return r}function Xw(e,t){return t=ZXe.call(t),t=="finite"?!QXe[Yw](+e):t=="array"?e instanceof Array:t=="null"&&e===null||t==typeof e&&e!==null||t=="object"&&e===Object(e)||t=="array"&&Array.isArray&&Array.isArray(e)||KXe.call(e).slice(8,-1).toLowerCase()==t}function Vae(e){if(!e)return null;var t=Q8(e);if(t.arr)return W5(t.arr);var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},o=[];return Xw(e,zw)&&Xw(e[0],zw)&&(o=W5(e)),o.length||TV(e).replace(tYe,function(i,n,s){var a=[],l=n.toLowerCase();if(s.replace(rYe,function(c,u){u&&a.push(+u)}),l=="m"&&a.length>2&&(o.push([n][ls](a.splice(0,2))),l="l",n=n=="m"?"l":"L"),l=="r")o.push([n][ls](a));else for(;a.length>=r[l]&&(o.push([n][ls](a.splice(0,r[l]))),!!r[l]););}),o.toString=Vae,t.arr=W5(o),o}function Uae(e){if(typeof e=="function"||Object(e)!==e)return e;var t=new e.constructor;for(var r in e)e[Yw](r)&&(t[r]=Uae(e[r]));return t}function K8(e,t,r,o){return[e,t,r,o,r,o]}function Lae(e,t,r,o,i,n){var s=.3333333333333333,a=2/3;return[s*e+a*r,s*t+a*o,s*i+a*r,s*n+a*o,i,n]}function Rae(e,t,r,o,i,n,s,a,l,c){if(r===0||o===0)return K8(e,t,a,l);var u=pm*120/180,p=pm/180*(+i||0),m=[],h,f=Wae(function(yt,Zt,Gt){var oo=yt*as.cos(Gt)-Zt*as.sin(Gt),On=yt*as.sin(Gt)+Zt*as.cos(Gt);return{x:oo,y:On}});if(c)L=c[0],R=c[1],A=c[2],O=c[3];else{h=f(e,t,-p),e=h.x,t=h.y,h=f(a,l,-p),a=h.x,l=h.y;var x=as.cos(pm/180*i),v=as.sin(pm/180*i),b=(e-a)/2,S=(t-l)/2,w=b*b/(r*r)+S*S/(o*o);w>1&&(w=as.sqrt(w),r=w*r,o=w*o);var _=r*r,E=o*o,T=(n==s?-1:1)*as.sqrt(Iae((_*E-_*S*S-E*b*b)/(_*S*S+E*b*b))),A=T*r*S/o+(e+a)/2,O=T*-o*b/r+(t+l)/2,L=as.asin(((t-O)/o).toFixed(9)),R=as.asin(((l-O)/o).toFixed(9));L=e<A?pm-L:L,R=a<A?pm-R:R,L<0&&(L=pm*2+L),R<0&&(R=pm*2+R),s&&L>R&&(L=L-pm*2),!s&&R>L&&(R=R-pm*2)}var z=R-L;if(Iae(z)>u){var I=R,F=a,B=l;R=L+u*(s&&R>L?1:-1),a=A+r*as.cos(R),l=O+o*as.sin(R),m=Rae(a,l,r,o,i,0,s,F,B,[R,I,A,O])}z=R-L;var j=as.cos(L),X=as.sin(L),te=as.cos(R),se=as.sin(R),ue=as.tan(z/4),be=4/3*r*ue,ae=4/3*o*ue,he=[e,t],fe=[e+be*X,t-ae*j],ce=[a+be*se,l-ae*te],Se=[a,l];if(fe[0]=2*he[0]-fe[0],fe[1]=2*he[1]-fe[1],c)return[fe,ce,Se][ls](m);m=[fe,ce,Se][ls](m).join()[JXe](",");for(var It=[],at=0,Ce=m.length;at<Ce;at++)It[at]=at%2?f(m[at-1],m[at],p).y:f(m[at],m[at+1],p).x;return It}Bae.path2curve=Wae(function(e,t){var r=!t&&Q8(e);if(!t&&r.curve)return W5(r.curve);for(var o=Nae(e),i=t&&Nae(t),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=function(_,E,T){var A,O,L={T:1,Q:1};if(!_)return["C",E.x,E.y,E.x,E.y,E.x,E.y];switch(!(_[0]in L)&&(E.qx=E.qy=null),_[0]){case"M":E.X=_[1],E.Y=_[2];break;case"A":_=["C"][ls](Rae[Fae](0,[E.x,E.y][ls](_.slice(1))));break;case"S":T=="C"||T=="S"?(A=E.x*2-E.bx,O=E.y*2-E.by):(A=E.x,O=E.y),_=["C",A,O][ls](_.slice(1));break;case"T":T=="Q"||T=="T"?(E.qx=E.x*2-E.qx,E.qy=E.y*2-E.qy):(E.qx=E.x,E.qy=E.y),_=["C"][ls](Lae(E.x,E.y,E.qx,E.qy,_[1],_[2]));break;case"Q":E.qx=_[1],E.qy=_[2],_=["C"][ls](Lae(E.x,E.y,_[1],_[2],_[3],_[4]));break;case"L":_=["C"][ls](K8(E.x,E.y,_[1],_[2]));break;case"H":_=["C"][ls](K8(E.x,E.y,_[1],E.y));break;case"V":_=["C"][ls](K8(E.x,E.y,E.x,_[1]));break;case"Z":_=["C"][ls](K8(E.x,E.y,E.X,E.Y));break}return _},l=function(_,E){if(_[E].length>7){_[E].shift();for(var T=_[E];T.length;)u[E]="A",i&&(p[E]="A"),_.splice(E++,0,["C"][ls](T.splice(0,6)));_.splice(E,1),x=kV(o.length,i&&i.length||0)}},c=function(_,E,T,A,O){_&&E&&_[O][0]=="M"&&E[O][0]!="M"&&(E.splice(O,0,["M",A.x,A.y]),T.bx=0,T.by=0,T.x=_[O][1],T.y=_[O][2],x=kV(o.length,i&&i.length||0))},u=[],p=[],m="",h="",f=0,x=kV(o.length,i&&i.length||0);f<x;f++){o[f]&&(m=o[f][0]),m!="C"&&(u[f]=m,f&&(h=u[f-1])),o[f]=a(o[f],n,h),u[f]!="A"&&m=="C"&&(u[f]="C"),l(o,f),i&&(i[f]&&(m=i[f][0]),m!="C"&&(p[f]=m,f&&(h=p[f-1])),i[f]=a(i[f],s,h),p[f]!="A"&&m=="C"&&(p[f]="C"),l(i,f)),c(o,i,n,s,f),c(i,o,s,n,f);var v=o[f],b=i&&i[f],S=v.length,w=i&&b.length;n.x=v[S-2],n.y=v[S-1],n.bx=Hw(v[S-4])||n.x,n.by=Hw(v[S-3])||n.y,s.bx=i&&(Hw(b[w-4])||s.x),s.by=i&&(Hw(b[w-3])||s.y),s.x=i&&b[w-2],s.y=i&&b[w-1]}return i||(r.curve=W5(o)),i?[o,i]:o},null,W5);jae.exports=Bae});var Vle=we(()=>{"use strict";fabric.isTouchSupported="ontouchstart"in fabric.document.documentElement;fabric.isLikelyNode=typeof Buffer<"u"&&typeof window>"u";fabric.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width"];fabric.DPI=96;(function(){function e(i,n){this.__eventListeners[i]&&(n?fabric.util.removeFromArray(this.__eventListeners[i],n):this.__eventListeners[i].length=0)}function t(i,n){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var s in i)this.on(s,i[s]);else this.__eventListeners[i]||(this.__eventListeners[i]=[]),this.__eventListeners[i].push(n);return this}function r(i,n){if(this.__eventListeners){if(arguments.length===0)this.__eventListeners={};else if(arguments.length===1&&typeof arguments[0]=="object")for(var s in i)e.call(this,s,i[s]);else e.call(this,i,n);return this}}function o(i,n){if(this.__eventListeners){var s=this.__eventListeners[i];if(s){for(var a=0,l=s.length;a<l;a++)s[a].call(this,n||{});return this}}}fabric.Observable={observe:t,stopObserving:r,fire:o,on:t,off:r,trigger:o}})()});var Rle=we(Ule=>{"use strict";(function(e){var t=Math.sqrt,r=Math.atan2,o=Math.PI/180;fabric.util={removeFromArray:function(i,n){var s=i.indexOf(n);return s!==-1&&i.splice(s,1),i},getRandomInt:function(i,n){return Math.floor(Math.random()*(n-i+1))+i},degreesToRadians:function(i){return i*o},radiansToDegrees:function(i){return i/o},rotatePoint:function(i,n,s){var a=Math.sin(s),l=Math.cos(s);i.subtractEquals(n);var c=i.x*l-i.y*a,u=i.x*a+i.y*l;return new fabric.Point(c,u).addEquals(n)},transformPoint:function(i,n,s){return s?new fabric.Point(n[0]*i.x+n[1]*i.y,n[2]*i.x+n[3]*i.y):new fabric.Point(n[0]*i.x+n[1]*i.y+n[4],n[2]*i.x+n[3]*i.y+n[5])},invertTransform:function(i){var n=i.slice(),s=1/(i[0]*i[3]-i[1]*i[2]);n=[s*i[3],-s*i[1],-s*i[2],s*i[0],0,0];var a=fabric.util.transformPoint({x:i[4],y:i[5]},n);return n[4]=-a.x,n[5]=-a.y,n},toFixed:function(i,n){return parseFloat(Number(i).toFixed(n))},parseUnit:function(i){var n=/\D{0,2}$/.exec(i),s=parseFloat(i);switch(n[0]){case"mm":return s*fabric.DPI/25.4;case"cm":return s*fabric.DPI/2.54;case"in":return s*fabric.DPI;case"pt":return s*fabric.DPI/72;case"pc":return s*fabric.DPI/72*12;default:return s}},falseFunction:function(){return!1},getKlass:function(i,n){return i=fabric.util.string.camelize(i.charAt(0).toUpperCase()+i.slice(1)),fabric.util.resolveNamespace(n)[i]},resolveNamespace:function(i){if(!i)return fabric;for(var n=i.split("."),s=n.length,a=e||fabric.window,l=0;l<s;++l)a=a[n[l]];return a},enlivenObjects:function(i,n,s,a){i=i||[];function l(){++u===p&&n?.(c)}var c=[],u=0,p=i.length;if(!p){n&&n(c);return}i.forEach(function(m,h){if(!m||!m.type){l();return}var f=fabric.util.getKlass(m.type,s);f.async?f.fromObject(m,function(x,v){v||(c[h]=x,a&&a(m,c[h])),l()}):(c[h]=f.fromObject(m),a&&a(m,c[h]),l())})},groupSVGElements:function(i,n,s){var a;return a=new fabric.PathGroup(i,n),typeof s<"u"&&a.setSourcePath(s),a},populateWithProperties:function(i,n,s){if(s&&Object.prototype.toString.call(s)==="[object Array]")for(var a=0,l=s.length;a<l;a++)s[a]in i&&(n[s[a]]=i[s[a]])},drawDashedLine:function(i,n,s,a,l,c){var u=a-n,p=l-s,m=t(u*u+p*p),h=r(p,u),f=c.length,x=0,v=!0;for(i.save(),i.translate(n,s),i.moveTo(0,0),i.rotate(h),n=0;m>n;)n+=c[x++%f],n>m&&(n=m),i[v?"lineTo":"moveTo"](n,0),v=!v;i.restore()},createCanvasElement:function(i){return i||(i=fabric.document.createElement("canvas")),!i.getContext&&typeof G_vmlCanvasManager<"u"&&G_vmlCanvasManager.initElement(i),i},createImage:function(){return fabric.document.createElement("img")},createAccessors:function(i){for(var n=i.prototype,s=n.stateProperties.length;s--;){var a=n.stateProperties[s],l=a.charAt(0).toUpperCase()+a.slice(1),c="set"+l,u="get"+l;n[u]||(n[u]=function(p){return new Function('return this.get("'+p+'")')}(a)),n[c]||(n[c]=function(p){return new Function("value",'return this.set("'+p+'", value)')}(a))}},clipContext:function(i,n){n.save(),n.beginPath(),i.clipTo(n),n.clip()},multiplyTransformMatrices:function(i,n){for(var s=[[i[0],i[2],i[4]],[i[1],i[3],i[5]],[0,0,1]],a=[[n[0],n[2],n[4]],[n[1],n[3],n[5]],[0,0,1]],l=[],c=0;c<3;c++){l[c]=[];for(var u=0;u<3;u++){for(var p=0,m=0;m<3;m++)p+=s[c][m]*a[m][u];l[c][u]=p}}return[l[0][0],l[1][0],l[0][1],l[1][1],l[0][2],l[1][2]]},getFunctionBody:function(i){return(String(i).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(i,n,s,a){a>0&&(n>a?n-=a:n=0,s>a?s-=a:s=0);for(var l=!0,c=i.getImageData(n,s,a*2||1,a*2||1),u=3,p=c.data.length;u<p;u+=4){var m=c.data[u];if(l=m<=0,l===!1)break}return c=null,l}}})(Ule);(function(){var e={},t={},r=Array.prototype.join,o;function i(a,l,c,u,p,m,h,f,x){if(o=r.call(arguments),e[o])return e[o];var v=n(h,c,u,f,x,a,l),b=(v.x1-v.x0)*(v.x1-v.x0)+(v.y1-v.y0)*(v.y1-v.y0),S=1/b-.25;S<0&&(S=0);var w=Math.sqrt(S);m===p&&(w=-w);var _=.5*(v.x0+v.x1)-w*(v.y1-v.y0),E=.5*(v.y0+v.y1)+w*(v.x1-v.x0),T=Math.atan2(v.y0-E,v.x0-_),A=Math.atan2(v.y1-E,v.x1-_),O=A-T;O<0&&m===1?O+=2*Math.PI:O>0&&m===0&&(O-=2*Math.PI);for(var L=Math.ceil(Math.abs(O/(Math.PI*.5+.001))),R=[],z=0;z<L;z++){var I=T+z*O/L,F=T+(z+1)*O/L;R[z]=[_,E,I,F,c,u,v.sinTh,v.cosTh]}return e[o]=R,R}function n(a,l,c,u,p,m,h){var f=a*(Math.PI/180),x=Math.sin(f),v=Math.cos(f);l=Math.abs(l),c=Math.abs(c);var b=v*(u-m)+x*(p-h),S=v*(p-h)-x*(u-m),w=b*b/(l*l)+S*S/(c*c);w*=.25,w>1&&(w=Math.sqrt(w),l*=w,c*=w);var _=v/l,E=x/l,T=-x/c,A=v/c;return{x0:_*u+E*p,y0:T*u+A*p,x1:_*m+E*h,y1:T*m+A*h,sinTh:x,cosTh:v}}function s(a,l,c,u,p,m,h,f){if(o=r.call(arguments),t[o])return t[o];var x=Math.sin(c),v=Math.cos(c),b=Math.sin(u),S=Math.cos(u),w=f*p,_=-h*m,E=h*p,T=f*m,A=.25*(u-c),O=8/3*Math.sin(A)*Math.sin(A)/Math.sin(A*2),L=a+v-O*x,R=l+x+O*v,z=a+S,I=l+b,F=z+O*b,B=I-O*S;return t[o]=[w*L+_*R,E*L+T*R,w*F+_*B,E*F+T*B,w*z+_*I,E*z+T*I],t[o]}fabric.util.drawArc=function(a,l,c,u){for(var p=u[0],m=u[1],h=u[2],f=u[3],x=u[4],v=u[5],b=u[6],S=i(v,b,p,m,f,x,h,l,c),w=0;w<S.length;w++){var _=s.apply(this,S[w]);a.bezierCurveTo.apply(a,_)}}})();(function(){function e(r,o){for(var i in o)r[i]=o[i];return r}function t(r){return e({},r)}fabric.util.object={extend:e,clone:t}})();(function(){function e(o){return o.replace(/-+(.)?/g,function(i,n){return n?n.toUpperCase():""})}function t(o,i){return o.charAt(0).toUpperCase()+(i?o.slice(1):o.slice(1).toLowerCase())}function r(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}fabric.util.string={camelize:e,capitalize:t,escapeXml:r}})();(function(){var e=Array.prototype.slice,t=function(){},r=function(){for(var a in{toString:1})if(a==="toString")return!1;return!0}(),o=function(a,l,c){for(var u in l)u in a.prototype&&typeof a.prototype[u]=="function"&&(l[u]+"").indexOf("callSuper")>-1?a.prototype[u]=function(p){return function(){var m=this.constructor.superclass;this.constructor.superclass=c;var h=l[p].apply(this,arguments);if(this.constructor.superclass=m,p!=="initialize")return h}}(u):a.prototype[u]=l[u],r&&(l.toString!==Object.prototype.toString&&(a.prototype.toString=l.toString),l.valueOf!==Object.prototype.valueOf&&(a.prototype.valueOf=l.valueOf))};function i(){}function n(a){var l=this.constructor.superclass.prototype[a];return arguments.length>1?l.apply(this,e.call(arguments,1)):l.call(this)}function s(){var a=null,l=e.call(arguments,0);typeof l[0]=="function"&&(a=l.shift());function c(){this.initialize.apply(this,arguments)}c.superclass=a,c.subclasses=[],a&&(i.prototype=a.prototype,c.prototype=new i,a.subclasses.push(c));for(var u=0,p=l.length;u<p;u++)o(c,l[u],a);return c.prototype.initialize||(c.prototype.initialize=t),c.prototype.constructor=c,c.prototype.callSuper=n,c}fabric.util.createClass=s})()});var jle=we(()=>{"use strict";(function(){function e(s,a){var l=s.style;if(!l)return s;if(typeof a=="string")return s.style.cssText+=";"+a,a.indexOf("opacity")>-1?n(s,a.match(/opacity:\s*(\d?\.?\d*)/)[1]):s;for(var c in a)if(c==="opacity")n(s,a[c]);else{var u=c==="float"||c==="cssFloat"?typeof l.styleFloat>"u"?"cssFloat":"styleFloat":c;l[u]=a[c]}return s}var t=fabric.document.createElement("div"),r=typeof t.style.opacity=="string",o=typeof t.style.filter=="string",i=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,n=function(s){return s};r?n=function(s,a){return s.style.opacity=a,s}:o&&(n=function(s,a){var l=s.style;return s.currentStyle&&!s.currentStyle.hasLayout&&(l.zoom=1),i.test(l.filter)?(a=a>=.9999?"":"alpha(opacity="+a*100+")",l.filter=l.filter.replace(i,a)):l.filter+=" alpha(opacity="+a*100+")",s}),fabric.util.setStyle=e})();(function(){var e=Array.prototype.slice;function t(u){return typeof u=="string"?fabric.document.getElementById(u):u}var r,o=function(u){return e.call(u,0)};try{r=o(fabric.document.childNodes)instanceof Array}catch{}r||(o=function(u){for(var p=new Array(u.length),m=u.length;m--;)p[m]=u[m];return p});function i(u,p){var m=fabric.document.createElement(u);for(var h in p)h==="class"?m.className=p[h]:h==="for"?m.htmlFor=p[h]:m.setAttribute(h,p[h]);return m}function n(u,p){u&&(" "+u.className+" ").indexOf(" "+p+" ")===-1&&(u.className+=(u.className?" ":"")+p)}function s(u,p,m){return typeof p=="string"&&(p=i(p,m)),u.parentNode&&u.parentNode.replaceChild(p,u),p.appendChild(u),p}function a(u,p){var m,h,f=0,x=0,v=fabric.document.documentElement,b=fabric.document.body||{scrollLeft:0,scrollTop:0};for(h=u;u&&u.parentNode&&!m;)u=u.parentNode,u!==fabric.document&&fabric.util.getElementStyle(u,"position")==="fixed"&&(m=u),u!==fabric.document&&h!==p&&fabric.util.getElementStyle(u,"position")==="absolute"?(f=0,x=0):u===fabric.document?(f=b.scrollLeft||v.scrollLeft||0,x=b.scrollTop||v.scrollTop||0):(f+=u.scrollLeft||0,x+=u.scrollTop||0);return{left:f,top:x}}function l(u){var p,m=u&&u.ownerDocument,h={left:0,top:0},f={left:0,top:0},x,v={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!m)return{left:0,top:0};for(var b in v)f[v[b]]+=parseInt(c(u,b),10)||0;return p=m.documentElement,typeof u.getBoundingClientRect<"u"&&(h=u.getBoundingClientRect()),x=fabric.util.getScrollLeftTop(u,null),{left:h.left+x.left-(p.clientLeft||0)+f.left,top:h.top+x.top-(p.clientTop||0)+f.top}}var c;fabric.document.defaultView&&fabric.document.defaultView.getComputedStyle?c=function(u,p){return fabric.document.defaultView.getComputedStyle(u,null)[p]}:c=function(u,p){var m=u.style[p];return!m&&u.currentStyle&&(m=u.currentStyle[p]),m},function(){var u=fabric.document.documentElement.style,p="userSelect"in u?"userSelect":"MozUserSelect"in u?"MozUserSelect":"WebkitUserSelect"in u?"WebkitUserSelect":"KhtmlUserSelect"in u?"KhtmlUserSelect":"";function m(f){return typeof f.onselectstart<"u"&&(f.onselectstart=fabric.util.falseFunction),p?f.style[p]="none":typeof f.unselectable=="string"&&(f.unselectable="on"),f}function h(f){return typeof f.onselectstart<"u"&&(f.onselectstart=null),p?f.style[p]="":typeof f.unselectable=="string"&&(f.unselectable=""),f}fabric.util.makeElementUnselectable=m,fabric.util.makeElementSelectable=h}(),function(){function u(p,m){var h=fabric.document.getElementsByTagName("head")[0],f=fabric.document.createElement("script"),x=!0;f.onload=f.onreadystatechange=function(v){if(x){if(typeof this.readyState=="string"&&this.readyState!=="loaded"&&this.readyState!=="complete")return;x=!1,m(v||fabric.window.event),f=f.onload=f.onreadystatechange=null}},f.src=p,h.appendChild(f)}fabric.util.getScript=u}(),fabric.util.getById=t,fabric.util.toArray=o,fabric.util.makeElement=i,fabric.util.addClass=n,fabric.util.wrapElement=s,fabric.util.getScrollLeftTop=a,fabric.util.getElementOffset=l,fabric.util.getElementStyle=c})()});var Gle=we(()=>{"use strict";(function(){var e="unknown";function t(S){var w=Array.prototype.slice.call(arguments,1),_,E,T=w.length;for(E=0;E<T;E++)if(_=typeof S[w[E]],!/^(?:function|object|unknown)$/.test(_))return!1;return!0}var r,o,i=function(){var S=0;return function(w){return w.__uniqueID||(w.__uniqueID="uniqueID__"+S++)}}();(function(){var S={};r=function(w){return S[w]},o=function(w,_){S[w]=_}})();function n(S,w){return{handler:w,wrappedHandler:s(S,w)}}function s(S,w){return function(_){w.call(r(S),_||fabric.window.event)}}function a(S,w){return function(_){if(p[S]&&p[S][w])for(var E=p[S][w],T=0,A=E.length;T<A;T++)E[T].call(this,_||fabric.window.event)}}var l=t(fabric.document.documentElement,"addEventListener","removeEventListener")&&t(fabric.window,"addEventListener","removeEventListener"),c=t(fabric.document.documentElement,"attachEvent","detachEvent")&&t(fabric.window,"attachEvent","detachEvent"),u={},p={},m,h;l?(m=function(S,w,_){S.addEventListener(w,_,!1)},h=function(S,w,_){S.removeEventListener(w,_,!1)}):c?(m=function(S,w,_){var E=i(S);o(E,S),u[E]||(u[E]={}),u[E][w]||(u[E][w]=[]);var T=n(E,_);u[E][w].push(T),S.attachEvent("on"+w,T.wrappedHandler)},h=function(S,w,_){var E=i(S),T;if(u[E]&&u[E][w])for(var A=0,O=u[E][w].length;A<O;A++)T=u[E][w][A],T&&T.handler===_&&(S.detachEvent("on"+w,T.wrappedHandler),u[E][w][A]=null)}):(m=function(S,w,_){var E=i(S);if(p[E]||(p[E]={}),!p[E][w]){p[E][w]=[];var T=S["on"+w];T&&p[E][w].push(T),S["on"+w]=a(E,w)}p[E][w].push(_)},h=function(S,w,_){var E=i(S);if(p[E]&&p[E][w])for(var T=p[E][w],A=0,O=T.length;A<O;A++)T[A]===_&&T.splice(A,1)}),fabric.util.addListener=m,fabric.util.removeListener=h;function f(S,w){S||(S=fabric.window.event);var _=S.target||(typeof S.srcElement!==e?S.srcElement:null),E=fabric.util.getScrollLeftTop(_,w);return{x:x(S)+E.left,y:v(S)+E.top}}var x=function(S){return typeof S.clientX!==e?S.clientX:0},v=function(S){return typeof S.clientY!==e?S.clientY:0};function b(S,w,_){var E=S.type==="touchend"?"changedTouches":"touches";return S[E]&&S[E][0]&&S[E][0][w]-(S[E][0][w]-S[E][0][_])||S[_]}fabric.isTouchSupported&&(x=function(S){return b(S,"pageX","clientX")},v=function(S){return b(S,"pageY","clientY")}),fabric.util.getPointer=f,fabric.util.object.extend(fabric.util,fabric.Observable)})()});var zle=we(Hle=>{"use strict";(function(e){"use strict";if(fabric.Point){fabric.warn("fabric.Point is already defined");return}fabric.Point=t;function t(r,o){this.x=r,this.y=o}t.prototype={constructor:t,add:function(r){return new t(this.x+r.x,this.y+r.y)},addEquals:function(r){return this.x+=r.x,this.y+=r.y,this},scalarAdd:function(r){return new t(this.x+r,this.y+r)},scalarAddEquals:function(r){return this.x+=r,this.y+=r,this},subtract:function(r){return new t(this.x-r.x,this.y-r.y)},subtractEquals:function(r){return this.x-=r.x,this.y-=r.y,this},scalarSubtract:function(r){return new t(this.x-r,this.y-r)},scalarSubtractEquals:function(r){return this.x-=r,this.y-=r,this},multiply:function(r){return new t(this.x*r,this.y*r)},multiplyEquals:function(r){return this.x*=r,this.y*=r,this},divide:function(r){return new t(this.x/r,this.y/r)},divideEquals:function(r){return this.x/=r,this.y/=r,this},eq:function(r){return this.x===r.x&&this.y===r.y},lt:function(r){return this.x<r.x&&this.y<r.y},lte:function(r){return this.x<=r.x&&this.y<=r.y},gt:function(r){return this.x>r.x&&this.y>r.y},gte:function(r){return this.x>=r.x&&this.y>=r.y},lerp:function(r,o){return new t(this.x+(r.x-this.x)*o,this.y+(r.y-this.y)*o)},distanceFrom:function(r){var o=this.x-r.x,i=this.y-r.y;return Math.sqrt(o*o+i*i)},midPointFrom:function(r){return new t(this.x+(r.x-this.x)/2,this.y+(r.y-this.y)/2)},min:function(r){return new t(Math.min(this.x,r.x),Math.min(this.y,r.y))},max:function(r){return new t(Math.max(this.x,r.x),Math.max(this.y,r.y))},toString:function(){return this.x+","+this.y},setXY:function(r,o){this.x=r,this.y=o},setFromPoint:function(r){this.x=r.x,this.y=r.y},swap:function(r){var o=this.x,i=this.y;this.x=r.x,this.y=r.y,r.x=o,r.y=i}}})(Hle)});var Xle=we(()=>{"use strict";fabric.Collection={add:function(){this._objects.push.apply(this._objects,arguments);for(var e=0,t=arguments.length;e<t;e++)this._onObjectAdded(arguments[e]);return this.renderOnAddRemove&&this.renderAll(),this},insertAt:function(e,t,r){var o=this.getObjects();return r?o[t]=e:o.splice(t,0,e),this._onObjectAdded(e),this.renderOnAddRemove&&this.renderAll(),this},remove:function(){for(var e=this.getObjects(),t,r=0,o=arguments.length;r<o;r++)t=e.indexOf(arguments[r]),t!==-1&&(e.splice(t,1),this._onObjectRemoved(arguments[r]));return this.renderOnAddRemove&&this.renderAll(),this},forEachObject:function(e,t){for(var r=this.getObjects(),o=r.length;o--;)e.call(t,r[o],o,r);return this},getObjects:function(e){return typeof e>"u"?this._objects:this._objects.filter(function(t){return t.type===e})},item:function(e){return this.getObjects()[e]},isEmpty:function(){return this.getObjects().length===0},size:function(){return this.getObjects().length},contains:function(e){return this.getObjects().indexOf(e)>-1},complexity:function(){return this.getObjects().reduce(function(e,t){return e+=t.complexity?t.complexity():0,e},0)}}});var qle=we(Yle=>{"use strict";(function(e){"use strict";var t=fabric.util.object.extend,r=fabric.util.toFixed,o=fabric.util.string.capitalize,i=fabric.util.degreesToRadians;fabric.Object||(fabric.Object=fabric.util.createClass({type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,cornerSize:12,transparentCorners:!0,hoverCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",cornerColor:"rgba(102,153,255,0.5)",centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"source-over",backgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:10,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:.01,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill fillRule clipTo visible backgroundColor".split(" "),initialize:function(n){n&&this.setOptions(n)},_initClipping:function(n){if(!(!n.clipTo||typeof n.clipTo!="string")){var s=fabric.util.getFunctionBody(n.clipTo);typeof s<"u"&&(this.clipTo=new Function("ctx",s))}},setOptions:function(n){for(var s in n)this.set(s,n[s]);this._initClipping(n)},transform:function(n,s){this.group&&this.group.transform(n,s),n.globalAlpha=this.opacity;var a=s?this._getLeftTopCoords():this.getCenterPoint();n.translate(a.x,a.y),n.rotate(i(this.angle)),n.scale(this.scaleX*(this.flipX?-1:1),this.scaleY*(this.flipY?-1:1))},toObject:function(n){var s=fabric.Object.NUM_FRACTION_DIGITS,a={type:this.type,originX:this.originX,originY:this.originY,left:r(this.left,s),top:r(this.top,s),width:r(this.width,s),height:r(this.height,s),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:r(this.strokeWidth,s),strokeDashArray:this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:r(this.strokeMiterLimit,s),scaleX:r(this.scaleX,s),scaleY:r(this.scaleY,s),angle:r(this.getAngle(),s),flipX:this.flipX,flipY:this.flipY,opacity:r(this.opacity,s),visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor};return this.includeDefaultValues||(a=this._removeDefaultValues(a)),fabric.util.populateWithProperties(this,a,n),a},toDatalessObject:function(n){return this.toObject(n)},_removeDefaultValues:function(n){var s=fabric.util.getKlass(n.type).prototype,a=s.stateProperties;return a.forEach(function(l){n[l]===s[l]&&delete n[l]}),n},toString:function(){return"#<fabric."+o(this.type)+">"},get:function(n){return this[n]},_setObject:function(n){for(var s in n)this._set(s,n[s])},set:function(n,s){return typeof n=="object"?this._setObject(n):typeof s=="function"&&n!=="clipTo"?this._set(n,s(this.get(n))):this._set(n,s),this},_set:function(n,s){var a=n==="scaleX"||n==="scaleY";return a&&(s=this._constrainScale(s)),n==="scaleX"&&s<0?(this.flipX=!this.flipX,s*=-1):n==="scaleY"&&s<0?(this.flipY=!this.flipY,s*=-1):(n==="width"||n==="height")&&(this.minScaleLimit=r(Math.min(.1,1/Math.max(this.width,this.height)),2)),this[n]=s,this},toggle:function(n){var s=this.get(n);return typeof s=="boolean"&&this.set(n,!s),this},setSourcePath:function(n){return this.sourcePath=n,this},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:[1,0,0,1,0,0]},render:function(n,s){if(!(this.width===0&&this.height===0||!this.visible)){n.save(),this._setupFillRule(n),this._transform(n,s),this._setStrokeStyles(n),this._setFillStyles(n);var a=this.transformMatrix;a&&this.group&&(n.translate(-this.group.width/2,-this.group.height/2),n.transform(a[0],a[1],a[2],a[3],a[4],a[5])),this.clipTo&&fabric.util.clipContext(this,n),this._render(n,s),this.clipTo&&n.restore(),this._restoreFillRule(n),n.restore()}},_transform:function(n,s){var a=this.transformMatrix;a&&!this.group&&n.setTransform(a[0],a[1],a[2],a[3],a[4],a[5]),s||this.transform(n)},_setStrokeStyles:function(n){this.stroke&&(n.lineWidth=this.strokeWidth,n.lineCap=this.strokeLineCap,n.lineJoin=this.strokeLineJoin,n.miterLimit=this.strokeMiterLimit,n.strokeStyle=this.stroke.toLive?this.stroke.toLive(n):this.stroke)},_setFillStyles:function(n){this.fill&&(n.fillStyle=this.fill.toLive?this.fill.toLive(n):this.fill)},_renderControls:function(n,s){var a=this.getViewportTransform();if(n.save(),this.active&&!s){var l;this.group&&(l=fabric.util.transformPoint(this.group.getCenterPoint(),a),n.translate(l.x,l.y),n.rotate(i(this.group.angle))),l=fabric.util.transformPoint(this.getCenterPoint(),a,this.group!=null),this.group&&(l.x*=this.group.scaleX,l.y*=this.group.scaleY),n.translate(l.x,l.y),n.rotate(i(this.angle)),this.drawBorders(n),this.drawControls(n)}n.restore()},_renderFill:function(n){this.fill&&(this.fill.toLive&&(n.save(),n.translate(-this.width/2+this.fill.offsetX||0,-this.height/2+this.fill.offsetY||0)),this.fillRule==="destination-over"?n.fill("evenodd"):n.fill(),this.fill.toLive&&n.restore())},_renderStroke:function(n){if(!(!this.stroke||this.strokeWidth===0)){var s=0;if(this.easel&&this.easel.cut&&this.easel.cut.offset!=null&&(s=this.easel.cut.offset),n.save(),this.strokeDashArray)1&this.strokeDashArray.length&&this.strokeDashArray.push.apply(this.strokeDashArray,this.strokeDashArray),fabric.StaticCanvas.supports("setLineDash")?(n.setLineDash(this.strokeDashArray),this._stroke&&this._stroke(n)):this._renderDashedStroke&&this._renderDashedStroke(n),n.stroke();else if(this._stroke)this._stroke(n);else{if(n.save(),s==-1)n.lineWidth=n.lineWidth*2,n.clip();else if(s==1){n.lineWidth=n.lineWidth*2;let a=n.getTransform().inverse(),l=a.transformPoint({x:0,y:0}),c=a.transformPoint({x:n.canvas.width,y:n.canvas.height}),u={x:(l.x+c.x)/2,y:(l.y+c.y)/2},p=Math.hypot(c.x-l.x,c.y-l.y)/2+n.lineWidth;n.moveTo(u.x+p,u.y),n.arc(u.x,u.y,p,0,2*Math.PI),n.clip("evenodd")}if(n.stroke(),n.restore(),this.active){n.save();let a=1/Math.min(Math.abs(this.scaleX),Math.abs(this.scaleY));n.lineWidth=a,n.strokeStyle="#3f7ac3",n.stroke(),n.restore()}}n.restore()}},clone:function(n,s){return this.constructor.fromObject?this.constructor.fromObject(this.toObject(s),n):new fabric.Object(this.toObject(s))},toDataURL:function(n){n||(n={});var s=fabric.util.createCanvasElement(),a=this.getBoundingRect();s.width=a.width,s.height=a.height,fabric.util.wrapElement(s,"div");var l=new fabric.Canvas(s);n.format==="jpg"&&(n.format="jpeg"),n.format==="jpeg"&&(l.backgroundColor="#fff");var c={active:this.get("active"),left:this.getLeft(),top:this.getTop()};this.set("active",!1),this.setPositionByOrigin(new fabric.Point(s.width/2,s.height/2),"center","center");var u=this.canvas;l.add(this);var p=l.toDataURL(n);return this.set(c).setCoords(),this.canvas=u,l.dispose(),l=null,p},isType:function(n){return this.type===n},complexity:function(){return 0},toJSON:function(n){return this.toObject(n)},setColor:function(n){return this.set("fill",n),this},setAngle:function(n){var s=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return s&&this._setOriginToCenter(),this.set("angle",n),s&&this._resetOrigin(),this},centerH:function(){return this.canvas.centerObjectH(this),this},centerV:function(){return this.canvas.centerObjectV(this),this},center:function(){return this.canvas.centerObject(this),this},remove:function(){return this.canvas.remove(this),this},getLocalPointer:function(n,s){s=s||this.canvas.getPointer(n);var a=this.translateToOriginPoint(this.getCenterPoint(),"left","top");return{x:s.x-a.x,y:s.y-a.y}},_setupFillRule:function(n){this.fillRule&&(this._prevFillRule=n.globalCompositeOperation,n.globalCompositeOperation=this.fillRule)},_restoreFillRule:function(n){this.fillRule&&this._prevFillRule&&(n.globalCompositeOperation=this._prevFillRule)}}),fabric.util.createAccessors(fabric.Object),fabric.Object.prototype.rotate=fabric.Object.prototype.setAngle,t(fabric.Object.prototype,fabric.Observable),fabric.Object.NUM_FRACTION_DIGITS=20,fabric.Object.__uid=0)})(Yle);(function(){var e=fabric.util.degreesToRadians;fabric.util.object.extend(fabric.Object.prototype,{translateToCenterPoint:function(t,r,o){var i=t.x,n=t.y,s=this.stroke?this.strokeWidth:0;return r==="left"?i=t.x+(this.getWidth()+s*this.scaleX)/2:r==="right"&&(i=t.x-(this.getWidth()+s*this.scaleX)/2),o==="top"?n=t.y+(this.getHeight()+s*this.scaleY)/2:o==="bottom"&&(n=t.y-(this.getHeight()+s*this.scaleY)/2),fabric.util.rotatePoint(new fabric.Point(i,n),t,e(this.angle))},translateToOriginPoint:function(t,r,o){var i=t.x,n=t.y,s=this.stroke?this.strokeWidth:0;return r==="left"?i=t.x-(this.getWidth()+s*this.scaleX)/2:r==="right"&&(i=t.x+(this.getWidth()+s*this.scaleX)/2),o==="top"?n=t.y-(this.getHeight()+s*this.scaleY)/2:o==="bottom"&&(n=t.y+(this.getHeight()+s*this.scaleY)/2),fabric.util.rotatePoint(new fabric.Point(i,n),t,e(this.angle))},translateToOriginPointIgnoringStroke:function(t,r,o){var i=t.x,n=t.y;return r==="left"?i=t.x-this.getWidth()/2:r==="right"&&(i=t.x+this.getWidth()/2),o==="top"?n=t.y-this.getHeight()/2:o==="bottom"&&(n=t.y+this.getHeight()/2),fabric.util.rotatePoint(new fabric.Point(i,n),t,e(this.angle))},getCenterPoint:function(){var t=new fabric.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,r){var o=this.getCenterPoint();return this.translateToOriginPoint(o,t,r)},toLocalPoint:function(t,r,o){var i=this.getCenterPoint(),n=this.stroke?this.strokeWidth:0,s,a;return r&&o?(r==="left"?s=i.x-(this.getWidth()+n*this.scaleX)/2:r==="right"?s=i.x+(this.getWidth()+n*this.scaleX)/2:s=i.x,o==="top"?a=i.y-(this.getHeight()+n*this.scaleY)/2:o==="bottom"?a=i.y+(this.getHeight()+n*this.scaleY)/2:a=i.y):(s=this.left,a=this.top),fabric.util.rotatePoint(new fabric.Point(t.x,t.y),i,-e(this.angle)).subtractEquals(new fabric.Point(s,a))},setPositionByOrigin:function(t,r,o){var i=this.translateToCenterPoint(t,r,o),n=this.translateToOriginPoint(i,this.originX,this.originY);this.set("left",n.x),this.set("top",n.y)},adjustPosition:function(t){var r=e(this.angle),o=this.getWidth()/2,i=Math.cos(r)*o,n=Math.sin(r)*o,s=this.getWidth(),a=Math.cos(r)*s,l=Math.sin(r)*s;this.originX==="center"&&t==="left"||this.originX==="right"&&t==="center"?(this.left-=i,this.top-=n):this.originX==="left"&&t==="center"||this.originX==="center"&&t==="right"?(this.left+=i,this.top+=n):this.originX==="left"&&t==="right"?(this.left+=a,this.top+=l):this.originX==="right"&&t==="left"&&(this.left-=a,this.top-=l),this.setCoords(),this.originX=t},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","center")}})})();(function(){var e=fabric.util.degreesToRadians;fabric.util.object.extend(fabric.Object.prototype,{oCoords:null,intersectsWithRect:function(t,r){var o=this.oCoords,i=new fabric.Point(o.tl.x,o.tl.y),n=new fabric.Point(o.tr.x,o.tr.y),s=new fabric.Point(o.bl.x,o.bl.y),a=new fabric.Point(o.br.x,o.br.y),l=fabric.Intersection.intersectPolygonRectangle([i,n,a,s],t,r);return l.status==="Intersection"},intersectsWithObject:function(t){function r(s){return{tl:new fabric.Point(s.tl.x,s.tl.y),tr:new fabric.Point(s.tr.x,s.tr.y),bl:new fabric.Point(s.bl.x,s.bl.y),br:new fabric.Point(s.br.x,s.br.y)}}var o=r(this.oCoords),i=r(t.oCoords),n=fabric.Intersection.intersectPolygonPolygon([o.tl,o.tr,o.br,o.bl],[i.tl,i.tr,i.br,i.bl]);return n.status==="Intersection"},isContainedWithinObject:function(t){var r=t.getBoundingRect(),o=new fabric.Point(r.left,r.top),i=new fabric.Point(r.left+r.width,r.top+r.height);return this.isContainedWithinRect(o,i)},isContainedWithinRect:function(t,r){var o=this.getBoundingRect();return o.left>=t.x&&o.left+o.width<=r.x&&o.top>=t.y&&o.top+o.height<=r.y},containsPoint:function(t){var r=this._getImageLines(this.oCoords),o=this._findCrossPoints(t,r);return o!==0&&o%2===1},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,r){var o,i,n,s,a,l,c=0,u;for(var p in r)if(u=r[p],!(u.o.y<t.y&&u.d.y<t.y)&&!(u.o.y>=t.y&&u.d.y>=t.y)&&(u.o.x===u.d.x&&u.o.x>=t.x?(a=u.o.x,l=t.y):(o=0,i=(u.d.y-u.o.y)/(u.d.x-u.o.x),n=t.y-o*t.x,s=u.o.y-i*u.o.x,a=-(n-s)/(o-i),l=n+o*a),a>=t.x&&(c+=1),c===2))break;return c},getBoundingRectWidth:function(){return this.getBoundingRect().width},getBoundingRectHeight:function(){return this.getBoundingRect().height},getBoundingRect:function(){this.oCoords||this.setCoords();var t=[this.oCoords.tl.x,this.oCoords.tr.x,this.oCoords.br.x,this.oCoords.bl.x],r=fabric.util.array.min(t),o=fabric.util.array.max(t),i=Math.abs(r-o),n=[this.oCoords.tl.y,this.oCoords.tr.y,this.oCoords.br.y,this.oCoords.bl.y],s=fabric.util.array.min(n),a=fabric.util.array.max(n),l=Math.abs(s-a);return{left:r,top:s,width:i,height:l}},getWidth:function(){return this.width*this.scaleX},getHeight:function(){return this.height*this.scaleY},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:t},scale:function(t){return t=this._constrainScale(t),t<0&&(this.flipX=!this.flipX,this.flipY=!this.flipY,t*=-1),this.scaleX=t,this.scaleY=t,this.setCoords(),this},scaleToWidth:function(t){var r=this.getBoundingRectWidth()/this.getWidth();return this.scale(t/this.width/r)},scaleToHeight:function(t){var r=this.getBoundingRectHeight()/this.getHeight();return this.scale(t/this.height/r)},setCoords:function(){var t=this.strokeWidth,r=e(this.angle),o=this.getViewportTransform(),i=function(B){return fabric.util.transformPoint(B,o)},n=this.width,s=this.height;n+=t,s+=t,this.currentWidth=n*this.scaleX,this.currentHeight=s*this.scaleY,this.currentWidth<0&&(this.currentWidth=Math.abs(this.currentWidth));var a=Math.sqrt(Math.pow(this.currentWidth/2,2)+Math.pow(this.currentHeight/2,2)),l=Math.atan2(this.currentHeight,this.currentWidth),c=Math.cos(l+r)*a,u=Math.sin(l+r)*a,p=Math.sin(r),m=Math.cos(r),h=this.getCenterPoint(),f=new fabric.Point(this.currentWidth,this.currentHeight),x=new fabric.Point(h.x-c,h.y-u),v=new fabric.Point(x.x+f.x*m,x.y+f.x*p),b=new fabric.Point(x.x-f.y*p,x.y+f.y*m),S=new fabric.Point(x.x+f.x/2*m,x.y+f.x/2*p),w=i(x),_=i(v),E=i(new fabric.Point(v.x-f.y*p,v.y+f.y*m)),T=i(b),A=i(new fabric.Point(x.x-f.y/2*p,x.y+f.y/2*m)),O=i(S),L=i(new fabric.Point(v.x-f.y/2*p,v.y+f.y/2*m)),R=i(new fabric.Point(b.x+f.x/2*m,b.y+f.x/2*p)),z=i(new fabric.Point(S.x,S.y)),I=Math.cos(l+r)*this.padding*Math.sqrt(2),F=Math.sin(l+r)*this.padding*Math.sqrt(2);return w=w.add(new fabric.Point(-I,-F)),_=_.add(new fabric.Point(F,-I)),E=E.add(new fabric.Point(I,F)),T=T.add(new fabric.Point(-F,I)),A=A.add(new fabric.Point((-I-F)/2,(-F+I)/2)),O=O.add(new fabric.Point((F-I)/2,-(F+I)/2)),L=L.add(new fabric.Point((F+I)/2,(F-I)/2)),R=R.add(new fabric.Point((I-F)/2,(I+F)/2)),z=z.add(new fabric.Point((F-I)/2,-(F+I)/2)),this.oCoords={tl:w,tr:_,br:E,bl:T,ml:A,mt:O,mr:L,mb:R,mtr:z},this._setCornerCoords&&this._setCornerCoords(),this}})})();fabric.util.object.extend(fabric.Object.prototype,{sendToBack:function(){return this.group?fabric.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?fabric.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(e){return this.group?fabric.StaticCanvas.prototype.sendBackwards.call(this.group,this,e):this.canvas.sendBackwards(this,e),this},bringForward:function(e){return this.group?fabric.StaticCanvas.prototype.bringForward.call(this.group,this,e):this.canvas.bringForward(this,e),this},moveTo:function(e){return this.group?fabric.StaticCanvas.prototype.moveTo.call(this.group,this,e):this.canvas.moveTo(this,e),this}});fabric.util.object.extend(fabric.Object.prototype,{getSvgStyles:function(){var e=this.fill?this.fill.toLive?"url(#SVGID_"+this.fill.id+")":this.fill:"none",t=this.stroke?this.stroke.toLive?"url(#SVGID_"+this.stroke.id+")":this.stroke:"none",r=this.strokeWidth?this.strokeWidth:"0",o=this.strokeDashArray?this.strokeDashArray.join(" "):"",i=this.strokeLineCap?this.strokeLineCap:"butt",n=this.strokeLineJoin?this.strokeLineJoin:"miter",s=this.strokeMiterLimit?this.strokeMiterLimit:"4",a=typeof this.opacity<"u"?this.opacity:"1",l=this.visible?"":" visibility: hidden;";return["stroke: ",t,"; ","stroke-width: ",r,"; ","stroke-dasharray: ",o,"; ","stroke-linecap: ",i,"; ","stroke-linejoin: ",n,"; ","stroke-miterlimit: ",s,"; ","fill: ",e,"; ","opacity: ",a,";",l].join("")},getSvgTransform:function(){var e=fabric.util.toFixed,t=this.getAngle(),r=this.getViewportTransform(),o=fabric.util.transformPoint(this.getCenterPoint(),r),i=fabric.Object.NUM_FRACTION_DIGITS,n="translate("+e(o.x,i)+" "+e(o.y,i)+")",s=t!==0?" rotate("+e(t,i)+")":"",a=this.scaleX===1&&this.scaleY===1&&r[0]===1&&r[3]===1?"":" scale("+e(this.scaleX*r[0],i)+" "+e(this.scaleY*r[3],i)+")",l=this.flipX?"matrix(-1 0 0 1 0 0) ":"",c=this.flipY?"matrix(1 0 0 -1 0 0)":"";return[n,s,a,l,c].join("")},_createBaseSVGMarkup:function(){var e=[];return this.fill&&this.fill.toLive&&e.push(this.fill.toSVG(this,!1)),this.stroke&&this.stroke.toLive&&e.push(this.stroke.toSVG(this,!1)),e}});fabric.util.object.extend(fabric.Object.prototype,{hasStateChanged:function(){return this.stateProperties.some(function(e){return this.get(e)!==this.originalState[e]},this)},saveState:function(e){return this.stateProperties.forEach(function(t){this.originalState[t]=this.get(t)},this),e&&e.stateProperties&&e.stateProperties.forEach(function(t){this.originalState[t]=this.get(t)},this),this},setupState:function(){return this.originalState={},this.saveState(),this}});(function(){var e=fabric.util.degreesToRadians,t=function(){return typeof G_vmlCanvasManager<"u"};fabric.util.object.extend(fabric.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(r){if(!this.hasControls||!this.active)return!1;var o=r.x,i=r.y,n,s;for(var a in this.oCoords)if(this.isControlVisible(a)&&!(a==="mtr"&&!this.hasRotatingPoint)&&!(this.get("lockUniScaling")&&(a==="mt"||a==="mr"||a==="mb"||a==="ml"))&&(s=this._getImageLines(this.oCoords[a].corner),n=this._findCrossPoints({x:o,y:i},s),n!==0&&n%2===1))return this.__corner=a,a;return!1},_setCornerCoords:function(){var r=this.oCoords,o=e(this.angle),i=e(45-this.angle),n=Math.sqrt(2*Math.pow(this.cornerSize,2))/2,s=n*Math.cos(i),a=n*Math.sin(i),l=Math.sin(o),c=Math.cos(o);r.tl.corner={tl:{x:r.tl.x-a,y:r.tl.y-s},tr:{x:r.tl.x+s,y:r.tl.y-a},bl:{x:r.tl.x-s,y:r.tl.y+a},br:{x:r.tl.x+a,y:r.tl.y+s}},r.tr.corner={tl:{x:r.tr.x-a,y:r.tr.y-s},tr:{x:r.tr.x+s,y:r.tr.y-a},br:{x:r.tr.x+a,y:r.tr.y+s},bl:{x:r.tr.x-s,y:r.tr.y+a}},r.bl.corner={tl:{x:r.bl.x-a,y:r.bl.y-s},bl:{x:r.bl.x-s,y:r.bl.y+a},br:{x:r.bl.x+a,y:r.bl.y+s},tr:{x:r.bl.x+s,y:r.bl.y-a}},r.br.corner={tr:{x:r.br.x+s,y:r.br.y-a},bl:{x:r.br.x-s,y:r.br.y+a},br:{x:r.br.x+a,y:r.br.y+s},tl:{x:r.br.x-a,y:r.br.y-s}},r.ml.corner={tl:r.tl.corner.bl,tr:r.tl.corner.br,bl:r.bl.corner.tl,br:r.bl.corner.tr},r.mt.corner={tl:r.tl.corner.tr,tr:r.tr.corner.tl,bl:r.tl.corner.br,br:r.tr.corner.bl},r.mr.corner={tl:r.tr.corner.bl,tr:r.tr.corner.br,bl:r.br.corner.tl,br:r.br.corner.tr},r.mb.corner={tl:r.bl.corner.tr,tr:r.br.corner.tl,bl:r.bl.corner.br,br:r.br.corner.bl},r.mtr.corner={tl:{x:r.mtr.x-a+l*this.rotatingPointOffset,y:r.mtr.y-s-c*this.rotatingPointOffset},tr:{x:r.mtr.x+s+l*this.rotatingPointOffset,y:r.mtr.y-a-c*this.rotatingPointOffset},bl:{x:r.mtr.x-s+l*this.rotatingPointOffset,y:r.mtr.y+a-c*this.rotatingPointOffset},br:{x:r.mtr.x+a+l*this.rotatingPointOffset,y:r.mtr.y+s-c*this.rotatingPointOffset}}},drawBorders:function(r){if(!this.hasBorders)return this;var o=this.padding,i=o*2,n=this.getViewportTransform();r.save(),r.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,r.strokeStyle=this.borderColor;var s=1/this._constrainScale(this.scaleX),a=1/this._constrainScale(this.scaleY);r.lineWidth=1/this.borderScaleFactor;var l=this.getWidth(),c=this.getHeight(),u=this.strokeWidth;l+=u/s,c+=u/a;var p=fabric.util.transformPoint(new fabric.Point(l,c),n,!0),m=p.x,h=p.y;if(this.group&&(m=m*this.group.scaleX,h=h*this.group.scaleY),r.strokeRect(~~(-(m/2)-o)-.5,~~(-(h/2)-o)-.5,~~(m+i)+1,~~(h+i)+1),this.hasRotatingPoint&&this.isControlVisible("mtr")&&!this.get("lockRotation")&&this.hasControls){var f=(-h-o*2)/2;r.beginPath(),r.moveTo(0,f),r.lineTo(0,f-this.rotatingPointOffset),r.closePath(),r.stroke()}return r.restore(),this},drawControls:function(r){if(!this.hasControls)return this;var o=this.cornerSize,i=o/2,n=this.getViewportTransform(),s=this.strokeWidth,a=this.width,l=this.height;a+=s,l+=s,a*=this.scaleX,l*=this.scaleY;var c=fabric.util.transformPoint(new fabric.Point(a,l),n,!0),u=c.x,p=c.y,m=-(u/2),h=-(p/2),f=this.padding,x=i,v=i-o,b=this.transparentCorners?"strokeRect":"fillRect";r.save(),r.lineWidth=1,r.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,r.strokeStyle=r.fillStyle=this.cornerColor,this._drawControl("tl",r,b,m-x-f,h-x-f),this._drawControl("tr",r,b,m+u-x+f,h-x-f),this._drawControl("bl",r,b,m-x-f,h+p+v+f),this._drawControl("br",r,b,m+u+v+f,h+p+v+f);let S=r.fillStyle;return r.fillStyle="rgba(255, 255, 255, 0.01)",r.fillRect(m+x+f,h-x-f,m+u-x+f-(m+x+f),this.cornerSize),r.fillRect(m+x+f,h+p+v+f,m+u-x+f-(m+x+f),this.cornerSize),r.fillRect(m+u-x+f,h-x-f+this.cornerSize,this.cornerSize,h+p+v+f-(h-x-f+this.cornerSize)),r.fillRect(m-x-f,h-x-f+this.cornerSize,this.cornerSize,h+p+v+f-(h-x-f+this.cornerSize)),r.fillStyle=S,this.hasRotatingPoint&&this._drawControl("mtr",r,b,m+u/2-x,h-this.rotatingPointOffset-this.cornerSize/2-f),r.restore(),this},_drawControl:function(r,o,i,n,s){var a=this.cornerSize;this.isControlVisible(r)&&(t()||this.transparentCorners||o.clearRect(n,s,a,a),o[i](n,s,a,a))},isControlVisible:function(r){return this._getControlsVisibility()[r]},setControlVisible:function(r,o){return this._getControlsVisibility()[r]=o,this},setControlsVisibility:function(r){r||(r={});for(var o in r)this.setControlVisible(o,r[o]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility}})})();fabric.util.object.extend(fabric.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var e=[],t,r;for(t in arguments[0])e.push(t);for(var o=0,i=e.length;o<i;o++)t=e[o],r=o!==i-1,this._animate(t,arguments[0][t],arguments[1],r)}else this._animate.apply(this,arguments);return this},_animate:function(e,t,r,o){var i=this,n;t=t.toString(),r?r=fabric.util.object.clone(r):r={},~e.indexOf(".")&&(n=e.split("."));var s=n?this.get(n[0])[n[1]]:this.get(e);"from"in r||(r.from=s),~t.indexOf("=")?t=s+parseFloat(t.replace("=","")):t=parseFloat(t),fabric.util.animate({startValue:r.from,endValue:t,byValue:r.by,easing:r.easing,duration:r.duration,abort:r.abort&&function(){return r.abort.call(i)},onChange:function(a){n?i[n[0]][n[1]]=a:i.set(e,a),!o&&r.onChange&&r.onChange()},onComplete:function(){o||(i.setCoords(),r.onComplete&&r.onComplete())}})}})});var $le=we(()=>{"use strict";(function(){function e(o){r(function(i){o||(o={});var n=i||+new Date,s=o.duration||500,a=n+s,l,c=o.onChange||function(){},u=o.abort||function(){return!1},p=o.easing||function(x,v,b,S){return-b*Math.cos(x/S*(Math.PI/2))+b+v},m="startValue"in o?o.startValue:0,h="endValue"in o?o.endValue:100,f=o.byValue||h-m;o.onStart?.(),function x(v){l=v||+new Date;var b=l>a?s:l-n;if(u()){o.onComplete?.();return}if(c(p(b,m,f,s)),l>a){o.onComplete?.();return}r(x)}(n)})}var t=fabric.window.requestAnimationFrame||fabric.window.webkitRequestAnimationFrame||fabric.window.mozRequestAnimationFrame||fabric.window.oRequestAnimationFrame||fabric.window.msRequestAnimationFrame||function(o){fabric.window.setTimeout(o,1e3/60)};function r(){return t.apply(fabric.window,arguments)}fabric.util.animate=e,fabric.util.requestAnimFrame=r})();(function(){function e(I,F,B,j){return I<Math.abs(F)?(I=F,j=B/4):j=B/(2*Math.PI)*Math.asin(F/I),{a:I,c:F,p:B,s:j}}function t(I,F,B){return I.a*Math.pow(2,10*(F-=1))*Math.sin((F*B-I.s)*(2*Math.PI)/I.p)}function r(I,F,B,j){return B*((I=I/j-1)*I*I+1)+F}function o(I,F,B,j){return I/=j/2,I<1?B/2*I*I*I+F:B/2*((I-=2)*I*I+2)+F}function i(I,F,B,j){return B*(I/=j)*I*I*I+F}function n(I,F,B,j){return-B*((I=I/j-1)*I*I*I-1)+F}function s(I,F,B,j){return I/=j/2,I<1?B/2*I*I*I*I+F:-B/2*((I-=2)*I*I*I-2)+F}function a(I,F,B,j){return B*(I/=j)*I*I*I*I+F}function l(I,F,B,j){return B*((I=I/j-1)*I*I*I*I+1)+F}function c(I,F,B,j){return I/=j/2,I<1?B/2*I*I*I*I*I+F:B/2*((I-=2)*I*I*I*I+2)+F}function u(I,F,B,j){return-B*Math.cos(I/j*(Math.PI/2))+B+F}function p(I,F,B,j){return B*Math.sin(I/j*(Math.PI/2))+F}function m(I,F,B,j){return-B/2*(Math.cos(Math.PI*I/j)-1)+F}function h(I,F,B,j){return I===0?F:B*Math.pow(2,10*(I/j-1))+F}function f(I,F,B,j){return I===j?F+B:B*(-Math.pow(2,-10*I/j)+1)+F}function x(I,F,B,j){return I===0?F:I===j?F+B:(I/=j/2,I<1?B/2*Math.pow(2,10*(I-1))+F:B/2*(-Math.pow(2,-10*--I)+2)+F)}function v(I,F,B,j){return-B*(Math.sqrt(1-(I/=j)*I)-1)+F}function b(I,F,B,j){return B*Math.sqrt(1-(I=I/j-1)*I)+F}function S(I,F,B,j){return I/=j/2,I<1?-B/2*(Math.sqrt(1-I*I)-1)+F:B/2*(Math.sqrt(1-(I-=2)*I)+1)+F}function w(I,F,B,j){var X=1.70158,te=0,se=B;if(I===0)return F;if(I/=j,I===1)return F+B;te||(te=j*.3);var ue=e(se,B,te,X);return-t(ue,I,j)+F}function _(I,F,B,j){var X=1.70158,te=0,se=B;if(I===0)return F;if(I/=j,I===1)return F+B;te||(te=j*.3);var ue=e(se,B,te,X);return ue.a*Math.pow(2,-10*I)*Math.sin((I*j-ue.s)*(2*Math.PI)/ue.p)+ue.c+F}function E(I,F,B,j){var X=1.70158,te=0,se=B;if(I===0)return F;if(I/=j/2,I===2)return F+B;te||(te=j*(.3*1.5));var ue=e(se,B,te,X);return I<1?-.5*t(ue,I,j)+F:ue.a*Math.pow(2,-10*(I-=1))*Math.sin((I*j-ue.s)*(2*Math.PI)/ue.p)*.5+ue.c+F}function T(I,F,B,j,X){return X===void 0&&(X=1.70158),B*(I/=j)*I*((X+1)*I-X)+F}function A(I,F,B,j,X){return X===void 0&&(X=1.70158),B*((I=I/j-1)*I*((X+1)*I+X)+1)+F}function O(I,F,B,j,X){return X===void 0&&(X=1.70158),I/=j/2,I<1?B/2*(I*I*(((X*=1.525)+1)*I-X))+F:B/2*((I-=2)*I*(((X*=1.525)+1)*I+X)+2)+F}function L(I,F,B,j){return B-R(j-I,0,B,j)+F}function R(I,F,B,j){return(I/=j)<1/2.75?B*(7.5625*I*I)+F:I<2/2.75?B*(7.5625*(I-=1.5/2.75)*I+.75)+F:I<2.5/2.75?B*(7.5625*(I-=2.25/2.75)*I+.9375)+F:B*(7.5625*(I-=2.625/2.75)*I+.984375)+F}function z(I,F,B,j){return I<j/2?L(I*2,0,B,j)*.5+F:R(I*2-j,0,B,j)*.5+B*.5+F}fabric.util.ease={easeInQuad:function(I,F,B,j){return B*(I/=j)*I+F},easeOutQuad:function(I,F,B,j){return-B*(I/=j)*(I-2)+F},easeInOutQuad:function(I,F,B,j){return I/=j/2,I<1?B/2*I*I+F:-B/2*(--I*(I-2)-1)+F},easeInCubic:function(I,F,B,j){return B*(I/=j)*I*I+F},easeOutCubic:r,easeInOutCubic:o,easeInQuart:i,easeOutQuart:n,easeInOutQuart:s,easeInQuint:a,easeOutQuint:l,easeInOutQuint:c,easeInSine:u,easeOutSine:p,easeInOutSine:m,easeInExpo:h,easeOutExpo:f,easeInOutExpo:x,easeInCirc:v,easeOutCirc:b,easeInOutCirc:S,easeInElastic:w,easeOutElastic:_,easeInOutElastic:E,easeInBack:T,easeOutBack:A,easeInOutBack:O,easeInBounce:L,easeOutBounce:R,easeInOutBounce:z}})()});var Zle=we(()=>{"use strict";(function(){var e=Array.prototype.slice;function t(n,s){for(var a=e.call(arguments,2),l=[],c=0,u=n.length;c<u;c++)l[c]=a.length?n[c][s].apply(n[c],a):n[c][s].call(n[c]);return l}function r(n,s){return i(n,s,function(a,l){return a>=l})}function o(n,s){return i(n,s,function(a,l){return a<l})}function i(n,s,a){if(!(!n||n.length===0)){var l=n.length-1,c=s?n[l][s]:n[l];if(s)for(;l--;)a(n[l][s],c)&&(c=n[l][s]);else for(;l--;)a(n[l],c)&&(c=n[l]);return c}}fabric.util.array={invoke:t,min:o,max:r}})()});var Kle=we(Jle=>{"use strict";(function(e){"use strict";if(fabric.Color){fabric.warn("fabric.Color is already defined.");return}function t(o){o?this._tryParsingColor(o):this.setSource([0,0,0,1])}fabric.Color=t,fabric.Color.prototype={_tryParsingColor:function(o){var i;if(o in t.colorNameMap&&(o=t.colorNameMap[o]),o==="transparent"){this.setSource([255,255,255,0]);return}i=t.sourceFromHex(o),i||(i=t.sourceFromRgb(o)),i||(i=t.sourceFromHsl(o)),i&&this.setSource(i)},_rgbToHsl:function(o,i,n){o/=255,i/=255,n/=255;var s,a,l,c=fabric.util.array.max([o,i,n]),u=fabric.util.array.min([o,i,n]);if(l=(c+u)/2,c===u)s=a=0;else{var p=c-u;switch(a=l>.5?p/(2-c-u):p/(c+u),c){case o:s=(i-n)/p+(i<n?6:0);break;case i:s=(n-o)/p+2;break;case n:s=(o-i)/p+4;break}s/=6}return[Math.round(s*360),Math.round(a*100),Math.round(l*100)]},getSource:function(){return this._source},setSource:function(o){this._source=o},toRgb:function(){var o=this.getSource();return"rgb("+o[0]+","+o[1]+","+o[2]+")"},toRgba:function(){var o=this.getSource();return"rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")"},toHsl:function(){var o=this.getSource(),i=this._rgbToHsl(o[0],o[1],o[2]);return"hsl("+i[0]+","+i[1]+"%,"+i[2]+"%)"},toHsla:function(){var o=this.getSource(),i=this._rgbToHsl(o[0],o[1],o[2]);return"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+o[3]+")"},toHex:function(){var o=this.getSource(),i,n,s;return i=o[0].toString(16),i=i.length===1?"0"+i:i,n=o[1].toString(16),n=n.length===1?"0"+n:n,s=o[2].toString(16),s=s.length===1?"0"+s:s,i.toUpperCase()+n.toUpperCase()+s.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(o){var i=this.getSource();return i[3]=o,this.setSource(i),this},toGrayscale:function(){var o=this.getSource(),i=parseInt((o[0]*.3+o[1]*.59+o[2]*.11).toFixed(0),10),n=o[3];return this.setSource([i,i,i,n]),this},toBlackWhite:function(o){var i=this.getSource(),n=(i[0]*.3+i[1]*.59+i[2]*.11).toFixed(0),s=i[3];return o=o||127,n=Number(n)<Number(o)?0:255,this.setSource([n,n,n,s]),this},overlayWith:function(o){o instanceof t||(o=new t(o));for(var i=[],n=this.getAlpha(),s=.5,a=this.getSource(),l=o.getSource(),c=0;c<3;c++)i.push(Math.round(a[c]*(1-s)+l[c]*s));return i[3]=n,this.setSource(i),this}},fabric.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,fabric.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,fabric.Color.reHex=/^#?([0-9a-f]{6}|[0-9a-f]{3})$/i,fabric.Color.colorNameMap={aqua:"#00FFFF",black:"#000000",blue:"#0000FF",fuchsia:"#FF00FF",gray:"#808080",green:"#008000",lime:"#00FF00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#FFA500",purple:"#800080",red:"#FF0000",silver:"#C0C0C0",teal:"#008080",white:"#FFFFFF",yellow:"#FFFF00"};function r(o,i,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?o+(i-o)*6*n:n<1/2?i:n<2/3?o+(i-o)*(2/3-n)*6:o}fabric.Color.fromRgb=function(o){return t.fromSource(t.sourceFromRgb(o))},fabric.Color.sourceFromRgb=function(o){var i=o.match(t.reRGBa);if(i){var n=parseInt(i[1],10)/(/%$/.test(i[1])?100:1)*(/%$/.test(i[1])?255:1),s=parseInt(i[2],10)/(/%$/.test(i[2])?100:1)*(/%$/.test(i[2])?255:1),a=parseInt(i[3],10)/(/%$/.test(i[3])?100:1)*(/%$/.test(i[3])?255:1);return[parseInt(n,10),parseInt(s,10),parseInt(a,10),i[4]?parseFloat(i[4]):1]}},fabric.Color.fromRgba=t.fromRgb,fabric.Color.fromHsl=function(o){return t.fromSource(t.sourceFromHsl(o))},fabric.Color.sourceFromHsl=function(o){var i=o.match(t.reHSLa);if(i){var n=(parseFloat(i[1])%360+360)%360/360,s=parseFloat(i[2])/(/%$/.test(i[2])?100:1),a=parseFloat(i[3])/(/%$/.test(i[3])?100:1),l,c,u;if(s===0)l=c=u=a;else{var p=a<=.5?a*(s+1):a+s-a*s,m=a*2-p;l=r(m,p,n+1/3),c=r(m,p,n),u=r(m,p,n-1/3)}return[Math.round(l*255),Math.round(c*255),Math.round(u*255),i[4]?parseFloat(i[4]):1]}},fabric.Color.fromHsla=t.fromHsl,fabric.Color.fromHex=function(o){return t.fromSource(t.sourceFromHex(o))},fabric.Color.sourceFromHex=function(o){if(o.match(t.reHex)){var i=o.slice(o.indexOf("#")+1),n=i.length===3,s=n?i.charAt(0)+i.charAt(0):i.substring(0,2),a=n?i.charAt(1)+i.charAt(1):i.substring(2,4),l=n?i.charAt(2)+i.charAt(2):i.substring(4,6);return[parseInt(s,16),parseInt(a,16),parseInt(l,16),1]}},fabric.Color.fromSource=function(o){var i=new t;return i.setSource(o),i}})(Jle)});var Qle=we(()=>{"use strict";fabric.log=function(){};fabric.warn=function(){};typeof console<"u"&&["log","warn"].forEach(function(e){typeof console[e]<"u"&&console[e].apply&&(fabric[e]=function(){return console[e].apply(console,arguments)})})});var tce=we(ece=>{"use strict";(function(e){"use strict";if(fabric.Intersection){fabric.warn("fabric.Intersection is already defined");return}function t(r){this.status=r,this.points=[]}fabric.Intersection=t,fabric.Intersection.prototype={appendPoint:function(r){this.points.push(r)},appendPoints:function(r){this.points=this.points.concat(r)}},fabric.Intersection.intersectLineLine=function(r,o,i,n){var s,a=(n.x-i.x)*(r.y-i.y)-(n.y-i.y)*(r.x-i.x),l=(o.x-r.x)*(r.y-i.y)-(o.y-r.y)*(r.x-i.x),c=(n.y-i.y)*(o.x-r.x)-(n.x-i.x)*(o.y-r.y);if(c!==0){var u=a/c,p=l/c;0<=u&&u<=1&&0<=p&&p<=1?(s=new t("Intersection"),s.points.push(new fabric.Point(r.x+u*(o.x-r.x),r.y+u*(o.y-r.y)))):s=new t}else a===0||l===0?s=new t("Coincident"):s=new t("Parallel");return s},fabric.Intersection.intersectLinePolygon=function(r,o,i){for(var n=new t,s=i.length,a=0;a<s;a++){var l=i[a],c=i[(a+1)%s],u=t.intersectLineLine(r,o,l,c);n.appendPoints(u.points)}return n.points.length>0&&(n.status="Intersection"),n},fabric.Intersection.intersectPolygonPolygon=function(r,o){for(var i=new t,n=r.length,s=0;s<n;s++){var a=r[s],l=r[(s+1)%n],c=t.intersectLinePolygon(a,l,o);i.appendPoints(c.points)}return i.points.length>0&&(i.status="Intersection"),i},fabric.Intersection.intersectPolygonRectangle=function(r,o,i){var n=o.min(i),s=o.max(i),a=new fabric.Point(s.x,n.y),l=new fabric.Point(n.x,s.y),c=t.intersectLinePolygon(n,a,r),u=t.intersectLinePolygon(a,s,r),p=t.intersectLinePolygon(s,l,r),m=t.intersectLinePolygon(l,n,r),h=new t;return h.appendPoints(c.points),h.appendPoints(u.points),h.appendPoints(p.points),h.appendPoints(m.points),h.points.length>0&&(h.status="Intersection"),h}})(ece)});var oce=we(rce=>{"use strict";(function(e){"use strict";var t=fabric.util.object.extend,r=fabric.util.string.capitalize,o=fabric.util.object.clone,i=fabric.util.toFixed,n=fabric.util.parseUnit,s=fabric.util.multiplyTransformMatrices,a={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","stroke-dasharray":"strokeDashArray","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor"},l={stroke:"strokeOpacity",fill:"fillOpacity"};function c(S){return S in a?a[S]:S}function u(S,w,_){var E=Object.prototype.toString.call(w)==="[object Array]",T;return(S==="fill"||S==="stroke")&&w==="none"?w="":S==="fillRule"?w=w==="evenodd"?"destination-over":w:S==="strokeDashArray"?w=w.replace(/,/g," ").split(/\s+/).map(function(A){return parseInt(A)}):S==="transformMatrix"?_&&_.transformMatrix?w=s(_.transformMatrix,fabric.parseTransformAttribute(w)):w=fabric.parseTransformAttribute(w):S==="visible"?(w=!(w==="none"||w==="hidden"),_&&_.visible===!1&&(w=!1)):S==="textAnchor"?w=w==="start"?"left":w==="end"?"right":"center":T=E?w.map(n):n(w),!E&&isNaN(T)?w:T}function p(S){for(var w in l)if(!(!S[w]||typeof S[l[w]]>"u")&&S[w].indexOf("url(")!==0){var _=new fabric.Color(S[w]);S[w]=_.setAlpha(i(_.getAlpha()*S[l[w]],2)).toRgba(),delete S[l[w]]}return S}fabric.parseTransformAttribute=function(){function S(ae,he){var fe=he[0],ce=he.length===3?he[1]:0,Se=he.length===3?he[2]:0;ae[0]=Math.cos(fe),ae[1]=Math.sin(fe),ae[2]=-Math.sin(fe),ae[3]=Math.cos(fe),ae[4]=ce-(ae[0]*ce+ae[2]*Se),ae[5]=Se-(ae[1]*ce+ae[3]*Se)}function w(ae,he){var fe=he[0],ce=he.length===2?he[1]:he[0];ae[0]=fe,ae[3]=ce}function _(ae,he){ae[2]=he[0]}function E(ae,he){ae[1]=he[0]}function T(ae,he){ae[4]=he[0],he.length===2&&(ae[5]=he[1])}var A=[1,0,0,1,0,0],O="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",L="(?:\\s+,?\\s*|,\\s*)",R="(?:(skewX)\\s*\\(\\s*("+O+")\\s*\\))",z="(?:(skewY)\\s*\\(\\s*("+O+")\\s*\\))",I="(?:(rotate)\\s*\\(\\s*("+O+")(?:"+L+"("+O+")"+L+"("+O+"))?\\s*\\))",F="(?:(scale)\\s*\\(\\s*("+O+")(?:"+L+"("+O+"))?\\s*\\))",B="(?:(translate)\\s*\\(\\s*("+O+")(?:"+L+"("+O+"))?\\s*\\))",j="(?:(matrix)\\s*\\(\\s*("+O+")"+L+"("+O+")"+L+"("+O+")"+L+"("+O+")"+L+"("+O+")"+L+"("+O+")\\s*\\))",X="(?:"+j+"|"+B+"|"+F+"|"+I+"|"+R+"|"+z+")",te="(?:"+X+"(?:"+L+X+")*)",se="^\\s*(?:"+te+"?)\\s*$",ue=new RegExp(se),be=new RegExp(X,"g");return function(ae){var he=A.concat(),fe=[];if(!ae||ae&&!ue.test(ae))return he;ae.replace(be,function(Se){var It=new RegExp(X).exec(Se).filter(function(yt){return yt!==""&&yt!=null}),at=It[1],Ce=It.slice(2).map(parseFloat);switch(at){case"translate":T(he,Ce);break;case"rotate":Ce[0]=fabric.util.degreesToRadians(Ce[0]),S(he,Ce);break;case"scale":w(he,Ce);break;case"skewX":_(he,Ce);break;case"skewY":E(he,Ce);break;case"matrix":he=Ce;break}fe.push(he.concat()),he=A.concat()});for(var ce=fe[0];fe.length>1;)fe.shift(),ce=fabric.util.multiplyTransformMatrices(ce,fe[0]);return ce}}();function m(S,w){var _=S.match(/(normal|italic)?\s*(normal|small-caps)?\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\s*(\d+)px(?:\/(normal|[\d\.]+))?\s+(.*)/);if(_){var E=_[1],T=_[3],A=_[4],O=_[5],L=_[6];E&&(w.fontStyle=E),T&&(w.fontWeight=isNaN(parseFloat(T))?T:parseFloat(T)),A&&(w.fontSize=parseFloat(A)),L&&(w.fontFamily=L),O&&(w.lineHeight=O==="normal"?1:O)}}function h(S,w){var _,E;S.replace(/;\s*$/,"").split(";").forEach(function(T){var A=T.split(":");_=c(A[0].trim().toLowerCase()),E=u(_,A[1].trim()),_==="font"?m(E,w):w[_]=E})}function f(S,w){var _,E;for(var T in S)typeof S[T]>"u"||(_=c(T.toLowerCase()),E=u(_,S[T]),_==="font"?m(E,w):w[_]=E)}function x(S){var w=S.nodeName,_=S.getAttribute("class"),E=S.getAttribute("id"),T={};for(var A in fabric.cssRules){var O=_&&new RegExp("^\\."+_).test(A)||E&&new RegExp("^#"+E).test(A)||new RegExp("^"+w).test(A);if(O)for(var L in fabric.cssRules[A]){var R=c(L),z=u(R,fabric.cssRules[A][L]);T[R]=z}}return T}function v(S){for(var w=S.getElementsByTagName("use");w.length;){for(var _=w[0],E=_.getAttribute("xlink:href").substr(1),T=_.getAttribute("x")||0,A=_.getAttribute("y")||0,O=S.getElementById(E).cloneNode(!0),L=(_.getAttribute("transform")||"")+" translate("+T+", "+A+")",R,z=0,I=_.attributes,F=I.length;z<F;z++){var B=I.item(z);B.nodeName==="x"||B.nodeName==="y"||B.nodeName==="xlink:href"||(B.nodeName==="transform"?L=L+" "+B.nodeValue:O.setAttribute(B.nodeName,B.nodeValue))}O.setAttribute("transform",L),O.removeAttribute("id"),R=_.parentNode,R.replaceChild(O,_)}}function b(S,w){if(w[3]=w[0]=w[0]>w[3]?w[3]:w[0],w[0]!==1||w[3]!==1||w[4]!==0||w[5]!==0){for(var _=document.createElement("g");S.firstChild!=null;){var E=S.firstChild;_.appendChild(E)}_.setAttribute("transform","matrix("+w[0]+" "+w[1]+" "+w[2]+" "+w[3]+" "+w[4]+" "+w[5]+")"),S.appendChild(_)}}fabric.parseSVGDocument=function(){var S=/^(path|circle|polygon|polyline|ellipse|rect|line|image|text)$/,w="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",_=new RegExp("^\\s*("+w+"+)\\s*,?\\s*("+w+"+)\\s*,?\\s*("+w+"+)\\s*,?\\s*("+w+"+)\\s*$");function E(T,A){for(;T&&(T=T.parentNode);)if(A.test(T.nodeName))return!0;return!1}return function(T,A,O){if(T){var L=new Date;v(T);var R=T.getAttribute("viewBox"),z=n(T.getAttribute("width")),I=n(T.getAttribute("height")),F,B;if(R&&(R=R.match(_))){var j=parseFloat(R[1]),X=parseFloat(R[2]),te=1,se=1;F=parseFloat(R[3]),B=parseFloat(R[4]),z&&z!==F&&(te=z/F),I&&I!==B&&(se=I/B),b(T,[te,0,0,se,-j,-X])}var ue=fabric.util.toArray(T.getElementsByTagName("*"));if(ue.length===0&&fabric.isLikelyNode){ue=T.selectNodes('//*[name(.)!="svg"]');for(var be=[],ae=0,he=ue.length;ae<he;ae++)be[ae]=ue[ae];ue=be}var fe=ue.filter(function(Se){return S.test(Se.tagName)&&!E(Se,/^(?:pattern|defs|metadata)$/)});if(!fe||fe&&!fe.length){A?.([],{});return}var ce={width:z||F,height:I||B,widthAttr:z,heightAttr:I};fabric.cssRules=t(fabric.getCSSRules(T),fabric.cssRules),fabric.parseElements(fe,function(Se){fabric.documentParsingTime=new Date-L,A&&A(Se,ce)},o(ce),O)}}}(),t(fabric,{parseAttributes:function(S,w){if(S){var _,E={};S.parentNode&&/^[g|a]$/i.test(S.parentNode.nodeName)&&(E=fabric.parseAttributes(S.parentNode,w));var T=w.reduce(function(A,O){return _=S.getAttribute(O),_&&(O=c(O),_=u(O,_,E),A[O]=_),A},{});return T=t(T,t(x(S),fabric.parseStyleAttribute(S))),p(t(E,T))}},parseElements:function(S,w,_,E){new fabric.ElementsParser(S,w,_,E).parse()},parseStyleAttribute:function(S){var w={},_=S.getAttribute("style");return _&&(typeof _=="string"?h(_,w):f(_,w)),w},parsePointsAttribute:function(S){if(!S)return null;S=S.replace(/,/g," ").trim(),S=S.split(/\s+/);var w=[],_,E;for(_=0,E=S.length;_<E;_+=2)w.push({x:parseFloat(S[_]),y:parseFloat(S[_+1])});return w},getCSSRules:function(S){for(var w=S.getElementsByTagName("style"),_={},E,T=0,A=w.length;T<A;T++){var O=w[0].textContent;O=O.replace(/\/\*[\s\S]*?\*\//g,""),E=O.match(/[^{]*\{[\s\S]*?\}/g),E!==null&&(E=E.map(function(L){return L.trim()}),E.forEach(function(L){var R=L.match(/([\s\S]*?)\s*\{([^}]*)\}/);L=R[1];var z=R[2].trim(),I=z.replace(/;$/,"").split(/\s*;\s*/);_[L]||(_[L]={});for(var F=0,B=I.length;F<B;F++){var j=I[F].split(/\s*:\s*/),X=j[0],te=j[1];_[L][X]=te}}))}return _},loadSVGFromString:function(S,w,_){var E=new DOMParser,T=E.parseFromString(S.trim(),"text/xml");fabric.parseSVGDocument(T.documentElement,function(A,O){w(A,O)},_)}})})(rce);fabric.ElementsParser=function(e,t,r,o){this.elements=e,this.callback=t,this.options=r,this.reviver=o};fabric.ElementsParser.prototype.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()};fabric.ElementsParser.prototype.createObjects=function(){for(var e=0,t=this.elements.length;e<t;e++)(function(r,o){setTimeout(function(){r.createObject(r.elements[o],o)},0)})(this,e)};fabric.ElementsParser.prototype.createObject=function(e,t){var r=fabric[fabric.util.string.capitalize(e.tagName)];if(r&&r.fromElement)try{this._createObject(r,e,t)}catch(o){fabric.log(o)}else this.checkIfDone()};fabric.ElementsParser.prototype._createObject=function(e,t,r){if(e.async)e.fromElement(t,this.createCallback(r,t),this.options);else{var o=e.fromElement(t,this.options);this.reviver&&this.reviver(t,o),this.instances[r]=o,this.checkIfDone()}};fabric.ElementsParser.prototype.createCallback=function(e,t){var r=this;return function(o){r.reviver&&r.reviver(t,o),r.instances[e]=o,r.checkIfDone()}};fabric.ElementsParser.prototype.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(e){return e!=null}),this.callback(this.instances))}});var nce=we(ice=>{"use strict";(function(e){"use strict";var t=Math.PI*2,r=fabric.util.object.extend;if(fabric.Circle){fabric.warn("fabric.Circle is already defined.");return}fabric.Circle=fabric.util.createClass(fabric.Object,{type:"circle",radius:0,initialize:function(i){i=i||{},this.set("radius",i.radius||0),this.callSuper("initialize",i)},_set:function(i,n){return this.callSuper("_set",i,n),i==="radius"&&this.setRadius(n),this},toObject:function(i){return r(this.callSuper("toObject",i),{radius:this.get("radius")})},toSVG:function(i){var n=this._createBaseSVGMarkup();return n.push("<circle ",'cx="0" cy="0" ','r="',this.radius,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>'),i?i(n.join("")):n.join("")},_render:function(i,n){i.beginPath(),i.globalAlpha=this.group?i.globalAlpha*this.opacity:this.opacity,i.arc(n?this.left:0,n?this.top:0,this.radius,0,t,!1),this._renderFill(i),this.stroke&&this._renderStroke(i)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(i){this.radius=i,this.set("width",i*2).set("height",i*2)},complexity:function(){return 1}}),fabric.Circle.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),fabric.Circle.fromElement=function(i,n){n||(n={});var s=fabric.parseAttributes(i,fabric.Circle.ATTRIBUTE_NAMES);if(!o(s))throw new Error("value of `r` attribute is required and can not be negative");s.left=s.left||0,s.top=s.top||0;var a=new fabric.Circle(r(s,n));return a.left-=a.radius,a.top-=a.radius,a};function o(i){return"radius"in i&&i.radius>0}fabric.Circle.fromObject=function(i){return new fabric.Circle(i)}})(ice)});var ace=we(sce=>{"use strict";(function(e){"use strict";var t=Math.PI*2,r=fabric.util.object.extend;if(fabric.Ellipse){fabric.warn("fabric.Ellipse is already defined.");return}fabric.Ellipse=fabric.util.createClass(fabric.Object,{type:"ellipse",rx:0,ry:0,initialize:function(o){o=o||{},this.callSuper("initialize",o),this.set("rx",o.rx||0),this.set("ry",o.ry||0),this.set("width",this.get("rx")*2),this.set("height",this.get("ry")*2)},toObject:function(o){return r(this.callSuper("toObject",o),{rx:this.get("rx"),ry:this.get("ry")})},toSVG:function(o){var i=this._createBaseSVGMarkup();return i.push("<ellipse ",'rx="',this.get("rx"),'" ry="',this.get("ry"),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>'),o?o(i.join("")):i.join("")},render:function(o,i){if(!(this.rx===0||this.ry===0))return this.callSuper("render",o,i)},_render:function(o,i){o.beginPath(),o.globalAlpha=this.group?o.globalAlpha*this.opacity:this.opacity,o.save(),o.transform(1,0,0,this.ry/this.rx,0,0),o.arc(i?this.left:0,i?this.top*this.rx/this.ry:0,this.rx,0,t,!1),o.restore(),this._renderFill(o),this._renderStroke(o)},complexity:function(){return 1}}),fabric.Ellipse.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),fabric.Ellipse.fromElement=function(o,i){i||(i={});var n=fabric.parseAttributes(o,fabric.Ellipse.ATTRIBUTE_NAMES);n.left=n.left||0,n.top=n.top||0;var s=new fabric.Ellipse(r(n,i));return s.top-=s.ry,s.left-=s.rx,s},fabric.Ellipse.fromObject=function(o){return new fabric.Ellipse(o)}})(sce)});var cce=we(lce=>{"use strict";(function(e){"use strict";var t=fabric.util.object.extend,r=fabric.util.array.min,o=fabric.util.array.max,i=fabric.util.array.invoke;if(!fabric.Group){var n={lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0};fabric.Group=fabric.util.createClass(fabric.Object,fabric.Collection,{type:"group",initialize:function(s,a){a=a||{},this._objects=s||[];for(var l=this._objects.length;l--;)this._objects[l].group=this;this.originalState={},this.callSuper("initialize"),this._calcBounds(),this._updateObjectsCoords(),a&&t(this,a),this._setOpacityIfSame(),this.setCoords(),this.saveCoords()},_updateObjectsCoords:function(){this.forEachObject(this._updateObjectCoords,this)},_updateObjectCoords:function(s){var a=s.getLeft(),l=s.getTop();s.set({originalLeft:a,originalTop:l,left:a-this.left,top:l-this.top}),s.setCoords(),s.__origHasControls=s.hasControls,s.hasControls=!1},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(s){return this._restoreObjectsState(),s&&(this._objects.push(s),s.group=this),this.forEachObject(this._setObjectActive,this),this._calcBounds(),this._updateObjectsCoords(),this},_setObjectActive:function(s){s.set("active",!0),s.group=this},removeWithUpdate:function(s){return this._moveFlippedObject(s),this._restoreObjectsState(),this.forEachObject(this._setObjectActive,this),this.remove(s),this._calcBounds(),this._updateObjectsCoords(),this},_onObjectAdded:function(s){s.group=this},_onObjectRemoved:function(s){delete s.group,s.set("active",!1)},delegatedProperties:{fill:!0,opacity:!0,fontFamily:!0,fontWeight:!0,fontSize:!0,fontStyle:!0,lineHeight:!0,textDecoration:!0,textAlign:!0,backgroundColor:!0},_set:function(s,a){if(s in this.delegatedProperties){var l=this._objects.length;for(this[s]=a;l--;)this._objects[l].set(s,a)}else this[s]=a},toObject:function(s){return t(this.callSuper("toObject",s),{objects:i(this._objects,"toObject",s)})},render:function(s){if(this.visible){s.save(),this.clipTo&&fabric.util.clipContext(this,s);for(var a=0,l=this._objects.length;a<l;a++)this._renderObject(this._objects[a],s);this.clipTo&&s.restore(),s.restore()}},_renderControls:function(s,a){this.callSuper("_renderControls",s,a);for(var l=0,c=this._objects.length;l<c;l++)this._objects[l]._renderControls(s)},_renderObject:function(s,a){var l=s.hasRotatingPoint;s.visible&&(s.hasRotatingPoint=!1,s.render(a),s.hasRotatingPoint=l)},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function(s){return this._moveFlippedObject(s),this._setObjectPosition(s),s},_moveFlippedObject:function(s){var a=s.get("originX"),l=s.get("originY"),c=s.getCenterPoint();s.set({originX:"center",originY:"center",left:c.x,top:c.y}),this._toggleFlipping(s);var u=s.getPointByOrigin(a,l);return s.set({originX:a,originY:l,left:u.x,top:u.y}),this},_toggleFlipping:function(s){this.flipX&&(s.toggle("flipX"),s.set("left",-s.get("left")),s.setAngle(-s.getAngle())),this.flipY&&(s.toggle("flipY"),s.set("top",-s.get("top")),s.setAngle(-s.getAngle()))},_restoreObjectState:function(s){return this._setObjectPosition(s),s.setCoords(),s.hasControls=s.__origHasControls,delete s.__origHasControls,s.set("active",!1),s.setCoords(),delete s.group,this},_setObjectPosition:function(s){var a=this.getLeft(),l=this.getTop(),c=this._getRotatedLeftTop(s);s.set({angle:s.getAngle()+this.getAngle(),left:a+c.left,top:l+c.top,scaleX:s.get("scaleX")*this.get("scaleX"),scaleY:s.get("scaleY")*this.get("scaleY")})},_getRotatedLeftTop:function(s){var a=this.getAngle()*(Math.PI/180);return{left:-Math.sin(a)*s.getTop()*this.get("scaleY")+Math.cos(a)*s.getLeft()*this.get("scaleX"),top:Math.cos(a)*s.getTop()*this.get("scaleY")+Math.sin(a)*s.getLeft()*this.get("scaleX")}},destroy:function(){return this._objects.forEach(this._moveFlippedObject,this),this._restoreObjectsState()},saveCoords:function(){return this._originalLeft=this.get("left"),this._originalTop=this.get("top"),this},hasMoved:function(){return this._originalLeft!==this.get("left")||this._originalTop!==this.get("top")},setObjectsCoords:function(){return this.forEachObject(function(s){s.setCoords()}),this},_setOpacityIfSame:function(){var s=this.getObjects(),a=s[0]?s[0].get("opacity"):1,l=s.every(function(c){return c.get("opacity")===a});l&&(this.opacity=a)},_calcBounds:function(s){for(var a=[],l=[],c,u=0,p=this._objects.length;u<p;++u){c=this._objects[u],c.setCoords();for(var m in c.oCoords)a.push(c.oCoords[m].x),l.push(c.oCoords[m].y)}this.set(this._getBounds(a,l,s))},_getBounds:function(s,a,l){var c=fabric.util.invertTransform(this.getViewportTransform()),u=fabric.util.transformPoint(new fabric.Point(r(s),r(a)),c),p=fabric.util.transformPoint(new fabric.Point(o(s),o(a)),c),m={width:p.x-u.x||0,height:p.y-u.y||0};return l||(m.left=(u.x+p.x)/2||0,m.top=(u.y+p.y)/2||0),m},toSVG:function(s){for(var a=["<g ",'transform="',this.getSvgTransform(),'">'],l=0,c=this._objects.length;l<c;l++)a.push(this._objects[l].toSVG(s));return a.push("</g>"),s?s(a.join("")):a.join("")},get:function(s){if(s in n){if(this[s])return this[s];for(var a=0,l=this._objects.length;a<l;a++)if(this._objects[a][s])return!0;return!1}else return s in this.delegatedProperties?this._objects[0]&&this._objects[0].get(s):this[s]}}),fabric.Group.fromObject=function(s,a){fabric.util.enlivenObjects(s.objects,function(l){delete s.objects,a?.(new fabric.Group(l,s))})},fabric.Group.async=!0}})(lce)});var uce=we(()=>{"use strict";(function(){fabric.Image=fabric.util.createClass(fabric.Object,{type:"image"}),fabric.Image.fromElement=function(e,t){return new fabric.Image}})()});var dce=we(pce=>{"use strict";(function(e){"use strict";var t=fabric.util.object.extend,r=fabric.util.object.clone,o=fabric.util.toFixed;if(fabric.Text){fabric.warn("fabric.Text is already defined");return}var i=fabric.Object.prototype.stateProperties.concat();i.push("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","textBackgroundColor","useNative","path"),fabric.Text=fabric.util.createClass(fabric.Object,{_dimensionAffectingProps:{fontSize:!0,fontWeight:!0,fontFamily:!0,textDecoration:!0,fontStyle:!0,lineHeight:!0,stroke:!0,strokeWidth:!0,text:!0},_reNewline:/\r?\n/,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",textDecoration:"",textAlign:"left",fontStyle:"",lineHeight:1.3,textBackgroundColor:"",path:null,useNative:!0,stateProperties:i,stroke:null,initialize:function(n,s){s=s||{},this.text=n,this.__skipDimension=!0,this.setOptions(s),this.__skipDimension=!1,this._initDimensions()},_initDimensions:function(){if(!this.__skipDimension){var n=fabric.util.createCanvasElement();this._render(n.getContext("2d"))}},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_render:function(n){typeof Cufon>"u"||this.useNative===!0?this._renderViaNative(n):this._renderViaCufon(n)},_renderViaNative:function(n){var s=this.text.split(this._reNewline);this._setTextStyles(n),this.width=this._getTextWidth(n,s),this.height=this._getTextHeight(n,s),this.clipTo&&fabric.util.clipContext(this,n),this._renderTextBackground(n,s),this._translateForTextAlign(n),this._renderText(n,s),this.textAlign!=="left"&&this.textAlign!=="justify"&&n.restore(),this._renderTextDecoration(n,s),this.clipTo&&n.restore(),this._setBoundaries(n,s),this._totalLineHeight=0},_renderText:function(n,s){n.save(),this._renderTextFill(n,s),this._renderTextStroke(n,s),n.restore()},_translateForTextAlign:function(n){this.textAlign!=="left"&&this.textAlign!=="justify"&&(n.save(),n.translate(this.textAlign==="center"?this.width/2:this.width,0))},_setBoundaries:function(n,s){this._boundaries=[];for(var a=0,l=s.length;a<l;a++){var c=this._getLineWidth(n,s[a]),u=this._getLineLeftOffset(c);this._boundaries.push({height:this.fontSize*this.lineHeight,width:c,left:u})}},_setTextStyles:function(n){this._setFillStyles(n),this._setStrokeStyles(n),n.textBaseline="alphabetic",this.skipTextAlign||(n.textAlign=this.textAlign),n.font=this._getFontDeclaration()},_getTextHeight:function(n,s){return this.fontSize*s.length*this.lineHeight},_getTextWidth:function(n,s){for(var a=n.measureText(s[0]||"i").width,l=1,c=s.length;l<c;l++){var u=n.measureText(s[l]).width;u>a&&(a=u)}return a},_renderChars:function(n,s,a,l,c){s[n](a,l,c)},_renderTextLine:function(n,s,a,l,c,u){if(c-=this.fontSize/4,this.textAlign!=="justify"){this._renderChars(n,s,a,l,c,u);return}var p=s.measureText(a).width,m=this.width;if(m>p)for(var h=a.split(/\s+/),f=s.measureText(a.replace(/\s+/g,"")).width,x=m-f,v=h.length-1,b=x/v,S=0,w=0,_=h.length;w<_;w++)this._renderChars(n,s,h[w],l+S,c,u),S+=s.measureText(h[w]).width+b;else this._renderChars(n,s,a,l,c,u)},_getLeftOffset:function(){return fabric.isLikelyNode?0:-this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextFill:function(n,s){if(!(!this.fill&&!this._skipFillStrokeCheck)){this._boundaries=[];for(var a=0,l=0,c=s.length;l<c;l++){var u=this._getHeightOfLine(n,l,s);a+=u,this._renderTextLine("fillText",n,s[l],this._getLeftOffset(),this._getTopOffset()+a,l)}}},_renderTextStroke:function(n,s){if(!((!this.stroke||this.strokeWidth===0)&&!this._skipFillStrokeCheck)){var a=0;n.save(),this.strokeDashArray&&(1&this.strokeDashArray.length&&this.strokeDashArray.push.apply(this.strokeDashArray,this.strokeDashArray),fabric.StaticCanvas.supports("setLineDash")&&n.setLineDash(this.strokeDashArray)),n.beginPath();for(var l=0,c=s.length;l<c;l++){var u=this._getHeightOfLine(n,l,s);a+=u,this._renderTextLine("strokeText",n,s[l],this._getLeftOffset(),this._getTopOffset()+a,l)}n.closePath(),n.restore()}},_getHeightOfLine:function(){return this.fontSize*this.lineHeight},_renderTextBackground:function(n,s){this._renderTextBoxBackground(n),this._renderTextLinesBackground(n,s)},_renderTextBoxBackground:function(n){this.backgroundColor&&(n.save(),n.fillStyle=this.backgroundColor,n.fillRect(this._getLeftOffset(),this._getTopOffset(),this.width,this.height),n.restore())},_renderTextLinesBackground:function(n,s){if(this.textBackgroundColor){n.save(),n.fillStyle=this.textBackgroundColor;for(var a=0,l=s.length;a<l;a++)if(s[a]!==""){var c=this._getLineWidth(n,s[a]),u=this._getLineLeftOffset(c);n.fillRect(this._getLeftOffset()+u,this._getTopOffset()+a*this.fontSize*this.lineHeight,c,this.fontSize*this.lineHeight)}n.restore()}},_getLineLeftOffset:function(n){return this.textAlign==="center"?(this.width-n)/2:this.textAlign==="right"?this.width-n:0},_getLineWidth:function(n,s){return this.textAlign==="justify"?this.width:n.measureText(s).width},_renderTextDecoration:function(n,s){if(!this.textDecoration)return;var a=this._getTextHeight(n,s)/2,l=this;function c(u){for(var p=0,m=s.length;p<m;p++){var h=l._getLineWidth(n,s[p]),f=l._getLineLeftOffset(h);n.fillRect(l._getLeftOffset()+f,~~(u+p*l._getHeightOfLine(n,p,s)-a),h,1)}}this.textDecoration.indexOf("underline")>-1&&c(this.fontSize*this.lineHeight),this.textDecoration.indexOf("line-through")>-1&&c(this.fontSize*this.lineHeight-this.fontSize/2),this.textDecoration.indexOf("overline")>-1&&c(this.fontSize*this.lineHeight-this.fontSize)},_getFontDeclaration:function(){return[fabric.isLikelyNode?this.fontWeight:this.fontStyle,fabric.isLikelyNode?this.fontStyle:this.fontWeight,this.fontSize+"px",fabric.isLikelyNode?'"'+this.fontFamily+'"':this.fontFamily].join(" ")},render:function(n,s){if(this.visible){n.save(),this._transform(n,s);var a=this.transformMatrix,l=this.group&&this.group.type==="path-group";l&&n.translate(-this.group.width/2,-this.group.height/2),a&&n.transform(a[0],a[1],a[2],a[3],a[4],a[5]),l&&n.translate(this.left,this.top),this._render(n),n.restore()}},toObject:function(n){var s=t(this.callSuper("toObject",n),{text:this.text,fontSize:this.fontSize,fontWeight:this.fontWeight,fontFamily:this.fontFamily,fontStyle:this.fontStyle,lineHeight:this.lineHeight,textDecoration:this.textDecoration,textAlign:this.textAlign,path:this.path,textBackgroundColor:this.textBackgroundColor,useNative:this.useNative});return this.includeDefaultValues||this._removeDefaultValues(s),s},toSVG:function(n){var s=[],a=this.text.split(this._reNewline),l=this._getSVGLeftTopOffsets(a),c=this._getSVGTextAndBg(l.lineTop,l.textLeft,a);return l.textTop+=this._fontAscent?this._fontAscent/5*this.lineHeight:0,this._wrapSVGTextAndBg(s,c,l),n?n(s.join("")):s.join("")},_getSVGLeftTopOffsets:function(n){var s=this.useNative?this.fontSize*this.lineHeight:-this._fontAscent-this._fontAscent/5*this.lineHeight,a=-(this.width/2),l=this.useNative?this.fontSize-1:this.height/2-n.length*this.fontSize-this._totalLineHeight;return{textLeft:a,textTop:l,lineTop:s}},_wrapSVGTextAndBg:function(n,s,a){n.push('<g transform="',this.getSvgTransform(),'">',s.textBgRects.join(""),"<text ",this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",this.textDecoration?'text-decoration="'+this.textDecoration+'" ':"",'style="',this.getSvgStyles(),'" ','transform="translate(',o(a.textLeft,2)," ",o(a.textTop,2),')">',s.textSpans.join(""),"</text>","</g>")},_getSVGTextAndBg:function(n,s,a){var l=[],c=[],u=1;this._setSVGBg(c);for(var p=0,m=a.length;p<m;p++)a[p]!==""?(this._setSVGTextLineText(a[p],p,l,n,u,c),u=1):u++,!(!this.textBackgroundColor||!this._boundaries)&&this._setSVGTextLineBg(c,p,s,n);return{textSpans:l,textBgRects:c}},_setSVGTextLineText:function(n,s,a,l,c){var u=this._boundaries&&this._boundaries[s]?o(this._boundaries[s].left,2):0;a.push('<tspan x="',u,'" ',s===0||this.useNative?"y":"dy",'="',o(this.useNative?l*s-this.height/2:l*c,2),'" ',this._getFillAttributes(this.fill),">",fabric.util.string.escapeXml(n),"</tspan>")},_setSVGTextLineBg:function(n,s,a,l){n.push("<rect ",this._getFillAttributes(this.textBackgroundColor),' x="',o(a+this._boundaries[s].left,2),'" y="',o(l*s-this.height/2,2),'" width="',o(this._boundaries[s].width,2),'" height="',o(this._boundaries[s].height,2),'"></rect>')},_setSVGBg:function(n){this.backgroundColor&&this._boundaries&&n.push("<rect ",this._getFillAttributes(this.backgroundColor),' x="',o(-this.width/2,2),'" y="',o(-this.height/2,2),'" width="',o(this.width,2),'" height="',o(this.height,2),'"></rect>')},_getFillAttributes:function(n){var s=n&&typeof n=="string"?new fabric.Color(n):"";return!s||!s.getSource()||s.getAlpha()===1?'fill="'+n+'"':'opacity="'+s.getAlpha()+'" fill="'+s.setAlpha(1).toRgb()+'"'},_set:function(n,s){n==="fontFamily"&&this.path&&(this.path=this.path.replace(/(.*?)([^\/]*)(\.font\.js)/,"$1"+s+"$3")),this.callSuper("_set",n,s),n in this._dimensionAffectingProps&&(this._initDimensions(),this.setCoords())},complexity:function(){return 1}}),fabric.Text.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size text-decoration text-anchor".split(" ")),fabric.Text.DEFAULT_SVG_FONT_SIZE=16,fabric.Text.fromElement=function(n,s){if(!n)return null;var a=fabric.parseAttributes(n,fabric.Text.ATTRIBUTE_NAMES);s=fabric.util.object.extend(s?fabric.util.object.clone(s):{},a),"dx"in a&&(s.left+=a.dx),"dy"in a&&(s.top+=a.dy),"fontSize"in s||(s.fontSize=fabric.Text.DEFAULT_SVG_FONT_SIZE),s.originX||(s.originX="left");var l=new fabric.Text(n.textContent,s),c=0;return l.originX==="left"&&(c=l.getWidth()/2),l.originX==="right"&&(c=-l.getWidth()/2),l.set({left:l.getLeft()+c,top:l.getTop()-l.getHeight()/2}),l},fabric.Text.fromObject=function(n){return new fabric.Text(n.text,r(n))},fabric.util.createAccessors(fabric.Text)})(pce)});var mce=we(l_=>{"use strict";(function(){var e=fabric.util.object.clone;fabric.IText=fabric.util.createClass(fabric.Text,fabric.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,caching:!0,_skipFillStrokeCheck:!0,_reSpace:/\s|\n/,_fontSizeFraction:4,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,_charWidthsCache:{},initialize:function(t,r){this.callSuper("initialize",t,r),this.initBehavior(),fabric.IText.instances.push(this),this.__lineWidths={},this.__lineHeights={},this.__lineOffsets={}},setSelectionStart:function(t){this.selectionStart!==t&&(this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})),this.selectionStart=t,this.hiddenTextarea&&(this.hiddenTextarea.selectionStart=t)},setSelectionEnd:function(t){this.selectionEnd!==t&&(this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})),this.selectionEnd=t,this.hiddenTextarea&&(this.hiddenTextarea.selectionEnd=t)},_render:function(t){this.callSuper("_render",t),this.ctx=t,this.isEditing&&this.renderCursorOrSelection()},renderCursorOrSelection:function(){if(this.active){var t=this.text.split(""),r;this.selectionStart===this.selectionEnd?(r=this._getCursorBoundaries(t,"cursor"),this.renderCursor(r)):(r=this._getCursorBoundaries(t,"selection"),this.renderSelection(t,r))}},get2DCursorLocation:function(t){typeof t>"u"&&(t=this.selectionStart);var r=this.text.slice(0,t),o=r.split(this._reNewline);return{lineIndex:o.length-1,charIndex:o[o.length-1].length}},getCurrentCharStyle:function(t,r){return{fontSize:this.fontSize,fill:this.fill,textBackgroundColor:this.textBackgroundColor,textDecoration:this.textDecoration,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontStyle:this.fontStyle,stroke:this.stroke,strokeWidth:this.strokeWidth}},getCurrentCharFontSize:function(t,r){return this.fontSize},getCurrentCharColor:function(t,r){return this.cursorColor},_getCursorBoundaries:function(t,r){var o=this.get2DCursorLocation(),i=this.text.split(this._reNewline),n=Math.round(this._getLeftOffset()),s=-this.height/2,a=this._getCursorBoundariesOffsets(t,r,o,i);return{left:n,top:s,leftOffset:a.left+a.lineLeft,topOffset:a.top}},_getCursorBoundariesOffsets:function(t,r,o,i){for(var n=0,s=0,a=0,l=0,c=r==="cursor"?this._getHeightOfLine(this.ctx,0)-this.getCurrentCharFontSize(o.lineIndex,o.charIndex):0,u=0;u<this.selectionStart;u++){if(t[u]===`
`){l=0;var p=s+(r==="cursor"?1:0);c+=this._getCachedLineHeight(p),s++,a=0}else l+=this._getWidthOfChar(this.ctx,t[u],s,a),a++;n=this._getCachedLineOffset(s,i)}return this._clearCache(),{top:c,left:l,lineLeft:n}},_clearCache:function(){this.__lineWidths={},this.__lineHeights={},this.__lineOffsets={}},_getCachedLineHeight:function(t){return this.__lineHeights[t]||(this.__lineHeights[t]=this._getHeightOfLine(this.ctx,t))},_getCachedLineWidth:function(t,r){return this.__lineWidths[t]||(this.__lineWidths[t]=this._getWidthOfLine(this.ctx,t,r))},_getCachedLineOffset:function(t,r){var o=this._getCachedLineWidth(t,r);return this.__lineOffsets[t]||(this.__lineOffsets[t]=this._getLineLeftOffset(o))},renderCursor:function(t){var r=this.ctx;r.save();var o=this.get2DCursorLocation(),i=o.lineIndex,n=o.charIndex,s=this.getCurrentCharFontSize(i,n),a=i===0&&n===0?this._getCachedLineOffset(i,this.text.split(this._reNewline)):t.leftOffset;r.fillStyle=this.getCurrentCharColor(i,n),r.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,r.fillRect(t.left+a,t.top+t.topOffset,this.cursorWidth/this.scaleX,s),r.restore()},renderSelection:function(t,r){var o=this.ctx;o.save(),o.fillStyle=this.selectionColor;for(var i=this.get2DCursorLocation(this.selectionStart),n=this.get2DCursorLocation(this.selectionEnd),s=i.lineIndex,a=n.lineIndex,l=this.text.split(this._reNewline),c=s;c<=a;c++){var u=this._getCachedLineOffset(c,l)||0,p=this._getCachedLineHeight(c),m=0;if(c===s)for(var h=0,f=l[c].length;h<f;h++)h>=i.charIndex&&(c!==a||h<n.charIndex)&&(m+=this._getWidthOfChar(o,l[c][h],c,h)),h<i.charIndex&&(u+=this._getWidthOfChar(o,l[c][h],c,h));else if(c>s&&c<a)m+=this._getCachedLineWidth(c,l)||5;else if(c===a)for(var x=0,v=n.charIndex;x<v;x++)m+=this._getWidthOfChar(o,l[c][x],c,x);o.fillRect(r.left+u,r.top+r.topOffset,m,p),r.topOffset+=p}o.restore()},_renderChars:function(t,r,o,i,n,s){return this._renderCharsFast(t,r,o,i,n)},_renderCharsFast:function(t,r,o,i,n){this.skipTextAlign=!1,t==="fillText"&&this.fill&&this.callSuper("_renderChars",t,r,o,i,n),t==="strokeText"&&this.stroke&&this.callSuper("_renderChars",t,r,o,i,n)},_renderChar:function(t,r,o,i,n,s,a,l){t==="strokeText"&&this.stroke&&r[t](n,s,a),t==="fillText"&&this.fill&&r[t](n,s,a),charWidth=this._applyCharStylesGetWidth(r,n,o,i),this._renderCharDecoration(r,s,a,charWidth,l),r.translate(r.measureText(n).width,0)},_renderCharDecoration:function(t,r,o,i,n,s){var a=this.textDecoration,l=this.fontSize;a&&(a.indexOf("underline")>-1&&this._renderCharDecorationAtOffset(t,r,o+this.fontSize/this._fontSizeFraction,i,0,this.fontSize/20),a.indexOf("line-through")>-1&&this._renderCharDecorationAtOffset(t,r,o+this.fontSize/this._fontSizeFraction,i,s/2,l/20),a.indexOf("overline")>-1&&this._renderCharDecorationAtOffset(t,r,o,i,n-this.fontSize/this._fontSizeFraction,this.fontSize/20))},_renderCharDecorationAtOffset:function(t,r,o,i,n,s){t.fillRect(r,o-n,i,s)},_renderTextLine:function(t,r,o,i,n,s){n+=this.fontSize/4,this.callSuper("_renderTextLine",t,r,o,i,n,s)},_renderTextLinesBackground:function(t,r){if(this.textBackgroundColor){t.save(),this.textBackgroundColor&&(t.fillStyle=this.textBackgroundColor);for(var o=0,i=this.fontSize/this._fontSizeFraction,n=0,s=r.length;n<s;n++){var a=this._getHeightOfLine(t,n,r);if(r[n]===""){o+=a;continue}var l=this._getWidthOfLine(t,n,r),c=this._getLineLeftOffset(l);this.textBackgroundColor&&(t.fillStyle=this.textBackgroundColor,t.fillRect(this._getLeftOffset()+c,this._getTopOffset()+o+i,l,a)),o+=a}t.restore()}},_getCacheProp:function(t,r){return t+r.fontFamily+r.fontSize+r.fontWeight+r.fontStyle},_applyCharStylesGetWidth:function(t,r,o,i){var n={};this._applyFontStyles(n);var s=this._getCacheProp(r,n);if(this._charWidthsCache[s]&&this.caching)return this._charWidthsCache[s];var a=this.fill;return t.fillStyle=a.toLive?a.toLive(t):a,t.lineWidth=this.strokeWidth,t.font=this._getFontDeclaration.call(n),this.caching?(this._charWidthsCache[s]||(this._charWidthsCache[s]=t.measureText(r).width),this._charWidthsCache[s]):t.measureText(r).width},_applyFontStyles:function(t){t.fontFamily=this.fontFamily,t.fontSize=this.fontSize,t.fontWeight=this.fontWeight,t.fontStyle=this.fontStyle},_getWidthOfChar:function(t,r,o,i){var n={};this._applyFontStyles(n);var s=this._getCacheProp(r,n);if(this._charWidthsCache[s]&&this.caching)return this._charWidthsCache[s];if(t){t.save();var a=this._applyCharStylesGetWidth(t,r,o,i);return t.restore(),a}},_getHeightOfChar:function(t,r,o,i){return this.fontSize},_getWidthOfCharAt:function(t,r,o,i){i=i||this.text.split(this._reNewline);var n=i[r].split("")[o];return this._getWidthOfChar(t,n,r,o)},_getHeightOfCharAt:function(t,r,o,i){i=i||this.text.split(this._reNewline);var n=i[r].split("")[o];return this._getHeightOfChar(t,n,r,o)},_getWidthOfCharsAt:function(t,r,o,i){for(var n=0,s=0;s<o;s++)n+=this._getWidthOfCharAt(t,r,s,i);return n},_getWidthOfLine:function(t,r,o){return this._getWidthOfCharsAt(t,r,o[r].length,o)},_getTextWidth:function(t,r){return this.callSuper("_getTextWidth",t,r)},_getHeightOfLine:function(t,r,o){o=o||this.text.split(this._reNewline);for(var i=this._getHeightOfChar(t,o[r][0],r,0),n=o[r],s=n.split(""),a=1,l=s.length;a<l;a++){var c=this._getHeightOfChar(t,s[a],r,a);c>i&&(i=c)}return i*this.lineHeight},_getTextHeight:function(t,r){for(var o=0,i=0,n=r.length;i<n;i++)o+=this._getHeightOfLine(t,i,r);return o},_getTopOffset:function(){var t=fabric.Text.prototype._getTopOffset.call(this);return t-this.fontSize/this._fontSizeFraction},_renderTextBoxBackground:function(t){this.backgroundColor&&(t.save(),t.fillStyle=this.backgroundColor,t.fillRect(this._getLeftOffset(),this._getTopOffset()+this.fontSize/this._fontSizeFraction,this.width,this.height),t.restore())}}),fabric.IText.fromObject=function(t){return new fabric.IText(t.text,e(t))},fabric.IText.instances=[],fabric.IText.flushInstances=function(){fabric.IText.instances.forEach(function(t){t.isEditing&&t.exitEditing()}),fabric.IText.instances=[]}})(l_);(function(){var e=fabric.util.object.clone;fabric.util.object.extend(fabric.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation()},initSelectedHandler:function(){this.on("selected",function(){var t=this;setTimeout(function(){t.selected=!0},100)})},initAddedHandler:function(){this.on("added",function(){this.canvas&&!this.canvas._hasITextHandlers&&(this.canvas._hasITextHandlers=!0,this._initCanvasHandlers())})},_initCanvasHandlers:function(){this.canvas.on("selection:cleared",function(){fabric.IText.prototype.exitEditingOnOthers.call(null,this)}),this.canvas.on("mouse:up",function(){fabric.IText.instances.forEach(function(t){t.__isMousedown=!1})}),this.canvas.on("object:selected",function(t){fabric.IText.prototype.exitEditingOnOthers.call(t.target,this.canvas)})},_tick:function(){var t=this;this._abortCursorAnimation||!this.isEditing||this.animate("_currentCursorOpacity",1,{duration:this.cursorDuration,onComplete:function(){t._onTickComplete()},onChange:function(){t.canvas&&t.canvas.doRenderAll()},abort:function(){return t._abortCursorAnimation||!t.isEditing}})},_onTickComplete:function(){if(!(this._abortCursorAnimation||!this.isEditing)){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){t.animate("_currentCursorOpacity",0,{duration:t.cursorDuration/2,onComplete:function(){t._tick()},onChange:function(){t.canvas&&t.canvas.doRenderAll()},abort:function(){return t._abortCursorAnimation||!t.isEditing}})},100)}},initDelayedCursor:function(t){var r=this,o=t?0:this.cursorDelay;t&&(this._abortCursorAnimation=!0,clearTimeout(this._cursorTimeout1),this._currentCursorOpacity=1,this.canvas&&this.canvas.doRenderAll()),this._cursorTimeout2&&clearTimeout(this._cursorTimeout2),this._cursorTimeout2=setTimeout(function(){r._abortCursorAnimation=!1,r._tick()},o)},abortCursorAnimation:function(){this._abortCursorAnimation=!0,clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,this.canvas&&this.canvas.doRenderAll();var t=this;setTimeout(function(){t._abortCursorAnimation=!1},10)},selectAll:function(){this.selectionStart=0,this.selectionEnd=this.text.length,this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},getSelectedText:function(){return this.text.slice(this.selectionStart,this.selectionEnd)},findWordBoundaryLeft:function(t){var r=0,o=t-1;if(this._reSpace.test(this.text.charAt(o)))for(;this._reSpace.test(this.text.charAt(o));)r++,o--;for(;/\S/.test(this.text.charAt(o))&&o>-1;)r++,o--;return t-r},findWordBoundaryRight:function(t){var r=0,o=t;if(this._reSpace.test(this.text.charAt(o)))for(;this._reSpace.test(this.text.charAt(o));)r++,o++;for(;/\S/.test(this.text.charAt(o))&&o<this.text.length;)r++,o++;return t+r},findLineBoundaryLeft:function(t){for(var r=0,o=t-1;!/\n/.test(this.text.charAt(o))&&o>-1;)r++,o--;return t-r},findLineBoundaryRight:function(t){for(var r=0,o=t;!/\n/.test(this.text.charAt(o))&&o<this.text.length;)r++,o++;return t+r},getNumNewLinesInSelectedText:function(){for(var t=this.getSelectedText(),r=0,o=0,i=t.split(""),n=i.length;o<n;o++)i[o]===`
`&&r++;return r},searchWordBoundary:function(t,r){for(var o=this._reSpace.test(this.text.charAt(t))?t-1:t,i=this.text.charAt(o),n=/[ \n\.,;!\?\-]/;!n.test(i)&&o>0&&o<this.text.length;)o+=r,i=this.text.charAt(o);return n.test(i)&&i!==`
`&&(o+=r===1?0:1),o},selectWord:function(t){var r=this.searchWordBoundary(t,-1),o=this.searchWordBoundary(t,1);this.setSelectionStart(r),this.setSelectionEnd(o),this.initDelayedCursor(!0)},selectLine:function(t){var r=this.findLineBoundaryLeft(t),o=this.findLineBoundaryRight(t);this.setSelectionStart(r),this.setSelectionEnd(o),this.initDelayedCursor(!0)},enterEditing:function(){if(!(this.isEditing||!this.editable))return this.exitEditingOnOthers(this.canvas),this.isEditing=!0,this.initHiddenTextarea(),this._updateTextarea(),this.hiddenTextarea.focus(),this._saveEditingProps(),this._setEditingProps(),this._tick(),this.canvas&&this.canvas.doRenderAll(),this.fire("editing:entered"),this.canvas&&this.canvas.fire("text:editing:entered",{target:this}),this},exitEditingOnOthers:function(t){fabric.IText.instances.forEach(function(r){r.canvas===t&&(r.selected=!1,r.isEditing&&r.exitEditing())},this)},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},_updateTextarea:function(){this.hiddenTextarea&&(this.hiddenTextarea.value=this.text,this.hiddenTextarea.selectionStart=this.selectionStart)},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.overCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){return this.selected=!1,this.isEditing=!1,this.selectable=!0,this.selectionEnd=this.selectionStart,this.hiddenTextarea&&this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this.fire("editing:exited"),this.canvas&&this.canvas.fire("text:editing:exited",{target:this}),this},_removeCharsFromTo:function(t,r){for(var o=r;o!==t;){var i=this.get2DCursorLocation(o).charIndex;o--;var n=this.get2DCursorLocation(o).charIndex,s=n>i}this.text=this.text.slice(0,t)+this.text.slice(r)},insertChars:function(t){var r=this.text.slice(this.selectionStart,this.selectionStart+1)===`
`;this.text=this.text.slice(0,this.selectionStart)+t+this.text.slice(this.selectionEnd),this.selectionStart+=t.length,this.selectionEnd=this.selectionStart,this.canvas&&this.canvas.volumeActions?this.canvas.volumeActions.setText(this.canvas,this.text):(this.canvas&&this.canvas.renderAll().renderAll(),this.setCoords(),this.fire("changed"),this.canvas&&this.canvas.fire("text:changed",{target:this}))},insertNewline:function(t){this.insertChars(`
`),t.preventDefault()}})})(l_);fabric.util.object.extend(fabric.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown.bind(this))},onMouseDown:function(e){this.__newClickTime=+new Date;var t=this.canvas.getPointer(e.e);this.isTripleClick(t)?(this.fire("tripleclick",e),this._stopEvent(e.e)):this.isDoubleClick(t)&&(this.fire("dblclick",e),this._stopEvent(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=t,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected},isDoubleClick:function(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y&&this.__lastIsEditing},isTripleClick:function(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y},_stopEvent:function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},initCursorSelectionHandlers:function(){this.initSelectedHandler(),this.initMousedownHandler(),this.initMousemoveHandler(),this.initMouseupHandler(),this.initClicks()},initClicks:function(){this.on("dblclick",function(e){this.selectWord(this.getSelectionStartFromPointer(e.e))}),this.on("tripleclick",function(e){this.selectLine(this.getSelectionStartFromPointer(e.e))})},initMousedownHandler:function(){this.on("mousedown",function(e){var t=this.canvas.getPointer(e.e);this.__mousedownX=t.x,this.__mousedownY=t.y,this.__isMousedown=!0,this.hiddenTextarea&&this.canvas&&this.canvas.wrapperEl.appendChild(this.hiddenTextarea),this.selected&&this.setCursorByClick(e.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.initDelayedCursor(!0))})},initMousemoveHandler:function(){this.on("mousemove",function(e){if(!(!this.__isMousedown||!this.isEditing)){var t=this.getSelectionStartFromPointer(e.e);t>=this.__selectionStartOnMouseDown?(this.setSelectionStart(this.__selectionStartOnMouseDown),this.setSelectionEnd(t)):(this.setSelectionStart(t),this.setSelectionEnd(this.__selectionStartOnMouseDown))}})},_isObjectMoved:function(e){var t=this.canvas.getPointer(e);return this.__mousedownX!==t.x||this.__mousedownY!==t.y},initMouseupHandler:function(){this.on("mouseup",function(e){this.__isMousedown=!1,!this._isObjectMoved(e.e)&&(this.__lastSelected&&(this.enterEditing(),this.initDelayedCursor(!0)),this.selected=!0)})},setCursorByClick:function(e){var t=this.getSelectionStartFromPointer(e);e.shiftKey?t<this.selectionStart?(this.setSelectionEnd(this.selectionStart),this.setSelectionStart(t)):this.setSelectionEnd(t):(this.setSelectionStart(t),this.setSelectionEnd(t))},_getLocalRotatedPointer:function(e){var t=this.canvas.getPointer(e),r=new fabric.Point(t.x,t.y),o=new fabric.Point(this.left,this.top),i=fabric.util.rotatePoint(r,o,fabric.util.degreesToRadians(-this.angle));return this.getLocalPointer(e,i)},getSelectionStartFromPointer:function(e){for(var t=this._getLocalRotatedPointer(e),r=this.text.split(this._reNewline),o=0,i=0,n=0,s=0,a,l=0,c=r.length;l<c;l++){n+=this._getHeightOfLine(this.ctx,l)*this.scaleY;var u=this._getWidthOfLine(this.ctx,l,r),p=this._getLineLeftOffset(u);i=p*this.scaleX,this.flipX&&(r[l]=r[l].split("").reverse().join(""));for(var m=0,h=r[l].length;m<h;m++){var f=r[l][m];if(o=i,i+=this._getWidthOfChar(this.ctx,f,l,this.flipX?h-m:m)*this.scaleX,n<=t.y||i<=t.x){s++;continue}return this._getNewSelectionStartFromOffset(t,o,i,s+l,h)}if(t.y<n)return this._getNewSelectionStartFromOffset(t,o,i,s+l,h,m)}if(typeof a>"u")return this.text.length},_getNewSelectionStartFromOffset:function(e,t,r,o,i,n){var s=e.x-t,a=r-e.x,l=a>s?0:1,c=o+l;return this.flipX&&(c=i-c),c>this.text.length&&(c=this.text.length),n===i&&c--,c}});fabric.util.object.extend(fabric.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=fabric.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.style.cssText="position: absolute; top: 0; left: -9999px",fabric.document.body.appendChild(this.hiddenTextarea),fabric.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),fabric.util.addListener(this.hiddenTextarea,"keypress",this.onKeyPress.bind(this)),fabric.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),fabric.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(fabric.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},_keysMap:{8:"removeChars",13:"insertNewline",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown",46:"forwardDelete",27:"exitEditing"},_ctrlKeysMap:{65:"selectAll",88:"cut"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(e){if(this.isEditing){if(e.keyCode in this._keysMap)this[this._keysMap[e.keyCode]](e);else if(e.keyCode in this._ctrlKeysMap&&(e.ctrlKey||e.metaKey))this[this._ctrlKeysMap[e.keyCode]](e);else return;e.stopPropagation(),this.canvas&&this.canvas.renderAll()}},forwardDelete:function(e){this.selectionStart===this.selectionEnd&&this.moveCursorRight(e),this.removeChars(e)},copy:function(e){var t=this.getSelectedText(),r=this._getClipboardData(e);r&&r.setData("text",t),this.copiedText=t},paste:function(e){var t=null,r=this._getClipboardData(e);r?t=r.getData("text"):t=this.copiedText,t&&(this.insertChars(t),e.preventDefault())},cut:function(e){this.selectionStart!==this.selectionEnd&&(this.copy(),this.removeChars(e))},_getClipboardData:function(e){return e&&(e.clipboardData||fabric.window.clipboardData)},onKeyPress:function(e){!this.isEditing||e.metaKey||e.ctrlKey||e.keyCode===8||e.keyCode===13||(this.insertChars(String.fromCharCode(e.which)),e.stopPropagation(),e.preventDefault())},getDownCursorOffset:function(e,t){var r=t?this.selectionEnd:this.selectionStart,o=this.text.split(this._reNewline),i,n,s=this.text.slice(0,r),a=this.text.slice(r),l=s.slice(s.lastIndexOf(`
`)+1),c=a.match(/(.*)\n?/)[1],u=(a.match(/.*\n(.*)\n?/)||{})[1]||"",p=this.get2DCursorLocation(r);if(p.lineIndex===o.length-1||e.metaKey)return this.text.length-r;var m=this._getWidthOfLine(this.ctx,p.lineIndex,o);n=this._getLineLeftOffset(m);for(var h=n,f=p.lineIndex,x=0,v=l.length;x<v;x++)i=l[x],h+=this._getWidthOfChar(this.ctx,i,f,x);var b=this._getIndexOnNextLine(p,u,h,o);return c.length+1+b},_getIndexOnNextLine:function(e,t,r,o){for(var i=e.lineIndex+1,n=this._getWidthOfLine(this.ctx,i,o),s=this._getLineLeftOffset(n),a=s,l=0,c,u=0,p=t.length;u<p;u++){var m=t[u],h=this._getWidthOfChar(this.ctx,m,i,u);if(a+=h,a>r){c=!0;var f=a-h,x=a,v=Math.abs(f-r),b=Math.abs(x-r);l=b<v?u+1:u;break}}return c||(l=t.length),l},moveCursorDown:function(e){this.abortCursorAnimation(),this._currentCursorOpacity=1;var t=this.getDownCursorOffset(e,this._selectionDirection==="right");e.shiftKey?this.moveCursorDownWithShift(t):this.moveCursorDownWithoutShift(t),this.initDelayedCursor()},moveCursorDownWithoutShift:function(e){this._selectionDirection="right",this.selectionStart+=e,this.selectionStart>this.text.length&&(this.selectionStart=this.text.length),this.selectionEnd=this.selectionStart},moveCursorDownWithShift:function(e){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd){this.selectionStart+=e,this._selectionDirection="left";return}else this._selectionDirection="right",this.selectionEnd+=e,this.selectionEnd>this.text.length&&(this.selectionEnd=this.text.length)},getUpCursorOffset:function(e,t){var r=t?this.selectionEnd:this.selectionStart,o=this.get2DCursorLocation(r);if(o.lineIndex===0||e.metaKey)return r;for(var i=this.text.slice(0,r),n=i.slice(i.lastIndexOf(`
`)+1),s=(i.match(/\n?(.*)\n.*$/)||{})[1]||"",a=this.text.split(this._reNewline),l,c=this._getWidthOfLine(this.ctx,o.lineIndex,a),u=this._getLineLeftOffset(c),p=u,m=o.lineIndex,h=0,f=n.length;h<f;h++)l=n[h],p+=this._getWidthOfChar(this.ctx,l,m,h);var x=this._getIndexOnPrevLine(o,s,p,a);return s.length-x+n.length},_getIndexOnPrevLine:function(e,t,r,o){for(var i=e.lineIndex-1,n=this._getWidthOfLine(this.ctx,i,o),s=this._getLineLeftOffset(n),a=s,l=0,c,u=0,p=t.length;u<p;u++){var m=t[u],h=this._getWidthOfChar(this.ctx,m,i,u);if(a+=h,a>r){c=!0;var f=a-h,x=a,v=Math.abs(f-r),b=Math.abs(x-r);l=b<v?u:u-1;break}}return c||(l=t.length-1),l},moveCursorUp:function(e){this.abortCursorAnimation(),this._currentCursorOpacity=1;var t=this.getUpCursorOffset(e,this._selectionDirection==="right");e.shiftKey?this.moveCursorUpWithShift(t):this.moveCursorUpWithoutShift(t),this.initDelayedCursor()},moveCursorUpWithShift:function(e){if(this.selectionStart===this.selectionEnd)this.selectionStart-=e;else if(this._selectionDirection==="right"){this.selectionEnd-=e,this._selectionDirection="right";return}else this.selectionStart-=e;this.selectionStart<0&&(this.selectionStart=0),this._selectionDirection="left"},moveCursorUpWithoutShift:function(e){this.selectionStart===this.selectionEnd&&(this.selectionStart-=e),this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd=this.selectionStart,this._selectionDirection="left"},moveCursorLeft:function(e){this.selectionStart===0&&this.selectionEnd===0||(this.abortCursorAnimation(),this._currentCursorOpacity=1,e.shiftKey?this.moveCursorLeftWithShift(e):this.moveCursorLeftWithoutShift(e),this.initDelayedCursor())},_move:function(e,t,r){e.altKey?this[t]=this["findWordBoundary"+r](this[t]):e.metaKey?this[t]=this["findLineBoundary"+r](this[t]):this[t]+=r==="Left"?-1:1},_moveLeft:function(e,t){this._move(e,t,"Left")},_moveRight:function(e,t){this._move(e,t,"Right")},moveCursorLeftWithoutShift:function(e){this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this._moveLeft(e,"selectionStart"),this.selectionEnd=this.selectionStart},moveCursorLeftWithShift:function(e){this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):(this._selectionDirection="left",this._moveLeft(e,"selectionStart"),this.text.charAt(this.selectionStart)===`
`&&this.selectionStart--,this.selectionStart<0&&(this.selectionStart=0))},moveCursorRight:function(e){this.selectionStart>=this.text.length&&this.selectionEnd>=this.text.length||(this.abortCursorAnimation(),this._currentCursorOpacity=1,e.shiftKey?this.moveCursorRightWithShift(e):this.moveCursorRightWithoutShift(e),this.initDelayedCursor())},moveCursorRightWithShift:function(e){this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):(this._selectionDirection="right",this._moveRight(e,"selectionEnd"),this.text.charAt(this.selectionEnd-1)===`
`&&this.selectionEnd++,this.selectionEnd>this.text.length&&(this.selectionEnd=this.text.length))},moveCursorRightWithoutShift:function(e){this._selectionDirection="right",this.selectionStart===this.selectionEnd?(this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):(this.selectionEnd+=this.getNumNewLinesInSelectedText(),this.selectionEnd>this.text.length&&(this.selectionEnd=this.text.length),this.selectionStart=this.selectionEnd)},removeChars:function(e){this.selectionStart===this.selectionEnd?this._removeCharsNearCursor(e):this._removeCharsFromTo(this.selectionStart,this.selectionEnd),this.selectionEnd=this.selectionStart,this.canvas&&this.canvas.volumeActions?this.canvas.volumeActions.setText(this.canvas,this.text):(this.canvas&&this.canvas.renderAll().renderAll(),this.setCoords(),this.fire("changed"),this.canvas&&this.canvas.fire("text:changed",{target:this})),e.preventDefault()},_removeCharsNearCursor:function(e){if(this.selectionStart!==0){if(e.metaKey){var t=this.findLineBoundaryLeft(this.selectionStart);this._removeCharsFromTo(t,this.selectionStart),this.selectionStart=t}else if(e.altKey){var r=this.findWordBoundaryLeft(this.selectionStart);this._removeCharsFromTo(r,this.selectionStart),this.selectionStart=r}else this.selectionStart--,this.text=this.text.slice(0,this.selectionStart)+this.text.slice(this.selectionStart+1);e.preventDefault()}}});(function(){var e=fabric.util.object.clone;fabric.EText=fabric.util.createClass(fabric.IText,{type:"e-text",asPath:null,initialize:function(t,r){r.pathObject&&(this.asPath=new fabric.Path(r.pathObject.path,r.pathObject)),this.callSuper("initialize",t,r)},render:function(t){!this.isEditing&&this.asPath?this.asPath.render(t):this.callSuper("render",t)}}),fabric.EText.fromObject=function(t){return new fabric.EText(t.text,e(t))}})(l_)});var hce=we(fce=>{"use strict";(function(e){"use strict";var t=fabric.util.object.extend,r={x1:1,x2:1,y1:1,y2:1};if(fabric.Line){fabric.warn("fabric.Line is already defined");return}fabric.Line=fabric.util.createClass(fabric.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,initialize:function(i,n){n=n||{},i||(i=[0,0,0,0]),this.callSuper("initialize",n),this.set("x1",i[0]),this.set("y1",i[1]),this.set("x2",i[2]),this.set("y2",i[3]),this._setWidthHeight(n)},_setWidthHeight:function(i){i||(i={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in i?i.left:this._getLeftToOriginX(),this.top="top"in i?i.top:this._getTopToOriginY()},_set:function(i,n){return this[i]=n,typeof r[i]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:o({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:o({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(i){i.beginPath();var n=this.group&&this.group.type==="path-group";if(n){var s=this.getCenterPoint();i.translate(s.x,s.y),this.transformMatrix||i.translate(-this.group.width/2,-this.group.height/2)}if(!this.strokeDashArray||this.strokeDashArray&&fabric.StaticCanvas.supports("setLineDash")){var a=this.x1<=this.x2?-1:1,l=this.y1<=this.y2?-1:1;i.moveTo(a*this.width/2,l*this.height/2),i.lineTo(a*-1*this.width/2,l*-1*this.height/2)}i.lineWidth=this.strokeWidth;var c=i.strokeStyle;i.strokeStyle=this.stroke||i.fillStyle,this.stroke&&this._renderStroke(i),i.strokeStyle=c},_renderDashedStroke:function(i){var n=this.x1<=this.x2?-1:1,s=this.y1<=this.y2?-1:1,a=n*this.width/2,l=s*this.height/2;i.beginPath(),fabric.util.drawDashedLine(i,a,l,-a,-l,this.strokeDashArray),i.closePath()},toObject:function(i){return t(this.callSuper("toObject",i),{x1:this.get("x1"),y1:this.get("y1"),x2:this.get("x2"),y2:this.get("y2")})},toSVG:function(i){var n=this._createBaseSVGMarkup();return n.push("<line ",'x1="',this.get("x1"),'" y1="',this.get("y1"),'" x2="',this.get("x2"),'" y2="',this.get("y2"),'" style="',this.getSvgStyles(),'"/>'),i?i(n.join("")):n.join("")},complexity:function(){return 1}}),fabric.Line.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),fabric.Line.fromElement=function(i,n){var s=fabric.parseAttributes(i,fabric.Line.ATTRIBUTE_NAMES),a=[s.x1||0,s.y1||0,s.x2||0,s.y2||0];return new fabric.Line(a,t(s,n))},fabric.Line.fromObject=function(i){var n=[i.x1,i.y1,i.x2,i.y2];return new fabric.Line(n,i)};function o(i,n){var s=i.origin,a=i.axis1,l=i.axis2,c=i.dimension,u=n.nearest,p=n.center,m=n.farthest;return function(){switch(this.get(s)){case u:return Math.min(this.get(a),this.get(l));case p:return Math.min(this.get(a),this.get(l))+.5*this.get(c);case m:return Math.max(this.get(a),this.get(l))}}}})(fce)});var yce=we(gce=>{"use strict";(function(e){"use strict";var t=fabric.util.array.min,r=fabric.util.array.max,o=fabric.util.object.extend,i=Object.prototype.toString,n=fabric.util.drawArc,s={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},a={m:"l",M:"L"};if(fabric.Path){fabric.warn("fabric.Path is already defined");return}function l(u){return u[0]==="H"?u[1]:u[u.length-2]}function c(u){return u[0]==="V"?u[1]:u[u.length-1]}fabric.Path=fabric.util.createClass(fabric.Object,{type:"path",path:null,initialize:function(u,p){p=p||{},this.setOptions(p),u||(u=[]);var m=i.call(u)==="[object Array]";this.path=m?u:u.match&&u.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(m||(this.path=this._parsePath()),this._initializePath(p),p.sourcePath&&this.setSourcePath(p.sourcePath))},_initializePath:function(u){var p="width"in u&&u.width!=null,m="height"in u&&u.width!=null,h="left"in u,f="top"in u,x=h?this.left:0,v=f?this.top:0;!p||!m?(o(this,this._parseDimensions()),p&&(this.width=u.width),m&&(this.height=u.height)):(f||(this.top=this.height/2),h||(this.left=this.width/2)),this.pathOffset=this.pathOffset||this._calculatePathOffset(x,v)},_calculatePathOffset:function(u,p){return{x:this.left-u-this.width/2,y:this.top-p-this.height/2}},_render:function(u,p){var m,h=null,f=0,x=0,v=0,b=0,S=0,w=0,_,E,T=-(this.width/2+this.pathOffset.x),A=-(this.height/2+this.pathOffset.y);p&&(T+=this.width/2,A+=this.height/2);for(var O=0,L=this.path.length;O<L;++O){switch(m=this.path[O],m[0]){case"l":v+=m[1],b+=m[2],u.lineTo(v+T,b+A);break;case"L":v=m[1],b=m[2],u.lineTo(v+T,b+A);break;case"h":v+=m[1],u.lineTo(v+T,b+A);break;case"H":v=m[1],u.lineTo(v+T,b+A);break;case"v":b+=m[1],u.lineTo(v+T,b+A);break;case"V":b=m[1],u.lineTo(v+T,b+A);break;case"m":v+=m[1],b+=m[2],f=v,x=b,u.moveTo(v+T,b+A);break;case"M":v=m[1],b=m[2],f=v,x=b,u.moveTo(v+T,b+A);break;case"c":_=v+m[5],E=b+m[6],S=v+m[3],w=b+m[4],u.bezierCurveTo(v+m[1]+T,b+m[2]+A,S+T,w+A,_+T,E+A),v=_,b=E;break;case"C":v=m[5],b=m[6],S=m[3],w=m[4],u.bezierCurveTo(m[1]+T,m[2]+A,S+T,w+A,v+T,b+A);break;case"s":_=v+m[3],E=b+m[4],h[0].match(/[CcSs]/)===null?(S=v,w=b):(S=2*v-S,w=2*b-w),u.bezierCurveTo(S+T,w+A,v+m[1]+T,b+m[2]+A,_+T,E+A),S=v+m[1],w=b+m[2],v=_,b=E;break;case"S":_=m[3],E=m[4],h[0].match(/[CcSs]/)===null?(S=v,w=b):(S=2*v-S,w=2*b-w),u.bezierCurveTo(S+T,w+A,m[1]+T,m[2]+A,_+T,E+A),v=_,b=E,S=m[1],w=m[2];break;case"q":_=v+m[3],E=b+m[4],S=v+m[1],w=b+m[2],u.quadraticCurveTo(S+T,w+A,_+T,E+A),v=_,b=E;break;case"Q":_=m[3],E=m[4],u.quadraticCurveTo(m[1]+T,m[2]+A,_+T,E+A),v=_,b=E,S=m[1],w=m[2];break;case"t":_=v+m[1],E=b+m[2],h[0].match(/[QqTt]/)===null?(S=v,w=b):(S=2*v-S,w=2*b-w),u.quadraticCurveTo(S+T,w+A,_+T,E+A),v=_,b=E;break;case"T":_=m[1],E=m[2],h[0].match(/[QqTt]/)===null?(S=v,w=b):(S=2*v-S,w=2*b-w),u.quadraticCurveTo(S+T,w+A,_+T,E+A),v=_,b=E;break;case"a":n(u,v+T,b+A,[m[1],m[2],m[3],m[4],m[5],m[6]+v+T,m[7]+b+A]),v+=m[6],b+=m[7];break;case"A":n(u,v+T,b+A,[m[1],m[2],m[3],m[4],m[5],m[6]+T,m[7]+A]),v=m[6],b=m[7];break;case"z":case"Z":v=f,b=x,u.closePath();break}h=m}},render:function(u,p){if(this.visible){u.save(),p&&u.translate(-this.width/2,-this.height/2);var m=this.transformMatrix;m&&u.transform(m[0],m[1],m[2],m[3],m[4],m[5]),p||this.transform(u),this._setStrokeStyles(u),this._setFillStyles(u),this.clipTo&&fabric.util.clipContext(this,u),u.beginPath(),u.globalAlpha=this.group?u.globalAlpha*this.opacity:this.opacity,this._render(u,p),this._renderFill(u),this._renderStroke(u),this.clipTo&&u.restore(),u.restore()}},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(u){var p=o(this.callSuper("toObject",u),{path:this.path.map(function(m){return m.slice()}),pathOffset:this.pathOffset});return this.sourcePath&&(p.sourcePath=this.sourcePath),this.transformMatrix&&(p.transformMatrix=this.transformMatrix),p},toDatalessObject:function(u){var p=this.toObject(u);return this.sourcePath&&(p.path=this.sourcePath),delete p.sourcePath,p},toSVG:function(u){for(var p=[],m=this._createBaseSVGMarkup(),h=0,f=this.path.length;h<f;h++)p.push(this.path[h].join(" "));var x=p.join(" ");return m.push('<g transform="',this.group?"":this.getSvgTransform(),'">',"<path ",'d="',x,'" style="',this.getSvgStyles(),'" transform="translate(',-this.width/2," ",-this.height/2,")",'" stroke-linecap="round" ',"/>","</g>"),u?u(m.join("")):m.join("")},complexity:function(){return this.path.length},_parsePath:function(){for(var u=[],p=[],m,h,f=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,x,v,b=0,S,w=this.path.length;b<w;b++){for(m=this.path[b],v=m.slice(1).trim(),p.length=0;x=f.exec(v);)p.push(x[0]);S=[m.charAt(0)];for(var _=0,E=p.length;_<E;_++)h=parseFloat(p[_]),isNaN(h)||S.push(h);var T=S[0],A=s[T.toLowerCase()],O=a[T]||T;if(S.length-1>A)for(var L=1,R=S.length;L<R;L+=A)u.push([T].concat(S.slice(L,L+A))),T=O;else u.push(S)}return u},_parseDimensions:function(){var u=[],p=[],m={};this.path.forEach(function(_,E){this._getCoordsFromCommand(_,E,u,p,m)},this);var h=t(u)||0,f=t(p)||0,x=r(u)||0,v=r(p)||0,b=x-h,S=v-f,w={left:this.left+(h+b/2),top:this.top+(f+S/2),width:b,height:S};return w},_getCoordsFromCommand:function(u,p,m,h,f){var x=!1;u[0]!=="H"&&(f.x=l(p===0?u:this.path[p-1])),u[0]!=="V"&&(f.y=c(p===0?u:this.path[p-1])),u[0]===u[0].toLowerCase()&&(x=!0);var v=this._getXY(u,x,f),b;b=parseInt(v.x,10),isNaN(b)||m.push(b),b=parseInt(v.y,10),isNaN(b)||h.push(b)},_getXY:function(u,p,m){var h=p?m.x+l(u):u[0]==="V"?m.x:l(u),f=p?m.y+c(u):u[0]==="H"?m.y:c(u);return{x:h,y:f}}}),fabric.Path.fromObject=function(u,p){p(new fabric.Path(u.path,u))},fabric.Path.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat(["d"]),fabric.Path.fromElement=function(u,p,m){var h=fabric.parseAttributes(u,fabric.Path.ATTRIBUTE_NAMES);p?.(new fabric.Path(h.d,o(h,m)))},fabric.Path.async=!0})(gce)});var bce=we(xce=>{"use strict";(function(e){"use strict";var t=fabric.util.object.extend,r=fabric.util.array.invoke,o=fabric.Object.prototype.toObject;if(fabric.PathGroup){fabric.warn("fabric.PathGroup is already defined");return}fabric.PathGroup=fabric.util.createClass(fabric.Path,{type:"path-group",fill:"",initialize:function(i,n){n=n||{},this.paths=i||[];for(var s=this.paths.length;s--;)this.paths[s].group=this;this.setOptions(n),n.widthAttr&&(this.scaleX=n.widthAttr/n.width),n.heightAttr&&(this.scaleY=n.heightAttr/n.height),this.setCoords(),n.sourcePath&&this.setSourcePath(n.sourcePath)},render:function(i){if(this.visible){i.save();var n=this.transformMatrix;n&&i.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(i),this.clipTo&&fabric.util.clipContext(this,i);for(var s=0,a=this.paths.length;s<a;++s)this.paths[s].render(i,!0);this.clipTo&&i.restore(),i.restore()}},_set:function(i,n){if(i==="fill"&&n&&this.isSameColor())for(var s=this.paths.length;s--;)this.paths[s]._set(i,n);return this.callSuper("_set",i,n)},toObject:function(i){var n=t(o.call(this,i),{paths:r(this.getObjects(),"toObject",i)});return this.sourcePath&&(n.sourcePath=this.sourcePath),n},toDatalessObject:function(i){var n=this.toObject(i);return this.sourcePath&&(n.paths=this.sourcePath),n},toSVG:function(i){for(var n=this.getObjects(),s=["<g ",'style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransform(),'" ',">"],a=0,l=n.length;a<l;a++)s.push(n[a].toSVG(i));return s.push("</g>"),i?i(s.join("")):s.join("")},toString:function(){return"#<fabric.PathGroup ("+this.complexity()+"): { top: "+this.top+", left: "+this.left+" }>"},isSameColor:function(){var i=(this.getObjects()[0].get("fill")||"").toLowerCase();return this.getObjects().every(function(n){return(n.get("fill")||"").toLowerCase()===i})},complexity:function(){return this.paths.reduce(function(i,n){return i+(n&&n.complexity?n.complexity():0)},0)},getObjects:function(){return this.paths}}),fabric.PathGroup.fromObject=function(i,n){fabric.util.enlivenObjects(i.paths,function(s){delete i.paths,n(new fabric.PathGroup(s,i))})},fabric.PathGroup.async=!0})(xce)});var Sce=we(vce=>{"use strict";(function(e){"use strict";var t=fabric.util.object.extend,r=fabric.util.array.min,o=fabric.util.array.max,i=fabric.util.toFixed;if(fabric.Polygon){fabric.warn("fabric.Polygon is already defined");return}fabric.Polygon=fabric.util.createClass(fabric.Object,{type:"polygon",points:null,initialize:function(n,s,a){s=s||{},this.points=n,this.callSuper("initialize",s),this._calcDimensions(a)},_calcDimensions:function(n){var s=this.points,a=r(s,"x"),l=r(s,"y"),c=o(s,"x"),u=o(s,"y");if(this.width=c-a||1,this.height=u-l||1,this.minX=a,this.minY=l,!n){var p=this.width/2+this.minX,m=this.height/2+this.minY;this.points.forEach(function(h){h.x-=p,h.y-=m},this)}},toObject:function(n){return t(this.callSuper("toObject",n),{points:this.points.concat()})},toSVG:function(n){for(var s=[],a=this._createBaseSVGMarkup(),l=0,c=this.points.length;l<c;l++)s.push(i(this.points[l].x,2),",",i(this.points[l].y,2)," ");return a.push("<polygon ",'points="',s.join(""),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>'),n?n(a.join("")):a.join("")},_render:function(n){var s;n.beginPath(),n.globalAlpha=this.group?n.globalAlpha*this.opacity:this.opacity,n.moveTo(this.points[0].x,this.points[0].y);for(var a=0,l=this.points.length;a<l;a++)s=this.points[a],n.lineTo(s.x,s.y);this._renderFill(n),(this.stroke||this.strokeDashArray)&&(n.closePath(),this._renderStroke(n))},_renderDashedStroke:function(n){var s,a;n.beginPath();for(var l=0,c=this.points.length;l<c;l++)s=this.points[l],a=this.points[l+1]||this.points[0],fabric.util.drawDashedLine(n,s.x,s.y,a.x,a.y,this.strokeDashArray);n.closePath()},complexity:function(){return this.points.length}}),fabric.Polygon.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat(),fabric.Polygon.fromElement=function(n,s){if(!n)return null;s||(s={});var a=fabric.parsePointsAttribute(n.getAttribute("points")),l=fabric.parseAttributes(n,fabric.Polygon.ATTRIBUTE_NAMES);return new fabric.Polygon(a,t(l,s),!0)},fabric.Polygon.fromObject=function(n){return new fabric.Polygon(n.points,n,!0)}})(vce)});var Pce=we(Cce=>{"use strict";(function(e){"use strict";var t=fabric.util.toFixed;if(fabric.Polyline){fabric.warn("fabric.Polyline is already defined");return}fabric.Polyline=fabric.util.createClass(fabric.Object,{type:"polyline",points:null,initialize:function(r,o,i){o=o||{},this.set("points",r),this.callSuper("initialize",o),this._calcDimensions(i)},_calcDimensions:function(r){return fabric.Polygon.prototype._calcDimensions.call(this,r)},toObject:function(r){return fabric.Polygon.prototype.toObject.call(this,r)},toSVG:function(r){for(var o=[],i=this._createBaseSVGMarkup(),n=0,s=this.points.length;n<s;n++)o.push(t(this.points[n].x,2),",",t(this.points[n].y,2)," ");return i.push("<polyline ",'points="',o.join(""),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>'),r?r(i.join("")):i.join("")},_render:function(r){var o;r.beginPath(),r.moveTo(this.points[0].x,this.points[0].y);for(var i=0,n=this.points.length;i<n;i++)o=this.points[i],r.lineTo(o.x,o.y);this._renderFill(r),this._renderStroke(r)},_renderDashedStroke:function(r){var o,i;r.beginPath();for(var n=0,s=this.points.length;n<s;n++)o=this.points[n],i=this.points[n+1]||o,fabric.util.drawDashedLine(r,o.x,o.y,i.x,i.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),fabric.Polyline.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat(),fabric.Polyline.fromElement=function(r,o){if(!r)return null;o||(o={});var i=fabric.parsePointsAttribute(r.getAttribute("points")),n=fabric.parseAttributes(r,fabric.Polyline.ATTRIBUTE_NAMES);return new fabric.Polyline(i,fabric.util.object.extend(n,o),!0)},fabric.Polyline.fromObject=function(r){var o=r.points;return new fabric.Polyline(o,r,!0)}})(Cce)});var _ce=we(wce=>{"use strict";(function(e){"use strict";var t=fabric.util.object.extend;if(fabric.Rect){console.warn("fabric.Rect is already defined");return}var r=fabric.Object.prototype.stateProperties.concat();r.push("rx","ry","x","y"),fabric.Rect=fabric.util.createClass(fabric.Object,{stateProperties:r,type:"rect",rx:0,ry:0,x:0,y:0,strokeDashArray:null,initialize:function(i){i=i||{},this.callSuper("initialize",i),this._initRxRy(),this.x=i.x||0,this.y=i.y||0},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(i){if(this.width===1&&this.height===1){i.fillRect(0,0,1,1);return}var n=this.rx?Math.min(this.rx,this.width/2):0,s=this.ry?Math.min(this.ry,this.height/2):0,a=this.width,l=this.height,c=-a/2,u=-l/2,p=this.group&&this.group.type==="path-group",m=n!==0||s!==0,h=1-.5522847498;i.beginPath(),i.globalAlpha=p?i.globalAlpha*this.opacity:this.opacity,this.transformMatrix&&p&&i.translate(this.width/2+this.x,this.height/2+this.y),!this.transformMatrix&&p&&i.translate(-this.group.width/2+this.width/2+this.x,-this.group.height/2+this.height/2+this.y),i.moveTo(c+n,u),i.lineTo(c+a-n,u),m&&i.bezierCurveTo(c+a-h*n,u,c+a,u+h*s,c+a,u+s),i.lineTo(c+a,u+l-s),m&&i.bezierCurveTo(c+a,u+l-h*s,c+a-h*n,u+l,c+a-n,u+l),i.lineTo(c+n,u+l),m&&i.bezierCurveTo(c+h*n,u+l,c,u+l-h*s,c,u+l-s),i.lineTo(c,u+s),m&&i.bezierCurveTo(c,u+h*s,c+h*n,u,c+n,u),i.closePath(),this._renderFill(i),this._renderStroke(i)},_renderDashedStroke:function(i){var n=-this.width/2,s=-this.height/2,a=this.width,l=this.height;i.beginPath(),fabric.util.drawDashedLine(i,n,s,n+a,s,this.strokeDashArray),fabric.util.drawDashedLine(i,n+a,s,n+a,s+l,this.strokeDashArray),fabric.util.drawDashedLine(i,n+a,s+l,n,s+l,this.strokeDashArray),fabric.util.drawDashedLine(i,n,s+l,n,s,this.strokeDashArray),i.closePath()},_normalizeLeftTopProperties:function(i){return"left"in i&&this.set("left",i.left+this.getWidth()/2),this.set("x",i.left||0),"top"in i&&this.set("top",i.top+this.getHeight()/2),this.set("y",i.top||0),this},toObject:function(i){var n=t(this.callSuper("toObject",i),{rx:this.get("rx")||0,ry:this.get("ry")||0,x:this.get("x"),y:this.get("y")});return this.includeDefaultValues||this._removeDefaultValues(n),n},toSVG:function(i){var n=this._createBaseSVGMarkup();return n.push("<rect ",'x="',-1*this.width/2,'" y="',-1*this.height/2,'" rx="',this.get("rx"),'" ry="',this.get("ry"),'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>'),i?i(n.join("")):n.join("")},complexity:function(){return 1}}),fabric.Rect.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" "));function o(i){return i.left=i.left||0,i.top=i.top||0,i}fabric.Rect.fromElement=function(i,n){if(!i)return null;var s=fabric.parseAttributes(i,fabric.Rect.ATTRIBUTE_NAMES);s=o(s);var a=new fabric.Rect(t(n?fabric.util.object.clone(n):{},s));return a._normalizeLeftTopProperties(s),a},fabric.Rect.fromObject=function(i){return new fabric.Rect(i)}})(wce)});var kce=we(()=>{"use strict";(function(){"use strict";if(fabric.StaticCanvas){fabric.warn("fabric.StaticCanvas is already defined.");return}var e=fabric.util.object.extend,t=fabric.util.getElementOffset,r=fabric.util.removeFromArray,o=new Error("Could not initialize `canvas` element");fabric.StaticCanvas=fabric.util.createClass({initialize:function(i,n){n||(n={}),this._initStatic(i,n),fabric.StaticCanvas.activeInstance=this},backgroundColor:"",overlayColor:"",includeDefaultValues:!0,stateful:!0,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:[1,0,0,1,0,0],onBeforeScaleRotate:function(){},_initStatic:function(i,n){this._objects=[],this._createLowerCanvas(i),this._initOptions(n),this._setImageSmoothing(),n.backgroundColor&&this.setBackgroundColor(n.backgroundColor,this.renderAll.bind(this)),n.overlayColor&&this.setOverlayColor(n.overlayColor,this.renderAll.bind(this)),this.calcOffset()},calcOffset:function(){return this._offset=t(this.lowerCanvasEl),this},setOverlayColor:function(i,n){return this.__setBgOverlayColor("overlayColor",i,n)},setBackgroundColor:function(i,n){return this.__setBgOverlayColor("backgroundColor",i,n)},_setImageSmoothing:function(){var i=this.getContext();i.imageSmoothingEnabled=this.imageSmoothingEnabled,i.webkitImageSmoothingEnabled=this.imageSmoothingEnabled,i.msImageSmoothingEnabled=this.imageSmoothingEnabled,i.oImageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayColor:function(i,n,s){return this[i]=n,s?.(),this},_createCanvasElement:function(){var i=fabric.document.createElement("canvas");if(i.style||(i.style={}),!i)throw o;return this._initCanvasElement(i),i},_initCanvasElement:function(i){if(fabric.util.createCanvasElement(i),typeof i.getContext>"u")throw o},_initOptions:function(i){for(var n in i)this[n]=i[n];this.width=this.width||parseInt(this.lowerCanvasEl.width,10)||0,this.height=this.height||parseInt(this.lowerCanvasEl.height,10)||0,this.lowerCanvasEl.style&&(this.lowerCanvasEl.width=this.width,this.lowerCanvasEl.height=this.height,this.lowerCanvasEl.style.width=this.width+"px",this.lowerCanvasEl.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(i){this.lowerCanvasEl=fabric.util.getById(i)||this._createCanvasElement(),this._initCanvasElement(this.lowerCanvasEl),fabric.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(i){return this._setDimension("width",i)},setHeight:function(i){return this._setDimension("height",i)},setDimensions:function(i){for(var n in i)this._setDimension(n,i[n]);return this},_setDimension:function(i,n){return this.lowerCanvasEl[i]=n,this.lowerCanvasEl.style[i]=n+"px",this.upperCanvasEl&&(this.upperCanvasEl[i]=n,this.upperCanvasEl.style[i]=n+"px"),this.cacheCanvasEl&&(this.cacheCanvasEl[i]=n),this.wrapperEl&&(this.wrapperEl.style[i]=n+"px"),this[i]=n,this.calcOffset(),this.renderAll(),this},getZoom:function(){return Math.sqrt(this.viewportTransform[0]*this.viewportTransform[3])},setViewportTransform:function(i){var n=this.getActiveGroup();this.viewportTransform=i,this.renderAll();for(var s=0,a=this._objects.length;s<a;s++)this._objects[s].setCoords();return n&&n.setCoords(),this},zoomToPoint:function(i,n){var s=i;i=fabric.util.transformPoint(i,fabric.util.invertTransform(this.viewportTransform)),this.viewportTransform[0]=n,this.viewportTransform[3]=n;var a=fabric.util.transformPoint(i,this.viewportTransform);this.viewportTransform[4]+=s.x-a.x,this.viewportTransform[5]+=s.y-a.y,this.renderAll();for(var l=0,c=this._objects.length;l<c;l++)this._objects[l].setCoords();return this},setZoom:function(i){return this.zoomToPoint(new fabric.Point(0,0),i),this},absolutePan:function(i){this.viewportTransform[4]=-i.x,this.viewportTransform[5]=-i.y,this.renderAll();for(var n=0,s=this._objects.length;n<s;n++)this._objects[n].setCoords();return this},relativePan:function(i){return this.absolutePan(new fabric.Point(-i.x-this.viewportTransform[4],-i.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},getActiveObject:function(){return null},getActiveGroup:function(){return null},_draw:function(i,n){if(n){i.save();var s=this.viewportTransform;i.transform(s[0],s[1],s[2],s[3],s[4],s[5]),n.render(i),i.restore(),this.controlsAboveOverlay||n._renderControls(i)}},_onObjectAdded:function(i){this.stateful&&i.setupState(),i.canvas=this,i.setCoords(),this.fire("object:added",{target:i}),i.fire("added")},_onObjectRemoved:function(i){this.getActiveObject()===i&&(this.fire("before:selection:cleared",{target:i}),this._discardActiveObject(),this.fire("selection:cleared")),this.fire("object:removed",{target:i}),i.fire("removed")},clearContext:function(i){return i.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.discardActiveGroup&&this.discardActiveGroup(),this.discardActiveObject&&this.discardActiveObject(),this.clearContext(this.contextContainer),this.contextTop&&this.clearContext(this.contextTop),this.fire("canvas:cleared"),this.renderAll(),this},renderAll:function(i){return this},doRenderAll:function(i){var n=this[i===!0&&this.interactive?"contextTop":"contextContainer"],s=this.getActiveGroup();return this.contextTop&&this.selection&&!this._groupSelector&&this.clearContext(this.contextTop),i||this.clearContext(n),this.fire("before:render"),this.clipTo&&fabric.util.clipContext(this,n),this._renderBackground(n),this._renderObjects(n,s),this._renderActiveGroup(n,s),this.clipTo&&n.restore(),this._renderOverlay(n),this.controlsAboveOverlay&&this.interactive&&this.drawControls(n),this.fire("after:render"),this},_renderObjects:function(i,n){var s,a;if(n)for(s=0,a=this._objects.length;s<a;++s)this._objects[s]&&!n.contains(this._objects[s])&&this._draw(i,this._objects[s]);else for(s=0,a=this._objects.length;s<a;++s)this._draw(i,this._objects[s])},_renderActiveGroup:function(i,n){if(n){var s=[];this.forEachObject(function(a){n.contains(a)&&s.push(a)}),n._set("objects",s),this._draw(i,n)}},_renderBackground:function(i){this.backgroundColor&&(i.fillStyle=this.backgroundColor.toLive?this.backgroundColor.toLive(i):this.backgroundColor,i.fillRect(this.backgroundColor.offsetX||0,this.backgroundColor.offsetY||0,this.width,this.height))},_renderOverlay:function(i){this.overlayColor&&(i.fillStyle=this.overlayColor.toLive?this.overlayColor.toLive(i):this.overlayColor,i.fillRect(this.overlayColor.offsetX||0,this.overlayColor.offsetY||0,this.width,this.height))},renderTop:function(){var i=this.contextTop||this.contextContainer;this.clearContext(i),this.selection&&this._groupSelector&&this._drawSelection();var n=this.getActiveGroup();return n&&n.render(i),this._renderOverlay(i),this.fire("after:render"),this},getCenter:function(){return{top:this.getHeight()/2,left:this.getWidth()/2}},centerObjectH:function(i){return this._centerObject(i,new fabric.Point(this.getCenter().left,i.getCenterPoint().y)),this.renderAll(),this},centerObjectV:function(i){return this._centerObject(i,new fabric.Point(i.getCenterPoint().x,this.getCenter().top)),this.renderAll(),this},centerObject:function(i){var n=this.getCenter();return this._centerObject(i,new fabric.Point(n.left,n.top)),this.renderAll(),this},_centerObject:function(i,n){return i.setPositionByOrigin(n,"center","center"),this},toDatalessJSON:function(i){return this.toDatalessObject(i)},toObject:function(i){return this._toObjectMethod("toObject",i)},toDatalessObject:function(i){return this._toObjectMethod("toDatalessObject",i)},_toObjectMethod:function(i,n){var s={objects:this._toObjects(i,n)};return e(s,this.__serializeBgOverlay()),fabric.util.populateWithProperties(this,s,n),s},_toObjects:function(i,n){return this.getObjects().map(function(s){return this._toObject(s,i,n)},this)},_toObject:function(i,n,s){var a;this.includeDefaultValues||(a=i.includeDefaultValues,i.includeDefaultValues=!1);var l=this._realizeGroupTransformOnObject(i),c=i[n](s);return this.includeDefaultValues||(i.includeDefaultValues=a),this._unwindGroupTransformOnObject(i,l),c},_realizeGroupTransformOnObject:function(i){var n=["angle","flipX","flipY","height","left","scaleX","scaleY","top","width"];if(i.group&&i.group===this.getActiveGroup()){var s={};return n.forEach(function(a){s[a]=i[a]}),this.getActiveGroup().realizeTransform(i),s}else return null},_unwindGroupTransformOnObject:function(i,n){n&&i.set(n)},__serializeBgOverlay:function(){var i={background:this.backgroundColor&&this.backgroundColor.toObject?this.backgroundColor.toObject():this.backgroundColor};return this.overlayColor&&(i.overlay=this.overlayColor.toObject?this.overlayColor.toObject():this.overlayColor),i},toSVG:function(i,n){i||(i={});var s=[];return this._setSVGPreamble(s,i),this._setSVGHeader(s,i),this._setSVGBgOverlayColor(s,"backgroundColor"),this._setSVGObjects(s,n),this._setSVGBgOverlayColor(s,"overlayColor"),s.push("</svg>"),s.join("")},_setSVGPreamble:function(i,n){n.suppressPreamble||i.push('<?xml version="1.0" encoding="',n.encoding||"UTF-8",'" standalone="no" ?>','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(i,n){i.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n.viewBox?n.viewBox.width:this.width,'" ','height="',n.viewBox?n.viewBox.height:this.height,'" ',this.backgroundColor&&!this.backgroundColor.toLive?'style="background-color: '+this.backgroundColor+'" ':null,n.viewBox?'viewBox="'+n.viewBox.x+" "+n.viewBox.y+" "+n.viewBox.width+" "+n.viewBox.height+'" ':null,'xml:space="preserve">',"<desc>Created with Fabric.js ",fabric.version,"</desc>","<defs>",fabric.createSVGFontFacesMarkup(this.getObjects()),fabric.createSVGRefElementsMarkup(this),"</defs>")},_setSVGObjects:function(i,n){for(var s=0,a=this.getObjects(),l=a.length;s<l;s++){var c=a[s],u=this._realizeGroupTransformOnObject(c);i.push(c.toSVG(n)),this._unwindGroupTransformOnObject(c,u)}},_setSVGBgOverlayColor:function(i,n){this[n]&&n==="overlayColor"&&i.push('<rect x="0" y="0" ','width="',this.width,'" height="',this.height,'" fill="',this[n],'"',"></rect>")},sendToBack:function(i){return r(this._objects,i),this._objects.unshift(i),this.renderAll&&this.renderAll()},bringToFront:function(i){return r(this._objects,i),this._objects.push(i),this.renderAll&&this.renderAll()},sendBackwards:function(i,n){var s=this._objects.indexOf(i);if(s!==0){var a=this._findNewLowerIndex(i,s,n);r(this._objects,i),this._objects.splice(a,0,i),this.renderAll&&this.renderAll()}return this},_findNewLowerIndex:function(i,n,s){var a;if(s){a=n;for(var l=n-1;l>=0;--l){var c=i.intersectsWithObject(this._objects[l])||i.isContainedWithinObject(this._objects[l])||this._objects[l].isContainedWithinObject(i);if(c){a=l;break}}}else a=n-1;return a},bringForward:function(i,n){var s=this._objects.indexOf(i);if(s!==this._objects.length-1){var a=this._findNewUpperIndex(i,s,n);r(this._objects,i),this._objects.splice(a,0,i),this.renderAll&&this.renderAll()}return this},_findNewUpperIndex:function(i,n,s){var a;if(s){a=n;for(var l=n+1;l<this._objects.length;++l){var c=i.intersectsWithObject(this._objects[l])||i.isContainedWithinObject(this._objects[l])||this._objects[l].isContainedWithinObject(i);if(c){a=l;break}}}else a=n+1;return a},moveTo:function(i,n){return r(this._objects,i),this._objects.splice(n,0,i),this.renderAll&&this.renderAll()},dispose:function(){return this.clear(),this.interactive&&this.removeListeners(),this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this.getObjects().length+" }>"}}),e(fabric.StaticCanvas.prototype,fabric.Observable),e(fabric.StaticCanvas.prototype,fabric.Collection),e(fabric.StaticCanvas.prototype,fabric.DataURLExporter),e(fabric.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(i){var n=fabric.util.createCanvasElement();if(!n||!n.getContext)return null;var s=n.getContext("2d");if(!s)return null;switch(i){case"getImageData":return typeof s.getImageData<"u";case"setLineDash":return typeof s.setLineDash<"u";case"toDataURL":return typeof n.toDataURL<"u";case"toDataURLWithQuality":try{return n.toDataURL("image/jpeg",0),!0}catch{}return!1;default:return null}}}),fabric.StaticCanvas.prototype.toJSON=fabric.StaticCanvas.prototype.toObject})();fabric.util.object.extend(fabric.StaticCanvas.prototype,{toDataURL:function(e){e||(e={});var t=e.format||"png",r=e.quality||1,o=e.multiplier||1,i={left:e.left,top:e.top,width:e.width,height:e.height};return o!==1?this.__toDataURLWithMultiplier(t,r,i,o):this.__toDataURL(t,r,i)},__toDataURL:function(e,t,r){this.renderAll(!0);var o=this.upperCanvasEl||this.lowerCanvasEl,i=this.__getCroppedCanvas(o,r);e==="jpg"&&(e="jpeg");var n=fabric.StaticCanvas.supports("toDataURLWithQuality")?(i||o).toDataURL("image/"+e,t):(i||o).toDataURL("image/"+e);return this.contextTop&&this.clearContext(this.contextTop),this.renderAll(),i&&(i=null),n},__getCroppedCanvas:function(e,t){var r,o,i="left"in t||"top"in t||"width"in t||"height"in t;return i&&(r=fabric.util.createCanvasElement(),o=r.getContext("2d"),r.width=t.width||this.width,r.height=t.height||this.height,o.drawImage(e,-t.left||0,-t.top||0)),r},__toDataURLWithMultiplier:function(e,t,r,o){var i=this.getWidth(),n=this.getHeight(),s=i*o,a=n*o,l=this.getActiveObject(),c=this.getActiveGroup(),u=this.contextTop||this.contextContainer;o>1&&this.setWidth(s).setHeight(a),u.scale(o,o),r.left&&(r.left*=o),r.top&&(r.top*=o),r.width?r.width*=o:o<1&&(r.width=s),r.height?r.height*=o:o<1&&(r.height=a),c?this._tempRemoveBordersControlsFromGroup(c):l&&this.deactivateAll&&this.deactivateAll(),this.renderAll(!0);var p=this.__toDataURL(e,t,r);return this.width=i,this.height=n,u.scale(1/o,1/o),this.setWidth(i).setHeight(n),c?this._restoreBordersControlsOnGroup(c):l&&this.setActiveObject&&this.setActiveObject(l),this.contextTop&&this.clearContext(this.contextTop),this.renderAll(),p},toDataURLWithMultiplier:function(e,t,r){return this.toDataURL({format:e,multiplier:t,quality:r})},_tempRemoveBordersControlsFromGroup:function(e){e.origHasControls=e.hasControls,e.origBorderColor=e.borderColor,e.hasControls=!0,e.borderColor="rgba(0,0,0,0)",e.forEachObject(function(t){t.origBorderColor=t.borderColor,t.borderColor="rgba(0,0,0,0)"})},_restoreBordersControlsOnGroup:function(e){e.hideControls=e.origHideControls,e.borderColor=e.origBorderColor,e.forEachObject(function(t){t.borderColor=t.origBorderColor,delete t.origBorderColor})}});fabric.util.object.extend(fabric.StaticCanvas.prototype,{loadFromDatalessJSON:function(e,t,r){return this.loadFromJSON(e,t,r)},loadFromJSON:function(e,t,r){if(e){var o=typeof e=="string"?JSON.parse(e):e;this._objects=[],this.contextTop&&this.clearContext(this.contextTop);var i=this;return this._enlivenObjects(o.objects,function(){i._setBgOverlay(o,t)},r),this}},_setBgOverlay:function(e,t){var r=this,o={backgroundColor:!1,overlayColor:!1};if(!e.background&&!e.overlay){t?.();return}var i=function(){o.backgroundColor&&o.overlayColor&&(r.renderAll(),t?.())};this.__setBgOverlay("backgroundColor",e.background,o,i),this.__setBgOverlay("overlayColor",e.overlay,o,i),i()},__setBgOverlay:function(e,t,r,o){var i=this;if(!t){r[e]=!0;return}this["set"+fabric.util.string.capitalize(e,!0)](t,function(){r[e]=!0,o?.()})},_enlivenObjects:function(e,t,r){var o=this;if(!e||e.length===0){t?.();return}var i=this.renderOnAddRemove;this.renderOnAddRemove=!1,fabric.util.enlivenObjects(e,function(n){n.forEach(function(s,a){o.insertAt(s,a,!0)}),o.renderOnAddRemove=i,t?.()},null,r)},_toDataURL:function(e,t){this.clone(function(r){t(r.toDataURL(e))})},_toDataURLWithMultiplier:function(e,t,r){this.clone(function(o){r(o.toDataURLWithMultiplier(e,t))})},clone:function(e,t){var r=JSON.stringify(this.toJSON(t));this.cloneWithoutData(function(o){o.loadFromJSON(r,function(){e&&e(o)})})},cloneWithoutData:function(e){var t=fabric.document.createElement("canvas");t.width=this.getWidth(),t.height=this.getHeight();var r=new fabric.Canvas(t);r.clipTo=this.clipTo,e&&e(r)}})});var Tce=we(()=>{"use strict";fabric.DOUBLE_CLICK_TIME=300;(function(){var e=fabric.util.getPointer,t=fabric.util.degreesToRadians,r=fabric.util.radiansToDegrees,o=Math.atan2,i=Math.abs,n=.5;fabric.Canvas=fabric.util.createClass(fabric.StaticCanvas,{initialize:function(a,l){l||(l={}),this._initStatic(a,l),this._initInteractive(),this._createCacheCanvas(),fabric.Canvas.activeInstance=this},uniScaleTransform:!1,centeredScaling:!1,centeredRotation:!1,interactive:!0,selection:!0,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",rotationCursor:"crosshair",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._isRightClickPanning=!1,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this.calcOffset()},_resetCurrentTransform:function(a){var l=this._currentTransform;l.target.set({scaleX:l.original.scaleX,scaleY:l.original.scaleY,left:l.original.left,top:l.original.top}),this._shouldCenterTransform(a,l.target)?l.action==="rotate"?this._setOriginToCenter(l.target):(l.originX!=="center"&&(l.originX==="right"?l.mouseXSign=-1:l.mouseXSign=1),l.originY!=="center"&&(l.originY==="bottom"?l.mouseYSign=-1:l.mouseYSign=1),l.originX="center",l.originY="center"):(l.originX=l.original.originX,l.originY=l.original.originY)},containsPoint:function(a,l){var c=this.getPointer(a,!0),u=this._normalizePointer(l,c);return l.containsPoint(u)||l._findTargetCorner(c)},_normalizePointer:function(a,l){var c=this.getActiveGroup(),u=l.x,p=l.y,m=c&&a.type!=="group"&&c.contains(a),h;return m&&(h=new fabric.Point(c.left,c.top),h=fabric.util.transformPoint(h,this.viewportTransform,!0),u-=h.x,p-=h.y),{x:u,y:p}},isTargetTransparent:function(a,l,c){var u=a.hasBorders,p=a.transparentCorners;a.hasBorders=a.transparentCorners=!1,this._draw(this.contextCache,a),a.hasBorders=u,a.transparentCorners=p;var m=fabric.util.isTransparent(this.contextCache,l,c,this.targetFindTolerance);return this.clearContext(this.contextCache),m},_shouldClearSelection:function(a,l){var c=this.getActiveGroup(),u=this.getActiveObject();return!l&&a.button!==2||l&&c&&!c.contains(l)&&c!==l&&!a.shiftKey||l&&!l.evented||l&&!l.selectable&&u&&u!==l},_shouldCenterTransform:function(a,l){if(l){var c=this._currentTransform,u;return c.action==="scale"||c.action==="scaleX"||c.action==="scaleY"?u=this.centeredScaling||l.centeredScaling:c.action==="rotate"&&(u=this.centeredRotation||l.centeredRotation),u?!a.altKey:a.altKey}},_getOriginFromCorner:function(a,l){var c={x:a.originX,y:a.originY};return l==="ml"||l==="tl"||l==="bl"?c.x="right":(l==="mr"||l==="tr"||l==="br")&&(c.x="left"),l==="tl"||l==="mt"||l==="tr"?c.y="bottom":(l==="bl"||l==="mb"||l==="br")&&(c.y="top"),c},_getActionFromCorner:function(a,l){var c="drag";return l&&(c=l==="ml"||l==="mr"?"scaleX":l==="mt"||l==="mb"?"scaleY":l==="mtr"?"rotate":"scale"),c},_setupCurrentTransform:function(a,l){if(l){var c=this.getPointer(a),u=l._findTargetCorner(this.getPointer(a,!0)),p=this._getActionFromCorner(l,u),m=this._getOriginFromCorner(l,u),h=null;l!==null&&typeof l<"u"&&l.easel!==null&&typeof l.easel<"u"&&l.easel.type==="tab"&&this.volumeActions&&(h=this.volumeActions.getTabIndexAtPoint(c.x,c.y,l.easel.id)),this._currentTransform={target:l,action:p,scaleX:l.scaleX,scaleY:l.scaleY,offsetX:c.x-l.left,offsetY:c.y-l.top,originX:m.x,originY:m.y,ex:c.x,ey:c.y,previousX:c.x,previousY:c.y,selectedTabIndex:h,left:l.left,top:l.top,theta:t(l.angle),width:l.width*l.scaleX,mouseXSign:1,mouseYSign:1},this._currentTransform.original={left:l.left,top:l.top,scaleX:l.scaleX,scaleY:l.scaleY,originX:m.x,originY:m.y},this._resetCurrentTransform(a)}},_translateObject:function(a,l,c){var u=this._currentTransform.target;if(this.volumeActions){var p=a-this._currentTransform.previousX,m=l-this._currentTransform.previousY,h=this._currentTransform.selectedTabIndex;h!==null&&typeof h<"u"?this.volumeActions.translateTab(u.easel.id,h,p,m):this.volumeActions.translate(p,m,a,l,c)}else u.get("lockMovementX")||u.set("left",a-this._currentTransform.offsetX),u.get("lockMovementY")||u.set("top",l-this._currentTransform.offsetY)},_scaleObject:function(a,l,c){var u=this._currentTransform,p=u.target,m=p.get("lockScalingX"),h=p.get("lockScalingY");if(!(m&&h))if(this.volumeActions){var f=p.translateToOriginPointIgnoringStroke(p.getCenterPoint(),u.originX,u.originY),x=p.angle*Math.PI/180,v=u.previousX-f.x,b=u.previousY-f.y,S=a-f.x,w=l-f.y,_=Math.atan2(b,v),E=Math.atan2(w,S),T=Math.hypot(b,v),A=Math.hypot(w,S),O,L;c==="x"?(O=A*Math.cos(x-E)/(T*Math.cos(x-_)),L=1):c==="y"?(x+=Math.PI/2,O=1,L=A*Math.cos(x-E)/(T*Math.cos(x-_))):c==="equally"?O=L=A/T:(O=S/v,L=w/b),O!==0&&isFinite(O)&&L!==0&&isFinite(L)&&this.volumeActions.scale(O,L,f.x,f.y)}else{var f=p.translateToOriginPoint(p.getCenterPoint(),u.originX,u.originY),R=p.toLocalPoint(new fabric.Point(a,l),u.originX,u.originY);this._setLocalMouse(R,u),this._setObjectScale(R,u,m,h,c),p.setPositionByOrigin(f,u.originX,u.originY)}},_setObjectScale:function(a,l,c,u,p){var m=l.target;l.newScaleX=m.scaleX,l.newScaleY=m.scaleY,p==="equally"&&!c&&!u?this._scaleObjectEqually(a,m,l):p?p==="x"&&!m.get("lockUniScaling")?(l.newScaleX=a.x/(m.width+m.strokeWidth),c||m.set("scaleX",l.newScaleX)):p==="y"&&!m.get("lockUniScaling")&&(l.newScaleY=a.y/(m.height+m.strokeWidth),u||m.set("scaleY",l.newScaleY)):(l.newScaleX=a.x/(m.width+m.strokeWidth),l.newScaleY=a.y/(m.height+m.strokeWidth),c||m.set("scaleX",l.newScaleX),u||m.set("scaleY",l.newScaleY)),this._flipObject(l)},_scaleObjectEqually:function(a,l,c){var u=a.y+a.x,p=(l.height+l.strokeWidth)*c.original.scaleY+(l.width+l.strokeWidth)*c.original.scaleX;c.newScaleX=c.original.scaleX*u/p,c.newScaleY=c.original.scaleY*u/p,l.set("scaleX",c.newScaleX),l.set("scaleY",c.newScaleY)},_flipObject:function(a){a.newScaleX<0&&(a.originX==="left"?a.originX="right":a.originX==="right"&&(a.originX="left")),a.newScaleY<0&&(a.originY==="top"?a.originY="bottom":a.originY==="bottom"&&(a.originY="top"))},_setLocalMouse:function(a,l){var c=l.target;l.originX==="right"?a.x*=-1:l.originX==="center"&&(a.x*=l.mouseXSign*2,a.x<0&&(l.mouseXSign=-l.mouseXSign)),l.originY==="bottom"?a.y*=-1:l.originY==="center"&&(a.y*=l.mouseYSign*2,a.y<0&&(l.mouseYSign=-l.mouseYSign)),i(a.x)>c.padding?a.x<0?a.x+=c.padding:a.x-=c.padding:a.x=0,i(a.y)>c.padding?a.y<0?a.y+=c.padding:a.y-=c.padding:a.y=0},_rotateObject:function(a,l){var c=this._currentTransform;if(!c.target.get("lockRotation")){var u=o(l-c.top,a-c.left);if(this.volumeActions){var p=o(c.previousY-c.top,c.previousX-c.left);this.volumeActions.rotate(u-p,c.left,c.top)}else{var p=o(c.ey-c.top,c.ex-c.left),m=r(u-p+c.theta);m<0&&(m=360+m),c.target.angle=m}}},setCursor:function(a){this.upperCanvasEl.style.cursor=a},_resetObjectTransform:function(a){a.scaleX=1,a.scaleY=1,a.setAngle(0)},_drawSelection:function(){var a=this.contextTop,l=this._groupSelector,c=l.left,u=l.top,p=i(c),m=i(u);if(a.fillStyle=this.selectionColor,a.fillRect(l.ex-(c>0?0:-c),l.ey-(u>0?0:-u),p,m),a.lineWidth=this.selectionLineWidth,a.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1){var h=l.ex+n-(c>0?0:p),f=l.ey+n-(u>0?0:m);a.beginPath(),fabric.util.drawDashedLine(a,h,f,h+p,f,this.selectionDashArray),fabric.util.drawDashedLine(a,h,f+m-1,h+p,f+m-1,this.selectionDashArray),fabric.util.drawDashedLine(a,h,f,h,f+m,this.selectionDashArray),fabric.util.drawDashedLine(a,h+p-1,f,h+p-1,f+m,this.selectionDashArray),a.closePath(),a.stroke()}else a.strokeRect(l.ex+n-(c>0?0:p),l.ey+n-(u>0?0:m),p,m)},_isLastRenderedObject:function(a){return this.controlsAboveOverlay&&this.lastRenderedObjectWithControlsAboveOverlay&&this.lastRenderedObjectWithControlsAboveOverlay.visible&&this.containsPoint(a,this.lastRenderedObjectWithControlsAboveOverlay)&&this.lastRenderedObjectWithControlsAboveOverlay._findTargetCorner(this.getPointer(a,!0))},findTarget:function(a,l){if(!this.skipTargetFind){if(this._isLastRenderedObject(a))return this.lastRenderedObjectWithControlsAboveOverlay;var c=this.getActiveGroup();if(c&&!l&&this.containsPoint(a,c))return c;var u=this._searchPossibleTargets(a);return this._fireOverOutEvents(u),u}},_fireOverOutEvents:function(a){a?this._hoveredTarget!==a&&(this.fire("mouse:over",{target:a}),a.fire("mouseover"),this._hoveredTarget&&(this.fire("mouse:out",{target:this._hoveredTarget}),this._hoveredTarget.fire("mouseout")),this._hoveredTarget=a):this._hoveredTarget&&(this.fire("mouse:out",{target:this._hoveredTarget}),this._hoveredTarget.fire("mouseout"),this._hoveredTarget=null)},_checkTarget:function(a,l,c){if(l&&l.visible&&l.evented&&this.containsPoint(a,l))if((this.perPixelTargetFind||l.perPixelTargetFind)&&!l.isEditing){var u=this.isTargetTransparent(l,c.x,c.y);if(!u||l.easel?.cut?.type==="measurement")return!0}else return!0},_searchPossibleTargets:function(a){for(var l,c=this.getPointer(a,!0),u=this._objects.length;u--;)if(this._checkTarget(a,this._objects[u],c)){this.relatedTarget=this._objects[u],l=this._objects[u];break}return l},getPointer:function(a,l,c){c||(c=this.upperCanvasEl);var u=e(a,c),p=c.getBoundingClientRect(),m;return u.x=u.x-this._offset.left,u.y=u.y-this._offset.top,l||(u=fabric.util.transformPoint(u,fabric.util.invertTransform(this.viewportTransform))),p.width===0||p.height===0?m={width:1,height:1}:m={width:c.width/p.width,height:c.height/p.height},{x:u.x*m.width,y:u.y*m.height}},_createUpperCanvas:function(){var a=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,"");this.upperCanvasEl=this._createCanvasElement(),fabric.util.addClass(this.upperCanvasEl,"upper-canvas "+a),this.wrapperEl.appendChild(this.upperCanvasEl),this._copyCanvasStyle(this.lowerCanvasEl,this.upperCanvasEl),this._applyCanvasStyle(this.upperCanvasEl),this.contextTop=this.upperCanvasEl.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=fabric.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),fabric.util.setStyle(this.wrapperEl,{width:this.getWidth()+"px",height:this.getHeight()+"px",position:"relative"}),fabric.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(a){var l=this.getWidth()||a.width,c=this.getHeight()||a.height;fabric.util.setStyle(a,{position:"absolute",width:l+"px",height:c+"px",left:0,top:0}),a.width=l,a.height=c,fabric.util.makeElementUnselectable(a)},_copyCanvasStyle:function(a,l){l.style.cssText=a.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},_setActiveObject:function(a){this._activeObject&&this._activeObject.set("active",!1),this._activeObject=a,a.set("active",!0)},setActiveObject:function(a,l){return this._setActiveObject(a),this.renderAll(),this.fire("object:selected",{target:a,e:l}),a.fire("selected",{e:l}),this},getActiveObject:function(){return this._activeObject},_discardActiveObject:function(){this._activeObject&&this._activeObject.set("active",!1),this._activeObject=null},discardActiveObject:function(a){return this._discardActiveObject(),this.renderAll(),this.fire("selection:cleared",{e:a}),this},_setActiveGroup:function(a){this._activeGroup=a,a&&a.set("active",!0)},setActiveGroup:function(a,l){return this._setActiveGroup(a),a&&(this.fire("object:selected",{target:a,e:l}),a.fire("selected",{e:l})),this},getActiveGroup:function(){return this._activeGroup},_discardActiveGroup:function(){var a=this.getActiveGroup();a&&a.destroy(),this.setActiveGroup(null)},discardActiveGroup:function(a){return this._discardActiveGroup(),this.fire("selection:cleared",{e:a}),this},deactivateAll:function(){for(var a=this.getObjects(),l=0,c=a.length;l<c;l++)a[l].set("active",!1);return this._discardActiveGroup(),this._discardActiveObject(),this},deactivateAllWithDispatch:function(a){var l=this.getActiveGroup()||this.getActiveObject();return l&&this.fire("before:selection:cleared",{target:l,e:a}),this.deactivateAll(),l&&this.fire("selection:cleared",{e:a}),this},drawControls:function(a){var l=this.getActiveGroup();l?this._drawGroupControls(a,l):this._drawObjectsControls(a)},_drawGroupControls:function(a,l){l._renderControls(a)},_drawObjectsControls:function(a){for(var l=0,c=this._objects.length;l<c;++l)!this._objects[l]||!this._objects[l].active||(this._objects[l]._renderControls(a),this.lastRenderedObjectWithControlsAboveOverlay=this._objects[l])}});for(var s in fabric.StaticCanvas)s!=="prototype"&&(fabric.Canvas[s]=fabric.StaticCanvas[s]);fabric.isTouchSupported&&(fabric.Canvas.prototype._setCursorFromEvent=function(){}),fabric.Element=fabric.Canvas})();(function(){var e={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},t=fabric.util.addListener,r=fabric.util.removeListener;fabric.util.object.extend(fabric.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],_initEventListeners:function(){this._bindEvents(),t(fabric.window,"resize",this._onResize),t(this.upperCanvasEl,"mousedown",this._onMouseDown),t(this.upperCanvasEl,"mousemove",this._onMouseMove),t(this.upperCanvasEl,"mousewheel",this._onMouseWheel),t(this.upperCanvasEl,"contextmenu",this._onContextMenu),t(this.upperCanvasEl,"touchstart",this._onMouseDown),t(this.upperCanvasEl,"touchmove",this._onMouseMove),typeof Event<"u"&&"add"in Event&&(Event.add(this.upperCanvasEl,"gesture",this._onGesture),Event.add(this.upperCanvasEl,"drag",this._onDrag),Event.add(this.upperCanvasEl,"orientation",this._onOrientationChange),Event.add(this.upperCanvasEl,"shake",this._onShake))},_bindEvents:function(){this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onContextMenu=this._onContextMenu.bind(this)},removeListeners:function(){r(fabric.window,"resize",this._onResize),r(this.upperCanvasEl,"mousedown",this._onMouseDown),r(this.upperCanvasEl,"mousemove",this._onMouseMove),r(this.upperCanvasEl,"mousewheel",this._onMouseWheel),r(this.upperCanvasEl,"contextmenu",this._onContextMenu),r(this.upperCanvasEl,"touchstart",this._onMouseDown),r(this.upperCanvasEl,"touchmove",this._onMouseMove),typeof Event<"u"&&"remove"in Event&&(Event.remove(this.upperCanvasEl,"gesture",this._onGesture),Event.remove(this.upperCanvasEl,"drag",this._onDrag),Event.remove(this.upperCanvasEl,"orientation",this._onOrientationChange),Event.remove(this.upperCanvasEl,"shake",this._onShake))},_onGesture:function(o,i){this.__onTransformGesture&&this.__onTransformGesture(o,i)},_onDrag:function(o,i){this.__onDrag&&this.__onDrag(o,i)},_onMouseWheel:function(o,i){this.__onMouseWheel&&this.__onMouseWheel(o,i)},_onOrientationChange:function(o,i){this.__onOrientationChange&&this.__onOrientationChange(o,i)},_onShake:function(o,i){this.__onShake&&this.__onShake(o,i)},_onMouseDown:function(o){if(this.__onMouseDown(o),t(fabric.document,"touchend",this._onMouseUp),t(fabric.document,"touchmove",this._onMouseMove),r(this.upperCanvasEl,"mousemove",this._onMouseMove),r(this.upperCanvasEl,"touchmove",this._onMouseMove),o.type==="touchstart")r(this.upperCanvasEl,"mousedown",this._onMouseDown);else{if(this.volumeActions){let i=this.getPointer(o);this.volumeActions.beginDrag(i.x,i.y)}t(fabric.document,"mouseup",this._onMouseUp),t(fabric.document,"mousemove",this._onMouseMove)}},_onMouseUp:function(o){if(this.__onMouseUp(o),r(fabric.document,"mouseup",this._onMouseUp),r(fabric.document,"touchend",this._onMouseUp),r(fabric.document,"mousemove",this._onMouseMove),r(fabric.document,"touchmove",this._onMouseMove),t(this.upperCanvasEl,"mousemove",this._onMouseMove),t(this.upperCanvasEl,"touchmove",this._onMouseMove),o.type==="touchend"){var i=this;setTimeout(function(){t(i.upperCanvasEl,"mousedown",i._onMouseDown)},400)}this.volumeActions&&this.volumeActions.endDrag()},_onContextMenu:function(o){var i=this.findTarget(o);i||(o.preventDefault(),o.stopPropagation())},_onMouseMove:function(o){!this.allowTouchScrolling&&o.preventDefault&&o.preventDefault(),this.__onMouseMove(o)},_onResize:function(){this.calcOffset()},_shouldRender:function(o,i){var n=this.getActiveGroup()||this.getActiveObject();return!!(o&&(o.isMoving||o!==n)||!o&&n||!o&&!n&&!this._groupSelector||i&&this._previousPointer&&this.selection&&(i.x!==this._previousPointer.x||i.y!==this._previousPointer.y))},__onMouseUp:function(o){var i;this._isRightClickPanning=!1,this._currentTransform?(this._finalizeCurrentTransform(),i=this._currentTransform.target):i=this.findTarget(o,!0);var n=this._shouldRender(i,this.getPointer(o));this._maybeGroupObjects(o),i&&(i.isMoving=!1),n&&this.renderAll(),this._handleCursorAndEvent(o,i)},_handleCursorAndEvent:function(o,i){this._setCursorFromEvent(o,i);var n=this;setTimeout(function(){n._setCursorFromEvent(o,i)},50),this.fire("mouse:up",{target:i,e:o}),i&&i.fire("mouseup",{e:o})},_finalizeCurrentTransform:function(){var o=this._currentTransform,i=o.target;i._scaling&&(i._scaling=!1),i.setCoords(),this.stateful&&i.hasStateChanged()&&(this.fire("object:modified",{target:i}),i.fire("modified")),this._restoreOriginXY(i)},_restoreOriginXY:function(o){if(this._previousOriginX&&this._previousOriginY){var i=o.translateToOriginPoint(o.getCenterPoint(),this._previousOriginX,this._previousOriginY);o.originX=this._previousOriginX,o.originY=this._previousOriginY,o.left=i.x,o.top=i.y,this._previousOriginX=null,this._previousOriginY=null}},__onMouseDown:function(o){if(!this._currentTransform){var i=this.findTarget(o),n=this.getPointer(o,!0);this._previousPointer=n,this._isRightClickPanning=!i&&o.button===2;var s=this._shouldRender(i,n),a=this._shouldGroup(o,i);this._shouldClearSelection(o,i)?this._clearSelection(o,i,n):a&&(this._handleGrouping(o,i),i=this.getActiveGroup()),i&&i.selectable&&!a&&(this._beforeTransform(o,i),this._setupCurrentTransform(o,i)),s&&this.renderAll(),this.fire("mouse:down",{target:i,e:o}),i&&i.fire("mousedown",{e:o})}},_beforeTransform:function(){var o=null;return function(i,n){var s,a=fabric.DOUBLE_CLICK_TIME;this.stateful&&n.saveState(),(s=n._findTargetCorner(this.getPointer(i)))&&this.onBeforeScaleRotate(n);var l=this.volumeActions&&n.easel!==null&&typeof n.easel<"u";let c=this._objects.find(p=>p.easel&&p.easel.type=="bbox"),u=n.easel!=null&&n.easel.id!=null&&c!=null&&c.easel.ids.includes(n.easel.id);n!==this.getActiveGroup()&&n!==this.getActiveObject()&&!u?l?this.volumeActions.select({event:i,ids:[n.easel.id],canvasEl:this.lowerCanvasEl}):(this.deactivateAll(),this.setActiveObject(n,i)):n===this.getActiveObject()&&l&&o&&Date.now()-o<a&&this.volumeActions.edit(n.easel.id),o=Date.now()}}(),_clearSelection:function(o,i,n){this.volumeActions&&this.volumeActions.deselect(),this.deactivateAllWithDispatch(o),i&&i.selectable?this.volumeActions&&i.easel!==null&&typeof i.easel<"u"?this.volumeActions.select({event:o,ids:[i.easel.id],canvasEl:this.lowerCanvasEl}):this.setActiveObject(i,o):this.selection&&(this._groupSelector={ex:n.x,ey:n.y,top:0,left:0})},_setOriginToCenter:function(o){this._previousOriginX=this._currentTransform.target.originX,this._previousOriginY=this._currentTransform.target.originY;var i=o.getCenterPoint();o.originX="center",o.originY="center",o.left=i.x,o.top=i.y,this._currentTransform.left=o.left,this._currentTransform.top=o.top},_setCenterToOrigin:function(o){var i=o.translateToOriginPoint(o.getCenterPoint(),this._previousOriginX,this._previousOriginY);o.originX=this._previousOriginX,o.originY=this._previousOriginY,o.left=i.x,o.top=i.y,this._previousOriginX=null,this._previousOriginY=null},__onMouseMove:function(o){var i,n,s=this._groupSelector;this._isRightClickPanning?(this.viewportActions.pan(-1*o.movementX,-1*o.movementY),this.upperCanvasEl.style.cursor="grabbing"):s?(n=this.getPointer(o,!0),s.left=n.x-s.ex,s.top=n.y-s.ey,this.renderTop()):this._currentTransform?this._transformObject(o):(i=this.findTarget(o),!i||i&&!i.selectable?this.setCursor(this.defaultCursor):this._setCursorFromEvent(o,i)),this.fire("mouse:move",{target:i,e:o}),i&&i.fire("mousemove",{e:o})},_transformObject:function(o){var i=this.getPointer(o),n=this._currentTransform;n.reset=!1,n.target.isMoving=!0,this._beforeScaleTransform(o,n),this._performTransformAction(o,n,i),this.renderAll()},_performTransformAction:function(o,i,n){var s=n.x,a=n.y,l=i.target,c=i.action;c==="rotate"?(this._rotateObject(s,a),this._fire("rotating",l,o)):c==="scale"?(this._onScale(o,i,s,a),this._fire("scaling",l,o)):c==="scaleX"?(this._scaleObject(s,a,"x"),this._fire("scaling",l,o)):c==="scaleY"?(this._scaleObject(s,a,"y"),this._fire("scaling",l,o)):(this._translateObject(s,a,o),this._fire("moving",l,o),this.setCursor(this.moveCursor)),this._currentTransform.previousX=s,this._currentTransform.previousY=a},_fire:function(o,i,n){this.fire("object:"+o,{target:i,e:n}),i.fire(o,{e:n})},_beforeScaleTransform:function(o,i){if(i.action==="scale"||i.action==="scaleX"||i.action==="scaleY"){var n=this._shouldCenterTransform(o,i.target);(n&&(i.originX!=="center"||i.originY!=="center")||!n&&i.originX==="center"&&i.originY==="center")&&(this._resetCurrentTransform(o),i.reset=!0)}},_onScale:function(o,i,n,s){(o.shiftKey||this.uniScaleTransform)&&!i.target.get("lockUniScaling")?(i.currentAction="scale",this._scaleObject(n,s)):(!i.reset&&i.currentAction==="scale"&&this._resetCurrentTransform(o,i.target),i.currentAction="scaleEqually",this._scaleObject(n,s,"equally"))},_setCursorFromEvent:function(o,i){if(!i||!i.selectable)return this.setCursor(this.defaultCursor),!1;var n=this.getActiveGroup(),s=i._findTargetCorner&&(!n||!n.contains(i))&&i._findTargetCorner(this.getPointer(o,!0));return s?this._setCornerCursor(s,i):this.setCursor(i.hoverCursor||this.hoverCursor),!0},_setCornerCursor:function(o,i){if(o in e)this.setCursor(this._getRotatedCornerCursor(o,i));else if(o==="mtr"&&i.hasRotatingPoint)this.setCursor(this.rotationCursor);else return this.setCursor(this.defaultCursor),!1},_getRotatedCornerCursor:function(o,i){var n=Math.round(i.getAngle()%360/45);return n<0&&(n+=8),n+=e[o],n%=8,this.cursorMap[n]}})})();(function(){var e=Math.min,t=Math.max;fabric.util.object.extend(fabric.Canvas.prototype,{_shouldGroup:function(r,o){var i=this.getActiveObject();return r.shiftKey&&(this.getActiveGroup()||i&&i!==o||i&&i.easel&&i.easel.type=="bbox")&&this.selection},_handleGrouping:function(r,o){let i=this._objects.find(n=>n.easel&&n.easel.type=="bbox");o===this.getActiveGroup()&&(o=this.findTarget(r,!0),!o||o.isType("group"))||(this.getActiveGroup()?this._updateActiveGroup(o,r):i?i.easel.ids.indexOf(o.easel.id)>-1?this.volumeActions.deselect.apply(null,[o.easel.id]):this.volumeActions.select.apply(null,[{event:r,ids:i.easel.ids.concat(o.easel.id),canvasEl:this.lowerCanvasEl}]):this._createActiveGroup(o,r),this._activeGroup&&this._activeGroup.saveCoords())},_updateActiveGroup:function(r,o){var i=this.getActiveGroup();if(i.contains(r)){if(i.removeWithUpdate(r),this._resetObjectTransform(i),r.set("active",!1),i.size()===1){if(this.volumeActions){var n=[];i.getObjects().forEach(function(s){s.easel!==null&&typeof s.easel<"u"&&n.push(s.easel.id)}),this.volumeActions.select.apply(null,[{event:o,ids:n,canvasEl:this.lowerCanvasEl}]);return}this.discardActiveGroup(o),this.setActiveObject(i.item(0));return}}else i.addWithUpdate(r),this._resetObjectTransform(i);if(this.volumeActions){var n=[];i.getObjects().forEach(function(a){a.easel!==null&&typeof a.easel<"u"&&n.push(a.easel.id)}),this.volumeActions.select.apply(null,[{event:o,ids:n,canvasEl:this.lowerCanvasEl}]);return}this.fire("selection:created",{target:i,e:o}),i.set("active",!0)},_createActiveGroup:function(r,o){if(this._activeObject&&r!==this._activeObject){var i=this._createGroup(r);if(this.volumeActions){var n=[];i.getObjects().forEach(function(s){s.easel!==null&&typeof s.easel<"u"&&(s.easel.type=="bbox"?n=n.concat(s.easel.ids):n.push(s.easel.id))}),this.volumeActions.select.apply(null,[{event:o,ids:n,canvasEl:this.lowerCanvasEl}]);return}i.addWithUpdate(),this.setActiveGroup(i),this._activeObject=null,this.fire("selection:created",{target:i,e:o})}r.set("active",!0)},_createGroup:function(r){var o=this.getObjects(),i=o.indexOf(this._activeObject)<o.indexOf(r),n=i?[this._activeObject,r]:[r,this._activeObject];return new fabric.Group(n,{originX:"center",originY:"center",canvas:this})},_groupSelectedObjects:function(r){var o=this._collectObjects();if(this.volumeActions){var i=[];o.forEach(n=>{n.easel!==null&&typeof n.easel<"u"&&i.push(n.easel.id)}),this.volumeActions.select.apply(null,[{event:r,ids:i,canvasEl:this.lowerCanvasEl}]);return}o.length===1?this.setActiveObject(o[0],r):o.length>1&&(o=new fabric.Group(o.reverse(),{originX:"center",originY:"center",canvas:this}),o.addWithUpdate(),this.setActiveGroup(o,r),o.saveCoords(),this.fire("selection:created",{target:o}),this.renderAll())},_collectObjects:function(){for(var r=[],o,i=this._groupSelector.ex,n=this._groupSelector.ey,s=i+this._groupSelector.left,a=n+this._groupSelector.top,l=new fabric.Point(e(i,s),e(n,a)),c=new fabric.Point(t(i,s),t(n,a)),u=i===s&&n===a,p=this._objects.length;p--&&(o=this._objects[p],!(!(!o||!o.selectable||!o.visible)&&(o.intersectsWithRect(l,c)||o.isContainedWithinRect(l,c)||o.containsPoint(l)||o.containsPoint(c))&&(o.set("active",!0),r.push(o),u))););return r},_maybeGroupObjects:function(r){this.selection&&this._groupSelector&&this._groupSelectedObjects(r);var o=this.getActiveGroup();o&&(o.setObjectsCoords().setCoords(),o.isMoving=!1,this.setCursor(this.defaultCursor)),this._groupSelector=null,this._currentTransform=null}})})()});var Ece=we(()=>{"use strict";window.fabric={version:"1.4.9",document,window};Vle();Rle();jle();Gle();zle();Xle();qle();$le();Zle();Kle();Qle();tce();oce();nce();ace();cce();uce();dce();mce();hce();yce();bce();Sce();Pce();_ce();kce();Tce()});var Oce=we(($V,ZV)=>{(function(e,t){typeof $V=="object"&&typeof ZV<"u"?ZV.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs_plugin_localizedFormat=t()})($V,function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,r,o){var i=r.prototype,n=i.format;o.en.formats=e,i.format=function(s){s===void 0&&(s="YYYY-MM-DDTHH:mm:ssZ");var a=this.$locale().formats,l=function(c,u){return c.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,m,h){var f=h&&h.toUpperCase();return m||u[h]||e[h]||u[f].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,v,b){return v||b.slice(1)})})}(s,a===void 0?{}:a);return n.call(this,l)}}})});var Lce=we((JV,KV)=>{(function(e,t){typeof JV=="object"&&typeof KV<"u"?KV.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs_plugin_utc=t()})(JV,function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(o,i,n){var s=i.prototype;n.utc=function(h){var f={date:h,utc:!0,args:arguments};return new i(f)},s.utc=function(h){var f=n(this.toDate(),{locale:this.$L,utc:!0});return h?f.add(this.utcOffset(),e):f},s.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var a=s.parse;s.parse=function(h){h.utc&&(this.$u=!0),this.$utils().u(h.$offset)||(this.$offset=h.$offset),a.call(this,h)};var l=s.init;s.init=function(){if(this.$u){var h=this.$d;this.$y=h.getUTCFullYear(),this.$M=h.getUTCMonth(),this.$D=h.getUTCDate(),this.$W=h.getUTCDay(),this.$H=h.getUTCHours(),this.$m=h.getUTCMinutes(),this.$s=h.getUTCSeconds(),this.$ms=h.getUTCMilliseconds()}else l.call(this)};var c=s.utcOffset;s.utcOffset=function(h,f){var x=this.$utils().u;if(x(h))return this.$u?0:x(this.$offset)?c.call(this):this.$offset;if(typeof h=="string"&&(h=function(w){w===void 0&&(w="");var _=w.match(t);if(!_)return null;var E=(""+_[0]).match(r)||["-",0,0],T=E[0],A=60*+E[1]+ +E[2];return A===0?0:T==="+"?A:-A}(h),h===null))return this;var v=Math.abs(h)<=16?60*h:h,b=this;if(f)return b.$offset=v,b.$u=h===0,b;if(h!==0){var S=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(b=this.local().add(v+S,e)).$offset=v,b.$x.$localOffset=S}else b=this.utc();return b};var u=s.format;s.format=function(h){var f=h||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,f)},s.valueOf=function(){var h=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*h},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var p=s.toDate;s.toDate=function(h){return h==="s"&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var m=s.diff;s.diff=function(h,f,x){if(h&&this.$u===h.$u)return m.call(this,h,f,x);var v=this.local(),b=n(h).local();return m.call(v,b,f,x)}}})});var H1e=we(No=>{"use strict";var na=typeof Symbol=="function"&&Symbol.for,Nj=na?Symbol.for("react.element"):60103,Oj=na?Symbol.for("react.portal"):60106,qE=na?Symbol.for("react.fragment"):60107,$E=na?Symbol.for("react.strict_mode"):60108,ZE=na?Symbol.for("react.profiler"):60114,JE=na?Symbol.for("react.provider"):60109,KE=na?Symbol.for("react.context"):60110,Lj=na?Symbol.for("react.async_mode"):60111,QE=na?Symbol.for("react.concurrent_mode"):60111,eM=na?Symbol.for("react.forward_ref"):60112,tM=na?Symbol.for("react.suspense"):60113,wlt=na?Symbol.for("react.suspense_list"):60120,rM=na?Symbol.for("react.memo"):60115,oM=na?Symbol.for("react.lazy"):60116,_lt=na?Symbol.for("react.block"):60121,klt=na?Symbol.for("react.fundamental"):60117,Tlt=na?Symbol.for("react.responder"):60118,Elt=na?Symbol.for("react.scope"):60119;function du(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Nj:switch(e=e.type,e){case Lj:case QE:case qE:case ZE:case $E:case tM:return e;default:switch(e=e&&e.$$typeof,e){case KE:case eM:case oM:case rM:case JE:return e;default:return t}}case Oj:return t}}}function G1e(e){return du(e)===QE}No.AsyncMode=Lj;No.ConcurrentMode=QE;No.ContextConsumer=KE;No.ContextProvider=JE;No.Element=Nj;No.ForwardRef=eM;No.Fragment=qE;No.Lazy=oM;No.Memo=rM;No.Portal=Oj;No.Profiler=ZE;No.StrictMode=$E;No.Suspense=tM;No.isAsyncMode=function(e){return G1e(e)||du(e)===Lj};No.isConcurrentMode=G1e;No.isContextConsumer=function(e){return du(e)===KE};No.isContextProvider=function(e){return du(e)===JE};No.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nj};No.isForwardRef=function(e){return du(e)===eM};No.isFragment=function(e){return du(e)===qE};No.isLazy=function(e){return du(e)===oM};No.isMemo=function(e){return du(e)===rM};No.isPortal=function(e){return du(e)===Oj};No.isProfiler=function(e){return du(e)===ZE};No.isStrictMode=function(e){return du(e)===$E};No.isSuspense=function(e){return du(e)===tM};No.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===qE||e===QE||e===ZE||e===$E||e===tM||e===wlt||typeof e=="object"&&e!==null&&(e.$$typeof===oM||e.$$typeof===rM||e.$$typeof===JE||e.$$typeof===KE||e.$$typeof===eM||e.$$typeof===klt||e.$$typeof===Tlt||e.$$typeof===Elt||e.$$typeof===_lt)};No.typeOf=du});var X1e=we((vNr,z1e)=>{"use strict";z1e.exports=H1e()});var Q1e=we((SNr,K1e)=>{"use strict";var Bj=X1e(),Mlt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Alt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ilt={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Z1e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Fj={};Fj[Bj.ForwardRef]=Ilt;Fj[Bj.Memo]=Z1e;function Y1e(e){return Bj.isMemo(e)?Z1e:Fj[e.$$typeof]||Mlt}var Dlt=Object.defineProperty,Nlt=Object.getOwnPropertyNames,q1e=Object.getOwnPropertySymbols,Olt=Object.getOwnPropertyDescriptor,Llt=Object.getPrototypeOf,$1e=Object.prototype;function J1e(e,t,r){if(typeof t!="string"){if($1e){var o=Llt(t);o&&o!==$1e&&J1e(e,o,r)}var i=Nlt(t);q1e&&(i=i.concat(q1e(t)));for(var n=Y1e(e),s=Y1e(t),a=0;a<i.length;++a){var l=i[a];if(!Alt[l]&&!(r&&r[l])&&!(s&&s[l])&&!(n&&n[l])){var c=Olt(t,l);try{Dlt(e,l,c)}catch{}}}}return e}K1e.exports=J1e});var B6e=we((Hco,az)=>{"use strict";az.exports=LI;az.exports.default=LI;function LI(e,t,r){r=r||2;var o=t&&t.length,i=o?t[0]*r:e.length,n=N6e(e,0,i,r,!0),s=[];if(!n||n.next===n.prev)return s;var a,l,c,u,p,m,h;if(o&&(n=xft(e,t,n,r)),e.length>80*r){a=c=e[0],l=u=e[1];for(var f=r;f<i;f+=r)p=e[f],m=e[f+1],p<a&&(a=p),m<l&&(l=m),p>c&&(c=p),m>u&&(u=m);h=Math.max(c-a,u-l),h=h!==0?32767/h:0}return mv(n,s,r,a,l,h,0),s}function N6e(e,t,r,o,i){var n,s;if(i===sz(e,t,r,o)>0)for(n=t;n<r;n+=o)s=D6e(n,e[n],e[n+1],s);else for(n=r-o;n>=t;n-=o)s=D6e(n,e[n],e[n+1],s);return s&&BI(s,s.next)&&(hv(s),s=s.next),s}function Yg(e,t){if(!e)return e;t||(t=e);var r=e,o;do if(o=!1,!r.steiner&&(BI(r,r.next)||pn(r.prev,r,r.next)===0)){if(hv(r),r=t=r.prev,r===r.next)break;o=!0}else r=r.next;while(o||r!==t);return t}function mv(e,t,r,o,i,n,s){if(e){!s&&n&&Pft(e,o,i,n);for(var a=e,l,c;e.prev!==e.next;){if(l=e.prev,c=e.next,n?hft(e,o,i,n):fft(e)){t.push(l.i/r|0),t.push(e.i/r|0),t.push(c.i/r|0),hv(e),e=c.next,a=c.next;continue}if(e=c,e===a){s?s===1?(e=gft(Yg(e),t,r),mv(e,t,r,o,i,n,2)):s===2&&yft(e,t,r,o,i,n):mv(Yg(e),t,r,o,i,n,1);break}}}}function fft(e){var t=e.prev,r=e,o=e.next;if(pn(t,r,o)>=0)return!1;for(var i=t.x,n=r.x,s=o.x,a=t.y,l=r.y,c=o.y,u=i<n?i<s?i:s:n<s?n:s,p=a<l?a<c?a:c:l<c?l:c,m=i>n?i>s?i:s:n>s?n:s,h=a>l?a>c?a:c:l>c?l:c,f=o.next;f!==t;){if(f.x>=u&&f.x<=m&&f.y>=p&&f.y<=h&&ox(i,a,n,l,s,c,f.x,f.y)&&pn(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function hft(e,t,r,o){var i=e.prev,n=e,s=e.next;if(pn(i,n,s)>=0)return!1;for(var a=i.x,l=n.x,c=s.x,u=i.y,p=n.y,m=s.y,h=a<l?a<c?a:c:l<c?l:c,f=u<p?u<m?u:m:p<m?p:m,x=a>l?a>c?a:c:l>c?l:c,v=u>p?u>m?u:m:p>m?p:m,b=iz(h,f,t,r,o),S=iz(x,v,t,r,o),w=e.prevZ,_=e.nextZ;w&&w.z>=b&&_&&_.z<=S;){if(w.x>=h&&w.x<=x&&w.y>=f&&w.y<=v&&w!==i&&w!==s&&ox(a,u,l,p,c,m,w.x,w.y)&&pn(w.prev,w,w.next)>=0||(w=w.prevZ,_.x>=h&&_.x<=x&&_.y>=f&&_.y<=v&&_!==i&&_!==s&&ox(a,u,l,p,c,m,_.x,_.y)&&pn(_.prev,_,_.next)>=0))return!1;_=_.nextZ}for(;w&&w.z>=b;){if(w.x>=h&&w.x<=x&&w.y>=f&&w.y<=v&&w!==i&&w!==s&&ox(a,u,l,p,c,m,w.x,w.y)&&pn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;_&&_.z<=S;){if(_.x>=h&&_.x<=x&&_.y>=f&&_.y<=v&&_!==i&&_!==s&&ox(a,u,l,p,c,m,_.x,_.y)&&pn(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function gft(e,t,r){var o=e;do{var i=o.prev,n=o.next.next;!BI(i,n)&&O6e(i,o,o.next,n)&&fv(i,n)&&fv(n,i)&&(t.push(i.i/r|0),t.push(o.i/r|0),t.push(n.i/r|0),hv(o),hv(o.next),o=e=n),o=o.next}while(o!==e);return Yg(o)}function yft(e,t,r,o,i,n){var s=e;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&kft(s,a)){var l=L6e(s,a);s=Yg(s,s.next),l=Yg(l,l.next),mv(s,t,r,o,i,n,0),mv(l,t,r,o,i,n,0);return}a=a.next}s=s.next}while(s!==e)}function xft(e,t,r,o){var i=[],n,s,a,l,c;for(n=0,s=t.length;n<s;n++)a=t[n]*o,l=n<s-1?t[n+1]*o:e.length,c=N6e(e,a,l,o,!1),c===c.next&&(c.steiner=!0),i.push(_ft(c));for(i.sort(bft),n=0;n<i.length;n++)r=vft(i[n],r);return r}function bft(e,t){return e.x-t.x}function vft(e,t){var r=Sft(e,t);if(!r)return t;var o=L6e(r,e);return Yg(o,o.next),Yg(r,r.next)}function Sft(e,t){var r=t,o=e.x,i=e.y,n=-1/0,s;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=o&&a>n&&(n=a,s=r.x<r.next.x?r:r.next,a===o))return s}r=r.next}while(r!==t);if(!s)return null;var l=s,c=s.x,u=s.y,p=1/0,m;r=s;do o>=r.x&&r.x>=c&&o!==r.x&&ox(i<u?o:n,i,c,u,i<u?n:o,i,r.x,r.y)&&(m=Math.abs(i-r.y)/(o-r.x),fv(r,e)&&(m<p||m===p&&(r.x>s.x||r.x===s.x&&Cft(s,r)))&&(s=r,p=m)),r=r.next;while(r!==l);return s}function Cft(e,t){return pn(e.prev,e,t.prev)<0&&pn(t.next,e,e.next)<0}function Pft(e,t,r,o){var i=e;do i.z===0&&(i.z=iz(i.x,i.y,t,r,o)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,wft(i)}function wft(e){var t,r,o,i,n,s,a,l,c=1;do{for(r=e,e=null,n=null,s=0;r;){for(s++,o=r,a=0,t=0;t<c&&(a++,o=o.nextZ,!!o);t++);for(l=c;a>0||l>0&&o;)a!==0&&(l===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,a--):(i=o,o=o.nextZ,l--),n?n.nextZ=i:e=i,i.prevZ=n,n=i;r=o}n.nextZ=null,c*=2}while(s>1);return e}function iz(e,t,r,o,i){return e=(e-r)*i|0,t=(t-o)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function _ft(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}function ox(e,t,r,o,i,n,s,a){return(i-s)*(t-a)>=(e-s)*(n-a)&&(e-s)*(o-a)>=(r-s)*(t-a)&&(r-s)*(n-a)>=(i-s)*(o-a)}function kft(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!Tft(e,t)&&(fv(e,t)&&fv(t,e)&&Eft(e,t)&&(pn(e.prev,e,t.prev)||pn(e,t.prev,t))||BI(e,t)&&pn(e.prev,e,e.next)>0&&pn(t.prev,t,t.next)>0)}function pn(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function BI(e,t){return e.x===t.x&&e.y===t.y}function O6e(e,t,r,o){var i=OI(pn(e,t,r)),n=OI(pn(e,t,o)),s=OI(pn(r,o,e)),a=OI(pn(r,o,t));return!!(i!==n&&s!==a||i===0&&NI(e,r,t)||n===0&&NI(e,o,t)||s===0&&NI(r,e,o)||a===0&&NI(r,t,o))}function NI(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function OI(e){return e>0?1:e<0?-1:0}function Tft(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&O6e(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function fv(e,t){return pn(e.prev,e,e.next)<0?pn(e,t,e.next)>=0&&pn(e,e.prev,t)>=0:pn(e,t,e.prev)<0||pn(e,e.next,t)<0}function Eft(e,t){var r=e,o=!1,i=(e.x+t.x)/2,n=(e.y+t.y)/2;do r.y>n!=r.next.y>n&&r.next.y!==r.y&&i<(r.next.x-r.x)*(n-r.y)/(r.next.y-r.y)+r.x&&(o=!o),r=r.next;while(r!==e);return o}function L6e(e,t){var r=new nz(e.i,e.x,e.y),o=new nz(t.i,t.x,t.y),i=e.next,n=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,o.next=r,r.prev=o,n.next=o,o.prev=n,o}function D6e(e,t,r,o){var i=new nz(e,t,r);return o?(i.next=o.next,i.prev=o,o.next.prev=i,o.next=i):(i.prev=i,i.next=i),i}function hv(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function nz(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}LI.deviation=function(e,t,r,o){var i=t&&t.length,n=i?t[0]*r:e.length,s=Math.abs(sz(e,0,n,r));if(i)for(var a=0,l=t.length;a<l;a++){var c=t[a]*r,u=a<l-1?t[a+1]*r:e.length;s-=Math.abs(sz(e,c,u,r))}var p=0;for(a=0;a<o.length;a+=3){var m=o[a]*r,h=o[a+1]*r,f=o[a+2]*r;p+=Math.abs((e[m]-e[f])*(e[h+1]-e[m+1])-(e[m]-e[h])*(e[f+1]-e[m+1]))}return s===0&&p===0?0:Math.abs((p-s)/s)};function sz(e,t,r,o){for(var i=0,n=t,s=r-o;n<r;n+=o)i+=(e[s]-e[n])*(e[n+1]+e[s+1]),s=n;return i}LI.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},o=0,i=0;i<e.length;i++){for(var n=0;n<e[i].length;n++)for(var s=0;s<t;s++)r.vertices.push(e[i][n][s]);i>0&&(o+=e[i-1].length,r.holes.push(o))}return r}});var h8e=we((Z3o,f8e)=>{function m8e(e){var t,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=m8e(e[t]))&&(o&&(o+=" "),o+=r);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}f8e.exports=function(){for(var e=0,t,r,o="";e<arguments.length;)(t=arguments[e++])&&(r=m8e(t))&&(o&&(o+=" "),o+=r);return o}});var Ev=we(ay=>{"use strict";Object.defineProperty(ay,"__esModule",{value:!0});ay.dontSetMe=D5t;ay.findInArray=E5t;ay.int=I5t;ay.isFunction=M5t;ay.isNum=A5t;function E5t(e,t){for(let r=0,o=e.length;r<o;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function M5t(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function A5t(e){return typeof e=="number"&&!isNaN(e)}function I5t(e){return parseInt(e,10)}function D5t(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))}});var x8e=we(ly=>{"use strict";Object.defineProperty(ly,"__esModule",{value:!0});ly.browserPrefixToKey=y8e;ly.browserPrefixToStyle=N5t;ly.default=void 0;ly.getPrefix=g8e;var mX=["Moz","Webkit","O","ms"];function g8e(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";let r=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!r||t in r)return"";for(let o=0;o<mX.length;o++)if(y8e(t,mX[o])in r)return mX[o];return""}function y8e(e,t){return t?"".concat(t).concat(O5t(e)):e}function N5t(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function O5t(e){let t="",r=!0;for(let o=0;o<e.length;o++)r?(t+=e[o].toUpperCase(),r=!1):e[o]==="-"?r=!0:t+=e[o];return t}var K3o=ly.default=g8e()});var ID=we(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.addClassName=C8e;Cs.addEvent=F5t;Cs.addUserSelectStyles=q5t;Cs.createCSSTransform=H5t;Cs.createSVGTransform=z5t;Cs.getTouch=X5t;Cs.getTouchIdentifier=Y5t;Cs.getTranslation=fX;Cs.innerHeight=R5t;Cs.innerWidth=j5t;Cs.matchesSelector=S8e;Cs.matchesSelectorAndParentsTo=B5t;Cs.offsetXYFromParent=G5t;Cs.outerHeight=V5t;Cs.outerWidth=U5t;Cs.removeClassName=P8e;Cs.removeEvent=W5t;Cs.removeUserSelectStyles=$5t;var Iu=Ev(),b8e=L5t(x8e());function v8e(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(v8e=function(o){return o?r:t})(e)}function L5t(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=v8e(t);if(r&&r.has(e))return r.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var s=i?Object.getOwnPropertyDescriptor(e,n):null;s&&(s.get||s.set)?Object.defineProperty(o,n,s):o[n]=e[n]}return o.default=e,r&&r.set(e,o),o}var AD="";function S8e(e,t){return AD||(AD=(0,Iu.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,Iu.isFunction)(e[r])})),(0,Iu.isFunction)(e[AD])?e[AD](t):!1}function B5t(e,t,r){let o=e;do{if(S8e(o,t))return!0;if(o===r)return!1;o=o.parentNode}while(o);return!1}function F5t(e,t,r,o){if(!e)return;let i={capture:!0,...o};e.addEventListener?e.addEventListener(t,r,i):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}function W5t(e,t,r,o){if(!e)return;let i={capture:!0,...o};e.removeEventListener?e.removeEventListener(t,r,i):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}function V5t(e){let t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Iu.int)(r.borderTopWidth),t+=(0,Iu.int)(r.borderBottomWidth),t}function U5t(e){let t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Iu.int)(r.borderLeftWidth),t+=(0,Iu.int)(r.borderRightWidth),t}function R5t(e){let t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Iu.int)(r.paddingTop),t-=(0,Iu.int)(r.paddingBottom),t}function j5t(e){let t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Iu.int)(r.paddingLeft),t-=(0,Iu.int)(r.paddingRight),t}function G5t(e,t,r){let i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),n=(e.clientX+t.scrollLeft-i.left)/r,s=(e.clientY+t.scrollTop-i.top)/r;return{x:n,y:s}}function H5t(e,t){let r=fX(e,t,"px");return{[(0,b8e.browserPrefixToKey)("transform",b8e.default)]:r}}function z5t(e,t){return fX(e,t,"")}function fX(e,t,r){let{x:o,y:i}=e,n="translate(".concat(o).concat(r,",").concat(i).concat(r,")");if(t){let s="".concat(typeof t.x=="string"?t.x:t.x+r),a="".concat(typeof t.y=="string"?t.y:t.y+r);n="translate(".concat(s,", ").concat(a,")")+n}return n}function X5t(e,t){return e.targetTouches&&(0,Iu.findInArray)(e.targetTouches,r=>t===r.identifier)||e.changedTouches&&(0,Iu.findInArray)(e.changedTouches,r=>t===r.identifier)}function Y5t(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function q5t(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&C8e(e.body,"react-draggable-transparent-selection")}function $5t(e){if(e)try{if(e.body&&P8e(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{let t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function C8e(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function P8e(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}});var gX=we($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});$h.canDragX=K5t;$h.canDragY=Q5t;$h.createCoreData=t0t;$h.createDraggableData=r0t;$h.getBoundPosition=Z5t;$h.getControlPosition=e0t;$h.snapToGrid=J5t;var Du=Ev(),Ix=ID();function Z5t(e,t,r){if(!e.props.bounds)return[t,r];let{bounds:o}=e.props;o=typeof o=="string"?o:o0t(o);let i=hX(e);if(typeof o=="string"){let{ownerDocument:n}=i,s=n.defaultView,a;if(o==="parent"?a=i.parentNode:a=n.querySelector(o),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');let l=a,c=s.getComputedStyle(i),u=s.getComputedStyle(l);o={left:-i.offsetLeft+(0,Du.int)(u.paddingLeft)+(0,Du.int)(c.marginLeft),top:-i.offsetTop+(0,Du.int)(u.paddingTop)+(0,Du.int)(c.marginTop),right:(0,Ix.innerWidth)(l)-(0,Ix.outerWidth)(i)-i.offsetLeft+(0,Du.int)(u.paddingRight)-(0,Du.int)(c.marginRight),bottom:(0,Ix.innerHeight)(l)-(0,Ix.outerHeight)(i)-i.offsetTop+(0,Du.int)(u.paddingBottom)-(0,Du.int)(c.marginBottom)}}return(0,Du.isNum)(o.right)&&(t=Math.min(t,o.right)),(0,Du.isNum)(o.bottom)&&(r=Math.min(r,o.bottom)),(0,Du.isNum)(o.left)&&(t=Math.max(t,o.left)),(0,Du.isNum)(o.top)&&(r=Math.max(r,o.top)),[t,r]}function J5t(e,t,r){let o=Math.round(t/e[0])*e[0],i=Math.round(r/e[1])*e[1];return[o,i]}function K5t(e){return e.props.axis==="both"||e.props.axis==="x"}function Q5t(e){return e.props.axis==="both"||e.props.axis==="y"}function e0t(e,t,r){let o=typeof t=="number"?(0,Ix.getTouch)(e,t):null;if(typeof t=="number"&&!o)return null;let i=hX(r),n=r.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Ix.offsetXYFromParent)(o||e,n,r.props.scale)}function t0t(e,t,r){let o=!(0,Du.isNum)(e.lastX),i=hX(e);return o?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:i,deltaX:t-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:r}}function r0t(e,t){let r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function o0t(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function hX(e){let t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}});var xX=we(yX=>{"use strict";Object.defineProperty(yX,"__esModule",{value:!0});yX.default=i0t;function i0t(){}});var _8e=we(DD=>{"use strict";Object.defineProperty(DD,"__esModule",{value:!0});DD.default=void 0;var bX=s0t(P("react")),Nc=SX(P("prop-types")),n0t=SX(P("react-dom")),ul=ID(),x1=gX(),vX=Ev(),Mv=SX(xX());function SX(e){return e&&e.__esModule?e:{default:e}}function w8e(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(w8e=function(o){return o?r:t})(e)}function s0t(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=w8e(t);if(r&&r.has(e))return r.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var s=i?Object.getOwnPropertyDescriptor(e,n):null;s&&(s.get||s.set)?Object.defineProperty(o,n,s):o[n]=e[n]}return o.default=e,r&&r.set(e,o),o}function Xl(e,t,r){return t=a0t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a0t(e){var t=l0t(e,"string");return typeof t=="symbol"?t:String(t)}function l0t(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kd={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},b1=kd.mouse,Dx=class extends bX.Component{constructor(){super(...arguments),Xl(this,"dragging",!1),Xl(this,"lastX",NaN),Xl(this,"lastY",NaN),Xl(this,"touchIdentifier",null),Xl(this,"mounted",!1),Xl(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;let r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");let{ownerDocument:o}=r;if(this.props.disabled||!(t.target instanceof o.defaultView.Node)||this.props.handle&&!(0,ul.matchesSelectorAndParentsTo)(t.target,this.props.handle,r)||this.props.cancel&&(0,ul.matchesSelectorAndParentsTo)(t.target,this.props.cancel,r))return;t.type==="touchstart"&&t.preventDefault();let i=(0,ul.getTouchIdentifier)(t);this.touchIdentifier=i;let n=(0,x1.getControlPosition)(t,i,this);if(n==null)return;let{x:s,y:a}=n,l=(0,x1.createCoreData)(this,s,a);(0,Mv.default)("DraggableCore: handleDragStart: %j",l),(0,Mv.default)("calling",this.props.onStart),!(this.props.onStart(t,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,ul.addUserSelectStyles)(o),this.dragging=!0,this.lastX=s,this.lastY=a,(0,ul.addEvent)(o,b1.move,this.handleDrag),(0,ul.addEvent)(o,b1.stop,this.handleDragStop))}),Xl(this,"handleDrag",t=>{let r=(0,x1.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:o,y:i}=r;if(Array.isArray(this.props.grid)){let a=o-this.lastX,l=i-this.lastY;if([a,l]=(0,x1.snapToGrid)(this.props.grid,a,l),!a&&!l)return;o=this.lastX+a,i=this.lastY+l}let n=(0,x1.createCoreData)(this,o,i);if((0,Mv.default)("DraggableCore: handleDrag: %j",n),this.props.onDrag(t,n)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{let l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=o,this.lastY=i}),Xl(this,"handleDragStop",t=>{if(!this.dragging)return;let r=(0,x1.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:o,y:i}=r;if(Array.isArray(this.props.grid)){let l=o-this.lastX||0,c=i-this.lastY||0;[l,c]=(0,x1.snapToGrid)(this.props.grid,l,c),o=this.lastX+l,i=this.lastY+c}let n=(0,x1.createCoreData)(this,o,i);if(this.props.onStop(t,n)===!1||this.mounted===!1)return!1;let a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,ul.removeUserSelectStyles)(a.ownerDocument),(0,Mv.default)("DraggableCore: handleDragStop: %j",n),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Mv.default)("DraggableCore: Removing handlers"),(0,ul.removeEvent)(a.ownerDocument,b1.move,this.handleDrag),(0,ul.removeEvent)(a.ownerDocument,b1.stop,this.handleDragStop))}),Xl(this,"onMouseDown",t=>(b1=kd.mouse,this.handleDragStart(t))),Xl(this,"onMouseUp",t=>(b1=kd.mouse,this.handleDragStop(t))),Xl(this,"onTouchStart",t=>(b1=kd.touch,this.handleDragStart(t))),Xl(this,"onTouchEnd",t=>(b1=kd.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;let t=this.findDOMNode();t&&(0,ul.addEvent)(t,kd.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;let t=this.findDOMNode();if(t){let{ownerDocument:r}=t;(0,ul.removeEvent)(r,kd.mouse.move,this.handleDrag),(0,ul.removeEvent)(r,kd.touch.move,this.handleDrag),(0,ul.removeEvent)(r,kd.mouse.stop,this.handleDragStop),(0,ul.removeEvent)(r,kd.touch.stop,this.handleDragStop),(0,ul.removeEvent)(t,kd.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,ul.removeUserSelectStyles)(r)}}findDOMNode(){var t,r;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(r=this.props)===null||r===void 0||(r=r.nodeRef)===null||r===void 0?void 0:r.current:n0t.default.findDOMNode(this)}render(){return bX.cloneElement(bX.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};DD.default=Dx;Xl(Dx,"displayName","DraggableCore");Xl(Dx,"propTypes",{allowAnyClick:Nc.default.bool,children:Nc.default.node.isRequired,disabled:Nc.default.bool,enableUserSelectHack:Nc.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Nc.default.arrayOf(Nc.default.number),handle:Nc.default.string,cancel:Nc.default.string,nodeRef:Nc.default.object,onStart:Nc.default.func,onDrag:Nc.default.func,onStop:Nc.default.func,onMouseDown:Nc.default.func,scale:Nc.default.number,className:vX.dontSetMe,style:vX.dontSetMe,transform:vX.dontSetMe});Xl(Dx,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})});var E8e=we(Iv=>{"use strict";Object.defineProperty(Iv,"__esModule",{value:!0});Object.defineProperty(Iv,"DraggableCore",{enumerable:!0,get:function(){return LD.default}});Iv.default=void 0;var ND=p0t(P("react")),Di=Av(P("prop-types")),c0t=Av(P("react-dom")),u0t=Av(h8e()),k8e=ID(),Nx=gX(),CX=Ev(),LD=Av(_8e()),OD=Av(xX());function Av(e){return e&&e.__esModule?e:{default:e}}function T8e(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(T8e=function(o){return o?r:t})(e)}function p0t(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=T8e(t);if(r&&r.has(e))return r.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var s=i?Object.getOwnPropertyDescriptor(e,n):null;s&&(s.get||s.set)?Object.defineProperty(o,n,s):o[n]=e[n]}return o.default=e,r&&r.set(e,o),o}function PX(){return PX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},PX.apply(this,arguments)}function Ox(e,t,r){return t=d0t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d0t(e){var t=m0t(e,"string");return typeof t=="symbol"?t:String(t)}function m0t(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lx=class extends ND.Component{static getDerivedStateFromProps(t,r){let{position:o}=t,{prevPropsPosition:i}=r;return o&&(!i||o.x!==i.x||o.y!==i.y)?((0,OD.default)("Draggable: getDerivedStateFromProps %j",{position:o,prevPropsPosition:i}),{x:o.x,y:o.y,prevPropsPosition:{...o}}):null}constructor(t){super(t),Ox(this,"onDragStart",(r,o)=>{if((0,OD.default)("Draggable: onDragStart: %j",o),this.props.onStart(r,(0,Nx.createDraggableData)(this,o))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),Ox(this,"onDrag",(r,o)=>{if(!this.state.dragging)return!1;(0,OD.default)("Draggable: onDrag: %j",o);let i=(0,Nx.createDraggableData)(this,o),n={x:i.x,y:i.y,slackX:0,slackY:0};if(this.props.bounds){let{x:a,y:l}=n;n.x+=this.state.slackX,n.y+=this.state.slackY;let[c,u]=(0,Nx.getBoundPosition)(this,n.x,n.y);n.x=c,n.y=u,n.slackX=this.state.slackX+(a-n.x),n.slackY=this.state.slackY+(l-n.y),i.x=n.x,i.y=n.y,i.deltaX=n.x-this.state.x,i.deltaY=n.y-this.state.y}if(this.props.onDrag(r,i)===!1)return!1;this.setState(n)}),Ox(this,"onDragStop",(r,o)=>{if(!this.state.dragging||this.props.onStop(r,(0,Nx.createDraggableData)(this,o))===!1)return!1;(0,OD.default)("Draggable: onDragStop: %j",o);let n={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){let{x:a,y:l}=this.props.position;n.x=a,n.y=l}this.setState(n)}),this.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,prevPropsPosition:{...t.position},slackX:0,slackY:0,isElementSVG:!1},t.position&&!(t.onDrag||t.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var t,r;return(t=(r=this.props)===null||r===void 0||(r=r.nodeRef)===null||r===void 0?void 0:r.current)!==null&&t!==void 0?t:c0t.default.findDOMNode(this)}render(){let{axis:t,bounds:r,children:o,defaultPosition:i,defaultClassName:n,defaultClassNameDragging:s,defaultClassNameDragged:a,position:l,positionOffset:c,scale:u,...p}=this.props,m={},h=null,x=!!!l||this.state.dragging,v=l||i,b={x:(0,Nx.canDragX)(this)&&x?this.state.x:v.x,y:(0,Nx.canDragY)(this)&&x?this.state.y:v.y};this.state.isElementSVG?h=(0,k8e.createSVGTransform)(b,c):m=(0,k8e.createCSSTransform)(b,c);let S=(0,u0t.default)(o.props.className||"",n,{[s]:this.state.dragging,[a]:this.state.dragged});return ND.createElement(LD.default,PX({},p,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),ND.cloneElement(ND.Children.only(o),{className:S,style:{...o.props.style,...m},transform:h}))}};Iv.default=Lx;Ox(Lx,"displayName","Draggable");Ox(Lx,"propTypes",{...LD.default.propTypes,axis:Di.default.oneOf(["both","x","y","none"]),bounds:Di.default.oneOfType([Di.default.shape({left:Di.default.number,right:Di.default.number,top:Di.default.number,bottom:Di.default.number}),Di.default.string,Di.default.oneOf([!1])]),defaultClassName:Di.default.string,defaultClassNameDragging:Di.default.string,defaultClassNameDragged:Di.default.string,defaultPosition:Di.default.shape({x:Di.default.number,y:Di.default.number}),positionOffset:Di.default.shape({x:Di.default.oneOfType([Di.default.number,Di.default.string]),y:Di.default.oneOfType([Di.default.number,Di.default.string])}),position:Di.default.shape({x:Di.default.number,y:Di.default.number}),className:CX.dontSetMe,style:CX.dontSetMe,transform:CX.dontSetMe});Ox(Lx,"defaultProps",{...LD.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})});var A8e=we((n7o,BD)=>{"use strict";var{default:M8e,DraggableCore:f0t}=E8e();BD.exports=M8e;BD.exports.default=M8e;BD.exports.DraggableCore=f0t});var Gv={feedRate:10,depthPerPass:.015,plungeRate:9,spindleSpeed:12e3};var x3=M(P("redux"),1);function lY(e){return({dispatch:r,getState:o})=>i=>n=>typeof n=="function"?n(r,o,e):i(n)}var Hv=lY(),cY=lY;var uY=typeof Symbol<"u"?Symbol.prototype:null;function yve(e){return function(t){return toString.call(t)==="[object "+e+"]"}}var pY=yve("Function");function xve(e,t){return e!=null&&Object.prototype.hasOwnProperty.call(e,t)}function zv(e,t,r,o){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;if(typeof e.explode<"u"&&typeof t.explode<"u")return zv(e.explode(),t.explode());var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:bve(e,t,r,o)}function bve(e,t,r,o){var i=toString.call(e);if(i!==toString.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return uY.valueOf.call(e)===uY.valueOf.call(t)}var n=i==="[object Array]";if(!n){if(typeof e!="object"||typeof t!="object")return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(pY(s)&&s instanceof s&&pY(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],o=o||[];for(var l=r.length;l--;)if(r[l]===e)return o[l]===t;if(r.push(e),o.push(t),n){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!zv(e[l],t[l],r,o))return!1}else{var c=Object.keys(e),u;if(l=c.length,Object.keys(t).length!==l)return!1;for(;l--;)if(u=c[l],!(xve(t,u)&&zv(e[u],t[u],r,o)))return!1}return r.pop(),o.pop(),!0}var vve=function(e,t){return zv(e,t)},_r=vve;var Sve={SHAPEOKO:"shapeoko",XCARVE:"x-carve",XCARVE_PRO:"x-carve pro",CARVEY:"carvey (grbl)",OTHER_GRBL:"other (grbl)",OTHER_FLUIDNC:"other (fluidnc)"},ze=Sve;var Cve={rpm:{CARVEY:12e3},recommendedSettings:{[ze.CARVEY]:{11:.01,122:30}},probeDefaults:{probeDistance:3.1,probeThickness:.59,probeRate:5,probeRetractDistance:.25,units:"in"},probeLimits:{probeDistance:4},xCarve:{preconfigured:{electronicsType:"x-controller",hasDustShoe:!0,leadScrewType:"direct-drive",machineModel:"",machineType:"x-carve",railSize:{x:1e3,y:1e3},spindleType:"makita",belts:"3gt",automaticSpindleControl:!1,workArea:{x:29.5276,y:29.5276}},railSizeXY:{"1000x1000":{x:1e3,y:1e3},"750x750":{x:750,y:750},"500x500":{x:500,y:500}},workAreaByRailSize:{"1000x1000":{x:29.5276,y:29.5276},"750x750":{x:19.685,y:19.685},"500x500":{x:9.842,y:9.842}}}},Bc=Cve;var Pve={EaselDriver:"easel_driver",None:"none"},Hx=Pve;var dY={$schema:"http://json-schema.org/draft-07/schema#",$comment:"See cabinetmaker_version.rb and cabinet_constants.js which read this file to initialize version info",properties:{version:{type:"integer",minimum:36,maximum:46}}};var _ve={VERSION:dY.properties.version.maximum,ROOM_HEIGHT:96,EYE_LEVEL:63,bitWidth:.25,cutTolerance:.015,mortiseTenonDepthTolerance:.03125,blindDadoSideOffset:1,minToeKickTenonHeight:.499,concealedHingeHoleDiameter:1.37795,concealedHingeHoleDepth:.5,concealedHingeXOffset:.1875,concealedHingeScrewHoleYOffset:.88583,concealedHingeScrewHoleXOffset:.374,concealedHingeScrewHoleDiameter:.31496,bifoldHingeHoleDepth:.433071,leadingDoorHingeHoleYOffset:.629921,leadingHingePocketBoringDistance:-.196849,blindCornerInsetDoorSetback:.846457,hardwareScrewHoleDepth:.0625,doorThicknessMin:.394,drawer:{horizontalOffset:.827,backOffset:2.75,verticalOffset:1,insetRunnerSetbackConstant:.4527559,runnerSetBack:.11811,drawerBottomToRunnerBottom:.5118,boxThickness:{max:.63,feedback:"Maximum thickness determined by supported Blum TANDEM 563 Series slides"},bottomInset:.5,hardware:{"blum-tandem-563h":{minDepth:12,maxDepth:33,options:[{length:9,mountsOffsetsHorizontal:[.275,1.063,3.78,3.78],mountsOffsetsVertical:1.457,backMountOffsetHorizontal:.28125,backMountOffsetVertical:.4375,backMountDepth:.40625},{length:12,mountsOffsetsHorizontal:[.275,1.063,1.26,3.78,3.78],mountsOffsetsVertical:1.457,backMountOffsetHorizontal:.28125,backMountOffsetVertical:.4375,backMountDepth:.40625},{length:15,mountsOffsetsHorizontal:[.275,1.063,1.26,3.78,7.559],mountsOffsetsVertical:1.457,backMountOffsetHorizontal:.28125,backMountOffsetVertical:.4375,backMountDepth:.40625},{length:18,mountsOffsetsHorizontal:[.275,1.063,1.26,7.559,7.559],mountsOffsetsVertical:1.457,backMountOffsetHorizontal:.28125,backMountOffsetVertical:.4375,backMountDepth:.40625},{length:21,mountsOffsetsHorizontal:[.275,1.063,1.26,7.559,10.078],mountsOffsetsVertical:1.457,backMountOffsetHorizontal:.28125,backMountOffsetVertical:.4375,backMountDepth:.40625},{length:24,mountsOffsetsHorizontal:[.275,1.063,1.26,7.559,5.039],mountsOffsetsVertical:1.457,backMountOffsetHorizontal:.28125,backMountOffsetVertical:.4375,backMountDepth:.40625},{length:27,mountsOffsetsHorizontal:[.275,1.063,1.26,7.559,5.039],mountsOffsetsVertical:1.457,backMountOffsetHorizontal:.28125,backMountOffsetVertical:.4375,backMountDepth:.40625},{length:30,mountsOffsetsHorizontal:[.275,1.063,1.26,7.559,5.039],mountsOffsetsVertical:1.457,backMountOffsetHorizontal:.28125,backMountOffsetVertical:.4375,backMountDepth:.40625}],faceFrameRearBracket:{offsets:[{x:.551,y:.629},{x:.551,y:1.889}]}}}},frame:{style:{frameless:"frameless",faceFrame:"face-frame"},defaultMaterial:{name:"Soft Maple",thickness:.75}},kerf:1,shelves:{pinHoles:{horizontalOffset:1.4566929134,horizontalOffsetInset:1.5157480315,verticalOffset:6,spacing:1.25984,groupQuantity:5},undersize:{width:.125,depth:.25}},door:{pullSpacingNominal:{64:"2-1/2",76:"3",96:"3-3/4",128:"5-1/16",160:"6-5/16"},types:{overlay:"overlay",inset:"inset"},bifoldType:{jamb:"jamb",leading:"leading"}},pullStyles:{none:"none",knob:"knob",pull:"pull"},toekick:{height:4,depth:3},sinkStretcherStyle:{frontAndBack:"front-and-back",front:"front",none:"none"},frontStyles:{plain:"plain",shaker:"shaker",glass:"glass"},stretcherDepth:4,back:{minHeightForAdditionalStretchers:34,heightForAdditionalStretchers:24},ninetyDegreeCorner:{cornerGap:3},wallCabinetsVerticalOffset:54,job:{unnamedJobName:"Untitled Job"},frontStyleDisplayNames:{plain:"Flat Panel",shaker:"Shaker",glass:"Glass Frame"}},ve=_ve;async function T1(e,t,r){let o={method:e,body:r,headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-Token":my(),"Easel-Version-CabinetMaker":`${ve.VERSION}`,"Easel-Version-Git":EASEL_VERSION}},i=await fetch(t,o);if(i.status===204)return;if(i.ok)return i.json();let n=null;try{n=(await i.json())?.error}catch{}throw n??i.statusText}async function Wr(e){return T1("GET",e)}async function kt(e,t){return T1("POST",e,t)}async function pa(e,t){return T1("PUT",e,t)}async function dy(e,t){return T1("PATCH",e,t)}async function Yl(e,t){return T1("DELETE",e,t)}function Qh(e,t){let r=new ActiveStorage.DirectUpload(e,t);return new Promise((o,i)=>{r.create((n,s)=>n?i(n):o(s))})}function zx(){return{"X-CSRF-Token":my()}}function my(){return document.querySelector("[name='csrf-token']")?.content}var kve={create(e,t){let r=JSON.stringify({name:e,settings_json:JSON.stringify(t)});return kt("/machine_profiles",r)},get(){return Wr("/machine_profiles")},update(e,t){let r={settings_json:JSON.stringify(t.settings),name:t.name,pro_required:t.proRequired};Object.keys(r).forEach(i=>r[i]===void 0&&delete r[i]);let o=JSON.stringify(r);return pa(`/machine_profiles/${e}`,o)},destroy(e){return Yl(`/machine_profiles/${e}`)},fromSettings(e){let t={version:4,geometry:{work_area:{x:e.workArea?.x||11.2,y:e.workArea?.y||11.2}},router:{model:e.spindleType,automatic_spindle:e.automaticSpindleControl||!1},accessories:{dust_shoe:e.hasDustShoe||!1,coolant:e.accessoriesEnabled||!1},firmware:{system:e.machineType===ze.OTHER_FLUIDNC?"fluidnc":"grbl"}};if(e.leadScrewType&&(t.geometry.leadscrews={z:e.leadScrewType}),e.belts&&(t.belts=e.belts),e.spindleRPM!=null&&(t.router.spindle_rpm=e.spindleRPM),e.probeEnabled){let r=e.probePreferences||Bc.probeDefaults,o=25.4;r.units==="mm"&&(o=1),t.accessories.z_probe={max_travel:r.probeDistance*o,thickness:r.probeThickness*o,rate:r.probeRate*o,retract:r.probeRetractDistance*o}}switch(t.connection={...e.manualConnectionPreference&&e.comPort!=null&&{com_port:e.comPort},type:e.connectionType||Hx.EaselDriver},e.machineType){case ze.XCARVE_PRO:t.product={make:"Inventables",model:"X-Carve Pro",serialNumber:e.serialNumber};break;case ze.XCARVE:t.product={make:"Inventables",model:"X-Carve"};break;case ze.CARVEY:t.product={make:"Inventables",model:"Carvey"};break;case ze.SHAPEOKO:t.product={make:"Carbide3D",model:"Shapeoko"};break;case ze.OTHER_FLUIDNC:case ze.OTHER_GRBL:t.product={make:e.thirdPartyMake??"other",model:e.thirdPartyModel??"unspecified",otherMake:e.otherMake,otherModel:e.otherModel};break}return t},toSettings(e){let t=e.settings;if(t==null)return;let r,o,i,n,s=this.machineTypeFromProfile(e);(s===ze.OTHER_GRBL||s===ze.OTHER_FLUIDNC)&&(r=t.product?.make,o=t.product?.model,i=t.product?.otherMake,n=t.product?.otherModel);let a={profileId:e.id,machineType:s,thirdPartyMake:r,thirdPartyModel:o,otherMake:i,otherModel:n,workArea:{x:t.geometry.work_area.x,y:t.geometry.work_area.y},leadScrewType:t.geometry.leadscrews&&t.geometry.leadscrews.z,manualConnectionPreference:t.connection?.com_port!=null,isDefault:!1,serialNumber:t.product?.serialNumber};return t.router!=null&&(a.spindleType=t.router.model,a.automaticSpindleControl=t.router.automatic_spindle,a.spindleRPM=t.router.spindle_rpm),t.accessories!=null&&(a.probeEnabled=t.accessories.z_probe!=null,a.accessoriesEnabled=t.accessories.coolant,a.hasDustShoe=t.accessories.dust_shoe),t.belts!=null&&(a.belts=t.belts),a.probeEnabled&&(a.probePreferences={units:"mm",probeDistance:t.accessories.z_probe.max_travel,probeThickness:t.accessories.z_probe.thickness,probeRate:t.accessories.z_probe.rate,probeRetractDistance:t.accessories.z_probe.retract}),a.manualConnectionPreference&&(a.comPort=t.connection?.com_port),a.connectionType=t.connection?.type??Hx.EaselDriver,a},machineTypeFromProfile(e){switch(e.settings.product?.model){case"X-Carve Pro":return ze.XCARVE_PRO;case"X-Carve":return ze.XCARVE;case"Carvey":return ze.CARVEY;case"Shapeoko":return ze.SHAPEOKO;default:return e.settings.firmware?.system==="fluidnc"?ze.OTHER_FLUIDNC:ze.OTHER_GRBL}}},Hs=kve;var Tve={canceledEaselPro:"Canceled Easel Pro",pausedEaselPro:"Paused Easel Pro",resumedEaselPro:"Resumed Easel Pro",completedSuccessfully:"Successful Job",completedTutorial:"Completed Tutorial",completedUnsuccessfully:"Unsuccessful Job",newUser:"New User",purchasedSubscription:"Purchased Subscription",startedJob:"Started Job",commentedInGallery:"Commented in Gallery",activateApp:"Activate App",addedBasicShape:"Added Basic Shape",addedDrillHole:"Added Drill Hole",addCutSetting:"Added Cut Setting",addedText:"Added Text",alignedShapes:"Aligned Shapes",answerbotClosed:"AnswerBot Closed",answerbotOpened:"AnswerBot Opened",answeredOnboardingSurvey:"Answered Onboarding Survey",appliedTextTransformation:"Applied Text Effect Transformation",carveSubmitFailed:"Carve - Failed to Save",centeredToMaterial:"Centered to Material",changedBit:"Changed Bit",changedMaterial:"Changed Material",addedPass:"Added Pass",removedPass:"Removed Pass",changedProjectUnit:"Changed Project Unit",changedXYZero:"Changed X/Y Zero",clickedLearnMore:"Clicked Learn More - EP Feature",clickedMoreFeaturedProjects:"Clicked More in Featured Projects",clickedManageSubscription:"Clicked Manage Subscription",clickedSupportCTA:"Clicked Support CTA",clickedUpdatePaymentNavButton:"Clicked Update Payment Nav Button",combinedShapes:"Combined Shapes",completedJob:"Completed Job",connected127001:"Driver Connected - 127.0.0.1",connectedInventableslocalhost:"Driver Connected - inventableslocalhost",distributedShapes:"Distributed Shapes",deletedProject:"Deleted project",downloadGCode:"Downloaded G-code",downloadProjectZip:"Downloaded Project Zip",enabledAdditionalCutDepth:"Enabled Additional Cut Depth",failedWithFeedback:"Failed Job - No Feedback",failedWithoutFeedback:"Failed Job - With Feedback",featuresModalFeatureViewed:"Features Modal - Viewed",featuresModalOpen:"Features Modal - Opened",featuresModalShared:"Features Modal - Shared",featuresModalDisabledFeature:"Features Modal - Disabled Feature",featuresModalEnabledFeature:"Features Modal - Enabled Feature",fontChanged:"Font Changed",fontInstalled:"Font Installed",fontUninstalled:"Font Uninstalled",fontUploadError:"Font Upload Error",importedSVG:"Imported SVG",layeringTool:"Layering Tool",loadedProject:"Loaded project",localSenderVersion:"Local Sender Version",loadedSavedCutSettings:"Loaded Saved Cut Settings",loggedIn:"Logged in",machineControlVersionToggled:"Toggled version of machine controls",machineProfileCreated:"Created Machine Profile",machineProfileEdited:"Edited Machine Profile",machineProfileSelected:"Selected Machine Profile",machineProfileUninstalled:"Uninstalled Machine Profile",materialAdded:"Material Added",menuNavProjectsClicked:"Menu Nav Projects Click",menuNavStoreClicked:"Menu Nav Store Click",menuNavVideosClicked:"Menu Nav Videos Click",newProject:"New Project",openAppList:"Open App List",openedEaselFeedback:"Opened Easel Feedback",openedFontLibrary:"Opened Font Library",openedNewProjectStartModal:"Opened New Project Start Modal",closedNewProjectStartModal:"Closed New Project Start Modal",openUserModal:"Open Account Modal",visitedLearnTab:"Visited Learning Tab",openedActivityTab:"Opened Activity Tab",offsetShape:"Offset Shape",replicateShapes:"Replicate Shapes",convertedCirclesToDrillHoles:"Converted Circles to Drill Holes",openedFeaturedProject:"Opened Featured Project",openedProjectSharingModal:"Opened Sharing Project Modal",openedPublishingModal:"Opened Project Publishing Modal",pannedUsingRightClick:"Panned using right click",probeCancelled:"Cancelled Probe Routine",probeFailed:"Failed Probe Routine",probeStarted:"Started Probe Routine",probeSuccessful:"Successful Probe Routine",projectLabelAssigned:"Assigned Project Label to Project",projectLabelCreated:"Created Project Label",projectLabelDeleted:"Deleted Project Label",projectLabelEdited:"Edited Project Label",projectLabelFiltered:"Filtered Projects by Project Label",projectLabelUnassigned:"Unassigned Project Label to Project",redirectedToMachineSettings:"Clicked redirect from General Settings to Machine Settings",renameVolumes:"Rename volumes",repeatCarveStep:"Clicked Repeat Carve in Walkthrough",resumeCarveConfirmed:"Resume Carve Confirmed in Walkthrough",resumeCarveSelected:"Resume Carve Selected in Walkthrough",resetProjectDefaults:"Reset Project Defaults",saveVersionMismatchError:"Failed Save - Version mismatch",savedProjectDefaults:"Saved Project Defaults",selectedEaselProPlan:"Selected Easel Pro Plan",selectedEaselGettingStartedOption:"Got Started in Easel",settingsUpdateFailed:"Settings Update Failed",settingsUpdateSuccessful:"Settings Update Successful",showedSubscriptionPaywall:"Viewed ECM Paywall",showedAccountModal:"Viewed Easel Pro paywall",signedUp:"Signed up",simulatedToolpaths:"Simulated Toolpaths",startedPlaning:"Started Planing",startedTutorial:"Started Tutorial",submittedEaselFeedback:"Submitted Easel Feedback",triggeredSave:"Triggered Save",uiError:"General Easel Error",usedAdditionalCutThroughDepth:"Cut Properties - set additional depth",userFlowElementPresent:"User Flow Element Present",userFlowManuallyStartedChecklist:"User Flow Manually Started Checklist",userFlowBeforeInit:"User Flow Before Init",userFlowAfterInit:"User Flow After Init",viewedErrorMessage:"Viewed Error Message",viewedUserModalNotification:"Viewed User Modal Notification",viewedWarningMessage:"Viewed Warning Message",workpieceSaveVersionMismatchError:"Failed Workpiece Save - Version Mismatch",errorLoadingWASM:"Error loading WASM library",editor:{activateLineToolMode:"Activate Line Tool Mode",addedLineToolPath:"Added Line Tool Path",selectedPathPoints:"Selected Path Points",openedDesignElementsPanel:"Open Design Elements Panel",importedDesignElement:"Import Design Element"},proContent:{additionalDepth:"Additional Depth",advancedZeroing:"Advanced Zeroing: Carving from Center",customBit:"Custom Bit",customBitAdded:"Custom Bit Added",customDetailBit:"Custom Detail Bit",customMaterial:"Custom Material",customFontUploaded:"Custom Font Uploaded",customFontChanged:"Custom Font Changed",enabledRasterEngraving:"Enabled Raster Engraving",enabledTiling:"Enabled Tiling",enabledRamping:"Enabled Ramping",fontLibrary:"Font Library",machineProfiles:"Machine Profiles",proIcon:"Pro Icon",projectLabels:"Project Labels",rampingToolpaths:"Ramping toolpaths",rasterFilling:"Raster Filling",resumeCarve:"Resume Carve",savedCutSettings:"Saved Cut Settings",textEffects:"Text Effects",threeDeeCarving:"3D Carving",tiling:"Tiling",vCarving:"V Carving"},threeD:{centeredModel:"User centered model to material",clickedMeshSimplification:"Clicked Mesh Simplification Link",generateToolpathsCancel:"Generate 3D Toolpaths Canceled",generateToolpathsEnd:"Generate 3D Toolpaths Finished",generateToolpathsError:"3D toolpath generation error",generateToolpathsStart:"Generate 3D Toolpaths Started",importFailed:"Import 3D Mesh Failed",importSuccess:"Imported 3D Mesh",openImportModal:"Opened Import 3D Mesh Modal"},cabinetDesigner:{addedFloorplanObject:"Added Floorplan Object",deletedFloorplanObject:"Deleted Floorplan Object",movedFloorplanObject:"Moved Floorplan Object",openedNewCutListModal:"Opened New Cut List modal",generateCutList:"Generate cutlist",printCutlist:"Print cutlist",deleteCutlist:"Deleted Cut List",renameCutlist:"Rename Cut List",exportCutlist:"Export Cut List to Easel",openedECMCarve:"Opened carve walkthrough via ECM",openedCabinetDesigner:"Opened Cabinet Designer",openedHamburgerMenu:"Opened Hamburger Menu",clickedMenuOption:"Click Menu Option",generatedHomeownerLink:"Generated homeowner link",viewedHomeownerPage:"Viewed homeowner page",postedComment:"Posted comment",changedDoorStyle:"Changed Door Style",changedCornerSide:"Changed Corner Side",changedRoomLayout:"Changed Room Layout",rearrangedCabinet:"Rearranged Cabinet",renameCabinet:"Rename Cabinet",expandedBOM:"Expanded BOM",openedECMChat:"Opened ECM chat",closedECMChat:"Closed ECM chat",changedECMTab:"Changed ECM Tabs",selectedEstimateInputField:"Selected Estimate input field",expressedInterest:"Expressed Interest",printEstimate:"Print Estimate",clickShowAllCabinets:"Clicked Show All Cabinets",clickedHomeView:"Clicked Home View",openedECMFeedback:"Opened ECM Feedback",submittedECMFeedback:"Submitted ECM Feedback",compilerError:"Cabinet Compiler Error",movedPanelToSheet:"Moved panel to another sheet",duplicatedPanel:"Duplicated panel",deletedPanel:"Deleted panel",rotatedPanel:"Rotated panel",repositionedPanel:"Repositioned panel",customColorSelected:"Selected custom color",sheenSelected:"Selected Sheen",keyboardShortcutsMenuToggled:"Toggled Keyboard Shortcuts Menu",changedECMView:"Changed ECM View",floorplanNodeDragged:"Dragged Floorplan Editor Node",floorplanNodeAdded:"Added Floorplan Editor Node",floorplanNodeSelected:"Selected Floorplan Editor Node",floorplanNodeDeleted:"Deleted Floorplan Editor Node",floorplanAlignmentLinesShown:"Triggered Floorplan Editor Alignment Lines",printCoutertops:"Print countertops",enabledCountertops:"Enabled countertops",disabledCountertops:"Disabled countertops",renameWall:"Rename Wall"},jobs:{editJob:"Edited Job",deleteJob:"Deleted Job",visitedDemo:"Visited Demo page",createdNote:"New Job Note",editedNote:"Edited Job Note",deleteNote:"Deleted Note",searchedNotes:"Searched Notes",visitedJobs:"Visited Jobs page",visitedJob:"Visited Job page",createdJob:"Created Job",addedProjectToJob:"Added Project to Job",openedAssociatedProject:"Opened associated Project for job",startedTour:"Started Tour",clickedSignIn:"Clicked ECM Demo Sign-In",clickedNextInTour:"Click Next in Tour",searchedJobsList:"Searched Jobs List"},measurement:{measureToolActivated:"Measure Tool Activated",measureLineAdded:"Measure Line Added",showMeasureLine:"Show Measure Line",hideMeasureLine:"Hide Measure Line",deletedMeasureLine:"Deleted Measure Line"},toolbox:{addedBit:"Toolbox Added Bit",bulkAction:"Toolbox Bulk Action",filtered:"Toolbox Filtered",opened:"Toolbox Opened",purchase:"Toolbox Purchase Link Clicked",search:"Toolbox Search",toggleViewType:"Toolbox Toggle View Type"},shared:{openedSharedProject:"Opened Shared Project"}},uf={always:"always",once:"once",daily:"daily"},U=Tve;or();Fc();function GY(e,t,r,o){var i,n=[e,t,r,o],s=zs(e)?e.event:e;if(!s||!Dd(s))throw new Error("Event missing");var a=zs(e)?(i=e.properties)!==null&&i!==void 0?i:{}:zs(t)?t:{},l={};E1(r)||(l=r??{}),zs(e)&&!E1(t)&&(l=t??{});var c=n.find(E1);return[s,a,l,c]}function yN(e,t,r,o,i){var n,s,a=null,l=null,c=[e,t,r,o,i],u=c.filter(Dd);u.length===1?Dd(c[1])?(l=c[1],a=null):(l=u[0],a=null):u.length===2&&(typeof c[0]=="string"&&(a=c[0]),typeof c[1]=="string"&&(l=c[1]));var p=c.find(E1),m=c.filter(zs);return m.length===1?zs(c[2])?(s={},n=c[2]):zs(c[3])?(n={},s=c[3]):(n=m[0],s={}):m.length===2&&(n=m[0],s=m[1]),[a,l,n??(n={}),s??(s={}),p]}var xN=function(e){return function(){for(var t,r,o,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];for(var s={},a=["callback","options","traits","id"],l=0,c=i;l<c.length;l++){var u=c[l],p=a.pop();if(p==="id"){if(Dd(u)||Yv(u)){s.id=u.toString();continue}if(u==null)continue;p=a.pop()}if((p==="traits"||p==="options")&&(u==null||zs(u))&&(s[p]=u),E1(u)){s.callback=u;break}}return[(t=s.id)!==null&&t!==void 0?t:e.id(),(r=s.traits)!==null&&r!==void 0?r:{},(o=s.options)!==null&&o!==void 0?o:{},s.callback]}};function HY(e,t,r,o){Yv(e)&&(e=e.toString()),Yv(t)&&(t=t.toString());var i=[e,t,r,o],n=i.filter(Dd),s=n[0],a=s===void 0?e:s,l=n[1],c=l===void 0?null:l,u=i.filter(zs)[0],p=u===void 0?{}:u,m=i.find(E1);return[a,c,p,m]}yy();Nd();Fc();M1();or();Jv();function jve(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()==="object"}var PN="bpc",wN=function(e,t,r,o,i,n){return{__t:PN,c:t,p:o,u:e,s:r,t:i,r:n}},Gve=Object.keys(wN("","","","","",""));function _N(e){if(!jve(e)||e.__t!==PN)return!1;for(var t in e)if(!Gve.includes(t))return!1;return!0}var Hve=function(e,t){return e.indexOf("?")>-1?e:e+t},zve=function(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)},Xve=function(e){try{return new URL(e).pathname}catch{return e[0]==="/"?e:"/"+e}},nS=function(e){var t=e.c,r=e.p,o=e.s,i=e.u,n=e.r,s=e.t,a=t?Xve(t):r,l=t?Hve(t,o):zve(i);return{path:a,referrer:n,search:o,title:s,url:l}},sS=function(){var e=document.querySelector("link[rel='canonical']");return wN(location.href,e&&e.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},kN=function(){return nS(sS())};or();or();function $Y(e,t){return Object.assign.apply(Object,mo([{}],t.map(function(r){var o;if(e&&Object.prototype.hasOwnProperty.call(e,r))return o={},o[r]=e[r],o}),!1))}var D1=function(e,t){t===void 0&&(t=kN());var r=e.context,o;e.type==="page"&&(o=e.properties&&$Y(e.properties,Object.keys(t)),e.properties=xe(xe(xe({},t),e.properties),e.name?{name:e.name}:{})),r.page=xe(xe(xe({},t),o),r.page)};Fc();var ZY=function(e){$o(t,e);function t(r){var o=e.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat(gy())},onEventMethodCall:function(i){var n=i.options;o.maybeUpdateAnonId(n)},onFinishedEvent:function(i){return o.addIdentity(i),i}})||this;return o.user=r,o}return t.prototype.maybeUpdateAnonId=function(r){r?.anonymousId&&this.user.anonymousId(r.anonymousId)},t.prototype.addIdentity=function(r){this.user.id()&&(r.userId=this.user.id()),this.user.anonymousId()&&(r.anonymousId=this.user.anonymousId())},t.prototype.track=function(r,o,i,n,s){var a=e.prototype.track.call(this,r,o,i,n);return D1(a,s),a},t.prototype.page=function(r,o,i,n,s,a){var l=e.prototype.page.call(this,r,o,i,n,s);return D1(l,a),l},t.prototype.screen=function(r,o,i,n,s,a){var l=e.prototype.screen.call(this,r,o,i,n,s);return D1(l,a),l},t.prototype.identify=function(r,o,i,n,s){var a=e.prototype.identify.call(this,r,o,i,n);return D1(a,s),a},t.prototype.group=function(r,o,i,n,s){var a=e.prototype.group.call(this,r,o,i,n);return D1(a,s),a},t.prototype.alias=function(r,o,i,n,s){var a=e.prototype.alias.call(this,r,o,i,n);return D1(a,s),a},t}(bY);var JY=function(e){return"addMiddleware"in e&&e.type==="destination"};or();Qx();Fc();yy();var tq=function(e){$o(t,e);function t(r){return e.call(this,typeof r=="string"?new r5(4,r):r)||this}return t.prototype.flush=function(){return Le(this,void 0,void 0,function(){return Be(this,function(r){return Wc()?[2,[]]:[2,e.prototype.flush.call(this)]})})},t}(FY);or();Jv();function vy(e){for(var t=e.constructor.prototype,r=0,o=Object.getOwnPropertyNames(t);r<o.length;r++){var i=o[r];if(i!=="constructor"){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);n&&typeof n.value=="function"&&(e[i]=e[i].bind(e))}}return e}or();function aS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)e[o]=r[o]}return e}var Zve={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function EN(e,t){function r(i,n,s){if(!(typeof document>"u")){s=aS({},t,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in s)s[l]&&(a+="; "+l,s[l]!==!0&&(a+="="+s[l].split(";")[0]));return document.cookie=i+"="+e.write(n,i)+a}}function o(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var n=document.cookie?document.cookie.split("; "):[],s={},a=0;a<n.length;a++){var l=n[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(s[u]=e.read(c,u),i===u)break}catch{}}return i?s[i]:s}}return Object.create({set:r,get:o,remove:function(i,n){r(i,"",aS({},n,{expires:-1}))},withAttributes:function(i){return EN(this.converter,aS({},this.attributes,i))},withConverter:function(i){return EN(aS({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Jve=EN(Zve,{path:"/"}),Vu=Jve;function Kve(e){var t=e.hostname,r=t.split("."),o=r[r.length-1],i=[];if(r.length===4&&parseInt(o,10)>0||r.length<=1)return i;for(var n=r.length-2;n>=0;--n)i.push(r.slice(n).join("."));return i}function Qve(e){try{return new URL(e)}catch{return}}function lS(e){var t=Qve(e);if(t)for(var r=Kve(t),o=0;o<r.length;++o){var i="__tld__",n=r[o],s={domain:"."+n};try{if(Vu.set(i,"1",s),Vu.get(i))return Vu.remove(i,s),n}catch{return}}}var eSe=365,cS=function(){function e(t){t===void 0&&(t=e.defaults),this.options=xe(xe({},e.defaults),t)}return Object.defineProperty(e,"defaults",{get:function(){return{maxage:eSe,domain:lS(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),e.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},e.prototype.get=function(t){var r;try{var o=Vu.get(t);if(o==null)return null;try{return(r=JSON.parse(o))!==null&&r!==void 0?r:null}catch{return o??null}}catch{return null}},e.prototype.set=function(t,r){typeof r=="string"?Vu.set(t,r,this.opts()):r===null?Vu.remove(t,this.opts()):Vu.set(t,JSON.stringify(r),this.opts())},e.prototype.remove=function(t){return Vu.remove(t,this.opts())},e}();var rq=function(){function e(){}return e.prototype.localStorageWarning=function(t,r){console.warn("Unable to access ".concat(t,", localStorage may be ").concat(r))},e.prototype.get=function(t){var r;try{var o=localStorage.getItem(t);if(o===null)return null;try{return(r=JSON.parse(o))!==null&&r!==void 0?r:null}catch{return o??null}}catch{return this.localStorageWarning(t,"unavailable"),null}},e.prototype.set=function(t,r){try{localStorage.setItem(t,JSON.stringify(r))}catch{this.localStorageWarning(t,"full")}},e.prototype.remove=function(t){try{return localStorage.removeItem(t)}catch{this.localStorageWarning(t,"unavailable")}},e}();var Sy=function(){function e(){this.cache={}}return e.prototype.get=function(t){var r;return(r=this.cache[t])!==null&&r!==void 0?r:null},e.prototype.set=function(t,r){this.cache[t]=r},e.prototype.remove=function(t){delete this.cache[t]},e}();var Xs={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"};function uS(e){return e&&e.stores&&Array.isArray(e.stores)&&e.stores.every(function(t){return Object.values(Xs).includes(t)})}function oq(e){return typeof e=="object"&&e.name!==void 0}var MN=function(e,t,r,o){console.warn("".concat(e.constructor.name,": Can't ").concat(t,' key "').concat(r,'" | Err: ').concat(o))},Ld=function(){function e(t){this.stores=t}return e.prototype.get=function(t){for(var r=null,o=0,i=this.stores;o<i.length;o++){var n=i[o];try{if(r=n.get(t),r!=null)return r}catch(s){MN(n,"get",t,s)}}return null},e.prototype.set=function(t,r){this.stores.forEach(function(o){try{o.set(t,r)}catch(i){MN(o,"set",t,i)}})},e.prototype.clear=function(t){this.stores.forEach(function(r){try{r.remove(t)}catch(o){MN(r,"remove",t,o)}})},e.prototype.getAndSync=function(t){var r=this.get(t),o=typeof r=="number"?r.toString():r;return this.set(t,o),o},e}();function e4(e){var t=e.map(function(r){var o,i;switch(oq(r)?(o=r.name,i=r.settings):o=r,o){case Xs.Cookie:return new cS(i);case Xs.LocalStorage:return new rq;case Xs.Memory:return new Sy;default:throw new Error("Unknown Store Type: ".concat(r))}});return t}function pS(e,t){return e.map(function(r){return t&&r===Xs.Cookie?{name:r,settings:t}:r})}var N1={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},AN=function(){function e(t,r){t===void 0&&(t=N1);var o=this,i,n,s,a;this.options={},this.id=function(c){if(o.options.disable)return null;var u=o.identityStore.getAndSync(o.idKey);if(c!==void 0){o.identityStore.set(o.idKey,c);var p=c!==u&&u!==null&&c!==null;p&&o.anonymousId(null)}var m=o.identityStore.getAndSync(o.idKey);if(m)return m;var h=o.legacyUserStore.get(N1.cookie.oldKey);return h?typeof h=="object"?h.id:h:null},this.anonymousId=function(c){var u,p;if(o.options.disable)return null;if(c===void 0){var m=(u=o.identityStore.getAndSync(o.anonKey))!==null&&u!==void 0?u:(p=o.legacySIO())===null||p===void 0?void 0:p[0];if(m)return m}return c===null?(o.identityStore.set(o.anonKey,null),o.identityStore.getAndSync(o.anonKey)):(o.identityStore.set(o.anonKey,c??gy()),o.identityStore.getAndSync(o.anonKey))},this.traits=function(c){var u;if(!o.options.disable)return c===null&&(c={}),c&&o.traitsStore.set(o.traitsKey,c??{}),(u=o.traitsStore.get(o.traitsKey))!==null&&u!==void 0?u:{}},this.options=xe(xe({},N1),t),this.cookieOptions=r,this.idKey=(n=(i=t.cookie)===null||i===void 0?void 0:i.key)!==null&&n!==void 0?n:N1.cookie.key,this.traitsKey=(a=(s=t.localStorage)===null||s===void 0?void 0:s.key)!==null&&a!==void 0?a:N1.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,r),this.legacyUserStore=this.createStorage(this.options,r,function(c){return c===Xs.Cookie}),this.traitsStore=this.createStorage(this.options,r,function(c){return c!==Xs.Cookie});var l=this.legacyUserStore.get(N1.cookie.oldKey);l&&typeof l=="object"&&(l.id&&this.id(l.id),l.traits&&this.traits(l.traits)),vy(this)}return e.prototype.legacySIO=function(){var t=this.legacyUserStore.get("_sio");if(!t)return null;var r=t.split("----"),o=r[0],i=r[1];return[o,i]},e.prototype.identify=function(t,r){if(!this.options.disable){r=r??{};var o=this.id();(o===null||o===t)&&(r=xe(xe({},this.traits()),r)),t&&this.id(t),this.traits(r)}},e.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},e.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},e.prototype.load=function(){return new e(this.options,this.cookieOptions)},e.prototype.save=function(){return!0},e.prototype.createStorage=function(t,r,o){var i=[Xs.LocalStorage,Xs.Cookie,Xs.Memory];return t.disable?new Ld([]):t.persist?(t.storage!==void 0&&t.storage!==null&&uS(t.storage)&&(i=t.storage.stores),t.localStorageFallbackDisabled&&(i=i.filter(function(n){return n!==Xs.LocalStorage})),o&&(i=i.filter(o)),new Ld(e4(pS(i,r)))):new Ld([new Sy])},e.defaults=N1,e}();var iq={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},nq=function(e){$o(t,e);function t(r,o){r===void 0&&(r=iq);var i=e.call(this,xe(xe({},iq),r),o)||this;return i.anonymousId=function(n){},vy(i),i}return t}(AN);Qx();Jx();Kx();eS();r4();or();var lq=function(e){return typeof e=="object"&&e!==null&&"then"in e&&typeof e.then=="function"};Jx();r4();tS();var cq=function(e,t,r){r.getAndRemove(e).forEach(function(o){dS(t,o).catch(console.error)})},uq=function(e,t){return Le(void 0,void 0,void 0,function(){var r,o,i;return Be(this,function(n){switch(n.label){case 0:r=0,o=t.getAndRemove("addSourceMiddleware"),n.label=1;case 1:return r<o.length?(i=o[r],[4,dS(e,i).catch(console.error)]):[3,4];case 2:n.sent(),n.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},pq=function(e,t){return Le(void 0,void 0,void 0,function(){var r,o,i;return Be(this,function(n){switch(n.label){case 0:r=0,o=t.getAndRemove("register"),n.label=1;case 1:return r<o.length?(i=o[r],[4,dS(e,i).catch(console.error)]):[3,4];case 2:n.sent(),n.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},dq=cq.bind(void 0,"on"),mq=cq.bind(void 0,"setAnonymousId"),fq=function(e,t){Object.keys(t.calls).forEach(function(r){t.getAndRemove(r).forEach(function(o){setTimeout(function(){dS(e,o).catch(console.error)},0)})})},O1=function(e){if(hq(e)){var t=e.pop();return nS(t)}},hq=function(e){var t=e[e.length-1];return _N(t)},o4=function(){function e(t,r,o,i){o===void 0&&(o=function(){}),i===void 0&&(i=console.error),this.method=t,this.resolve=o,this.reject=i,this.called=!1,this.args=r}return e}();var tSe=function(){function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._callMap={},this.add.apply(this,t)}return Object.defineProperty(e.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(t){this._callMap=t},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var r;return(r=this.calls[t])!==null&&r!==void 0?r:[]},e.prototype.getAndRemove=function(t){var r=this.get(t);return this.calls[t]=[],r},e.prototype.add=function(){for(var t=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];r.forEach(function(i){var n=["track","screen","alias","group","page","identify"];n.includes(i.method)&&!hq(i.args)&&(i.args=mo(mo([],i.args,!0),[sS()],!1)),t.calls[i.method]?t.calls[i.method].push(i):t.calls[i.method]=[i]})},e.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},e.prototype.toArray=function(){var t;return(t=[]).concat.apply(t,Object.values(this.calls))},e.prototype._pushSnippetWindowBuffer=function(){if(by()!=="npm"){var t=t4();if(Array.isArray(t)){var r=t.splice(0,t.length),o=r.map(function(i){var n=i[0],s=i.slice(1);return new o4(n,s)});this.add.apply(this,o)}}},e}();function dS(e,t){return Le(this,void 0,void 0,function(){var r,o;return Be(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),t.called?[2,void 0]:(t.called=!0,r=e[t.method].apply(e,t.args),lq(r)?[4,r]:[3,2]);case 1:i.sent(),i.label=2;case 2:return t.resolve(r),[3,4];case 3:return o=i.sent(),t.reject(o),[3,4];case 4:return[2]}})})}var gq=function(){function e(t){var r=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=mf,this._preInitBuffer=new tSe,this._promise=t(this._preInitBuffer),this._promise.then(function(o){var i=o[0],n=o[1];r.instance=i,r.ctx=n}).catch(function(){})}return e.prototype.then=function(){for(var t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return(t=this._promise).then.apply(t,r)},e.prototype.catch=function(){for(var t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return(t=this._promise).catch.apply(t,r)},e.prototype.finally=function(){for(var t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return(t=this._promise).finally.apply(t,r)},e.prototype._createMethod=function(t){var r=this;return function(){for(var o,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];if(r.instance){var s=(o=r.instance)[t].apply(o,i);return Promise.resolve(s)}return new Promise(function(a,l){r._preInitBuffer.add(new o4(t,i,a,l))})}},e.prototype._createChainableMethod=function(t){var r=this;return function(){for(var o,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return r.instance?((o=r.instance)[t].apply(o,i),r):(r._preInitBuffer.add(new o4(t,i)),r)}},e}();or();yy();Kx();Qx();eO();or();Zx();var $q=function(e){var t=!1;window.addEventListener("pagehide",function(){t||(t=!0,e(t))}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(t)return;t=!0}else t=!1;e(t)})};or();var xS=function(e){$o(t,e);function t(r,o){var i=e.call(this,r)||this;return i.retryTimeout=o,i.name="RateLimitError",i}return t}(Error);Nd();or();var bS=function(e){return xe({"Content-Type":"text/plain"},typeof e=="function"?e():e)};var HSe=500,zSe=64;function tO(e){var t=encodeURI(JSON.stringify(e)).split(/%..|./).length-1;return t/1024}function XSe(e){return tO(e)>=HSe-50}function YSe(e){return tO(e)>=zSe-10}function qSe(e){var t=[],r=0;return e.forEach(function(o){var i=tO(t[r]);i>=64&&r++,t[r]?t[r].push(o):t[r]=[o]}),t}function rO(e,t){var r,o,i=[],n=!1,s=(r=t?.size)!==null&&r!==void 0?r:10,a=(o=t?.timeout)!==null&&o!==void 0?o:5e3,l=0;function c(f){var x;if(f.length!==0){var v=(x=f[0])===null||x===void 0?void 0:x.writeKey,b=f.map(function(S){var w=S,_=w.sentAt,E=Xv(w,["sentAt"]);return E});return t5("https://".concat(e,"/b"),{credentials:t?.credentials,keepalive:t?.keepalive||n,headers:bS(t?.headers),method:"post",body:JSON.stringify({writeKey:v,batch:b,sentAt:new Date().toISOString()}),priority:t?.priority}).then(function(S){var w;if(S.status>=500)throw new Error("Bad response from server: ".concat(S.status));if(S.status===429){var _=(w=S.headers)===null||w===void 0?void 0:w.get("x-ratelimit-reset"),E=typeof _=="string"?parseInt(_)*1e3:a;throw new xS("Rate limit exceeded: ".concat(S.status),E)}})}}function u(f){var x;return f===void 0&&(f=1),Le(this,void 0,void 0,function(){var v;return Be(this,function(b){return i.length?(v=i,i=[],[2,(x=c(v))===null||x===void 0?void 0:x.catch(function(S){var w,_=da.system();_.log("error","Error sending batch",S),f<=((w=t?.maxRetries)!==null&&w!==void 0?w:10)&&(S.name==="RateLimitError"&&(l=S.retryTimeout),i.push.apply(i,v),i.map(function(E){if("_metadata"in E){var T=E;T._metadata=xe(xe({},T._metadata),{retryCount:f})}}),m(f+1))})]):[2]})})}var p;function m(f){f===void 0&&(f=1),!p&&(p=setTimeout(function(){p=void 0,u(f).catch(console.error)},l||a),l=0)}$q(function(f){if(n=f,n&&i.length){var x=qSe(i).map(c);Promise.all(x).catch(console.error)}});function h(f,x){return Le(this,void 0,void 0,function(){var v;return Be(this,function(b){return i.push(x),v=i.length>=s||XSe(i)||t?.keepalive&&YSe(i),[2,v||n?u():m()]})})}return{dispatch:h}}Zx();function Zq(e){function t(r,o){return t5(r,{credentials:e?.credentials,keepalive:e?.keepalive,headers:bS(e?.headers),method:"post",body:JSON.stringify(o),priority:e?.priority}).then(function(i){var n;if(i.status>=500)throw new Error("Bad response from server: ".concat(i.status));if(i.status===429){var s=(n=i.headers)===null||n===void 0?void 0:n.get("x-ratelimit-reset"),a=s?parseInt(s)*1e3:5e3;throw new xS("Rate limit exceeded: ".concat(i.status),a)}})}return{dispatch:t}}or();function Jq(e,t,r,o,i){var n,s=e.user();delete t.options,t.writeKey=r?.apiKey,t.userId=t.userId||s.id(),t.anonymousId=t.anonymousId||s.anonymousId(),t.sentAt=new Date;var a=e.queue.failedInitializations||[];a.length>0&&(t._metadata={failedInitializations:a}),i!=null&&(i.attempts>1&&(t._metadata=xe(xe({},t._metadata),{retryCount:i.attempts})),i.attempts++);var l=[],c=[];for(var u in o){var p=o[u];u==="Segment.io"&&l.push(u),p.bundlingStatus==="bundled"&&l.push(u),p.bundlingStatus==="unbundled"&&c.push(u)}for(var m=0,h=r?.unbundledIntegrations||[];m<h.length;m++){var f=h[m];c.includes(f)||c.push(f)}var x=(n=r?.maybeBundledConfigIds)!==null&&n!==void 0?n:{},v=[];return l.sort().forEach(function(b){var S;((S=x[b])!==null&&S!==void 0?S:[]).forEach(function(w){v.push(w)})}),r?.addBundledMetadata!==!1&&(t._metadata=xe(xe({},t._metadata),{bundled:l.sort(),unbundled:c.sort(),bundledIds:v})),t}or();yy();Nd();Fc();oO();function $Se(e,t){return Le(this,void 0,void 0,function(){var r,o=this;return Be(this,function(i){switch(i.label){case 0:return r=[],Wc()?[2,t]:[4,vS(function(){return t.length>0&&!Wc()},function(){return Le(o,void 0,void 0,function(){var n,s,a;return Be(this,function(l){switch(l.label){case 0:return n=t.pop(),n?[4,df(n,e)]:[2];case 1:return s=l.sent(),a=s instanceof da,a||r.push(n),[2]}})})})];case 1:return i.sent(),r.map(function(n){return t.pushWithBackoff(n)}),[2,t]}})})}function W1(e,t,r,o){var i=this;e||setTimeout(function(){return Le(i,void 0,void 0,function(){var n,s;return Be(this,function(a){switch(a.label){case 0:return n=!0,[4,$Se(r,t)];case 1:return s=a.sent(),n=!1,t.todo>0&&o(n,s,r,o),[2]}})})},Math.random()*5e3)}vN();function ZSe(e,t){var r,o,i,n,s=e.user();return t.previousId=(i=(o=(r=t.previousId)!==null&&r!==void 0?r:t.from)!==null&&o!==void 0?o:s.id())!==null&&i!==void 0?i:s.anonymousId(),t.userId=(n=t.userId)!==null&&n!==void 0?n:t.to,delete t.from,delete t.to,t}var Kq=function(e){return e.name==="Segment.io"};function Qq(e,t,r){var o,i,n;window.addEventListener("pagehide",function(){a.push.apply(a,Array.from(l)),l.clear()});var s=(o=t?.apiKey)!==null&&o!==void 0?o:"",a=e.options.disableClientPersistence?new pf(e.queue.queue.maxAttempts,[]):new r5(e.queue.queue.maxAttempts,"".concat(s,":dest-Segment.io")),l=new Set,c=!1,u=(i=t?.apiHost)!==null&&i!==void 0?i:rS,p=(n=t?.protocol)!==null&&n!==void 0?n:"https",m="".concat(p,"://").concat(u),h=t?.deliveryStrategy,f=h&&"strategy"in h&&h.strategy==="batching"?rO(u,h.config):Zq(h?.config);function x(b){return Le(this,void 0,void 0,function(){var S,w;return Be(this,function(_){return Wc()?(a.push(b),W1(c,a,v,W1),[2,b]):(l.add(b),S=b.event.type.charAt(0),w=Ly(b.event).json(),b.event.type==="track"&&delete w.traits,b.event.type==="alias"&&(w=ZSe(e,w)),a.getAttempts(b)>=a.maxAttempts?(l.delete(b),[2,b]):[2,f.dispatch("".concat(m,"/").concat(S),Jq(e,w,t,r,b)).then(function(){return b}).catch(function(E){if(b.log("error","Error sending event",E),E.name==="RateLimitError"){var T=E.retryTimeout;a.pushWithBackoff(b,T)}else a.pushWithBackoff(b);return W1(c,a,v,W1),b}).finally(function(){l.delete(b)})])})})}var v={metadata:{writeKey:s,apiHost:u,protocol:p},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:x,identify:x,page:x,alias:x,group:x,screen:x};return a.todo&&W1(c,a,v,W1),v}var s5="This is being deprecated and will be not be available in future releases of Analytics JS",sO=xy(),aO=sO?.analytics;function oCe(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var o=t?10:1,i=r?new pf(o,[]):new r5(o,e);return new tq(i)}var iCe=function(){function e(t,r){var o;this.timeout=300,this._getSegmentPluginMetadata=function(){var n;return(n=r.plugins.find(Kq))===null||n===void 0?void 0:n.metadata},this.writeKey=t.writeKey;var i={integrations:{"Segment.io":{apiKey:""}}};this.cdnSettings=(o=t.cdnSettings)!==null&&o!==void 0?o:i,this.cdnURL=t.cdnURL}return Object.defineProperty(e.prototype,"apiHost",{get:function(){var t,r;return(r=(t=this._getSegmentPluginMetadata)===null||t===void 0?void 0:t.call(this))===null||r===void 0?void 0:r.apiHost},enumerable:!1,configurable:!0}),e}();function Fd(){console.warn(s5)}var lO=function(e){$o(t,e);function t(r,o,i,n,s){var a=this,l,c;a=e.call(this)||this,a._debug=!1,a.initialized=!1,a.user=function(){return a._user},a.init=a.initialize.bind(a),a.log=Fd,a.addIntegrationMiddleware=Fd,a.listeners=Fd,a.addEventListener=Fd,a.removeAllListeners=Fd,a.removeListener=Fd,a.removeEventListener=Fd,a.hasListeners=Fd,a.add=Fd,a.addIntegration=Fd;var u=o?.cookie,p=(l=o?.disableClientPersistence)!==null&&l!==void 0?l:!1;a.queue=i??oCe("".concat(r.writeKey,":event-queue"),o?.retryQueue,p),a.settings=new iCe(r,a.queue);var m=o?.storage;return a._universalStorage=a.createStore(p,m,u),a._user=n??new AN(xe({persist:!p,storage:o?.storage},o?.user),u).load(),a._group=s??new nq(xe({persist:!p,storage:o?.storage},o?.group),u).load(),a.eventFactory=new ZY(a._user),a.integrations=(c=o?.integrations)!==null&&c!==void 0?c:{},a.options=o??{},vy(a),a}return t.prototype.createStore=function(r,o,i){return r?new Ld([new Sy]):o&&uS(o)?new Ld(e4(pS(o.stores,i))):new Ld(e4([Xs.LocalStorage,{name:Xs.Cookie,settings:i},Xs.Memory]))},Object.defineProperty(t.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),t.prototype.track=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return Le(this,void 0,void 0,function(){var i,n,s,a,l,c,u,p=this;return Be(this,function(m){return i=O1(r),n=GY.apply(void 0,r),s=n[0],a=n[1],l=n[2],c=n[3],u=this.eventFactory.track(s,a,l,this.integrations,i),[2,this._dispatch(u,c).then(function(h){return p.emit("track",s,h.event.properties,h.event.options),h})]})})},t.prototype.page=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return Le(this,void 0,void 0,function(){var i,n,s,a,l,c,u,p,m=this;return Be(this,function(h){return i=O1(r),n=yN.apply(void 0,r),s=n[0],a=n[1],l=n[2],c=n[3],u=n[4],p=this.eventFactory.page(s,a,l,c,this.integrations,i),[2,this._dispatch(p,u).then(function(f){return m.emit("page",s,a,f.event.properties,f.event.options),f})]})})},t.prototype.identify=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return Le(this,void 0,void 0,function(){var i,n,s,a,l,c,u,p=this;return Be(this,function(m){return i=O1(r),n=xN(this._user).apply(void 0,r),s=n[0],a=n[1],l=n[2],c=n[3],this._user.identify(s,a),u=this.eventFactory.identify(this._user.id(),this._user.traits(),l,this.integrations,i),[2,this._dispatch(u,c).then(function(h){return p.emit("identify",h.event.userId,h.event.traits,h.event.options),h})]})})},t.prototype.group=function(){for(var r=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var n=O1(o);if(o.length===0)return this._group;var s=xN(this._group).apply(void 0,o),a=s[0],l=s[1],c=s[2],u=s[3];this._group.identify(a,l);var p=this._group.id(),m=this._group.traits(),h=this.eventFactory.group(p,m,c,this.integrations,n);return this._dispatch(h,u).then(function(f){return r.emit("group",f.event.groupId,f.event.traits,f.event.options),f})},t.prototype.alias=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return Le(this,void 0,void 0,function(){var i,n,s,a,l,c,u,p=this;return Be(this,function(m){return i=O1(r),n=HY.apply(void 0,r),s=n[0],a=n[1],l=n[2],c=n[3],u=this.eventFactory.alias(s,a,l,this.integrations,i),[2,this._dispatch(u,c).then(function(h){return p.emit("alias",s,a,h.event.options),h})]})})},t.prototype.screen=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return Le(this,void 0,void 0,function(){var i,n,s,a,l,c,u,p,m=this;return Be(this,function(h){return i=O1(r),n=yN.apply(void 0,r),s=n[0],a=n[1],l=n[2],c=n[3],u=n[4],p=this.eventFactory.screen(s,a,l,c,this.integrations,i),[2,this._dispatch(p,u).then(function(f){return m.emit("screen",s,a,f.event.properties,f.event.options),f})]})})},t.prototype.trackClick=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return Le(this,void 0,void 0,function(){var i,n;return Be(this,function(s){switch(s.label){case 0:return[4,Promise.resolve().then(()=>(c4(),l4))];case 1:return i=s.sent(),[2,(n=i.link).call.apply(n,mo([this],r,!1))]}})})},t.prototype.trackLink=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return Le(this,void 0,void 0,function(){var i,n;return Be(this,function(s){switch(s.label){case 0:return[4,Promise.resolve().then(()=>(c4(),l4))];case 1:return i=s.sent(),[2,(n=i.link).call.apply(n,mo([this],r,!1))]}})})},t.prototype.trackSubmit=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return Le(this,void 0,void 0,function(){var i,n;return Be(this,function(s){switch(s.label){case 0:return[4,Promise.resolve().then(()=>(c4(),l4))];case 1:return i=s.sent(),[2,(n=i.form).call.apply(n,mo([this],r,!1))]}})})},t.prototype.trackForm=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return Le(this,void 0,void 0,function(){var i,n;return Be(this,function(s){switch(s.label){case 0:return[4,Promise.resolve().then(()=>(c4(),l4))];case 1:return i=s.sent(),[2,(n=i.form).call.apply(n,mo([this],r,!1))]}})})},t.prototype.register=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return Le(this,void 0,void 0,function(){var i,n,s=this;return Be(this,function(a){switch(a.label){case 0:return i=da.system(),n=r.map(function(l){return s.queue.register(i,l,s)}),[4,Promise.all(n)];case 1:return a.sent(),[2,i]}})})},t.prototype.deregister=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return Le(this,void 0,void 0,function(){var i,n,s=this;return Be(this,function(a){switch(a.label){case 0:return i=da.system(),n=r.map(function(l){var c=s.queue.plugins.find(function(u){return u.name===l});if(c)return s.queue.deregister(i,c,s);i.log("warn","plugin ".concat(l," not found"))}),[4,Promise.all(n)];case 1:return a.sent(),[2,i]}})})},t.prototype.debug=function(r){return r===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=r,this},t.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},t.prototype.timeout=function(r){this.settings.timeout=r},t.prototype._dispatch=function(r,o){return Le(this,void 0,void 0,function(){var i;return Be(this,function(n){return i=new da(r),i.stats.increment("analytics_js.invoke",1,[r.type]),Wc()&&!this.options.retryQueue?[2,i]:[2,UY(i,this.queue,this,{callback:o,debug:this._debug,timeout:this.settings.timeout})]})})},t.prototype.addSourceMiddleware=function(r){return Le(this,void 0,void 0,function(){var o=this;return Be(this,function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run(function(){return Le(o,void 0,void 0,function(){var n,s,a;return Be(this,function(l){switch(l.label){case 0:return[4,Promise.resolve().then(()=>(SS(),t$))];case 1:return n=l.sent().sourceMiddlewarePlugin,s={},this.queue.plugins.forEach(function(c){if(c.type==="destination")return s[c.name]=!0}),a=n(r,s),[4,this.register(a)];case 2:return l.sent(),[2]}})})})];case 1:return i.sent(),[2,this]}})})},t.prototype.addDestinationMiddleware=function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return this.queue.plugins.filter(JY).forEach(function(n){(r==="*"||n.name.toLowerCase()===r.toLowerCase())&&n.addMiddleware.apply(n,o)}),Promise.resolve(this)},t.prototype.setAnonymousId=function(r){return this._user.anonymousId(r)},t.prototype.queryString=function(r){return Le(this,void 0,void 0,function(){var o;return Be(this,function(i){switch(i.label){case 0:return this.options.useQueryString===!1?[2,[]]:[4,Promise.resolve().then(()=>(i$(),o$))];case 1:return o=i.sent().queryString,[2,o(this,r)]}})})},t.prototype.use=function(r){return r(this),this},t.prototype.ready=function(r){return r===void 0&&(r=function(o){return o}),Le(this,void 0,void 0,function(){return Be(this,function(o){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return r(i),i})]})})},t.prototype.noConflict=function(){return console.warn(s5),aq(aO??this),this},t.prototype.normalize=function(r){return console.warn(s5),this.eventFactory.normalize(r)},Object.defineProperty(t.prototype,"failedInitializations",{get:function(){return console.warn(s5),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"VERSION",{get:function(){return mf},enumerable:!1,configurable:!0}),t.prototype.initialize=function(r,o){return Le(this,void 0,void 0,function(){return Be(this,function(i){return console.warn(s5),[2,Promise.resolve(this)]})})},t.prototype.pageview=function(r){return Le(this,void 0,void 0,function(){return Be(this,function(o){switch(o.label){case 0:return console.warn(s5),[4,this.page({path:r})];case 1:return o.sent(),[2,this]}})})},Object.defineProperty(t.prototype,"plugins",{get:function(){var r;return console.warn(s5),(r=this._plugins)!==null&&r!==void 0?r:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Integrations",{get:function(){console.warn(s5);var r=this.queue.plugins.filter(function(o){return o.type==="destination"}).reduce(function(o,i){var n="".concat(i.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),s=window[n];if(!s)return o;var a=s.Integration;return a?(o[i.name]=a,o):(o[i.name]=s,o)},{});return r},enumerable:!1,configurable:!0}),t.prototype.push=function(r){var o=this,i=r.shift();i&&!o[i]||o[i].apply(this,r)},t}(hy);var cO=function(e){$o(t,e);function t(){var r=e.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return r.initialized=!0,r}return t}(lO);or();function uO(){return typeof process>"u"||!process.env?{}:process.env}m4();Nd();pO();M1();or();Jx();tS();nO();or();function s$(e){return Le(this,void 0,void 0,function(){var t;return Be(this,function(r){return t=navigator.userAgentData,t?e?[2,t.getHighEntropyValues(e).catch(function(){return t.toJSON()})]:[2,t.toJSON()]:[2,void 0]})})}var f4;function lCe(){if(f4)return f4;var e=lS(window.location.href);return f4={expires:31536e6,secure:!1,path:"/"},e&&(f4.domain=e),f4}function cCe(e){var t={btid:"dataxu",urid:"millennial-media"};e.startsWith("?")&&(e=e.substring(1)),e=e.replace(/\?/g,"&");for(var r=e.split("&"),o=0,i=r;o<i.length;o++){var n=i[o],s=n.split("="),a=s[0],l=s[1];if(t[a])return{id:l,type:t[a]}}}function uCe(e){return e.startsWith("?")&&(e=e.substring(1)),e=e.replace(/\?/g,"&"),e.split("&").reduce(function(t,r){var o=r.split("="),i=o[0],n=o[1],s=n===void 0?"":n;if(i.includes("utm_")&&i.length>4){var a=i.slice(4);a==="campaign"&&(a="name"),t[a]=CS(s)}return t},{})}function pCe(){var e=Vu.get("_ga");if(e&&e.startsWith("amp"))return e}function dCe(e,t,r){var o,i=new Ld(r?[]:[new cS(lCe())]),n=i.get("s:context.referrer"),s=(o=cCe(e))!==null&&o!==void 0?o:n;s&&(t&&(t.referrer=xe(xe({},t.referrer),s)),i.set("s:context.referrer",s))}var mCe=function(e){try{var t=new URLSearchParams;return Object.entries(e).forEach(function(r){var o=r[0],i=r[1];Array.isArray(i)?i.forEach(function(n){return t.append(o,n)}):t.append(o,i)}),t.toString()}catch{return""}},fCe=function(){function e(){var t=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(r,o){return Le(t,void 0,void 0,function(){var i,n;return Be(this,function(s){switch(s.label){case 0:this.instance=o,s.label=1;case 1:return s.trys.push([1,3,,4]),i=this,[4,s$(this.instance.options.highEntropyValuesClientHints)];case 2:return i.userAgentData=s.sent(),[3,4];case 3:return n=s.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(r){var o,i,n=r.event.context,s=n.page.search||"",a=typeof s=="object"?mCe(s):s;n.userAgent=navigator.userAgent,n.userAgentData=t.userAgentData;var l=navigator.userLanguage||navigator.language;typeof n.locale>"u"&&typeof l<"u"&&(n.locale=l),(o=n.library)!==null&&o!==void 0||(n.library={name:"analytics.js",version:"".concat(by()==="web"?"next":"npm:next","-").concat(mf)}),a&&!n.campaign&&(n.campaign=uCe(a));var c=pCe();c&&(n.amp={id:c}),dCe(a,n,(i=t.instance.options.disableClientPersistence)!==null&&i!==void 0?i:!1);try{n.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return r},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich}return e}(),a$=new fCe;or();_S();m4();SS();Nd();dO();M1();var hCe=function(){function e(t,r){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=fy(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=r,this.name=t,this.type=r.type,this.alternativeNames.push(r.name)}return e.prototype.addMiddleware=function(){for(var t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];this.type==="destination"&&(t=this.middleware).push.apply(t,r)},e.prototype.transform=function(t){return Le(this,void 0,void 0,function(){var r;return Be(this,function(o){switch(o.label){case 0:return[4,u4(this.name,t.event,this.middleware)];case 1:return r=o.sent(),r===null&&t.cancel(new ql({retry:!1,reason:"dropped by destination middleware"})),[2,new da(r)]}})})},e.prototype._createMethod=function(t){var r=this;return function(o){return Le(r,void 0,void 0,function(){var i,n;return Be(this,function(s){switch(s.label){case 0:return this.action[t]?(i=o,this.type!=="destination"?[3,2]:[4,this.transform(o)]):[2,o];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!s.sent())throw new Error("Something prevented the destination from getting ready");return Wd(o,{integrationName:this.action.name,methodName:t,type:"action"}),[4,this.action[t](i)];case 4:return s.sent(),[3,6];case 5:throw n=s.sent(),Wd(o,{integrationName:this.action.name,methodName:t,type:"action",didError:!0}),n;case 6:return[2,o]}})})}},e.prototype.isLoaded=function(){return this.action.isLoaded()},e.prototype.ready=function(){return Le(this,void 0,void 0,function(){var t;return Be(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return r.sent(),[2,!0];case 2:return t=r.sent(),[2,!1];case 3:return[2]}})})},e.prototype.load=function(t,r){return Le(this,void 0,void 0,function(){var o,i,n,s;return Be(this,function(a){switch(a.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];a.label=1;case 1:return a.trys.push([1,3,,4]),Wd(t,{integrationName:this.action.name,methodName:"load",type:"action"}),o=this.action.load(t,r),n=(i=this.loadPromise).resolve,[4,o];case 2:return n.apply(i,[a.sent()]),[2,o];case 3:throw s=a.sent(),Wd(t,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(s),s;case 4:return[2]}})})},e.prototype.unload=function(t,r){var o,i;return(i=(o=this.action).unload)===null||i===void 0?void 0:i.call(o,t,r)},e}();function gCe(e){if(!Array.isArray(e))throw new Error("Not a valid list of plugins");var t=["load","isLoaded","name","version","type"];return e.forEach(function(r){t.forEach(function(o){var i;if(r[o]===void 0)throw new Error("Plugin: ".concat((i=r.name)!==null&&i!==void 0?i:"unknown"," missing required function ").concat(o))})}),!0}function yCe(e,t){var r=e[t.creationName],o=e[t.name];return e.All===!1&&!r&&!o||r===!1||o===!1}function xCe(e,t){return Le(this,void 0,void 0,function(){var r,o,i,n,s,a,l;return Be(this,function(c){switch(c.label){case 0:if(c.trys.push([0,9,,10]),r=new RegExp("https://cdn.segment.(com|build)"),o=p4(),!t)return[3,6];i=e.url.split("/"),n=i[i.length-2],s=e.url.replace(n,btoa(n).replace(/=/g,"")),c.label=1;case 1:return c.trys.push([1,3,,5]),[4,ff(s.replace(r,o))];case 2:return c.sent(),[3,5];case 3:return a=c.sent(),[4,ff(e.url.replace(r,o))];case 4:return c.sent(),[3,5];case 5:return[3,8];case 6:return[4,ff(e.url.replace(r,o))];case 7:c.sent(),c.label=8;case 8:return typeof window[e.libraryName]=="function"?[2,window[e.libraryName]]:[3,10];case 9:throw l=c.sent(),console.error("Failed to create PluginFactory",e),l;case 10:return[2]}})})}function u$(e,t,r,o,i,n){var s,a,l;return Le(this,void 0,void 0,function(){var c,u,p,m=this;return Be(this,function(h){switch(h.label){case 0:return c=[],u=(a=(s=e.middlewareSettings)===null||s===void 0?void 0:s.routingRules)!==null&&a!==void 0?a:[],p=((l=e.remotePlugins)!==null&&l!==void 0?l:[]).map(function(f){return Le(m,void 0,void 0,function(){var x,v,b,S,w,_,E;return Be(this,function(T){switch(T.label){case 0:if(yCe(t,f))return[2];T.label=1;case 1:return T.trys.push([1,6,,7]),v=n?.find(function(A){var O=A.pluginName;return O===f.name}),v?[3,3]:[4,xCe(f,o?.obfuscate)];case 2:v=T.sent(),T.label=3;case 3:return x=v,x?(b=r[f.name],[4,x(xe(xe({},f.settings),b))]):[3,5];case 4:S=T.sent(),w=Array.isArray(S)?S:[S],gCe(w),_=u.filter(function(A){return A.destinationName===f.creationName}),w.forEach(function(A){var O=new hCe(f.creationName,A);_.length&&i&&O.addMiddleware(i),c.push(O)}),T.label=5;case 5:return[3,7];case 6:return E=T.sent(),console.warn("Failed to load Remote Plugin",E),[3,7];case 7:return[2]}})})}),[4,Promise.all(p)];case 1:return h.sent(),[2,c.filter(Boolean)]}})})}eS();var mO,p$,bCe=xy(),d$=(mO=(p$=bCe).__SEGMENT_INSPECTOR__)!==null&&mO!==void 0?mO:p$.__SEGMENT_INSPECTOR__={},m$=function(e){var t;return(t=d$.attach)===null||t===void 0?void 0:t.call(d$,e)};CN();r4();Zx();function ECe(e,t){return t5("".concat(t,"/v1/projects/").concat(e,"/settings")).then(function(r){return r.ok?r.json():r.text().then(function(o){throw new Error(o)})}).catch(function(r){throw console.error(r.message),r})}function MCe(e){return uO().NODE_ENV!=="test"&&Object.keys(e.integrations).length>1}function ACe(e){var t,r,o;return uO().NODE_ENV!=="test"&&((o=(r=(t=e.middlewareSettings)===null||t===void 0?void 0:t.routingRules)===null||r===void 0?void 0:r.length)!==null&&o!==void 0?o:0)>0}function ICe(e,t){mq(e,t),dq(e,t)}function DCe(e,t,r){return Le(this,void 0,void 0,function(){return Be(this,function(o){switch(o.label){case 0:return[4,OCe(e,t)];case 1:return o.sent(),fq(e,r),[2]}})})}var NCe=function(){var e,t,r=(e=window.location.hash)!==null&&e!==void 0?e:"",o=(t=window.location.search)!==null&&t!==void 0?t:"",i=o.length?o:r.replace(/(?=#).*(?=\?)/,"");return i},OCe=function(e,t){return Le(void 0,void 0,void 0,function(){return Be(this,function(r){switch(r.label){case 0:return t.includes("ajs_")?[4,e.queryString(t).catch(console.error)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})};function LCe(e,t,r,o,i,n,s){var a,l,c;return i===void 0&&(i=[]),Le(this,void 0,void 0,function(){var u,p,m,h,f,x,v,b,S,w,_,E,T,A,O,L=this;return Be(this,function(R){switch(R.label){case 0:return ICe(r,s),u=i?.filter(function(z){return typeof z=="object"}),p=i?.filter(function(z){return typeof z=="function"&&typeof z.pluginName=="string"}),ACe(t)?[4,Promise.resolve().then(()=>(g$(),h$)).then(function(z){return z.tsubMiddleware(t.middlewareSettings.routingRules)})]:[3,2];case 1:return h=R.sent(),[3,3];case 2:h=void 0,R.label=3;case 3:return m=h,MCe(t)||n.length>0?[4,Promise.resolve().then(()=>(A$(),M$)).then(function(z){return z.ajsDestinations(e,t,r.integrations,o,m,n)})]:[3,5];case 4:return x=R.sent(),[3,6];case 5:x=[],R.label=6;case 6:return f=x,t.legacyVideoPluginsEnabled?[4,Promise.resolve().then(()=>(N$(),D$)).then(function(z){return z.loadLegacyVideoPlugins(r)})]:[3,8];case 7:R.sent(),R.label=8;case 8:return!((a=o.plan)===null||a===void 0)&&a.track?[4,Promise.resolve().then(()=>(L$(),O$)).then(function(z){var I;return z.schemaFilter((I=o.plan)===null||I===void 0?void 0:I.track,t)})]:[3,10];case 9:return b=R.sent(),[3,11];case 10:b=void 0,R.label=11;case 11:return v=b,S=wS(t,o),[4,u$(t,r.integrations,S,o,m,p).catch(function(){return[]})];case 12:return w=R.sent(),_=mo(mo([a$],f,!0),w,!0),v&&_.push(v),E=((l=o.integrations)===null||l===void 0?void 0:l.All)===!1&&!o.integrations["Segment.io"]||o.integrations&&o.integrations["Segment.io"]===!1,E?[3,14]:(A=(T=_).push,[4,Qq(r,S["Segment.io"],t.integrations)]);case 13:A.apply(T,[R.sent()]),R.label=14;case 14:return[4,r.register.apply(r,mo(mo([],_,!1),u,!1))];case 15:return O=R.sent(),[4,pq(r,s)];case 16:return R.sent(),Object.entries((c=t.enabledMiddleware)!==null&&c!==void 0?c:{}).some(function(z){var I=z[1];return I})?[4,Promise.resolve().then(()=>(F$(),B$)).then(function(z){var I=z.remoteMiddlewares;return Le(L,void 0,void 0,function(){var F,B;return Be(this,function(j){switch(j.label){case 0:return[4,I(O,t,o.obfuscate)];case 1:return F=j.sent(),B=F.map(function(X){return r.addSourceMiddleware(X)}),[2,Promise.all(B)]}})})})]:[3,18];case 17:R.sent(),R.label=18;case 18:return[4,uq(r,s)];case 19:return R.sent(),[2,O]}})})}function BCe(e,t,r){var o,i,n,s,a,l,c,u,p;return t===void 0&&(t={}),Le(this,void 0,void 0,function(){var m,h,f,x,v,b,S,w,_,E,T;return Be(this,function(A){switch(A.label){case 0:return t.disable===!0?[2,[new cO,da.system()]]:(t.globalAnalyticsKey&&sq(t.globalAnalyticsKey),e.cdnURL&&n$(e.cdnURL),t.initialPageview&&r.add(new o4("page",[])),m=NCe(),h=(o=e.cdnURL)!==null&&o!==void 0?o:p4(),(i=e.cdnSettings)!==null&&i!==void 0?(x=i,[3,3]):[3,1]);case 1:return[4,ECe(e.writeKey,h)];case 2:x=A.sent(),A.label=3;case 3:return f=x,t.updateCDNSettings&&(f=t.updateCDNSettings(f)),typeof t.disable!="function"?[3,5]:[4,t.disable(f)];case 4:if(v=A.sent(),v)return[2,[new cO,da.system()]];A.label=5;case 5:return b=(s=(n=f.integrations["Segment.io"])===null||n===void 0?void 0:n.retryQueue)!==null&&s!==void 0?s:!0,t=xe({retryQueue:b},t),S=new lO(xe(xe({},e),{cdnSettings:f,cdnURL:h}),t),m$(S),w=(a=e.plugins)!==null&&a!==void 0?a:[],_=(l=e.classicIntegrations)!==null&&l!==void 0?l:[],E=(c=t.integrations)===null||c===void 0?void 0:c["Segment.io"],iS.initRemoteMetrics(xe(xe({},f.metrics),{host:(u=E?.apiHost)!==null&&u!==void 0?u:(p=f.metrics)===null||p===void 0?void 0:p.host,protocol:E?.protocol})),[4,LCe(e.writeKey,f,S,t,w,_,r)];case 6:return T=A.sent(),S.initialized=!0,S.emit("initialize",e,t),[4,DCe(S,m,r)];case 7:return A.sent(),[2,[S,T]]}})})}var yO=function(e){$o(t,e);function t(){var r=this,o=fy(),i=o.promise,n=o.resolve;return r=e.call(this,function(s){return i.then(function(a){var l=a[0],c=a[1];return BCe(l,c,s)})})||this,r._resolveLoadStart=function(s,a){return n([s,a])},r}return t.prototype.load=function(r,o){return o===void 0&&(o={}),this._resolveLoadStart(r,o),this},t.load=function(r,o){return o===void 0&&(o={}),new t().load(r,o)},t.standalone=function(r,o){return t.load({writeKey:r},o).then(function(i){return i[0]})},t}(gq);Nd();var MS=null,AS=!1;async function FCe(){if(!AS)try{let e=await fetch("/bot-patterns");if(e.ok)MS=await e.json(),AS=!0;else throw new Error(`HTTP ${e.status}: ${e.statusText}`)}catch(e){throw console.warn("Failed to load bot patterns:",e),e}}async function W$(e){if(AS||await FCe(),MS){let t=e.toLowerCase();return MS.user_agent_patterns.some(r=>{try{return new RegExp(r,"i").test(t)}catch(o){return console.warn(`Invalid regex pattern "${r}":`,o),t.includes(r.toLowerCase())}})}throw new Error("Failed to load bot detection patterns")}function V$(){MS=null,AS=!1}var xO=function(e,t){let r;if(t==null||typeof t!="object")return t;if(t instanceof Date)return new Date(t);if(bO(t))return t.map(o=>xO(null,o));(e==null||typeof e!="object")&&(e={});for(let o of Object.keys(t||{}))r=t[o],e[o]=xO(e[o],r);return e},bO=function(e){return Object.prototype.toString.call(e)==="[object Array]"},le=function(...e){let t=null;for(let r of e)t=xO(t,r);return t},xi=function(e,t,r){return t.length===0?r:(bO(e)?e=e.slice():e={...e},e[t[0]]=xi(e[t[0]],t.slice(1),r),e)},U$=function(e,t,r){let o=typeof t=="string"?t.split("."):t;return xi(e,o,r)},R$=function(e,t){if(e==null)return e;let r=typeof t=="string"?t.split("."):t;for(let o of r)if(e=e[o],e==null)break;return e},j$=function(e,t){if(t.length==0)return!1;let r=typeof t=="string"?t.split("."):t;for(let o of r){if(e==null||!Object.prototype.hasOwnProperty.call(e,o))return!1;e=e[o]}return!0},vO=function(e,t,r){return t.length===0?{...e,...r}:(bO(e)?e=e.slice():e={...e},e[t[0]]=vO(e[t[0]],t.slice(1),r),e)};var WCe=function(e=()=>({})){let t={},r=[],o=[];return{...{initialize(){r.push(e())},setProperties(n){return t=le(t,n)},trackEvent(n,s){o.push({name:n,data:le(t,s)})},async reset(){},identify(n,s){o.push({name:"identify",email:n,traits:s})}},events:()=>o,pages:()=>r,properties:()=>t}},G$=WCe;var SO={test:{writeKey:"writeKey",cdnHost:"https://example.com"},development:{writeKey:"writeKey",cdnHost:"https://example.com"},staging:{writeKey:"ICG7RiaqD5joC5uwwbGJ1T9m4vpLkFZa",cdnHost:"https://sgmntstaging-cdn.easel.com"},production:{writeKey:"uQTO83UJEcI8D8QP3kI3UMWZtHJHuWYX",cdnURL:"https://sgmnt-cdn.easel.com"}};var Jl={},DS=.1,Op=!1,V1={},ja=[],h4=[],g4=[],Fy=[],PO,NS,wO,y4,IS=()=>{if(typeof window>"u"||!window.location)return{url:"http://localhost:3000/test",path:"/test",title:"Test Page"};let e=window.location.href,t=window.location.pathname,r=document.title;return{url:e,path:t,title:r}},UCe=(()=>{let e={},t,r=({payload:o,next:i})=>{try{if(window.mixpanel)switch(o.obj.type){case"track":case"page":{let n=o.obj.anonymousId;window.mixpanel.register({$device_id:n,distinct_id:n});let s=window.mixpanel.get_session_recording_properties();o.obj.properties={...o.obj.properties,...s};break}case"identify":{let n=o.obj.userId;window.mixpanel.identify(n);break}}}catch{}i(o)};return{initialize(o){let i=SO[o].writeKey,n=SO[o].cdnHost;t=yO.load({writeKey:i,cdnURL:n}),t.addSourceMiddleware(r),t.ready(async()=>{let s=await t.user();s&&s.traits().undoByToken&&(s.traits({}),t.identify(EASEL_USER.email,EASEL_USER.segmentTraits))}),EASEL_USER.loggedIn&&t.identify(EASEL_USER.email,EASEL_USER.segmentTraits),t.page(IS())},async reset(o){try{(await t.user?.())?.id()&&(await t.reset(),await t.identify(o),t.page(IS()))}catch(i){console.error("Error in Analytics reset:",i)}},identify(o,i){t.identify(o||EASEL_USER.email,i)},setProperties(o){e=le(e,o)},trackEvent(o,i){if(typeof t<"u"&&t!==null){t.user().then(a=>{EASEL_USER.loggedIn&&EASEL_USER.email!==a.id()&&t.identify(EASEL_USER.email,EASEL_USER.segmentTraits)});let n=$.ua,s={screen:{width:window.screen.width,height:window.screen.height},os:{name:n.os.name}};t.track(o,le(e,i),s)}}}})(),CO=(()=>{let e={};return{initialize(t){console.log(`Initialized consoleStatsAdapter in ${t}`);let r=IS();console.log(`Page data: ${r?JSON.stringify(r,null,2):"undefined"}`)},setProperties(t){console.log("Registering properties on the user"),e=le(e,t);for(let r in t){let o=t[r];console.log(`	 ${r}: ${o}`)}},trackEvent(t,r){console.log(`Tracking event: '${t}'`,le(e,r))},async reset(t){console.log(`Resetting consoleStatsAdapter. Identify new user: ${t}`)},identify(t,r){console.log("Identifying user",t,r)}}})(),H$=e=>{switch(e){case"production":case"staging":return[UCe];case"development":return[CO];case"test":return[G$(IS),CO];default:return[CO]}},RCe=async e=>{try{return await W$(navigator.userAgent)?[{initialize:()=>{console.log("Bot detected - tracking disabled")},setProperties:()=>{},trackEvent:()=>{},reset:async()=>Promise.resolve(),identify:()=>{}}]:H$(e)}catch(t){return console.warn("Bot detection failed, treating as legitimate user:",t),H$(e)}},jCe=async(e,t,r)=>{Op=!0,PO=t?.userProperties??(()=>({})),NS=t?.projectTrackedData??(()=>({})),wO=t?.jobTrackedData??(()=>({})),y4=t?.subscriptionTrackedData??(()=>({})),ja=r??await RCe(e);for(let o of ja)o.initialize(e);if(h4.length>0){for(let{email:o,traits:i}of h4)for(let n of ja)n.identify(o,i);h4=[]}if(g4.length>0){for(let{props:o}of g4)for(let i of ja)i.setProperties(o);g4=[]}if(Fy.length>0){for(let{event:o,data:i}of Fy){let n=_O(i);for(let s of ja)s.trackEvent(o,n)}Fy=[]}},GCe=()=>{Op=!1,V1={},PO=void 0,NS=void 0,wO=void 0,y4=void 0,ja=[],h4=[],g4=[],Fy=[],V$()},HCe=function(e){return Promise.all(ja.map(t=>t.reset(e)))},zCe=function(e,t){if(Op){if(ja.length===0){h4.push({email:e,traits:t});return}for(let r of ja)r.identify(e,t)}},XCe=function(e){if(ja.length===0){g4.push({props:e});return}for(let t of ja)t.setProperties(e)},_O=e=>le(e,PO()),Wy=(e,t)=>{if(Op){if(ja.length===0){Fy.push({event:e,data:t});return}t=_O(t);for(let r of ja)r.trackEvent(e,t)}},YCe=(e,t,r={})=>{if(!Op)return;let o=le(NS(t),y4(t),r);if(ja.length===0){Fy.push({event:e,dataWithProjectProps:o});return}if(!navigator.sendBeacon)return Wy(e,o);r=_O(r);let i=JSON.stringify({name:e,event_data:o,authenticity_token:document.querySelector("[name='csrf-token']")?.content});try{navigator.sendBeacon("/segment_events/track",new Blob([i],{type:"application/json"}))}catch(n){console.warn("Beacon tracking failed, falling back to regular tracking:",n);for(let s of ja)s.trackEvent(e,r)}},qCe=(e,t,r={},o=uf.always)=>{if(!Op)return;let i=le(NS(t),y4(t),r);z$[o](e,i)},$Ce=(e,t,r={},o=uf.always)=>{if(!Op)return;let i=le(wO(t,r.jobId),y4(t),r);z$[o](e,i)},ZCe=function(e,t){if(Op&&Math.random()<=DS)return Wy(e,t)},kO=function(e,t){Op&&V1[e]===void 0&&(Wy(e,t),V1[e]=Date.now())},JCe=function(e,t){Op&&(V1[e]===void 0||Date.now()-V1[e]>24*60*60*1e3)&&(Wy(e,t),V1[e]=Date.now())},KCe=function(e,t){Op&&(Math.random()<=DS&&kO(e,t),V1[e]=Date.now())},z$={always:Wy,once:kO,daily:JCe};Jl.enable=jCe;Jl.disable=GCe;Jl.reset=HCe;Jl.identify=zCe;Jl.trackEvent=Wy;Jl.trackProjectEventWithBeacon=YCe;Jl.trackJobEvent=$Ce;Jl.trackProjectEvent=qCe;Jl.trackEventOnce=kO;Jl.trackEventOnceSometimes=KCe;Jl.trackEventSometimes=ZCe;Jl.setProperties=XCe;Jl.adapters=()=>ja;var QCe=Jl,H=QCe;var ePe={name:"FluidNC Default Configs",baud:115200,separator:`\r
`,readyResponses:["Grbl 3."],successResponse:"ok",realTimeCommands:["pause","resume","flush","status","resetFeedRate","increaseFeedRate","decreaseFeedRate"],gcode:{flush:"",home:"$H",resetFeedRate:"\x90",increaseFeedRate:"\x91",decreaseFeedRate:"\x92",liftToSafeHeight:"G20 G90 Z0.25",park:"G20 G90 G0 X0 Y0",pause:"!",recallCoordinateSystem:"G54",readSerialNumber:"$I",resume:"~",saveOrigin:"G10 L20 P0 X0 Y0 Z0",saveXYorigin:"G10 L20 P0 X0 Y0",saveZorigin:"G10 L20 P0 Z0",settings:"$$",spindleOff:"M5",spindleOn:"M3",status:"?",unlock:"$X",zProbe:"G21 G38.2 Z-100 F80"}},X$=ePe;var tPe={name:"gCarvin Configs",baud:115200,separator:`\r
`,readyResponses:["gCarvin"],successResponse:"ok",realTimeCommands:["pause","resume","flush","status","resetFeedRate","increaseFeedRate","decreaseFeedRate"],gcode:{flush:"",home:"$H",resetFeedRate:"\x90",increaseFeedRate:"\x91",decreaseFeedRate:"\x92",liftToSafeHeight:"$H",lockMotors:`$1=255
G91 X0 Y0`,park:"G30",pause:"!",recallCoordinateSystem:"G54",readSerialNumber:"$I",resume:"~",saveOrigin:"G10 L20 P0 X0 Y0 Z0",settings:"$$",spindleOff:"M5",spindleOn:"M3",status:"?",unlock:"$X",unlockMotors:`$1=0
G91 X0 Y0`,zProbe:"G21 G38.2 Z-100 F80"},firmwareUpload:{avrDevice:"atmega2560",programmer:"stk500v2",baudRate:115200,preReset:!0,resetDelay:3e3,resetKeepAliveInterval:100},overrides:{feedRate:{minimumOverride:10,maximumOverride:200,overrideIncrement:10}}},Y$=tPe;var rPe={name:"GRBL 0.8 Default Configs",baud:9600,separator:`\r
`,readyResponses:["Grbl 0.8c"],successResponse:"ok",realTimeCommands:["pause","resume","flush","status"],gcode:{flush:"",home:"$H",liftToSafeHeight:"G20 G90 Z0.25",lockMotors:`$7=255
G91 X0 Y0`,park:"G20 G90 G0 X0 Y0",pause:"!",recallCoordinateSystem:"G54",resume:"~",saveOrigin:"G10 L20 P0 X0 Y0 Z0",settings:"$$",spindleOff:"M5",spindleOn:"M3",status:"?",unlock:"$X",unlockMotors:`$7=0
G91 X0 Y0`,zProbe:"G21 G38.2 Z-100 F80"},firmwareUpload:{avrDevice:"m328p",programmer:"arduino",baudRate:115200,preReset:!1}},q$=rPe;var oPe={name:"GRBL 0.9 Default Configs",baud:115200,separator:`\r
`,readyResponses:["Grbl 0.9g","Grbl 0.9i","Grbl 0.9j","Grbl 1.0b","Grbl 1.0c","Grbl 1.1e","Grbl 1.1f","Grbl 1.1g","Grbl 1.1h"],successResponse:"ok",realTimeCommands:["pause","resume","flush","status","resetFeedRate","increaseFeedRate","decreaseFeedRate"],gcode:{flush:"",home:"$H",resetFeedRate:"\x90",increaseFeedRate:"\x91",decreaseFeedRate:"\x92",liftToSafeHeight:"G20 G90 Z0.25",lockMotors:`$1=255
G91 X0 Y0`,park:"G20 G90 G0 X0 Y0",pause:"!",recallCoordinateSystem:"G54",readSerialNumber:"$I",resume:"~",saveOrigin:"G10 L20 P0 X0 Y0 Z0",saveXYorigin:"G10 L20 P0 X0 Y0",saveZorigin:"G10 L20 P0 Z0",settings:"$$",spindleOff:"M5",spindleOn:"M3",status:"?",unlock:"$X",unlockMotors:`$1=0
G91 X0 Y0`,zProbe:"G21 G38.2 Z-100 F80"},firmwareUpload:{avrDevice:"m328p",programmer:"arduino",baudRate:115200,preReset:!1},overrides:{feedRate:{minimumOverride:10,maximumOverride:200,overrideIncrement:10}}},$$=oPe;var iPe={name:"GRBL 1.1h (XCP, 57600 baud) Config",baud:57600,separator:`\r
`,readyResponses:["Grbl 1.1h-XCP.20220314a"],successResponse:"ok",realTimeCommands:["pause","resume","flush","status","resetFeedRate","increaseFeedRate","decreaseFeedRate","resetSpindleSpeed","increaseSpindleSpeed","decreaseSpindleSpeed"],gcode:{flush:"",home:"$H",resetFeedRate:"\x90",increaseFeedRate:"\x91",decreaseFeedRate:"\x92",resetSpindleSpeed:"\x99",increaseSpindleSpeed:"\x9A",decreaseSpindleSpeed:"\x9B",liftToSafeHeight:"G20 G90 Z0.25",lockMotors:`$1=255
G91 X0 Y0`,park:"G20 G90 G0 X0 Y0",pause:"!",recallCoordinateSystem:"G54",readSerialNumber:"$I",resume:"~",saveOrigin:"G10 L20 P0 X0 Y0 Z0",saveXYorigin:"G10 L20 P0 X0 Y0",saveZorigin:"G10 L20 P0 Z0",settings:"$$",spindleOff:"M5",spindleOn:"M3",status:"?",unlock:"$X",unlockMotors:`$1=0
G91 X0 Y0`,zProbe:"G21 G38.2 Z-100 F80"},firmwareUpload:{avrDevice:"atmega2560",programmer:"wiring",baudRate:115200,preReset:!1},overrides:{feedRate:{minimumOverride:10,maximumOverride:200,overrideIncrement:10}}},Z$=iPe;var nPe={name:"GRBL 1.1h (XCP) Config",baud:115200,separator:`\r
`,readyResponses:["Grbl 1.1h-XCP","Grbl 1.1h - XCP Proto 1.0.0","Grbl 1.1h-Prototype Firmware"],successResponse:"ok",realTimeCommands:["pause","resume","flush","status","resetFeedRate","increaseFeedRate","decreaseFeedRate","resetSpindleSpeed","increaseSpindleSpeed","decreaseSpindleSpeed"],gcode:{flush:"",home:"$H",resetFeedRate:"\x90",increaseFeedRate:"\x91",decreaseFeedRate:"\x92",resetSpindleSpeed:"\x99",increaseSpindleSpeed:"\x9A",decreaseSpindleSpeed:"\x9B",liftToSafeHeight:"G20 G90 Z0.25",lockMotors:`$1=255
G91 X0 Y0`,park:"G20 G90 G0 X0 Y0",pause:"!",recallCoordinateSystem:"G54",readSerialNumber:"$I",resume:"~",saveOrigin:"G10 L20 P0 X0 Y0 Z0",saveXYorigin:"G10 L20 P0 X0 Y0",saveZorigin:"G10 L20 P0 Z0",settings:"$$",spindleOff:"M5",spindleOn:"M3",status:"?",unlock:"$X",unlockMotors:`$1=0
G91 X0 Y0`,zProbe:"G21 G38.2 Z-100 F80"},firmwareUpload:{avrDevice:"atmega2560",programmer:"wiring",baudRate:115200,preReset:!1},overrides:{feedRate:{minimumOverride:10,maximumOverride:200,overrideIncrement:10}}},J$=nPe;var sPe={name:"GRBL 1.1h (XCP Door As Feed Hold) Config",baud:57600,separator:`\r
`,readyResponses:["Grbl 1.1h-XCPd.20230214a"],successResponse:"ok",realTimeCommands:["pause","resume","safetyDoor","flush","status","resetFeedRate","increaseFeedRate","decreaseFeedRate","resetSpindleSpeed","increaseSpindleSpeed","decreaseSpindleSpeed"],gcode:{flush:"",home:"$H",resetFeedRate:"\x90",increaseFeedRate:"\x91",decreaseFeedRate:"\x92",resetSpindleSpeed:"\x99",increaseSpindleSpeed:"\x9A",decreaseSpindleSpeed:"\x9B",liftToSafeHeight:"G20 G90 Z0.25",lockMotors:`$1=255
G91 X0 Y0`,park:"G20 G90 G0 X0 Y0",pause:"!",safetyDoor:"\x84",recallCoordinateSystem:"G54",readSerialNumber:"$I",resume:"~",saveOrigin:"G10 L20 P0 X0 Y0 Z0",saveXYorigin:"G10 L20 P0 X0 Y0",saveZorigin:"G10 L20 P0 Z0",settings:"$$",spindleOff:"M5",spindleOn:"M3",status:"?",unlock:"$X",unlockMotors:`$1=0
G91 X0 Y0`,zProbe:"G21 G38.2 Z-100 F80"},firmwareUpload:{avrDevice:"atmega2560",programmer:"wiring",baudRate:115200,preReset:!1},overrides:{feedRate:{minimumOverride:10,maximumOverride:200,overrideIncrement:10}}},K$=sPe;var K={};cf(K,{ReducerType:()=>WZ,SHOULD_AUTOBATCH:()=>GO,TaskAbortError:()=>w4,Tuple:()=>jO,addListener:()=>YO,asyncThunkCreator:()=>XPe,autoBatchEnhancer:()=>TZ,buildCreateSlice:()=>VZ,clearAllListeners:()=>JZ,combineSlices:()=>Twe,configureStore:()=>RPe,createAction:()=>Vr,createActionCreatorInvariantMiddleware:()=>DPe,createAsyncThunk:()=>Ht,createDraftSafeSelector:()=>xZ,createDraftSafeSelectorCreator:()=>yZ,createDynamicMiddleware:()=>bwe,createEntityAdapter:()=>HO,createImmutableStateInvariantMiddleware:()=>OPe,createListenerMiddleware:()=>z1,createNextState:()=>a5,createReducer:()=>MZ,createSelector:()=>_e,createSelectorCreator:()=>S4,createSerializableStateInvariantMiddleware:()=>LPe,createSlice:()=>We,current:()=>Ga,findNonSerializableValue:()=>wZ,formatProdErrorMessage:()=>qs,freeze:()=>v4,isActionCreator:()=>vZ,isAllOf:()=>YS,isAnyOf:()=>ws,isAsyncThunkAction:()=>OZ,isDraft:()=>Ps,isFluxStandardAction:()=>SZ,isFulfilled:()=>NZ,isImmutableDefault:()=>NPe,isPending:()=>IZ,isPlain:()=>PZ,isRejected:()=>qS,isRejectedWithValue:()=>DZ,lruMemoize:()=>GS,miniSerializeError:()=>LZ,nanoid:()=>Tt,original:()=>sZ,prepareAutoBatched:()=>WPe,removeListener:()=>qO,unwrapResult:()=>BZ,weakMapMemoize:()=>Uy});pe(K,P("redux"));var iZ=Symbol.for("immer-nothing"),Q$=Symbol.for("immer-draftable"),Kl=Symbol.for("immer-state");function Uu(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Vy=Object.getPrototypeOf;function Ps(e){return!!e&&!!e[Kl]}function Lp(e){return e?nZ(e)||Array.isArray(e)||!!e[Q$]||!!e.constructor?.[Q$]||WS(e)||VS(e):!1}var aPe=Object.prototype.constructor.toString();function nZ(e){if(!e||typeof e!="object")return!1;let t=Vy(e);if(t===null)return!0;let r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===aPe}function sZ(e){return Ps(e)||Uu(15,e),e[Kl].base_}function OS(e,t){FS(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,o)=>t(o,r,e))}function FS(e){let t=e[Kl];return t?t.type_:Array.isArray(e)?1:WS(e)?2:VS(e)?3:0}function MO(e,t){return FS(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function aZ(e,t,r){let o=FS(e);o===2?e.set(t,r):o===3?e.add(r):e[t]=r}function lPe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function WS(e){return e instanceof Map}function VS(e){return e instanceof Set}function U1(e){return e.copy_||e.base_}function AO(e,t){if(WS(e))return new Map(e);if(VS(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let r=nZ(e);if(t===!0||t==="class_only"&&!r){let o=Object.getOwnPropertyDescriptors(e);delete o[Kl];let i=Reflect.ownKeys(o);for(let n=0;n<i.length;n++){let s=i[n],a=o[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(o[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(Vy(e),o)}else{let o=Vy(e);if(o!==null&&r)return{...e};let i=Object.create(o);return Object.assign(i,e)}}function v4(e,t=!1){return US(e)||Ps(e)||!Lp(e)||(FS(e)>1&&(e.set=e.add=e.clear=e.delete=cPe),Object.freeze(e),t&&Object.entries(e).forEach(([r,o])=>v4(o,!0))),e}function cPe(){Uu(2)}function US(e){return Object.isFrozen(e)}var uPe={};function R1(e){let t=uPe[e];return t||Uu(0,e),t}var x4;function lZ(){return x4}function pPe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function eZ(e,t){t&&(R1("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function IO(e){DO(e),e.drafts_.forEach(dPe),e.drafts_=null}function DO(e){e===x4&&(x4=e.parent_)}function tZ(e){return x4=pPe(x4,e)}function dPe(e){let t=e[Kl];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function rZ(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0];return e!==void 0&&e!==r?(r[Kl].modified_&&(IO(t),Uu(4)),Lp(e)&&(e=LS(t,e),t.parent_||BS(t,e)),t.patches_&&R1("Patches").generateReplacementPatches_(r[Kl].base_,e,t.patches_,t.inversePatches_)):e=LS(t,r,[]),IO(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==iZ?e:void 0}function LS(e,t,r){if(US(t))return t;let o=t[Kl];if(!o)return OS(t,(i,n)=>oZ(e,o,t,i,n,r)),t;if(o.scope_!==e)return t;if(!o.modified_)return BS(e,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;let i=o.copy_,n=i,s=!1;o.type_===3&&(n=new Set(i),i.clear(),s=!0),OS(n,(a,l)=>oZ(e,o,i,a,l,r,s)),BS(e,i,!1),r&&e.patches_&&R1("Patches").generatePatches_(o,r,e.patches_,e.inversePatches_)}return o.copy_}function oZ(e,t,r,o,i,n,s){if(Ps(i)){let a=n&&t&&t.type_!==3&&!MO(t.assigned_,o)?n.concat(o):void 0,l=LS(e,i,a);if(aZ(r,o,l),Ps(l))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(Lp(i)&&!US(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;LS(e,i),(!t||!t.scope_.parent_)&&typeof o!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,o)&&BS(e,i)}}function BS(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&v4(t,r)}function mPe(e,t){let r=Array.isArray(e),o={type_:r?1:0,scope_:t?t.scope_:lZ(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=o,n=LO;r&&(i=[o],n=b4);let{revoke:s,proxy:a}=Proxy.revocable(i,n);return o.draft_=a,o.revoke_=s,a}var LO={get(e,t){if(t===Kl)return e;let r=U1(e);if(!MO(r,t))return fPe(e,r,t);let o=r[t];return e.finalized_||!Lp(o)?o:o===TO(e.base_,t)?(EO(e),e.copy_[t]=OO(o,e)):o},has(e,t){return t in U1(e)},ownKeys(e){return Reflect.ownKeys(U1(e))},set(e,t,r){let o=cZ(U1(e),t);if(o?.set)return o.set.call(e.draft_,r),!0;if(!e.modified_){let i=TO(U1(e),t),n=i?.[Kl];if(n&&n.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(lPe(r,i)&&(r!==void 0||MO(e.base_,t)))return!0;EO(e),NO(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return TO(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,EO(e),NO(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){let r=U1(e),o=Reflect.getOwnPropertyDescriptor(r,t);return o&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:o.enumerable,value:r[t]}},defineProperty(){Uu(11)},getPrototypeOf(e){return Vy(e.base_)},setPrototypeOf(){Uu(12)}},b4={};OS(LO,(e,t)=>{b4[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});b4.deleteProperty=function(e,t){return b4.set.call(this,e,t,void 0)};b4.set=function(e,t,r){return LO.set.call(this,e[0],t,r,e[0])};function TO(e,t){let r=e[Kl];return(r?U1(r):e)[t]}function fPe(e,t,r){let o=cZ(t,r);return o?"value"in o?o.value:o.get?.call(e.draft_):void 0}function cZ(e,t){if(!(t in e))return;let r=Vy(e);for(;r;){let o=Object.getOwnPropertyDescriptor(r,t);if(o)return o;r=Vy(r)}}function NO(e){e.modified_||(e.modified_=!0,e.parent_&&NO(e.parent_))}function EO(e){e.copy_||(e.copy_=AO(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hPe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,o)=>{if(typeof t=="function"&&typeof r!="function"){let n=r;r=t;let s=this;return function(l=n,...c){return s.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&Uu(6),o!==void 0&&typeof o!="function"&&Uu(7);let i;if(Lp(t)){let n=tZ(this),s=OO(t,void 0),a=!0;try{i=r(s),a=!1}finally{a?IO(n):DO(n)}return eZ(n,o),rZ(i,n)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===iZ&&(i=void 0),this.autoFreeze_&&v4(i,!0),o){let n=[],s=[];R1("Patches").generateReplacementPatches_(t,i,n,s),o(n,s)}return i}else Uu(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let o,i;return[this.produce(t,r,(s,a)=>{o=s,i=a}),o,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Lp(e)||Uu(8),Ps(e)&&(e=Ga(e));let t=tZ(this),r=OO(e,void 0);return r[Kl].isManual_=!0,DO(t),r}finishDraft(e,t){let r=e&&e[Kl];(!r||!r.isManual_)&&Uu(9);let{scope_:o}=r;return eZ(o,t),rZ(void 0,o)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));let o=R1("Patches").applyPatches_;return Ps(e)?o(e,t):this.produce(e,i=>o(i,t))}};function OO(e,t){let r=WS(e)?R1("MapSet").proxyMap_(e,t):VS(e)?R1("MapSet").proxySet_(e,t):mPe(e,t);return(t?t.scope_:lZ()).drafts_.push(r),r}function Ga(e){return Ps(e)||Uu(10,e),uZ(e)}function uZ(e){if(!Lp(e)||US(e))return e;let t=e[Kl],r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=AO(e,t.scope_.immer_.useStrictShallowCopy_)}else r=AO(e,!0);return OS(r,(o,i)=>{aZ(r,o,uZ(i))}),t&&(t.finalized_=!1),r}var Uc=new hPe,a5=Uc.produce,zxt=Uc.produceWithPatches.bind(Uc),Xxt=Uc.setAutoFreeze.bind(Uc),Yxt=Uc.setUseStrictShallowCopy.bind(Uc),qxt=Uc.applyPatches.bind(Uc),$xt=Uc.createDraft.bind(Uc),Zxt=Uc.finishDraft.bind(Uc);var jS=Symbol("NOT_FOUND");function gPe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function yPe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function xPe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){let r=e.map(o=>typeof o=="function"?`function ${o.name||"unnamed"}()`:typeof o).join(", ");throw new TypeError(`${t}[${r}]`)}}var pZ=e=>Array.isArray(e)?e:[e];function bPe(e){let t=Array.isArray(e[0])?e[0]:e;return xPe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function vPe(e,t){let r=[],{length:o}=e;for(let i=0;i<o;i++)r.push(e[i].apply(null,t));return r}var Qxt=Symbol();var e4t=Object.getPrototypeOf({});function SPe(e){let t;return{get(r){return t&&e(t.key,r)?t.value:jS},put(r,o){t={key:r,value:o}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function CPe(e,t){let r=[];function o(a){let l=r.findIndex(c=>t(a,c.key));if(l>-1){let c=r[l];return l>0&&(r.splice(l,1),r.unshift(c)),c.value}return jS}function i(a,l){o(a)===jS&&(r.unshift({key:a,value:l}),r.length>e&&r.pop())}function n(){return r}function s(){r=[]}return{get:o,put:i,getEntries:n,clear:s}}var PPe=(e,t)=>e===t;function wPe(e){return function(r,o){if(r===null||o===null||r.length!==o.length)return!1;let{length:i}=r;for(let n=0;n<i;n++)if(!e(r[n],o[n]))return!1;return!0}}function GS(e,t){let r=typeof t=="object"?t:{equalityCheck:t},{equalityCheck:o=PPe,maxSize:i=1,resultEqualityCheck:n}=r,s=wPe(o),a=0,l=i<=1?SPe(s):CPe(i,s);function c(){let u=l.get(arguments);if(u===jS){if(u=e.apply(null,arguments),a++,n){let m=l.getEntries().find(h=>n(h.value,u));m&&(u=m.value,a!==0&&a--)}l.put(arguments,u)}return u}return c.clearCache=()=>{l.clear(),c.resetResultsCount()},c.resultsCount=()=>a,c.resetResultsCount=()=>{a=0},c}var _Pe=class{constructor(e){this.value=e}deref(){return this.value}},kPe=typeof WeakRef<"u"?WeakRef:_Pe,TPe=0,dZ=1;function RS(){return{s:TPe,v:void 0,o:null,p:null}}function Uy(e,t={}){let r=RS(),{resultEqualityCheck:o}=t,i,n=0;function s(){let a=r,{length:l}=arguments;for(let p=0,m=l;p<m;p++){let h=arguments[p];if(typeof h=="function"||typeof h=="object"&&h!==null){let f=a.o;f===null&&(a.o=f=new WeakMap);let x=f.get(h);x===void 0?(a=RS(),f.set(h,a)):a=x}else{let f=a.p;f===null&&(a.p=f=new Map);let x=f.get(h);x===void 0?(a=RS(),f.set(h,a)):a=x}}let c=a,u;if(a.s===dZ)u=a.v;else if(u=e.apply(null,arguments),n++,o){let p=i?.deref?.()??i;p!=null&&o(p,u)&&(u=p,n!==0&&n--),i=typeof u=="object"&&u!==null||typeof u=="function"?new kPe(u):u}return c.s=dZ,c.v=u,u}return s.clearCache=()=>{r=RS(),s.resetResultsCount()},s.resultsCount=()=>n,s.resetResultsCount=()=>{n=0},s}function S4(e,...t){let r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,o=(...i)=>{let n=0,s=0,a,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),gPe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);let u={...r,...l},{memoize:p,memoizeOptions:m=[],argsMemoize:h=Uy,argsMemoizeOptions:f=[],devModeChecks:x={}}=u,v=pZ(m),b=pZ(f),S=bPe(i),w=p(function(){return n++,c.apply(null,arguments)},...v),_=!0,E=h(function(){s++;let A=vPe(S,arguments);return a=w.apply(null,A),a},...b);return Object.assign(E,{resultFunc:c,memoizedResultFunc:w,dependencies:S,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>n,resetRecomputations:()=>{n=0},memoize:p,argsMemoize:h})};return Object.assign(o,{withTypes:()=>o}),o}var _e=S4(Uy),EPe=Object.assign((e,t=_e)=>{yPe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);let r=Object.keys(e),o=r.map(n=>e[n]);return t(o,(...n)=>n.reduce((s,a,l)=>(s[r[l]]=a,s),{}))},{withTypes:()=>EPe});var Ud=P("redux"),FO=P("redux");var RO=P("redux");var CZ=P("redux");var jZ=P("redux"),KZ=P("redux"),QZ=P("redux");var yZ=(...e)=>{let t=S4(...e),r=Object.assign((...o)=>{let i=t(...o),n=(s,...a)=>i(Ps(s)?Ga(s):s,...a);return Object.assign(n,i),n},{withTypes:()=>r});return r},xZ=yZ(Uy),MPe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?FO.compose:FO.compose.apply(null,arguments)},l4t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}},bZ=e=>e&&typeof e.match=="function";function Vr(e,t){function r(...o){if(t){let i=t(...o);if(!i)throw new Error(qs(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:o[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=o=>(0,RO.isAction)(o)&&o.type===e,r}function vZ(e){return typeof e=="function"&&"type"in e&&bZ(e)}function SZ(e){return(0,RO.isAction)(e)&&Object.keys(e).every(APe)}function APe(e){return["type","payload","error","meta"].indexOf(e)>-1}function IPe(e){let t=e?`${e}`.split("/"):[],r=t[t.length-1]||"actionCreator";return`Detected an action creator with type "${e||"unknown"}" being dispatched. 
Make sure you're calling the action creator before dispatching, i.e. \`dispatch(${r}())\` instead of \`dispatch(${r})\`. This is necessary even if the action has no payload.`}function DPe(e={}){return()=>r=>o=>r(o)}function WO(e,t){for(let r of e)if(t(r))return r}var jO=class C4 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,C4.prototype)}static get[Symbol.species](){return C4}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new C4(...t[0].concat(this)):new C4(...t.concat(this))}};function mZ(e){return Lp(e)?a5(e,()=>{}):e}function XS(e,t,r){if(e.has(t)){let i=e.get(t);return r.update&&(i=r.update(i,t,e),e.set(t,i)),i}if(!r.insert)throw new Error(qs(10));let o=r.insert(t,e);return e.set(t,o),o}function NPe(e){return typeof e!="object"||e==null||Object.isFrozen(e)}function OPe(e={}){if(1)return()=>o=>i=>o(i);var t,r}function PZ(e){let t=typeof e;return e==null||t==="string"||t==="boolean"||t==="number"||Array.isArray(e)||(0,CZ.isPlainObject)(e)}function wZ(e,t="",r=PZ,o,i=[],n){let s;if(!r(e))return{keyPath:t||"<root>",value:e};if(typeof e!="object"||e===null||n?.has(e))return!1;let a=o!=null?o(e):Object.entries(e),l=i.length>0;for(let[c,u]of a){let p=t?t+"."+c:c;if(!(l&&i.some(h=>h instanceof RegExp?h.test(p):p===h))){if(!r(u))return{keyPath:p,value:u};if(typeof u=="object"&&(s=wZ(u,p,r,o,i,n),s))return s}}return n&&_Z(e)&&n.add(e),!1}function _Z(e){if(!Object.isFrozen(e))return!1;for(let t of Object.values(e))if(!(typeof t!="object"||t===null)&&!_Z(t))return!1;return!0}function LPe(e={}){return()=>t=>r=>t(r)}function BPe(e){return typeof e=="boolean"}var FPe=()=>function(t){let{thunk:r=!0,immutableCheck:o=!0,serializableCheck:i=!0,actionCreatorCheck:n=!0}=t??{},s=new jO;return r&&(BPe(r)?s.push(Hv):s.push(cY(r.extraArgument))),s},GO="RTK_autoBatch",WPe=()=>e=>({payload:e,meta:{[GO]:!0}}),kZ=e=>t=>{setTimeout(t,e)},VPe=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:kZ(10),TZ=(e={type:"raf"})=>t=>(...r)=>{let o=t(...r),i=!0,n=!1,s=!1,a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?VPe:e.type==="callback"?e.queueNotification:kZ(e.timeout),c=()=>{s=!1,n&&(n=!1,a.forEach(u=>u()))};return Object.assign({},o,{subscribe(u){let p=()=>i&&u(),m=o.subscribe(p);return a.add(u),()=>{m(),a.delete(u)}},dispatch(u){try{return i=!u?.meta?.[GO],n=!i,n&&(s||(s=!0,l(c))),o.dispatch(u)}finally{i=!0}}})},UPe=e=>function(r){let{autoBatch:o=!0}=r??{},i=new jO(e);return o&&i.push(TZ(typeof o=="object"?o:void 0)),i};function RPe(e){let t=FPe(),{reducer:r=void 0,middleware:o,devTools:i=!0,preloadedState:n=void 0,enhancers:s=void 0}=e||{},a;if(typeof r=="function")a=r;else if((0,Ud.isPlainObject)(r))a=(0,Ud.combineReducers)(r);else throw new Error(qs(1));let l;typeof o=="function"?l=o(t):l=t();let c=Ud.compose;i&&(c=MPe({trace:!1,...typeof i=="object"&&i}));let u=(0,Ud.applyMiddleware)(...l),p=UPe(u),m=typeof s=="function"?s(p):p(),h=c(...m);return(0,Ud.createStore)(a,n,h)}function EZ(e){let t={},r=[],o,i={addCase(n,s){let a=typeof n=="string"?n:n.type;if(!a)throw new Error(qs(28));if(a in t)throw new Error(qs(29));return t[a]=s,i},addMatcher(n,s){return r.push({matcher:n,reducer:s}),i},addDefaultCase(n){return o=n,i}};return e(i),[t,r,o]}function jPe(e){return typeof e=="function"}function MZ(e,t){let[r,o,i]=EZ(t),n;if(jPe(e))n=()=>mZ(e());else{let a=mZ(e);n=()=>a}function s(a=n(),l){let c=[r[l.type],...o.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,p)=>{if(p)if(Ps(u)){let h=p(u,l);return h===void 0?u:h}else{if(Lp(u))return a5(u,m=>p(m,l));{let m=p(u,l);if(m===void 0){if(u===null)return u;throw new Error(qs(9))}return m}}return u},a)}return s.getInitialState=n,s}var AZ=(e,t)=>bZ(e)?e.match(t):e(t);function ws(...e){return t=>e.some(r=>AZ(r,t))}function YS(...e){return t=>e.every(r=>AZ(r,t))}function JS(e,t){if(!e||!e.meta)return!1;let r=typeof e.meta.requestId=="string",o=t.indexOf(e.meta.requestStatus)>-1;return r&&o}function P4(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function IZ(...e){return e.length===0?t=>JS(t,["pending"]):P4(e)?ws(...e.map(t=>t.pending)):IZ()(e[0])}function qS(...e){return e.length===0?t=>JS(t,["rejected"]):P4(e)?ws(...e.map(t=>t.rejected)):qS()(e[0])}function DZ(...e){let t=r=>r&&r.meta&&r.meta.rejectedWithValue;return e.length===0?YS(qS(...e),t):P4(e)?YS(qS(...e),t):DZ()(e[0])}function NZ(...e){return e.length===0?t=>JS(t,["fulfilled"]):P4(e)?ws(...e.map(t=>t.fulfilled)):NZ()(e[0])}function OZ(...e){return e.length===0?t=>JS(t,["pending","fulfilled","rejected"]):P4(e)?ws(...e.flatMap(t=>[t.pending,t.rejected,t.fulfilled])):OZ()(e[0])}var GPe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Tt=(e=21)=>{let t="",r=e;for(;r--;)t+=GPe[Math.random()*64|0];return t},HPe=["name","message","stack","code"],BO=class{constructor(e,t){y(this,"_type");this.payload=e,this.meta=t}},fZ=class{constructor(e,t){y(this,"_type");this.payload=e,this.meta=t}},LZ=e=>{if(typeof e=="object"&&e!==null){let t={};for(let r of HPe)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},Ht=(()=>{function e(t,r,o){let i=Vr(t+"/fulfilled",(l,c,u,p)=>({payload:l,meta:{...p||{},arg:u,requestId:c,requestStatus:"fulfilled"}})),n=Vr(t+"/pending",(l,c,u)=>({payload:void 0,meta:{...u||{},arg:c,requestId:l,requestStatus:"pending"}})),s=Vr(t+"/rejected",(l,c,u,p,m)=>({payload:p,error:(o&&o.serializeError||LZ)(l||"Rejected"),meta:{...m||{},arg:u,requestId:c,rejectedWithValue:!!p,requestStatus:"rejected",aborted:l?.name==="AbortError",condition:l?.name==="ConditionError"}}));function a(l){return(c,u,p)=>{let m=o?.idGenerator?o.idGenerator(l):Tt(),h=new AbortController,f,x;function v(S){x=S,h.abort()}let b=async function(){let S;try{let _=o?.condition?.(l,{getState:u,extra:p});if(zPe(_)&&(_=await _),_===!1||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};let E=new Promise((T,A)=>{f=()=>{A({name:"AbortError",message:x||"Aborted"})},h.signal.addEventListener("abort",f)});c(n(m,l,o?.getPendingMeta?.({requestId:m,arg:l},{getState:u,extra:p}))),S=await Promise.race([E,Promise.resolve(r(l,{dispatch:c,getState:u,extra:p,requestId:m,signal:h.signal,abort:v,rejectWithValue:(T,A)=>new BO(T,A),fulfillWithValue:(T,A)=>new fZ(T,A)})).then(T=>{if(T instanceof BO)throw T;return T instanceof fZ?i(T.payload,m,l,T.meta):i(T,m,l)})])}catch(_){S=_ instanceof BO?s(null,m,l,_.payload,_.meta):s(_,m,l)}finally{f&&h.signal.removeEventListener("abort",f)}return o&&!o.dispatchConditionRejection&&s.match(S)&&S.meta.condition||c(S),S}();return Object.assign(b,{abort:v,requestId:m,arg:l,unwrap(){return b.then(BZ)}})}}return Object.assign(a,{pending:n,rejected:s,fulfilled:i,settled:ws(s,i),typePrefix:t})}return e.withTypes=()=>e,e})();function BZ(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function zPe(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var FZ=Symbol.for("rtk-slice-createasyncthunk"),XPe={[FZ]:Ht},WZ=(e=>(e.reducer="reducer",e.reducerWithPrepare="reducerWithPrepare",e.asyncThunk="asyncThunk",e))(WZ||{});function YPe(e,t){return`${e}/${t}`}function VZ({creators:e}={}){let t=e?.asyncThunk?.[FZ];return function(o){let{name:i,reducerPath:n=i}=o;if(!i)throw new Error(qs(11));typeof process<"u";let s=(typeof o.reducers=="function"?o.reducers($Pe()):o.reducers)||{},a=Object.keys(s),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(S,w){let _=typeof S=="string"?S:S.type;if(!_)throw new Error(qs(12));if(_ in l.sliceCaseReducersByType)throw new Error(qs(13));return l.sliceCaseReducersByType[_]=w,c},addMatcher(S,w){return l.sliceMatchers.push({matcher:S,reducer:w}),c},exposeAction(S,w){return l.actionCreators[S]=w,c},exposeCaseReducer(S,w){return l.sliceCaseReducersByName[S]=w,c}};a.forEach(S=>{let w=s[S],_={reducerName:S,type:YPe(i,S),createNotation:typeof o.reducers=="function"};JPe(w)?QPe(_,w,c,t):ZPe(_,w,c)});function u(){let[S={},w=[],_=void 0]=typeof o.extraReducers=="function"?EZ(o.extraReducers):[o.extraReducers],E={...S,...l.sliceCaseReducersByType};return MZ(o.initialState,T=>{for(let A in E)T.addCase(A,E[A]);for(let A of l.sliceMatchers)T.addMatcher(A.matcher,A.reducer);for(let A of w)T.addMatcher(A.matcher,A.reducer);_&&T.addDefaultCase(_)})}let p=S=>S,m=new Map,h;function f(S,w){return h||(h=u()),h(S,w)}function x(){return h||(h=u()),h.getInitialState()}function v(S,w=!1){function _(T){let A=T[S];return typeof A>"u"&&w&&(A=x()),A}function E(T=p){let A=XS(m,w,{insert:()=>new WeakMap});return XS(A,T,{insert:()=>{let O={};for(let[L,R]of Object.entries(o.selectors??{}))O[L]=qPe(R,T,x,w);return O}})}return{reducerPath:S,getSelectors:E,get selectors(){return E(_)},selectSlice:_}}let b={name:i,reducer:f,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:x,...v(n),injectInto(S,{reducerPath:w,..._}={}){let E=w??n;return S.inject({reducerPath:E,reducer:f},_),{...b,...v(E,!0)}}};return b}}function qPe(e,t,r,o){function i(n,...s){let a=t(n);return typeof a>"u"&&o&&(a=r()),e(a,...s)}return i.unwrapped=e,i}var We=VZ();function $Pe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function ZPe({type:e,reducerName:t,createNotation:r},o,i){let n,s;if("reducer"in o){if(r&&!KPe(o))throw new Error(qs(17));n=o.reducer,s=o.prepare}else n=o;i.addCase(e,n).exposeCaseReducer(t,n).exposeAction(t,s?Vr(e,s):Vr(e))}function JPe(e){return e._reducerDefinitionType==="asyncThunk"}function KPe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function QPe({type:e,reducerName:t},r,o,i){if(!i)throw new Error(qs(18));let{payloadCreator:n,fulfilled:s,pending:a,rejected:l,settled:c,options:u}=r,p=i(e,n,u);o.exposeAction(t,p),s&&o.addCase(p.fulfilled,s),a&&o.addCase(p.pending,a),l&&o.addCase(p.rejected,l),c&&o.addMatcher(p.settled,c),o.exposeCaseReducer(t,{fulfilled:s||HS,pending:a||HS,rejected:l||HS,settled:c||HS})}function HS(){}function ewe(){return{ids:[],entities:{}}}function twe(e){function t(r={},o){let i=Object.assign(ewe(),r);return o?e.setAll(i,o):i}return{getInitialState:t}}function rwe(){function e(t,r={}){let{createSelector:o=xZ}=r,i=p=>p.ids,n=p=>p.entities,s=o(i,n,(p,m)=>p.map(h=>m[h])),a=(p,m)=>m,l=(p,m)=>p[m],c=o(i,p=>p.length);if(!t)return{selectIds:i,selectEntities:n,selectAll:s,selectTotal:c,selectById:o(n,a,l)};let u=o(t,n);return{selectIds:o(t,i),selectEntities:u,selectAll:o(t,s),selectTotal:o(t,c),selectById:o(u,a,l)}}return{getSelectors:e}}var owe=Ps;function iwe(e){let t=Bn((r,o)=>e(o));return function(o){return t(o,void 0)}}function Bn(e){return function(r,o){function i(s){return SZ(s)}let n=s=>{i(o)?e(o.payload,s):e(o,s)};return owe(r)?(n(r),r):a5(r,n)}}function Ry(e,t){return t(e)}function j1(e){return Array.isArray(e)||(e=Object.values(e)),e}function zS(e){return Ps(e)?Ga(e):e}function UZ(e,t,r){e=j1(e);let o=zS(r.ids),i=new Set(o),n=[],s=[];for(let a of e){let l=Ry(a,t);i.has(l)?s.push({id:l,changes:a}):n.push(a)}return[n,s,o]}function RZ(e){function t(f,x){let v=Ry(f,e);v in x.entities||(x.ids.push(v),x.entities[v]=f)}function r(f,x){f=j1(f);for(let v of f)t(v,x)}function o(f,x){let v=Ry(f,e);v in x.entities||x.ids.push(v),x.entities[v]=f}function i(f,x){f=j1(f);for(let v of f)o(v,x)}function n(f,x){f=j1(f),x.ids=[],x.entities={},r(f,x)}function s(f,x){return a([f],x)}function a(f,x){let v=!1;f.forEach(b=>{b in x.entities&&(delete x.entities[b],v=!0)}),v&&(x.ids=x.ids.filter(b=>b in x.entities))}function l(f){Object.assign(f,{ids:[],entities:{}})}function c(f,x,v){let b=v.entities[x.id];if(b===void 0)return!1;let S=Object.assign({},b,x.changes),w=Ry(S,e),_=w!==x.id;return _&&(f[x.id]=w,delete v.entities[x.id]),v.entities[w]=S,_}function u(f,x){return p([f],x)}function p(f,x){let v={},b={};f.forEach(w=>{w.id in x.entities&&(b[w.id]={id:w.id,changes:{...b[w.id]?.changes,...w.changes}})}),f=Object.values(b),f.length>0&&f.filter(_=>c(v,_,x)).length>0&&(x.ids=Object.values(x.entities).map(_=>Ry(_,e)))}function m(f,x){return h([f],x)}function h(f,x){let[v,b]=UZ(f,e,x);p(b,x),r(v,x)}return{removeAll:iwe(l),addOne:Bn(t),addMany:Bn(r),setOne:Bn(o),setMany:Bn(i),setAll:Bn(n),updateOne:Bn(u),updateMany:Bn(p),upsertOne:Bn(m),upsertMany:Bn(h),removeOne:Bn(s),removeMany:Bn(a)}}function nwe(e,t,r){let o=0,i=e.length;for(;o<i;){let n=o+i>>>1,s=e[n];r(t,s)>=0?o=n+1:i=n}return o}function swe(e,t,r){let o=nwe(e,t,r);return e.splice(o,0,t),e}function awe(e,t){let{removeOne:r,removeMany:o,removeAll:i}=RZ(e);function n(v,b){return s([v],b)}function s(v,b,S){v=j1(v);let w=new Set(S??zS(b.ids)),_=v.filter(E=>!w.has(Ry(E,e)));_.length!==0&&x(b,_)}function a(v,b){return l([v],b)}function l(v,b){if(v=j1(v),v.length!==0){for(let S of v)delete b.entities[e(S)];x(b,v)}}function c(v,b){v=j1(v),b.entities={},b.ids=[],s(v,b,[])}function u(v,b){return p([v],b)}function p(v,b){let S=!1,w=!1;for(let _ of v){let E=b.entities[_.id];if(!E)continue;S=!0,Object.assign(E,_.changes);let T=e(E);if(_.id!==T){w=!0,delete b.entities[_.id];let A=b.ids.indexOf(_.id);b.ids[A]=T,b.entities[T]=E}}S&&x(b,[],S,w)}function m(v,b){return h([v],b)}function h(v,b){let[S,w,_]=UZ(v,e,b);w.length&&p(w,b),S.length&&s(S,b,_)}function f(v,b){if(v.length!==b.length)return!1;for(let S=0;S<v.length;S++)if(v[S]!==b[S])return!1;return!0}let x=(v,b,S,w)=>{let _=zS(v.entities),E=zS(v.ids),T=v.entities,A=E;w&&(A=new Set(E));let O=[];for(let z of A){let I=_[z];I&&O.push(I)}let L=O.length===0;for(let z of b)T[e(z)]=z,L||swe(O,z,t);L?O=b.slice().sort(t):S&&O.sort(t);let R=O.map(e);f(E,R)||(v.ids=R)};return{removeOne:r,removeMany:o,removeAll:i,addOne:Bn(n),updateOne:Bn(u),upsertOne:Bn(m),setOne:Bn(a),setMany:Bn(l),setAll:Bn(c),addMany:Bn(s),updateMany:Bn(p),upsertMany:Bn(h)}}function HO(e={}){let{selectId:t,sortComparer:r}={sortComparer:!1,selectId:s=>s.id,...e},o=r?awe(t,r):RZ(t),i=twe(o),n=rwe();return{selectId:t,sortComparer:r,...i,...n,...o}}var lwe="task",GZ="listener",HZ="completed",zO="cancelled",cwe=`task-${zO}`,uwe=`task-${HZ}`,VO=`${GZ}-${zO}`,pwe=`${GZ}-${HZ}`,w4=class{constructor(e){y(this,"name","TaskAbortError");y(this,"message");this.code=e,this.message=`${lwe} ${zO} (reason: ${e})`}},XO=(e,t)=>{if(typeof e!="function")throw new Error(qs(32))},$S=()=>{},zZ=(e,t=$S)=>(e.catch(t),e),XZ=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),G1=(e,t)=>{let r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},H1=e=>{if(e.aborted){let{reason:t}=e;throw new w4(t)}};function YZ(e,t){let r=$S;return new Promise((o,i)=>{let n=()=>i(new w4(e.reason));if(e.aborted){n();return}r=XZ(e,n),t.finally(()=>r()).then(o,i)}).finally(()=>{r=$S})}var dwe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof w4?"cancelled":"rejected",error:r}}finally{t?.()}},ZS=e=>t=>zZ(YZ(e,t).then(r=>(H1(e),r))),qZ=e=>{let t=ZS(e);return r=>t(new Promise(o=>setTimeout(o,r)))},{assign:jy}=Object,hZ={},KS="listenerMiddleware",mwe=(e,t)=>{let r=o=>XZ(e,()=>G1(o,e.reason));return(o,i)=>{XO(o,"taskExecutor");let n=new AbortController;r(n);let s=dwe(async()=>{H1(e),H1(n.signal);let a=await o({pause:ZS(n.signal),delay:qZ(n.signal),signal:n.signal});return H1(n.signal),a},()=>G1(n,uwe));return i?.autoJoin&&t.push(s.catch($S)),{result:ZS(e)(s),cancel(){G1(n,cwe)}}}},fwe=(e,t)=>{let r=async(o,i)=>{H1(t);let n=()=>{},a=[new Promise((l,c)=>{let u=e({predicate:o,effect:(p,m)=>{m.unsubscribe(),l([p,m.getState(),m.getOriginalState()])}});n=()=>{u(),c()}})];i!=null&&a.push(new Promise(l=>setTimeout(l,i,null)));try{let l=await YZ(t,Promise.race(a));return H1(t),l}finally{n()}};return(o,i)=>zZ(r(o,i))},$Z=e=>{let{type:t,actionCreator:r,matcher:o,predicate:i,effect:n}=e;if(t)i=Vr(t).match;else if(r)t=r.type,i=r.match;else if(o)i=o;else if(!i)throw new Error(qs(21));return XO(n,"options.listener"),{predicate:i,type:t,effect:n}},ZZ=jy(e=>{let{type:t,predicate:r,effect:o}=$Z(e);return{id:Tt(),effect:o,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(qs(22))}}},{withTypes:()=>ZZ}),UO=e=>{e.pending.forEach(t=>{G1(t,VO)})},hwe=e=>()=>{e.forEach(UO),e.clear()},gZ=(e,t,r)=>{try{e(t,r)}catch(o){setTimeout(()=>{throw o},0)}},YO=jy(Vr(`${KS}/add`),{withTypes:()=>YO}),JZ=Vr(`${KS}/removeAll`),qO=jy(Vr(`${KS}/remove`),{withTypes:()=>qO}),gwe=(...e)=>{console.error(`${KS}/error`,...e)},z1=(e={})=>{let t=new Map,{extra:r,onError:o=gwe}=e;XO(o,"onError");let i=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),p=>{u.unsubscribe(),p?.cancelActive&&UO(u)}),n=u=>{let p=WO(Array.from(t.values()),m=>m.effect===u.effect);return p||(p=ZZ(u)),i(p)};jy(n,{withTypes:()=>n});let s=u=>{let{type:p,effect:m,predicate:h}=$Z(u),f=WO(Array.from(t.values()),x=>(typeof p=="string"?x.type===p:x.predicate===h)&&x.effect===m);return f&&(f.unsubscribe(),u.cancelActive&&UO(f)),!!f};jy(s,{withTypes:()=>s});let a=async(u,p,m,h)=>{let f=new AbortController,x=fwe(n,f.signal),v=[];try{u.pending.add(f),await Promise.resolve(u.effect(p,jy({},m,{getOriginalState:h,condition:(b,S)=>x(b,S).then(Boolean),take:x,delay:qZ(f.signal),pause:ZS(f.signal),extra:r,signal:f.signal,fork:mwe(f.signal,v),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((b,S,w)=>{b!==f&&(G1(b,VO),w.delete(b))})},cancel:()=>{G1(f,VO),u.pending.delete(f)},throwIfCancelled:()=>{H1(f.signal)}})))}catch(b){b instanceof w4||gZ(o,b,{raisedBy:"effect"})}finally{await Promise.all(v),G1(f,pwe),u.pending.delete(f)}},l=hwe(t);return{middleware:u=>p=>m=>{if(!(0,jZ.isAction)(m))return p(m);if(YO.match(m))return n(m.payload);if(JZ.match(m)){l();return}if(qO.match(m))return s(m.payload);let h=u.getState(),f=()=>{if(h===hZ)throw new Error(qs(23));return h},x;try{if(x=p(m),t.size>0){let v=u.getState(),b=Array.from(t.values());for(let S of b){let w=!1;try{w=S.predicate(m,v,h)}catch(_){w=!1,gZ(o,_,{raisedBy:"predicate"})}w&&a(S,m,u,f)}}}finally{h=hZ}return x},startListening:n,stopListening:s,clearListeners:l}},ywe=e=>({id:Tt(),middleware:e,applied:new Map}),xwe=e=>t=>t?.meta?.instanceId===e,bwe=()=>{let e=Tt(),t=new Map,r=Object.assign(Vr("dynamicMiddleware/add",(...a)=>({payload:a,meta:{instanceId:e}})),{withTypes:()=>r}),o=Object.assign(function(...l){l.forEach(c=>{let u=WO(Array.from(t.values()),p=>p.middleware===c);u||(u=ywe(c)),t.set(u.id,u)})},{withTypes:()=>o}),i=a=>{let l=Array.from(t.values()).map(c=>XS(c.applied,a,{insert:()=>c.middleware(a)}));return(0,KZ.compose)(...l)},n=YS(r,xwe(e));return{middleware:a=>l=>c=>n(c)?(o(...c.payload),a.dispatch):i(a)(l)(c),addMiddleware:o,withMiddleware:r,instanceId:e}},vwe=e=>"reducerPath"in e&&typeof e.reducerPath=="string",Swe=e=>e.flatMap(t=>vwe(t)?[[t.reducerPath,t.reducer]]:Object.entries(t)),$O=Symbol.for("rtk-state-proxy-original"),Cwe=e=>!!e&&!!e[$O],Pwe=new WeakMap,wwe=(e,t)=>XS(Pwe,e,{insert:()=>new Proxy(e,{get:(r,o,i)=>{if(o===$O)return r;let n=Reflect.get(r,o,i);if(typeof n>"u"){let s=t[o.toString()];if(s){let a=s(void 0,{type:Tt()});if(typeof a>"u")throw new Error(qs(24));return a}}return n}})}),_we=e=>{if(!Cwe(e))throw new Error(qs(25));return e[$O]},kwe=(e={})=>e;function Twe(...e){let t=Object.fromEntries(Swe(e)),r=()=>Object.keys(t).length?(0,QZ.combineReducers)(t):kwe,o=r();function i(a,l){return o(a,l)}i.withLazyLoadedSlices=()=>i;let n=(a,l={})=>{let{reducerPath:c,reducer:u}=a,p=t[c];return!l.overrideExisting&&p&&p!==u?(typeof process<"u",i):(t[c]=u,o=r(),i)},s=Object.assign(function(l,c){return function(p,...m){return l(wwe(c?c(p,...m):p,t),...m)}},{original:_we});return Object.assign(i,{inject:n,selector:s})}function qs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ewe=function(e,t){let r="easel:"+e,o=function(){try{return JSON.parse(localStorage.getItem(r))}catch{}},i=function(n){try{return localStorage.setItem(r,JSON.stringify(n))}catch{}};return t.get=o,t.set=i,t},Gy=Ewe;var Mwe=function(e=Gy){let t=e("machine-settings",{}),r=()=>({x:11.2,y:11.2}),o=()=>({profileId:null,machineType:ze.XCARVE,electronicsType:"arduino-gshield",railSize:{x:500,y:500},leadScrewType:"m8",spindleType:"24v",automaticSpindleControl:!1,spindleRPM:14e3,manualConnectionPreference:!1,probePreferences:Bc.probeDefaults,probeEnabled:!1,accessoriesEnabled:!1,hasDustShoe:!1,isDefault:!0,connectionType:"easel_driver"});return{get:function(a){let l=t.get(),c=et.getMachineProfiles(a),u=(l&&c.find(p=>p.id===l.profileId))??c[c.length-1];return u&&(l=Hs.toSettings(u)),{workArea:r(),...l??o()}},save:function(a){a!=null&&t.set({profileId:a.profileId,machineType:a.machineType,thirdPartyMake:a.thirdPartyMake,thirdPartyModel:a.thirdPartyModel,otherMake:a.otherMake,otherModel:a.otherModel,serialNumber:a.serialNumber,electronicsType:a.electronicsType,comPort:a.comPort,workArea:a.workArea,railSize:a.railSize,leadScrewType:a.leadScrewType,spindleType:a.spindleType,automaticSpindleControl:a.automaticSpindleControl,spindleRPM:a.spindleRPM,manualConnectionPreference:a.manualConnectionPreference,probePreferences:a.probePreferences,probeEnabled:a.probeEnabled,accessoriesEnabled:a.accessoriesEnabled,hasDustShoe:a.hasDustShoe,isDefault:a.isDefault,belts:a.belts,connectionType:a.connectionType})},areSettingsSaved:a=>t.get(a)!=null}},Hy=Mwe;var _4=e=>e/25.4,Awe={KEEP_AWAY:.5,LENGTH:_4(79),WIDTH:_4(26),OFFSET:_4(22.25),FILLET:_4(4),HEIGHT:_4(12)},l5=Awe;var Ql=Hy().save,Iwe={accessoriesEnabled:!1,machineType:"x-carve",thirdPartyMake:null,thirdPartyModel:null,otherMake:null,otherModel:null,electronicsType:"arduino-gshield",manualConnectionPreference:!1,comPort:null,workArea:{x:11.2,y:11.2},railSize:{x:500,y:500},leadScrewType:"m8",spindleType:"24v",automaticSpindleControl:!1,spindleRPM:14e3,probeEnabled:!1,probePreferences:{probeDistance:3.1,probeThickness:.59,probeRate:5,probeRetractDistance:.25,units:"in"},hasDustShoe:!1,profileId:null,isDefault:!0},ZO=e=>(e.machineType==="carvey (grbl)"&&(e.spindleRPM=Bc.rpm.CARVEY,e.workArea={x:11.6,y:8}),e.machineType!=="other (grbl)"&&(e.thirdPartyMake=null,e.thirdPartyModel=null),e.machineType==="x-carve pro"&&(e.spindleType="xcp-spindle",e.automaticSpindleControl=!0),e),JO=We({name:"machineSettings",initialState:Iwe,reducers:{setAccessoriesEnabled(e,t){e.accessoriesEnabled=t.payload,Ql(e)},setMachineType(e,t){e.machineType=t.payload,ZO(e),Ql(e)},setComPort(e,t){e.comPort=t.payload,Ql(e)},setAutomaticSpindleControl(e,t){e.automaticSpindleControl=t.payload,Ql(e)},setSpindleRPM(e,t){e.spindleRPM=t.payload,Ql(e)},setManualConnectionPreference(e,t){e.manualConnectionPreference=t.payload,Ql(e)},setProbePreferences(e,t){e.probePreferences={...e.probePreferences,...t.payload},Ql(e)},setProbeEnabled(e,t){e.probeEnabled=t.payload,Ql(e)},setHasDustShoe(e,t){e.hasDustShoe=t.payload,Ql(e)},useDefaultProbePreferences(e){e.probePreferences=Bc.probeDefaults,Ql(e)},saveConfiguration(e,t){let r={...t.payload,isDefault:!1};for(let o in r)e[o]=r[o];ZO(e),Ql(e)},updateWorkArea(e,t){e.workArea=t.payload,Ql(e)},setSerialNumber(e,t){e.serialNumber=t.payload},setLoadedMachineConfiguration(e,t){let r=t.payload;r.isDefault==null&&(r.isDefault=!1);for(let o in r)e[o]=r[o];ZO(e)}},extraReducers:e=>{e.addCase(et.actions.setCurrentProfileId,(t,{payload:r})=>{t.profileId=r,Ql(t)}),e.addCase(et.actions.createMachineProfile.fulfilled,(t,{payload:r})=>{t.profileId=r.id,Ql(t)})}}),{setAccessoriesEnabled:O4t,setMachineType:L4t,setComPort:B4t,setAutomaticSpindleControl:F4t,setSpindleRPM:W4t,setManualConnectionPreference:V4t,setProbePreferences:U4t,setProbeEnabled:R4t,setHasDustShoe:j4t,useDefaultProbePreferences:G4t,updateWorkArea:H4t,setSerialNumber:z4t,setLoadedMachineConfiguration:X4t}=JO.actions,Dwe=e=>e.machineSettings.machineType==="carvey (grbl)"?[{minX:0,maxX:e.machineSettings.workArea.x,minY:0,maxY:e.machineSettings.workArea.y,minZ:-4,maxZ:4}]:[],Nwe=e=>{if(e.machineSettings.machineType==="carvey (grbl)"){let{WIDTH:t,LENGTH:r,OFFSET:o,FILLET:i,KEEP_AWAY:n}=l5;return[{minX:-o-n,maxX:r-o+n,minY:-o-n,maxY:t-o+n,radius:i+n,minZ:-1/0,maxZ:1/0},{minX:-o-n,maxX:t-o+n,minY:-o-n,maxY:r-o+n,radius:i+n,minZ:-1/0,maxZ:1/0}]}else return[]},Owe={getSettings:e=>e.machineSettings,getAccessoriesEnabled:e=>e.machineSettings.accessoriesEnabled,getAutomaticSpindleControl:e=>e.machineSettings.automaticSpindleControl,getBelts:e=>e.machineSettings.belts,getComPort:e=>e.machineSettings.comPort,getConnectionType:e=>e.machineSettings.connectionType,getElectronicsType:e=>e.machineSettings.electronicsType,getGantryType:e=>e.machineSettings.gantryType,getHasDustShoe:e=>e.machineSettings.hasDustShoe,getKeepInRects:e=>Dwe(e),getKeepOutRects:e=>Nwe(e),getLeadScrewType:e=>e.machineSettings.leadScrewType,getMachineSettingsState:e=>e.machineSettings,getMachineType:e=>e.machineSettings.machineType,getManualConnectionPreference:e=>e.machineSettings.manualConnectionPreference,getProbeEnabled:e=>e.machineSettings.probeEnabled,getProbePreferences:e=>e.machineSettings.probePreferences,getRailSize:e=>e.machineSettings.railSize,getRecommendedSettings:e=>Bc.recommendedSettings[e.machineSettings.machineType]||{},getSpindleRPM:e=>e.machineSettings.spindleRPM??Gv.spindleSpeed,getSpindleType:e=>e.machineSettings.spindleType,getThirdPartyMake:e=>e.machineSettings.thirdPartyMake,getThirdPartyModel:e=>e.machineSettings.thirdPartyModel,getOtherMake:e=>e.machineSettings.otherMake,getOtherModel:e=>e.machineSettings.otherModel,getWorkArea:e=>e.machineSettings.workArea,isCarvey:e=>e.machineSettings.machineType==="carvey (grbl)",isDefault:e=>e.machineSettings.isDefault,isMachineSetupComplete:e=>e.machineSettings.machineType==="carvey (grbl)"||!e.machineSettings.isDefault,shouldAutoDetectMachine:e=>!e.machineSettings.manualConnectionPreference},Lwe={actions:JO.actions,reducer:JO.reducer,...Owe},Y=Lwe;var Bwe={description(e){switch(e){case"shapeoko":return"Shapeoko (1 or 2)";case"x-carve":return"X-Carve";case"x-carve pro":return"X-Carve Pro";case"carvey (grbl)":return"Carvey";case"other (grbl)":return"Other (grbl)";case"other (fluidnc)":return"Other (fluidnc)"}},defaultName(e){return e.otherModel?e.otherModel:e.thirdPartyModel==="other"?"CNC machine":e.thirdPartyModel?e.thirdPartyModel:this.description(e.machineType)},currentWalkthroughType(e){switch(e){case"shapeoko":case"x-carve":case"x-carve pro":case"other (grbl)":case"other (fluidnc)":return"x-carve";case"carvey (grbl)":return"carvey"}},currentPostProcessor(e){switch(Y.getMachineType(e)){case"shapeoko":case"x-carve":case"x-carve pro":case"other (grbl)":case"other (fluidnc)":return"x-carve";case"carvey (grbl)":return"carvey"}},currentWasteboardType(e){switch(Y.getMachineType(e)){case"shapeoko":case"x-carve":case"x-carve pro":case"other (grbl)":case"other (fluidnc)":return"shapeoko";case"carvey (grbl)":return"carvey"}},currentControllers(e){switch(Y.getMachineType(e)){case"x-carve pro":return[K$,Z$,J$];case"shapeoko":case"x-carve":case"other (grbl)":return[$$,q$];case"other (fluidnc)":return[X$];case"carvey (grbl)":return[Y$]}},currentIsInventablesMachine(e){switch(e){case"shapeoko":case"x-carve":case"carvey (grbl)":case"x-carve pro":return!0;case"other (fluidnc)":case"other (grbl)":return!1}},supportsSpindleSpeed(e,t,r){return e!=="carvey (grbl)"&&(t==="24v"||t==="other"||t==="xcp-spindle")&&r},supportsMotorLocking(e){return e!=="x-carve pro"},firmwareVersionForReadyResponse(e,t){let r=null;switch(Y.getMachineType(t)){case"shapeoko":case"x-carve":case"carvey (grbl)":case"x-carve pro":case"other (grbl)":{let o=e.match(/(.+) \['\$' for help\]/);r=o?o[1]:null;break}case"other (fluidnc)":{let o=e.match(/.+ \[(FluidNC .+) '\$' for help\]/);r=o?o[1]:null}}return r??"unknown"}},bt=Bwe;var Fwe={machineProfiles:[],currentProfileId:null},tJ=Ht("machineProfiles/createMachineProfile",async e=>{let t=bt.defaultName(e);H.trackEvent(U.machineProfileCreated,{name:t,"Write-In Make":e.otherMake,"Write-In Model":e.otherModel,"Easel Pro Content":["Machine Profiles"]});let r=Hs.fromSettings(e);return Hs.create(t,r)}),rJ=Ht("machineProfiles/updateMachineProfile",async({id:e,name:t,machineSettings:r,proRequired:o},{rejectWithValue:i})=>{H.trackEvent(U.machineProfileEdited,{name:t,"Easel Pro Content":["Machine Profiles"]});let n=r&&Hs.fromSettings(r);try{return await Hs.update(e,{name:t,settings:n,proRequired:o})}catch(s){return i(s)}}),eJ=We({name:"machineProfiles",initialState:Fwe,reducers:{setMachineProfiles(e,{payload:t}){e.machineProfiles=t},deleteMachineProfile(e,{payload:t}){e.machineProfiles=e.machineProfiles.filter(r=>r.id!==t.id)},setCurrentProfileId(e,{payload:t}){e.currentProfileId=t}},extraReducers:e=>{e.addCase(tJ.fulfilled,(t,{payload:r})=>{t.machineProfiles.push(r),t.currentProfileId=r.id}),e.addCase(rJ.fulfilled,(t,{payload:r})=>{t.machineProfiles=t.machineProfiles.map(o=>o.id===r.id?r:o)}),e.addCase(Vr("user/loadServerInfo"),(t,{payload:r})=>{t.machineProfiles=r.machineProfiles})}});function oJ(e){return e.machineProfiles}function iJ(e){return oJ(e).machineProfiles}function nJ(e){return oJ(e).currentProfileId}function Wwe(e){let t=nJ(e);return iJ(e).find(o=>o.id===t)}var QO=z1(),KO=!1;QO.startListening({predicate:e=>e.type==="machineProfiles/setCurrentProfileId"||e.type==="machineSettings/setLoadedMachineConfiguration",effect:e=>{e.type==="machineProfiles/setCurrentProfileId"?KO=!0:e.type==="machineSettings/setLoadedMachineConfiguration"&&KO&&(H.trackEvent(U.machineProfileSelected,{"Easel Pro Content":[U.proContent.machineProfiles]}),KO=!1)}});var Vwe={getMachineProfiles:iJ,getCurrentMachineProfile:Wwe,getCurrentProfileId:nJ},Uwe={actions:{...eJ.actions,createMachineProfile:tJ,updateMachineProfile:rJ},reducer:eJ.reducer,...Vwe},et=Uwe;var Rwe=2,eL=async e=>await kt("/projects",JSON.stringify(e)),jwe=(e,t)=>eL({project:{name:e,cabinetry:{version:ve.VERSION,cabinets:[{configuration:t,manufactured:!1}]}}}),Gwe=(e,t)=>eL({project:{name:e,cabinetry:{version:ve.VERSION,cabinets:[],room:t}}}),Hwe=e=>Wr(`/projects/${e}.json?j=1`),zwe=e=>kt("/delete",JSON.stringify({link_tokens:e})),Xwe=(e,t)=>pa(`/projects/${e}`,JSON.stringify(t)),Ywe=(e,t)=>(t=tL(t),kt(`/projects/${e}/workpieces`,JSON.stringify(t))),qwe=function(e,t,r,o){return o=tL(o),pa(`/projects/${e}/workpieces/${t}`,JSON.stringify({...o,save_version:r}))},$we=async function(e,t,r){return r=tL(r),await kt(`/projects/${e}/workpieces/upsert`,JSON.stringify({...r,save_version:t}))},Zwe=(e,t)=>Yl(`/projects/${e}/workpieces/${t}`),tL=function(e){return e.workpiece.version==null&&(e.workpiece.version=Rwe),e},Jwe=e=>kt(`/projects/${e}/homeowner_links`),Kwe=(e,t)=>kt(`/projects/${e}/comments`,JSON.stringify({message:t})),Qwe=(e,t)=>Wr(`/projects/${e}/comments/get_new?since=${t}`),e_e=(e,t)=>kt(`/projects/${e}/comments/${t}/mark_read`);var t_e=(e,t,r=[],o=[],i={})=>kt("/clone.json",JSON.stringify({link_token:e,job_link_token:t,modified_workpieces:r,deleted_workpieces:o,event_data:i})),r_e=(e,t,r={},o={})=>kt("/clone.json",JSON.stringify({link_token:e,target_project:t,overrides:r,event_data:o})),o_e=(e,t)=>dy(`/projects/${e}/update_active_workpiece`,JSON.stringify({active_workpiece_position:t})),i_e={create:eL,createCabinet:jwe,createRoom:Gwe,get:Hwe,delete:zwe,update:Xwe,createWorkpiece:Ywe,updateWorkpiece:qwe,upsertWorkpiece:$we,deleteWorkpiece:Zwe,createHomeownerLink:Jwe,postComment:Kwe,getCommentsSince:Qwe,markCommentRead:e_e,clone:t_e,cloneInto:r_e,updateActiveWorkpiece:o_e},Gr=i_e;var n_e=function(e,t){return{createProjectCopy:function(o,i){let n=t.snap(),s=n.changedWorkpieces(),a=n.deletedWorkpieces();return Gr.clone(e,o,s,a,i)}}},sJ=n_e;var s_e=function(e,t,r){let o={},i=Math.random().toString(36).substr(2),n=null,s=null,a=Promise.resolve(),l=()=>{a=Promise.resolve()},c=()=>(n=(n||0)+1,n),u=f=>f.catch(function(){}),p=function(f,x,v){let b=f.changedWorkpieces().map(function(S){return Gr.updateWorkpiece(x,S.id,v,{workpiece:S})});return Promise.all(b)},m=(f,x,v)=>{if(!r)return Promise.resolve(null);let b={linkToken:x,snapshotData:f.project(),saveClient:i,saveKey:s,saveVersion:v};return Promise.all([r.storeProject(b),Promise.all(f.deletedWorkpieces().map(S=>r.storeWorkpiece({clientId:S.client_id,backendId:S.id,linkToken:x,saveClient:i,isDeleted:!0},b))),Promise.all(f.changedWorkpieces().map(S=>r.storeWorkpiece({clientId:S.client_id,backendId:S.id,snapshotData:S,linkToken:x,saveClient:i},b)))]).then(([S,,w])=>(f.markProjectSaved(S),w.forEach(_=>f.markWorkpieceSaved(_)),!0)).catch(S=>(console.error("Offline save failed:",S),!1))},h=function(){let f=c();return a=u(a).then(function(){let x=t.snap();if(!x.hasChanged())return Promise.resolve({saveVersion:n,saveResponse:{status:"saved",error:null}});let v=e(),b=m(x,v,f),S=Gr.update(v,{project:{...x.project(),save_client:i,save_key:s,save_version:f}}).then(_=>_).catch(_=>(console.error("Server save failed:",_),!1)),w;return Promise.all([f,S,b]).then(([_,E,T])=>{if(E?.error||E===!1&&T===!1){r?.clearByLinkToken(v);let A=E?.error||"Both server and offline saves failed";return Promise.reject(A)}return w=_,{savedVersion:w,serverData:E,offlineData:T}}).then(({savedVersion:_,serverData:E,offlineData:T})=>E===!1||E?.error?{saveVersion:_,saveResponse:{status:"offline",error:null}}:p(x,E.link_token,_).then(()=>r?.clearByLinkToken(v,_).catch(A=>{console.error("Failed to clear offline storage",A)})).then(()=>({saveVersion:_,saveResponse:{status:"saved",error:null}})).catch(A=>(console.error("Workpiece update failed:",A),T===!0?{saveVersion:_,saveResponse:{status:"offline",error:null}}:Promise.reject("Both server and offline saves failed for workpieces"))))})};return o.saveProject=h,o.reset=l,o.setProjectSaveParams=function({save_version:f,save_key:x}){n=f,s=x},o.getProjectSaveClient=()=>i,o.getProjectSaveVersion=()=>n,o.currentProjectVersion=()=>n,o},aJ=s_e;var a_e=function(e){let t=null,r={},o=function(a){return t==null?!0:!_r(t,a)},i=a=>!(_r(r[a.client_id],a)&&a.backendId!=null),n=function(){let a=le(e()),{workpieces:l}=a;delete a.workpieces,delete a.labels;let c=[],u=[],p=new Set;for(let b of l)p.add(b.client_id),i(b)&&c.push(b);for(let b in r){let S=r[b];p.has(S.client_id)||u.push({client_id:S.client_id,id:S.backendId})}let m=c.length>0||u.length>0||o(a),h={};for(let b of c)h[b.client_id]=b;let f=function(b){let S=h[b];r[S.client_id]=S},x=function(){for(let b of u)delete r[b.client_id];t=a},v=c.map(function(b){b=le(b);let{backendId:S}=b;return delete b.backendId,b.id=S,b});return{changedWorkpieces(){return v},deletedWorkpieces(){return u},hasChanged(){return m},project(){return a},markProjectSaved:x,markWorkpieceSaved:f}};return{snap:n,takeSnapshotAndEnableSaving:function(){let a=n();a.markProjectSaved();for(let l of a.changedWorkpieces())a.markWorkpieceSaved(l.client_id)}}},lJ=a_e;function fn(e){return Ps(e)&&(e=Ga(e)),structuredClone(e)}var l_e={jobLinkToken:null,jobId:null,projectId:null,projectLinkToken:null,projectName:null,draftGalleryCollectionId:null,readOnly:!1,shared:!1,starred:!1,containsImportedSVG:null,carveCount:0,ownerName:null,ownerEmail:null,ownerProfilePermalink:null,assignedLabels:[],createdAt:null,updatedAt:null},hf=We({name:"metadata",initialState:l_e,reducers:{loadProjectData(e,{payload:t}){let r=fn(t.project);e.projectId=r.id,e.projectLinkToken=r.link_token,e.projectName=r.name,e.draftGalleryCollectionId=r.draft_gallery_collection_id?Number(r.draft_gallery_collection_id):null,e.starred=!!r.starred,e.assignedLabels=r.labels??[],e.createdAt=r.created_at,e.updatedAt=r.updated_at,e.shared=r.shared,e.containsImportedSVG=r.contains_imported_svg,e.carveCount=r.carve_count,r.job&&(e.jobLinkToken=r.job.linkToken,e.jobId=r.job.id),e.readOnly=t.readonly},setJobId(e,{payload:t}){e.jobId=t},setProjectId(e,{payload:t}){e.projectId=t},setProjectName(e,{payload:t}){e.projectName=t},setProjectStarred(e,{payload:t}){e.starred=t},setProjectShared(e,{payload:t}){e.shared=t},setContainsImportedSVG(e,{payload:t}){e.containsImportedSVG=t},setCarveCount(e,{payload:t}){e.carveCount=t},setAssignedLabels(e,{payload:t}){e.assignedLabels=t},setDraftGalleryCollectionId(e,{payload:t}){e.draftGalleryCollectionId=t}},extraReducers:e=>{e.addCase(Vr("user/loadServerInfo"),(t,{payload:{owner:r}})=>{r&&(t.ownerName=r.fullName,t.ownerProfilePermalink=r.profilePermalink,t.ownerEmail=r.email)})}}),cJ=[hf.actions.setProjectName,hf.actions.setDraftGalleryCollectionId,hf.actions.setCarveCount,hf.actions.setAssignedLabels,hf.actions.setContainsImportedSVG,hf.actions.setProjectShared,hf.actions.setProjectStarred],c_e={getJobId:e=>e.metadata.jobId,getJobLinkToken:e=>e.metadata.jobLinkToken,getProjectName:e=>e.metadata.projectName,getProjectId:e=>e.metadata.projectId,getProjectLinkToken:e=>e.metadata.projectLinkToken,isProjectStarred:e=>e.metadata.starred,isProjectShared:e=>e.metadata.shared,isReadOnly:e=>e.metadata.readOnly,getProjectSharedStatus:e=>e.metadata.shared?"unlisted":"private",getContainsImportedSVG:e=>e.metadata.containsImportedSVG,getCarveCount:e=>e.metadata.carveCount,getOwnerName:e=>e.metadata.ownerName,getOwnerEmail:e=>e.metadata.ownerEmail,getOwnerProfilePermalink:e=>e.metadata.ownerProfilePermalink,getAssignedLabels:e=>e.metadata.assignedLabels,getCreatedAt:e=>e.metadata.createdAt,getUpdatedAt:e=>e.metadata.updatedAt,getDraftCollectionId:e=>e.metadata.draftGalleryCollectionId},u_e={actions:hf.actions,reducer:hf.reducer,...c_e},ge=u_e;var X1={},p_e=function(e,t){X1[e]||(X1[e]=[]),X1[e].push(t)},d_e=function(e,...t){let r=X1[e]||[];for(let o of r.slice())o(...t)},m_e=function(e,t){for(let r=X1[e].length-1;r>=0;r--)X1[e][r]===t&&X1[e].splice(r,1)},f_e={addListener:p_e,emit:d_e,removeListener:m_e},J=f_e;var h_e=(e,t,r,o,i)=>{let n=a=>function(){return J.emit("hide-alert"),a()};r==null&&(r=[{text:"OK"}]);let s=r.map(a=>{let{text:l,action:c}=a;return c==null&&(c=()=>{}),{text:l,action:n(c)}});return J.emit("show-alert",{title:e,message:t,detail:o,buttons:s,type:i})},Fe=h_e;var g_e=e=>Fe("Oops!",e),Ut=g_e;var y_e={updateWorkpieceThumbnail:async(e,t)=>{let r=new File([t],"thumbnail",{lastModified:Date.now()}),{signed_id:o}=await Qh(r,"/workpiece_thumbnail_direct_upload"),i=JSON.stringify({thumbnail:o,version:Li.getProjectSaveVersion()??0,client:Li.getProjectSaveClient()});return kt(`/workpiece/${e}/thumbnail_image_upload`,i)},duplicateWorkpieceMeshData:(e,t)=>{let r=JSON.stringify({original_workpiece_id:e});return kt(`/workpiece/${t}/duplicate_mesh_data`,r)},getWorkpieceData:async(e,t)=>{let r=await fetch(`/projects/${e}/workpieces?ids[]=${t}`);if(!r.ok)throw new Error(`getWorkpieceData: ${r.status}: ${r.statusText}`);return r.json()}},k4=y_e;var wo="dummy_workpiece_id",rL={_DELETE_WORKPIECE:"workpieces/_deleteWorkpiece",CREATE_AND_SHOW_WORKPIECE:"workpieces/createAndShowWorkpiece",CREATE_AND_SHOW_WORKPIECE_FULFILLED:"workpieces/createAndShowWorkpiece/fulfilled",DUPLICATE_WORKPIECE:"workpieces/duplicateWorkpiece",DUPLICATE_WORKPIECE_FULFILLED:"workpieces/duplicateWorkpiece/fulfilled",DELETE_WORKPIECE:"workpieces/deleteWorkpiece"},x_e={LOAD_WORKPIECE:"workpieces/loadWorkpiece",SHOW_WORKPIECE:"workpieces/_showWorkpiece"},Bp={...rL,...x_e},uJ=e=>{e.addCase(Vr(Bp.SHOW_WORKPIECE),(t,r)=>{t.activeWorkpieceId=r.payload.id})},pJ=e=>{e.addCase(Vr(Bp._DELETE_WORKPIECE),(t,r)=>{delete t.byWorkpieceId[r.payload.id],t.activeWorkpieceId=r.payload.nextActiveId})},dJ=(e,t)=>{e.addCase(Vr(Bp.CREATE_AND_SHOW_WORKPIECE_FULFILLED),(r,o)=>{let i=r.byWorkpieceId[r.activeWorkpieceId],n=(t.newAction==="duplicate"?i:void 0)||t.defaultData;r.byWorkpieceId[o.payload.newId]=n,r.activeWorkpieceId=o.payload.newId})};function oL(e,t){let r=Math.floor(e/t),o=e%t;return new Array(t).fill(r+1,0,o).fill(r,o)}function QS(e){e=e.slice();for(let t=e.length-1;t>0;t--){let r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e}var b_e=.5522847498,Rd=(e,t,r)=>Math.min(r,Math.max(t,e)),zy=(e,t)=>(e%t+t)%t;var iL=function(e,t,r=1e-5){return Math.abs(e-t)<r},Y1=e=>zy(e,2*Math.PI),Xt={BEZIER_MAGIC_NUMBER:b_e,clamp:Rd,closeTo:iL,mod:zy,normalizeAngle:Y1};function nL(e,t,r){let o=e.findIndex(t);return o<0&&(o=e.length,e.push(r())),e[o]}function sL(e){if(e.length===0)throw new Error("firstLast: empty array");return[e[0],e[e.length-1]]}function eC(e,t){return mJ(e,(r,o)=>r>o,t)}function jd(e,t){return mJ(e,(r,o)=>r<o,t)}function aL(e,t,r){return r==="min"?jd(e,t):eC(e,t)}function mJ(e,t,r){return e[v_e(e,t,r)]}function v_e(e,t,r){if(e.length===0)throw new Error("empty array");let o={idx:0,val:r(e[0])};for(let i=1;i<e.length;i++){let n=r(e[i]);t(n,o.val)&&(o={idx:i,val:n})}return o.idx}function ec(e,t){return e.reduce((r,o)=>{var i;return(r[i=t(o)]||(r[i]=[])).push(o),r},{})}function tc(e,t){let r=ec(e,o=>t(o)?1:0);return[r[1]??[],r[0]??[]]}function lL(e,t){return e.reduce((r,o)=>r+t(o),0)}function c5(e,t=(r,o)=>r===o){if(e.length===0)return[];let r=[e[0]];for(let o=1;o<e.length;o++)r.findIndex(n=>t(e[o],n))<0&&r.push(e[o]);return r}var fJ=60.714285714285715,S_e={DEFAULT_EDITOR_FRACTION:.6,DEFAULT_PRODUCT_PREVIEW_EDITOR_FRACTION:.4,PRIMARY_NAV_HEIGHT:54,DOUBLE_NAV_FORCE_MAX_WIDTH:1149,DOUBLE_NAV_CONDITIONAL_MAX_WIDTH:1660,DEFAULT_WORKPIECES_HEIGHT:170,HIDDEN_WORKPIECES_HEIGHT:25,TOOLBAR_TOOLTIP_DELAY:500,PIXELS_PER_INCH:fJ,INCHES_PER_PIXEL:1/fJ,PIXEL_RATIO:globalThis.devicePixelRatio||1,FOUR_MONTHS:4*30*24*60*60*1e3,EASEL_LOADED_TIMESTAMP:new Date,ENDMILL_PLACED_SHAPE_DEPTH:.4,V_BIT_PLACED_SHAPE_DEPTH:.05,MATERIAL_TEXTURE_SIZE:512,BIT_RAISE_HEIGHT:.5,MEASUREMENT_LINE_SELECTION_STROKE:.25,MIN_TAB_COUNT:1,MAX_TAB_COUNT:256,TAG_NAME_REGEX:/(^[^\s]+(\s+[^\s]+)*$){1,16}/g,TAG_NAME_LENGTH:16,PROJECT_NAME_MAX:150,PROJECT_NAME_ERRORS:{MAX:"Too many characters",MIN:"Must be at least 1 character"},DEFAULT_PROJECT_NAME:"Untitled",OFFSET_DISTANCE:16/32768,XY_ZERO_FRONT_LEFT:"front-left",XY_ZERO_CENTER:"center",DEFAULT_MATERIAL_THICKNESS:.5,DEFAULT_FONT_NAME:"Bemio",DEFAULT_FONT_PROVIDER:"easel",DEFAULT_FONT_BASELINE_OFFSET_FRACTION:.25,MM_PER_INCH:25.4,TRANSPARENT_PIXEL_EMBED:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",EASEL_FREE_CARVE_EXPORT_LIMIT:1},hJ={cabinetmaker:"cabinetmaker",homeowner:"homeowner",easelpro:"easelpro"},me=S_e;var Xy=function(e,t,r,o,i,n){let s=e??1,a=t??0,l=r??0,c=o??1,u=i??0,p=n??0,m={},h=()=>s===1&&a===0&&l===0&&c===1&&u===0&&p===0,f=(L,R)=>S(Xy(1,0,0,1,L,R)),x=function(L,R){if(!isFinite(L)||!isFinite(R))throw new Error(`Inputs to #scaledBy must by numbers: x=${L}, y=${R}`);return S(Xy(L,0,0,R,0,0))},v=function(L){let R=Math.cos(L),z=Math.sin(L);return S(Xy(R,z,-z,R,0,0))},b=()=>({x:s,y:c}),S=function(L){let[R,z,I,F,B,j]=L.toArray();return Xy(R*s+I*a,z*s+F*a,R*l+I*c,z*l+F*c,R*u+I*p+B,z*u+F*p+j)},w=function(){let L=s*c-l*a;if(L===0)throw new Error(`#inverse called on non-invertible matrix: [${s}, ${a}, ${l}, ${c}, ${u}, ${p}]`);let[R,z,I,F,B,j]=[c,-a,-l,s,l*p-u*c,-(s*p-u*a)];return Xy(R/L,z/L,I/L,F/L,B/L,j/L)},_=L=>{let R={x:s*L.x+l*L.y+u,y:a*L.x+c*L.y+p};return L.z!=null&&(R.z=L.z),R},E=L=>{let{x:R,y:z}=_({x:L.x1,y:L.y1}),{x:I,y:F}=_({x:L.x2,y:L.y2});return{x1:R,y1:z,x2:I,y2:F}},T=L=>L.map(R=>_(R)),A=L=>({x:s*L.x+l*L.y,y:a*L.x+c*L.y}),O=()=>[s,a,l,c,u,p];return m.isIdentity=h,m.translatedBy=f,m.scaledBy=x,m.rotatedBy=v,m.getScale=b,m.premultipliedBy=S,m.transformedPoint=_,m.transformedVector=A,m.transformedLine=E,m.transformedPath=T,m.inverse=w,m.toArray=O,m},ct=Xy;function tC(e,t){return e.x===t.x&&e.y===t.y}var cL=(e,t)=>({x:e.x+(t.x??0),y:e.y+(t.y??0)});function u5(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ar(e,t){return Math.hypot(e.x-t.x,e.y-t.y)}function uL(e,t){let{x:r,y:o}=u5(e,t);return r*r+o*o}function rC(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function oC(e,t,r){return{x:e.x+(t.x-e.x)*r,y:e.y+(t.y-e.y)*r}}function gJ(e,t,r){return oC(e,t,r/ar(e,t))}function iC(e,t,r,o){return Xt.closeTo((t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y),0,o)}function Gd(e,t,r){let o=uL(t,r);if(o===0)return{distance:ar(e,t),point:t};let i=(e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y),n=Xt.clamp(i/o,0,1),s=oC(t,r,n);return{distance:ar(e,s),point:s}}var pL=(e,t,r)=>{let o=e.x-r.x,i=e.y-r.y,n=t.x-r.x,s=t.y-r.y,a=o*o+i*i,l=a+o*n+i*s,c=4/3*(Math.sqrt(2*a*l)-l)/(o*s-i*n),u={x:r.x+o-c*i,y:r.y+i+c*o},p={x:r.x+n-c*s,y:r.y+s+c*n};return{p2:u,p3:p}};var nC=e=>({width:e.x,height:e.y}),dL=(e,t)=>({x:t*e.x,y:t*e.y}),yJ=(e,t)=>dL(e,t/T4(e)||0),mL=e=>({x:-e.x,y:-e.y}),T4=e=>Math.hypot(e.x,e.y),E4=e=>{let t=T4(e);return t!==0?dL(e,1/t):{x:0,y:0}};var xJ=(e,t)=>({x:e.x*Math.cos(t)-e.y*Math.sin(t),y:e.x*Math.sin(t)+e.y*Math.cos(t)});function sC(e,{x:t=0,y:r=0}){return{x1:e.x1+t,y1:e.y1+r,x2:e.x2+t,y2:e.y2+r}}var aC=({width:e,height:t})=>({width:t,height:e});function q1(e){return{min:{x:e.x,y:e.y},max:{x:e.x+e.width,y:e.y+e.height}}}function P_e({min:e,max:t}){return{...e,width:t.x-e.x,height:t.y-e.y}}function bJ({min:e,max:t}){return{min:{...e},max:{...t}}}function lC(e,t){return w_e(q1(e),t)}function fL(e){return{...e,...aC(e)}}function w_e(e,t){switch(t){case"left":return{x1:e.min.x,y1:e.min.y,x2:e.min.x,y2:e.max.y};case"top":return{x1:e.min.x,y1:e.max.y,x2:e.max.x,y2:e.max.y};case"right":return{x1:e.max.x,y1:e.max.y,x2:e.max.x,y2:e.min.y};case"bottom":return{x1:e.max.x,y1:e.min.y,x2:e.min.x,y2:e.min.y};default:(r=>{throw new Error(`invalid edge: ${r}`)})(t)}}function vJ(e,t){return SJ(q1(e),q1(t))}function SJ(e,t){return!(e.min.x>=t.max.x||t.min.x>=e.max.x||e.min.y>=t.max.y||t.min.y>=e.max.y)}function CJ(e,t){return __e(q1(e),q1(t))}function __e(e,t){return t.min.x<=e.min.x&&e.max.x<=t.max.x&&t.min.y<=e.min.y&&e.max.y<=t.max.y}function hL(e,t){return k_e(q1(e),q1(t)).map(r=>P_e(r))}function k_e(e,t){return SJ(e,t)?[[e.min.x<t.min.x,"max","x",t.min.x],[t.max.x<e.max.x,"min","x",t.max.x],[e.min.y<t.min.y,"max","y",t.min.y],[t.max.y<e.max.y,"min","y",t.max.y]].filter(([o])=>o).map(([,o,i,n])=>{let s=bJ(e);return s[o][i]=n,s}):[bJ(e)]}function gL(e){return e=="x"?"y":"x"}var xL=(e,t,r)=>{let o=t.x-e.x,i=t.y-e.y,n=r.x-e.x,s=r.y-e.y,a=2*(o*s-i*n),l=o*o+i*i,c=n*n+s*s,u=e.x+(l*s-c*i)/a,p=e.y+(c*o-l*n)/a;return{x:u,y:p}},yL=(e,t)=>Math.atan2(t.y-e.y,t.x-e.x),PJ=(e,t,r)=>{if(iC(e,t,r,1e-5))return rC(e,t);let o=xL(e,t,r),i=Y1(yL(o,e)),n=Y1(yL(o,t)),s=Y1(yL(o,r)),a=Y1(n-i),c=Y1(s-i)<=a?i+a/2:i-(2*Math.PI-a)/2,u=ar(e,o);return{x:o.x+u*Math.cos(c),y:o.y+u*Math.sin(c)}};function bL(e,t,r,o){let i=Math.sqrt(ar(e,t)),n=Math.sqrt(ar(t,r)),s=Math.sqrt(ar(r,o));i<1e-4&&(i=1),n<1e-4&&(n=1),s<1e-4&&(s=1);let a=((t.x-e.x)/i-(r.x-e.x)/(i+n)+(r.x-t.x)/n)*n,l=((t.y-e.y)/i-(r.y-e.y)/(i+n)+(r.y-t.y)/n)*n,c=((r.x-t.x)/n-(o.x-t.x)/(n+s)+(o.x-r.x)/s)*n,u=((r.y-t.y)/n-(o.y-t.y)/(n+s)+(o.y-r.y)/s)*n,p={x:t.x+a/3,y:t.y+l/3},m={x:r.x-c/3,y:r.y-u/3};return{cp1:p,cp2:m}}var SL=()=>({minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0}),_J=function(e){let t=SL();for(let r of e)t.minX=Math.min(t.minX,r.x),t.maxX=Math.max(t.maxX,r.x),t.minY=Math.min(t.minY,r.y),t.maxY=Math.max(t.maxY,r.y);return t},T_e=function(e){return e.length>1&&TJ(e[0],e[e.length-1])},wJ=function(e,t,r,o){let i=-e+3*t-3*r+o,n=3*e-6*t+3*r,s=-3*e+3*t,a=e,l=f=>i*f*f*f+n*f*f+s*f+a,c=3*i,u=2*n,p=s,h=[0,1,-p/u,(-u+Math.sqrt(u*u-4*c*p))/(2*c),(-u-Math.sqrt(u*u-4*c*p))/(2*c)].filter(f=>0<=f&&f<=1).map(l);return{min:Math.min.apply(null,h),max:Math.max.apply(null,h)}},E_e=function(e,t,r,o){t==null&&(t={x:0,y:0}),r==null&&(r={x:0,y:0});let i=wJ(e.x,e.x+t.x,o.x+r.x,o.x),n=wJ(e.y,e.y+t.y,o.y+r.y,o.y);return{minX:i.min,minY:n.min,maxX:i.max,maxY:n.max}},M_e=function(e){let t=_J(e),r=null;for(let o of e){if(r&&(r.rh!=null||o.lh!=null)){let i=E_e(r,r.rh,o.lh,o);t.minX=Math.min(t.minX,i.minX),t.maxX=Math.max(t.maxX,i.maxX),t.minY=Math.min(t.minY,i.minY),t.maxY=Math.max(t.maxY,i.maxY)}r=o}return t},A_e=function(e){let t=SL();for(let r of e){let o=M_e(r);t.minX=Math.min(o.minX,t.minX),t.maxX=Math.max(o.maxX,t.maxX),t.minY=Math.min(o.minY,t.minY),t.maxY=Math.max(o.maxY,t.maxY)}return t},I_e=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),D_e=(e,t)=>({x:t.x-e.x,y:t.y-e.y}),kJ=function(e,t){let r=t.transformedPoint(e);for(let o of["lh","rh"])e[o]!=null&&(r[o]=D_e(r,t.transformedPoint(I_e(e,e[o]))));return r},N_e=(e,t)=>e.map(r=>r.map(o=>kJ(o,t))),O_e=e=>e.map(t=>{t=t.slice();for(let r=0;r<t.length-1;r++)if(t[r].rh==null&&t[r+1].lh==null){let o=t[r+1].x-t[r].x,i=t[r+1].y-t[r].y;t.splice(r,2,le(t[r],{rh:{x:o/9,y:i/9}}),{x:t[r].x+o/3,y:t[r].y+i/3,lh:{x:-o/9,y:-i/9},rh:{x:o/9,y:i/9}},{x:t[r+1].x-o/3,y:t[r+1].y-i/3,lh:{x:-o/9,y:-i/9},rh:{x:o/9,y:i/9}},le(t[r+1],{lh:{x:-o/9,y:-i/9}}))}return t}),TJ=(e,t)=>e.x===t.x&&e.y===t.y&&(e.z==null||e.z===t.z),L_e=(e,t)=>({minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t}),B_e=(e,t)=>({minX:Math.min(e.minX,t.minX),maxX:Math.max(e.maxX,t.maxX),minY:Math.min(e.minY,t.minY),maxY:Math.max(e.maxY,t.maxY)}),F_e=e=>[{x:e.minX,y:e.minY},{x:e.minX,y:e.maxY},{x:e.maxX,y:e.maxY},{x:e.maxX,y:e.minY}],vL=function(e){return e.maxX<e.minX||e.maxY<e.minY?0:(e.maxX-e.minX)*(e.maxY-e.minY)},W_e=(e,t)=>vL(e)>vL(t)&&e.minX<=t.minX&&t.maxX<=e.maxX&&e.minY<=t.minY&&t.maxY<=e.maxY,V_e=e=>{for(let t=0;t<e.length-1;t++){let r=e[t].points[e[t].points.length-1],o=e[t+1],i=r.x-o.points[0].x,n=r.y-o.points[0].y,s=i*i+n*n;for(let a=t+2;a<e.length;a++){let l=e[a];i=r.x-l.points[0].x,n=r.y-l.points[0].y;let c=i*i+n*n;c<s&&(e[a]=o,e[t+1]=l,o=l,s=c)}}},U_e=function(e){let t=0;for(let r=0;r<e.length-1;r++){let o=e[r].points,i=e[r+1].points;if(o.length===0||i.length===0)continue;let n=o[o.length-1].x-i[0].x,s=o[o.length-1].y-i[0].y;t+=Math.hypot(n,s)}return t},R_e=(e,t,r)=>{if(tC(e,t))return[e,t];if(r&&iC(e,t,r))return[e,t];let o=rC(e,t),i=u5(t,e),n=ar(e,t),s=n/2,a;if(r&&ar(r,e)>.01&&ar(r,t)>.01){let f=PJ(e,t,r),x=-i.y/n,v=i.x/n;a=(f.x-o.x)*x+(f.y-o.y)*v,a=Math.sign(a)*Xt.clamp(Math.abs(a),.01,s)}else a=i.x?Math.sign(i.x)*s/2:s/2;let l={x:o.x+-i.y/n*a,y:o.y+i.x/n*a},c=xL(e,l,t),u=pL(e,l,c),p=pL(l,t,c),m={x:u.p3.x-l.x,y:u.p3.y-l.y},h={x:-(u.p3.x-l.x),y:-(u.p3.y-l.y)};return[{x:e.x,y:e.y,rh:{x:u.p2.x-e.x,y:u.p2.y-e.y}},{x:l.x,y:l.y,lh:h,rh:m},{x:t.x,y:t.y,lh:{x:-(p.p3.x-t.x),y:-(p.p3.y-t.y)}}]},j_e=e=>{if(e.length<3)return e;let t=e.map(o=>({x:o.x,y:o.y})),r=e.length;for(let o=0;o<r-1;o++){let i=o===0?e[0]:e[o-1],n=e[o],s=e[o+1],a=o===r-2?e[o+1]:e[o+2],{cp1:l}=bL(i,n,s,a);t[o].rh={x:l.x-n.x,y:l.y-n.y}}for(let o=1;o<r;o++){let i=o===1?e[0]:e[o-2],n=e[o-1],s=e[o],a=o===r-1?e[o]:e[o+1],{cp2:l}=bL(i,n,s,a);t[o].lh={x:l.x-s.x,y:l.y-s.y}}return t},G_e={transformedPath:N_e,transformedPathPoint:kJ,curveInterpolatedPath:O_e,pointsBoundingBox:_J,pathBoundingBox:A_e,isClosed:T_e,infiniteBox:SL,pointsEqual:TJ,expandBoundingBox:L_e,unionBoundingBoxes:B_e,boundingBoxCorners:F_e,boundingBoxArea:vL,boundingBoxContains:W_e,nearestNeighborSort:V_e,traversalWeight:U_e,calculateArcPoints:R_e,calculateCurvedLinePoints:j_e},Oe=G_e;var Lo=M(EJ(),1);var CL=(e,t)=>iL(e,t,1e-6),MJ=function(e,t){return CL(e.x,t.x)&&CL(e.y,t.y)},H_e=function(e,t){let r=0;for(let o of e){let{points:i}=o,n=0,s=i[i.length-1];for(s.x===i[0].x&&s.y===i[0].y&&(n=1,s=i[0]),n;n<i.length;n++){let a=i[n];if(MJ(s,t)||MJ(a,t))return"ONPATH";let l=AJ(t,s,a);if(l==="ONPATH")return"ONPATH";l==="INTERSECTION"&&(r+=1),s=a}}return r%2===1?"INSIDE":"OUTSIDE"},z_e=function(e,t){let r=e.dx,o=e.dy,i=t.dx,n=t.dy;return CL(o*i,n*r)?0:o*i>n*r?1:-1},AJ=function(e,t,r){if(t.y>r.y)return AJ(e,r,t);let o="NO_INTERSECTION",i="INTERSECTION",n="ONPATH";if(t.y===r.y){let s=Math.min(t.x,r.x),a=Math.max(t.x,r.x);return e.y===t.y&&e.x<=a&&e.x>=s?n:o}else{if(e.y<=t.y||e.y>r.y)return o;if(e.x>Math.max(t.x,r.x))return o;if(e.x<Math.min(t.x,r.x))return i;{let s={dy:r.y-t.y,dx:r.x-t.x},a={dy:e.y-t.y,dx:e.x-t.x},l=z_e(a,s);return l===0?n:l===1?i:o}}},X_e={pointInPolygon:H_e},gf=X_e;var $1=class{constructor(t){this.obj=t;IJ.register(this,t,this)}delete(){IJ.unregister(this),this.obj.delete()}},IJ=new FinalizationRegistry(e=>{e.delete()});var J_e=M(P("clipper2-wasm"),1),K_e=J_e;async function wL(e){if(DJ)throw new Error("loadClipper2 already called");jc=await K_e.default({locateFile:e}),DJ=!0}var Q_e=e=>{switch(e){case 0:return jc.JoinType.Square;case 2:return jc.JoinType.Miter;default:return jc.JoinType.Round}},eke=e=>{switch(e){case 4:return jc.EndType.Polygon;case 2:return jc.EndType.Butt;case 0:return jc.EndType.Square;case 3:return jc.EndType.Joined;default:return jc.EndType.Round}},uC=class e extends $1{inflatePaths(t,r,o){let s=jc.InflatePaths64(this.obj,t,Q_e(r),eke(o),2,0);return new e(s)}toJs(){let t=[];for(let r=0;r<this.obj.size();r++){let o=this.obj.get(r),i=[];for(let n=0;n<o.size();n++){let s=o.get(n);i.push([Number(s.x),Number(s.y)]),s.delete()}o.delete(),t.push(i)}return t}static fromJs(t){let r=new jc.Paths64;return t.forEach(o=>{let i=new jc.Path64;o.forEach(n=>{let s=new jc.Point64(BigInt(n[0]),BigInt(n[1]),BigInt(0));i.push_back(s),s.delete()}),r.push_back(i),i.delete()}),new e(r)}},jc=null,DJ=!1;var bi=32768,Yy=.001*bi,oke=Yy*Yy,ike=64,Ru=e=>t=>t.map(r=>({X:Math.round(r.x*e),Y:Math.round(r.y*e)})),nke=e=>t=>t.map(r=>[Math.round(r.x*e),Math.round(r.y*e)]),_L=()=>e=>e.map(t=>[t.X,t.Y]),ske=()=>e=>e.map(t=>({X:t[0],Y:t[1]})),xf=e=>t=>t.map(r=>({x:r.X/e,y:r.Y/e})),ake=function(e){if(!(e instanceof Array))return[];if(e=Lo.default.JS.Clone(e),e.length===0||e.length===1&&e[0].length===0)return e;let t=e.length,r=[];for(let o=0;o<t;o++){let i,n=e[o],s=n.length;if(s===0)continue;if(s<3){i=n,r.push(i);continue}i=n;let a=n[0],l=1;for(let c=1;c<s;c++)(n[c].X-a.X)*(n[c].X-a.X)+(n[c].Y-a.Y)*(n[c].Y-a.Y)<=oke||(i[l]=n[c],a=n[c],l++);if(l<s&&i.splice(l,s-l),i.length>1){let c=i[i.length-1].Y;for(l=i.length-2;l>0&&c===i[l].Y;)l=l-1;l!==i.length-2?(r.push(i.slice(0,l+2)),r.push(i.slice(l+1,i.length))):r.push(i)}}return r},lke=function(e){let t=e.map(Ru(bi));return t=Lo.default.JS.Clean(t,Yy),t.map(xf(bi))},cke=function(e){let t=e.map(Ru(bi));return t=A4(t),t.map(xf(bi))},A4=function(e){return Lo.default.JS.Lighten(e,ike)},uke=function(e,t,r=bi){t==null&&(t=Lo.default.PolyFillType.pftNonZero);let o=e.map(Ru(r));return o=Lo.default.Clipper.SimplifyPolygons(o,t),o.map(xf(r))},pke=function(e,t,r){let o=e.map(Ru(bi));return o=A4(o),dC(o.map(_L()),t,4,r).map(xf(bi))},dke=function(e,t,r,o){return o==null&&(o=1),dC(e.map(nke(bi)),t,o,r).map(xf(bi))},dC=function(e,t,r,o){if(e.length===0)return[];let s=uC.fromJs(e).inflatePaths(t*bi,o,r).toJs().map(ske());return A4(s).filter(a=>a.length>0).map(a=>a.concat([a[0]]))},mke=function(e,t,r){let o=[],i=A4(e.map(Ru(bi)));for(;r-- >0;){let n=dC(i.map(_L()),t,4,1);if(n.length===0)break;o.push(n.map(xf(bi))),i=n}return o},kL=function(e,t){let r=[];for(let o of e)NJ(r,{points:o,offset:t,children:[]});return r},fke=function(e,t,r){let o=0,i=kL(e,o),n=A4(e.map(Ru(bi)));for(;n.length>0&&o++<r;){let s=dC(n.map(_L()),t,4,1);for(let a of s){let l={points:xf(bi)(a),offset:o,children:[]};NJ(i,l)===l&&console.error("Expected existing parent after offseting",l.points[0])}n=s}return i},NJ=function(e,t){for(let r=e.length-1;r>=0;r--)if(pC(t,e[r]))t.children.push(e[r]),e.splice(r,1);else if(pC(e[r],t))return hke(e[r],t);return e.push(t),t},hke=function(e,t){let r;for(;(r=e.children.find(o=>pC(o,t)))!=null;)e=r;for(let o=e.children.length-1;o>=0;o--){let i=e.children[o];pC(t,i)&&(t.children.push(i),e.children.splice(o,1))}return e.children.push(t),e},pC=function(e,t){switch(gf.pointInPolygon([e],t.points[0])){case"ONPATH":return console.log("unexpected on path",t.points[0]),!0;case"INSIDE":return!0}return!1},TL=function(e,t,r){let o=new Lo.default.Clipper,i=t.map(Ru(bi));i=Lo.default.JS.Clean(i,Yy),o.AddPaths(i,Lo.default.PolyType.ptSubject,!0);let n=r.map(Ru(bi));n=Lo.default.JS.Clean(n,Yy),o.AddPaths(n,Lo.default.PolyType.ptClip,!0);let s=Lo.default.PolyFillType.pftNonZero,a=Lo.default.PolyFillType.pftNonZero;return o.Execute(e,i,s,a),i.map(xf(bi))},OJ=function(e,t,r){let o=new Lo.default.Clipper,i=t.map(Ru(bi));i=ake(i),o.AddPaths(i,Lo.default.PolyType.ptSubject,!1);let n=r.map(Ru(bi));n=Lo.default.JS.Clean(n,Yy),o.AddPaths(n,Lo.default.PolyType.ptClip,!0);let s=Lo.default.PolyFillType.pftNonZero,a=Lo.default.PolyFillType.pftNonZero,l=new Lo.default.PolyTree;return o.Execute(e,l,s,a),Lo.default.Clipper.PolyTreeToPaths(l).map(xf(bi))},gke=(e,t)=>TL(Lo.default.ClipType.ctUnion,e,t),yke=function(e,t,r=!0){return r==null&&(r=!0),r?TL(Lo.default.ClipType.ctDifference,e,t):OJ(Lo.default.ClipType.ctDifference,e,t)},xke=function(e,t,r=!0){return r==null&&(r=!0),r?TL(Lo.default.ClipType.ctIntersection,e,t):OJ(Lo.default.ClipType.ctIntersection,e,t)},LJ=e=>Lo.default.JS.AreaOfPolygon(Ru(bi)(e),bi),bke=e=>Lo.default.JS.PerimeterOfPath(Ru(bi)(e),!1,bi),BJ=(e,t)=>{LJ(e)>0!==(t==="counterclockwise")&&e.reverse()},vke=function(e,t=!1){let r=[],i=kL(e,0).map(n=>({node:n,depth:0}));for(;i.length>0;){let n=i.shift(),{node:{points:s,children:a},depth:l}=n,u=l%2===1!==t?"clockwise":"counterclockwise";BJ(s,u),r.push(s),i=i.concat(a.map(p=>({node:p,depth:l+1})))}return r},Ske={area:LJ,clean:lke,lighten:cke,simplify:uke,perimeter:bke,offset:pke,offsetStrokes:dke,offsetArray:mke,pathTree:kL,offsetTree:fke,add:gke,remove:yke,intersect:xke,orientNested:vke,orientSimple:BJ},Qi=Ske;var Cke=function(e){let t=null;return function(){return e!=null&&(t=e(),e=null),t}},is=Cke;var bf=function(e,t){t==null&&(t={});let r={};r.points=e,r.props=t;let o=()=>e.length===0,i=()=>Oe.isClosed(e),n=()=>e.length>1&&!Oe.pointsEqual(e[0],e[e.length-1]),s=()=>e.length>0?e[0]:null,a=()=>e.length>0?e[e.length-1]:null,l=()=>`[${e.map(F=>F.z!=null?`{x: ${F.x}, y: ${F.y}, z: ${F.z}}`:`{x: ${F.x}, y: ${F.y}}`).join(", ")}]`,c=I=>{let F=e.length-1;return i()&&(I<0||I>=F)&&(I=Xt.mod(I,F)),[e[I],e[I+1]]},u=function*(){for(let I=0;I<e.length-1;I++)yield{seg:[e[I],e[I+1]],i:I}},p=function(I){I==null&&(I=4);let F=function(B){return B.toFixed(I)};return e.map(B=>`${F(B.x)},${F(B.y)}`).join(" ")},m=function(I){return o()?"":"M"+p(I)+(i()?"Z":"")},h=function(I){return o()?"":`<${i()?"polygon":"polyline"} points="${p(I)}" />`},f=is(()=>Qi.area(e)),x=is(()=>Qi.perimeter(e)),v=function(I,F,B,j){let X=ct().translatedBy(-I,-F).rotatedBy(-Math.atan2(j-F,B-I)),te=X.transformedPoint({x:B,y:j}).x,se={x:I,y:F},ue={x:B,y:j};if(e.length>1)for(let be=0;be<e.length;be++){let ae=e[be];if(Oe.pointsEqual(ae,se)||Oe.pointsEqual(ae,ue))continue;let he=e[(be+1)%e.length];if(!(Oe.pointsEqual(he,se)||Oe.pointsEqual(he,ue))&&(ae=X.transformedPoint(ae),he=X.transformedPoint(he),ae.y<0&&0<he.y||he.y<0&&0<ae.y)){let fe=-ae.y/(he.y-ae.y),ce=ae.x+fe*(he.x-ae.x);if(0<ce&&ce<te)return!0}}return!1},b=function(I){let F=1/0,B=null,j=-1,X=e[0];for(let te=1;te<e.length;te++){let se=e[te],{distance:ue,point:be}=Gd(I,X,se);ue<F&&(F=ue,B=be,j=te),X=se}return{distance:F,point:B,index:j}},S=function(I){let F=1/0,B=null;for(let j=0;j<e.length;j++){let X=uL(e[j],I);X<F&&(B=e[j],F=X)}return B};r.includesPoint=function(I,F){for(let B of e)if(I===B.x&&F===B.y)return!0;return!1};let w=function(){return o()||i()?r:bf([].concat(e,[e[0]]),t)},_=()=>bf([].concat(e).reverse(),t),E=I=>bf(I.transformedPath(e),t),T=function(I,F){if(o()||n())return r;let B=Math.hypot(e[0].x-I.x,e[0].y-I.y);if(B<=F)return r;let j=0;for(let se=1;se<e.length-1;se++){let ue=Math.hypot(e[se].x-I.x,e[se].y-I.y);if(ue<B&&(j=se,B=ue,ue<=F))break}if(j==0)return r;let X=e.slice(j),te=e.slice(1,j+1);return bf([...X,...te],t)},A=function(I){if(I<0)throw new Error("path.rebaseDistance: negative distances unsupported");if(n()||I===0||e.length<3)return r;for(let F=1;;F++){let B=e[F-1],j=e[F],X=j.x-B.x,te=j.y-B.y,se=Math.hypot(X,te);if(I-se<=0){let ue=(se-I)/se,be={x:B.x+X*(1-ue),y:B.y+te*(1-ue)};B.z!=null&&(be.z=B.z);let ae=e.slice(F),he=e.slice(1,F);return bf([be,...ae,...he,be])}I-=se,F==e.length-1&&(F=0)}},O=is(function(){if(e.length===0)return null;let I=1/0,F=1/0,B=-1/0,j=-1/0;for(let X of e)I>X.x&&(I=X.x),F>X.y&&(F=X.y),B<X.x&&(B=X.x),j<X.y&&(j=X.y);return{minX:I,minY:F,maxX:B,maxY:j}}),L=function(I){return bf(e.map(({x:F,y:B,z:j})=>({x:F,y:B,z:j+I})),t)},R=function(I){return bf(e.map(({x:F,y:B})=>({x:F,y:B,z:I})),t)},z=function(I){I==null&&(I={});let F={};for(let B of Object.keys(r.props))F[B]=r.props[B];for(let B of Object.keys(I))F[B]=I[B];return bf(r.points,F)};return r.isEmpty=o,r.isClosed=i,r.isOpen=n,r.firstPoint=s,r.lastPoint=a,r.segment=c,r.segments=u,r.area=f,r.perimeter=x,r.toString=l,r.svgPoints=p,r.svgPathData=m,r.svgShape=h,r.close=w,r.reverse=_,r.transform=E,r.rebaseNear=T,r.rebaseDistance=A,r.boundingBox=O,r.translateZ=L,r.withZ=R,r.withProps=z,r.crossesSegment=v,r.closestInterpolatedPointAndDistance=b,r.closestPoint=S,r},lr=bf;var Pke=function(){let e={};return(t,r)=>e[t]!=null?e[t]:e[t]=r()},FJ=Pke;var wke=200,mC=1e-5,br={},fC="paths",EL=function(){let e=0;return t=>t._EASEL_paths_cacheIdentifier!=null?t._EASEL_paths_cacheIdentifier:t._EASEL_paths_cacheIdentifier=e++}();br.union=function(e,...t){let r=e.all().map(i=>i.points),o=[];for(let i of t)o=o.concat(i.all().map(n=>n.points));return r=Qi.add(r,o),r.map(i=>lr(i))};br.intersection=function(e,...t){let r=e.all().map(o=>o.points);for(let o of t){if(r.length===0)break;r=Qi.intersect(r,o.all().map(i=>i.points))}return r.map(o=>lr(o))};br.exclusion=function(e,...t){let r=e.all().map(o=>o.points);for(let o of t){if(r.length===0)break;r=Qi.remove(r,o.all().map(i=>i.points))}return r.map(o=>lr(o))};br.exclusionClosed=function(e,...t){return br.exclusion(e,...t).map(o=>o.close())};br.exclusionFromStrokes=function(e,...t){let r=[];for(let o of e.all()){let{props:i}=o,n=[o.points];for(let s of t){let a=s.all().map(l=>l.points).filter(l=>l.length>0);n.length>0&&a.length>0&&(n=Qi.remove(n,a,!1))}for(let s of n)r.push(lr(s,i))}return r};br.intersectionWithStrokes=function(e,...t){let r=[];for(let o of e.all()){let{props:i}=o,n=[o.points];for(let s of t)n.length>0&&(n=Qi.intersect(n,s.all().map(a=>a.points),!1));for(let s of n)r.push(lr(s,i))}return r};br.boundary=function(e){let t=e.all().map(o=>o.points);return Qi.pathTree(t).map(o=>lr(o.points))};br.holes=function(e){let t=[],r=e.all().map(n=>n.points),i=Qi.pathTree(r).flatMap(({children:n})=>n);for(;i.length>0;){let{points:n,children:s}=i.shift();t.push(lr(n)),i=i.concat(s)}return t};br.orientNested=function(e,t){let r=e.all().map(i=>i.points);return Qi.orientNested(r,t).map(i=>lr(i))};br.clean=function(e){return Qi.clean(e.all().map(r=>r.points)).map(r=>lr(r).close())};br.simplify=function(e,t=1,r){return Qi.simplify(e.all().map(i=>i.points),t,r).map(i=>lr(i).close())};br.lighten=function(e){return Qi.lighten(e.all().map(r=>r.points)).map(r=>lr(r))};br.offset=function(e,t,r){return r==null&&(r=1),Qi.offset(e.all().map(i=>i.points),t,r).map(i=>lr(i))};br.expand=function(e,t,r){return r==null&&(r=1),br.offset(e,t,r)};br.contract=function(e,t,r){return r==null&&(r=1),br.offset(e,-t,r)};br.offsetStrokes=function(e,t){return Qi.offsetStrokes(e.all().map(o=>o.points),t,1).map(o=>lr(o))};br.transform=(e,t)=>e.all().map(r=>r.transform(t));br.scale=(e,t)=>br.transform(e,ct().scaledBy(t,t));br.translate=(e,t,r)=>br.transform(e,ct().translatedBy(t,r));br.translateZ=(e,t)=>e.all().map(r=>r.translateZ(t));br.withZ=(e,t)=>e.all().map(r=>r.withZ(t));br.add=function(e,...t){let r=[].concat(e.all());for(let o of t)r.push(...o.all());return r};br.withProps=function(e,t){return t==null&&(t={}),e.all().map(r=>r.withProps(t))};br.selectWithProp=(e,t)=>e.all().filter(r=>r.props[t]);br.selectWithoutProp=(e,t)=>e.all().filter(r=>!r.props[t]);br.open=e=>e.all().filter(t=>t.isOpen());br.closed=e=>e.all().filter(t=>t.isClosed());br.select=(e,t)=>e.all().filter(r=>t(r));br.map=(e,t)=>e.all().map(r=>t(r));br.sort=(e,t)=>e.all().slice().sort(t);var WJ=function(e,...t){let r=t.map(o=>typeof o=="object"&&typeof o.getUniqueIdentifier=="function"?`[path ${o.getUniqueIdentifier()}]`:typeof o=="function"?`[function ${EL(o)}]`:typeof o=="object"||e===fC?`[data ${EL(o)}]`:o);return`[${[e,...r].join(" ")}]`},VJ=function(e,t,r,...o){return e!=null?e(t,()=>ML(t,r,...o)):ML(t,r,...o)},ML=function(e,t,...r){if(t==="union"){let T=!1,A=[];for(let O of r)O.operation==="union"&&O.params!=null?(T=!0,A=A.concat(O.params)):A.push(O);if(T)return ML(e,t,...A)}let o={},i=0;for(let T of r)T&&T.depth!=null&&(i=Math.max(i,T.depth+1));let n=Z1.sharedInstanceCache||FJ();for(let T in br)o[T]=function(...A){let O=WJ(T,o,...A);return VJ(n,O,T,o,...A)};let s=is(function(){let T=t===fC?r[0]||[]:br[t](...r);return o.depth=i=0,o.params=r=null,T}),a=()=>s()[0],l=()=>{let T=s();return T[T.length-1]};i>wke&&s();let c=is(()=>new Promise(T=>T(s()))),u=()=>`[${Array.from(s()).map(T=>T.toString()).join(", ")}]`,p=()=>s().map(({points:T,props:A})=>({points:T,props:A})),m=T=>`<path d="${h(T)}"/>`,h=T=>s().map(A=>A.svgPathData(T)).join(" "),f=function(T){T==null&&(T=()=>!0);for(let A of s())if(T(A))return!0;return!1},x=T=>S()>=T.boundingBoxArea()&&!!T.boundingBoxIntersection(o)&&!T.exclusion(o).any(),v=(T,A)=>{for(let z of s())if(z.crossesSegment(T.x,T.y,A.x,A.y))return!1;let O=gf.pointInPolygon(s(),T),L=gf.pointInPolygon(s(),A);if(O==="ONPATH"&&L==="ONPATH")return!Z1([lr([T,A])]).exclusionFromStrokes(o).any();if(!(O==="INSIDE"&&L==="INSIDE"||O==="ONPATH"&&L==="INSIDE"||O==="INSIDE"&&L==="ONPATH"))return!1;for(let z of s()){let I=gf.pointInPolygon([z],T),F=gf.pointInPolygon([z],A);if(I==="ONPATH"&&F==="ONPATH"||I!==F&&I!=="ONPATH"&&F!=="ONPATH")return!1}return!0},b=is(function(){if(!f())return null;let T=1/0,A=1/0,O=-1/0,L=-1/0;for(let R of s()){let z=R.boundingBox();T>z.minX&&(T=z.minX),A>z.minY&&(A=z.minY),O<z.maxX&&(O=z.maxX),L<z.maxY&&(L=z.maxY)}return{minX:T,minY:A,maxX:O,maxY:L}}),S=is(function(){let T=b();return T===null?0:(T.maxX-T.minX)*(T.maxY-T.minY)}),w=function(T){if(T==null)return null;let A=b(),O=T.boundingBox();return!(A===null||O===null||O.minX-A.maxX>mC||A.minX-O.maxX>mC||A.minY-O.maxY>mC||O.minY-A.maxY>mC)},_=function(T){let A=null;for(let O of s()){let L=O.closestInterpolatedPointAndDistance(T);L!=null&&(A==null||L.distance<A.distance)&&(A=L)}return A?A.point:null},E=is(function(){if(!f())return 0;let T=0;for(let A of s())T+=A.area();return T});return o.describe=()=>e,o.toPromise=c,o.getUniqueIdentifier=()=>EL(o),o.depth=i,o.params=r,o.all=s,o.first=a,o.last=l,o.any=f,o.closestInterpolatedPoint=_,o.area=E,o.toString=u,o.toArray=p,o.svgPath=m,o.svgPathData=h,o.contains=x,o.containsSegment=v,o.boundingBox=b,o.boundingBoxIntersection=w,o.boundingBoxArea=S,o.operation=t,o},Z1=function(...e){let t=WJ(fC,...e);return VJ(Z1.sharedInstanceCache,t,fC,...e)};Z1.fromPointArrays=e=>Z1(e.map(t=>lr(t)));Z1.sharedInstanceCache=null;var fo=Z1;var _ke={Homestead:{displayName:"Homestead",weight:"normal",opentypePath:EASEL_ASSETS.fonts.homestead,baselineOffsetFraction:.28,provider:"easel"},Bemio:{displayName:"Bemio",weight:"normal",opentypePath:EASEL_ASSETS.fonts.bemio,baselineOffsetFraction:.16,provider:"easel"},BlanchCondensed:{displayName:"Blanch",weight:"normal",opentypePath:EASEL_ASSETS.fonts.blanch,baselineOffsetFraction:.27,provider:"easel"},Lavanderia_Sturdy:{displayName:"Lavanderia",weight:"normal",opentypePath:EASEL_ASSETS.fonts.lavanderia,baselineOffsetFraction:.3,provider:"easel"},OCRA:{displayName:"OCR A",weight:"normal",opentypePath:EASEL_ASSETS.fonts.ocra,baselineOffsetFraction:.25,provider:"easel"},Bebas:{displayName:"Bebas",weight:"normal",opentypePath:EASEL_ASSETS.fonts.bebas,baselineOffsetFraction:.1,provider:"easel"},Track:{displayName:"Track",weight:"normal",opentypePath:EASEL_ASSETS.fonts.track,baselineOffsetFraction:.15,provider:"easel"},Josefin:{displayName:"Josefin",weight:"normal",opentypePath:EASEL_ASSETS.fonts.josefin,baselineOffsetFraction:.15,provider:"easel"},Cinzel:{displayName:"Cinzel",weight:"normal",opentypePath:EASEL_ASSETS.fonts.cinzel,baselineOffsetFraction:.25,provider:"easel"},Montserrat:{displayName:"Montserrat",weight:"normal",opentypePath:EASEL_ASSETS.fonts.montserrat,baselineOffsetFraction:.2,provider:"easel"},Amatic_SC:{displayName:"Amatic SC",weight:"normal",opentypePath:EASEL_ASSETS.fonts.amaticsc,baselineOffsetFraction:.25,provider:"easel"},Code_Pro:{displayName:"Code Pro",weight:"normal",opentypePath:EASEL_ASSETS.fonts.codepro,baselineOffsetFraction:.25,provider:"easel"},Intro:{displayName:"Intro",weight:"normal",opentypePath:EASEL_ASSETS.fonts.intro,baselineOffsetFraction:.25,provider:"easel"},Baskerville:{displayName:"Baskerville",weight:"normal",opentypePath:EASEL_ASSETS.fonts.baskerville,baselineOffsetFraction:.25,provider:"easel"},Bangers:{displayName:"Bangers",weight:"normal",opentypePath:EASEL_ASSETS.fonts.bangers,baselineOffsetFraction:.25,provider:"easel"}},_s=_ke;var kke={constraints:{MIRRORED:"MIRRORED",ASYMMETRIC:"ASYMMETRIC"}},qy=kke;var Tke=function(e,...t){let r={};for(let o in e){let i=e[o];t.includes(o)&&(r[o]=i)}return r},UJ=Tke;var RJ=e=>e*(Math.sqrt(2)/2)*Xt.BEZIER_MAGIC_NUMBER,Eke=(e,t)=>{let[r,o]=t?[0,1]:[e.length-1,e.length-2],i=E4(u5(e[r],e[o])),n=RJ(ar(e[r],e[o])),s={x:n*i.y,y:-n*i.x};return{lh:s,rh:mL(s)}},Mke=(e,t)=>{let r=t===0||t===e.length-1,o=r?e.length-2:t-1,i=r?1:t+1,n=ar(e[o],e[t]),s=ar(e[i],e[t]),a=RJ(Math.min(n,s)),l=E4(u5(e[o],e[i])),c=yJ(l,a);return{lh:c,rh:mL(c)}},IL={handlesForNonTerminalPoint:Mke,handlesForTerminalPoint:Eke};var DL=class{constructor(t){y(this,"subpathMap");this.subpathMap=new Map,this.addSelection(t)}addSelection(t){t.forEach(({subpathIndex:r,pointIndices:o})=>{let i=this.subpathMap.get(r);i?o.forEach(n=>{i.add(n)}):this.subpathMap.set(r,new Set(o))})}clearSelection(){this.subpathMap.clear()}modifySelection(t){t.forEach(({subpathIndex:r,pointIndices:o})=>{o.forEach(i=>{this.containsPoint(r,i)?this.removeSelection([{subpathIndex:r,pointIndices:[i]}]):this.addSelection([{subpathIndex:r,pointIndices:[i]}])})})}setSelection(t){this.clearSelection(),this.addSelection(t)}removeSelection(t){t.forEach(({subpathIndex:r,pointIndices:o})=>{let i=this.subpathMap.get(r);i&&(o.forEach(n=>{i.delete(n)}),i.size===0&&this.subpathMap.delete(r))})}containsPoint(t,r){let o=this.subpathMap.get(t);return o?o.has(r):!1}toPoints(){return this.getSubpaths().map(t=>({subpathIndex:t,pointIndices:this.getPointsOnSubpath(t)}))}getSubpaths(){return Array.from(this.subpathMap.keys())}getPointsOnSubpath(t){return Array.from((this.subpathMap.get(t)||new Set).keys()).sort()}},vf=DL;var Ake=function({bottom:e,top:t}){e==null&&(e={p1:{x:0,y:0},c1:{x:.3333333333333333,y:0},c2:{x:.6666666666666666,y:0},p2:{x:1,y:0}}),t==null&&(t={p1:{x:0,y:1},c1:{x:.3333333333333333,y:1},c2:{x:.6666666666666666,y:1},p2:{x:1,y:1}});let r=(n,s,a)=>({x:n.x+(s.x-n.x)*a,y:n.y+(s.y-n.y)*a}),o=function({x:n,y:s}){let a=J1(e,n),l=J1(t,n);return r(a,l,s)};return{transformedPoint:o,transformedPath:n=>n.map(s=>o(s)),bezierInterpolation:J1}},J1=function({p1:e,c1:t,p2:r,c2:o},i){let n=1-i,s=Math.pow(n,2),a=Math.pow(n,3),l=Math.pow(i,2),c=Math.pow(i,3);return{x:a*e.x+3*s*i*t.x+3*n*l*o.x+c*r.x,y:a*e.y+3*s*i*t.y+3*n*l*o.y+c*r.y}},jJ=(e,t)=>{let{p1:r,c1:o,p2:i,c2:n}=e,s=1-t;return{x:3*s*s*(o.x-r.x)+6*s*t*(n.x-o.x)+3*t*t*(i.x-n.x),y:3*s*s*(o.y-r.y)+6*s*t*(n.y-o.y)+3*t*t*(i.y-n.y)}},GJ=(e,t)=>{let{p1:r,c1:o,p2:i,c2:n}=e,s=1-t;return{x:6*s*(n.x-2*o.x+r.x)+6*t*(i.x-2*n.x+o.x),y:6*s*(n.y-2*o.y+r.y)+6*t*(i.y-2*n.y+o.y)}},HJ=Ake;var OL=function(e,t){let r=t.maxX-t.minX,o=t.maxY-t.minY,i=r===0?1:e.width/r,n=o===0?1:e.height/o;return ct().translatedBy(-(t.minX+t.maxX)/2,-(t.minY+t.maxY)/2).scaledBy(i,n)},yC=function(e){let t=e.flipping&&e.flipping.horizontal?-1:1,r=e.flipping&&e.flipping.vertical?-1:1;return ct().scaledBy(t,r).rotatedBy(e.rotation||0).translatedBy(e.center.x,e.center.y)},Ike=function(e,t,r){let o=t==="lh"?"rh":"lh";switch(e=le(e),r){case qy.constraints.MIRRORED:e[o]={x:-e[t].x,y:-e[t].y};break;case qy.constraints.ASYMMETRIC:e[o]==null&&(e[o]={x:0,y:0});var i=E4(e[t]),n=T4(e[o]);e[o]={x:-i.x*n,y:-i.y*n};break}return e},xC=function(e,t){let r=Oe.pathBoundingBox(e.points),o=Oe.pathBoundingBox(t),i=OL(e,r),n=i.transformedVector({x:o.maxX-o.minX,y:o.maxY-o.minY}),s=i.premultipliedBy(yC(e)).transformedPoint({x:(o.maxX+o.minX)/2,y:(o.maxY+o.minY)/2});return le(e,{width:n.x,height:n.y,center:s,points:t})},zJ=(e,t)=>t===0||t===e.length-1,hC=function(e){let t=e[0],r=e[e.length-1];return t.x===r.x&&t.y===r.y},XJ=(e,t)=>hC(e)&&zJ(e,t),Dke=function({shape:e,subpathIndex:t,pointIndex:r}){let o=le(e.points);if(o[t][r].lh=o[t][r].rh=null,XJ(e.points[t],r)){let i=e.points[t].length-1-r;o[t][i]=o[t][r]}return xC(e,o)},Nke=function({shape:e,subpathIndex:t,pointIndex:r}){let o=le(e.points),i=o[t],n=zJ(i,r)&&!hC(i)?IL.handlesForTerminalPoint(i,r===0):IL.handlesForNonTerminalPoint(i,r);if(i[r]=le(i[r],n),XJ(e.points[t],r)){let s=e.points[t].length-1-r;i[s]=i[r]}return xC(e,o)},Oke=function({shape:e,points:t}){let r=new vf(t),o=e.points.map(i=>i.slice());return r.getSubpaths().sort((i,n)=>n-i).forEach(i=>{let n=o[i],s=hC(n),a=r.getPointsOnSubpath(i);s&&(a.includes(n.length-1)||a.includes(0))&&(a=[...new Set([...a,0,n.length-1])]),a.sort((l,c)=>c-l).forEach(l=>{n.splice(l,1)}),n.length<=1?o.splice(i,1):s&&!hC(n)&&(_r(r.getPointsOnSubpath(i),[0])?n.push(n[0]):n.unshift(n[n.length-1]))}),o.length===0?null:xC(e,o)},Lke=function({shape:e,points:t,constraint:r,pointType:o,delta:i}){let n=new vf(t),s=Oe.pathBoundingBox(e.points),a=ct().premultipliedBy(OL(e,s)).premultipliedBy(yC(e)),l=a.inverse(),c=e.points.map(u=>u.slice());return n.getSubpaths().forEach(u=>{let p=c[u];n.getPointsOnSubpath(u).forEach(m=>{let h=Oe.transformedPathPoint(p[m],a);["lh","rh"].includes(o)?(h[o]==null&&(h[o]={x:0,y:0}),h[o].x+=i.x,h[o].y+=i.y,h=Ike(h,o,r)):(h.x+=i.x,h.y+=i.y);let f=Oe.transformedPathPoint(h,l);if(p[m]=f,m===p.length-1||m===0){h=e.points[u][m];let x=c[u].length-1-m,v=p[x];h.x===v.x&&h.y===v.y&&(p[x]=f)}})}),xC(e,c)},Bke=function(e){let t=Xt.BEZIER_MAGIC_NUMBER,r={type:"path"};switch(e.type){case"path":r.points=e.points;break;case"polygon":r.points=[e.points.concat([e.points[0]])];break;case"polyline":r.points=[e.points];break;case"rectangle":var{x:o,y:i}=e.cornerRadius||{x:0,y:0};if(o===0&&i===0)r.points=[[{x:0,y:0},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:0,y:0}]];else{let a=e.width/2,l=e.height/2;o=Math.min(o,a),i=Math.min(i,l),r.points=[[{x:-(a-o),y:-l},{x:a-o,y:-l,rh:{x:t*o,y:0}},{x:a,y:-(l-i),lh:{x:0,y:-t*i}},{x:a,y:l-i,rh:{x:0,y:t*i}},{x:a-o,y:l,lh:{x:t*o,y:0}},{x:-(a-o),y:l,rh:{x:-t*o,y:0}},{x:-a,y:l-i,lh:{x:0,y:t*i}},{x:-a,y:-(l-i),rh:{x:0,y:-t*i}},{x:-(a-o),y:-l,lh:{x:-t*o,y:0}}]]}break;case"ellipse":r.points=[[{x:0,y:1,lh:{x:-t,y:0},rh:{x:t,y:0}},{x:1,y:0,lh:{x:0,y:t},rh:{x:0,y:-t}},{x:0,y:-1,lh:{x:t,y:0},rh:{x:-t,y:0}},{x:-1,y:0,lh:{x:0,y:-t},rh:{x:0,y:t}},{x:0,y:1,lh:{x:-t,y:0},rh:{x:t,y:0}}]];break;case"line":var{point1:n,point2:s}=e;r.center={x:(n.x+s.x)/2,y:(n.y+s.y)/2},r.width=Math.abs(n.x-s.x),r.height=Math.abs(n.y-s.y),r.rotation=0,r.points=[[n,s]];break}if(r.points!=null)return le(UJ(e,"center","width","height","rotation","flipping"),r)},Fke=function(e){let t=[];return e.type==="text"&&(_s[e.font]||t.push({type:"font",name:e.font}),e.textEffect&&e.textEffect.name!=="None"&&t.push({type:"textEffect",name:e.textEffect.name})),e.icon&&e.icon.pro&&t.push(le({type:"icon"},e.icon)),e.combinedProFeatures&&(t=t.concat(e.combinedProFeatures)),t},Wke=function(e){let t=e.points,{width:r,height:o}=e,i=Oe.pathBoundingBox(t),n=i.minX===i.maxX?1:r/(i.maxX-i.minX),s=i.minY===i.maxY?1:o/(i.maxY-i.minY),a=-(i.minX+i.maxX)/2,l=-(i.minY+i.maxY)/2,c=p=>({x:(p.x+a)*n,y:(p.y+l)*s}),u=p=>({x:p.x*n,y:p.y*s});return t.map(p=>{let m=[];for(let h of Array.from(p)){let f=c(h);h.lh!=null&&(f.lh=u(h.lh)),h.rh!=null&&(f.rh=u(h.rh)),m.push(f)}return m})},Vke=(e,t,r=1/0)=>{let o=LL(e),n=o.inverse().transformedPoint(t),s=null,a=1/0;for(let l of e.points)if(!(!l||l.length<2)){for(let c=0;c<l.length-1;c++){let u=l[c],p=l[c+1],m;u.rh||p.lh?m=NL(n,u,p):m=Gd(n,u,p),m.distance<a&&(a=m.distance,s=m.point)}if(l.length>2){let c=l[l.length-1],u=l[0];if(c.x!==u.x||c.y!==u.y){let p;c.rh||u.lh?p=NL(n,c,u):p=Gd(n,c,u),p.distance<a&&(a=p.distance,s=p.point)}}}if(s){let l=o.transformedPoint(s),c=ar(t,l);if(c<=r)return{point:l,distance:c,isWithinThreshold:c<=r}}return null},NL=(e,t,r)=>{let o={p1:{x:t.x,y:t.y},c1:t.rh?{x:t.x+t.rh.x,y:t.y+t.rh.y}:{x:t.x,y:t.y},p2:{x:r.x,y:r.y},c2:r.lh?{x:r.x+r.lh.x,y:r.y+r.lh.y}:{x:r.x,y:r.y}},n=((u,p)=>{let m=[0,1],h=1e-8,f=10,x=[.2,.4,.6,.8];for(let v of x){let b=v,S=!1;for(let w=0;w<f;w++){let _=J1(u,b),E=jJ(u,b),T={x:_.x-p.x,y:_.y-p.y},A=2*(T.x*E.x+T.y*E.y);if(Math.abs(A)<h){S=!0;break}let O=GJ(u,b),L=2*(E.x*E.x+E.y*E.y+T.x*O.x+T.y*O.y);if(Math.abs(L)<1e-12)break;let R=b-A/L;if(Math.abs(R-b)<h){b=R,S=!0;break}b=Math.max(0,Math.min(1,R))}S&&b>=0&&b<=1&&m.every(_=>Math.abs(_-b)>h)&&m.push(b)}return m})(o,e),s=1/0,a=0;for(let u of n){let p=J1(o,u),m=ar(e,p);m<s&&(s=m,a=u)}let l=J1(o,a);return{distance:ar(e,l),point:l}},LL=e=>{let{width:t,height:r,points:o}=e,i=Oe.pathBoundingBox(o),n=i.minX===i.maxX?1:t/(i.maxX-i.minX),s=i.minY===i.maxY?1:r/(i.maxY-i.minY);return ct().translatedBy(-(i.minX+i.maxX)/2,-(i.minY+i.maxY)/2).scaledBy(n,s).premultipliedBy(yC(e))},Uke=e=>{let t=e.type==="text"&&e.fontPath?e.fontPath:gC.pathifyShape(e);if(t==null)return{minX:e.center.x-e.width/2,maxX:e.center.x+e.width/2,minY:e.center.y-e.height/2,maxY:e.center.y+e.height/2};let r=LL(t),o=Oe.transformedPath(t.points,r);return Oe.pathBoundingBox(o)},Rke=e=>ct().premultipliedBy(gC.boundingBoxMatrix(e,Oe.pathBoundingBox(e.points))).premultipliedBy(gC.shapeMatrix(e)),gC={boundingBoxMatrix:OL,shapeMatrix:yC,pathWithTranslatedPoints:Lke,pathWithRemovedPoints:Oke,pathifyShape:Bke,pathWithMirroredPoint:Nke,pathWithStraightPoint:Dke,proFeatures:Fke,scalePathPoints:Wke,actualPathBoundingBox:Uke,shapeToWorkMatrix:Rke,closestPointOnShapePath:Vke,distToBezierCurve:NL,pathShapeTransformMatrix:LL},Xe=gC;var bC=(e,t)=>e.transformedPoint({x:Math.cos(t),y:Math.sin(t)}),vC=function(e,t,r,o){let i=(r+o)/2,n=bC(t,r),s=bC(t,o),a=bC(t,i);return Gd(a,n,s).distance<e?[n,s]:vC(e,t,r,i).concat(vC(e,t,i,o).slice(1))},jke=function(e,t){let r=vC(e,t,0,2*Math.PI);return r[r.length-1]=bC(t,0),r},Gke={ellipseArc:vC,ellipse:jke},p5=Gke;var BL={},Hke=function(e,t){return`${e.map(o=>`${o.x}_${o.y}`).join("-")}-${t}`},zke=function(e){let t=e[0],r=e[e.length-1],o=Gd(e[1],t,r).distance,i=Gd(e[2],t,r).distance;return Math.max(o,i)*.75},FL=function(e,t,r){if(zke(e)<r)return[e[e.length-1]];{let{l:o,r:i}=t(e);return FL(o,t,r).concat(FL(i,t,r))}},Xke=function(e,t,r,o,i){let n=[e,t,r,o],s=Hke(n,i);return BL[s]??(BL[s]=FL(n,Yke,i))},$y=function(e,t,r){let o=1-e;return{x:t.x*o+r.x*e,y:t.y*o+r.y*e}},Yke=function(e){let[t,r,o,i]=e,n=$y(.5,t,r),s=$y(.5,r,o),a=$y(.5,o,i),l=$y(.5,n,s),c=$y(.5,s,a),u=$y(.5,l,c);return{l:[t,n,l,u],r:[u,c,a,i]}},qke={subdivideCubicBezier:Xke},YJ=qke;var $ke=function(e,t){let r={},o=function(s,a,l,c){let u=a??{x:0,y:0},p=l??{x:0,y:0},m={x:s.x+u.x,y:s.y+u.y},h={x:c.x+p.x,y:c.y+p.y};return YJ.subdivideCubicBezier(t.transformedPoint(s),t.transformedPoint(m),t.transformedPoint(h),t.transformedPoint(c),e)},i=function(s){let a=[],l=null;for(let c of s)l!=null&&(l.rh!=null||c.lh!=null)?a=a.concat(o(l,l.rh,c.lh,c)):a=a.concat([t.transformedPoint(c)]),l=c;return a},n=s=>s.map(a=>i(a));return r.toPolyline=i,r.toPolylines=n,r},qJ=$ke;var K1=.001,WL=e=>(e.length>0&&e.push(e[0]),e),VL=(e,t)=>{let r=t.maxX-t.minX,o=t.maxY-t.minY,i=r===0?0:e.width/r,n=o===0?0:e.height/o;return ct().translatedBy(-(t.minX+t.maxX)/2,-(t.minY+t.maxY)/2).scaledBy(i,n)},$J=e=>{if(e.points.length===0)return[];let t=Oe.pathBoundingBox(e.points),r=ct().premultipliedBy(VL(e,t)).premultipliedBy(Xe.shapeMatrix(e));return qJ(K1,r).toPolylines(e.points)},Zke=e=>{if(e.points.length===0)return[];let t=Oe.pointsBoundingBox(e.points),r=ct().premultipliedBy(VL(e,t)).premultipliedBy(Xe.shapeMatrix(e));return[Array.from(e.points).map(o=>r.transformedPoint(o))]},Jke=e=>{if(e.points.length===0)return[];let t=Oe.pointsBoundingBox(e.points),r=ct().premultipliedBy(VL(e,t)).premultipliedBy(Xe.shapeMatrix(e));return[WL(Array.from(e.points).map(o=>r.transformedPoint(o)))]},Kke=e=>{let t=ct().scaledBy(e.width/2,e.height/2).premultipliedBy(Xe.shapeMatrix(e));return[p5.ellipse(K1,t)]},Qke=e=>[[e.point1,e.point2]],eTe=e=>{if(e.cornerRadius!=null&&(e.cornerRadius.x!==0||e.cornerRadius.y!==0))return tTe(e);let t=ct().premultipliedBy(Xe.shapeMatrix(e)),r=[{x:-e.width/2,y:-e.height/2},{x:-e.width/2,y:e.height/2},{x:e.width/2,y:e.height/2},{x:e.width/2,y:-e.height/2}];return[WL(Array.from(r).map(o=>t.transformedPoint(o)))]},tTe=e=>{let t=ct().premultipliedBy(Xe.shapeMatrix(e)),r=Math.min(e.cornerRadius.x,e.width/2),o=Math.min(e.cornerRadius.y,e.height/2),i=e.width/2-r,n=e.height/2-o,s=ct().scaledBy(r,o),a=s.translatedBy(i,n),l=s.translatedBy(-i,n),c=s.translatedBy(-i,-n),u=s.translatedBy(i,-n),p=[];return p=p.concat(p5.ellipseArc(K1,a,0,.5*Math.PI)),p=p.concat(p5.ellipseArc(K1,l,.5*Math.PI,Math.PI)),p=p.concat(p5.ellipseArc(K1,c,Math.PI,1.5*Math.PI)),p=p.concat(p5.ellipseArc(K1,u,1.5*Math.PI,2*Math.PI)),[WL(p.map(m=>t.transformedPoint(m)))]},rTe=e=>isFinite(e.width)&&isFinite(e.height)&&e.fontPath!=null?$J(e.fontPath):[],oTe=e=>[[{x:e.center.x,y:e.center.y}]],iTe=e=>{let t=[];switch(e.type){case"path":t=$J(e);break;case"polygon":t=Jke(e);break;case"polyline":t=Zke(e);break;case"ellipse":t=Kke(e);break;case"line":t=Qke(e);break;case"rectangle":t=eTe(e);break;case"text":t=rTe(e);break;case"drill":t=oTe(e);break}return fo.fromPointArrays(t)},nTe={MAX_ERROR:K1,process:iTe},gl=nTe;var sTe={outlineOffset:function(e,t){let r;return e.outlineStyle==="inside"?r=-1:e.outlineStyle==="on-path"?r=0:e.outlineStyle==="outside"&&(r=1),r*t/2}},ZJ=sTe;function SC(e){return e.type!=="line"&&e.type!=="drill"}function Hd(e){return e.type==="measurement"}function ho(e){return Hd(e.cut)&&aTe(e.shape)}function aTe(e){return e.type==="measurement"}function JJ(e){return e.shape.type!=="line"&&e.shape.type!=="measurement"}function Q1(e){return e.type==="text"}function CC(e){return e.shape.type==="ellipse"}function PC(e){return Q1(e.shape)}function KJ(e){return e.type==="drill"}function QJ(e){return e.type==="rectangle"}var eK=function(e){let t,r,o,i;switch(e.type){case"drill":return{x:o,y:i}=e.center,{minX:o,maxX:o,minY:i,maxY:i};case"line":{let{point1:{x:l,y:c},point2:{x:u,y:p}}=e;return{minX:Math.min(l,u),maxX:Math.max(l,u),minY:Math.min(c,p),maxY:Math.max(c,p)}}}({x:o,y:i}=e.center);let{width:n,height:s,rotation:a}=e;switch(a){case void 0:case 0:case Math.PI:r=n/2,t=s/2;break;case Math.PI/2:case 3*Math.PI/2:r=s/2,t=n/2;break;default:{let l=Math.abs(Math.sin(a)),c=Math.abs(Math.cos(a));r=(s*l+n*c)/2,t=(s*c+n*l)/2}}return{minX:o-r,maxX:o+r,minY:i-t,maxY:i+t}},Sf=e=>e.reduce((t,r)=>Oe.unionBoundingBoxes(t,eK(r.shape)),Oe.infiniteBox()),cTe=e=>Sf(e).minX,uTe=e=>Sf(e).maxX,pTe=e=>Sf(e).minY,dTe=e=>Sf(e).maxY,mTe=(e,t)=>({minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t}),tK=function(e){let t=Sf(e);return UL(t).x},rK=function(e){let t=Sf(e);return UL(t).y},UL=e=>({x:(e.maxX+e.minX)/2,y:(e.maxY+e.minY)/2}),fTe=function(e){if(e.length===1){let{shape:t}=e[0];return t.type==="line"?Math.abs(t.point1.x-t.point2.x):t.type==="drill"?0:t.width}else{let t=Sf(e);return t.maxX-t.minX}},hTe=function(e){if(e.length===1){let{shape:t}=e[0];return t.type==="line"?Math.abs(t.point1.y-t.point2.y):t.type==="drill"?0:t.height}else{let t=Sf(e);return t.maxY-t.minY}},oK=function(e,t,r){let o=e.shape.rotation!=null?e.shape.rotation:0;if(o===0||o===360)return t;let i=e.shape.center!=null?e.shape.center:{x:tK([e]),y:rK([e])};return ct().translatedBy(-i.x,-i.y).rotatedBy(o*r).translatedBy(i.x,i.y).transformedPoint(t)},gTe=(e,t)=>oK(e,t,-1),yTe=(e,t)=>oK(e,t,1),xTe=function(e,t,r){if(e.cut.type==="outline"){let o=r.open(),i=r.closed();return e.shape.type==="text"?i=i.simplify(1):i=i.simplify(0),i=i.offset(ZJ.outlineOffset(e.cut,t)),o.add(i)}else return e.cut.type==="drill"?r:r.lighten().simplify()},bTe=function(e,t){let r=gl.process(e.shape);return xTe(e,t,r)},vTe=e=>{if(e.length<=1)return!1;let t=[...new Set(e.map(r=>r.group))];return t.length>1||t[0]===void 0},STe=e=>e.find(t=>t.group!=null)!==void 0,iK=e=>e.filter(t=>t.shape.type!=="drill"),CTe=e=>iK(e).map(t=>t.id),PTe=function(e){return e.length===1&&e[0].shape.type==="drill"},wTe=function(e){return e.length>0&&e.length===e.filter(t=>t.shape.type==="drill").length},_Te=function(e){return e.length>0&&e.filter(t=>t.cut.depth!==e[0].cut.depth).length===0},kTe=function(e,t){let r=Xe.pathifyShape(e.shape),o=r.points.length,i=Xe.pathWithRemovedPoints({shape:r,points:t});if(i==null)return{newShape:i,newSelection:[]};let n,s;return i.points.length===o?(n=t[0].subpathIndex,s=t[0].pointIndices[0],s>=i.points[n].length&&(s=i.points[n].length-1)):(n=t[0].subpathIndex,n>=i.points.length&&(n=i.points.length-1),s=i.points[n].length-1),{newShape:i,newSelection:[{subpathIndex:n,pointIndices:[s]}]}},TTe=e=>["ellipse","rectangle","path","polygon"].includes(e.shape.type),ETe=e=>e.length>0&&e.every(t=>t.cut.type==="fill"||t.cut.type==="outline"),MTe=e=>e.some(CC),ATe={shapeBoundingBox:eK,boundingBox:Sf,centerFromBbox:UL,boundingBoxExpand:mTe,boundingBoxLeft:cTe,boundingBoxHorizontalCenter:tK,boundingBoxRight:uTe,boundingBoxBottom:pTe,boundingBoxVerticalCenter:rK,boundingBoxTop:dTe,boundingBoxWidth:fTe,boundingBoxHeight:hTe,rotatedPoint:yTe,segmentsWithOffsets:bTe,unRotatedPoint:gTe,volumesCanBeGrouped:vTe,volumesCanBeUngrouped:STe,combinableVolumes:iK,combinableVolumeIds:CTe,isOneDrillHoleSelected:PTe,areOnlyDrillHolesSelected:wTe,allSelectedShapesMatchingCutDepth:_Te,deleteSelectedPoints:kTe,isPrimitiveType:TTe,canOffsetVolumes:ETe,canConvertEllipseToDrillHoles:MTe},Ee=ATe;var rc={},RL={in:1,mm:25.4,ft:.08333333333333333,m:.025400050800101603},nK={in:3,mm:1,ft:1,m:1},ITe={in:2,mm:1,ft:1,m:1},DTe=e=>e.split("/")[0],_C=e=>RL[I4(DTe(e))],I4=function(e){switch(e.trim()){case"in":case"inch":case"inches":case'"':return"in";case"mm":return"mm";case"ft":return"ft";case"m":return"m"}},sK=e=>I4(e)=="in"?'"':e,NTe=function(e){return e==="in"?1/RL.mm:RL.mm},OTe=function(e,t,r){return e*cK.inchesPerUnit(t)*_C(r)},D4=(e,t,r)=>(r??(r=nK[t]),parseFloat((e*_C(t)).toFixed(r))),LTe=(e,t)=>e.filter(Boolean).map(r=>D4(r,t)).join(" \xD7 ")+" "+t,BTe=(e,t,r,o)=>[e,t,r].filter(Boolean).map(i=>D4(i,o)).join(" x "),FTe=(e,t)=>`${jL(e,t)} ${I4(t)}`,jL=(e,t)=>{let r=I4(t),o=D4(e,r);if(o<1&&r=="in"){let i=lK[o];if(i!=null)return`${i}`}return`${o}`},aK=function(e,t){return t?aK(t,e%t):e},lK={},wC=32;for(let e=1;e<wC;e++){let t=aK(e,wC);lK[e/wC]=`${e/t}/${wC/t}`}rc.defaultPrecision=nK;rc.simplePrecision=ITe;rc.normalizeUnitName=I4;rc.unitsPerInch=_C;rc.inchesPerUnit=e=>1/_C(e);rc.unitConversionMultiplyValue=NTe;rc.convertToUnit=OTe;rc.convertFromIn=D4;rc.formatFromIn=FTe;rc.formatDimensions=LTe;rc.formatWidthHeightDepth=BTe;rc.fractionFromIn=jL;rc.symbolizeUnit=sK;var cK=rc,Ve=cK;var qe={upcut:"Upcut",straight:"Straight cut",downcut:"Downcut",compression:"Compression",v:"V",ballnose:"Ballnose"},Gc={endMills:"End Mills",vBits:"V Bits",ballnose:"Ballnose"};var WTe=function(e){let t={.5:"1/2",.25:"1/4",.125:"1/8",.0625:"1/16",.03125:"1/32"},r=Math.PI/180,o="\xB0";if(!e)return null;let{type:i,width:n,unit:s,tipAngle:a}=e,l;s==="in"?l=t[n]!=null?t[n]:n.toFixed(3):l=parseFloat(n.toFixed(2)).toString();let c=function(){if(a!=null)return`${a}${o}`},u=function(){if(l!=null)return`${l} ${s}`},p=x=>{let v=n*Ve.inchesPerUnit(s);if(i===qe.v&&x!=null&&x>0){let b=2*x*Math.tan(a*r/2);return Math.min(v,b)}else return v},m=()=>i===qe.v?c():u();return{angleAndDegree:c,inchWidth:p,description:m,longDescription:()=>{if(i==null)return m();let x=i!==qe.v?i.toLowerCase():i;return`${m()} ${x}`},shortDescription:()=>i===qe.v?`${a}${o}`:l,widthAndUnit:u,explode:()=>e,type:()=>i,radianTipAngle:()=>a*r,degreeTipAngle:()=>a}},uK={id:"INVENTABLES_BLACK_BIT",unit:"in",width:.125,type:"Straight cut",tipAngle:0},rt=WTe;var pK={locateTabsOnPath:(e,t)=>{let r,o=0,i=0,n=[];for(r of e.all())o+=r.perimeter();let s=o/t;for(r of e.all()){let a=0,l=r.points[a],c=r.points[a+1];for(;n.length<t&&a<r.points.length-1;){let u=n.length===0?s/Math.PI:s,p=ar(l,c);if(i+p>u){let m=gJ(l,c,u-i);n.push(m),i=0,l=m}else i+=p,a+=1,l=c,c=r.points[a+1]}}return n}},kC=(e,t)=>{let r=[],{cut:o}=e,i=Ee.segmentsWithOffsets(e,rt(t).inchWidth(e.cut.depth));if(i.any())if(o.tabs&&o.tabs.length===o.tabCount)for(let n of o.tabs)r.push({center:Ee.unRotatedPoint(e,i.closestInterpolatedPoint(Ee.rotatedPoint(e,n.center)))});else{let n=[];if(o.tabs&&o.tabs.length>0){let a=pK.locateTabsOnPath(i,o.tabs.length).map(l=>({center:Ee.unRotatedPoint(e,l)}));o.tabs.forEach(l=>{a.filter(c=>_r(l,c)).length===0&&n.push(l)})}let s=pK.locateTabsOnPath(i,o.tabCount).map(a=>({center:Ee.unRotatedPoint(e,a)}));s.sort((a,l)=>{let c=Math.min(...n.map(p=>ar(a.center,p.center)));return Math.min(...n.map(p=>ar(l.center,p.center)))-c}),r.push(...[...n,...s].slice(0,o.tabCount))}return r};var VTe={pathPointsToShape(e){if(e.length===0)return null;let t=Oe.pathBoundingBox(e),r={x:(t.minX+t.maxX)/2,y:(t.minY+t.maxY)/2};return{type:"path",center:{x:r.x,y:r.y},width:t.maxX-t.minX,height:t.maxY-t.minY,rotation:0,points:e,flipping:{horizontal:!1,vertical:!1}}},pointsToRotatedLine(e){if(e.length<2)return null;let t=e[0],r=e[1],o={x:(t.x+r.x)/2,y:(t.y+r.y)/2},i=Math.hypot(r.x-t.x,r.y-t.y),n=Math.atan2(r.y-t.y,r.x-t.x);return{type:"path",center:{x:o.x,y:o.y},width:i,height:0,rotation:n,points:[[t,{...r,x:t.x+i,y:t.y}]],flipping:{horizontal:!1,vertical:!1}}},widthAndDepthToShape(e,t,r={x:e/2,y:t/2}){return{type:"rectangle",center:r,width:e,height:t,rotation:0,flipping:{horizontal:!1,vertical:!1},isProportionLocked:!0}},circleShape(e,t,r,o){return{type:"ellipse",center:{x:e,y:t},width:r,height:o,rotation:0,flipping:{horizontal:!1,vertical:!1}}},drillShape(e,t){return{type:"drill",center:{x:e,y:t},flipping:{horizontal:!1,vertical:!1}}}},_o=VTe;var hK={},dK=null,mK=null,Zy=null,Jy=null,UTe=e=>e[0]===e[0].toLowerCase(),RTe=function(e,t,r){let o=e.slice(1);for(let i=0;i<o.length;i+=2)e[i+1]=o[i]+t,e[i+2]=o[i+1]+r;return e},fK=function(e,t){let r=e.slice(1);for(let o=0;o<r.length;o++){let i=r[o];e[o+1]=i+t}return e},jTe=function(e){if(UTe(e))switch(e[0]=e[0].toUpperCase(),e[0]){case"H":e=fK(e,Zy);break;case"V":e=fK(e,Jy);break;default:e=RTe(e,Zy,Jy);break}switch(e[0]==="M"&&(dK=e[1],mK=e[2]),e[0]){case"H":Zy=e[1];break;case"V":break;case"Z":Zy=dK;break;default:Zy=e[e.length-2];break}switch(e[0]){case"H":break;case"V":Jy=e[1];break;case"Z":Jy=mK;break;default:Jy=e[e.length-1];break}return e},GTe=function(e){return Zy=Jy=0,e.map(t=>jTe(t.slice(0)))};hK.process=GTe;var HTe=hK,gK=HTe;var zTe=function(e){let t=[],r=[],o={x:0,y:0},i={x:null,y:null},n={x:null,y:null},s=null,a=function(_,E){r.length>1&&t.push(r),r=[],v(_,E),s={x:_,y:E}},l=function(){s&&v(s.x,s.y),r.length>2&&t.push(r),r=[],s&&v(s.x,s.y)},c=(_,E)=>v(_,E),u=_=>v(o.x,_),p=_=>v(_,o.y),m=function(_,E,T,A,O,L){o.rh={x:_-o.x,y:E-o.y},v(O,L),o.lh={x:T-o.x,y:A-o.y},b(T,A)},h=function(_,E,T,A){o.rh={x:2/3*(_-o.x),y:2/3*(E-o.y)},v(T,A),o.lh={x:2/3*(_-o.x),y:2/3*(E-o.y)},S(_,E)},f=function(_,E,T,A){let O=n.x!=null?2*o.x-n.x:o.x,L=n.y!=null?2*o.y-n.y:o.y;m(O,L,_,E,T,A)},x=function(_,E){let T=i.x!=null?2*o.x-i.x:o.x,A=i.y!=null?2*o.y-i.y:o.y;h(T,A,_,E)};var v=function(_,E){let T={x:_,y:E};r.push(T),o=T,b(null,null),S(null,null)},b=function(_,E){n.x=_,n.y=E},S=function(_,E){i.x=_,i.y=E};let w={M:a,Z:l,L:c,V:u,H:p,C:m,S:f,Q:h,T:x,A:()=>console.error("Path command error: arc not implemented")};for(let _ of gK.process(e))w[_[0]](..._.slice(1));return r.length>1&&t.push(r),t},N4=zTe;var XTe=(e,t)=>{let r=n=>n.map(({type:s,x1:a,y1:l,x2:c,y2:u,x:p,y:m})=>[s,a,l,c,u,p,m].filter(h=>h!=null));return{getWidth:(n,s=1)=>{try{let a=0,l=null;for(let c of n){let u=e.charToGlyph(c);a+=u.advanceWidth,l&&(a+=e.getKerningValue(l,u)),l=u}return a*s/e.unitsPerEm}catch(a){let l=a;return window.onerror?.(l.toString(),`opentype font adapter (${t})`,0,0,l),0}},getPathPoints:(n,s,a,l=1)=>{try{let{commands:c}=e.getPath(n,s,a,l),u=r(c);return N4(u)}catch(c){let u=c;return window.onerror?.(u.toString(),`opentype font adapter (${t})`,0,0,u),N4([])}},name:t}},yK=XTe;var vK=M(P("opentype.js"),1);var bK=["googlefonts","uploaded","easel"],YTe={group:{loaded:[],toolbar:{total:0,loaded:0},pro:{total:0,loaded:0}},data:{},errors:{customFonts:[]},errorModalVisible:!1,toolbar:[],fontList:{visible:!1},fontLibrary:[]},xK=We({name:"font",initialState:YTe,reducers:{setFontData(e,{payload:t}){return t.forEach(({font:r,name:o})=>{e.data[Bo(o,r.provider)]={...r}}),e},addFontsToToolbar(e,{payload:t}){let r=t.filter(({fontFamily:o,fontProvider:i})=>!e.toolbar.find(n=>n.name===o&&n.provider===i)).map(({fontFamily:o,fontProvider:i})=>({name:o,displayName:e.data[Bo(o,i)].displayName,provider:i}));e.toolbar=e.toolbar.concat(r),e.toolbar.sort((o,i)=>o.displayName.localeCompare(i.displayName))},removeFontFromToolbar(e,{payload:t}){e.toolbar=e.toolbar.filter(r=>!(r.name===t.family&&r.provider===t.provider))},loadLibraryFonts(e,{payload:t}){e.fontLibrary=t.map(({displayName:r,category:o,createdAt:i})=>({displayName:r,provider:"googlefonts",category:o,createdAt:i})).sort((r,o)=>r.displayName.localeCompare(o.displayName))},removeFontFromLibrary(e,{payload:t}){e.fontLibrary.splice(e.fontLibrary.findIndex(r=>r.displayName===t.name),1)},setGroupTotal(e,{payload:t}){e.group[t.group].total=t.total},incrementGroupLoaded(e,{payload:t}){e.group[t.group].loaded=e.group[t.group].loaded+1},setFontErrors(e,{payload:t}){e.errors[t.errorType]=t.fontNames},setCustomFontErrors(e,{payload:t}){e.errors.customFonts=t},setFontListVisible(e,{payload:t}){e.fontList.visible=t},setFontErrorsVisible(e,{payload:t}){e.errorModalVisible=t}}}),qTe=_e([e=>e.font.data,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>e[Bo(t,r)]??e[Bo(me.DEFAULT_FONT_NAME,me.DEFAULT_FONT_PROVIDER)]),$Te={getUserFonts:e=>e.font.data,getToolbarFonts:e=>e.font.toolbar,getFontLibrary:e=>e.font.fontLibrary,getFontErrors:e=>e.font.errors,hasFontErrors:e=>(e.font.errors.volume_fonts?.length??0)>0||(e.font.errors.volume_fonts_without_fallback?.length??0)>0,getFontsWithLoadingErrors:e=>e.font.errors.customFonts,getFontErrorsModalVisible:e=>e.font.errorModalVisible,isLoaded:(e,t)=>e.font.group[t].loaded===e.font.group[t].total,getGroupLoadedInfo:(e,t)=>e.font.group[t],isFontListVisible:e=>e.font.fontList.visible},ZTe=Object.values(_s).map(e=>e.displayName),JTe=_e(e=>e.font.toolbar,e=>e.filter(t=>!ZTe.includes(t.displayName))),KTe={actions:xK.actions,reducer:xK.reducer,...$Te,getInstalledFonts:JTe,getFontData:qTe},ft=KTe;var GL="_",TC=e=>e&&Object.keys(_s).includes(e)?"easel":"googlefonts",Bo=(e,t)=>{let r=t??TC(e);return`${e}${GL}${r}`},zd=e=>{for(let t of bK)if(e.endsWith(`${GL}${t}`))return[e.replace(`${GL}${t}`,""),t];return[e,TC(e)]},EC=e=>e?{uploaded:"Custom",googlefonts:"Pro",easel:"Free"}[e]:"Free";var HL={},QTe=(e,t)=>HL[Bo(e,t)],eEe=(e,t,r,o)=>new Promise((i,n)=>{if(HL[Bo(e,r)])return i({fontFamily:e,displayName:e,provider:r,baselineOffsetFraction:o??me.DEFAULT_FONT_BASELINE_OFFSET_FRACTION});let s=new FontFace(Bo(e,r),`url(${encodeURI(t)})`);return document.fonts.add(s),s.load().then(()=>{vK.default.load(encodeURI(t),(a,l)=>{if(a!=null){let c=`Failed to load font ${e}: ${a}`;return H.trackEventOnce("Failed to load font",{name:e,message:a}),n(c)}else return HL[Bo(e,r)]=yK(l,e),i({fontFamily:e,provider:r,baselineOffsetFraction:me.DEFAULT_FONT_BASELINE_OFFSET_FRACTION,displayName:e})})}).catch(a=>n(a.message))}),tEe={getFont:QTe,loadFont:eEe},qr=tEe;var zL=1.3,rEe=function({text:e,font:t,fontSize:r}){r=r||80;let{width:o,height:i}=XL(e,t,r);return o=o||t.getWidth("i",r),{width:o,height:i}},XL=function(e,t,r){let o=e.split(/\r?\n/),i=r*zL*o.length;return{width:Math.max.apply(null,o.map(s=>t.getWidth(s,r))),height:i,lines:o}},oEe=function(e,t,r,o){let{width:i,height:n,lines:s}=XL(e,t,1);if(i===0)return{};let a=_s[t.name]?.baselineOffsetFraction||me.DEFAULT_FONT_BASELINE_OFFSET_FRACTION,l=[],c=[],u=-a;for(let m=s.length-1;m>=0;m--){let h=s[m],f=t.getWidth(h,1),x=0;o==="center"?x=(i-f)/2:o==="right"&&(x=i-f),l=t.getPathPoints(h,x,u).concat(l),c.unshift([{x:0,y:u},{x:i,y:u}]),u-=zL}let p=ct().scaledBy(1,-1);if(l=Oe.transformedPath(l,p),c=Oe.transformedPath(c,p),r!=null&&r.bezier){l=Oe.curveInterpolatedPath(l);let m=Oe.pathBoundingBox(l),h=m.maxX-m.minX,f=m.maxY-m.minY,x=ct().translatedBy(-m.minX,-m.minY).scaledBy(1/h,1/f),v=ct().scaledBy(h,f).translatedBy(m.minX,m.minY),b=HJ(r.bezier);l=Oe.transformedPath(l,x),l=Oe.transformedPath(l,b),l=Oe.transformedPath(l,v)}return{pathPoints:l,box:{width:i,height:n},baselines:c}},iEe=function(e,t,r,o){let{width:i,height:n,lines:s}=XL(e,t,1);if(i===0)return{charPaths:[],box:{width:0,height:0}};let a=_s[t.name]?.baselineOffsetFraction||me.DEFAULT_FONT_BASELINE_OFFSET_FRACTION,l=[],c=-a;for(let p=s.length-1;p>=0;p--){let m=s[p],h=t.getWidth(m,1),f=0;o==="center"?f=(i-h)/2:o==="right"&&(f=i-h);let x=f;for(let v=0;v<m.length;v++){let b=m[v],S=t.getWidth(b,1),w=t.getPathPoints(b,x,c);l.push(w),x+=S}c-=zL}let u=ct().scaledBy(1,-1);return l=l.map(p=>Oe.transformedPath(p,u)),{charPaths:l,box:{width:i,height:n}}},nEe=function(e){let t=Xe.shapeMatrix(e),{font:r,fontProvider:o,text:i,width:n,height:s,textEffect:a,textAlignment:l}=e,c=qr.getFont(r,o),{charPaths:u,box:p}=iEe(i,c,a,l);if(!u||u.length===0)return null;let m=ct().translatedBy(-p.width/2,-p.height/2).scaledBy(n/p.width,s/p.height).premultipliedBy(t);return u.map(h=>Oe.transformedPath(h,m))},SK=function(e,t){let{font:r,fontProvider:o,text:i,width:n,height:s,textEffect:a,textAlignment:l}=e,c=qr.getFont(r,o),{pathPoints:u,box:p,baselines:m}=oEe(i,c,a,l);if(u==null)return null;let h=ct().translatedBy(-p.width/2,-p.height/2).scaledBy(n/p.width,s/p.height).premultipliedBy(t);u=Oe.transformedPath(u,h);let f=_o.pathPointsToShape(u);return f!=null&&(f.baselines=Oe.transformedPath(m,h)),f},sEe=GS(e=>SK(e,Xe.shapeMatrix(e)),{maxSize:256}),aEe=function(e){let{x:t,y:r}=e.center;return SK(e,ct().translatedBy(t,r))},lEe={measure:rEe,textShapeToPathShape:sEe,textShapeToCharPaths:nEe,textShapeToCanvasShape:aEe},ii=lEe;var cEe=(e,t)=>{t==null&&(t={x:2,y:2});let r={center:t,flipping:{}};switch(e!="drill"&&(r.width=2,r.height=2,r.rotation=0),e){case"circle":r.type="ellipse";break;case"square":r.type="rectangle";break;case"star":{r.type="polygon";let o=[],i=10;for(let n=0;n<i;n++){let s=n%2===0?1:.5,a=2*Math.PI*(n/i)+Math.PI/2;o.push({x:s*Math.cos(a),y:s*Math.sin(a)})}r.points=o}break;case"triangle":{r.type="polygon";let o=[],i=3;for(let n=0;n<i;n++){let s=2*Math.PI*(n/i)+Math.PI/2;o.push({x:Math.cos(s),y:Math.sin(s)})}r.points=o}break;case"half-circle":{r.type="path",r.width=2,r.height=1;let o=Xt.BEZIER_MAGIC_NUMBER;r.points=[[{x:-1,y:0},{x:-1,y:0,rh:{x:0,y:o}},{x:0,y:1,lh:{x:-o,y:0},rh:{x:o,y:0}},{x:1,y:0,lh:{x:0,y:o}},{x:1,y:0},{x:-1,y:0}]]}break;case"right-triangle":r.type="polygon",r.points=[{x:-1,y:-1},{x:1,y:-1},{x:-1,y:1}];break;case"text":r.type="text",r.text="Text",r.font="Bemio";break;case"drill":r.type="drill"}return r},Ky=cEe;var PK=function(e){return e.type==="text"?{...e,fontPath:ii.textShapeToPathShape(e)}:e},uEe=(e,t)=>({...e,text:t}),wK=(e,t,r)=>({...e,font:t,fontProvider:r}),MC=function(e,t){return e={...e},e.type==="line"?(e.point1=t(e.point1),e.point2=t(e.point2)):e.center=t(e.center),e},pEe=(e,t,r)=>MC(e,o=>({x:o.x+t,y:o.y+r})),YL=function(e){return e=e%(2*Math.PI),e>Math.PI&&(e-=2*Math.PI),e<-Math.PI&&(e+=2*Math.PI),e},dEe=function(e,t,r,o){return e=MC(e,function(n){let s=Math.atan2(n.y-o,n.x-r),a=Math.hypot(n.y-o,n.x-r);return{x:r+a*Math.cos(s+t),y:o+a*Math.sin(s+t)}}),e.rotation!=null&&(e.rotation=YL(e.rotation+t)),e},mEe=function(e,t,r,o,i){let n=t!==r,s=a=>(n?-a:a)+(r?Math.PI:0);return e=MC(e,a=>({x:t?a.x+2*(o-a.x):a.x,y:r?a.y+2*(i-a.y):a.y})),e.rotation!=null&&(e.rotation=YL(s(e.rotation))),e.width!=null&&n&&(e.flipping.horizontal=!e.flipping.horizontal),e},fEe=function(e,t,r,o){return e=MC(e,t.transformedPoint),e.width!=null&&(e.width*=r,e.width<0&&(e.width=-e.width,e.flipping={...e.flipping,horizontal:!e.flipping.horizontal})),e.height!=null&&(e.height*=o,e.height<0&&(e.height=-e.height,e.flipping={...e.flipping,vertical:!e.flipping.vertical})),e},hEe=(e,t)=>({...e,anchored:t}),gEe=(e,t)=>({...e,isProportionLocked:t}),yEe=function(e,t){e={...e};for(let r in t){let o=t[r];e[r]=o}return e},xEe=e=>e.fontPath,bEe=(e,t)=>{let r=Ky("text"),o=ii.measure({text:r.text,font:qr.getFont(e,t)}),i=r.height*(o.width/o.height);return r.center.x+=(i-r.width)/2,r.width=i,r.fontSize=80,r.rotation=0,r.flipping={},r=wK(r,e,t),r},CK={buildText:bEe,setText:uEe,setFont:wK,translate:pEe,rotate:dEe,flip:mEe,scale:fEe,setParams:yEe,setLocked:hEe,setProportionLock:gEe,normalizeAngle:YL},AC={};for(let e of Object.keys(CK))AC[e]=(...t)=>PK(CK[e](...t));AC.fallbackToPath=xEe;AC.ensurePath=PK;var vEe=AC,$r=vEe;var SEe={distribute(e,t){if(e.length<3)return e;if(!["x","y"].includes(t))throw new Error("You can only distribute volumes along X or Y axis");let r=[...e].sort((i,n)=>i.shape.center[t]-n.shape.center[t]>0?1:-1),o=(r[r.length-1].shape.center[t]-r[0].shape.center[t])/(r.length-1);return JSON.parse(JSON.stringify(e)).map(i=>{let n=r.findIndex(s=>i.id!=null?s.id===i.id:s.group===i.group);return i.shape.center[t]=r[0].shape.center[t]+n*o,i})}},_K=SEe;var IC=()=>({volumeSelected:{},drawingMode:null,drawingPoints:null,editingVolumeID:null,selectedPoints:[],multipleVolumeRotation:0,savedAnchorPosition:{anchorX:"left",anchorY:"bottom"},lastObjectPropertyTab:"shape"}),kK=e=>{let t={};for(let r of e)t[r]=!0;return t},CEe=(e,t)=>{let r=e.byWorkpieceId[e.activeWorkpieceId];r.editorState.editingVolumeID=null,r.editorState.selectedPoints=[],r.editorState.drawingMode=null,r.editorState.drawingPoints=null,r.editorState.volumeSelected=kK(t.payload),r.editorState.multipleVolumeRotation=0},PEe=(e,t)=>{let r=e.byWorkpieceId[e.activeWorkpieceId];for(let o of t.payload)delete r.editorState.volumeSelected[o],o===r.editorState.editingVolumeID&&(r.editorState.editingVolumeID=null,r.editorState.selectedPoints=[])},wEe=e=>{let t=e.byWorkpieceId[e.activeWorkpieceId];t.editorState.editingVolumeID=null,t.editorState.selectedPoints=[],t.editorState.volumeSelected={}},_Ee=(e,t)=>{let r=e.byWorkpieceId[e.activeWorkpieceId],o=t.payload.volume?.shape;!Xe.pathifyShape(o)||ho(t.payload.volume)||(r.editorState.drawingMode=null,r.editorState.drawingPoints=null,r.editorState.volumeSelected=kK([t.payload.volume.id]),r.editorState.editingVolumeID=t.payload.volume.id,t.payload.points&&(r.editorState.selectedPoints=t.payload.points))},kEe=e=>{let t=e.byWorkpieceId[e.activeWorkpieceId];t.editorState.editingVolumeID=null,t.editorState.selectedPoints=[]},TEe={prepare:e=>{let t="";switch(e){case"path":t="New path";break;case"arc":t="New arc";break;case"curvedPath":t="New curved path";break}return{payload:{undoDescription:t,drawingMode:e}}},reducer:(e,{payload:{drawingMode:t}})=>{let r=e.byWorkpieceId[e.activeWorkpieceId];r.editorState.volumeSelected={},r.editorState.editingVolumeID=null,r.editorState.selectedPoints=[],r.editorState.drawingMode=t,r.editorState.drawingPoints=[]}},EEe=e=>{let t=e.byWorkpieceId[e.activeWorkpieceId];t.editorState.drawingMode=null,t.editorState.drawingPoints=null},MEe={prepare:e=>({payload:{points:e,undoDescription:"Add point"}}),reducer:(e,t)=>{let r=e.byWorkpieceId[e.activeWorkpieceId];r.editorState.drawingPoints=t.payload.points}},AEe=(e,t)=>{let r=e.byWorkpieceId[e.activeWorkpieceId];r.editorState.selectedPoints=t.payload},IEe=(e,t)=>{let r=e.byWorkpieceId[e.activeWorkpieceId];r.editorState.savedAnchorPosition=t.payload},DEe=(e,t)=>{let r=e.byWorkpieceId[e.activeWorkpieceId];r.editorState.lastObjectPropertyTab=t.payload},TK=(e,t)=>{let r=e.byWorkpieceId[e.activeWorkpieceId];r.editorState.multipleVolumeRotation+=t.payload.angle},EK=e=>{let t=e.byWorkpieceId[e.activeWorkpieceId];t.editorState.lastObjectPropertyTab="shape"},MK=e=>{let t=e.byWorkpieceId[e.activeWorkpieceId];t.editorState.lastObjectPropertyTab="shape"},AK={selectVolumes:CEe,deselectVolumes:PEe,deselectAllVolumes:wEe,startEditingVolume:_Ee,cancelEditingVolume:kEe,startNewPathMode:TEe,cancelDrawingMode:EEe,setDrawingPoints:MEe,selectPathPoints:AEe,saveAnchorPosition:IEe,setLastObjectPropertyTab:DEe};var Bi=HO({selectId:e=>e.id}),IK=()=>Bi.getInitialState({lastAdded:null,groups:{}}),DK=(e,t,r)=>{Qy(e,t),e.volumeState.groups=le(e.volumeState.groups,r)},NEe={reducer:(e,t)=>{let{newVolumes:r,shift:o,indices:i}=t.payload;Qy(e.byWorkpieceId[e.activeWorkpieceId],r,o,i)},prepare(e,t,r){return{payload:{newVolumes:e,shift:t,indices:r,undoDescription:"Add"}}}},OEe={reducer:(e,t)=>{let{ids:r}=t.payload,o=e.byWorkpieceId[e.activeWorkpieceId].volumeState,i=yl(o,r);i.length!==0&&(Bi.removeMany(o,i),ZL(o,i),B4(o))},prepare(e){return{payload:{ids:e,undoDescription:"Remove"}}}},LEe={reducer:e=>{let t=e.byWorkpieceId[e.activeWorkpieceId].volumeState,r=uMe(t),o=yl(t,r);o.length!==0&&(Bi.removeMany(t,o),ZL(t,o),B4(t))},prepare(){return{payload:void 0}}},BEe={reducer:(e,t)=>{let r=e.byWorkpieceId[e.activeWorkpieceId],{ids:o,newVolumes:i,shift:n}=t.payload,s=yl(r.volumeState,o);WK(r,s,i,n)},prepare(e,t,r,o){return{payload:{ids:e,newVolumes:t,shift:r,undoDescription:o}}}},FEe={reducer:(e,t)=>{let r=e.byWorkpieceId[e.activeWorkpieceId].volumeState,{ids:o,dx:i,dy:n,includeAnchored:s}=t.payload,l=(s?o:yl(r,o)).map(p=>r.entities[p]).filter(p=>!ho(p)).map(p=>p.id),c=new Array(o.length).fill(i),u=new Array(o.length).fill(n);NC(r,l,c,u),MK(e)},prepare(e,t,r,o){return{payload:{ids:e,dx:t,dy:r,includeAnchored:o,undoDescription:"Move"}}}},WEe={reducer:(e,t)=>{let{ids:r,fractionX:o,fractionY:i,anchorX:n,anchorY:s}=t.payload;if(o===0||i===0)return;let a=e.byWorkpieceId[e.activeWorkpieceId],l=a.volumeState,c=yl(l,r),u=c.map(p=>l.entities[p]);for(let p of u){let{shape:m,cut:h}=p,f=SC(m)?m.rotation:0,x=o,v=i;c.length>1&&(f>Math.PI/4&&f<3*Math.PI/4||f<-1*Math.PI/4&&f>-3*Math.PI/4)&&(x=i,v=o);let b=ct().translatedBy(-n,-s).rotatedBy(-f).scaledBy(x,v).rotatedBy(f).translatedBy(n,s);for(let S of h.tabs||[])S.center=b.transformedPoint(S.center);p.shape=$r.scale(m,b,x,v),d5(p,a.materialState.dimensions.z,Xd(a)),Bi.updateOne(l,{id:p.id,changes:{shape:p.shape,cut:p.cut}})}EK(e)},prepare(e,t,r,o,i,n){return{payload:{ids:e,fractionX:t,fractionY:r,anchorX:o,anchorY:i,undoDescription:n||"Resize"}}}},VEe={reducer:(e,t)=>{let{volumeGroup:r}=t.payload,o=e.byWorkpieceId[e.activeWorkpieceId],i=Qy(o,r);r.length>1&&FK(o.volumeState,i)},prepare(e){return{payload:{volumeGroup:e,undoDescription:"Add"}}}},qL=(e,t,r,o,i,n)=>{let s=i==="between_edges"?o+Ee.boundingBoxWidth(e):o,a=i==="between_edges"?o+Ee.boundingBoxHeight(e):o,l=[],c={};for(let u=0;u<r;u++)for(let p=0;p<t;p++){if(u===0&&p===0)continue;let m=p*s,h=u*a,f={};e.forEach(x=>{var S,w;let v=Tt(),b={...le(x),id:v,shape:$r.translate(x.shape,m,h)};b.cut.tabs&&(b.cut.tabs=b.cut.tabs.map(_=>({..._,center:{x:_.center.x+m,y:_.center.y+h}}))),n&&x.group&&(b.group=f[S=x.group]??(f[S]=Tt()),c[w=b.group]??(c[w]=n[x.group])),l.push(b)})}return{newVolumes:l,newGroups:c}},UEe={reducer:(e,t)=>{let{volumeIds:r,columns:o,rows:i,spacing:n,spacingMode:s}=t.payload,a=e.byWorkpieceId[e.activeWorkpieceId],l=r.map(m=>a.volumeState.entities[m]).filter(Boolean);if(l.length===0)return;let{newVolumes:c,newGroups:u}=qL(l,o,i,n,s,a.volumeState.groups),p=c.map(m=>m.id);Qy(a,c),KL(a,[...r,...p]),a.volumeState.groups={...a.volumeState.groups,...u}},prepare(e,t,r,o,i){return{payload:{volumeIds:e,columns:t,rows:r,spacing:o,spacingMode:i,undoDescription:"Replicate"}}}},REe={reducer:(e,t)=>{let{ids:r,flipX:o,flipY:i,anchorX:n,anchorY:s}=t.payload,a=e.byWorkpieceId[e.activeWorkpieceId],l=a.volumeState,u=yl(l,r).map(p=>l.entities[p]);for(let p of u){let{shape:m,cut:h}=p;for(let f of h.tabs??[]){let x=f.center;o&&(x.x+=2*(n-x.x)),i&&(x.y+=2*(s-x.y))}p.shape=$r.flip(m,o,i,n,s),d5(p,a.materialState.dimensions.z,Xd(a)),Bi.updateOne(l,{id:p.id,changes:{shape:p.shape,cut:p.cut}})}},prepare(e,t,r,o,i,n){return{payload:{ids:e,flipX:t,flipY:r,anchorX:o,anchorY:i,undoDescription:n||"Flip"}}}},jEe={reducer:(e,t)=>{let{id:r,index:o,dx:i,dy:n}=t.payload,s=e.byWorkpieceId[e.activeWorkpieceId],a=s.volumeState,l=a.entities[r];if(Hd(l.cut)||l==null||l.cut.tabs==null)return;let c=l.cut.tabs[o];if(c==null)return;let u=c.center,p=Ee.rotatedPoint(l,u),m={x:p.x+i,y:p.y+n},f=Ee.segmentsWithOffsets(l,rt(Xd(s)).inchWidth(l.cut.depth)).closestInterpolatedPoint(m);if(f){let x=Ee.unRotatedPoint(l,f);u.x=x.x,u.y=x.y,Bi.updateOne(a,{id:r,changes:{cut:{...l.cut}}})}},prepare(e,t,r,o){return{payload:{id:e,index:t,dx:r,dy:o,undoDescription:"Move Tab"}}}},GEe={reducer:(e,t)=>{let{ids:r,angle:o,anchorX:i,anchorY:n}=t.payload,s=e.byWorkpieceId[e.activeWorkpieceId],a=s.volumeState,l=yl(a,r);pMe(a,r).filter(p=>p!=null).forEach(p=>{p.rotation=$r.normalizeAngle(p.rotation+o)});let u=l.map(p=>a.entities[p]);for(let p of u){let{shape:m,cut:h}=p,f=$r.rotate(m,o,i,n);for(let x of h.tabs??[])if(m.type==="line"||m.type!=="measurement"&&(!Xt.closeTo(m.center.x,i)||!Xt.closeTo(m.center.y,n))){let v=dMe(p,x.center),b=Math.atan2(v.y-n,v.x-i),S=Math.hypot(v.y-n,v.x-i);v.x=i+S*Math.cos(b+o),v.y=n+S*Math.sin(b+o),x.center=mMe({shape:f},v)}d5({...p,shape:f},s.materialState.dimensions.z,Xd(s)),Bi.updateOne(a,{id:p.id,changes:{shape:f,cut:h}})}TK(e,t)},prepare(e,t,r,o){return{payload:{ids:e,angle:t,anchorX:r,anchorY:o,undoDescription:"Rotate"}}}},HEe={reducer:(e,t)=>{let{ids:r,toGroupData:o}=t.payload;FK(e.byWorkpieceId[e.activeWorkpieceId].volumeState,r,o)},prepare(e,t){return{payload:{ids:e,toGroupData:t,undoDescription:"Group"}}}},zEe={reducer:(e,t)=>{let{ids:r}=t.payload,{toGroupData:o}=t.payload,i=e.byWorkpieceId[e.activeWorkpieceId].volumeState,n=yl(i,r);if(n.length>0){o==null&&(o={volumeIdToGroupId:Object.fromEntries(n.map(l=>[l,void 0])),groups:{}}),i.groups=le(o.groups,i.groups);let s=n.map(a=>i.entities[a]);for(let a of s)a&&(a.group=o.volumeIdToGroupId[a.id],Bi.updateOne(i,{id:a.id,changes:{group:a.group}}));B4(i)}},prepare(e,t){return{payload:{ids:e,toGroupData:t,undoDescription:"Ungroup"}}}},XEe={reducer:(e,t)=>{let{groupData:r}=t.payload,o=e.byWorkpieceId[e.activeWorkpieceId].volumeState;o.groups=le(r,o.groups)},prepare(e){return{payload:{groupData:e}}}},YEe={reducer:(e,t)=>{let{ids:r,alignment:o}=t.payload,i=e.byWorkpieceId[e.activeWorkpieceId].volumeState,n=yl(i,r),s=r.filter(f=>!n.includes(f)),a=s.length>0?s:n;if(n.length===0)return;let l=n.map(f=>i.entities[f]),c=ec(l,f=>f.group||"no-group"),u=(f,x)=>l.map(v=>{let b=v.group?c[v.group]||[v]:[v];return f-x(b)}),p=a.map(f=>i.entities[f]).filter(f=>f!=null),m=[],h=[];switch(o){case"left":{let f=Ee.boundingBoxLeft(p);m=u(f,Ee.boundingBoxLeft),h=new Array(n.length).fill(0);break}case"horizontal":{let f=Ee.boundingBoxHorizontalCenter(p);m=u(f,Ee.boundingBoxHorizontalCenter),h=new Array(n.length).fill(0);break}case"right":{let f=Ee.boundingBoxRight(p);m=u(f,Ee.boundingBoxRight),h=new Array(n.length).fill(0);break}case"bottom":{let f=Ee.boundingBoxBottom(p);m=new Array(n.length).fill(0),h=u(f,Ee.boundingBoxBottom);break}case"vertical":{let f=Ee.boundingBoxVerticalCenter(p);m=new Array(n.length).fill(0),h=u(f,Ee.boundingBoxVerticalCenter);break}case"top":{let f=Ee.boundingBoxTop(p);m=new Array(n.length).fill(0),h=u(f,Ee.boundingBoxTop);break}}NC(i,n,m,h)},prepare(e,t){return{payload:{ids:e,alignment:t,undoDescription:"Align"}}}},qEe={reducer:(e,t)=>{let{ids:r,axis:o}=t.payload,i=e.byWorkpieceId[e.activeWorkpieceId].volumeState,n=yl(i,r),a=n.map(f=>i.entities[f]).filter(f=>f!=null).filter(f=>JJ(f)),l=[],c={};a.forEach(f=>{if(f.group){if(!c[f.group]){let x=VK(i,[f.group]),v=Ee.boundingBox(x);c[f.group]={shape:{center:Ee.centerFromBbox(v)},group:f.group}}}else l.push(f)});let u=[...l,...Object.values(c)],p=_K.distribute(u,o),m=a.map(f=>f.group!=null?p.find(b=>b.group===f.group)?.shape.center.x-c[f.group].shape.center.x:p.find(v=>v.id===f.id)?.shape.center.x-f.shape.center.x),h=a.map(f=>f.group!=null?p.find(b=>b.group===f.group)?.shape.center.y-c[f.group].shape.center.y:p.find(v=>v.id===f.id)?.shape.center.y-f.shape.center.y);NC(i,n,m,h)},prepare(e,t){return{payload:{ids:e,axis:t,undoDescription:"Distribute"}}}},$Ee={reducer:(e,t)=>{let r=e.byWorkpieceId[e.activeWorkpieceId].volumeState,o=yl(r,t.payload.ids),i=Fp(o),n=[],s=[];for(let p=0;p<r.ids.length;p++){let m=r.ids[p];i[m]&&(s.push(m),n.push(p))}let a=Math.max(...n);if(a>=r.ids.length-1)return;let l=a+1,c=r.entities[r.ids[l]];if(c&&c.group!=null){let p=JL(r,c.group);p.length>0&&(l=Math.max(...p)+1)}let u=Math.min(l,r.ids.length-(n.length-1));O4(r,s,L4(u,n.length))},prepare(e){return{payload:{ids:e,undoDescription:"Bring Forward"}}}},ZEe={reducer:(e,t)=>{let r=e.byWorkpieceId[e.activeWorkpieceId].volumeState,o=yl(r,t.payload.ids),i=Fp(o),n=[],s=[];for(let p=0;p<r.ids.length;p++){let m=r.ids[p];i[m]&&(s.push(m),n.push(p))}let l=Math.min(...n)-1,c=r.entities[r.ids[l]];if(c&&c.group!=null){let p=JL(r,c.group);p.length>0&&(l=Math.min(...p))}let u=Math.max(l,0);O4(r,s,L4(u,s.length))},prepare(e){return{payload:{ids:e,undoDescription:"Send Backward"}}}},JEe={reducer:(e,t)=>{let r=e.byWorkpieceId[e.activeWorkpieceId].volumeState,o=yl(r,t.payload.ids),i=Fp(o),n=r.ids.filter(a=>i[a]),s=r.ids.length-n.length;O4(r,n,L4(s,n.length))},prepare(e){return{payload:{ids:e,undoDescription:"Bring to Front"}}}},KEe={reducer:(e,t)=>{let r=e.byWorkpieceId[e.activeWorkpieceId].volumeState,o=yl(r,t.payload.ids),i=Fp(o),n=r.ids.filter(s=>i[s]);O4(r,n,L4(0,n.length))},prepare(e){return{payload:{ids:e,undoDescription:"Send to Back"}}}},QEe={reducer:(e,t)=>{let{ids:r,locked:o}=t.payload,i=e.byWorkpieceId[e.activeWorkpieceId].volumeState;for(let n of r){let s=i.entities[n];s&&(s.shape=$r.setLocked(s.shape,o),Bi.updateOne(i,{id:n,changes:{shape:s.shape}}))}},prepare(e,t){return{payload:{ids:e,locked:t,undoDescription:"Lock"}}}},eMe={reducer:(e,t)=>{let{ids:r,cutParams:o}=t.payload,i=e.byWorkpieceId[e.activeWorkpieceId],n=i.volumeState;for(let s=0;s<r.length;s++){let a=r[s],l=n.entities[a];if(l){let c=l.cut,u=o[s];Object.keys(u).forEach(p=>{let m=u[p];c[p]=m}),d5(l,i.materialState.dimensions.z,Xd(i)),Bi.updateOne(n,{id:a,changes:{cut:l.cut}})}}},prepare(e,t){return{payload:{ids:e,cutParams:Array(e.length).fill(t),undoDescription:"Modify Cut"}}}},tMe={reducer:(e,t)=>{let{ids:r,shapeParams:o}=t.payload,i=e.byWorkpieceId[e.activeWorkpieceId],n=i.volumeState;for(let s=0;s<r.length;s++){let a=r[s],l=n.entities[a];l&&(l.shape=$r.setParams(l.shape,o[s]),d5(l,i.materialState.dimensions.z,Xd(i)),Bi.updateOne(n,{id:a,changes:{shape:l.shape}}))}},prepare(e,t,r){return{payload:{ids:e,shapeParams:Array(e.length).fill(t),undoDescription:r||"Modify Shape"}}}},rMe={reducer:(e,t)=>{let{isLocked:r,ids:o}=t.payload,i=e.byWorkpieceId[e.activeWorkpieceId].volumeState;for(let n of o){let s=i.entities[n];s&&(s.shape=$r.setProportionLock(s.shape,r),Bi.updateOne(i,{id:n,changes:{shape:s.shape}}))}},prepare(e,t){return{payload:{isLocked:e,ids:t,undoDescription:e?"Lock Proportions":"Unlock Proportions"}}}},oMe={reducer:(e,t)=>{let{id:r,name:o}=t.payload,i=e.byWorkpieceId[e.activeWorkpieceId].volumeState;i.entities[r]&&Bi.updateOne(i,{id:r,changes:{name:o}})},prepare(e,t){return{payload:{id:e,name:t,undoDescription:"Set Shape Name"}}}},iMe={reducer:(e,t)=>{let{ids:r,text:o}=t.payload,i=e.byWorkpieceId[e.activeWorkpieceId],n=i.volumeState;for(let s=0;s<r.length;s++){let a=r[s],l=n.entities[a];l&&l.shape.type==="text"&&(l.shape=$r.setText(l.shape,o),UK(l,i.materialState.dimensions.z,Xd(i)),Bi.updateOne(n,{id:a,changes:{shape:l.shape}}))}},prepare(e,t){let r=t.replace(/\u0000/g,"");return{payload:{ids:e,text:r,undoDescription:"Edit Text"}}}},nMe={reducer:(e,t)=>{let{ids:r,textEffect:o}=t.payload,i=e.byWorkpieceId[e.activeWorkpieceId].volumeState;for(let n=0;n<r.length;n++){let s=r[n],a=i.entities[s];Q1(a.shape)&&(a.shape.textEffect=o,a.shape=$r.ensurePath(a.shape),Bi.updateOne(i,{id:s,changes:{shape:a.shape}}))}},prepare(e,t){return{payload:{ids:e,textEffect:t,undoDescription:"Set Text Effect"}}}},sMe={reducer:(e,t)=>{let{ids:r,alignment:o}=t.payload,i=e.byWorkpieceId[e.activeWorkpieceId].volumeState;for(let n=0;n<r.length;n++){let s=r[n],a=i.entities[s];Q1(a.shape)&&(a.shape.textAlignment=o,a.shape=$r.ensurePath(a.shape),Bi.updateOne(i,{id:s,changes:{shape:a.shape}}))}},prepare(e,t){return{payload:{ids:e,alignment:t,undoDescription:"Set Text Alignment"}}}},aMe={reducer:(e,t)=>{let{ids:r,font:o,provider:i}=t.payload,n=e.byWorkpieceId[e.activeWorkpieceId],s=n.volumeState;for(let a=0;a<r.length;a++){let l=r[a],c=s.entities[l];if(c&&Q1(c.shape)){let u=i??TC(o);c.shape=$r.setFont(c.shape,o,u),UK(c,n.materialState.dimensions.z,Xd(n)),Bi.updateOne(s,{id:l,changes:{shape:c.shape}})}}},prepare(e,t,r){return{payload:{ids:e,font:t,provider:r,undoDescription:"Set Font"}}}},lMe={reducer:(e,t)=>{let{ids:r}=t.payload,o=e.byWorkpieceId[e.activeWorkpieceId],i=o.volumeState,n=[],s=r.flatMap(a=>{let l=i.entities[a];return l==null||!CC(l)?[]:(n.push(l.id),[{id:Tt(),shape:_o.drillShape(l.shape.center.x,l.shape.center.y),cut:{type:"drill",outlineStyle:"on-path",depth:l.cut.depth}}])});s.length!==0&&WK(o,n,s)},prepare(e){return{payload:{ids:e,undoDescription:"Convert to Drill Hole"}}}},$L=(e,t,r)=>{let o=r==="outward"?t:-t;return e.flatMap(n=>{let l=gl.process(n.shape).offset(o).all();if(l.length===0)return[];let c=l.map(m=>m.close().points),u=_o.pathPointsToShape(c),p={id:Tt(),shape:u,cut:{...n.cut}};return n.cut.type==="fill"&&(p.cut.type="outline",p.cut.outlineStyle="on-path"),[p]})},cMe={reducer:(e,t)=>{let{ids:r,distance:o,direction:i}=t.payload,n=e.byWorkpieceId[e.activeWorkpieceId],s=n.volumeState,a=r.map(c=>s.entities[c]).filter(c=>c!=null);if(a.length===0)return;let l=$L(a,o,i);l.length>0&&(Qy(n,l),KL(n,l.map(c=>c.id)))},prepare(e,t,r){return{payload:{ids:e,distance:t,direction:r,undoDescription:"Offset"}}}},NK=(e,t)=>{let{newId:r,originalId:o}=t.payload,i=e.byWorkpieceId[r],n=e.byWorkpieceId[o];i.volumeState={...n.volumeState,entities:{},ids:[]};let s={};n.volumeState.ids.forEach(a=>{s[a]=Tt()}),Object.values(n.volumeState.entities).forEach(a=>{let l=le(a,{id:s[a.id]});ho(l)&&(l.shape.targetId=s[l.shape.targetId],l.shape.anchorId=s[l.shape.anchorId]),i.volumeState.entities[l.id]=l,i.volumeState.ids.push(l.id)}),i.volumeState.lastAdded=null},OK=(e,{oldDepth:t,newDepth:r})=>{let o=e.byWorkpieceId[e.activeWorkpieceId];Object.values(o.volumeState.entities).forEach(i=>{if(!Hd(i.cut)&&i.cut.depth===t){let{cut:n}=i;n.depth=r,n.tabPreference&&(n.tabHeight??0)>r&&(n.tabHeight=r)}d5(i,r,Xd(o))})},LK={volumesAdd:NEe,volumesRemove:OEe,volumesRemoveAll:LEe,volumesReplace:BEe,volumesTranslate:FEe,volumesScale:WEe,volumesAddAsGroup:VEe,volumesReplicate:UEe,volumesFlip:REe,volumesTranslateTab:jEe,volumesRotate:GEe,volumesGroup:HEe,volumesUngroup:zEe,volumesLoadGroups:XEe,volumesAlign:YEe,volumesDistribute:qEe,volumesMoveForward:$Ee,volumesMoveBackward:ZEe,volumesBringToFront:JEe,volumesSendToBack:KEe,volumesSetLocked:QEe,volumesSetCutParams:eMe,volumesSetShapeParams:tMe,volumesSetProportionLock:rMe,volumesSetName:oMe,volumesSetText:iMe,volumesSetTextEffect:nMe,volumesSetTextAlignment:sMe,volumesSetFont:aMe,volumesConvertEllipseToDrillHoles:lMe,volumesOffset:cMe},{selectAll:DC,selectIds:uMe}=Bi.getSelectors(),BK=e=>{let t=DC(e),[r,o]=tc(t,a=>a.cut.type==="measurement"),[i,n]=tc(o,a=>a.cut.type==="drill"),s=[...n,...i,...r];e.ids=s.map(a=>a.id)},Qy=(e,t,r,o)=>{let i=e.volumeState,n=[];if(!o||o.length===0){let a=i.ids.length;o=L4(a,t.length)}let s=t.map((a,l)=>{let c=le(a);return c.id=c.id??Tt(),n.push(c.id),c.cut.outlineStyle==null&&(c.cut.outlineStyle="on-path"),c.cut.tabPreference==null&&(c.cut.tabPreference=!0),c.shape.isProportionLocked==null&&(c.shape.isProportionLocked=!1),c.shape.anchored||(c.shape.anchored=!1),c.shape=$r.ensurePath(c.shape),i.ids.splice(o[l],0,c.id),i.entities[c.id]=c,i.lastAdded=c,c});return r&&NC(i,s.map(a=>a.id),s.map(()=>r.x),s.map(()=>r.y)),s.forEach(a=>{d5(a,e.materialState.dimensions.z,Xd(e))}),BK(i),n},NC=(e,t,r,o)=>{for(let i=0;i<t.length;i++){let n=t[i],s=e.entities[n];if(s){let a=r[i],l=o[i];for(let c of s.cut.tabs??[])c.center.x+=a,c.center.y+=l;s.shape=$r.translate(s.shape,a,l),Bi.updateOne(e,{id:n,changes:{shape:s.shape}})}}},ZL=(e,t)=>{let o=DC(e).filter(i=>ho(i)).filter(i=>t.includes(i.shape.targetId)||t.includes(i.shape.anchorId));Bi.removeMany(e,o.map(i=>i.id))},JL=(e,t)=>{let r=[];return e.ids.forEach((o,i)=>{let n=e.entities[o];n&&n.group===t&&r.push(i)}),r},O4=(e,t,r)=>{let o=Fp(t),i=e.ids.filter(n=>!o[n.toString()]);for(let n=0;n<t.length;n++){let s=r[n],a=t[n];i.splice(s,0,a)}e.ids=i,BK(e)},FK=(e,t,r)=>{let o=yl(e,t);if(o.length>0){if(r==null){let n=Tt();r={volumeIdToGroupId:Object.fromEntries(o.map(a=>[a,n])),groups:{[n]:{rotation:0}}}}e.groups=le(r.groups,e.groups);let i=o.map(n=>e.entities[n]);for(let n of i)if(n){let s=r.volumeIdToGroupId[n.id],a=JL(e,s);if(a.length>0){let l=e.ids.indexOf(n.id),[c,u]=sL(a),p=Math.abs(l-c)<Math.abs(l-u)?c-1:u+1,m=Math.max(0,Math.min(p,e.ids.length-1));O4(e,[n.id],[m])}n.group=s,Bi.updateOne(e,{id:n.id,changes:{group:s}})}B4(e)}},WK=(e,t,r,o)=>{let i=e.volumeState;Bi.removeMany(i,t),Qy(e,r,o),B4(i),KL(e,r.map(n=>n.id)),ZL(i,t)},KL=(e,t)=>{e.editorState.volumeSelected=Fp(t)},Fp=e=>{let t={};for(let r of e)t[r]=!0;return t},L4=(e,t)=>new Array(t).fill(e).map((r,o)=>r+o),yl=(e,t)=>{let r=Fp(t);return DC(e).filter(i=>r[i.id]&&(!("anchored"in i.shape)||!i.shape.anchored)).map(i=>i.id)},B4=function(e){for(let t of Object.keys(e.groups))VK(e,[t]).length===0&&delete e.groups[t]},VK=(e,t)=>{let r=Fp(t);return DC(e).filter(i=>i.group&&r[i.group])},pMe=(e,t)=>{let r=t.map(n=>e.entities[n]).filter(n=>n!=null),o=e.groups;return[...new Set(r.map(n=>n.group).filter(n=>n!=null))].map(n=>o[n])},dMe=(e,t)=>{let{shape:r}=e;if(!SC(r))return{x:t.x,y:t.y};let o=r.center?r.center.x:0,i=r.center?r.center.y:0,n=t.x-o,s=t.y-i,a=Math.cos(r.rotation),l=Math.sin(r.rotation),c=n*a-s*l,u=n*l+s*a;return{x:c+o,y:u+i}},mMe=(e,t)=>{let{shape:r}=e;if(!SC(r))return{x:t.x,y:t.y};let o=r.center?r.center.x:0,i=r.center?r.center.y:0,n=t.x-o,s=t.y-i,a=Math.cos(-r.rotation),l=Math.sin(-r.rotation),c=n*a-s*l,u=n*l+s*a;return{x:c+o,y:u+i}},UK=(e,t,r)=>{e.cut.tabs=void 0,d5(e,t,r)},d5=(e,t,r)=>{e.cut.tabPreference&&e.cut.type==="outline"&&e.cut.depth===t&&(e.cut.tabHeight||(e.cut.tabHeight=.08),e.cut.tabLength||(e.cut.tabLength=.25),e.cut.tabCount||(e.cut.tabCount=4),e.cut.tabs=kC(e,r))},Xd=e=>{let t=e.bitState;return t.bitParams.useOutlineBit?t.bitParams.outlineBit:t.bitParams.useDetailBit?t.bitParams.detailBit:t.bitParams.bit};var RK=(e,t)=>{t.cutStyle?e.cutStyle=t.cutStyle:t.material&&e.cutStyle&&(e.cutStyle.depth=t.material.z),t.transform&&(e.transform=t.transform),t.tabsInfo&&(e.tabsInfo=t.tabsInfo),t.finish&&(e.finish=t.finish)},fMe={reducer:(e,t)=>{let{workpieceId:r,mesh:o}=t.payload,i=e.byWorkpieceId[r];i.threeDPrototypeState.mesh=o,i.materialState.xyZeroLocation="front-left"},prepare:(e,t)=>({payload:{workpieceId:e,mesh:t}})},hMe={reducer:(e,t)=>{let{workpieceId:r,grid:o}=t.payload;e.byWorkpieceId[r].threeDPrototypeState.guesstimateGrid=o},prepare:(e,t)=>({payload:{workpieceId:e,grid:t}})},gMe={reducer(e,t){let{workpieceId:r,tabsInfo:o}=t.payload;e.byWorkpieceId[r].threeDPrototypeState.tabsInfo=o},prepare:(e,t)=>({payload:{workpieceId:e,tabsInfo:t}})},yMe={reducer(e,t){let r=t.payload;e.byWorkpieceId[e.activeWorkpieceId].threeDPrototypeState.cutStyle=r},prepare(e){return{payload:{...e,undoDescription:"Change Cut Style"}}}},xMe={reducer(e,t){e.byWorkpieceId[e.activeWorkpieceId].threeDPrototypeState.transform=t.payload},prepare(e){return{payload:{...e,undoDescription:"Transform Model"}}}},bMe={reducer(e,{payload:t}){let r=e.byWorkpieceId[e.activeWorkpieceId].threeDPrototypeState.finish;t.displayName==="Natural"?e.byWorkpieceId[e.activeWorkpieceId].threeDPrototypeState.finish={color:null,displayName:"Natural",sheen:t.sheen??r.sheen}:e.byWorkpieceId[e.activeWorkpieceId].threeDPrototypeState.finish={color:t.color??r.color,displayName:t.displayName??r.displayName,sheen:t.sheen??r.sheen}},prepare(e){return{payload:{...e,undoDescription:"Set Finish"}}}},vMe=(e,t)=>{e.byWorkpieceId[e.activeWorkpieceId].threeDPrototypeState.meshSaveStatus=t.payload},SMe=(e,t)=>{e.byWorkpieceId[e.activeWorkpieceId].threeDPrototypeState.optimizedToastVisible=t.payload},CMe=(e,t)=>{e.byWorkpieceId[e.activeWorkpieceId].threeDPrototypeState.preview=t.payload},PMe={reducer:(e,t)=>{let{pathIndex:r,tabIndex:o,tab:i}=t.payload,n=vO(e.byWorkpieceId[e.activeWorkpieceId].threeDPrototypeState.tabsInfo,["paths",r,"props","tabs",o],i);e.byWorkpieceId[e.activeWorkpieceId].threeDPrototypeState.tabsInfo=n},prepare:(e,t,r)=>({payload:{pathIndex:e,tabIndex:t,tab:r,undoDescription:"Move Tab"}})},jK={setThreeDMesh:fMe,setThreeDGuesstimateGrid:hMe,setThreeDTabsInfo:gMe,setThreeDCutStyle:yMe,setThreeDTransform:xMe,setThreeDFinish:bMe,setThreeDMeshSaveStatus:vMe,setThreeDOptimizedToastVisible:SMe,setThreeDPreview:CMe,updateThreeDTabsInfo:PMe};var e3=()=>({meshSaveStatus:"success",optimizedToastVisible:!1,guesstimateGrid:[],material:{x:12,y:12,z:2,safez:.2},transform:{orientation:"Top",position:{x:1,y:1,z:0},size:{x:10,y:10,z:2},rotation:{z:0}},cutStyle:{depth:2,relief:"None",padding:{left:1,right:1,back:1,front:1},offset:0,useTabs:!0},roughing:{},finishing:{rasterAngle:0},finish:{color:null,displayName:"Natural",sheen:"matte"},version:1});function GK(){return{stepOver:.4,vBitDetailStepOver:.01,profileStepOver:.2,ballnoseStepOver:.12,safetyHeight:.15,bit:{fillAngle:null,millingDirection:null,feedRate:null,plungeRate:null,depthPerPass:null,useCustom:null,spindleSpeed:null},detailBit:{fillAngle:null,millingDirection:null,feedRate:null,plungeRate:null,depthPerPass:null,useCustom:null,spindleSpeed:null},outlineBit:{fillAngle:null,millingDirection:null,feedRate:null,plungeRate:null,depthPerPass:null,useCustom:null,spindleSpeed:null}}}var HK=(e,t)=>{for(let r of EMe)F4(e,r,t[r]);(t.safetyHeight??0)>0&&(e.safetyHeight=t.safetyHeight);for(let r of["bit","detailBit","outlineBit"])if(t[r]){e[r].fillAngle=t[r].fillAngle,e[r].millingDirection=t[r].millingDirection,e[r].rampingAngle=t[r].rampingAngle;for(let o of["feedRate","plungeRate","depthPerPass","spindleSpeed"])(t[r][o]??0)<=0||(e[r][o]=t[r][o]);e[r].useCustom=t[r].useCustom}},wMe={reducer:(e,{payload:{stepOver:t}})=>{F4(e.byWorkpieceId[e.activeWorkpieceId].jobSettingsState,"stepOver",t)},prepare:e=>({payload:{stepOver:e,undoDescription:"Set Step Over"}})},_Me={reducer:(e,{payload:{stepOver:t}})=>{F4(e.byWorkpieceId[e.activeWorkpieceId].jobSettingsState,"vBitDetailStepOver",t)},prepare:e=>({payload:{stepOver:e,undoDescription:"Set V-Bit Detail Step Over"}})},kMe={reducer:(e,{payload:{stepOver:t}})=>{F4(e.byWorkpieceId[e.activeWorkpieceId].jobSettingsState,"profileStepOver",t)},prepare:e=>({payload:{stepOver:e,undoDescription:"Set Profile Step Over"}})},TMe={reducer:(e,{payload:{stepOver:t}})=>{F4(e.byWorkpieceId[e.activeWorkpieceId].jobSettingsState,"ballnoseStepOver",t)},prepare:e=>({payload:{stepOver:e,undoDescription:"Set Ballnose Step Over"}})},EMe=["stepOver","vBitDetailStepOver","profileStepOver","ballnoseStepOver"],F4=(e,t,r)=>{r==null||r<=0||r>1||(e[t]=r)},MMe={reducer:(e,{payload:{height:t}})=>{0<t&&(e.byWorkpieceId[e.activeWorkpieceId].jobSettingsState.safetyHeight=t)},prepare:e=>({payload:{height:e,undoDescription:"Set Safety Height"}})},AMe={reducer:(e,{payload:t})=>{let{bitKey:r,value:o}=t;e.byWorkpieceId[e.activeWorkpieceId].jobSettingsState[r].fillAngle=o},prepare:(e,t)=>({payload:{bitKey:e,value:t,undoDescription:"Set Fill Angle"}})},IMe={reducer:(e,{payload:t})=>{let{bitKey:r,value:o}=t;e.byWorkpieceId[e.activeWorkpieceId].jobSettingsState[r].millingDirection=o},prepare:(e,t)=>({payload:{bitKey:e,value:t,undoDescription:"Set Milling Direction"}})},DMe={reducer:(e,{payload:t})=>{let{bitKey:r,value:o}=t;e.byWorkpieceId[e.activeWorkpieceId].jobSettingsState[r].rampingAngle=o},prepare:(e,t)=>({payload:{bitKey:e,value:t,undoDescription:"Set Ramping Angle"}})},NMe={reducer:(e,{payload:t})=>{let{bitKey:r,value:o}=t;o!=null&&o<=0||(e.byWorkpieceId[e.activeWorkpieceId].jobSettingsState[r].feedRate=o)},prepare:(e,t)=>({payload:{bitKey:e,value:t,undoDescription:"Set Feed Rate"}})},OMe={reducer:(e,{payload:t})=>{let{bitKey:r,value:o}=t;o!=null&&o<=0||(e.byWorkpieceId[e.activeWorkpieceId].jobSettingsState[r].plungeRate=o)},prepare:(e,t)=>({payload:{bitKey:e,value:t,undoDescription:"Set Plunge Rate"}})},LMe={reducer:(e,{payload:t})=>{let{bitKey:r,value:o}=t;o!=null&&o<=0||(e.byWorkpieceId[e.activeWorkpieceId].jobSettingsState[r].depthPerPass=o)},prepare:(e,t)=>({payload:{bitKey:e,value:t,undoDescription:"Set Depth Per Pass"}})},BMe={reducer:(e,{payload:t})=>{let{bitKey:r,value:o}=t;o!=null&&o<=0||(e.byWorkpieceId[e.activeWorkpieceId].jobSettingsState[r].spindleSpeed=o)},prepare:(e,t)=>({payload:{bitKey:e,value:t,undoDescription:"Set Spindle Speed"}})},FMe={reducer:(e,{payload:t})=>{let{bitKey:r,useCustom:o}=t;e.byWorkpieceId[e.activeWorkpieceId].jobSettingsState[r].useCustom=o},prepare:(e,t)=>({payload:{bitKey:e,useCustom:t,undoDescription:"Set Use Custom Settings"}})},zK={setStepOver:wMe,setVBitDetailStepOver:_Me,setProfileStepOver:kMe,setBallnoseStepOver:TMe,setSafetyHeight:MMe,setFillAngle:AMe,setMillingDirection:IMe,setRampingAngle:DMe,setFeedRate:NMe,setPlungeRate:OMe,setDepthPerPass:LMe,setSpindleSpeed:BMe,setUseCustomJobSettings:FMe};var WMe={easelProFreeDaysPerMonth:4,saveVersionMismatchError:"version_mismatch",workpieceSaveVersionMismatchError:"workpiece_version_mismatch",defaultMaterialName:"Birch Plywood"},Cf=WMe;var t3={MIN_TILE_SIZE:2,maxTileSize:e=>e.reduce((t,r)=>t+r,0)-(e.length-1)*t3.MIN_TILE_SIZE,rebalanceArray:(e,t,r)=>{let o=t3.MIN_TILE_SIZE,i=t3.maxTileSize(e),n=e.slice(0),s=n[t];n[t]=r;let a=s-r,l=[],c={};for(l.push(t);a!==0&&l.length>0;){let u=l.shift();c[u]=!0;let p;if(u!==t)if(a<0)p=Math.min(n[u]-o,Math.abs(a)),n[u]-=p,a+=p;else if(a>0)p=Math.min(i-n[u],Math.abs(a)),n[u]+=p,a-=p;else break;u<e.length-1&&!c[u+1]&&l.push(u+1),u>0&&!c[u-1]&&l.push(u-1)}return a!==0&&console.error("tilingCalculator.rebalanceTileSizes could not consolidate delta"),n},roundedTileSizeY:(e,t)=>{let r;switch(e){case"in":r=Math.floor(t);break;case"mm":r=Math.floor(Ve.convertFromIn(t,e)/20)*20,r=Ve.convertToUnit(r,e,"in");break;default:r=t}return r>0?r:t},defaultTileSizes:(e,t,r,o,i)=>{if(i==null){let c=Math.max(e.y-t,t3.MIN_TILE_SIZE);i=1+Math.ceil((r.y-e.y)/c)}if(i<=1)return[];let n=r.y+t*(i-1),s=t3.roundedTileSizeY(o,n/i),a=n-s*(i-1);return new Array(i-1).fill(s).concat(a)},numTileOptions:(e,t,r)=>{let o=Math.ceil(r/(6-e)),i=Math.max(2,Math.ceil(r/(t.y-e))),n=[];for(let s=i;s<=o;s++)n.push(s);return n}},ma=t3;var XK=()=>({tileOverlap:!0}),Pf=(e,t)=>e?t==="in"?1:Ve.convertToUnit(20,"mm","in"):0,Yd=(e,t,r,o)=>{if(!t||r>=t.length||r<0)return null;let i=0;o&&(i=1);let n=0;for(let l=0;l<r;l++)n+=t[l]-i;let s=t[r],a=[{x:0,y:n},{x:e,y:n},{x:e,y:n+s},{x:0,y:n+s}];return{offset:n,overlapDistance:i,rect:a}},Wp=(e,t)=>{e.tileState.selectedTile=t,t!=null&&(e.materialState.xyZeroLocation="front-left")},YK=(e,t)=>{let{oldDimensions:r,newDimensions:o}=t,i=e.byWorkpieceId[e.activeWorkpieceId];if(!e.previousWorkArea||r.y===o.y)return;let n=o.y>e.previousWorkArea.y,s=i.tileState.selectedTile!=null;if(n&&!s){let a=Pf(i.tileState.tileOverlap,e.preferredUnit),l=ma.defaultTileSizes(e.previousWorkArea,a,o,e.preferredUnit,null);if(l.length>0){i.tileState.tileSizes=l,i.tileState.tileOverlap=!0;let c=Yd(o.x,l,0,!0);Wp(i,c)}}else if(!n&&s)i.tileState.selectedTile=null,i.tileState.tileSizes=void 0;else if(n&&s){let a=Pf(i.tileState.tileOverlap,e.preferredUnit),l=ma.defaultTileSizes(e.previousWorkArea,a,o,e.preferredUnit,null);if(l.length>0){i.tileState.tileSizes=l;let c=Yd(o.x,l,0,i.tileState.tileOverlap);Wp(i,c)}}},QL=(e,t)=>{!e.previousWorkArea||e.previousWorkArea.y===t.y||Object.values(e.byWorkpieceId).forEach(r=>{let o=r.materialState.dimensions.y,i=o>t.y,n=r.tileState.selectedTile!=null;if(i&&!n){let s=Pf(!0,e.preferredUnit),a=ma.defaultTileSizes(t,s,{x:r.materialState.dimensions.x,y:o},e.preferredUnit,null);if(a.length>0){r.tileState.tileSizes=a,r.tileState.tileOverlap=!0;let l=Yd(r.materialState.dimensions.x,a,0,!0);Wp(r,l)}}else if(!i&&n)r.tileState.selectedTile=null,r.tileState.tileSizes=void 0;else if(i&&n){let s=Pf(r.tileState.tileOverlap,e.preferredUnit),a=ma.defaultTileSizes(t,s,{x:r.materialState.dimensions.x,y:o},e.preferredUnit,null);if(a.length>0){r.tileState.tileSizes=a;let l=Yd(r.materialState.dimensions.x,a,0,r.tileState.tileOverlap);Wp(r,l)}}})},VMe={reducer(e,t){Wp(e.byWorkpieceId[e.activeWorkpieceId],t.payload.tile)},prepare(e){return{payload:{tile:e,undoDescription:"Select Tile"}}}},UMe={reducer(e,t){let r=e.byWorkpieceId[e.activeWorkpieceId],{dimensions:o}=r.materialState,{tileSizes:i,tileOverlap:n}=r.tileState;if(i){let s=Yd(o.x,i,t.payload.index,n);Wp(r,s)}},prepare(e){return{payload:{index:e,undoDescription:"Select Tile"}}}},RMe={reducer(e){if(!e.previousWorkArea||!e.preferredUnit)return;let t=e.byWorkpieceId[e.activeWorkpieceId],{dimensions:r}=t.materialState,o=Pf(t.tileState.tileOverlap,e.preferredUnit),i=ma.defaultTileSizes(e.previousWorkArea,o,r,e.preferredUnit,null);if(i.length>0){t.tileState.tileSizes=i;let n=Yd(r.x,i,0,!0);Wp(t,n)}},prepare(){return{payload:{undoDescription:"Enable Tiling"}}}},jMe={reducer(e){let t=e.byWorkpieceId[e.activeWorkpieceId];t.tileState.selectedTile=null,t.tileState.tileSizes=void 0},prepare(){return{payload:{undoDescription:"Disable Tiling"}}}},GMe={reducer(e){if(!e.previousWorkArea||!e.preferredUnit)return;let t=e.byWorkpieceId[e.activeWorkpieceId],{dimensions:r}=t.materialState,o=Pf(!0,e.preferredUnit),i=ma.defaultTileSizes(e.previousWorkArea,o,r,e.preferredUnit,null);if(i.length>0){t.tileState.tileOverlap=!0,t.tileState.tileSizes=i;let n=Yd(r.x,i,0,!0);Wp(t,n)}},prepare(){return{payload:{undoDescription:"Enable Tiling Overlaps"}}}},HMe={reducer(e){if(!e.previousWorkArea||!e.preferredUnit)return;let t=e.byWorkpieceId[e.activeWorkpieceId],{dimensions:r}=t.materialState,o=Pf(!1,e.preferredUnit),i=ma.defaultTileSizes(e.previousWorkArea,o,r,e.preferredUnit,null);if(i.length>0){t.tileState.tileOverlap=!1,t.tileState.tileSizes=i;let n=Yd(r.x,i,0,!1);Wp(t,n)}},prepare(){return{payload:{undoDescription:"Disable Tiling Overlaps"}}}},zMe={reducer(e,t){if(!e.previousWorkArea||!e.preferredUnit)return;let r=e.byWorkpieceId[e.activeWorkpieceId],{dimensions:o}=r.materialState,i=Pf(!0,e.preferredUnit),n=ma.defaultTileSizes(e.previousWorkArea,i,o,e.preferredUnit,t.payload.count);if(n.length>0){r.tileState.tileSizes=n;let s=Yd(o.x,n,0,r.tileState.tileOverlap);Wp(r,s)}},prepare(e){return{payload:{count:e,undoDescription:"Set Tile Count"}}}},XMe={reducer(e,t){let r=e.byWorkpieceId[e.activeWorkpieceId];if(r.tileState.tileSizes=t.payload.sizes,r.tileState.selectedTile&&t.payload.sizes.length>0){let o=r.tileState.selectedTile.offset,i=0,n=0,s=Pf(r.tileState.tileOverlap,e.preferredUnit);for(let l=0;l<t.payload.sizes.length;l++){if(n>=o){i=l;break}n+=t.payload.sizes[l]-s,i=l+1}let a=Yd(r.materialState.dimensions.x,t.payload.sizes,Math.min(i,t.payload.sizes.length-1),r.tileState.tileOverlap);Wp(r,a)}},prepare(e){return{payload:{sizes:e,undoDescription:"Set Tile Sizes"}}}},qK={setSelectedTile:VMe,setSelectedTileByIndex:UMe,enableTiling:RMe,disableTiling:jMe,enableTilingOverlaps:GMe,disableTilingOverlaps:HMe,setTileCount:zMe,setTileSizes:XMe};var OC=()=>({active:{name:Cf.defaultMaterialName,displayName:Cf.defaultMaterialName,category:"Wood"},dimensions:{x:12,y:8,z:me.DEFAULT_MATERIAL_THICKNESS},layerDepths:{},xyZeroLocation:"front-left"}),$K=(e,t,r,o)=>{let i=r.find(c=>c.id==t.id)??r.find(c=>c.name===t.name);if(i){let{id:c,...u}=i;t.id==null?t=le(t,i):t=le(t,u)}let{dimensions:n,xyZeroLocation:s,...a}=t,l=fn(a);if(l.displayName||(l.displayName=l.name),l.color&&i?.variations?.length){let c=i?.variations.find(u=>u.name===t.color?.name);c?l.color=fn(c):(l.color=fn(i?.variations.find(u=>u.default)),l.color.name="Custom",l.color.layers.forEach((u,p)=>u.rgb=t.color.layers[p].rgb)),LC(o,l.name,l.color)}e.active=l,e.layerDepths=o??{},e.dimensions=n,s&&(e.xyZeroLocation=s)},YMe={reducer(e,t){let r=fn(t.payload.material),{id:o,name:i}=r,n=e.byWorkpieceId[e.activeWorkpieceId].materialState;if(o!=null&&n.active?.id===o||o==null&&n.active?.name===i)return e;r.color=(r.variations??[]).find(s=>s.default),r.color&&LC(n.layerDepths,r.name,r.color),n.active=r},prepare(e){return{payload:{material:e,undoDescription:"Set Material"}}}},qMe={reducer(e,t){let r=t.payload,{layerDepths:o,active:i}=e.byWorkpieceId[e.activeWorkpieceId].materialState,n=le(r);LC(o,i.name,n),e.byWorkpieceId[e.activeWorkpieceId].materialState.active.color=n},prepare(e){return{payload:{...e,undoDescription:"Set Color"}}}},$Me={reducer(e){let{active:t,layerDepths:r}=e.byWorkpieceId[e.activeWorkpieceId].materialState,o=le((t.variations||[]).find(i=>i.default));o.name="Custom",LC(r,t.name,o),e.byWorkpieceId[e.activeWorkpieceId].materialState.active.color=o},prepare(){return{payload:{undoDescription:"Set Color"}}}},ZMe={reducer(e,t){let{layerIndex:r,color:o}=t.payload,i=e.byWorkpieceId[e.activeWorkpieceId].materialState;i.active.color=i.active.color||{};let n=le(i.active.color?.layers);n[r].rgb=o,n.length===3&&r===0&&(n[2].rgb=o),i.active.color.layers=n},prepare(e){return{payload:{...e,undoDescription:"Set Color"}}}},JMe={reducer(e,t){let{layerDepths:r}=t.payload,o=e.byWorkpieceId[e.activeWorkpieceId].materialState;o.active.color=o.active.color||{},(o.active.color.layers||[]).forEach((i,n)=>i.bottomZ=r[n]),o.layerDepths[o.active.name]=r},prepare(e){return{payload:{layerDepths:e,undoDescription:"Set Layer Depth"}}}},KMe={reducer(e,t){let r=e.byWorkpieceId[e.activeWorkpieceId].materialState,o=r.dimensions,i={...o,...t.payload.dimensions};r.dimensions=i,o.z!==i.z&&OK(e,{oldDepth:o.z,newDepth:i.z}),(o.x!==i.x||o.y!==i.y)&&YK(e,{oldDimensions:{x:o.x,y:o.y},newDimensions:{x:i.x,y:i.y}})},prepare(e){return{payload:{...e,undoDescription:"Change Material Dimension"}}}},QMe={reducer(e,t){let{location:r}=t.payload,o=e.byWorkpieceId[e.activeWorkpieceId].materialState;o.xyZeroLocation=r},prepare(e){return{payload:{location:e,undoDescription:"Set XY Zero Location"}}}},ZK={selectMaterial:YMe,setColorVariation:qMe,setColorToCustom:$Me,setLayerColor:ZMe,setLayerDepths:JMe,setMaterialDimensions:KMe,setXYZeroLocation:QMe},LC=(e,t,r)=>{let o=e?.[t];o&&(r.layers||[]).forEach((i,n)=>i.bottomZ=o[n])};function eB(e){let{useDetailBit:t,useOutlineBit:r}=e??{};return{passType:t?"roughing":r?"pocket":"all",useDetailBit:t??!1,useOutlineBit:r??!1}}var JK=(e,t)=>{let{bitParams:r,three_d_prototype:o}=t;e.useDetailBit=r?.useDetailBit??!1,e.useOutlineBit=r?.useOutlineBit??!1,e.useDetailBit||o?e.passType="roughing":e.useOutlineBit&&(e.passType="pocket")},eAe=(e,t)=>{let r=e.byWorkpieceId[e.activeWorkpieceId];r.walkthroughState.passType=t.payload},KK=e=>{let t=e.byWorkpieceId[e.activeWorkpieceId];t.walkthroughState.useDetailBit=!0,t.walkthroughState.passType="roughing"},QK=e=>{let t=e.byWorkpieceId[e.activeWorkpieceId];t.walkthroughState.useDetailBit=!1,t.walkthroughState.passType=t.walkthroughState.useOutlineBit?"pocket":"all"},eQ=e=>{let t=e.byWorkpieceId[e.activeWorkpieceId];t.walkthroughState.useOutlineBit=!0,t.walkthroughState.passType=t.walkthroughState.useDetailBit?"roughing":"pocket"},tQ=e=>{let t=e.byWorkpieceId[e.activeWorkpieceId];t.walkthroughState.useOutlineBit=!1,t.walkthroughState.passType=t.walkthroughState.useDetailBit?"roughing":"all"},rQ={setPassType:eAe};var FC=()=>({bitParams:{bit:uK}}),tAe=function(e,t,r){let o=fn(t),i=fn(e),n=(oQ(e)||0)>=(oQ(t)||0),s=o.type===qe.v,a=o.type===qe.ballnose;return!a&&!n&&!s&&r&&(r.showBitSizeError=!0),i.type!==qe.v&&(s||a||n)},tB=function(e,t){let{bit:r,detailBit:o,useDetailBit:i,outlineBit:n}=e,s=r&&r.width>0,a=o?o.width>0:!0,l=n?n.width>0:!0,c=i?o&&tAe(r,o,t):!0;return s&&a&&l&&c},BC=e=>{e.id=rAe(e.type)},rAe=e=>e===qe.v?"other-v-bit":[qe.ballnose,"other-ballnose"].includes(e)?"other-ballnose-bit":"other-bit",e2=function(e,t){let{bitState:r}=e.byWorkpieceId[e.activeWorkpieceId];iQ(r,t)},iQ=function(e,t){let{bitParams:r}=e,o={...r,...t},i=tB(o,e),n=o.useDetailBit&&!r.useDetailBit,s=o.useOutlineBit&&!r.useOutlineBit;!i&&n&&(o.detailBit={...r.bit},i=tB(o,e)),s&&!o.outlineBit&&(o.outlineBit={...r.bit},i=tB(o,e)),i&&(e.bitParams=o)},nQ=(e,t,r)=>{t=fn(t);for(let o of["bit","detailBit","outlineBit"]){if(!t[o])continue;let i=r.find(n=>n.id===t[o].id);i?t[o]=i:BC(t[o])}iQ(e,t)},oAe={reducer(e,{payload:t}){e2(e,t.params)},prepare(e){return{payload:{params:e,undoDescription:"Change Bit"}}}},iAe={reducer(e){let{bit:t}=e.byWorkpieceId[e.activeWorkpieceId].bitState.bitParams;e2(e,{bit:t,useDetailBit:!0}),KK(e)},prepare(){return{payload:{undoDescription:"Use Detail Bit"}}}},nAe={reducer(e){e.byWorkpieceId[e.activeWorkpieceId].bitState.bitParams.useDetailBit=!1,QK(e)},prepare(){return{payload:{undoDescription:"Do Not Use Detail Bit"}}}},sAe={reducer(e){let{bit:t}=e.byWorkpieceId[e.activeWorkpieceId].bitState.bitParams;e2(e,{bit:t,useOutlineBit:!0}),eQ(e)},prepare(){return{payload:{undoDescription:"Use Outline Bit"}}}},aAe={reducer(e){e.byWorkpieceId[e.activeWorkpieceId].bitState.bitParams.useOutlineBit=!1,tQ(e)},prepare(){return{payload:{undoDescription:"Do Not Use Outline Bit"}}}},lAe={reducer(e,{payload:t}){e2(e,{bit:t.bit})},prepare(e){return{payload:{bit:e,undoDescription:"Change Bit"}}}},cAe={reducer(e,{payload:t}){let r=e.byWorkpieceId[e.activeWorkpieceId].bitState.bitParams.bit;e2(e,{bit:r,detailBit:t.detailBit,useDetailBit:!0})},prepare(e){return{payload:{detailBit:e,undoDescription:"Change Bit"}}}},uAe={reducer(e,{payload:t}){let r=e.byWorkpieceId[e.activeWorkpieceId].bitState.bitParams.bit;e2(e,{bit:r,outlineBit:t.outlineBit,useOutlineBit:!0})},prepare(e){return{payload:{outlineBit:e,undoDescription:"Change Bit"}}}},pAe={reducer(e,{payload:t}){let r=e.byWorkpieceId[e.activeWorkpieceId],o=r.bitState.bitParams.bit;if(o.type!=="V")return;e2(e,{bit:t.roughingBit,detailBit:o,useDetailBit:!0});let i=r.jobSettingsState.bit;if(i.useCustom){let n=r.jobSettingsState.detailBit;n.feedRate=i.feedRate,n.plungeRate=i.plungeRate,n.depthPerPass=i.depthPerPass,n.useCustom=!0,i.useCustom=!1}},prepare(e){return{payload:{roughingBit:e,undoDescription:"Use V Bit as Detail Bit"}}}},dAe=e=>{e.byWorkpieceId[e.activeWorkpieceId].bitState.showBitSizeError=!1},sQ=(e,{payload:t})=>{let{bit:r,detailBit:o,outlineBit:i}=e.byWorkpieceId[e.activeWorkpieceId].bitState.bitParams;r.id===t.id&&BC(r),o?.id===t.id&&BC(o),i?.id===t.id&&BC(i)},aQ={setBitParams:oAe,setMainBit:lAe,setDetailBit:cAe,setOutlineBit:uAe,activateDetailBit:iAe,deactivateDetailBit:nAe,activateOutlineBit:sAe,deactivateOutlineBit:aAe,clearBitSizeError:dAe,promoteVBitToDetail:pAe},oQ=function(e){return rt(e).inchWidth()};var lQ=8,cQ=.0625,WC=({x:e,y:t,zoomLevel:r})=>ct().scaledBy(r,r).translatedBy(e,t),mAe=(e,t)=>{let r=WC(e);return ct().scaledBy(1,-1).translatedBy(0,t).scaledBy(me.PIXELS_PER_INCH,me.PIXELS_PER_INCH).premultipliedBy(r)},rB=(e,t)=>WC(e).inverse().transformedPoint(t),uQ=(e,t)=>WC(e).transformedPoint(t),m5=(e,t)=>1/e.zoomLevel*(t/me.PIXELS_PER_INCH),fAe=function(e,t,r,o){let i={left:-m5(t,t.x),top:e+m5(t,t.y),width:m5(t,r.width),height:m5(t,r.height)};return{x:i.left+i.width/2-o.x,y:i.top-i.height/2-o.y}},hAe=function(e,t,r,o){let i={left:-m5(t,t.x),top:e+m5(t,t.y),width:m5(t,r.width),height:m5(t,r.height)};return o.x<i.left||o.x>i.left+i.width||o.y<i.top-i.height||o.y>i.top},pQ=function(e){return e<cQ?e=cQ:e>lQ&&(e=lQ),e},dQ=function(e,t,r){let o=rB(e,r);e={...e,zoomLevel:t};let i=uQ(e,o),n=e.x+r.x-i.x,s=e.y+r.y-i.y;return{...e,x:n,y:s}},gAe=function(e,t,r,o,i){if(i==null&&(i={x:60,y:60}),t.width===0||t.height===0)return e;let n=me.PIXELS_PER_INCH,s=r.y*n,a=1,l=n*Math.max(o.right-o.left,a),c=n*Math.max(o.top-o.bottom,a),u=n*(o.left+o.right)/2-l/2,p=n*(o.top+o.bottom)/2+c/2;e={...e,zoomLevel:1,x:(t.width-l)/2-u,y:(t.height-c)/2-(s-p)};let m=(t.width-2*i.x)/l,h=(t.height-2*i.y)/c,f=pQ(Math.min(m,h));return dQ(e,f,{x:t.width/2,y:t.height/2})},yAe=(e,t)=>rB(t,{x:e.width/2,y:e.height/2}),xAe={zoomStateToLevelAtPoint:dQ,zoomStateToRect:gAe,viewToFabricCoordinates:rB,fabricToViewCoordinates:uQ,pointIsNotInView:hAe,getOffsetToCenter:fAe,calculateConstrainedZoomLevel:pQ,getViewportMatrix:WC,workToViewMatrix:mAe,getCenter:yAe},Si=xAe;var bAe=function(e){let{id:t,name:r,category:o,dimensions:i}=e,{color:n}=e;return n!=null&&(n={name:n.name,layers:n.layers.map(s=>({rgb:s.rgb}))}),{id:t,name:r,category:o,dimensions:i,color:n}},vAe=e=>({name:e.name,storeUrl:e.store_url,thumbnailName:e.thumbnail_name,layers:e.layers,default:e.default}),SAe=function(e){let t;return e.variations&&e.variations.length&&(t=e.variations.map(r=>vAe(r))),{id:e.id,category:e.category,name:e.name,displayName:e.display_name||e.name,sortName:e.sort_name,imageUrl:e.image_url,storeId:e.store_id,storeUrl:e.store_url,textureUrl:e.texture_url,baseTextureUrl:e.base_texture_url,thumbnailUrl:e.thumbnail_url,colors:e.colors,layerNames:e.layer_names,global:e.global,variations:t||null,source:e.source,widthX:e.width_x,lengthY:e.length_y,thicknessZ:e.thickness_z}},CAe=(e,t)=>{let r={x:t===me.XY_ZERO_CENTER?-e.x/2:0,y:t===me.XY_ZERO_CENTER?-e.y/2:0};return{minX:r.x,minY:r.y,maxX:r.x+e.x,maxY:r.y+e.y}},PAe=e=>e*me.ENDMILL_PLACED_SHAPE_DEPTH,mQ=[{name:"Wood",imageSrc:EASEL_ASSETS.textures.birch},{name:"Metal",imageSrc:EASEL_ASSETS.textures.aluminum},{name:"Plastic",imageSrc:EASEL_ASSETS.textures.pvc}],wAe=mQ.map(e=>e.name),_Ae=function(e){for(let t of mQ)if(t.name===e)return t.imageSrc},kAe=e=>e.find(t=>t.name=="Birch Plywood"),TAe=e=>({global:"Inventables",inventables:"Inventables",user_added_custom:"Custom"})[e],EAe={materialCategoryNames:wAe,imageForMaterialCategory:_Ae,projectMaterialAttributes:bAe,toCamelCase:SAe,materialBoundary:CAe,defaultShapePlacementDepth:PAe,defaultMaterial:kAe,decodeMaterialSource:TAe},ot=EAe;var fQ=1.25,VC=()=>({x:0,y:0,zoomLevel:1}),hQ=(e,t,r)=>{bQ(e,t,r)},gQ=function(e,t,r,o,i,n,s){let{width:a,height:l}=o,c=me.PIXELS_PER_INCH*e,u={x:Math.max(i.x,s.x),y:Math.max(i.y,s.y)},p={x:0,y:0};n===me.XY_ZERO_CENTER&&(p={x:-i.x/2,y:-i.y/2});let m=Xt.clamp(t,a/2-u.x*c-p.x*c,a/2-p.x*c),h=Xt.clamp(r,l/2-s.y*c+p.y*c,l/2+(u.y-s.y)*c+p.y*c);return{x:m,y:h,zoomLevel:e}},yQ=(e,t,r)=>{let o=e.byWorkpieceId[e.activeWorkpieceId].viewportState,i=Si.calculateConstrainedZoomLevel(o.zoomLevel*t);return Si.zoomStateToLevelAtPoint(o,i,r)},MAe=(e,t,r,o)=>Si.zoomStateToRect(e.viewportState,t,o,r),xQ=(e,t)=>yQ(e,t,{x:e.editorSize.width/2,y:e.editorSize.height/2}),AAe=function(e,t,r,o,i,n){let s=e.byWorkpieceId[e.activeWorkpieceId].viewportState;return gQ(s.zoomLevel,s.x-t,s.y-r,e.editorSize,o,i,n)},oB=(e,t)=>{if(e.previousWorkArea){let r=e.previousWorkArea.y-t.y;r!==0&&Object.values(e.byWorkpieceId).forEach(o=>{let i=r*me.PIXELS_PER_INCH*o.viewportState.zoomLevel;o.viewportState.y+=i})}},bQ=(e,t,r)=>{let{xyZeroLocation:o,dimensions:i}=e.materialState,n=ot.materialBoundary(i,o),s={left:n.minX,bottom:n.minY,right:n.maxX,top:n.maxY};e.viewportState=MAe(e,t,s,r)},IAe=(e,t)=>{let{point:r,zoomMultiplier:o}=t.payload;e.byWorkpieceId[e.activeWorkpieceId].viewportState=yQ(e,o,r)},DAe=e=>{e.byWorkpieceId[e.activeWorkpieceId].viewportState=xQ(e,fQ)},NAe=e=>{e.byWorkpieceId[e.activeWorkpieceId].viewportState=xQ(e,1/fQ)},OAe=(e,t)=>{let{deltaX:r,deltaY:o,materialDimensions:i,xyZeroLocation:n,workArea:s}=t.payload;e.byWorkpieceId[e.activeWorkpieceId].viewportState=AAe(e,r,o,i,n,s)},LAe=(e,t)=>{let{x:r,y:o,materialDimensions:i,xyZeroLocation:n,workArea:s}=t.payload,a=e.byWorkpieceId[e.activeWorkpieceId],{zoomLevel:l}=a.viewportState,{width:c,height:u}=e.editorSize;a.viewportState=gQ(l,c/2-l*r,u/2-l*o,e.editorSize,i,n,s)},BAe=(e,t)=>{e.workpiecesVisible=t.payload},FAe=(e,t)=>{e.editorFraction=t.payload,e.editorSize.width=e.windowSize.width*t.payload},WAe=(e,t)=>{e.windowSize=t.payload},VAe=(e,t)=>{e.editorSize=t.payload},vQ={homeViewport:(e,{payload:t})=>{let r=e.byWorkpieceId[e.activeWorkpieceId];bQ(r,e.editorSize,t.workArea)},zoomAtPoint:IAe,zoomIn:DAe,zoomOut:NAe,panViewport:OAe,panViewportTo:LAe,setWorkpiecesVisible:BAe,setEditorFraction:FAe,setWindowSize:WAe,setEditorSize:VAe};var UAe=(e,{payload:t})=>{let r=e.byWorkpieceId[t];r&&(r.saveState.isSaved=!0,r.saveState.isUnsaved=!1,r.saveState.isSaving=!1,r.saveState.error=null,r.saveState.savedOffline=!1)},RAe=(e,{payload:t})=>{let r=e.byWorkpieceId[t];r&&(r.saveState.isUnsaved=!1,r.saveState.isSaving=!1,r.saveState.savedOffline=!0)},jAe=(e,{payload:t})=>{let r=e.byWorkpieceId[t];r&&(r.saveState.isSaved=!1,r.saveState.isUnsaved=!0,r.saveState.isSaving=!1,r.saveState.error=null)},GAe=(e,{payload:t})=>{let r=e.byWorkpieceId[t];r&&(r.saveState.isSaved=!1,r.saveState.isUnsaved=!0,r.saveState.isSaving=!0)},HAe=(e,{payload:t})=>{let r=e.byWorkpieceId[t.workpieceId];r&&(r.saveState.isSaved=!1,r.saveState.isUnsaved=!0,r.saveState.isSaving=!1,typeof t.error!="string"?r.saveState.error="Unknown saving error":r.saveState.error=t.error)},SQ=()=>({isSaved:!1,isUnsaved:!1,isSaving:!1,error:null,savedOffline:!1}),CQ={setSaved:UAe,setSavedOffline:RAe,setUnsaved:jAe,setUnsavedWithSaveInProgress:GAe,setUnsavedWithError:HAe};var nB={},iB=new RegExp(/\d*\.\d+|\d+\.?/),PQ=new RegExp(`([-+]?)*(?:(?:(${iB.source})\\s*\\/\\s*(${iB.source}))|(${iB.source}))\\s*(in|inch|inches|"|mm)?`),zAe=function(e,t){let r=e.match(PQ);if(r!=null){let o,[i,n,s,a,l,c]=r;if(l!=null?o=parseFloat(l):s!=null&&a!=null&&(s=parseFloat(s),a=parseFloat(a),a>0&&(o=s/a)),c!=null?c=Ve.normalizeUnitName(c):c=t,o!=null)return n==="-"&&(o=-o),o/Ve.unitsPerInch(c)}},XAe=function(e){let t=e.match(PQ);if(t!=null){let[r,o,i,n,s,a]=t,l=s!=null?parseFloat(s):parseFloat(i)/parseFloat(n);return o==="-"&&(l=-l),{value:l,unit:a}}else return{}};nB.parseInputToInches=zAe;nB.parseInput=XAe;var YAe=nB,f5=YAe;var qAe={Acrylic:{depthPerPass:"0.02",cutFeed:"25"},Aluminum:{depthPerPass:"0.003",cutFeed:"5"},Bamboo:{depthPerPass:"0.028",cutFeed:"30"},Birch:{depthPerPass:"0.028",cutFeed:"30"},Bubinga:{depthPerPass:"0.045",cutFeed:"28"},Copper:{depthPerPass:"0.015",cutFeed:"10"},HDPE:{depthPerPass:"0.04",cutFeed:"15"},Linoleum:{depthPerPass:"0.05",cutFeed:"30"},Maple:{depthPerPass:"0.028",cutFeed:"28"},MDF:{depthPerPass:"0.0625",cutFeed:"40"},PVC:{depthPerPass:"0.05",cutFeed:"30"},Walnut:{depthPerPass:"0.04",cutFeed:"32"}},wQ=qAe;var $Ae=e=>["M",e.x,e.y],ZAe=function(e,t,r,o){return t==null&&(t={x:0,y:0}),r==null&&(r={x:0,y:0}),["C",e.x+t.x,e.y+t.y,o.x+r.x,o.y+r.y,o.x,o.y]},_Q=function(e){let t=[];for(let r of e){let o=null;for(let i of r)o!=null?t.push(ZAe(o,o.rh,i.lh,i)):t.push($Ae(i)),o=i}return t},JAe=e=>_Q(e).map(t=>t.join(" ")).join(" "),KAe={components:_Q,string:JAe},ns=KAe;var QAe=function(e){let t={black:0,white:1},r,o,i;if(e==null)return 0;if(e=e.toLowerCase(),t[e])return t[e];let n=e.match(/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/),s=e.match(/^#([a-f\d])([a-f\d])([a-f\d])$/),a=e.match(/^rgb\(\s*([\d]+)%\s*,\s*([\d]+)%\s*,\s*([\d]+)%\s*\)$/),l=e.match(/^rgb\(\s*([\d]+)\s*,\s*([\d]+)\s*,\s*([\d]+)\s*\)$/);if(n)o=n,r=16,i=.00392156862745098;else if(s)o=s,r=16,i=.06666666666666667;else if(a)o=a,r=10,i=.01;else if(l)o=l,r=10,i=.00392156862745098;else return 0;return parseInt(o[1],r)*i},kQ=QAe;var wf=e=>{let t=e.workpieces.activeWorkpieceId;return t===wo?IC():e.workpieces.byWorkpieceId[t].editorState},eIe=(e,t)=>{let r=wf(e);return t!=null?r.volumeSelected[t]===!0:Object.keys(r.volumeSelected).length>0},tIe=e=>wf(e).volumeSelected,rIe=_e([tIe],e=>Object.keys(e)),oIe=e=>wf(e).multipleVolumeRotation,iIe=e=>wf(e).editingVolumeID,nIe=e=>wf(e).selectedPoints,sIe=e=>wf(e).drawingMode,aIe=e=>wf(e).drawingPoints,lIe={isVolumeSelected:eIe,selectedVolumeIds:rIe,multipleVolumeRotation:oIe,editingVolumeId:iIe,selectedPoints:nIe,drawingMode:sIe,drawingPoints:aIe,getSavedAnchorPosition:e=>wf(e).savedAnchorPosition,getLastObjectPropertyTab:e=>wf(e).lastObjectPropertyTab},Ie=lIe;var cIe="rgb(255, 255, 118)",TQ=function(e,t,r){if(t.type==="measurement"){e.stroke="transparent",e.easel.cut={type:"measurement"};return}let i=((t.depth===0?255:217)*(r-t.depth)/r).toFixed(0),n=`rgb(${i}, ${Number(i)}, ${Number(i)})`;switch(t.type){case"outline":{e.fill="transparent",e.stroke=n;let s=null;switch(t.outlineStyle){case"inside":s=-1;break;case"on-path":s=0;break;case"outside":s=1;break}e.easel.cut={offset:s};break}case"fill":e.stroke="transparent",e.fill=n,e.easel.cut={offset:0};break;case"drill":e.fill=n,e.stroke="rgb(74, 144, 226)",e.easel.cut={offset:0,type:"drill"};break}},uIe=function(e,t,r,o,i,n,s,a){let l,c=r.tabs.map(p=>t.shape.center!=null?{x:i(p.center.x)-i(t.shape.center.x),y:n(p.center.y)-n(t.shape.center.y)}:{x:i(p.center.x)-(e.left+s(o/2)+e.width/2),y:n(p.center.y)-(e.top+s(o/2)+e.height/2)}),u=s(r.tabLength+o)/2;if(Ie.isVolumeSelected(N.store.getState(),t.id))l={stroke:cIe,perPixelTargetFind:!0};else{let p=(255*(r.tabHeight/a)).toFixed(0);l={stroke:`rgb(${[p,p,p].join(", ")})`,evented:!1}}return le(e,l,{hasControls:!1,hasBorders:!1,hasRotatingPoint:!1,easel:{selectable:!1,type:"tab"},clipTo(p){let m=1/(e.scaleX||1)*(e.flipX?-1:1),h=1/(e.scaleY||1)*(e.flipY?-1:1);p.save(),p.scale(m,h),p.beginPath();for(let f of Array.from(c))p.moveTo(f.x+u,f.y),p.arc(f.x,f.y,u,0,Math.PI*2,!0);return p.closePath(),p.restore()}})},EQ=function(e,t){let{originY:r,pixelsPerInch:o}=t,i=le(e);return i.inchX=i.left/o,i.inchY=r-i.top/o,delete i.left,delete i.top,i},pIe=function(e,t){let{pixelsPerInch:r}=t,o=Math.PI/180,i=b=>-(b||0)*o,n=b=>b/r,s=e.strokeWidth||0,a=n(e.width+s),l=n(e.height+s),c=ct().translatedBy(a/2,-l/2),u=ct().translatedBy(e.flipX?-a:0,e.flipY?l:0).scaledBy(e.flipX?-1:1,e.flipY?-1:1),p=ct().scaledBy(e.scaleX,e.scaleY),m=ct().rotatedBy(i(e.angle)),f=ct().premultipliedBy(p).premultipliedBy(m).transformedPoint({x:e.originX==="left"?0:-a/2,y:e.originY==="top"?0:l/2}),x=ct().translatedBy(e.inchX+f.x,e.inchY+f.y),v=ct().premultipliedBy(c).premultipliedBy(u).premultipliedBy(p).premultipliedBy(m).premultipliedBy(x);switch(e.type){case"path":case"template":{let b=N4(e.path),S=Oe.pathBoundingBox(b),w={x:(S.minX+S.maxX)/2-e.pathOffset.x,y:(S.minY+S.maxY)/2-e.pathOffset.y};return{type:"path",center:v.transformedPoint({x:n(w.x-e.width/2),y:n(e.height/2-w.y)}),width:n((S.maxX-S.minX)*e.scaleX),height:n((S.maxY-S.minY)*e.scaleY),rotation:i(e.angle),points:b,flipping:{horizontal:e.flipX,vertical:!e.flipY},pro:e.pro}}case"polyline":return{type:"polyline",center:v.transformedPoint({x:0,y:0}),width:n(e.width*e.scaleX),height:n(e.height*e.scaleY),rotation:i(e.angle),points:e.points,flipping:{horizontal:e.flipX,vertical:!e.flipY},pro:e.pro};case"polygon":case"triangle":case"star":return{type:"polygon",center:v.transformedPoint({x:0,y:0}),width:n(e.width*e.scaleX),height:n(e.height*e.scaleY),rotation:i(e.angle),points:e.points,flipping:{horizontal:e.flipX,vertical:!e.flipY},pro:e.pro};case"circle":case"ellipse":return{type:"ellipse",center:v.transformedPoint({x:0,y:0}),width:n(e.width*e.scaleX),height:n(e.height*e.scaleY),rotation:i(e.angle),flipping:{horizontal:e.flipX,vertical:e.flipY},pro:e.pro};case"line":{let b=e.x1<e.x2?-1:e.x1>e.x2?1:0,S=e.y1<e.y2?-1:e.y1>e.y2?1:0,w=v.transformedPoint({x:n(b*e.width/2),y:-n(S*e.height/2)}),_=v.transformedPoint({x:-n(b*e.width/2),y:n(S*e.height/2)});return{type:"line",point1:w,point2:_,flipping:{horizontal:e.flipX,vertical:e.flipY},pro:e.pro}}case"rect":return{type:"rectangle",center:v.transformedPoint({x:0,y:0}),width:n(e.width*e.scaleX),height:n(e.height*e.scaleY),cornerRadius:{x:n(e.rx*e.scaleX),y:n(e.ry*e.scaleY)},rotation:i(e.angle),flipping:{horizontal:e.flipX,vertical:e.flipY},pro:e.pro};case"i-text":return{type:"text",text:e.text,font:e.fontFamily,center:v.transformedPoint({x:0,y:0}),width:n(e.width*e.scaleX),height:n(e.height*e.scaleY),rotation:i(e.angle),flipping:{horizontal:e.flipX,vertical:e.flipY}}}},dIe=function(e,t){let{origin:r,pixelsPerInch:o,strokeSize:i,drillSize:n,materialThickness:s}=t,{id:a,shape:l,cut:c}=e,{convertAngle:u,convertSize:p,convertX:m,convertY:h}=AQ(r,o),f=Math.hypot((i+l.height)/2,(i+l.width)/2),x=Math.atan2((i+l.height)/2,-(i+l.width)/2),v=A=>m(A+f*Math.cos(l.rotation+x)),b=A=>h(A+f*Math.sin(l.rotation+x)),S={isMoving:!1,perPixelTargetFind:l.type!=="text",hasRotatingPoint:!0,strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:p(i),angle:u(l.rotation),flipX:l.flipping.horizontal,flipY:l.flipping.vertical,easel:{id:a,selectable:!0}},w=function(A,O,L,R){let z=O.minX===O.maxX?1:L/(O.maxX-O.minX),I=O.minY===O.maxY?1:R/(O.maxY-O.minY),F=-O.minX,B=-O.maxY,j=te=>({x:p((te.x+F)*z),y:p(-(te.y+B)*I)}),X=te=>({x:p(te.x*z),y:p(-te.y*I)});return A.map(te=>{let se=[];for(let ue of te){let be=j(ue);ue.lh!=null&&(be.lh=X(ue.lh)),ue.rh!=null&&(be.rh=X(ue.rh)),se.push(be)}return se})},_=function(A,O){A.type="path",A.width=p(O.width),A.height=p(O.height),A.left=v(O.center.x),A.top=b(O.center.y);let L=w(O.points,Oe.pathBoundingBox(O.points),O.width,O.height,s);return A.path=ns.components(L),A.pathOffset={x:0,y:0}};switch(l.type){case"ellipse":S.type="ellipse",S.width=p(l.width),S.height=p(l.height),S.left=v(l.center.x),S.top=b(l.center.y),S.rx=S.width/2,S.ry=S.height/2;break;case"rectangle":S.type="rect",S.width=p(l.width),S.height=p(l.height),S.left=v(l.center.x),S.top=b(l.center.y),S.rx=p((l.cornerRadius!=null?l.cornerRadius.x:void 0)||0),S.ry=p((l.cornerRadius!=null?l.cornerRadius.y:void 0)||0);break;case"line":S.type="line",S.x1=m(l.point1.x),S.y1=h(l.point1.y),S.x2=m(l.point2.x),S.y2=h(l.point2.y),S.left=Math.min(S.x1,S.x2)-p(i/2),S.top=Math.min(S.y1,S.y2)-p(i/2),S.width=Math.abs(S.x2-S.x1),S.height=Math.abs(S.y2-S.y1),S.angle=0;break;case"polyline":case"polygon":{S.type=l.type,S.width=p(l.width),S.height=p(l.height),S.left=v(l.center.x),S.top=b(l.center.y);let A=Oe.pointsBoundingBox(l.points),O=A.minX===A.maxX?1:l.width/(A.maxX-A.minX),L=A.minY===A.maxY?1:l.height/(A.maxY-A.minY),R=-(A.minX+A.maxX)/2,z=-(A.minY+A.maxY)/2,I=F=>({x:p((F.x+R)*O),y:p(-(F.y+z)*L)});S.points=l.points.map(F=>I(F));break}case"path":_(S,l);break;case"text":{let A=le(S),O=ft.getFontData(N.store.getState(),l.font,l.fontProvider),L=O?O.baselineOffsetFraction:1;S.type="i-text",S.text=l.text,S.fontFamily=Bo(l.font,l.fontProvider),S.fontSize=80,S.lineHeight=1.3,S.textAlign=l.textAlignment||"left",S._fontSizeFraction=1/L;let R=ii.measure({text:l.text,font:qr.getFont(l.font,l.fontProvider)});S.width=R.width,S.height=R.height,S.scaleX=p(l.width)/S.width,S.scaleY=p(l.height)/S.height,S.strokeWidth/=Math.sqrt(S.scaleX*S.scaleY);let z=i*Math.sqrt(S.scaleX/S.scaleY),I=i*Math.sqrt(S.scaleY/S.scaleX);if(f=Math.hypot((I+l.height)/2,(z+l.width)/2),x=Math.atan2((I+l.height)/2,-(z+l.width)/2),S.left=v(l.center.x),S.top=b(l.center.y),S.editable=!l.anchored,l.text&&l.text.length>0&&l.textEffect&&l.textEffect.bezier){let F=ii.textShapeToCanvasShape(l);if(F!=null){S.type="e-text",_(A,F),TQ(A,c,s),S.pathObject=A;let B=Oe.pathBoundingBox(F.points),j=w(F.baselines,B,F.width,F.height,s),X=j.length,te=j[0][0],se=S.height/2+S.fontSize/S._fontSizeFraction,ue=S.fontSize*S.lineHeight+se,be=X*(-160/S._fontSizeFraction+52);be+=(X-1)*(161/S._fontSizeFraction+.0681);let ae=te.y+S.scaleY*(S.height-ue-be);A.pathOffset={x:te.x,y:ae},A.top=S.top,A.left=S.left,A.width=S.width,A.height=S.height}}break}case"drill":{S.type="path";let A=p(n),O=40,L=20,R=O+2*L,z=Math.max(R,A+2*L);S.width=z,S.height=z,S.left=m(l.center.x)-S.width/2-1,S.top=h(l.center.y)-S.height/2-1;let I=Math.max(A,O),F=[[{x:0,y:-I/2},{x:0,y:-z/2}],[{x:0,y:I/2},{x:0,y:z/2}],[{x:-I/2,y:0},{x:-z/2,y:0}],[{x:I/2,y:0},{x:z/2,y:0}]],B=100,j=[];for(let X=0;X<B;X++){let te=X*2*Math.PI/B;j.push({x:A*Math.cos(te)/2,y:A*Math.sin(te)/2})}if(F.push(j),A<O){let X=null;for(let te=0;te<B;te++){let se=te*2*Math.PI/B,ue={x:O*Math.cos(se)/2,y:O*Math.sin(se)/2};X!=null&&F.push([X,ue]),X=ue}}S.path=ns.components(F),S.pathOffset={x:-z/2,y:-z/2},S.strokeWidth=2,S.angle=0,S.hasControls=!1;break}}TQ(S,c,s);let E=[S];return(A=>A.tabPreference&&A.type==="outline"&&A.depth===s)(c)&&E.push(uIe(S,e,c,i,m,h,p,s)),E},mIe=function(e,t){let r,o,i,{materialThickness:n}=t,s=(e.easel!=null?e.easel.cut:void 0)||{};switch(s.offset){case-1:case"-1":o="inside";break;case 1:case"1":o="outside";break;default:o="on-path";break}return e.cutType?e.cutType==="fill"?r="fill":(r="outline",o=e.cutType):r=e.fill==="transparent"||e.fill===""||e.fill==="none"?"outline":"fill",s.depth!=null?i=s.depth:e.depth?i=e.depth:i=n*(1-kQ(r==="outline"?e.stroke:e.fill)),{type:r,depth:i,tabPreference:s.tabPreference,outlineStyle:o}},MQ=function(e,t){let r=pIe(e,t),o=mIe(e,t);if(r!=null&&o!=null)return{shape:r,cut:o}},fIe=function(e,t){let r=EQ(e,t);return MQ(r,t)},AQ=function(e,t){let r=180/Math.PI;return{convertAngle:o=>(-o||0)*r,convertSize:o=>o*t,convertX:o=>(o-e.x)*t,convertY:o=>(e.y-o)*t}},hIe={fabricJsonToDataObject:EQ,fabricJsonToVolume:fIe,dataObjectToVolume:MQ,volumeToFabricJson:dIe,toFabricHelpers:AQ},Hc=hIe;var _f=M(t2(),1);var r3=M(t2(),1),DQ=M(IQ(),1);r3.default.extend(DQ.default);var gIe=e=>{let t=Math.round(e);if(t===0)return"<1 min";let r=Math.floor(t/60),o=t%60,i=[];return r!==0&&i.push(`${r.toFixed(0)}h`),o!==0&&i.push(`${o.toFixed(0)}min`),i.join(" ")},yIe=(e,t=null)=>{let r=t?(0,r3.default)(t):(0,r3.default)(),o=r3.default.duration((0,r3.default)(e).valueOf()-r.valueOf());if(!(o.hours()<=0&&o.minutes()<=0&&o.seconds()<=0))if(o.days()>=1){let i=Math.round(o.asDays());return i===1?"1 day":`${i} days`}else{if(o.hours()===1)return"1 hour";if(o.hours()<1&&o.minutes()===1)return"1 minute";if(o.hours()<1&&o.minutes()<1&&o.seconds()>0)return"0 minutes";if(o.hours()<1)return`${o.minutes()} minutes`;{let i=o.minutes()>55?1:0;return`${o.hours()+i} hours`}}},xIe=function(e){if(e<10)return"<10 minutes";if(e<30)return"<30 minutes";if(e<60)return"<1 hour";let t=Math.floor(e/60);return t<5?uB(t,t+1):t<12?uB(t-1,t+1):t<24?uB(t-2,t+2):">24 hours"},uB=(e,t)=>`${e.toFixed(0)}-${t.toFixed(0)} hours`,bIe={durationFromMinutes:gIe,timeLeft:yIe,approximateDuration:xIe},fa=bIe;var UC=async e=>await fetch("/user",{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector("[name='csrf-token']")?.content},body:JSON.stringify({user:e})}),vIe=async()=>await fetch("/users/update_last_opened_features_at",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector("[name='csrf-token']")?.content}}),SIe=async e=>{let t=await fetch("/authenticate/login",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector("[name='csrf-token']")?.content},body:JSON.stringify({user:e})});return t.ok?Promise.resolve(await t.json()):Promise.reject(await t.json())},CIe=async e=>{let t=await fetch("/authenticate/new",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector("[name='csrf-token']")?.content},body:JSON.stringify({user:e})});return t.ok?Promise.resolve(await t.json()):Promise.reject(await t.json())},NQ=e=>UC({defaults_json:JSON.stringify(e)}),PIe=()=>NQ({}),wIe=async e=>{let t=await fetch("/experiment_assignments",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector("[name='csrf-token']")?.content},body:JSON.stringify({experiment_assignment:{experiment:e}})});return t.ok?Promise.resolve(await t.json()):Promise.reject(await t.json())},_Ie=async()=>{let e=await fetch("/users/get_current_limits",{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector("[name='csrf-token']")?.content}});return e.ok?Promise.resolve(await e.json()):Promise.reject(await e.json())},kIe={updateKeyboardControlEnabled:e=>UC({keyboard_control_enabled:e}),updateRepeatCarvingEnabled:e=>UC({repeat_carving_enabled:e}),updateStartStopSafetyHeight:e=>UC({start_stop_safety_height:e}),updateUserOpenedFeaturesAt:vIe,updateDefaults:NQ,resetDefaults:PIe,logInUser:SIe,createUser:CIe,getOrCreateExperimentAssignment:wIe,getCurrentLimits:_Ie},Fn=kIe;var RC=e=>e.defaultsFallback!=null;var TIe=e=>(globalThis.ACCESS_GRANTS||[]).includes(e),it=TIe;var EIe=["trial","subscribed_payer","subscribed_promo","subscribed_admin","subscribed_educator","user_canceled","admin_canceled","payment_error_inactive","user_paused"],MIe=["key","trial","paid","free","admin"],AIe=["Starter","Easel Pro","Professional","Full Scale","Easel","Free"],IIe={_sliceProperties:{undoable:!1},email:null,braintreeToken:null,paypalEnabled:!1,easelPro:{},subscriptionPackageName:null,subscriptionFeatures:{manufactured_cabinets_per_project:5,estimates:!1},easelSubscriptionInfo:{plan:"free"},paywall:{visible:!1},isAdmin:!1,isLoggedInUser:!1,canEditProject:!1,subscriptionLoadingState:"UNLOADED",loadedMachineSettings:!1,keyboardControlEnabled:!1,repeatCarvingEnabled:!1,name:null,lastOpenedFeaturesAt:null,experimentAssignments:{},profileImageUrl:null,weeklyUsage:{carvesAndExports:0,nextReset:null}},pB=We({name:"user",initialState:IIe,reducers:{loadServerInfo(e,{payload:t}){e.isLoggedInUser=t.loggedIn,e.email=t.userEmail,e.name=t.name,e.canEditProject=t.canEditProject,e.isAdmin=t.isAdmin,e.userId=t.userId,e.inventablesId=t.inventablesId,e.profileImageUrl=t.profileImageUrl??null,e.weeklyUsage=t.weeklyUsage,OQ(e,t.subscription.package),e.subscriptionFeatures=t.subscription.features,LQ(e,t.easelSubscription),e.keyboardControlEnabled=t.keyboardControlEnabled,e.repeatCarvingEnabled=t.repeatCarvingEnabled,e.startStopSafetyHeight=t.startStopSafetyHeight,e.experimentAssignments=t.experimentAssignments,RC(t)&&(e.activatedEaselProProductKey=t.activatedEaselProProductKey,e.defaults=t.defaults,e.defaultsFallback={project:t.defaultsFallback},t.lastOpenedFeaturesAt&&(e.lastOpenedFeaturesAt=new Date(t.lastOpenedFeaturesAt).toString()))},setEmail(e,{payload:t}){e.email=t},setBraintreeToken(e,{payload:t}){e.braintreeToken=t},setSubscriptionInfoLoadingState(e,{payload:t}){e.subscriptionLoadingState=t},setProInfo(e,{payload:t}){if(t.status&&!EIe.includes(t.status))throw new TypeError(`Invalid Easel Pro subscription status: ${t.status}`);(!t.subscription||Object.keys(t.subscription).length===0)&&(t.subscription=e.easelPro.subscription||{}),e.easelPro=t},setSubscriptionPackageName(e,{payload:t}){OQ(e,t)},setSubscriptionFeatures(e,{payload:t}){e.subscriptionFeatures=t},setEaselSubscriptionInfo(e,{payload:t}){LQ(e,t)},showSubscriptionPaywall(e,{payload:t}){e.paywall.visible=!0,e.paywall.options={product:t.product,message:t.message,showPricing:t.showPricing}},hideSubscriptionPaywall(e){e.paywall.visible=!1},confirmFreeProDayUse(e){e.confirmedFreeProDayUse=!0},noteLoadedMachineSettings(e){e.loadedMachineSettings=!0},setActivatedEaselProProductKey(e,{payload:t}){e.activatedEaselProProductKey=t},setKeyboardControlEnabled(e,{payload:t}){e.keyboardControlEnabled=t},setPaypalEnabled(e,{payload:t}){e.paypalEnabled=t},setRepeatCarvingEnabled(e,{payload:t}){e.repeatCarvingEnabled=t},setStartStopSafetyHeight(e,{payload:t}){e.startStopSafetyHeight=t},setDefaults(e,{payload:t}){e.defaults=t},setDefaultsFallback(e,{payload:t}){e.defaultsFallback=t},setLastOpenedFeaturesAt(e,{payload:t}){e.lastOpenedFeaturesAt=t},setExperimentAssignments(e,{payload:t}){e.experimentAssignments=t},incrementCarveExportWeeklyUsage(e){e.weeklyUsage.carvesAndExports+=1}},extraReducers:e=>{e.addCase(JQ.pending,(t,r)=>{let o=r.meta.arg;t.defaults={...t.defaults,...o}}),e.addCase(KQ.fulfilled,(t,r)=>{t.weeklyUsage.carvesAndExports=r.payload.carves_and_exports,t.weeklyUsage.nextReset=r.payload.next_reset})}}),OQ=(e,t)=>{if(t&&!AIe.includes(t))throw new TypeError("Invalid subscription package name");e.subscriptionPackageName=t},LQ=(e,t)=>{if(!t)e.easelSubscriptionInfo={plan:"free"};else if(MIe.includes(t.plan)){if(t.keyActivation&&!["manual","automatic"].includes(t.keyActivation))throw new TypeError(`Invalid key activation: ${t.keyActivation}`);e.easelSubscriptionInfo=t}else throw new TypeError(`Invalid Easel Subscription Plan: ${t.plan}`)},Fo=e=>e.user,DIe=e=>Fo(e).email,NIe=e=>Fo(e).profileImageUrl,hn=e=>Fo(e).easelPro,BQ=e=>hn(e).status==="trial",dB=e=>hn(e).status==="subscribed_promo",OIe=e=>hn(e).status==="user_canceled"||hn(e).status==="admin_canceled",FQ=e=>hn(e).status==="subscribed_payer",LIe=e=>hn(e).status==="user_paused",WQ=e=>hn(e).status==="subscribed_admin",mB=e=>hn(e).status==="subscribed_educator",VQ=e=>hn(e).status==="payment_error_inactive",BIe=e=>FQ(e)||dB(e)||WQ(e)||mB(e),fB=(e,t)=>{let r=(0,_f.default)(hn(t).easel_pro_expiration_date);return r!=null?r<e:null},UQ=e=>Fo(e).easelPro.trial_expiration_date,RQ=function(e,t){let r=hn(t).current_pro_carving_day_start;return r&&(0,_f.default)(r).add(24,"h")>e},jQ=(e,t)=>(BQ(t)||dB(t)||mB(t))&&fB(e,t)?!1:hn(t).enabled,jC=(e,t)=>RQ(e,t)||jQ(e,t);function FIe(e){return Fo(e).lastOpenedFeaturesAt}function WIe(e){return Fo(e).repeatCarvingEnabled}function VIe(e){return Fo(e).defaultsFallback?.project}function GQ(e){return Fo(e).defaults?.project||{}}function UIe(e){return jC((0,_f.default)(),e)}function RIe(e,t){let r=Fo(t).startStopSafetyHeight,o=e.safetyHeight;return Math.max(o??.15,r??.15)}function jIe(e){return Fo(e).startStopSafetyHeight}function GIe(e){return Fo(e).keyboardControlEnabled}function HIe(e){return Fo(e).isAdmin}function zIe(e){return Fo(e).inventablesId}function XIe(e){return Fo(e).userId}function YIe(e){return Fo(e).canEditProject}function qIe(e){return Fo(e).isLoggedInUser}function $Ie(e){return Fo(e).paywall.visible}function ZIe(e){return Fo(e).easelSubscriptionInfo}function JIe(e){return Fo(e).subscriptionFeatures}function KIe(e){return Fo(e).subscriptionPackageName}function QIe(e){return Fo(e).paypalEnabled}function eDe(e){return Fo(e).braintreeToken}function tDe(e,t){return jC((0,_f.default)(e),t)?RQ((0,_f.default)(e),t)?hn(t).current_pro_carving_day_used_day_pass?"Day Pass":"Free Day":"Subscribed":"None"}function HQ(e){return Fo(e).easelPro.status}function rDe(e){return Fo(e).activatedEaselProProductKey}function oDe(e,t){let r=hn(t).current_pro_carving_day_start;if(r)return fa.timeLeft((0,_f.default)(r).add(24,"h").valueOf(),e)}function iDe(e){return hn(e).day_passes_remaining}function nDe(e){return hn(e).free_pro_carving_days_remaining}function zQ(e){return Fo(e).subscriptionLoadingState}function sDe(e){return zQ(e)==="LOADED"}function aDe(e){return Fo(e).paywall.options}function lDe(e){return hn(e).subscription?.next_billing_date}function cDe(e){return hn(e).resume_at}var XQ=_e([hn],e=>e.subscription?.schedule??[]);function YQ(e){return hn(e).subscription?.plan_id}function qQ(e){return hn(e).subscription?.processor}function $Q(e){return Fo(e).weeklyUsage}var uDe=_e([$Q,e=>jC(Date.now(),e)],(e,t)=>e.carvesAndExports>=me.EASEL_FREE_CARVE_EXPORT_LIMIT&&it("free_limits")&&!t);function pDe(e){let t=HQ(e),r=["payment_error_inactive","subscribed_payer","subscribed_admin","user_paused"],o=t==="subscribed_educator"&&!fB(Date.now(),e);return!t||!(r.includes(t)||o)}function dDe(e,t){let r=UQ(e),o=r&&(0,_f.default)(r).isAfter((0,_f.default)(t)),i=XQ(e);return!o&&YQ(e)==="easel-pro-monthly"&&qQ(e)==="stripe"&&!VQ(e)&&i.length<=1}function mDe(e){return e.user.experimentAssignments}function ZQ(e,t){return e.user.experimentAssignments[t]}function fDe(e,t,r){return ZQ(e,t)===r}function hDe(e){return Object.keys(GQ(e)).length>0}var JQ=Ht("user/updateDefaults",async(e,{getState:t})=>{let r=t(),o=await Fn.updateDefaults({...r.user.defaults,...e});if(!o.ok)throw new Error(o.statusText);return await o.json()}),KQ=Ht("user/fetchWeeklyUsage",async()=>await Fn.getCurrentLimits()),gDe={reducer:pB.reducer,actions:{...pB.actions,syncWeeklyUsageLimits:KQ},initialState:()=>({...pB.getInitialState()}),getUserState:Fo,isProEnabled:jC,getTrialExpirationDate:UQ,isSubscribed:BIe,getLastOpenedFeaturesAt:FIe,isRepeatCarvingEnabled:WIe,getProjectDefaultsFallback:VIe,getProjectDefaults:GQ,getRapidRetractsEnabled:UIe,getOriginSafetyHeight:RIe,getStartStopSafetyHeight:jIe,getKeyboardControlEnabled:GIe,isAdmin:HIe,getInventablesId:zIe,getUserId:XIe,canEditProject:YIe,isLoggedInUser:qIe,isPaywallVisible:$Ie,getEaselSubscriptionInfo:ZIe,getSubscriptionFeatures:JIe,getSubscriptionPackageName:KIe,getEaselProInfo:hn,isPromoUser:dB,isPayingUser:FQ,isAdminGrantedUser:WQ,isEducatorGrantedUser:mB,isPaymentErrorUser:VQ,isCanceledUser:OIe,isTrialUser:BQ,isPausedUser:LIe,isProExpired:fB,getPaypalEnabled:QIe,getBraintreeToken:eDe,easelProAccessType:tDe,getSubscriptionStatus:HQ,activatedEaselProProductKey:rDe,isProSubscriber:jQ,getEaselProDayTimeLeftDisplay:oDe,getDayPassesRemaining:iDe,getFreeProCarvingDaysRemaining:nDe,getSubscriptionLoadingState:zQ,isSubscriptionLoaded:sDe,getPaywallOptions:aDe,getUserEmail:DIe,getProfileImageUrl:NIe,getRenewDate:lDe,canUserSignUp:pDe,getResumeDate:cDe,canUserPause:dDe,getSubscriptionSchedule:XQ,getSubscriptionPlanId:YQ,getSubscriptionProcessor:qQ,getExperimentAssignments:mDe,getExperimentGroup:ZQ,isExperimentGroup:fDe,hasProjectDefaults:hDe,updateDefaults:JQ,getWeeklyUsage:$Q,isOverWeeklyUsageLimit:uDe},Q=gDe;var eee=11.2,QQ=680/eee,yDe=function(e,t){return e==null&&(e=[]),e?.objects!=null&&(e=e.objects.map(o=>((o.inchX==null||o.inchY==null)&&(o=Hc.fabricJsonToDataObject(o,{originY:eee,pixelsPerInch:QQ})),o)).map(o=>Hc.dataObjectToVolume(o,{pixelsPerInch:QQ,materialThickness:t.dimensions&&t.dimensions.z})).filter(o=>o!=null)),e},xDe=function(e){let t;if(e==null)return{name:Cf.defaultMaterialName,depthPerPass:"0.028",cutFeed:"30",dimensions:{x:12,y:8,z:.5},xyZeroLocation:"front-left"};let r=le(e);return t={Birch:"Birch Plywood",Maple:"Hard Maple",PVC:"Expanded PVC",HDPE:"Two-Color HDPE",Acrylic:"Cast Acrylic"}[e.name],t&&(r.name=t),e.cut_feed!=null&&(r.cutFeed=e.cut_feed,delete r.cut_feed),e.depth_per_pass!=null&&(r.depthPerPass=e.depth_per_pass,delete r.depth_per_pass),r},bDe=function(e){if(e!=null&&e.bit_size&&e.detail_bit_size){let t=f5.parseInput(e.bit_size),r=f5.parseInput(e.detail_bit_size);return{bit:{width:t.value,unit:t.unit},detailBit:{width:r.value,unit:r.unit},useDetailBit:e.use_detail_bit}}},vDe=function(e){let t=wQ[e.name];if(t?.cutFeed!==e.cutFeed||t?.depthPerPass!==e.depthPerPass)return{feedRate:parseFloat(e.cutFeed),depthPerPass:parseFloat(e.depthPerPass),useCustom:!0}},SDe=e=>({stepOver:parseFloat(e?.stepover)||.4,safetyHeight:parseFloat(e?.safety_height)||.15}),CDe=function(e,t,r,o,i){let n=Q.isProSubscriber(Date.now(),N.store.getState());return e=e||vDe(r)||le(Wo.recommend(t,r,o),{useCustom:null}),e.bit==null&&(e.bit={useCustom:e.useCustom,feedRate:e.feedRate,depthPerPass:e.depthPerPass,rampingAngle:n?20:null},e.plungeRate!=null&&(e.bit.plungeRate=e.plungeRate),o?.useDetailBit&&(e.detailBit=le(e.bit)),delete e.useCustom,delete e.plungeRate,delete e.feedRate,delete e.depthPerPass),e.vBitFlatAreaStepOver!=null&&(e.vBitDetailStepOver=e.vBitFlatAreaStepOver,delete e.vBitFlatAreaStepOver),le(SDe(i),e)},PDe={bringDesignUpToDate:yDe,bringMaterialUpToDate:xDe,bringBitParamsUpToDate:bDe,bringJobSettingsUpToDate:CDe},W4=PDe;var wDe=e=>{var r,o;let t={bit:{id:"INVENTABLES_BLACK_BIT",type:"Straight cut",width:.125,unit:"in"},detailBit:{id:"INVENTABLES_BLUE_BIT",type:"Upcut",width:.0625,unit:"in"},useDetailBit:!1};e.bitParams=e.bit_params??W4.bringBitParamsUpToDate(e.machine)??t,(r=e.bitParams.bit).id??(r.id="other-bit"),e.bitParams.detailBit&&((o=e.bitParams.detailBit).id??(o.id="other-bit"))},_De=e=>{let t={machineType:Y.getMachineType(N.store.getState()),spindleType:Y.getSpindleType(N.store.getState()),spindleRPM:Y.getSpindleRPM(N.store.getState())};e.job_settings=W4.bringJobSettingsUpToDate(e.job_settings,t,e.material,e.bitParams,e.machine)},kDe=e=>{for(let t of e.workpieces){let r=t.saved_data;r!=null&&(r.work_area??(r.work_area=null),r.material=W4.bringMaterialUpToDate(r.material??null),r.machine??(r.machine=null),wDe(r),_De(r),r.volumes=W4.bringDesignUpToDate(r.canvas,r.material),delete r.canvas)}},TDe={initialize:kDe},o3=TDe;var EDe={allBits:[],showBitSizeError:!1},MDe={reducer(e,{payload:t}){e.allBits.push(t.bit)},prepare(e){return{payload:{bit:e,undoDescription:"Add bit"}}}},ADe={reducer(e,{payload:t}){let r=t.bit,o=e.allBits.findIndex(i=>i.id===r.id);o!==-1&&(e.allBits[o]=r)},prepare(e){return{payload:{bit:e,undoDescription:"Update bit"}}}},IDe={reducer(e,{payload:t}){let r=t.id;e.allBits=e.allBits.filter(o=>o.id!==r)},prepare(e){return{payload:{id:e,undoDescription:"Delete bit"}}}},DDe={reducer(e,{payload:t}){e.allBits=t},prepare(e){return{payload:e}}},tee=We({name:"bits",initialState:EDe,reducers:{addBit:MDe,updateBit:ADe,deleteBit:IDe,setBits:DDe}}),r2=_e([e=>e.workpieces.activeWorkpieceId,(e,t)=>t,e=>e.workpieces.byWorkpieceId],(e,t,r)=>{let o=t??e;return o===wo?FC().bitParams:r[o]?.bitState?.bitParams}),GC=(e,t)=>r2(e,t).bit,HC=(e,t)=>r2(e,t).detailBit,V4=(e,t)=>r2(e,t)?.useDetailBit===!0,ree=(e,t)=>r2(e,t)?.outlineBit,oee=(e,t)=>r2(e,t)?.useOutlineBit===!0,NDe=e=>{let t=V4(e),r=GC(e),o=e.bits.allBits,i={title:"This bit is too large",description:"The detail bit cannot be larger than the main bit. Please select a smaller bit."};return o.filter(n=>n.type!==qe.ballnose).map(function(n){let s=n.type===qe.v,a=!0;return r!=null&&n!=null&&(a=rt(n).inchWidth()<=rt(r).inchWidth()),{...n,...t&&!s&&!a?{error:i}:{}}})},ODe=e=>{let t=V4(e),r=HC(e),o=e.bits.allBits,i={title:"This bit is too small",description:"The main bit cannot be smaller than the detailing bit. Please select a larger bit."},n={title:"V Bit Roughing",description:"V Bits can only be used as a detail bit. Please remove your detail bit if you would like to use a V Bit as the main bit, or select a end mill bit for roughing."};return o.filter(s=>s.type!==qe.ballnose).map(function(s){let a=s.type===qe.v,l=r!=null&&r.type===qe.v,c=r!=null&&rt(s).inchWidth()>=rt(r).inchWidth(),u;return t&&(a?u=n:!c&&!l&&(u=i)),{...s,error:u}})},LDe=e=>{let t=[qe.upcut,qe.downcut,qe.straight,qe.compression];return e.bits.allBits.filter(r=>t.includes(r.type))},BDe=e=>e.bits.allBits.filter(t=>t.type===qe.ballnose),FDe=(e,t)=>{let r=r2(e,t);return r==null?!1:hB(r.bit,!0)||hB(r.detailBit,r.useDetailBit)||hB(r.outlineBit,r.useOutlineBit)},hB=(e,t)=>!!t&&(e?.id==="other-v-bit"||e?.type===qe.v),WDe=_e([e=>iee(e),e=>e],(e,t)=>e?LDe(t):ODe(t)),VDe=_e([e=>iee(e),e=>e],(e,t)=>e?BDe(t):NDe(t)),UDe=function(e,t){return oee(e,t)?ree(e,t):V4(e,t)?HC(e,t):GC(e,t)},RDe=function(e,t){return V4(e,t)?HC(e,t):GC(e,t)},jDe=[qe.upcut,qe.straight,qe.downcut,qe.compression,qe.v],GDe=_e([e=>e.bits.allBits],e=>e.filter(t=>jDe.includes(t.type))),iee=e=>{let t=e.workpieces.activeWorkpieceId;return t===wo?!1:e.workpieces.byWorkpieceId[t].threeDPrototypeState?.mesh!=null},HDe={bits:e=>e.bits.allBits,findById:(e,t)=>e.bits.allBits.find(r=>r.id===t),bitParams:r2,bitsForDetailing:VDe,bit:GC,detailBit:HC,detailBitEnabled:V4,drillBit:RDe,strokeBit:UDe,isVCarvingBitInUse:FDe,bitsForRoughing:WDe,showBitSizeError:e=>!!e.workpieces.byWorkpieceId[e.workpieces.activeWorkpieceId]?.bitState?.showBitSizeError,outlineBit:ree,outlineBitEnabled:oee,bitsForOutlining:GDe},zDe={actions:tee.actions,reducer:tee.reducer,...HDe},re=zDe;var XDe={allMaterials:[],loading:!1},YDe=OC(),nee=We({name:"materials",initialState:XDe,reducers:{add:(e,t)=>{e.allMaterials.push(t.payload.material)},delete:(e,t)=>{e.allMaterials=e.allMaterials.filter(r=>r.id!==t.payload.material.id)},update:(e,t)=>{let r=e.allMaterials.findIndex(o=>o.id===t.payload.material.id);r>=0&&(e.allMaterials[r]=t.payload.material)},loadAllMaterials:(e,{payload:t})=>{see(e,t)}},extraReducers:e=>{e.addCase(Vr("user/loadServerInfo"),(t,{payload:r})=>{see(t,r.materials)})}}),see=(e,t)=>{let r="?utm_source=easel&utm_campaign=easelmaterials&utm_medium=inapp&utm_content=materialthumbnail",o=t.map(i=>ot.toCamelCase(i));e.allMaterials.splice(0,e.allMaterials.length,...o.map(i=>(i.storeUrl&&(i.storeUrl+=r),i.variations?.forEach(n=>{n.storeUrl&&(n.storeUrl+=r)}),i.variations?.sort((n,s)=>(n.name||"").localeCompare(s.name||"")),i)))},aee=(e,t)=>{let r=t??e.workpieces.activeWorkpieceId;return r===wo?null:e.workpieces.byWorkpieceId[r].materialState},gB=(e,t)=>aee(e,t)??YDe,qDe=_e([(e,t)=>aee(e,t),e=>e.materials.allMaterials],(e,t)=>e?.active==null?null:le(t.find(r=>r.id===e.active.id)??{},e.active)),zC=(e,t)=>gB(e,t)?.dimensions,yB=(e,t)=>gB(e,t)?.xyZeroLocation,$De=_e([zC,yB],(e,t)=>{let r={x:t==="center"?-e.x/2:0,y:t==="center"?-e.y/2:0};return{minX:r.x,minY:r.y,maxX:r.x+e.x,maxY:r.y+e.y}}),ZDe=_e([zC,yB],(e,t)=>({dimensions:e,xyZero:t})),JDe={getActiveMaterial:qDe,getCustomLayerDepths:(e,t)=>gB(e,t)?.layerDepths,getMaterialDimensions:zC,getMaterialBoundary:$De,getMaterialThickness:(e,t)=>zC(e,t)?.z,getXYZeroLocation:yB,getDimensionsAndOrigin:ZDe,getAllMaterials:e=>e.materials.allMaterials,getUserMaterials:e=>e.materials.allMaterials.filter(t=>!t.global),getMaterial:(e,t)=>e.materials.allMaterials.find(r=>r.id===t),getMaterialByName:(e,t)=>e.materials.allMaterials.find(r=>r.name===t),getDefaultBoxMaterial:e=>ot.defaultMaterial(e.materials.allMaterials),getDefaultFrameMaterial:e=>e.materials.allMaterials.find(t=>t.name==ve.frame.defaultMaterial.name),areMaterialsLoading:e=>e.materials.loading},KDe={actions:nee.actions,reducer:nee.reducer,...JDe},q=KDe;var QDe=({fontManager:e,googleFontManager:t,uploadedFontManager:r})=>{let o=function(){let i={},n=[];return{loadForVolume:l=>{let c=l.shape.font,u=l.shape.fontProvider;if(i[c])i[c].push(l);else{let p,m;i[c]=[l],(p=_s[c])?m=e.loadFont(c,p.opentypePath,"easel",p.baselineOffsetFraction).then(()=>(p.loaded=!0,{name:c,font:p,success:!0})).catch(()=>({name:c,success:!1})):u==="uploaded"?m=r.loadFont(c).then(h=>({name:c,font:h,success:!0})).catch(()=>({name:c,success:!1})):m=t.loadFont(c).then(h=>({name:c,font:h,success:!0})).catch(()=>({name:c,success:!1})),n.push(m)}},finish:()=>Promise.all(n).then(l=>{let c=l.filter(h=>h.success),p=l.filter(h=>!h.success).map(h=>h.name),m=p.reduce((h,f)=>h.concat(i[f]),[]);return{loadedFonts:c,failedFontNames:p,failedVolumes:m}})}};return{loadFontsInSavedProjectData(i){return new Promise(function(n,s){try{let a,l=o();for(let c of i.workpieces){let u=c.saved_data;if(u!=null)for(a of Array.from(u.volumes))a.shape.type==="text"&&l.loadForVolume(a)}return l.finish().then(function({loadedFonts:c,failedFontNames:u,failedVolumes:p}){N.store.dispatch(ft.actions.setFontData(c));let m=c.map(v=>({fontFamily:v.name,fontProvider:v.font.provider}));N.store.dispatch(ft.actions.addFontsToToolbar(m));let h={};for(a of p){let v=$r.fallbackToPath(a.shape);v!=null?a.shape=v:(h[a.shape.font]=!0,a.shape={...a.shape,font:me.DEFAULT_FONT_NAME})}let f=u.filter(v=>!h[v]),x=Object.keys(h);return f.length>0&&N.store.dispatch(ft.actions.setFontErrors({errorType:"volume_fonts",fontNames:f})),x.length>0&&N.store.dispatch(ft.actions.setFontErrors({errorType:"volume_fonts_without_fallback",fontNames:x})),n(i)}).catch(c=>s(c))}catch(a){return s(a)}})}}},i3=QDe;var XC={},eNe=me.DEFAULT_FONT_BASELINE_OFFSET_FRACTION,tNe=is(()=>fetch("/google_fonts.json").then(e=>e.json()).then(e=>e.items)),rNe=e=>tNe().then(t=>{if(XC[e]!=null)return XC[e];let r=t.find(o=>o.family===e);return r?XC[e]=new Promise((o,i)=>{let n=r.file;return n?qr.loadFont(e,n,"googlefonts").then(()=>(delete XC[e],o({file:n,baselineOffsetFraction:eNe,displayName:e,provider:"googlefonts"}))).catch(()=>i(`Could not load font family ${e}`)):i()}):Promise.reject(`Cannot find font family ${e}`)}),oNe={loadFont:rNe},qd=oNe;var iNe=is(()=>fetch("/fonts.json").then(e=>e.json())),nNe=e=>iNe().then(t=>{let r=t.find(o=>o.family===e&&o.provider==="uploaded");return r?new Promise((o,i)=>qr.loadFont(e,r.customFileUrl,"uploaded").then(()=>o({baselineOffsetFraction:me.DEFAULT_FONT_BASELINE_OFFSET_FRACTION,displayName:e,provider:"uploaded"})).catch(()=>i(`Could not load custom font family ${e}`))):Promise.reject(`Cannot find uploaded font ${e}`)}),sNe={loadFont:nNe},h5=sNe;var lee=P("three/examples/jsm/loaders/STLLoader"),aNe={to3DMeshJSON:e=>{let r=new lee.STLLoader().parse(e),o=r.toJSON();return r.dispose(),delete o.data.attributes.normal,delete o.data.attributes.color,{format:"threejs",geometry:o}}},YC=aNe;var uee=P("three");var cee=P("three");var xB={ellipse(e,t,r=.001){let o=xB.sanitize(t),i=new cee.Vector3,{x:n,y:s}=e.getSize(i),{x:a,y:l}=e.getCenter(i);n=n*Math.SQRT2+o.right+o.left,s=s*Math.SQRT2+o.back+o.front,a+=(o.right-o.left)/2,l+=(o.back-o.front)/2;let c=ct(n/2,0,0,s/2,a,l);return p5.ellipse(r,c)},rectangle(e,t){let{left:r,right:o,back:i,front:n}=xB.sanitize(t),{min:s,max:a}=e;return[{x:s.x-r,y:a.y+i},{x:a.x+o,y:a.y+i},{x:a.x+o,y:s.y-n},{x:s.x-r,y:s.y-n},{x:s.x-r,y:a.y+i}]},sanitize(e){let{left:t,right:r,back:o,front:i}=e??{};return{left:t??0,right:r??0,back:o??0,front:i??0}}},kf=xB;var o2=P("three");var zc=P("three");var bB=class e{constructor(t,{orientation:r,size:o,rotation:i,position:n,scale:s,translation:a}){y(this,"_bbox");y(this,"orientation");y(this,"size");y(this,"rotation");y(this,"position");let l=new zc.Vector3;if(this.orientation=r||"Top",this.size=o||t.getSize(l),this.rotation=i||{z:0},this.position=n||{x:0,y:0,z:0},this._bbox=t,o==null&&s!=null){let c=new zc.Vector3,{x:u,y:p,z:m}=t.getSize(c);u*=s.x,p*=s.y,m*=s.z,this.size={x:u,y:p,z:m}}n==null&&a!=null&&(this.position={x:t.min.x+a.x,y:t.min.y+a.y,z:t.min.z+a.z})}get bbox(){return this._bbox}serialize(){return{orientation:this.orientation,position:this.position,size:this.size,rotation:this.rotation}}matrix(){let t=new zc.Matrix4,r=this._bbox.clone();return this._center(t,r),this._orient(t,r),this._scale(t,r),this._rotate(t,r),this._translate(t,r),t}sizeAfterOrientationChange(t){let r=new zc.Vector3(...Object.values(this.size)),o=e.orientationMatrix(t),i=e.orientationMatrix(this.orientation);return r.applyMatrix4(i.invert()).applyMatrix4(o),{x:Math.abs(r.x),y:Math.abs(r.y),z:Math.abs(r.z)}}_center(t,r){let o=new zc.Vector3;r.getCenter(o),t.makeTranslation(-o.x,-o.y,-o.z),r.applyMatrix4(t)}_orient(t,r){let o=this._orientationMatrix();r.applyMatrix4(o),t.premultiply(o)}_scale(t,r){let o=new zc.Vector3;r.getSize(o);let i=this._scaleMatrix(o);r.applyMatrix4(i),t.premultiply(i)}_rotate(t,r){let o=this._rotationMatrix();r.applyMatrix4(o),t.premultiply(o)}_translate(t,r){let o=new zc.Vector3;r.getSize(o);let i=this._translationMatrix(o);r.applyMatrix4(i),t.premultiply(i)}_orientationMatrix(){return e.orientationMatrix(this.orientation)}_scaleMatrix(t){let{size:r}=this;return new zc.Matrix4().makeScale(r.x/t.x,r.y/t.y,r.z/t.z)}_rotationMatrix(){return new zc.Matrix4().makeRotationZ(this.rotation.z*Math.PI/180)}_translationMatrix(t){let{position:r}=this;return new zc.Matrix4().makeTranslation(t.x/2+r.x,t.y/2+r.y,t.z/2+r.z)}static isIdentity(t){return t.elements.every((r,o)=>o%5===0?r===1:r===0)}static aspectFitXY(t,r){let o=t.x/t.y,n=r.x/r.y>o?r.y/t.y:r.x/t.x;return{x:t.x*n,y:t.y*n,z:t.z*n}}static orientationMatrix(t){let r=new zc.Matrix4;switch(t){case"Bottom":return r.makeRotationX(Math.PI);case"Left":return r.makeRotationY(Math.PI/2);case"Right":return r.makeRotationY(-Math.PI/2);case"Front":return r.makeRotationX(-Math.PI/2);case"Back":return r.makeRotationX(Math.PI/2)}return r}},Vp=bB;var vB=class e{constructor(t){y(this,"_bbox");y(this,"array");this.array=t,this._bbox=null}clone(){return new e(this.array.slice())}get bbox(){return this._bbox==null&&(this._bbox=new o2.Box3,this._bbox.setFromArray(this.array)),this._bbox.clone()}transform(t){if(t==null||Vp.isIdentity(t))return this;let r=this.array.slice(),o=new o2.Vector3;for(let i=0;i<r.length;i+=3)o.set(r[i],r[i+1],r[i+2]),o.applyMatrix4(t),r[i]=o.x,r[i+1]=o.y,r[i+2]=o.z;return new e(r)}mapFaces(t){let r=new Array(this.array.length/9);for(let o=0;o<r.length;o++)r[o]=t(new o2.Vector3().fromArray(this.array,o*9),new o2.Vector3().fromArray(this.array,o*9+3),new o2.Vector3().fromArray(this.array,o*9+6));return r}static fromJsonMesh(t){return new e(t.geometry.data.attributes.position.array)}},qC=vB;function lNe(e,t=10){let r=new Array(t*t).fill(-1/0),o=qC.fromJsonMesh(e),i=o.bbox.expandByScalar(1e-10),n=i.getSize(new uee.Vector3),s=o.array;for(let a=2;a<s.length;a+=3){let l=s[a-2],c=s[a-1],u=s[a],p=Math.floor(t*(l-i.min.x)/n.x),m=Math.floor(t*(c-i.min.y)/n.y),h=(u-i.min.z)/n.z;r[m*t+p]=Math.max(h,r[m*t+p])}return r}function cNe(e,t,r,o,{relief:i,depth:n}){let s=i&&i!="None"?Math.max(0,r.z-n):0,a=pee(e,o,l=>s<=l&&l<r.z);return $C(a,t,t.plunge)}function uNe(e,t,r,o,i){let{relief:n,depth:s,padding:a,offset:l}=i,c=n&&n!="None"?Math.max(0,r.z-s):0,u=0;for(let p=c;p<r.z;p+=t.dpp){let m=pee(e,o,f=>f<=p);u+=$C(m,t,t.feed);let h={left:0,right:0,front:0,back:0};switch(n){case"None":{let f=t.bitWidth*t.stepOver;h={left:f,right:f,front:f,back:f}}break;case"Model":h={left:l,right:l,front:l,back:l};break;case"Rectangle":h=kf.sanitize(a);break}u+=pNe(o,h,t)}return u}function pee(e,t,r){let o=e.filter(i=>r(i*t.size.z+t.position.z)).length;return t.size.x*t.size.y*(o/e.length)}function pNe(e,t,r){let o=e.size.x+t.left+t.right,i=e.size.y+t.front+t.back,n=o*i-e.size.x*e.size.y;return n>0?$C(n,r,r.feed):0}function $C(e,t,r){let o=t.stepOver*t.bitWidth;return e/o/r}var i2={coarseGrid:lNe,roughingDuration:uNe,finishingDuration:cNe,approximateDuration:$C};var dNe={_sliceProperties:{undoable:!1},workpieceIds:[],byWorkpieceId:{},activeWorkpieceId:wo,workpiecesVisible:!0,editorFraction:me.DEFAULT_EDITOR_FRACTION,editorSize:{width:typeof window<"u"?window.innerWidth*me.DEFAULT_EDITOR_FRACTION:1152,height:typeof window<"u"?window.innerHeight-me.PRIMARY_NAV_HEIGHT-me.DEFAULT_WORKPIECES_HEIGHT:856},windowSize:{width:typeof window<"u"?window.innerWidth:1920,height:typeof window<"u"?window.innerHeight:1080},preferredUnit:"in"},mNe=Ht(Bp.DELETE_WORKPIECE,async({projectLinkToken:e,id:t},{dispatch:r,getState:o})=>{let i=o(),n=mee(i,t),a=n2(i,t)?.backendId;r(xl.actions._deleteWorkpiece({id:t,nextActiveId:n}));try{await Promise.all([await r(xl.actions.showWorkpiece({id:n,linkToken:e})),a?Gr.deleteWorkpiece(e,a):Promise.resolve()])}catch(l){console.error("Error deleting workpiece: ",l)}}),fNe=Ht("workpieces/hideWorkpiece",async({projectLinkToken:e,id:t},{dispatch:r,getState:o})=>{let i=o(),n=mee(i,t);r(xl.actions._deleteWorkpiece({id:t,nextActiveId:n})),await r(xl.actions.showWorkpiece({id:n,linkToken:e}))}),SB=Ht(Bp.DUPLICATE_WORKPIECE,async({newId:e,originalId:t,projectLinkToken:r},{getState:o})=>{let i=o(),n=n2(i,t),s=n.backendId;try{let a=await(r==null?Promise.resolve({workpiece_id:null}):Gr.createWorkpiece(r,{workpiece:{project_id:r,client_id:e}})),l=a.workpiece_id;return n.isImportedMesh&&await k4.duplicateWorkpieceMeshData(s,a.workpiece_id),{newId:e,originalId:t,backendId:l}}catch(a){if(n.isImportedMesh)throw a;return{newId:e,originalId:t,backendId:null}}}),hNe=Ht(Bp.SHOW_WORKPIECE,async({id:e,linkToken:t,previousId:r},{dispatch:o,getState:i})=>{let n=i();r??(r=n.workpieces.activeWorkpieceId);let s=n2(n,e);if(!s)throw new Error(`Workpiece ${e} not found`);let{loadingState:a,backendId:l}=s;if(o(xl.actions._showWorkpiece(e)),!(a.status==="loading"||a.status==="complete")){if(!l)throw new Error(`Workpiece ${e} missing backend ID`);o(xl.actions._setLoadingStatus({id:e,loadingState:{status:"loading"}}));try{let u={workpieces:(await k4.getWorkpieceData(t,l)).workpieces};o3.initialize(u);let p=i3({fontManager:qr,googleFontManager:qd,uploadedFontManager:h5});try{await p.loadFontsInSavedProjectData(u)}catch{}let m=i(),h=re.bits(m),f=q.getAllMaterials(m),x=Y.getWorkArea(m),v=u.workpieces[0];o(xl.actions.loadWorkpieceData({backendId:l,savedData:v.saved_data,allBits:h,allMaterials:f,workArea:x,saveKey:v.save_key})),await o(xl.actions.loadMesh({workpiece:v,localWorkpieceId:e}))}catch(c){o(xl.actions._setLoadingStatus({id:e,loadingState:{status:"error",lastError:c}})),Fe("Workpiece download failed","Please ensure a working Internet connection",[{text:"OK",action:()=>{n2(n,r)?.loadingState?.status==="complete"&&o(xl.actions.showWorkpiece({id:r,linkToken:t,previousId:r}))}},{text:"Retry",action:()=>o(xl.actions.showWorkpiece({id:e,linkToken:t,previousId:r}))}],`${c}`)}}}),CB=Ht(Bp.CREATE_AND_SHOW_WORKPIECE,async({workpieceData:e,projectLinkToken:t})=>{try{let r=await(t==null?Promise.resolve({workpiece_id:null}):Gr.createWorkpiece(t,{workpiece:{project_id:t,client_id:e.id}})),o={...e,backendId:r.workpiece_id};return{newId:e.id,workpiece:o}}catch{let r={...e,backendId:null};return{newId:e.id,workpiece:r}}}),gNe=Ht("workpieces/loadMesh",async({workpiece:e,localWorkpieceId:t},{dispatch:r})=>{let o=e.saved_data?.three_d_prototype,i=null;if(e.mesh){if(e.mesh.saved_data)i=e.mesh.saved_data;else if(e.mesh.mesh_url){let n=e.mesh.mesh_url;if(n.substring(n.length-4,n.length)==="json")i=await Wr(n);else{let l=await(await(await fetch(n)).blob()).arrayBuffer();i=YC.to3DMeshJSON(l)}}}else o?.mesh&&(i=o.mesh);return i&&(r(xl.actions.setIsImportedMesh(t,!0)),r(xl.actions.setThreeDGuesstimateGrid(t,i2.coarseGrid(i))),r(xl.actions.setThreeDMesh(t,i))),i}),yNe={reducer:(e,t)=>{let{workpiece:r,show:o}=t.payload,i=PB(e,r);i.position=r.position,o&&(e.activeWorkpieceId=i.id)},prepare:(e,t)=>({payload:{workpiece:e,show:t?.show}})},xNe={reducer:(e,t)=>{e.activeWorkpieceId=t.payload.id},prepare:e=>({payload:{id:e}})},bNe=(e,t)=>{let{id:r,nextActiveId:o}=t.payload;e.workpieceIds=e.workpieceIds.filter(i=>i!==r),delete e.byWorkpieceId[r],e.activeWorkpieceId=o},vNe={reducer:(e,t)=>{let{workpieces:r}=t.payload,o=[];for(let i=0;i<r.length;i++){let{id:n}=r[i];e.byWorkpieceId[n].position=i+1,o.push(n)}e.workpieceIds=o},prepare:e=>({payload:{workpieces:e}})},SNe={reducer:(e,t)=>{let{id:r,isImportedMesh:o}=t.payload;e.byWorkpieceId[r].isImportedMesh=o},prepare:(e,t)=>({payload:{id:e,isImportedMesh:t}})},CNe={reducer:(e,t)=>{let{id:r,name:o}=t.payload;e.byWorkpieceId[r].name=o},prepare:(e,t)=>({payload:{id:e,name:t}})},PNe={reducer:(e,t)=>{let{id:r,imageData:o}=t.payload,i=e.byWorkpieceId[r];i&&(i.imageData=o)},prepare:(e,t)=>({payload:{id:e,imageData:t}})},wNe={reducer:(e,t)=>{let{id:r,note:o}=t.payload;e.byWorkpieceId[r].note=o},prepare:(e,t)=>({payload:{id:e,note:t}})},_Ne={reducer:(e,t)=>{let{id:r,save_key:o}=t.payload;e.byWorkpieceId[r].save_key=o},prepare:(e,t)=>({payload:{id:e,save_key:t}})},kr=We({name:"workpieces",initialState:dNe,reducers:{loadWorkpiece:yNe,_showWorkpiece:xNe,_deleteWorkpiece:bNe,_setLoadingStatus:(e,{payload:t})=>{e.byWorkpieceId[t.id].loadingState=t.loadingState},reorderWorkpieces:vNe,setIsImportedMesh:SNe,setName:CNe,setThumbnailImage:PNe,setNote:wNe,setSaveKey:_Ne,loadWorkpieceData:(e,{payload:t})=>{let{backendId:r,savedData:o,allMaterials:i,allBits:n,workArea:s}=t;if(r==null)throw new Error("loadWorkpieceData: no backendId");if(typeof o=="string")throw new Error("loadWorkpieceData: wrong saved_data");if(Object.keys(o).includes("canvas"))throw new Error("loadWorkpieceData: use project_data_initializer");let a=Object.values(e.byWorkpieceId).find(l=>l.backendId===r);if(a==null)throw new Error("loadWorkpieceData: no matching workpiece");if(a.loadingState.status==="complete")throw new Error("loadWorkpieceData: already loaded");a.note=o.note,a.experiments=o.experiments??{},o.imported_gcode&&dee(a,o.imported_gcode),o.material&&$K(a.materialState,o.material,i,o.layerDepths),nQ(a.bitState,o.bitParams,n),HK(a.jobSettingsState,o.job_settings),JK(a.walkthroughState,o),o.three_d_prototype&&RK(a.threeDPrototypeState,o.three_d_prototype),o.tiling&&(a.tileState.tileOverlap=o.tiling.overlap,a.tileState.tileSizes=o.tiling.tileSizes,a.tileState.selectedTile=o.tiling.selectedTile,o.tiling.selectedTile!=null&&(a.materialState.xyZeroLocation="front-left")),hQ(a,e.editorSize,s),DK(a,o.volumes,o.groups??{}),a.loadingState.status="complete"},setExternalGcode:(e,{payload:t})=>{dee(e.byWorkpieceId[e.activeWorkpieceId],t)},clearGcodePasses:(e,{payload:t})=>{e.byWorkpieceId[t?.workpieceId??e.activeWorkpieceId].internalGcodeState.gcodePasses=[]},setGcodePasses:(e,{payload:t})=>{e.byWorkpieceId[t?.workpieceId??e.activeWorkpieceId].internalGcodeState.gcodePasses=t.gcodePasses},...LK,...jK,...zK,...ZK,...aQ,...rQ,...AK,...vQ,...qK,...CQ},extraReducers:e=>{e.addCase(SB.fulfilled,(t,r)=>{let{newId:o,originalId:i,backendId:n}=r.payload,s=t.byWorkpieceId[i];s&&(PB(t,le(s,{id:o,backendId:n}),"complete"),NK(t,r),t.activeWorkpieceId=o)}),e.addCase(SB.rejected,(t,{error:r})=>{console.error(r)}),e.addCase(CB.fulfilled,(t,r)=>{let{workpiece:o,newId:i}=r.payload,n=t.byWorkpieceId[t.activeWorkpieceId],s={...o,thumbnailUrl:EASEL_ASSETS.images.emptyThumbnail,materialState:n.materialState,bitState:n.bitState,walkthroughState:eB(n.bitState.bitParams)};PB(t,s,"complete"),t.activeWorkpieceId=i}),e.addCase(CB.rejected,(t,{error:r})=>{Ut(`Failed to add workpiece: Error creating workpiece: ${r}`)}),e.addCase(Vr("machineSettings/setMachineType"),(t,{payload:r})=>{r===ze.CARVEY&&t.activeWorkpieceId!==wo&&(t.byWorkpieceId[t.activeWorkpieceId].materialState.xyZeroLocation="front-left")}),e.addCase(Vr("machineSettings/setLoadedMachineConfiguration"),(t,r)=>{r.payload.machineType===ze.CARVEY&&t.activeWorkpieceId!==wo&&(t.byWorkpieceId[t.activeWorkpieceId].materialState.xyZeroLocation="front-left"),r.payload.workArea&&(oB(t,r.payload.workArea),QL(t,r.payload.workArea),t.previousWorkArea={...r.payload.workArea})}),e.addCase(Vr("machineSettings/updateWorkArea"),(t,r)=>{oB(t,r.payload),QL(t,r.payload),t.previousWorkArea={...r.payload}}),e.addCase(Q.updateDefaults.pending,(t,r)=>{r.meta.arg.unit&&(t.preferredUnit=r.meta.arg.unit)}),e.addCase(Vr("unit/setUnit"),(t,r)=>{t.preferredUnit=r.payload}),e.addCase(Vr("bits/deleteBit"),sQ)}}),PB=(e,t,r="partial")=>{let o=t.id,i=Math.max(0,...Object.values(e.byWorkpieceId).map(s=>s.position))+1,n={...kNe(r),...t,position:i};return e.byWorkpieceId[o]=n,e.workpieceIds.push(o),n},kNe=(e="partial")=>({volumeState:IK(),externalGcodeState:{gcode:null},internalGcodeState:{gcodePasses:[]},tileState:XK(),threeDPrototypeState:e3(),jobSettingsState:GK(),materialState:OC(),bitState:FC(),walkthroughState:eB(),editorState:IC(),viewportState:VC(),loadingState:{status:e},saveState:SQ()}),mee=(e,t)=>{let{activeWorkpieceId:r,workpieceIds:o,byWorkpieceId:i}=e.workpieces;if(t!==r)return r;let n=i[t];return n==null||o.length===1?wo:jd(Object.values(i),a=>{let{id:l,position:c}=a;return l!==n.id?Math.abs(c-n.position):1/0}).id},dee=(e,t)=>{e.externalGcodeState.gcode=t,e.materialState.xyZeroLocation="front-left"},TNe=_e([e=>e.workpieces,(e,t)=>t??e.activeWorkpieceId],(e,t)=>n2({workpieces:e},t)?.imageData),n2=(e,t)=>e.workpieces.byWorkpieceId[t],ENe=(e,t)=>{let r=t??e.workpieces.activeWorkpieceId;return e.workpieces.byWorkpieceId[r]?.loadingState?.status??"partial"},MNe=(e,t)=>{let r=t??e.workpieces.activeWorkpieceId;return e.workpieces.byWorkpieceId[r]?.saveState},ANe=e=>Object.values(e.workpieces.byWorkpieceId).some(t=>t.isImportedMesh!=null),INe=e=>n2(e,e.workpieces.activeWorkpieceId),DNe=e=>e.workpieces.activeWorkpieceId,wB=_e(e=>e.workpieces.workpieceIds,e=>e.workpieces.byWorkpieceId,(e,t)=>e.map(r=>t[r])),NNe=_e(wB,e=>{let t=Object.create(null),r=[];for(let o of e){let i=o.materialState.active;i?.id!=null&&i?.name!=null&&!t[i.name]&&(t[i.name]=!0,r.push(i.name))}return r}),ZC=[kr.actions.setExternalGcode,kr.actions.setMainBit,kr.actions.setDetailBit,kr.actions.setOutlineBit,kr.actions.deactivateDetailBit,kr.actions.deactivateOutlineBit,kr.actions.setName,kr.actions.reorderWorkpieces,kr.actions.setIsImportedMesh,kr.actions.setNote,kr.actions.selectMaterial,kr.actions.setMaterialDimensions,kr.actions.setLayerDepths,kr.actions.setLayerColor,kr.actions.setXYZeroLocation,kr.actions.setColorVariation,kr.actions.setColorToCustom,kr.actions.setThreeDCutStyle,kr.actions.setThreeDFinish,kr.actions.setThreeDTransform,kr.actions.setThreeDTabsInfo],JC=[kr.actions.setStepOver,kr.actions.setVBitDetailStepOver,kr.actions.setProfileStepOver,kr.actions.setBallnoseStepOver,kr.actions.setSafetyHeight,kr.actions.setFillAngle,kr.actions.setMillingDirection,kr.actions.setRampingAngle,kr.actions.setFeedRate,kr.actions.setPlungeRate,kr.actions.setDepthPerPass,kr.actions.setSpindleSpeed,kr.actions.setUseCustomJobSettings],ONe=_e([wB],e=>e.map(t=>({name:t.name,position:t.position,experiments:t.experiments,isImportedMesh:t.isImportedMesh,version:t.version,note:t.note,backendId:t.backendId,save_key:t.save_key}))),LNe=(e,t)=>{let r=t??e.workpieces.activeWorkpieceId;return r===wo?null:e.workpieces.byWorkpieceId[r].externalGcodeState.gcode},BNe=(e,t)=>{let r=t??e.workpieces.activeWorkpieceId;return r===wo?[]:e.workpieces.byWorkpieceId[r].internalGcodeState.gcodePasses??[]},FNe=e=>e.workpieces.byWorkpieceId[e.workpieces.activeWorkpieceId].editorState.drawingMode!==null,WNe=e=>Object.values(e.workpieces.byWorkpieceId).filter(o=>o.loadingState.status==="complete").some(o=>o.saveState.isSaving),VNe=e=>Object.values(e.workpieces.byWorkpieceId).filter(o=>o.loadingState.status==="complete").some(o=>o.saveState.isUnsaved),UNe=e=>Object.values(e.workpieces.byWorkpieceId).filter(o=>o.loadingState.status==="complete").some(o=>o.saveState.savedOffline),RNe=e=>Object.values(e.workpieces.byWorkpieceId).filter(o=>o.loadingState.status==="complete").some(o=>o.saveState.isSaved),jNe=e=>{switch(e.workpieces.byWorkpieceId[e.workpieces.activeWorkpieceId].editorState.drawingMode){case"path":return"Straight";case"curvedPath":return"Curved";case"arc":return"Arc";default:return"Unknown"}},GNe=e=>Object.values(e.workpieces.byWorkpieceId).filter(r=>r.saveState.error!=null),HNe={getWorkpiece:n2,getLoadingStatus:ENe,getSaveState:MNe,isThreeDProject:ANe,getActiveWorkpiece:INe,getWorkpieces:wB,getActiveId:DNe,getThumbnail:TNe,getWorkpiecesForSaving:ONe,getExternalGcode:LNe,getGcodePasses:BNe,getInUseMaterialNames:NNe,isLineToolActive:FNe,anyWorkpieceIsSaving:WNe,anyWorkpieceIsUnsaved:VNe,anyWorkpieceSavedOffline:UNe,anyWorkpieceSaved:RNe,getPenDrawingDisplayMode:jNe,getWorkpieceErrors:GNe},xl={reducer:kr.reducer,actions:{...kr.actions,createAndShowWorkpiece:CB,deleteWorkpiece:mNe,hideWorkpiece:fNe,duplicateWorkpiece:SB,showWorkpiece:hNe,loadMesh:gNe},...HNe,DUMMY_WORKPIECE_ID:wo},W=xl;var zNe=e3(),$d=(e,t)=>{let r=t??e.workpieces.activeWorkpieceId;return r===wo?zNe:e.workpieces.byWorkpieceId[r].threeDPrototypeState},XNe={isThreeD:(e,t)=>!!$d(e,t)?.mesh,getMesh:(e,t)=>$d(e,t).mesh,getTransform:(e,t)=>$d(e,t).transform,getCutStyle:(e,t)=>$d(e,t).cutStyle,getMeshSaveStatus:(e,t)=>$d(e,t).meshSaveStatus,isOptimizedToastVisible:(e,t)=>$d(e,t).optimizedToastVisible,getPreview:(e,t)=>$d(e,t).preview,getGuesstimateGrid:(e,t)=>$d(e,t).guesstimateGrid,getTabsInfo:(e,t)=>$d(e,t).tabsInfo,getFinish:(e,t)=>$d(e,t).finish},Ue=XNe;var _B=We({name:"saveStatus",initialState:{isSaved:!1,isUnsaved:!1,isSaving:!1,error:null,savedOffline:!1},reducers:{setSaved(e){e.isSaved=!0,e.isUnsaved=!1,e.isSaving=!1,e.error=null,e.savedOffline=!1},setSavedOffline(e){e.isUnsaved=!1,e.isSaving=!1,e.savedOffline=!0},setUnsaved(e){e.isSaved=!1,e.isUnsaved=!0,e.isSaving=!1,e.error=null},setUnsavedWithSaveInProgress(e){e.isSaved=!1,e.isUnsaved=!0,e.isSaving=!0},setUnsavedWithError(e,{payload:t}){e.isSaved=!1,e.isUnsaved=!0,e.isSaving=!1,typeof t!="string"?e.error="Unknown saving error":e.error=t}}}),n3={isSaved:e=>e.saveStatus.isSaved,isUnsaved:e=>e.saveStatus.isUnsaved,isSaving:e=>e.saveStatus.isSaving,getError:e=>e.saveStatus.error,isSavedOffline:e=>e.saveStatus.savedOffline},YNe=_e([n3.isSaved,n3.isUnsaved,n3.isSaving,n3.getError,n3.isSavedOffline,Ue.getMeshSaveStatus,W.anyWorkpieceIsSaving,W.anyWorkpieceIsUnsaved,W.anyWorkpieceSavedOffline,W.anyWorkpieceSaved,W.getWorkpieceErrors],(e,t,r,o,i,n,s,a,l,c,u)=>{let p=e||c,m=!t&&!a,h=r||s,f=p&&m&&!h,x=t||a,v=u,b=o||v.length>0;return{isSaved:f,isUnsaved:x,isSaving:h,isError:b,savedOffline:i||l,meshSaveStatus:n,workpieceErrors:v}}),qNe={actions:_B.actions,reducer:_B.reducer,initialState:()=>({..._B.getInitialState()}),...n3,getCombinedSaveStatus:YNe},ko=qNe;var $Ne=(e,t=2e3)=>{let r=null;return(...o)=>(r!=null&&clearTimeout(r),r=setTimeout(function(){e(...o),r=null},t))},ha=$Ne;var ZNe=function(e,t,r){let o={},i=Math.random().toString(36).substr(2),n=null,s=null,a=Promise.resolve(),l=()=>{a=Promise.resolve()},c=()=>(n=(n||0)+1,n),u=h=>h.catch(function(){}),p=(h,f,x)=>{if(!r)return Promise.resolve(null);let v={linkToken:f,snapshotData:h.project(),saveClient:i,saveKey:s,saveVersion:x};return Promise.all([r.storeProject(v)]).then(([b])=>(h.markProjectSaved(b),!0)).catch(b=>(console.error("Offline save failed:",b),!1))},m=function(){let h=c();return a=u(a).then(function(){let f=t.snap();if(!f.hasChanged())return Promise.resolve({saveVersion:n,saveResponse:{status:"saved",error:null}});let x=e(),v=p(f,x,h),b=Gr.update(x,{project:{...f.project(),save_client:i,save_key:s,save_version:h}}).then(w=>w).catch(w=>(console.error("Server save failed:",w),!1)),S;return Promise.all([h,b,v]).then(([w,_,E])=>{if(_?.error||_===!1&&E===!1){r?.clearByLinkToken(x);let T=_?.error||"Both server and offline saves failed";return Promise.reject(T)}return S=w,{savedVersion:S,serverData:_}}).then(({savedVersion:w,serverData:_})=>_===!1||_?.error?{saveVersion:w,saveResponse:{status:"offline",error:null}}:(r?.clearByLinkToken(x,w)||Promise.resolve()).catch(T=>{console.error("Failed to clear project offline storage",T)}).then(()=>({saveVersion:w,saveResponse:{status:"saved",error:null}})))})};return o.saveProject=m,o.reset=l,o.setProjectSaveParams=function({save_version:h,save_key:f}){n=h,s=f},o.getProjectSaveClient=()=>i,o.getProjectSaveVersion=()=>n,o.currentProjectVersion=()=>n,o},fee=ZNe;function JNe(e){let t=null,r=n=>t==null?!0:!_r(t,n),o=()=>{let n=le(e());delete n.labels;let s=r(n);return{hasChanged(){return s},project(){return n},markProjectSaved:()=>{t=n}}};return{snap:o,takeSnapshotAndEnableSaving:()=>{o().markProjectSaved()}}}var hee=JNe;var KNe=function(e){let t=null,r=n=>t==null?!0:!(_r(t,n)&&n.backendId!=null),o=function(){let n=le(e()),s=r(n),a=function(){t=n},l=(()=>{let c=le(n),{backendId:u}=c;return delete c.backendId,c.id=u,c})();return{hasChanged(){return s},workpiece(){return l},markWorkpieceSaved:a}};return{snap:o,takeSnapshotAndEnableSaving:function(){o().markWorkpieceSaved()}}},gee=KNe;var QNe=function(e,t,r){let o={},i=null,n=Promise.resolve(),s=()=>{n=Promise.resolve()},a=u=>u.catch(function(){}),l=(u,p)=>{if(!r)return Promise.resolve(null);let m=u.workpiece(),h=Li.getProjectSaveClient();return r.storeWorkpiece({clientId:m.client_id,backendId:m.id||null,snapshotData:m,linkToken:p,saveClient:h},{linkToken:p,saveClient:h,saveKey:i,saveVersion:0}).then(()=>!0).catch(f=>(console.error("Offline save failed:",f),!1))},c=function(){return n=a(n).then(function(){let u=t.snap();if(!u.hasChanged())return console.log("[WorkpieceSaver] No changes detected, skipping save"),Promise.resolve("saved");let p=e(),m=l(u,p),h=u.workpiece(),f=Gr.upsertWorkpiece(p,0,{workpiece:{...h,save_key:i}}).then(x=>x).catch(x=>(console.error("Server save failed:",x),!1));return Promise.all([f,m]).then(([x,v])=>{if(x?.error||x===!1&&v===!1){r?.clearByLinkToken(p);let b=x?.error||"Both server and offline saves failed";return Promise.reject(b)}return{serverData:x,offlineData:v}}).then(({serverData:x})=>{if(x===!1)return"offline";i=x.save_key,u.markWorkpieceSaved();let v=r?.clearByLinkToken(p,0);return v?v.catch(b=>{console.error("Failed to clear offline storage",b)}).then(()=>"saved"):"saved"})})};return o.setSaveKey=u=>i=u,o.getSaveKey=()=>i,o.saveWorkpiece=c,o.reset=s,o},yee=QNe;var kB=(e,t)=>Zd(e)?.[t]?.fillAngle,eOe=(e,t)=>Zd(e)?.[t]?.millingDirection??"default",TB=(e,t)=>Zd(e)?.[t]?.rampingAngle,tOe=e=>Zd(e)?.safetyHeight,rOe=e=>Zd(e)?.stepOver,oOe=e=>Zd(e)?.ballnoseStepOver,iOe=e=>Zd(e)?.vBitDetailStepOver,nOe=e=>Zd(e)?.profileStepOver,Zd=(e,t)=>{let r=t??e.workpieces.activeWorkpieceId;return r===wo?null:e.workpieces.byWorkpieceId[r]?.jobSettingsState},sOe=_e([e=>e,e=>re.detailBitEnabled(e)],(e,t)=>{let r=TB(e,"bit")!=null,o=TB(e,"detailBit")!=null;return r||t&&o}),aOe=_e([e=>e,e=>re.detailBitEnabled(e)],(e,t)=>{let r=kB(e,"bit")!=null,o=kB(e,"detailBit")!=null;return r||t&&o}),lOe=(e,t)=>KC(e,t,"bit"),cOe=(e,t)=>KC(e,t,"detailBit"),uOe=(e,t)=>KC(e,t,"outlineBit"),KC=(e,t,r="bit")=>Zd(e,t)?.[r],pOe={getFillAngle:kB,getMillingDirection:eOe,getRampingAngle:TB,getSafetyHeight:tOe,getStepOver:rOe,getBallnoseStepOver:oOe,getVBitDetailStepOver:iOe,getProfileStepOver:nOe,isRampingInUse:sOe,isRasterFillingInUse:aOe,getSettings:Zd,getBitSettings:lOe,getDetailBitSettings:cOe,getOutlineBitSettings:uOe,getBitSettingsForKey:KC},Ge=pOe;var dOe=function(e){let{offset:t,rect:r,overlapDistance:o}=e;function i(){return r}function n(){return{x:r[1].x-r[0].x,y:r[2].y-r[0].y}}function s(){return t}function a(){return fo.fromPointArrays([r])}function l(p){return`${Ve.convertFromIn(t,p)} ${p}`}function c(){return o}function u(){return e}return{getRect:i,getDimensions:n,getOffsetDistance:s,getOffsetDisplayString:l,getPointArrays:a,getOverlapDistance:c,explode:u}},U4=dOe;var R4=(e,t)=>{let r=t??e.workpieces.activeWorkpieceId;return r===wo?{tileOverlap:!1}:e.workpieces.byWorkpieceId[r].tileState},mOe=(e,t)=>QC(e,t)?.length??0,QC=(e,t)=>R4(e,t).tileSizes,xee=(e,t)=>R4(e,t).tileOverlap?e.unit.preferredUnit==="in"?1:Ve.convertToUnit(20,"mm","in"):0,EB=(e,t)=>{let r=Y.getWorkArea(e),o=q.getMaterialDimensions(e,t),i=xee(e),n=QC(e,t);if(n==null||n.length==0)return[];let s=0,a=[];return n.forEach(l=>{let c=Math.min(l,o.y-s);a.push(U4({offset:s,rect:[{x:0,y:s},{x:r.x,y:s},{x:r.x,y:s+c},{x:0,y:s+c}],overlapDistance:i})),s+=l-i}),a},fOe=e=>{let t=EB(e);return t.find(r=>r.getOffsetDistance()===0)||t[0]},hOe=(e,t)=>R4(e,t).selectedTile,MB=_e([hOe],e=>e?U4(e):null),gOe=(e,t)=>{let r=MB(e,t);return r?r.getDimensions().y:0},yOe=(e,t)=>{let r=MB(e,t),o=QC(e,t);if(r&&o&&o.length>0){let i=r.getOffsetDistance(),n=r.getOverlapDistance();return i/(o[0]-n)}},xOe=e=>R4(e).selectedTile!=null,bOe=e=>{let r=EB(e)[0]?.explode(),o=R4(e);return o.selectedTile!=null&&_r(o.selectedTile,r)},vOe={getAllTiles:EB,getFirstTile:fOe,getSelectedTile:MB,getTileOverlapDistance:xee,isTileSelected:xOe,getTileSizes:QC,isFirstTileSelected:bOe,getWorkpieceTileCount:mOe,getSelectedTileLength:gOe,getSelectedTileIndex:yOe},Dt=vOe;var SOe=(e,t)=>(e==="top"||e==="bottom")&&(t==="left"||t==="right")||(e==="left"||e==="right")&&(t==="top"||t==="bottom"),eP=(e,t,r)=>{let i={top:[{x:t.minX,y:t.maxY},{x:t.maxX,y:t.maxY}],bottom:[{x:t.minX,y:t.minY},{x:t.maxX,y:t.minY}],left:[{x:t.minX,y:t.minY},{x:t.minX,y:t.maxY}],right:[{x:t.maxX,y:t.minY},{x:t.maxX,y:t.maxY}]}[e];return r&&(e==="top"||e==="bottom"?(i[0].x=Math.min(r.x,t.minX),i[1].x=Math.max(r.x,t.maxX)):(i[0].y=Math.min(r.y,t.minY),i[1].y=Math.max(r.y,t.maxY))),i},COe=(e,t)=>{let{anchorId:r,anchorPoint:o,targetId:i,targetEdge:n}=e,s=t[r],a=t[i];if(!s||!a)throw new Error("measurementLineToPathShape called with measurementLine linked to missing volumes");let l=Xe.actualPathBoundingBox(s.shape),c=Xe.actualPathBoundingBox(a.shape),{x:u,y:p}=o,m={x:l.minX+u*(l.maxX-l.minX),y:l.minY+p*(l.maxY-l.minY)},h={left:{x:c.minX,y:m.y},right:{x:c.maxX,y:m.y},top:{x:m.x,y:c.maxY},bottom:{x:m.x,y:c.minY}}[n];return _o.pointsToRotatedLine([m,h])},POe=(e,t)=>{let{anchorId:r,anchorPoint:o,targetId:i,targetEdge:n}=e,s=t[r],a=t[i];if(!s||!a)return[];let l=Xe.actualPathBoundingBox(s.shape),c=Xe.actualPathBoundingBox(a.shape),{x:u,y:p}=o,m={x:l.minX+u*(l.maxX-l.minX),y:l.minY+p*(l.maxY-l.minY)},h=eP(n,c,m);return[eP(n==="left"||n==="right"?u<.5?"left":"right":p<.5?"bottom":"top",l,m),h]},wOe={isPerpendicular:SOe,getExtendedEdgeLine:eP,measurementLineToPathShape:COe,getPreviewLines:POe},Up=wOe;var AB={x:2,y:2},bee=[],{selectAll:vee,selectById:_Oe,selectIds:kOe,selectEntities:IB}=Bi.getSelectors(),TOe=e=>e.workpieces.byWorkpieceId[e.workpieces.activeWorkpieceId],Tf=e=>TOe(e)?.volumeState,tP=e=>{let t=Tf(e);return t?vee(t):bee},rP=_e([Tf,(e,t)=>t],(e,t)=>{if(t.length===0)return bee;let r=Fp(t);return e.ids.filter(i=>r[i]).map(i=>e.entities[i]).filter(i=>i!=null)}),EOe=_e([rP,e=>Tf(e).groups],(e,t)=>[...new Set(e.map(o=>o.group).filter(o=>o!=null))].map(o=>t[o])),MOe=_e([tP,(e,t)=>t],(e,t)=>{let r=Fp(t);return e.filter(o=>o.group&&r[o.group])}),AOe=_e([tP],e=>e.filter(t=>t.cut.type!=="measurement")),IOe=_e([rP,Tf],e=>e.filter(t=>t.cut.type!=="measurement")),DOe=_e([rP,Tf],(e,t)=>{let r=t?IB(t):{};return e.map(o=>ho(o)?{...o,shape:Up.measurementLineToPathShape(o.shape,r)}:o)}),NOe=_e([tP,Tf],(e,t)=>{let r=t?IB(t):{};return e.map(o=>ho(o)?{...o,shape:Up.measurementLineToPathShape(o.shape,r)}:o)}),OOe={getVolumes:(e,t)=>t?rP(e,t):tP(e),getVolumesForFabric:(e,t)=>t?DOe(e,t):NOe(e),getVolumesForWorkpiece:(e,t)=>{let r=e.workpieces.byWorkpieceId[t];return r?.volumeState==null?[]:vee(r.volumeState)},getVolumeById:(e,t,r)=>{let o=r??e.workpieces.activeWorkpieceId;return _Oe(e.workpieces.byWorkpieceId[o].volumeState,t)},getGroups:(e,t)=>{let r=t??e.workpieces.activeWorkpieceId;return e.workpieces.byWorkpieceId[r].volumeState.groups},getLastAddedVolume:e=>Tf(e).lastAdded,getVolumesForGroups:MOe,getGroupsForVolumes:EOe,getCarveableVolumes:(e,t)=>t?IOe(e,t):AOe(e),getAllVolumeIds:e=>kOe(Tf(e)),getVolumesById:e=>IB(Tf(e))},LOe={...OOe,newId:Tt},ye=LOe;var oP=(e,t)=>{let r=fn(ye.getVolumesForWorkpiece(e,t.id)),o=fn(ye.getGroups(e,t.id)),i=ot.projectMaterialAttributes(q.getActiveMaterial(e,t.id));i.xyZeroLocation=q.getXYZeroLocation(e,t.id),i.dimensions=q.getMaterialDimensions(e,t.id);let n=W.getExternalGcode(e,t.id),s=Dt.getSelectedTile(e,t.id),a={note:t.note,imported_gcode:n,canvas:r,material:i,layerDepths:q.getCustomLayerDepths(e,t.id),bit_params:re.bitParams(e,t.id),job_settings:Ge.getSettings(e,t.id),experiments:t.experiments,groups:o,tiling:{overlap:Dt.getTileOverlapDistance(e,t.id)>0,selectedTile:s?s.explode():null,tileSizes:Dt.getTileSizes(e,t.id)}},l=Ue.getMesh(e,t.id);return l!=null&&(a.three_d_prototype={cutStyle:Ue.getCutStyle(e,t.id),transform:Ue.getTransform(e,t.id),tabsInfo:Ue.getTabsInfo(e,t.id),finish:Ue.getFinish(e,t.id)}),{client_id:t.id,save_key:t.save_key,backendId:t.backendId,position:t.position,is_imported_gcode:n!==null,is_imported_mesh:l!=null,saved_data:JSON.stringify(a),name:t.name,version:8}};function BOe(e,t){let r={},o={},i={},n=()=>{let b=e.getState(),S=W.getActiveId(b),w=W.getWorkpiece(b,S);w&&(w.save_key&&v(S,w.save_key),s(S).takeSnapshotAndEnableSaving())},s=b=>{if(!r[b]){let S=()=>{let w=W.getWorkpiece(e.getState(),b);return oP(e.getState(),w)};r[b]=gee(S)}return r[b]},a=()=>W.getWorkpieces(e.getState()).map(S=>s(S.id)),l=b=>(o[b]||(o[b]=is(()=>yee(()=>ge.getProjectLinkToken(e.getState())||"",s(b),t))),o[b]()),c=b=>(i[b]||(i[b]={timeout:void 0,debouncedSaveWaiting:!1,debouncedSaveAction:ha(()=>(i[b].debouncedSaveWaiting=!1,h(b).catch(function(){})))}),i[b]),u=b=>{e.dispatch(W.actions.setSaved(b))},p=b=>{e.dispatch(W.actions.setSavedOffline(b))},m=(b,S)=>(e.dispatch(W.actions.setUnsavedWithError({workpieceId:b,error:S})),e.dispatch(ko.actions.setUnsavedWithError(S)),Promise.reject(`Save error: ${S}`)),h=b=>{it("workpiece_saving")||Promise.resolve();let S=l(b),w=c(b);if(ge.isReadOnly(e.getState()))throw new Error("Cannot save a read-only project");let _=E=>{E&&(w.debouncedSaveWaiting||(E==="offline"?p(b):u(b)))};return S.saveWorkpiece().then(_,E=>m(b,String(E)))},f=b=>{let S=e.getState(),w=c(b);if(ge.isReadOnly(S))e.dispatch(W.actions.setUnsaved(b));else return w.debouncedSaveWaiting=!0,e.dispatch(W.actions.setUnsavedWithSaveInProgress(b)),w.timeout=w.debouncedSaveAction(),w.timeout},x=b=>l(b).getSaveKey(),v=(b,S)=>l(b).setSaveKey(S);return{getWorkpieceSnapshotters:a,getWorkpieceSnapshotter:s,getWorkpieceSaveKey:x,setWorkpieceSaveKey:v,setupAutosave:n,scheduleAutosave:f,save:h}}var DB;function s2(e,t){if(!DB){if(!e||!t)throw new Error("WorkpieceAutosaver dependencies required for first initialization");DB=BOe(e,t)}return DB}var FOe=function(e,t){return{createProjectCopy:function(o,i){let n=[];return n=t.map(a=>a.snap()).filter(a=>a.hasChanged()).map(a=>a.workpiece()),Gr.clone(e,o,n,[],i)}}},See=FOe;function s3(e){return e.startsWith("frameless-lower")}function Cee(e){return e.includes("-blocks")}function iP(e){return e.includes("-corner-90-degree")}var WOe=["appliance","refrigerator","range","dishwasher","microwave"];function NB(e){return WOe.includes(e)}var OB=(e,t,r)=>{let o=r?.height??null,i=r&&"fixedCount"in r?r.fixedCount:void 0,n=r&&"adjustableCount"in r?r.adjustableCount:void 0;switch(e){case"doors":return{tag:e,height:o,swing:"both",fixedCount:i??0,adjustableCount:n??0};case"open-shelves":return s3(t)?{tag:e,height:o,fixedCount:i??1,adjustableCount:n??0}:{tag:e,height:o,fixedCount:i??0,adjustableCount:n??1};case"false-front":case"drawer":return{tag:e,height:o}}},j4=e=>e==="open-shelves"||e==="doors",Pee=e=>e!=="open-shelves",nP=(e,t)=>{let r=e&&Pee(e),o=t&&Pee(t);return r&&!o?{previous:1,next:0}:!r&&o?{previous:0,next:1}:{previous:.5,next:.5}};var a2="frameless-upper",a3="frameless-upper-blocks",Jd="frameless-upper-corner-blind",Ef="frameless-lower-corner-blind",l2="frameless-lower",l3="frameless-lower-blocks",c3="frameless-lower-drawers",Mf="frameless-lower-drawer-over-door",g5="frameless-lower-sink",Kd="frameless-lower-corner-90-degree",Qd="frameless-upper-corner-90-degree",sP="wall-filler-strip",aP="base-filler-strip",wee="window",_ee="door",VOe="refrigerator",UOe="range",ROe="dishwasher",jOe="microwave",GOe="appliance",HOe={[a2]:"Wall Cabinet",[a3]:"Wall Cabinet, Custom (beta)",[Jd]:"Wall Cabinet, Blind Corner",[Ef]:"Base Cabinet, Blind Corner",[l2]:"Base Cabinet, Doors",[l3]:"Base Cabinet, Custom (beta)",[c3]:"Base Cabinet, Drawers",[Mf]:"Base Cabinet, Drawer & Door",[g5]:"Base Cabinet, Sink",[Kd]:"Base Cabinet, 90\xB0 Corner",[Qd]:"Wall Cabinet, 90\xB0 Corner",[sP]:"Wall Filler Strip",[aP]:"Base Filler Strip"},zOe=[a2,Jd,Qd,a3,sP],LB=[l2,Ef,c3,Mf,g5,Kd,l3],kee=[...LB,aP],XOe=[sP,aP],YOe=[Jd,Ef,Qd,Kd],qOe=[VOe,UOe,ROe,jOe,GOe],$Oe=[wee,_ee],BB=[a2,a3,Jd,Qd,l2,l3,Ef,c3,Mf,Kd,g5],Tee=[Kd,Qd],ZOe=[a2,a3,Jd,l2,l3,c3,Mf,g5],Eee=[c3],lP=[a3,l3],Mee=[...Eee,...lP,Mf],JOe=[...BB],KOe=[...BB],QOe=[Jd,Ef,Kd,Qd,...Tee],G4=[a2,Jd,Qd,l2,Ef,Mf,g5,Kd],eLe=[g5],u3=[Jd,Ef],FB=[a2,Jd,Qd,l2,Mf,Ef,Kd],tLe=[...FB,...lP],cP=[...kee],rLe=[Mf,g5],H4=[Kd,Qd],oLe=(e,t)=>u3.includes(e)?t.side==="left"?["left"]:["right"]:H4.includes(e)?["left","right"]:["left","right","both"],iLe={framelessUpper:a2,framelessUpperBlocks:a3,framelessUpperCornerBlind:Jd,framelessLower:l2,framelessLowerBlocks:l3,framelessLowerCornerBlind:Ef,framelessLowerDrawers:c3,framelessLowerDrawerOverDoor:Mf,framelessLowerSink:g5,framelessLowerCornerNinetyDegree:Kd,framelessUpperCornerNinetyDegree:Qd,wallFillerStrip:sP,baseFillerStrip:aP,fillerTypes:XOe,cornerTypes:YOe,wallTypes:zOe,baseCabinetTypes:LB,baseTypes:kee,applianceTypes:qOe,fenestrationTypes:$Oe,window:wee,door:_ee,supportsBlocks:lP,supportsBox:BB,supportsNinetyDegreeCornerDimensions:Tee,supportsBackCustomization:ZOe,supportsCorner:QOe,supportsDoors:G4,supportsDrawers:Mee,supportsFalseFronts:rLe,supportsFronts:JOe,supportsFrontStyles:KOe,supportsOpening:u3,supportsShelfItems:FB,supportsShelves:tLe,supportsToekick:cP,supportsVariableDrawers:Eee,supportsSinkStretchers:eLe,supportsBifold:H4,doorSwingOptions:oLe,typesToTitle:HOe},Te=iLe;var Aee=e=>{let{construction:t,door:r,frame:o}=e,i=e.size.height;return r?.type===ve.door.types.inset&&(o?.style===ve.frame.style.faceFrame?i-=o.railWidths.top:i-=t.thickness),i},Iee=e=>{let{door:t}=e;return t?.type===ve.door.types.inset?Nee(e):Dee(e)},Dee=e=>{let{construction:t,frame:r}=e,o=WB(e);if(r?.style===ve.frame.style.faceFrame&&!Oee(e)){let i=r.railWidths.bottom-t.thickness;o-=i}return o},c2=e=>Aee(e)-Iee(e),nLe=e=>{let{construction:t,frame:r,size:o}=e,i=o.height;return r?.style===ve.frame.style.faceFrame?i-=r.railWidths.top:i-=t.thickness,i},Nee=e=>{let{construction:t,frame:r}=e,o=Dee(e);return r?.style===ve.frame.style.faceFrame?o+=r.railWidths.bottom:o+=t.thickness,o},uP=e=>{let{construction:t,frame:r,size:{width:o}}=e;return r?.style===ve.frame.style.faceFrame?o-2*r.stileWidths.outside:o-2*t.thickness},pP=e=>{let{door:t,frame:r}=e;return t?.type==="inset"&&r?.style==="face-frame"?r.railWidths.middle:0},WB=e=>Oee(e)?e.toekick.height:0,Oee=e=>{let{cabinetType:t,toekick:r}=e;return Te.supportsToekick.includes(t)&&r?.enabled},sLe=e=>{let{size:t,construction:r,cabinetType:o}=e,i=t.height-WB(e)-2*r.thickness;return o==="frameless-lower-drawer-over-door"&&(i-=dP(e)+r.thickness),i},Lee=e=>{let{construction:t,door:r}=e;return r.thickness??t.thickness},aLe=e=>{let{cabinetType:t}=e;return Te.supportsDrawers.includes(t)?Te.supportsVariableDrawers.includes(t)?Math.floor(c2(e)/VB(e)):1:0},VB=e=>e.drawerItems.topHeight,lLe=e=>{if(e.blocks){let t=Vee(e),r=Math.min(...e.blocks.map(o=>o.height??t));return uLe(e)-(e.blocks.length-1)*r}else{let{drawerItems:{count:t}}=e;return c2(e)-(t-1)*VB(e)}},dP=e=>{let{cabinetType:t,drawerItems:{topHeight:r,count:o}}=e,i=Te.supportsVariableDrawers.includes(t);return o===1&&i?UB(e):r},UB=e=>{let{drawerItems:t}=e,r=c2(e);return t?.enabled&&(r-=pP(e)*(t.count-1)),r},cLe=e=>{let{drawerItems:t}=e,r=c2(e);if(t?.enabled){let o=t.items[0];r-=o.locked?o.height:dP(e),r-=pP(e)}return r},uLe=e=>{let{blocks:t}=e;return c2(e)-pP(e)*(t?.length-1)},pLe=e=>{let{drawerItems:{count:t}}=e,r=dP(e);switch(t){case 0:return[];case 1:return[r]}let o=UB(e)-r;return[r].concat(new Array(t-1).fill(o/(t-1)))},dLe=(e,t,r,o)=>{let{drawers:i}=e,{verticalOffset:n,drawerBottomToRunnerBottom:s}=ve.drawer;return{boxDims:{depth:i.depth,height:t-r-o-n,width:i.width??Fee(e)},boxBottomOffset:s+o-i.reveal}},mLe=e=>Math.floor(e.size.depth/2),Bee=e=>{let{size:{depth:t}}=e;return t-ve.drawer.backOffset},fLe=e=>{let{size:{depth:t},drawers:{thickness:r}}=e,{minDepth:o,maxDepth:i}=ve.drawer.hardware["blum-tandem-563h"];return t<o||t>i?Bee(e)-r:3*(Math.floor(t/3)-1)},hLe=e=>uP(e)-2,gLe=uP,Fee=e=>uP(e)-2*ve.drawer.horizontalOffset+2*e.drawers.thickness,yLe=e=>e.back.stretchers?.enabled?e.construction.thickness:0,xLe=e=>Math.max(e.construction.thickness,1.5),bLe=e=>Lee(e)-.25,vLe=e=>Lee(e)/2;var mP=e=>{let{cabinetType:t,door:r,frame:o}=e;return!(o?.style==="face-frame"&&(Te.cornerTypes.includes(t)||r?.type===ve.door.types.inset))},Wee=(e,t)=>{let{construction:r,frame:o}=t,i=o?.style==="face-frame",n=j4(e);return i?o.railWidths.middle:n?r.thickness:0},Vee=e=>{let t=e.blocks.reduce((i,{height:n})=>i+(n??0),0),r=e.blocks.reduce((i,{height:n})=>i+(n==null?1:0),0),o=e.door?.type==="inset"?e.blocks.slice(0,-1).reduce((i,n)=>i+Wee(n.tag,e),0):0;return(c2(e)-t-o)/r},SLe={hardwareSupported:mP,frontTop:Aee,frontBottom:Iee,frontHeight:c2,toekickHeight:WB,shelfSpaceHeight:sLe,openingTop:nLe,openingBottom:Nee,openingWidth:uP,insetMidRailWidth:pP,minBackOffset:yLe,maxBackOffset:xLe,maxDrawers:aLe,minDrawerHeight:VB,maxDrawerHeight:lLe,topDrawerHeight:dP,idealDrawerHeights:pLe,useableDrawerHeight:UB,useableDoorHeight:cLe,drawerBoxProperties:dLe,minDrawerDepth:mLe,maxDrawerDepth:Bee,standardDrawerDepth:fLe,minDrawerWidth:hLe,maxDrawerWidth:gLe,defaultDrawerWidth:Fee,maxGlassDoorRabbetDepth:bLe,maxShakerDoorPocketDepth:vLe,blockDividerHeight:Wee,flexBlockHeight:Vee},cr=SLe;var Zs={size:{width:18,height:34.5,depth:24},door:{type:ve.door.types.overlay,thickness:.75,undersize:.125,pull:{style:"none",offsetX:1,offsetY:1.5,spacing:parseInt(Object.keys(ve.door.pullSpacingNominal)[2])},materialId:null,hinges:{enabled:!0}},doorItems:{includesDoor:!0,swing:"both"},construction:{method:"butt-joints",topPanelStyle:"stretchers",materialId:null,thickness:.75},back:{construction:{method:"inset"},thickness:.75,offset:0,materialId:null,stretchers:{enabled:!1,construction:{method:"butt-joints"}}},front:{face:{style:"plain",borderWidth:2,depth:.125,frameWidth:2.5,rabbetDepth:.25,rabbetWidth:.25}},shelves:{includePinHoles:!1,fullRun:!1,materialId:null,thickness:.75},shelfItems:{numShelves:0,numFixed:0,fixed:[]},finishes:{handle:{color:{r:17,g:17,b:17},displayName:"Black"}},frame:{style:ve.frame.style.frameless,railWidths:{top:1.5,middle:1.5,bottom:1.5},stileWidths:{outside:1.5,center:1.5}},position:{offset:{x:0,y:0,z:0}}},Af={slides:{enabled:!0},depth:21,reveal:.125,pull:{style:ve.pullStyles.none,offsetY:0,spacing:parseInt(Object.keys(ve.door.pullSpacingNominal)[0])},materialId:null,thickness:.5,bottom:{materialId:null,thickness:.5}},fP=[{id:1,title:Te.typesToTitle[Te.framelessUpper],image:EASEL_ASSETS.cabinet.framelessBasicUpper,configuration:le(Zs,{name:"Upper",cabinetType:Te.framelessUpper,size:{height:30,depth:12},doorItems:{swing:"left"},construction:{topPanelStyle:"solid"}})},{id:6,title:Te.typesToTitle[Te.framelessUpperCornerBlind],image:EASEL_ASSETS.cabinet.framelessUpperCornerBlind,configuration:le(Zs,{name:"Upper Corner",cabinetType:Te.framelessUpperCornerBlind,size:{width:24,height:30,depth:12},corner:{side:"right"},door:{opening:"left",openingWidth:9.75},doorItems:{swing:"right"},construction:{topPanelStyle:"solid"},toekick:{enabled:!1}})},{id:9,title:Te.typesToTitle[Te.framelessUpperCornerNinetyDegree],image:EASEL_ASSETS.cabinet.framelessUpperCornerNinetyDegree,configuration:le(Zs,{name:"90\xB0 Upper Corner",cabinetType:Te.framelessUpperCornerNinetyDegree,corner:{side:"right"},size:{height:30,width:24,depth:12},doorItems:{swing:"right"}})},{title:Te.typesToTitle[Te.wallFillerStrip],image:EASEL_ASSETS.cabinet.wallFillerStrip,configuration:le(Zs,{name:"Wall Filler Strip",cabinetType:Te.wallFillerStrip,size:{width:3,height:30,depth:12}})},{id:2,title:Te.typesToTitle[Te.framelessLower],image:EASEL_ASSETS.cabinet.framelessBasicLower,configuration:le(Zs,{name:"Doors",cabinetType:Te.framelessLower,toekick:{enabled:!0,depth:ve.toekick.depth,height:ve.toekick.height}})},{id:3,title:Te.typesToTitle[Te.framelessLowerDrawers],image:EASEL_ASSETS.cabinet.framelessDrawersLower,configuration:le(Zs,{name:"Drawers",cabinetType:Te.framelessLowerDrawers,doorItems:{includesDoor:!1},toekick:{enabled:!0,depth:ve.toekick.depth,height:ve.toekick.height},drawerItems:{enabled:!0,count:3,items:[{locked:!0,height:6},{locked:!1,height:12.25},{locked:!1,height:12.25}],topHeight:6},drawers:Af})},{id:4,title:Te.typesToTitle[Te.framelessLowerDrawerOverDoor],image:EASEL_ASSETS.cabinet.framelessDrawerDoorLower,configuration:le(Zs,{name:"Drawer & Door",cabinetType:Te.framelessLowerDrawerOverDoor,toekick:{enabled:!0,depth:ve.toekick.depth,height:ve.toekick.height},drawerItems:{enabled:!0,items:[{locked:!0,height:6}],falseFront:!1,topHeight:6,count:1},drawers:Af})},{id:5,title:Te.typesToTitle[Te.framelessLowerSink],image:EASEL_ASSETS.cabinet.framelessSinkLower,configuration:le(Zs,{name:"Sink",cabinetType:Te.framelessLowerSink,construction:{sinkStretcherStyle:ve.sinkStretcherStyle.frontAndBack},size:{width:30},toekick:{enabled:!0,depth:ve.toekick.depth,height:ve.toekick.height},drawerItems:{enabled:!0,items:[{locked:!0,height:6}],count:1,falseFront:!0,topHeight:6},drawers:Af})},{id:7,title:Te.typesToTitle[Te.framelessLowerCornerBlind],image:EASEL_ASSETS.cabinet.framelessLowerCornerBlind,configuration:le(Zs,{name:"Lower Corner",cabinetType:Te.framelessLowerCornerBlind,size:{width:36},toekick:{enabled:!0,depth:ve.toekick.depth,height:ve.toekick.height},corner:{side:"right"},door:{opening:"left",openingWidth:17.25},doorItems:{swing:"right"}})},{id:8,title:Te.typesToTitle[Te.framelessLowerCornerNinetyDegree],image:EASEL_ASSETS.cabinet.framelessLowerCornerNinetyDegree,configuration:le(Zs,{name:"90\xB0 Lower Corner",cabinetType:Te.framelessLowerCornerNinetyDegree,size:{width:42},corner:{side:"right"},toekick:{enabled:!0,depth:ve.toekick.depth,height:ve.toekick.height},doorItems:{swing:"right"}})},{title:Te.typesToTitle[Te.baseFillerStrip],image:EASEL_ASSETS.cabinet.baseFillerStrip,configuration:le(Zs,{name:"Base Filler Strip",cabinetType:Te.baseFillerStrip,size:{width:3}})},{title:"Medicine Cabinet, Doors & Shelf",image:EASEL_ASSETS.cabinet.framelessBasicUpper,configuration:le(Zs,{name:"Medicine Cabinet",cabinetType:Te.framelessUpperBlocks,size:{width:24,height:24,depth:6},construction:{topPanelStyle:"solid"},blocks:[{tag:"doors",height:null,swing:"both",fixedCount:0,adjustableCount:1},{tag:"open-shelves",height:6,fixedCount:0,adjustableCount:0}],drawers:{...Af,depth:3}})},{title:"Vanity, Doors & Shelf",image:EASEL_ASSETS.cabinet.framelessBasicLower,configuration:le(Zs,{name:"Vanity",cabinetType:Te.framelessLowerBlocks,size:{width:24,height:34.5,depth:18},toekick:{enabled:!0,depth:ve.toekick.depth,height:ve.toekick.height},blocks:[{tag:"doors",height:null,swing:"both",fixedCount:0,adjustableCount:0},{tag:"open-shelves",height:8,fixedCount:0,adjustableCount:0}],drawers:{...Af,depth:15}})},{title:"Vanity, Doors & Drawer",image:EASEL_ASSETS.cabinet.framelessBasicLower,configuration:le(Zs,{name:"Vanity",cabinetType:Te.framelessLowerBlocks,size:{width:24,height:34.5,depth:18},toekick:{enabled:!0,depth:ve.toekick.depth,height:ve.toekick.height},blocks:[{tag:"doors",height:null,swing:"both",fixedCount:0,adjustableCount:0},{tag:"drawer",height:8}],drawers:{...Af,depth:15}})},{title:"Pantry, Doors & Drawers",image:EASEL_ASSETS.cabinet.framelessBasicLower,configuration:le(Zs,{name:"Pantry",cabinetType:Te.framelessLowerBlocks,size:{width:30,height:72,depth:18},toekick:{enabled:!0,depth:ve.toekick.depth,height:ve.toekick.height},construction:{topPanelStyle:"solid"},blocks:[{tag:"doors",height:null,swing:"both",fixedCount:0,adjustableCount:3},{tag:"drawer",height:10},{tag:"drawer",height:10}],drawers:{...Af,depth:15}})},{title:"Pantry, Shelves & Drawers",image:EASEL_ASSETS.cabinet.framelessBasicLower,configuration:le(Zs,{name:"Pantry",cabinetType:Te.framelessLowerBlocks,size:{width:30,height:72,depth:18},toekick:{enabled:!0,depth:ve.toekick.depth,height:ve.toekick.height},construction:{topPanelStyle:"solid"},blocks:[{tag:"open-shelves",height:null,fixedCount:0,adjustableCount:2},{tag:"drawer",height:6},{tag:"drawer",height:12},{tag:"drawer",height:12}],drawers:{...Af,depth:15}})},{title:"Pantry, Shelves & Doors",image:EASEL_ASSETS.cabinet.framelessBasicLower,configuration:le(Zs,{name:"Pantry",cabinetType:Te.framelessLowerBlocks,size:{width:30,height:72,depth:18},toekick:{enabled:!0,depth:ve.toekick.depth,height:ve.toekick.height},construction:{topPanelStyle:"solid"},blocks:[{tag:"open-shelves",height:null,fixedCount:0,adjustableCount:2},{tag:"doors",height:30,swing:"both",fixedCount:0,adjustableCount:1}],drawers:{...Af,depth:15}})}],CLe=[{title:"Refrigerator",image:EASEL_ASSETS.cabinet.refrigerator,configuration:le({name:"Refrigerator",cabinetType:"refrigerator",size:{width:32,height:66,depth:30}})},{title:"Range",image:EASEL_ASSETS.cabinet.range,configuration:le({name:"Range",cabinetType:"range",size:{width:30,height:36,depth:26}})},{title:"Dishwasher",image:EASEL_ASSETS.cabinet.dishwasher,configuration:le({name:"Dishwasher",cabinetType:"dishwasher",size:{width:24,height:34.5,depth:24}})},{title:"Microwave",image:EASEL_ASSETS.cabinet.microwave,configuration:le({name:"Microwave",cabinetType:"microwave",size:{width:30,height:12,depth:16}})},{title:"Other Appliance",image:EASEL_ASSETS.cabinet.appliance,configuration:le({name:"Other Appliance",cabinetType:"appliance",size:{width:24,height:24,depth:24}})}],PLe=[{title:"Window",image:EASEL_ASSETS.cabinet.window,configuration:le({name:"Window",cabinetType:"window",size:{width:24,height:36,depth:1}})},{title:"Door",image:EASEL_ASSETS.cabinet.door,configuration:le({name:"Door",cabinetType:"door",size:{width:30,height:80,depth:1}})}];var RB=class{static get(t,r={}){let o=fP.find(n=>n.id===parseInt(t)||n.configuration.cabinetType===t),i=le(o.configuration,r);return[...Te.supportsDrawers,...Te.supportsFalseFronts].includes(i.cabinetType)&&(i.drawerItems=i.drawerItems??{},i.drawerItems.items=cr.idealDrawerHeights(i).map((n,s)=>({height:n,locked:s===0}))),{...o,configuration:i}}static getAll(){return fP}static getUpperCabinets(){return fP.filter(t=>Te.wallTypes.includes(t.configuration.cabinetType))}static getBaseCabinets(){return fP.filter(t=>Te.baseTypes.includes(t.configuration.cabinetType))}static getAppliances(){return CLe}static getFenestrations(){return PLe}static get configurationDefaults(){return Zs}},y5=RB;var wLe=["mm","in"],Uee=We({name:"unit",initialState:{preferredUnit:"in"},reducers:{setUnit(e,{payload:t}){jB(e,t)}},extraReducers:e=>{e.addCase(Q.updateDefaults.pending,(t,r)=>{jB(t,r.meta.arg.unit)}),e.addCase(Q.actions.loadServerInfo,(t,{payload:r})=>{RC(r)&&jB(t,r.defaults?.unit)})}}),jB=(e,t)=>{t&&wLe.includes(t)&&(e.preferredUnit=t)},Ree=e=>e.unit,GB=e=>Ree(e).preferredUnit,_Le=e=>Ve.unitsPerInch(GB(e)),kLe=e=>1/Ve.unitsPerInch(GB(e)),TLe={getUnitState:Ree,getPreferredUnit:GB,preferredUnitsPerInch:_Le,inchesPerPreferredUnit:kLe},ELe={actions:Uee.actions,reducer:Uee.reducer,...TLe},Me=ELe;var z4=(e,t)=>(t=t??e.cabinetDesigner.selectedCabinetIds[0],e.cabinets.all[t]);function MLe(e,t){let r=e.configuration,o=e.configuration.door||{pull:{style:"none"},thickness:r.doorThickness,undersize:.0625};return{...o,materialId:o.materialId||t?.id}}function ALe(e,t){return{...e.configuration.shelves,materialId:e.configuration.shelves?.materialId||t?.id}}function ILe(e,t){let r=e.configuration.drawers;return{...r,materialId:r?.materialId||t?.id,thickness:r?.thickness||.5,bottom:r?.bottom||{materialId:r?.materialId||t?.id,thickness:r?.thickness||.5}}}function DLe(e,t){return{...e?.configuration.back,materialId:e?.configuration.back?.materialId||t?.id}}function NLe(e,t){let r=e.configuration.construction||{method:"butt-joints",topPanelStyle:"stretchers",materialId:t?.id,thickness:.75,sinkStretcherStyle:ve.sinkStretcherStyle.frontAndBack};return{...r,materialId:r.materialId||t?.id}}function OLe(e){return{face:{...y5.configurationDefaults.front.face,...e.configuration.front?.face}}}function LLe(e,t){let r=e.configuration.frame;return r==null?{style:"frameless"}:r.style=="frameless"?r:{...r,material:{id:r.material?.id??t?.id,thickness:r.material?.thickness??ve.frame.defaultMaterial.thickness},railWidths:{top:r.railWidths?.top??1.5,bottom:r.railWidths?.bottom??1.5,middle:r.railWidths?.middle??1.5},stileWidths:{outside:r?.stileWidths?.outside??1.5,center:r?.stileWidths?.center??1.5}}}var jee=(e,t,r)=>({size:e.configuration.size,toekick:e.configuration.toekick||ve.toekick,blocks:e.configuration.blocks,shelves:ALe(e,t),shelfItems:e.configuration.shelfItems,door:MLe(e,t),doorItems:e.configuration.doorItems,drawers:ILe(e,t),drawerItems:e.configuration.drawerItems,back:DLe(e,t),construction:NLe(e,t),finishes:e.configuration.finishes||{},cabinetType:e.configuration.cabinetType,name:e.configuration.name,cabinetNumber:e.configuration.cabinetNumber,front:OLe(e),frame:LLe(e,r),corner:e.configuration.corner}),Gee=_e([e=>e,(e,t)=>t,(e,t,r)=>r],jee),u2=(e,t)=>Gee(z4(e,t),q.getDefaultBoxMaterial(e),q.getDefaultFrameMaterial(e)),HB=_e([e=>e.cabinets.all,e=>q.getDefaultBoxMaterial(e),e=>q.getDefaultFrameMaterial(e)],(e,t,r)=>Object.values(e).map(o=>Gee(o,t,r))),BLe=(e,t,r)=>({reduxId:e.id,manufactured:e.manufactured,configuration:jee(e,t,r)}),FLe=_e([e=>e,(e,t)=>t,(e,t,r)=>r],BLe),Hee=_e([e=>e.cabinets.all,e=>q.getDefaultBoxMaterial(e),e=>q.getDefaultFrameMaterial(e)],(e,t,r)=>Object.values(e).map(o=>FLe(o,t,r))),WLe=_e(e=>e.cabinets.all,e=>e.cabinetDesigner.selectedCabinetIds,(e,t)=>Object.values(e).map(r=>({...r,selected:t.includes(r.id),reduxId:r.id}))),zee=(e,t)=>z4(e,t)?.configuration?.blocks,VLe=(e,t)=>z4(e,t)?.configuration?.cabinetType,ULe=(e,t)=>{let r=z4(e,t).configuration;return r.drawers?.width??cr.defaultDrawerWidth(r)},RLe=(e,t)=>cr.flexBlockHeight(u2(e,t)),jLe=(e,t)=>cr.maxDrawerHeight(u2(e,t)),GLe=(e,t)=>cr.minDrawerDepth(u2(e,t)),HLe=(e,t)=>cr.maxDrawerDepth(u2(e,t)),zLe=(e,t)=>cr.minDrawerWidth(u2(e,t)),XLe=(e,t)=>cr.maxDrawerWidth(u2(e,t)),YLe=(e,t)=>z4(e,t).configuration.cabinetNumber,qLe=_e([e=>e.cabinets.projectDefaults,e=>q.getDefaultBoxMaterial(e)?.id],(e,t)=>(e=structuredClone(e),["construction","door","back","shelves","drawers"].forEach(r=>{e[r].materialId=e[r].materialId??t}),e)),$Le=e=>e.cabinets.projectDefaults.countertops,ZLe=e=>e.cabinets.projectDefaults.frame,JLe=_e([e=>e.cabinets.projectDefaults.finishes],e=>{e=structuredClone(e),e.faceFrame||(e.faceFrame={color:null,displayName:"Natural",sheen:"matte"});let{faceFrame:t}=e;return t.color??(t.color=null),t.displayName??(t.displayName=t.color?"Custom":"Natural"),t.sheen??(t.sheen="matte"),e}),Xee=e=>e.cabinets.room,KLe=e=>Xee(e).dimensions,QLe=e=>e.cabinets.manufacture,Yee=e=>e.cabinets.manufacture.method,eBe=e=>e.cabinets.manufacture.cnc.safetyHeight,qee=e=>e.cabinets.manufacture.cnc.padding,$ee=e=>e.cabinets.manufacture.cnc.margin,Zee=e=>e.cabinets.manufacture.tablesaw.kerf,Jee=e=>e.cabinets.manufacture.panelFilter,Kee=e=>e.cabinets.manufacture.mountingOpFilter,tBe=e=>{let t={method:Yee(e)};switch(t.method){case"cnc":return{...t,padding:qee(e),margin:$ee(e),bitWidth:ve.bitWidth};case"tablesaw":return{...t,kerf:Zee(e)};case"faceframes":return{...t};default:throw new Error(`invalid manufacturing method ${t.method}`)}},zB=_e([e=>e.cabinets.stocks,q.getDefaultBoxMaterial,q.getAllMaterials],(e,t,r)=>e.map(o=>({...o,materialName:(r.find(i=>i.id===o.materialId)??t).name}))),rBe=(e,t,r)=>zB(e).find(i=>i.materialId===t&&i.thickness===r)?.cncJobSettings??{feedRate:128,plungeRate:38,stepOver:.4,depthPerPass:.25,spindleSpeed:16e3,useTabs:!0,additionalDepthAmount:0},oBe=e=>({manufacturing:tBe(e),unit:Me.getPreferredUnit(e),panelFilter:Jee(e),mountingOpFilter:Kee(e),stocks:zB(e)}),Qee=_e([HB],e=>e.filter(t=>!Te.fillerTypes.includes(t.cabinetType))),iBe=Hee,nBe=_e([HB],e=>e.some(t=>(t.doorItems?.includesDoor||t.blocks?.some(r=>r.tag=="doors"))&&t.door.type===ve.door.types.inset)),sBe=e=>Qee(e).reduce((t,r)=>t+r.size.width,0)/12,aBe=e=>e.cabinets?.loaded,lBe=e=>e.cabinets?.loaded?"design":"project",cBe=(e,t)=>!!zee(e,t),uBe={getCabinets:HB,getCabinetsWithAdditionalState:Hee,getCabinetsWithSelected:WLe,anyCabinetUsesInsetDoors:nBe,getProjectDefaultFrame:ZLe,getDrawerBoxWidth:ULe,getFlexBlockHeight:RLe,getMaxDrawerHeight:jLe,getMinDrawerDepth:GLe,getMaxDrawerDepth:HLe,getMinDrawerWidth:zLe,getMaxDrawerWidth:XLe,getCabinetType:VLe,getCabinetBlocks:zee,getCabinetConfig:u2,getProjectDefaultProperties:qLe,getProjectDefaultCountertops:$Le,getProjectDefaultFinishes:JLe,getCabinetNumber:YLe,getRoomProperties:Xee,getRoomDimensions:KLe,getManufactureData:QLe,getManufacturingMethod:Yee,getCutListOptions:oBe,getSafetyHeight:eBe,getNestMargin:$ee,getNestPadding:qee,getNestKerf:Zee,getNestPanelFilter:Jee,getNestMountingOpFilter:Kee,getStocks:zB,getStockJobSettings:rBe,getActualCabinets:Qee,getCabinetsToManufacture:iBe,getTotalCabinetryWidth:sBe,isCabinetProject:aBe,projectOrDesign:lBe,supportsBlocks:cBe},zt=uBe;var ete=null,hP=null,xP=!1,oc=null,gP=null,tte=function(){oc.dispatch(ko.actions.setSaved())},pBe=function(){oc.dispatch(ko.actions.setSavedOffline())},rte=function(e){return oc.dispatch(ko.actions.setUnsavedWithError(e)),Promise.reject(`Save error: ${e}`)},yP=is(function(){let e=()=>ete.getCurrentData();return it("workpiece_saving")?hee(e):lJ(e)}),p3=is(function(){return it("workpiece_saving")?fee(()=>ge.getProjectLinkToken(oc.getState()),yP(),gP):aJ(()=>ge.getProjectLinkToken(oc.getState()),yP(),gP)}),dBe=is(()=>{let e=oc.getState(),t=!zt.isCabinetProject(e);return it("workpiece_saving")&&t?See(ge.getProjectLinkToken(e),s2(oc,gP).getWorkpieceSnapshotters()):sJ(ge.getProjectLinkToken(oc.getState()),yP())}),mBe=function(e,t){let r=dBe().createProjectCopy(e,t);return r.then(tte,rte),r},ote=function(){let e=p3();if(ge.isReadOnly(oc.getState()))throw new Error("Cannot save a read-only project");let t=function({saveVersion:r,saveResponse:o}){return r===e.currentProjectVersion()&&!xP&&(o.status==="offline"?pBe():tte()),r};return p3().saveProject().then(t,rte)},fBe=ha(()=>(xP=!1,ote().catch(function(){}))),hBe=function(){if(ge.isReadOnly(oc.getState()))oc.dispatch(ko.actions.setUnsaved());else return xP=!0,oc.dispatch(ko.actions.setUnsavedWithSaveInProgress()),hP=fBe(),hP},ite=function(){p3().reset(),clearTimeout(hP),hP=null,xP=!1},gBe=()=>{yP().takeSnapshotAndEnableSaving()},Rp={};Rp.init=(e,t,r)=>{ete=e,oc=t,gP=r};Rp.saveNow=()=>(ite(),ote());Rp.copyProject=mBe;Rp.setupAutosave=gBe;Rp.scheduleAutosave=hBe;Rp.cancelAutosave=ite;Rp.isDirty=()=>ko.isUnsaved(oc.getState());Rp.setProjectSaveParams=e=>p3().setProjectSaveParams(e);Rp.getProjectSaveClient=()=>p3().getProjectSaveClient();Rp.getProjectSaveVersion=()=>p3().getProjectSaveVersion();var yBe=Rp,Li=yBe;var xBe=e=>({...e,profit:e.cost*e.markup/100||0,price:e.cost*(1+e.markup/100)||0});var bBe=e=>XB(e)==="ft"?zt.getTotalCabinetryWidth(e):e.estimate.laborByHour.length;var nte=We({name:"estimate",initialState:{lineItems:[],laborRateType:"ft",laborByFoot:{rate:0},laborByHour:{rate:0,length:0},miscCost:0,totals:{price:0,profit:0}},reducers:{loadEstimate(e,{payload:t}){e.lineItems=t.estimateItems??[],t.labor&&(e.laborRateType=t.labor.type,t.labor.type==="hr"?(e.laborByHour.rate=t.labor.rate,e.laborByHour.length=t.labor.amount):e.laborByFoot.rate=t.labor.rate),t.misc&&(e.miscCost=t.misc.cost)},setCost(e,{payload:t}){let r=e.lineItems.find(o=>o.label===t.label);r?r.cost=t.cost:e.lineItems.push({label:t.label,cost:t.cost,markup:0})},setEstimateTotals(e,{payload:t}){e.totals=t.totals},setMarkup(e,{payload:t}){let r=e.lineItems.find(o=>o.label===t.label);r?r.markup=t.markup:e.lineItems.push({label:t.label,markup:t.markup})},setLaborRateType(e,{payload:t}){e.laborRateType=t??e.laborRateType},setLaborRate(e,{payload:t}){e.laborRateType==="ft"?e.laborByFoot.rate=t:e.laborByHour.rate=t},setLaborHrLength(e,{payload:t}){e.laborByHour.length=t},setMiscCost(e,{payload:t}){e.miscCost=t}}}),{loadEstimate:ste,setCost:vBe,setEstimateTotals:j_t,setMarkup:SBe,setLaborRateType:CBe,setLaborRate:PBe,setLaborHrLength:wBe,setMiscCost:_Be}=nte.actions,ate=[vBe,SBe,CBe,PBe,wBe,_Be],G_t=_e(e=>e.estimate.lineItems,e=>e.map(t=>xBe(t))),lte=e=>e.estimate.lineItems;var XB=e=>e.estimate.laborRateType,cte=e=>bBe(e),ute=e=>e.estimate.laborRateType==="ft"?e.estimate.laborByFoot:e.estimate.laborByHour,pte=e=>e.estimate.miscCost;var dte=nte.reducer;var GFe=M(P("three"),1);var TBe=["min","max"],p2=EBe(TBe);function EBe([e,t]){return r=>r===e?t:e}var d2={x:0,y:0,z:0},bP={x:1,y:0,z:0},vP={x:0,y:1,z:0},SP={x:0,y:0,z:1},mte={x:-1,y:0,z:0},fte={x:0,y:-1,z:0},hte={x:0,y:0,z:-1},YB={x:1/0,y:1/0,z:1/0},qB={x:-1/0,y:-1/0,z:-1/0},gte=d2;var ni={x:{axis:"x",planes:{pos:"yz",neg:"zy"}},y:{axis:"y",planes:{pos:"zx",neg:"xz"}},z:{axis:"z",planes:{pos:"xy",neg:"yx"}}},go={"x+":{axel:"x+",axis:"x",plane:"yz",vec:bP,bound:"max"},"x-":{axel:"x-",axis:"x",plane:"zy",vec:mte,bound:"min"},"y+":{axel:"y+",axis:"y",plane:"zx",vec:vP,bound:"max"},"y-":{axel:"y-",axis:"y",plane:"xz",vec:fte,bound:"min"},"z+":{axel:"z+",axis:"z",plane:"xy",vec:SP,bound:"max"},"z-":{axel:"z-",axis:"z",plane:"yx",vec:hte,bound:"min"}},yo={xy:{plane:"xy",axel:"z+",axes:[ni.x,ni.y],ortho:ni.z,normal:SP,bound:"max"},yx:{plane:"yx",axel:"z-",axes:[ni.y,ni.x],ortho:ni.z,normal:hte,bound:"min"},xz:{plane:"xz",axel:"y-",axes:[ni.x,ni.z],ortho:ni.y,normal:fte,bound:"min"},zx:{plane:"zx",axel:"y+",axes:[ni.z,ni.x],ortho:ni.y,normal:vP,bound:"max"},yz:{plane:"yz",axel:"x+",axes:[ni.y,ni.z],ortho:ni.x,normal:bP,bound:"max"},zy:{plane:"zy",axel:"x-",axes:[ni.z,ni.y],ortho:ni.x,normal:mte,bound:"min"}};function CP(e){return[e[0],e[1]==="+"?1:-1]}function PP(e){return e[0]+(e[1]==="+"?"-":"+")}function $B(e){return e[1]+e[0]}function X4(e){let{axes:[t,r],ortho:o}=yo[e];return[t.axis,r.axis,o.axis]}var yte={side:"left",opposite:"right",dim:"width"},xte={side:"right",opposite:"left",dim:"width"},bte={side:"top",opposite:"bottom",dim:"height"},vte={side:"bottom",opposite:"top",dim:"height"},Ste={side:"front",opposite:"back",dim:"depth"},Cte={side:"back",opposite:"front",dim:"depth"};var MBe={orientation:"UpY",dims:{width:ni.x,height:ni.y,depth:ni.z},sides:{left:{...yte,axel:go["x-"],plane:yo[go["x-"].plane]},right:{...xte,axel:go["x+"],plane:yo[go["x+"].plane]},top:{...bte,axel:go["y+"],plane:yo[go["y+"].plane]},bottom:{...vte,axel:go["y-"],plane:yo[go["y-"].plane]},front:{...Ste,axel:go["z+"],plane:yo[go["z+"].plane]},back:{...Cte,axel:go["z-"],plane:yo[go["z-"].plane]}}},ABe={orientation:"UpZ",dims:{width:ni.x,height:ni.z,depth:ni.y},sides:{left:{...yte,axel:go["x-"],plane:yo[go["x-"].plane]},right:{...xte,axel:go["x+"],plane:yo[go["x+"].plane]},top:{...bte,axel:go["z+"],plane:yo[go["z+"].plane]},bottom:{...vte,axel:go["z-"],plane:yo[go["z-"].plane]},front:{...Ste,axel:go["y-"],plane:yo[go["y-"].plane]},back:{...Cte,axel:go["y+"],plane:yo[go["y+"].plane]}}},If={UpY:MBe,UpZ:ABe};function Pte(e,t,r){r<0&&([e,t]=[t,e],r=-r);let o=(t-e)/(r+1);return new Array(r).fill(0).map((i,n)=>e+(n+1)*o)}var wP=class wP{constructor(t=0,r=0,o=0){y(this,"x");y(this,"y");y(this,"z");this.x=t,this.y=r,this.z=o}static from({x:t,y:r,z:o}){return new wP(t,r,o)}};y(wP,"Zero",gte);var Y4=wP;var x5=class x5{constructor(t=0,r=0,o=0){y(this,"x");y(this,"y");y(this,"z");this.x=t,this.y=r,this.z=o}static from({x:t,y:r,z:o}){return new x5(t,r,o)}cloned(){return new x5(this.x,this.y,this.z)}json(){return{x:this.x,y:this.y,z:this.z}}negate(){return this._update(IBe(this))}scale(t){return this._update(JB(this,t))}_update({x:t,y:r,z:o}){return this.x=t,this.y=r,this.z=o,this}};y(x5,"Zero",d2),y(x5,"UnitX",bP),y(x5,"UnitY",vP),y(x5,"UnitZ",SP);var d3=x5;function ZB(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z}function _P(e,t){return{x:e.x??t,y:e.y??t,z:e.z??t}}function IBe({x:e,y:t,z:r}){return{x:-e,y:-t,z:-r}}function JB({x:e,y:t,z:r},o){return{x:e*o,y:t*o,z:r*o}}function Df({x:e,y:t,z:r},o){let{x:i=0,y:n=0,z:s=0}=o;return{x:e+i,y:t+n,z:r+s}}var m2=class m2{constructor(t,r,o){y(this,"x");y(this,"y");y(this,"z");this.x=t,this.y=r,this.z=o}static from({x:t,y:r,z:o}){return new m2(t,r,o)}cloned(){return new m2(this.x,this.y,this.z)}json(){return{x:this.x,y:this.y,z:this.z}}toVec(){return new d3(this.x,this.y,this.z)}toXY(){return{x:this.x,y:this.y}}toXYZ(){return{x:this.x,y:this.y,z:this.z}}eq(t){return ic(this,t)}translate(t){return this._mutate(jp,_P(t,0))}_mutate(t,r){let{x:o,y:i,z:n}=t(this,r);return this.x=o,this.y=i,this.z=n,this}};y(m2,"Zero",{x:0,y:0,z:0}),y(m2,"Min",{x:-1/0,y:-1/0,z:-1/0}),y(m2,"Max",{x:1/0,y:1/0,z:1/0});var Fi=m2;function ic(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z}function em({x:e,y:t,z:r}){return{x:e,y:t,z:r}}function jp(e,t){return{x:e.x+t.x,y:e.y+t.y,z:e.z+t.z}}function KB(e,t,r){return{x:Rd(e.x,t.x,r.x),y:Rd(e.y,t.y,r.y),z:Rd(e.z,t.z,r.z)}}function Gp(e,t){return{x:e.x-t.x,y:e.y-t.y,z:e.z-t.z}}function f2(e,t){return Math.hypot(e.x-t.x,e.y-t.y,e.z-t.z)}function QB(e,t,r){return{x:e.x+(t.x-e.x)*r,y:e.y+(t.y-e.y)*r,z:e.z+(t.z-e.z)*r}}function q4(e){return`(${e.x},${e.y},${e.z})`}function eF(e,t){return{x:parseFloat(e.x.toFixed(t)),y:parseFloat(e.y.toFixed(t)),z:parseFloat(e.z.toFixed(t))}}function wte(e,t){let[r,o]=X4(e);return{x:t[r],y:t[o]}}function $4(e,t,r){let o=(r-e.z)/(t.z-e.z);return{...QB(e,t,o),z:r}}function tF({min:e,max:t},r,o){let i={min:{...e},max:{...t}};for(let{side:n,dim:s,plane:{bound:a,normal:l,ortho:{axis:c}}}of Object.values(o.sides)){let u=(r[n]??0)+(r[s]??0)/2;i[a][c]-=l[c]*u}return i}function _te(e,t,r){return{...tF(e,t,r),plane:e.plane}}function kte(e,t){return{[t.dims.width.axis]:e.width,[t.dims.height.axis]:e.height,[t.dims.depth.axis]:e.depth}}var m3=P("three"),DBe=new m3.Vector3;function h2(e,t){let{x:r,y:o,z:i}=DBe.set(e.x,e.y,e.z).applyMatrix4(t);return{x:r,y:o,z:i}}function Nf(e,t){return kP({min:h2(e.min,t),max:h2(e.max,t)})}function rF(e,t,r){return{...Nf(e,t),plane:r}}var akt={x:new m3.Matrix4(1,0,0,0,0,0,-1,0,0,1,0,0,0,0,0,1),y:new m3.Matrix4(0,0,1,0,0,1,0,0,-1,0,0,0,0,0,0,1),z:new m3.Matrix4(0,-1,0,0,1,0,0,0,0,0,1,0,0,0,0,1)};var bl=class e{constructor(t,r,o){y(this,"_min");y(this,"_max");y(this,"orientation");this._min=Fi.from(t),this._max=Fi.from(r),this.orientation=o}static from({min:t,max:r},o){return new e(t,r,If[o])}static fromSize(t,r,o=d2){return new e(o,jp(t,o),If[r])}static fromDims(t,r,o=d2){let i=If[r];return new e(o,jp(kte(t,i),o),i)}static empty(t){return new e(Fi.Max,Fi.Min,If[t])}cloned(){return new e(this._min,this._max,this.orientation)}json(){return{min:this._min.json(),max:this._max.json()}}set({min:t,max:r}){return this.min=t,this.max=r,this}get min(){return this._min}get max(){return this._max}set min(t){this._min=Fi.from(t)}set max(t){this._max=Fi.from(t)}size(){return Y4.from(g2(this))}volume(){return NBe(this)}center(){return Fi.from(EP(this))}setCenter(t){return this.translate(Gp(t,this.center()))}eq(t){return iF(this,t)}intersects(t){return Ate(this,t)}containsPoint(t){return Dte(this,t)}dims(){return Ete(this,this.orientation)}dim(t){return Z4(this,t,this.orientation)}get width(){return this.dim("width")}get height(){return this.dim("height")}get depth(){return this.dim("depth")}coord(t){return OBe(this,t,this.orientation)}setCoord(t,r){let{axis:o,bound:i}=this.orientation.sides[t].axel;this[i][o]=r}faces(){return["left","right","top","bottom","front","back"].map(r=>({side:r,rect:this.face(r)}))}face(t){let{plane:r,min:o,max:i}=Mte(this,t,this.orientation);return new TP(r,o,i,this.orientation)}top(){return this.face("top")}bottom(){return this.face("bottom")}left(){return this.face("left")}right(){return this.face("right")}front(){return this.face("front")}back(){return this.face("back")}corner(t){return Fi.from(VBe(this,t,this.orientation))}inset(t){return this.set(tF(this,t,this.orientation))}clamp(t){return this.set(Lte(this,t))}partitions(t,r){return Bte(this,t,r).map(o=>TP.from(o,this.orientation.orientation))}regions(t,r){return UBe(this,t,r).map(o=>e.from(o,this.orientation.orientation))}split(t,r){let{orientation:o,sides:i}=this.orientation,[n,s]=Fte(this,i[t].axel.axel,r);return[e.from(n,o),e.from(s,o)]}normalize(){return this.set(kP(this))}translate(t){return this._min.translate(t),this._max.translate(t),this}shift(t,r){return this.set(LBe(this,t,r,this.orientation))}moveTo(t,r="min"){return this.set(BBe(this,t,r))}alignTo(t,r){return this.set(Nte(this,t,r))}alignSide(t,r){return this.set(FBe(this,t,r,this.orientation))}abutTo(t,r){return this.set(Ote(this,t,r))}abutToRange(t,r){let{axis:o}=t,i=r[o];if(!i)return this;let n={...d2,[o]:t[p2(i)]-this[i][o]};return this.translate(n)}abutSide(t,r){return this.set(WBe(this,t,r,this.orientation))}positionSide(t,r){let o=this.face(t),{ortho:{axis:i},bound:n}=yo[o.plane],s=o[n][i]-r;return this.shift(t,s)}transform(t){return this.set(Nf(this,t))}},TP=class e{constructor(t,r,o,i){y(this,"plane");y(this,"_min");y(this,"_max");y(this,"orientation");this.plane=t,this._min=Fi.from(r),this._max=Fi.from(o),this.orientation=i}static from({plane:t,min:r,max:o},i){return new e(t,r,o,If[i])}cloned(){return new e(this.plane,this._min,this._max,this.orientation)}json(){return{plane:this.plane,min:this._min.json(),max:this._max.json()}}set({min:t,max:r,plane:o}){return this.min=t,this.max=r,this.plane=o,this}get min(){return this._min}get max(){return this._max}set min(t){this._min=Fi.from(t)}set max(t){this._max=Fi.from(t)}size(){return Y4.from(g2(this))}center(){return Fi.from(EP(this))}dims(){return Ete(this,this.orientation)}dim(t){return Z4(this,t,this.orientation)}get width(){return this.dim("width")}get height(){return this.dim("height")}get depth(){return this.dim("depth")}get normal(){return d3.from(jBe(this))}eq(t){return RBe(this,t)}boxEq(t){return iF(this,t)}coplanar(t){return lF(this,t)}intersects(t){return Wte(this,t)}containsPoint(t){return Vte(this,t)}setCenter(t){return this.translate(Gp(t,this.center()))}invert(){return this.plane=$B(this.plane),this}translate(t){return this._min.translate(t),this._max.translate(t),this}transform(t,r){return this.set(rF(this,t,r))}inset(t){let{min:r,max:o}=_te(this,t,this.orientation);return this.min=r,this.max=o,this}clamp(t){return this.set({...Lte(this,t),plane:this.plane})}extrude(t){let{min:r,max:o}=oF(this,t);return new bl(r,o,this.orientation)}expand(t){let{min:r,max:o}=GBe(this,t);return new bl(r,o,this.orientation)}split(t,r){let{plane:o,orientation:{orientation:i,sides:n}}=this,[s,a]=Fte(this,n[t].axel.axel,r);return[e.from({...s,plane:o},i),e.from({...a,plane:o},i)]}points(){return f3(this).map(Fi.from)}boundary(){return cF(this).map(Fi.from)}segments(){return uF(this).map(([t,r])=>[Fi.from(t),Fi.from(r)])}edge(t){let[r,o]=zBe(this,t,this.orientation);return[Fi.from(r),Fi.from(o)]}corner(t){return Fi.from(XBe(this,t,this.orientation))}};function iF(e,t){return ic(e.min,t.min)&&ic(e.max,t.max)}function EP(e){let{min:t,max:r}=e;return{x:(t.x+r.x)/2,y:(t.y+r.y)/2,z:(t.z+r.z)/2}}function g2(e){let{min:t,max:r}=e;return{x:r.x-t.x,y:r.y-t.y,z:r.z-t.z}}function NBe(e){let{x:t,y:r,z:o}=g2(e);return t*r*o}function Ete(e,t){return{width:Z4(e,"width",t),height:Z4(e,"height",t),depth:Z4(e,"depth",t)}}function Z4(e,t,r){let o=r.dims[t].axis;return e.max[o]-e.min[o]}function OBe(e,t,r){let{axis:o,bound:i}=r.sides[t].axel;return e[i][o]}function Mte(e,t,r){return nF(e,r.sides[t].plane.plane)}function nF(e,t){let{bound:r,ortho:{axis:o}}=yo[t];return{plane:t,min:{...e.min,[o]:e[r][o]},max:{...e.max,[o]:e[r][o]}}}function Ate(e,t){return!(e.min.x>t.max.x||t.min.x>e.max.x||e.min.y>t.max.y||t.min.y>e.max.y||e.min.z>t.max.z||t.min.z>e.max.z)}function Ite(e,t){return!(e.min.x>=t.max.x||t.min.x>=e.max.x||e.min.y>=t.max.y||t.min.y>=e.max.y||e.min.z>=t.max.z||t.min.z>=e.max.z)}function sF(e,t){let{axis:r}=t;return e.min[r]<t.max&&t.min<e.max[r]}function y2(e,t){return t.min.x<=e.min.x&&e.max.x<=t.max.x&&t.min.y<=e.min.y&&e.max.y<=t.max.y&&t.min.z<=e.min.z&&e.max.z<=t.max.z}function Dte(e,t){return y2({min:t,max:t},e)}function kP({min:e,max:t}){return{min:{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),z:Math.min(e.z,t.z)},max:{x:Math.max(e.x,t.x),y:Math.max(e.y,t.y),z:Math.max(e.z,t.z)}}}function x2(e,t,r){return e.min[r]<t.max[r]&&t.min[r]<e.max[r]}function Of(e,t){return{min:jp(e.min,t),max:jp(e.max,t)}}function J4(e,t){return e.map(r=>Of(r,t))}function LBe(e,t,r,o){return Of(e,JB(o.sides[t].plane.normal,r))}function BBe(e,t,r="min"){let{x:o=e[r].x,y:i=e[r].y,z:n=e[r].z}=t;return Of(e,{x:o-e[r].x,y:i-e[r].y,z:n-e[r].z})}function Nte(e,t,r){let{x:o,y:i,z:n}=r,s={x:o?t[o].x-e[o].x:0,y:i?t[i].y-e[i].y:0,z:n?t[n].z-e[n].z:0};return Of(e,s)}function FBe(e,t,r,o=If.UpY){let{axis:i,bound:n}=o.sides[r].axel;return Nte(e,t,{[i]:n})}function Ote(e,t,r){let{x:o,y:i,z:n}=r,s={x:o?t[p2(o)].x-e[o].x:0,y:i?t[p2(i)].y-e[i].y:0,z:n?t[p2(n)].z-e[n].z:0};return Of(e,s)}function WBe(e,t,r,o=If.UpY){let{axis:i,bound:n}=o.sides[r].axel;return Ote(e,t,{[i]:n})}function VBe(e,t,r){let[o,i,n]=t,{ortho:{axis:s},bound:a}=r.sides[o].plane,{ortho:{axis:l},bound:c}=r.sides[i].plane,{ortho:{axis:u},bound:p}=r.sides[n].plane;return{[s]:e[a][s],[l]:e[c][l],[u]:e[p][u]}}function Lte(e,t){let{min:r,max:o}=t;return{min:KB(e.min,r,o),max:KB(e.max,r,o)}}function Bte(e,t,r){let o=e.min[t],i=e.max[t];r<0&&([o,i]=[i,o],r=-r);let{pos:n,neg:s}=ni[t].planes,a=o<i?n:s;return Pte(o,i,r).map(l=>{let c=nF(e,a);return c.min[t]=l,c.max[t]=l,c})}function UBe(e,t,r){if(r===0)return[];let{min:o,max:i}=e;r<0&&([o,i]=[i,o],r=-r);let n=[],s=Bte({min:o,max:i},t,r-1),a=o;for(let l of s)n.push({min:a,max:l.max}),a=l.min;return n.push({min:a,max:i}),n}function Fte(e,t,r){let[o,i]=CP(t),n=go[t],s=go[PP(t)],a=Tte(e),l=Tte(e);return a[n.bound][o]-=i*r,l[s.bound][o]=l[n.bound][o]-i*r,[a,l]}function aF(e,t){return{min:eF(e.min,t),max:eF(e.max,t)}}function Tte({min:e,max:t}){return{min:{...e},max:{...t}}}function RBe(e,t){return e.plane===t.plane&&iF(e,t)}function lF(e,t){if(e.plane===t.plane){let{axis:r}=yo[e.plane].ortho;return e.min[r]===t.min[r]}return!1}function jBe(e){return yo[e.plane].normal}function Wte(e,t){if(!lF(e,t))return!1;let{axes:[{axis:r},{axis:o}]}=yo[e.plane];return!(e.min[r]>t.max[r]||t.min[r]>e.max[r]||e.min[o]>t.max[o]||t.min[o]>e.max[o])}function Vte(e,t){return Dte(e,t)}function oF(e,t){let{min:r,max:o,plane:i}=HBe(e),{ortho:{axis:n},normal:s}=yo[i],a=s[n]*t;return(a<0?r:o)[n]+=a,{min:r,max:o}}function GBe(e,t){let{axis:r}=yo[e.plane].ortho,o=oF(e,t/2),i=oF(e,-t/2);return i.min[r]<o.min[r]?{min:i.min,max:o.max}:{min:o.min,max:i.max}}function HBe({min:e,max:t,plane:r}){return{min:{...e},max:{...t},plane:r}}function f3({min:e,max:t,plane:r}){let o=yo[r].axes[0].axis;return[{...e},{...e,[o]:t[o]},{...t},{...t,[o]:e[o]}]}function cF(e){let t=f3(e);return t.push(t[0]),t}function uF(e){let t=new Array(4),r=cF(e);for(let o=0;o<t.length;o++)t[o]=[r[o],r[o+1]];return t}function zBe(e,t,r){let{axis:o,bound:i}=r.sides[t].axel,{ortho:n}=yo[e.plane];if(o===n.axis)throw new Error(`rectEdge: invalid side:${t} for ${K4(e)}`);let s=i==="min"?"max":"min",a=em(e[i]),l=em(e[s]);return l[o]=a[o],uF(e).find(c=>ic(a,c[0])&&ic(l,c[1])||ic(a,c[1])&&ic(l,c[0]))}function XBe(e,t,r){let o=r.sides[t[0]].axel,i=r.sides[t[1]].axel,n=go[yo[e.plane].axel];if(o.axis===i.axis)throw new Error(`rectCorner: sides not orthogonal: ${t}`);if(o.axis===n.axis||i.axis===n.axis)throw new Error(`rectCorner: ${t} on rect plane ${K4(e)}`);return{[o.axis]:e[o.bound][o.axis],[i.axis]:e[i.bound][i.axis],[n.axis]:e[n.bound][n.axis]}}function K4({min:e,max:t,plane:r}){return`[ ${r} / ${q4(e)} : ${q4(t)} ]`}function MP(e,t){return{min:e.min[t],max:e.max[t],axis:t}}function pF(e){let t=Ute();for(let{x:r,y:o,z:i}of e)t.min.x=Math.min(r,t.min.x),t.max.x=Math.max(r,t.max.x),t.min.y=Math.min(o,t.min.y),t.max.y=Math.max(o,t.max.y),t.min.z=Math.min(i,t.min.z),t.max.z=Math.max(i,t.max.z);return t}function Ute(){return{min:{x:1/0,y:1/0,z:1/0},max:{x:-1/0,y:-1/0,z:-1/0}}}function Q4(e){return e.reduce((t,r)=>({min:{x:Math.min(r.min.x,t.min.x),y:Math.min(r.min.y,t.min.y),z:Math.min(r.min.z,t.min.z)},max:{x:Math.max(r.max.x,t.max.x),y:Math.max(r.max.y,t.max.y),z:Math.max(r.max.z,t.max.z)}}),Ute())}var hFe=M(P("three"),1);var Xc=M(P("three"),1);var rm=M(P("three"),1);var YBe={getUrlToRequestWithOriginHeader:function(e){return e.includes("?")?`${e}&easel-cors-2`:`${e}?easel-cors-2`}},tm=YBe;var qBe=function(){let e=new rm.TextureLoader;e.setCrossOrigin("");let t={},r=function(a){if(a.textureUrl)return a.textureUrl;if(a.category)return ot.imageForMaterialCategory(a.category);if(typeof a=="string")return a},o=a=>t[a]!=null?t[a]:t[a]=new Promise(function(l,c){return a=tm.getUrlToRequestWithOriginHeader(a),e.load(a,l,void 0,c)}).then(l=>(l.colorSpace=rm.SRGBColorSpace,l)).catch(function(l){return window.onerror(`Error loading texture: ${l.toString()}`,"TextureLoader#tryLoadMaterial",0,0,l),Promise.reject(l)}),i=function(a){let l=r(a);return l?o(l).catch(()=>s(72,140,197)):s(72,140,197)},n=function(a,l,c,u){return a.baseTextureUrl==null?s(l,c,u):o(a.baseTextureUrl).then(function(p){let m=document.createElement("canvas");m.width=p.image.naturalWidth,m.height=p.image.naturalHeight;let h=m.getContext("2d");h.drawImage(p.image,0,0),h.globalCompositeOperation="multiply",h.fillStyle=`rgba(${l}, ${c}, ${u}, 1)`,h.fillRect(0,0,p.image.naturalWidth,p.image.naturalHeight);let f=new rm.CanvasTexture(m);return f.colorSpace=rm.SRGBColorSpace,f}).catch(()=>s(l,c,u))};var s=function(a,l,c){let u=new Uint8Array(4);u[0]=a,u[1]=l,u[2]=c,u[3]=255;let p=new rm.DataTexture(u,1,1);return p.colorSpace=rm.SRGBColorSpace,p.needsUpdate=!0,Promise.resolve(p)};return{loadMaterial:i,loadColoredMaterial:n,loadColor:s}},b5=qBe;var t8=M(P("three"),1);var e8=M(P("three"),1),AP=new e8.LineBasicMaterial({color:0,transparent:!0,opacity:.1}),Ukt=new e8.LineBasicMaterial({color:0,transparent:!0,opacity:.3}),$Be=new e8.MeshBasicMaterial({color:"red",transparent:!0,opacity:.5});var dF=M(P("three"),1);var ZBe=M(P("three"),1);var IP=M(P("three"),1);var Rte=M(P("three"),1);var JBe=M(P("three"),1);function jte({r:e,g:t,b:r}){return(e<<16)+(t<<8)+r}var v5=e=>"#"+(1<<24|jte(e)).toString(16).slice(1),mF=([e,t,r])=>({r:e,g:t,b:r}),DP=e=>{let t=e.substring(1),r="",o="",i="";switch(t.length){case 3:case 4:{let[s,a,l]=t;r=s+s,o=a+a,i=l+l}break;case 6:case 8:{let[s,a,l,c,u,p]=t;r=s+a,o=l+c,i=u+p}break;default:return null}let n={r:parseInt(r,16),g:parseInt(o,16),b:parseInt(i,16)};return isFinite(n.r)&&isFinite(n.g)&&isFinite(n.b)?n:null};var h3=M(P("three"),1);var fF=class{constructor(t){this.arr=t}at(t){return this.arr[Xt.mod(t,this.arr.length)]}[Symbol.iterator](){return this.arr[Symbol.iterator]()}},NP=fF;var QBe=P("three/examples/jsm/utils/BufferGeometryUtils.js");var zte=M(P("three"),1);function r8(e){switch(e?.sheen){case"gloss":return .1;case"semi-gloss":return .15;case"satin":return .25;case"matte":return .75}return .75}var dEt=new Xc.MeshPhongMaterial({color:"burlywood"}),mEt=new Xc.MeshPhongMaterial({color:"green",side:Xc.BackSide});var fEt=b5();var eFe=P("three");var g3=M(P("three"),1);var TEt=new g3.TextureLoader;var Xte={word:"Back",abbr:"Bk"},Yte={word:"Bottom",abbr:"Bt"},qte={word:"Face",abbr:"Fc"},$te={word:"Front",abbr:"Fr"},Zte={word:"Middle",abbr:"Md"},Jte={word:"Left",abbr:"Lf"},Kte={word:"Right",abbr:"Rt"},Qte={word:"Top",abbr:"Tp"},rFe=[Xte,Yte,qte,$te,Zte,Jte,Kte,Qte],ere={word:"Blind",abbr:"Bld"},MEt=[...rFe,ere];var oFe={word:"Door",abbr:"Dr"},iFe={word:"Drawer",abbr:"Dw"},nFe={word:"Face Frame",abbr:"FF"};var sFe={word:"Filler Strip",abbr:"Flr"},aFe={word:"Fixed Shelf",abbr:"FxS"},lFe={word:"Nailer",abbr:"Nlr"},cFe={word:"Shelf",abbr:"Shf"},uFe={word:"Stretcher",abbr:"Str"},pFe={word:"Toe Kick",abbr:"TK"},dFe={word:"Rail",abbr:"Ral"},mFe={word:"Stile",abbr:"Stl"},tre={back:Xte,bottom:Yte,face:qte,front:$te,middle:Zte,left:Jte,right:Kte,top:Qte},rre={...tre,blind:ere};var ore={door:oFe,drawer:iFe,faceFrame:nFe,filler:sFe,fixedShelf:aFe,nailer:lFe,shelf:cFe,stretcher:uFe,toekick:pFe,rail:dFe,stile:mFe},fFe={...rre,...ore};var sre=ve.drawer.hardware["blum-tandem-563h"].options.map(e=>{let t=e.length<=21?{productId:"blum-tandem-563h",displayName:"Blum TANDEM 563 Series"}:{productId:"blum-tandem-569",displayName:"Blum TANDEM 569 Series"};return{...e,...t,tag:"drawer-runner",mountDepth:ve.hardwareScrewHoleDepth,drawerBottomToRunnerBottom:ve.drawer.drawerBottomToRunnerBottom,faceFrameRearBracket:ve.drawer.hardware["blum-tandem-563h"].faceFrameRearBracket}}),are=e=>({tag:"drawer-runner",productId:"runner-other",displayName:"Other",length:e,drawerBottomToRunnerBottom:0,mountDepth:0,mountsOffsetsHorizontal:[],mountsOffsetsVertical:0,backMountOffsetHorizontal:0,backMountOffsetVertical:0,backMountDepth:0,faceFrameRearBracket:{offsets:[{x:0,y:0}]}});function gF(e){let t=gFe(e);return kFe(t,e),MFe(t,e),PFe(t,e),wFe(t,e),Cee(e.cabinetType)?yFe(t,e):(TFe(t,e),_Fe(t,e),EFe(t,e)),t}function gFe(e){let{cabinetNumber:t,cabinetType:r,construction:o,door:i,finishes:n}=e;return{tag:"cabinet",id:t,name:e.name,type:s3(r)?"base":"upper",shape:vF(e),carcass:{tag:"carcass",joinery:IFe(e),material:Yc(o,o,n.box),contents:[],systemHoles:{depth:0,spacing:ve.shelves.pinHoles.spacing,inset:{front:i?.type==="overlay"?ve.shelves.pinHoles.horizontalOffset:ve.shelves.pinHoles.horizontalOffsetInset+(u3.includes(r)?0:Yc(i,o,n.front).thickness),back:ve.shelves.pinHoles.horizontalOffset,bottom:ve.shelves.pinHoles.spacing-o.thickness/2,top:o.thickness+ve.bitWidth},diameter:ve.bitWidth},front:{type:i?.type||"overlay",material:Yc(i,o,n.front)},top:AFe(e)}}}function yFe({carcass:e,faceFrames:t},r){let o=r.blocks,i=cr.flexBlockHeight(r),n=cr.frontTop(r),s=n,a=[];o.forEach((l,c)=>{let u=l.height??i;s-=u;let p=cre(r,t,s,l.tag,o[c+1]?.tag);a.push(p),r.door?.type==="inset"&&(s-=p.height)}),o.forEach((l,c)=>{let u=l.height??i,p={top:n,height:u},m=c===0?cr.openingTop(r):a[c-1].top-a[c-1].height,h=c===o.length-1?cr.openingBottom(r):a[c].top,f={top:m,height:m-h};switch(l.tag){case"drawer":xFe(e,r,p,f);break;case"false-front":bFe(e,r,p,f);break;case"open-shelves":CFe(e,r,l,p,f);break;case"doors":SFe(e,r,l,p,f);break;default:console.error("Unsupported block type");break}n-=u,r.door?.type==="inset"&&(n-=a[c].height),ure(e,t,a[c],l.tag)})}function xFe(e,t,r,o){e.contents.push(dre(t,r,o,!1))}function bFe(e,t,r,o){let{front:i,construction:n,finishes:s,door:a,drawers:l}=t;e.contents.push({tag:"false-front",face:r,opening:o,type:e.front.type,style:i?.face.style!=="glass"?bF(i):{type:"plain"},inset:l.reveal,material:Yc(a,n,s.front)})}function vFe(e,t){if(s3(e.cabinetType)){let r=t.top,o=t.top-t.height;return r<=40?"top":o>=32?"bottom":"middle"}else return"bottom"}function SFe(e,t,r,o,i){let{fixedCount:n,adjustableCount:s}=r,a=vFe(t,o);e.contents.push(mre(t,r.swing,!0,o,i,a));let{undersize:l}=ve.shelves,c=l.width,u=l.depth+(e.front.type==="inset"?e.front.material.thickness:0);e.contents.push(...xF(t,n,s,{run:s>0?"full":"none"},new Array(n).fill(0),u,c,i))}function CFe(e,t,r,o,i){let{fixedCount:n,adjustableCount:s}=r,{undersize:a}=ve.shelves,l=a.width;e.contents.push(...xF(t,n,s,{run:s>0?"full":"none"},new Array(n).fill(0),a.depth,l,i))}function cre(e,t,r,o,i){if(!i)return{top:r,height:0};let n=t!=null,s=j4(o);if(!n&&!s)return{top:r,height:0};let a={top:r,height:cr.blockDividerHeight(o,e)};if(e.door?.type==="overlay"){let l=nP(o,i);a.top+=l.previous*a.height}return a}function ure(e,t,r,o){if(r.height===0)return;let i=t!=null,n=j4(o);e.contents.push({tag:"divider",face:r,opening:r,rail:i,faceFramesConfig:t,panel:n,panelMaterial:e.material,panelJoinery:e.joinery.sides})}function PFe({carcass:e},t){let{back:r,construction:o,finishes:i,size:n}=t;if(!r)return;let{stretchers:s}=r,{stretcherDepth:a,back:{minHeightForAdditionalStretchers:l,heightForAdditionalStretchers:c}}=ve;e.back={material:Yc(r,t.construction,i.box),offset:r.offset,location:r.construction.method==="overlay"?"outside":"inside",nailers:{method:s?.enabled?s.construction.method:"none",height:a,additional:Math.max(0,Math.ceil((n.height-l)/c)),...LFe()}},e.back.nailers.method!=="none"&&(e.back.offset=Math.max(e.back.offset,o.thickness))}function pre(e,t){let{door:r,size:o}=e;return o.width-2*t.thickness-r.openingWidth}function wFe({carcass:e},t){if(!u3.includes(t.cabinetType))return;let{corner:r}=t;e.blind={handed:r.side,width:pre(t,e.material)}}function _Fe({carcass:e},t){let r=yF(t);r&&e.contents.push(r)}function yF(e){if(e.door==null||!G4.includes(e.cabinetType)||e.doorItems==null)return null;let{includesDoor:t,swing:r}=e.doorItems,o=cr.useableDoorHeight(e),n={top:cr.frontBottom(e)+o,height:o},s=n.top,a=n.top-n.height;e.door.type==="overlay"&&(e.drawerItems?.enabled?e.frame?.style==="face-frame"&&(s=n.top-e.frame.railWidths.middle/2):s=cr.openingTop(e),a=cr.openingBottom(e));let l={top:s,height:s-a},c=s3(e.cabinetType)?"top":"bottom";return mre(e,r,t,n,l,c)}function kFe(e,t){let{frame:r,construction:o,finishes:{faceFrame:i}}=t;if(r?.style==="face-frame"){let{material:n,railWidths:s,stileWidths:a}=r,{thickness:l,id:c}=n;e.faceFrames={tag:"face-frames",material:Yc({thickness:l,materialId:c},o,i),railWidths:s,stileWidths:a,overhangs:{bottom:s.bottom-o.thickness}}}}function TFe({carcass:e,faceFrames:t},r){let{drawerItems:o,frame:i}=r;if(!o?.enabled)return;let{items:n,falseFront:s}=o,a=cr.frontTop(r),l=cr.insetMidRailWidth(r);n.forEach(({height:c},u)=>{let p=u===0,m=u===o.count-1&&(o.count>1||o.topHeight===r.size.height),h=p?void 0:"drawer",f=m?G4.includes(r.cabinetType)?"doors":void 0:"drawer",x={top:a,height:c},v={...x};if(i?.style==="face-frame"&&r.door?.type==="overlay"){let S=h?i.railWidths.middle:i.railWidths.top,w=nP(h,"drawer").next,_=f?i.railWidths.middle:i.railWidths.bottom,E=nP("drawer",f).previous,T=S*w,A=_*E;v.top-=T,v.height-=T+A}e.contents.push(dre(r,x,v,p&&(s??!1))),a-=c;let b=cre(r,t,a,"drawer",f);ure(e,t,b,"drawer"),a-=l})}function EFe({carcass:e},t){let{construction:r,shelves:o,shelfItems:i}=t;if(!o||!i)return;let{includePinHoles:n,fullRun:s=!1}=o,{numShelves:a,numFixed:l,fixed:c}=i;if(l===0&&a===0&&!n)return;let u=cr.shelfSpaceHeight(t),p;t.cabinetType==="frameless-lower-drawer-over-door"?p=cr.frontBottom(t)+cr.useableDoorHeight(t)+cr.insetMidRailWidth(t):p=t.size.height-r.thickness;let m={top:p,height:u},{undersize:h}=ve.shelves,f=h.depth+(e.front.type==="inset"&&!e.blind?e.front.material.thickness:0),x=h.width,v=n?s||a===0?{run:"full"}:{run:"group",groupQuantity:ve.shelves.pinHoles.groupQuantity}:{run:"none"},b=(c??new Array(l).fill({offset:0})).map(({offset:S})=>S??0);e.contents.push(...xF(t,l,a,v,b,f,x,m))}function MFe(e,t){let{cabinetType:r,toekick:o,frame:i}=t;if(!o?.enabled||!cP.includes(r))return;let n=o.depth;i?.style==="face-frame"&&(n=Math.max(0,o.depth-i.material.thickness)),e.toeKick={tag:"toe-kick",depth:n,height:o.height+(e.faceFrames?.overhangs.bottom??0),shared:!1}}function dre(e,t,r,o){let{construction:i,finishes:n,front:s,door:a}=e,l=e.drawers,{bottom:c,pull:u,slides:p,reveal:m}=l,h={sides:Yc(l,i,n.box),bottom:OFe(c,l,i,n.box),front:Yc(a,i,n.front)},f=Math.max(e.construction.thickness,t.top-r.top),x=Math.max(e.construction.thickness,r.top-r.height-(t.top-t.height)),{boxDims:v,boxBottomOffset:b}=cr.drawerBoxProperties(e,t.height,f,x);return{tag:"drawers",type:e.door.type,style:s?.face.style!=="glass"?bF(s):{type:"plain"},inset:m,face:t,opening:r,boxDims:v,materials:h,joineryOpts:{cutTolerance:ve.cutTolerance,dadoTolerance:ve.mortiseTenonDepthTolerance,bitWidth:ve.bitWidth},hardware:{runner:BFe(l.depth),setback:a?.type==="inset"?h.front.thickness+h.sides.thickness-ve.drawer.insetRunnerSetbackConstant:ve.drawer.runnerSetBack,milled:mP(e)&&p.enabled},boxBottomOffset:b,bottomPanelOffset:ve.drawer.bottomInset,falseFront:o,...u?hre(u,"middle","horizontal",n.handle):{}}}function mre(e,t,r,o,i,n){let{cabinetType:s,construction:a,door:l,finishes:c,front:u}=e,{pull:p,type:m,undersize:h}=l,f=r?hre(p,n,"vertical",c.handle):{},x=r?DFe(e):{};return{tag:"doors",type:m,swing:t,enabled:r??!1,face:o,opening:i,kind:H4.includes(s)?"bifold":"standard",style:r?bF(u):{type:"plain"},material:Yc(l,a,c.front),inset:h,...f,...x}}function xF(e,t,r,o,i,n,s,a){let{construction:l,finishes:c}=e,u=e.shelves,p=Yc(u,l,c.box),m=oL(r,t+1).reverse(),h=(a.height-t*p.thickness)/(t+1),f=a.top,x=0;return m.map((v,b)=>{let S=f,w=h+(b<t?p.thickness:0),_=i[b]??0;return w-=_,w+=x,x=_,f-=w,{tag:"shelves",material:p,face:{top:S,height:w},opening:{top:S,height:w},pinHoles:o,blindDados:fre(),recess:n,adjustable:{count:v,inset:s},fixed:b<t}})}function AFe(e){let{cabinetType:t,construction:r}=e;if(Te.supportsSinkStretchers.includes(t))switch(r.sinkStretcherStyle){case"front-and-back":return{panelStyle:"stretchers",stretcherDepth:ve.stretcherDepth,positions:"both"};case"front":return{panelStyle:"stretchers",stretcherDepth:ve.stretcherDepth,positions:"front"};case"none":return{panelStyle:"none"}}return Te.baseTypes.includes(t)&&r.topPanelStyle==="stretchers"?{panelStyle:"stretchers",stretcherDepth:ve.stretcherDepth,positions:"both"}:{panelStyle:"solid"}}function IFe(e){let{construction:t,cabinetType:r}=e,o,i;switch(t.method){case"butt-joints":o={method:t.method};break;case"blind-dados":o={method:t.method,...fre()};break;default:(s=>{throw new Error(`invalid side joinery method: ${s}`)})(t.method)}let n=iP(r);return n&&t.method==="blind-dados"||!n&&e.back?.construction.method==="dados"?i={method:"dados",cutTolerance:ve.cutTolerance,bitWidth:ve.bitWidth}:i={method:"butt-joints"},{sides:o,back:i}}function fre(){return{edgeInsets:ve.blindDadoSideOffset,cutTolerance:ve.cutTolerance,bitWidth:ve.bitWidth}}function bF(e){switch(e?.face.style){case"shaker":return{type:"shaker",border:e.face.borderWidth,depth:e.face.depth};case"glass":return{type:"glass",border:e.face.frameWidth,rabbet:{width:e.face.rabbetWidth,depth:e.face.rabbetDepth}};case"plain":default:return{type:"plain"}}}function hre(e,t,r,o){let{style:i,offsetX:n,offsetY:s,spacing:a}=e,l;switch(i){case"knob":l={kind:i,extension:.5,radius:.25};break;case"pull":l={kind:i,spacing:a/25.4,bar:r,extension:1,radius:.25,overhang:1};break;case"none":return{};default:(u=>{throw new Error(`invalid handle style: ${u}`)})(i)}return o?.color==null&&(o={color:{r:17,g:17,b:17}}),{handle:{vertical:t,offset:{x:n??0,y:s},finish:o,design:l}}}function DFe(e){let{cabinetType:t,door:r,frame:o,front:i}=e;if(r==null||!mP(e)||!r.hinges.enabled)return{};if(i?.face.style==="shaker")return{};let n=o?.style==="face-frame",s=e.construction.thickness-r.undersize,l=s-.433,c=n?.118:Rd(l,.118,.236),u={location:"none"};n||(u3.includes(t)?u={location:"blind-front",diameter:ve.bitWidth,depth:ve.hardwareScrewHoleDepth,setback:r.type==="overlay"?NFe(s):ve.blindCornerInsetDoorSetback}:u={location:"side-panel"});let p={plate:u,pocket:{diameter:ve.concealedHingeHoleDiameter,depth:ve.concealedHingeHoleDepth,offset:{x:c+ve.concealedHingeHoleDiameter/2,y:0}},pilot:{diameter:ve.concealedHingeScrewHoleDiameter,depth:ve.hardwareScrewHoleDepth,offset:{x:ve.concealedHingeScrewHoleXOffset,y:ve.concealedHingeScrewHoleYOffset}}};return H4.includes(t)?{hinge:p,bifoldHinge:{pocket:{diameter:ve.concealedHingeHoleDiameter,depth:ve.bifoldHingeHoleDepth,offset:{x:.492126,y:0}},pilot:p.pilot,plate:{location:"bifold-leading",setback:1.45669,diameter:ve.concealedHingeScrewHoleDiameter,depth:ve.hardwareScrewHoleDepth}}}:{hinge:p}}function NFe(e){let r=e*25.4;return(r<2||r>17)&&console.warn("blind-corner overlay out of 2-17mm range:",r),r<7?27/25.4:r<12?32/25.4:37/25.4}function Yc(e,t,r){let o=e?.thickness??t.thickness,i=e?.materialId==null?{id:t.materialId,thickness:o}:{id:e.materialId,thickness:o};if(r){let n=Object.fromEntries(Object.entries(r).filter(([,s])=>s!==null));Object.keys(n).length&&(i.finish=n)}return i}function OFe(e,t,r,o){let i=e?.thickness??t?.thickness??r.thickness,s={id:e?.materialId??t?.materialId??r.materialId,thickness:i};if(o){let a=Object.fromEntries(Object.entries(o).filter(([,l])=>l!==null));Object.keys(a).length&&(s.finish=a)}return s}function vF(e){let{cabinetType:t,corner:r,size:o,door:i}=e;switch(t){case"frameless-lower-corner-90-degree":case"frameless-upper-corner-90-degree":return{kind:"L-shape",size:{...o,depth:o.width},handed:r.side,opening:o.width-o.depth,bevel:ve.ninetyDegreeCorner.cornerGap};case"frameless-lower-corner-blind":case"frameless-upper-corner-blind":return{kind:"blind-box",size:{...o},corner:r.side,blindWidth:pre(e,Yc(e.construction,e.construction,e.finishes.front)),overlayThickness:Yc(i,e.construction,e.finishes.front).thickness}}return{kind:"box",size:{...o}}}function LFe(){return{edgeInsets:ve.blindDadoSideOffset,cutTolerance:ve.cutTolerance,bitWidth:ve.bitWidth}}function BFe(e){return sre.find(t=>t.length===e)??are(e)}function zFe(e){let{boundary:t}=e.operations;switch(t.type){case"path":{let{minX:r,minY:o,maxX:i,maxY:n}=lr(t.points).boundingBox();return{min:{x:r,y:o},max:{x:i,y:n}}}case"rect":return{min:{x:0,y:0},max:{x:t.size[0],y:t.size[1]}};default:(r=>{throw new Error(`invalid boundary: ${r}`)})(t)}}function b2(e){let{min:t,max:r}=zFe(e);return{width:r.x-t.x,height:r.y-t.y}}function o8(e,{width:t,height:r},o){let{padding:i,margin:n}=o;return{sizes:e.map((s,a)=>XFe(s,a,o)),binSize:{width:t+i-2*n,height:r+i-2*n}}}function XFe({width:e,height:t,...r},o,{padding:i,rotation:n}){let s=!1;return(n==="height-longer"&&t<e||n==="width-longer"&&e<t)&&([e,t]=[t,e],s=!0),{...r,width:e+i,height:t+i,index:o,rotated:s}}function i8(e,{padding:t,margin:r}){e.forEach(o=>{[...o.rects,...o.strips].forEach(i=>{i.x+=r,i.width-=t,i.y+=r,i.height-=t})})}function xre(e,t){let r=[],o=[];return e.forEach(i=>{let n=o.findIndex(m=>i.width<=m.width&&i.height<=m.height),s;n<0?(s={...t,x:0,y:0,bin:{rects:[],strips:[]}},r.push(s.bin)):[s]=o.splice(n,1);let{bin:a,width:l,height:c,x:u,y:p}=s;a.rects.push({...i,x:u,y:p}),l>i.width?(o.push({bin:a,width:l-i.width,height:c,x:u+i.width,y:p}),c>i.height&&o.push({bin:a,width:i.width,height:c-i.height,x:u,y:p+i.height})):c>i.height&&o.push({bin:a,width:l,height:c-i.height,x:u,y:p+i.height})}),r}function bre(e,t,r="width"){let{Y:o,H:i,W:n}=Sre(r),s=vre(e,t[n],r),a=[];return s.forEach(l=>{let c=nL(a,u=>l[i]<=t[i]-u.offset,()=>({offset:0,value:{rects:[],strips:[]}}));[l,...l.rects].forEach(u=>u[o]=c.offset),c.value.rects.push(...l.rects),c.value.strips.push(l),c.offset+=l[i]}),a.map(l=>l.value)}function vre(e,t,r="width"){let{X:o,Y:i,W:n,H:s}=Sre(r),a=[];return e.forEach(l=>{let c=nL(a,m=>l[s]<=m.value[s]&&l[n]<=t-m.offset,()=>{let m=a[a.length-1]?.value,h=m?m[i]+m[s]:0;return{offset:0,value:{...{[o]:0,[i]:h,[n]:t,[s]:l[s]},dir:r,rects:[]}}}),u={[o]:c.offset,[i]:c.value[i]},p={...l,...u};c.value.rects.push(p),c.offset+=l[n]}),a.map(l=>l.value)}function Sre(e){return e==="width"?{X:"x",Y:"y",W:"width",H:"height"}:{X:"y",Y:"x",W:"height",H:"width"}}var YFe={area:e=>e.width*e.height,perimeter:e=>e.width+e.height,width:e=>e.width,height:e=>e.height,"side-long":e=>Math.max(e.width,e.height),"side-short":e=>Math.min(e.width,e.height),"diff-sides":e=>Math.abs(e.width-e.height),"diff-wh":e=>e.width-e.height,"diff-hw":e=>e.height-e.width,"ratio-sides":e=>Math.min(e.width,e.height)/Math.max(e.width,e.height),"ratio-wh":e=>e.width/e.height,"ratio-hw":e=>e.height/e.width},qFe=e=>(t,r)=>e(t)-e(r),$Fe=e=>(t,r)=>e(r)-e(t),SF=Object.fromEntries(Object.entries(YFe).flatMap(([e,t])=>[[`${e}:asc`,qFe(t)],[`${e}:desc`,$Fe(t)]])),ZFe=e=>(t,r)=>{let o=0;for(let i=0;o===0&&i<e.length;i++)o=e[i](t,r);return o};function Cre(e,t){if(t==="none")return e;let r=ZFe(t.map(o=>SF[o]));return e.slice().sort(r)}function Pre(e,t,r,o){let i=[];for(let n of e){if(n.width>t.width||n.height>t.height){i.push({packed:[{...n,x:0,y:0}],free:[]});continue}let s=JFe[r](n,i,o);s==null&&(s={bin:{packed:[],free:[{...t,x:0,y:0}]},freeIndex:0,rotated:!1},i.push(s.bin));let{bin:a,freeIndex:l,rotated:c}=s,u=a.free[l],p={...n,x:u.x,y:u.y,rotated:n.rotated!=c};a.packed.push(p);let m=c?fL(p):p;a.free.splice(l,1,...hL(u,m));for(let h=a.free.length-1;h>=0;h--){let f=a.free[h];vJ(f,m)&&a.free.splice(h,1,...hL(f,m))}for(let h=0;h<a.free.length;h++)for(let f=a.free.length-1;h<f;f--)CJ(a.free[f],a.free[h])&&a.free.splice(f,1)}return i}var JFe={first:KFe,area:CF.bind(null,(e,t)=>t.width*t.width),"side-short":CF.bind(null,(e,t)=>Math.min(t.width-e.width,t.height-e.height)),"side-long":CF.bind(null,(e,t)=>Math.max(t.width-e.width,t.height-e.height))};function KFe(e,t,r){for(let o of t){let i=o.free.findIndex(n=>e.width<=n.width&&e.height<=n.height);if(i>=0)return{bin:o,freeIndex:i,rotated:!1};if(r&&(i=o.free.findIndex(n=>e.width<=n.height&&e.height<=n.width),i>=0))return{bin:o,freeIndex:i,rotated:!0}}}function CF(e,t,r,o){let i,n=1/0;for(let s of r)for(let a=0;a<s.free.length;a++){let l=s.free[a];if(t.width<=l.width&&t.height<=l.height){let c=e(t,l);c<n&&(n=c,i={bin:s,freeIndex:a,rotated:!1})}if(o&&t.width<=l.height&&t.height<=l.width){let c=e(t,fL(l));c<n&&(n=c,i={bin:s,freeIndex:a,rotated:!0})}}return i}function wre(e,t,r,o){return o==null&&(o=rWe),kre(e,t,r,o)}function _re(e,t,r,o){return o==null&&(o=nWe),kre(e,t,{padding:r,margin:0,rotation:"height-longer"},o)}function kre(e,{width:t,height:r},o,i){if(i.length===0)throw new Error("empty algos array");let{sizes:n,binSize:s}=o8(e,{width:t,height:r},o),a=i.map(c=>{let{algo:u,sort:p}=c,m=Cre(n,p),h=o.rotation==="free"||c.rotateable;return{algo:u,sort:p,rotateable:h,bins:QFe(m,s,u,h)}}),l=jd(a,c=>c.bins.length);return i8(l.bins,o),l}function QFe(e,t,r,o){let{kind:i}=r;switch(i){case"strip":return bre(e,t,r.dir);case"guillotine":return xre(e,t);case"max-rects":return Pre(e,t,r.fit,o).map(n=>({rects:n.packed,strips:[]}));default:(n=>{throw new Error(`invalid kind: ${n}`)})(i)}}var eWe=[["height:desc","width:desc"],["width:desc","height:desc"],["area:desc","height:desc"],["perimeter:desc","height:desc"],["diff-sides:asc","height:desc"],["ratio-sides:desc","height:desc"],["height:desc"],["width:desc"],"none"],tWe=[{kind:"strip",dir:"width"},{kind:"max-rects",fit:"area"},{kind:"max-rects",fit:"side-short"},{kind:"max-rects",fit:"side-long"},{kind:"max-rects",fit:"first"},{kind:"guillotine"}],rWe=tWe.flatMap(e=>eWe.map(t=>({sort:t,algo:e,rotateable:!1}))),oWe=Object.keys(SF).map(e=>[e]),iWe=[{kind:"strip",dir:"height"}],nWe=iWe.flatMap(e=>oWe.map(t=>({sort:t,algo:e,rotateable:!1})));function Ere(e,t,r,o){let{margin:i,padding:n,bitWidth:s}=r,a=e.rotateable?"free":"height-longer",l={margin:i,padding:n+2*s,rotation:a},{bins:c,...u}=wre(Are(t),nC(e.size),l,o);return{heuristic:u,sheets:c.map(p=>({panels:p.rects.map(({index:m,x:h,y:f,rotated:x})=>{let v=t[m];return{id:Tt(),...v,position:{x:h,y:f},rotated:x}}),cuts:[]}))}}function Mre(e,t,r,o){let{kerf:i}=r,{bins:n,...s}=_re(Are(t),nC(e.size),i,o);return{sheets:n.map(l=>({panels:l.rects.map(({index:u,x:p,y:m,rotated:h})=>{let f=t[u];return{id:Tt(),...f,position:{x:p,y:m},rotated:h}}),cuts:aWe(t,l,nC(e.size),i)})),heuristic:s}}function aWe(e,t,r,o){let i=[];for(let n=0;n<t.strips.length;n++){let s=t.strips[n],a=lC(s,"right"),l={kind:"rip",line:sC(a,{x:o/2}),fence:s.width,panels:[]},c=s.rects;if(s.rects.length===1){let h=s.rects[0];h.height===s.height&&((a.x1<r.width?l:i[i.length-1]?.rip)?.panels?.push(e[h.index]),c=[])}let u=[];for(let h=0;h<c.length;h++){let f=c[h],x=sC({...lC(f,"top"),x2:a.x2},{y:o/2}),v={kind:"cross",line:x,fence:f.height,panels:[]};f.width===s.width&&(x.y1<r.height?v:u[u.length-1])?.panels?.push(e[f.index]),x.y1<r.height&&u.push(v)}let p=c.filter(h=>h.width<s.width).map(h=>({kind:"trim",line:sC(lC(h,"right"),{x:o/2}),fence:h.width,panels:[e[h.index]]})),m={crosses:u,trims:p};a.x1<r.width&&(m.rip=l),i.push(m)}return i.flatMap(n=>[...n.rip?[n.rip]:[],...n.crosses,...n.trims])}function Are(e){return e.map(t=>({...b2(t),label:t.label}))}var Ire=(e,t)=>{if(t.manufacturing.method!=="faceframes"){let{sheets:r}=t.manufacturing.method==="cnc"?Ere(e.stock,e.panels,t.manufacturing):Mre(e.stock,e.panels,t.manufacturing);if(e.panels.length===0)return{...e,panels:[],cuts:[]};if(r.length===1)return{...e,...r[0]};console.warn("could not optimize sheet",e)}},wF=(e,t)=>{let r=Ire(Ga(e),Ga(t));r&&(e.panels=r.panels,e.cuts=r.cuts)},PF=({draftCutList:e,stock:t,panel:r,fromSheetId:o,toSheetId:i})=>{let n=e.nestings.find(s=>s.stock.materialId==t.materialId&&s.stock.thickness===t.thickness);if(o){let s=n.sheets.find(a=>a.id===o);s.panels=s.panels.filter(a=>a.id!==r.id),e.options.manufacturing.method==="tablesaw"&&wF(s,e.options)}if(i){let s=n.sheets.find(a=>a.id===i);if(s)s.panels.push(r),wF(s,e.options);else{n.sheets.forEach((l,c)=>{l.xofy=`${c+1} of ${n.sheets.length+1}`});let a=Ire({stock:t,id:i,xofy:`${n.sheets.length+1} of ${n.sheets.length+1}`,panels:[r],cuts:[]},e.options);n.sheets.push(a)}}},lWe={cutLists:[]},Hp=We({name:"manufacturing",initialState:lWe,reducers:{loadCutLists:(e,{payload:t})=>{e.cutLists=(t||[]).sort((r,o)=>new Date(o.created).valueOf()-new Date(r.created).valueOf())},createCutList:{prepare(e){return{payload:{cutList:e,undoDescription:"Create cut list"}}},reducer(e,{payload:{cutList:t}}){e.cutLists.unshift(t)}},deleteCutList:{prepare(e){return{payload:{id:e,undoDescription:"Create cut list"}}},reducer(e,{payload:{id:t}}){return{cutLists:e.cutLists.filter(r=>r.id!==t)}}},renameCutList:{prepare({id:e,name:t}){return{payload:{id:e,name:t,undoDescription:"Rename cut list"}}},reducer(e,{payload:{id:t,name:r}}){e.cutLists.find(o=>o.id===t).name=r}},deleteCutListPanel:{prepare({cutList:e,stock:t,panel:r,fromSheet:o}){return{payload:{cutList:e,stock:t,panel:r,fromSheetId:o.id,undoDescription:"Delete panel"}}},reducer(e,{payload:{cutList:t,stock:r,panel:o,fromSheetId:i}}){let n=e.cutLists.find(s=>s.id===t.id);PF({draftCutList:n,stock:r,panel:o,fromSheetId:i})}},moveCutListPanel:{prepare({cutList:e,stock:t,panel:r,fromSheet:o,toSheet:i}){return{payload:{cutList:e,stock:t,panel:r,fromSheetId:o.id,toSheetId:i?.id??Tt(),undoDescription:"Move panel"}}},reducer(e,{payload:{cutList:t,stock:r,panel:o,fromSheetId:i,toSheetId:n}}){let s=e.cutLists.find(a=>a.id===t.id);PF({draftCutList:s,stock:r,panel:o,fromSheetId:i,toSheetId:n})}},copyCutListPanel:{prepare({cutList:e,stock:t,panel:r,toSheet:o}){return{payload:{cutList:e,stock:t,panel:r,toSheetId:o?.id??Tt(),undoDescription:"Duplicate panel"}}},reducer(e,{payload:{cutList:t,stock:r,panel:o,toSheetId:i}}){let n=e.cutLists.find(s=>s.id===t.id);PF({draftCutList:n,stock:r,panel:{...o,id:Tt(),label:`${o.label} copy`},toSheetId:i})}},repositionCutListPanel:{prepare({cutList:e,sheet:t,panel:r,x:o,y:i}){return{payload:{cutList:e,sheet:t,panel:r,x:o,y:i,undoDescription:"Reposition panel"}}},reducer(e,{payload:{cutList:t,sheet:r,panel:o,x:i,y:n}}){let l=e.cutLists.find(c=>c.id===t.id).nestings.flatMap(c=>c.sheets).find(c=>c.id===r.id).panels.find(c=>c.id===o.id);l.position={x:i,y:n}}},rotateCutListPanel:{prepare({cutList:e,sheet:t,panel:r}){return{payload:{cutList:e,sheet:t,panel:r,undoDescription:"Rotate panel"}}},reducer(e,{payload:{cutList:t,sheet:r,panel:o}}){let s=e.cutLists.find(l=>l.id===t.id).nestings.flatMap(l=>l.sheets).find(l=>l.id===r.id).panels.find(l=>l.id===o.id),a=o.rotated?aC(b2(Ga(s))):b2(Ga(s));s.rotated=!s.rotated,s.position.x+=(a.width-a.height)/2,s.position.y+=(a.height-a.width)/2}},reoptimizeCutListSheet:{prepare({cutList:e,sheet:t}){return{payload:{cutList:e,sheet:t,undoDescription:"Optimize sheet"}}},reducer(e,{payload:{cutList:t,sheet:r}}){let o=e.cutLists.find(n=>n.id===t.id),i=o.nestings.flatMap(n=>n.sheets).find(n=>n.id===r.id);wF(i,o.options)}}}}),Dre=[Hp.actions.createCutList,Hp.actions.deleteCutList,Hp.actions.renameCutList,Hp.actions.copyCutListPanel,Hp.actions.deleteCutListPanel,Hp.actions.moveCutListPanel,Hp.actions.reoptimizeCutListSheet,Hp.actions.repositionCutListPanel,Hp.actions.rotateCutListPanel],cWe={getCutLists:e=>e.manufacturing.cutLists},uWe={actions:Hp.actions,reducer:Hp.reducer,...cWe},Ha=uWe;var Nre={isGrouping:!1,actionGroups:[],index:-1},_F={newAction:"default",defaultData:Nre},pWe={_sliceProperties:{undoable:!1},actionToken:0,byWorkpieceId:{[wo]:Nre},activeWorkpieceId:wo},LP=We({name:"undo",initialState:pWe,reducers:{undo:{reducer:e=>{let t=e.byWorkpieceId[e.activeWorkpieceId];t.index>=0&&t.index--},prepare:e=>({payload:e})},redo:{reducer:e=>{let t=e.byWorkpieceId[e.activeWorkpieceId];t.index+1<t.actionGroups.length&&t.index++},prepare:e=>({payload:e})},beginGroup:{reducer:(e,{payload:t})=>{let r=e.byWorkpieceId[e.activeWorkpieceId];r.isGrouping=!0,r.index++;let o={tokens:[],description:t.undoDescription};r.actionGroups.splice(r.index,Number.MAX_VALUE,o)},prepare:e=>({payload:{undoDescription:e}})},endGroup(e){let t=e.byWorkpieceId[e.activeWorkpieceId];t.isGrouping&&t.actionGroups[t.index].tokens.length===0&&(delete t.actionGroups[t.index],t.index--),t.isGrouping=!1},reopenGroup(e){let t=e.byWorkpieceId[e.activeWorkpieceId],r=t.actionGroups[t.index];t.isGrouping=!!(r&&r.tokens.length>0)},clearAllUndos(e){for(let t of Object.values(e.byWorkpieceId))t.isGrouping=!1,t.actionGroups=[],t.index=-1},addAction(e,{payload:t}){let{token:r,undoDescription:o}=t,i=e.byWorkpieceId[e.activeWorkpieceId];if(!i.isGrouping){i.index++;let s={tokens:[],description:void 0};i.actionGroups.splice(i.index,Number.MAX_VALUE,s)}let n=i.actionGroups[i.index];n.tokens.push(r),n.description==null&&o!=null&&(n.description=o)}},extraReducers:e=>{uJ(e),pJ(e),dJ(e,_F),e.addCase(Vr(Bp.DUPLICATE_WORKPIECE_FULFILLED),(t,r)=>{t.byWorkpieceId[r.payload.newId]=_F.defaultData,t.activeWorkpieceId=r.payload.newId}),e.addCase(Vr(Bp.LOAD_WORKPIECE),(t,r)=>{let{workpiece:o,show:i}=r.payload;t.byWorkpieceId[o.id]=_F.defaultData,i&&(t.activeWorkpieceId=o.id)}),e.addMatcher(t=>t.payload&&t.payload.undoDescription!=null&&!t.type.startsWith("undo/"),(t,r)=>{t.actionToken+=1;let o=t.byWorkpieceId[t.activeWorkpieceId];if(!o.isGrouping){o.index++;let n={tokens:[],description:r.payload.undoDescription};o.actionGroups.splice(o.index,Number.MAX_VALUE,n)}let i=o.actionGroups[o.index];i.tokens.push(t.actionToken),i.description==null&&(i.description=r.payload.undoDescription)})}}),dWe=e=>{let t=e.undo.byWorkpieceId[e.undo.activeWorkpieceId];if(!t)return;let r=t.actionGroups[t.index];if(r==null)return;let o=[];for(let i=r.tokens.length-1;i>=0;i--)o.push(r.tokens[i]);return o},mWe=e=>{let t=e.undo.byWorkpieceId[e.undo.activeWorkpieceId];if(t&&t.actionGroups[t.index+1]!=null)return t.actionGroups[t.index+1].tokens},fWe=e=>{let t=e.undo.byWorkpieceId[e.undo.activeWorkpieceId];return t?t.actionGroups[t.index]?.description??null:null},hWe=e=>{let t=e.undo.byWorkpieceId[e.undo.activeWorkpieceId];return t?t.actionGroups[t.index+1]?.description??null:null},gWe=e=>e.undo.actionToken,BP=[LP.actions.undo,LP.actions.redo],yWe={getUndoTokens:dWe,getRedoTokens:mWe,getUndoDescription:fWe,getRedoDescription:hWe,getActionToken:gWe},xWe={actions:LP.actions,reducer:LP.reducer,...yWe},nr=xWe;var y3=z1();y3.startListening({predicate:e=>!it("workpiece_saving")&&Object.values(rL).includes(e.type)||ws(...cJ)(e)||e.type===Q.updateDefaults.fulfilled.type,effect:()=>{Li.scheduleAutosave()}});y3.startListening({predicate:e=>e.type.startsWith("cabinets/")&&e.type!=="cabinets/loadCabinetry"||e.type.startsWith("job/set")||ws(...ate)(e)||ws(...Dre)(e),effect:()=>{Li.scheduleAutosave()}});it("workpiece_saving")||(y3.startListening({predicate:e=>e.type.startsWith("workpieces/volumes")||ws(...JC)(e)||ws(...BP)(e)||ws(...ZC)(e),effect:()=>{Li.scheduleAutosave()}}),y3.startListening({predicate:e=>e.type==="workpieces/_showWorkpiece/fulfilled",effect:(e,{getState:t})=>{let r=t();if(ge.isReadOnly(r))return;let i=ge.getProjectLinkToken(r),n=W.getActiveWorkpiece(r);i&&n&&Gr.updateActiveWorkpiece(i,n.position).catch(s=>{console.error("Failed to update active workpiece:",s)})}}));var n8=z1();n8.startListening({predicate:e=>e.type.startsWith("workpieces/volumes")||ws(...ZC)(e)||ws(...JC)(e)||ws(...BP)(e),effect:(e,{getOriginalState:t})=>{let r=t(),o=W.getActiveWorkpiece(r);console.log("action",o,e),s2().scheduleAutosave(o.id)}});n8.startListening({predicate:e=>e.type.startsWith("workpieces/create")||e.type.startsWith("workpieces/duplicate"),effect:(e,{getState:t})=>{let r=t(),o=W.getActiveWorkpiece(r);console.log("action",o,e),s2().scheduleAutosave(o.id)}});n8.startListening({predicate:e=>e.type==="workpieces/_showWorkpiece/fulfilled"||e.type==="workpieces/duplicateWorkpiece/fulfilled"||e.type==="workpieces/createAndShowWorkpiece/fulfilled",effect:(e,{getState:t})=>{let r=t();if(ge.isReadOnly(r))return;let i=ge.getProjectLinkToken(r),n=W.getActiveWorkpiece(r);i&&n&&Gr.updateActiveWorkpiece(i,n.position).catch(s=>{console.error("Failed to update active workpiece:",s)})}});var bWe=function(e,t){let r=(s,a)=>{let l=s;for(let c of e)l=c(l,a);return l},o=x3.compose,i=[Hv,QO.middleware,y3.middleware];it("workpiece_saving")&&i.push(n8.middleware);let n=x3.legacy_createStore(r,t,o(x3.applyMiddleware(...i)));return Ore(n),Lre.store=n,globalThis.CUKES&&(globalThis.CUKES.store=n),globalThis._EASEL&&(globalThis._EASEL.Store=n),n},Ore=function(e){e.subscribeWithSelector=function(r,o){let i=r(e.getState());return e.subscribe(function(){let n=r(e.getState());if(!_r(n,i)){let s=i;i=n,o(n,s)}})}},Lre={store:null,createStore:bWe,makeSubscribable:Ore},N=Lre;var vWe=async()=>await fetch("/cut_settings/",{method:"GET",headers:{"Content-Type":"application/json"}}),SWe=async e=>await fetch("/cut_settings/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector("[name='csrf-token']")?.content},body:JSON.stringify({cut_settings:Bre(e)})}),CWe=async e=>await fetch(`/cut_settings/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector("[name='csrf-token']")?.content}}),PWe=async e=>await fetch(`/cut_settings/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector("[name='csrf-token']")?.content},body:JSON.stringify({cut_settings:Bre(e)})}),FP=e=>({id:e.identifier,bitId:e.bit_id,materialId:e.material_id,feedRate:e.feed_rate,plungeRate:e.plunge_rate,depthPerPass:e.depth_per_pass,spindleSpeed:e.spindle_speed,updatedAt:e.updated_at,notes:e.notes,machineProfileId:e.machine_profile_id}),Bre=e=>({identifier:e.id,bit_id:e.bitId,material_id:e.materialId,feed_rate:e.feedRate,plunge_rate:e.plungeRate,depth_per_pass:e.depthPerPass,spindle_speed:e.spindleSpeed,notes:e.notes,machine_profile_id:e.machineProfileId}),wWe={loadCutSettings:vWe,addCutSetting:SWe,deleteCutSetting:CWe,updateCutSetting:PWe},s8=wWe;var kF=Ht("cutSettings/fetchCutSettings",async()=>{let e=await s8.loadCutSettings();if(!e.ok)throw new Error(e.statusText);return await e.json()}),TF=Ht("cutSettings/addCutSetting",async e=>{let t=await s8.addCutSetting(e);if(!t.ok){let r=await t.json();throw new Error(r.errors.flat())}return await t.json()}),EF=Ht("cutSettings/deleteCutSetting",async e=>{let t=await s8.deleteCutSetting(e);if(!t.ok){let r=await t.json();throw new Error(r.errors.flat())}return await t.json()}),MF=Ht("cutSettings/updateCutSetting",async e=>{let t=await s8.updateCutSetting(e);if(!t.ok){let r=await t.json();throw new Error(r.errors.flat())}return await t.json()}),_We={_sliceProperties:{undoable:!1},all:[]},Fre=We({name:"cutSettings",initialState:_We,reducers:{},extraReducers:e=>{e.addCase(kF.fulfilled,(t,{payload:r})=>{t.all.push(...r.map(FP))}),e.addCase(kF.rejected,(t,{error:r})=>{console.error(`Could not load cut settings: ${r.message}`)}),e.addCase(TF.fulfilled,(t,{payload:r})=>{t.all.push(FP(r))}),e.addCase(TF.rejected,(t,{error:r})=>(console.error(`Could not add cut settings: ${r.message}`),t)),e.addCase(EF.fulfilled,(t,{payload:r})=>{t.all=t.all.filter(o=>o.id!==r.identifier)}),e.addCase(EF.rejected,(t,{error:r})=>(console.error(`Could not delete cut setting ${r.message}`),t)),e.addCase(MF.fulfilled,(t,{payload:r})=>{t.all=t.all.map(o=>o.id===r.identifier?FP(r):o)}),e.addCase(MF.rejected,(t,{error:r})=>(console.error(`Could not update cut settings: ${r.message}`),t))}}),kWe=e=>e.cutSettings.all,TWe={actions:{...Fre.actions},reducer:Fre.reducer,getCutSettings:kWe,fetchCutSettings:kF,addCutSetting:TF,deleteCutSetting:EF,updateCutSetting:MF},Wi=TWe;var EWe={bitKeys:{bit:"bit",detailBit:"detailBit",outlineBit:"outlineBit"}},Vo=EWe;var WP=function(e){return e==null?null:rt(e).inchWidth()},MWe=e=>WP(re.bit(e)),AWe=e=>WP(re.detailBit(e)),IWe=e=>WP(re.outlineBit(e)),DWe=(e,t)=>rt(re.strokeBit(t)).inchWidth(e),NWe=function(e){let t=re.bit(e);return t==null?null:rt(t).degreeTipAngle()},OWe=e=>rt(e).description(),LWe=e=>rt(e).shortDescription(),BWe=function(e,t){return t.find(r=>r.id===e.id)||e},FWe=function(e){switch(e){case qe.straight:return{supertype:Gc.endMills,type:e,image:EASEL_ASSETS.images.straightFlute,title:"What is a straight cut bit?",tooltip:"An endmill with 1 or 2 straight flutes. Works well in materials where a spiral flute bit might cause unwanted lifting effects - like thin veneers or some plastics.",supportArticleTitle:"Learn more about straight bits",supportArticleUrl:"https://inventables.zendesk.com/hc/en-us/articles/360012849233-Carving-Bits-101-Bit-Basics"};case qe.upcut:return{supertype:Gc.endMills,type:e,image:EASEL_ASSETS.images.spiralUpFlute,title:"What is an upcut bit?",tooltip:"Upcut endmills create a clean edge on the bottom of material. The spiral design works well with wood, plastic and metals and helps to remove chips from the cutting area.",supportArticleTitle:"Learn more about upcut bits",supportArticleUrl:"https://inventables.zendesk.com/hc/en-us/articles/360012849233-Carving-Bits-101-Bit-Basics"};case qe.downcut:return{supertype:Gc.endMills,type:e,image:EASEL_ASSETS.images.downCutIcon,title:"What is a downcut bit?",tooltip:"Downcut endmills create a clean edge on the top of the material. The spiral design works well with wood and plastic, but chip build up can occur. The downforce in cutting works well for thin materials.",supportArticleTitle:"Learn more about downcut bits",supportArticleUrl:"https://inventables.zendesk.com/hc/en-us/articles/360012849233-Carving-Bits-101-Bit-Basics"};case qe.compression:return{supertype:Gc.endMills,type:e,image:EASEL_ASSETS.images.compressionCutIcon,title:"What is a compression bit?",tooltip:"Compression endmills create a clean top and bottom edge in materials and have both up and down spiral sections. Refer to the bit manufacturers specifications to determine depth of cut optimal for clean cutting.",supportArticleTitle:"Learn more about compression bits",supportArticleUrl:"https://inventables.zendesk.com/hc/en-us/articles/360012849233-Carving-Bits-101-Bit-Basics"};case qe.v:return{supertype:Gc.vBits,type:e,image:EASEL_ASSETS.images.vCutIcon,title:"What is a V bit?",tooltip:"V-Bits have a pointed end, with either 30, 60, or 90 degrees. They are used for fine detail engraving with V-Carving and are great for sign making.",supportArticleTitle:"Learn more about V Carving",supportArticleUrl:"https://inventables.zendesk.com/hc/en-us/articles/360012725894-What-is-V-Carving"};case qe.ballnose:return{supertype:Gc.ballnose,type:e,image:EASEL_ASSETS.images.ballnoseCutIcon,title:"What is a ballnose bit?",tooltip:"Ballnose endmills are used for 3D carving and have a hemispherical end. They require smaller stepover and create detailed surfaces.",supportArticleTitle:"Learn more about 3D Carving",supportArticleUrl:"https://inventables.zendesk.com/hc/en-us/articles/10369535844243-3D-Carving-Instructions"};default:return{supertype:Gc.endMills,type:e}}},WWe=e=>({global:"Inventables",inventables:"Inventables",user_added_custom:"Custom",user_unsaved_input:"Manual",idc_woodcraft:"IDC Woodcraft",amana:"Amana",spetool:"Spetool",whiteside:"Whiteside",bitsbits:"Bits&Bits"})[e],VWe=function(e){switch(e){case Gc.endMills:return{otherBitType:"other-bit",pro:!1};case Gc.vBits:return{otherBitType:"other-v-bit",pro:!0};case Gc.ballnose:return{otherBitType:"other-ballnose-bit",pro:!0}}},UWe=e=>{let t=e.groupName===qe.v,r=Wre.descriptionForBit(e);return{bitType:t?"V Bit":e.groupName,angle:t?r:"",width:t?rt(e).widthAndUnit(e):r}},RWe=e=>e==null?null:e.passType==="detail"?e.detailBit:e.passType==="outline"?e.outlineBit:e.bit,jWe=e=>e==="detail"?Vo.bitKeys.detailBit:e==="outline"?Vo.bitKeys.outlineBit:Vo.bitKeys.bit,Wre={bitFacets:BWe,bitSizeInches:MWe,bitTipAngleDegrees:NWe,descriptionForBit:OWe,detailBitSizeInches:AWe,outlineBitSizeInches:IWe,inchWidth:WP,shortDescriptionForBit:LWe,strokeSizeInches:DWe,bitTypeInfo:FWe,supertypeInfo:VWe,getBitProperties:UWe,getBitFromJobSettings:RWe,getBitKeyForPassType:jWe,decodeBitSource:WWe},Nt=Wre;var GWe=function(){let e=[],t={},r=function(v,b){let S=0;for(let w in v){let _=v[w];if(b[w]!==_)return 0;S+=1}return S},o=function(v){let b,S=0;return e.forEach(w=>{let _=r(w.configuration,v);_>S&&(S=_,b=w)}),S>0?b:null},i=function(v){let b=o(v);return b&&b.settings},n=(v,b)=>{let S=o(v),w=S&&S.failSafeSettings;return w?{...w,depthPerPass:Math.min(w.depthPerPass,b.width)}:null},s=function(v){return v.passType==="all"||v.passType==="roughing"?v.bit:v.detailBit},a=function(v,b,S){let w=Wi.getCutSettings(N.store.getState());return l(w,v,b,S)},l=(v,b,S,w)=>{if(!b||!S)return null;let _=null;for(let E of v)if(E.materialId===b.id&&E.bitId===S.id&&E.machineProfileId===w){let{feedRate:T,plungeRate:A,depthPerPass:O,spindleSpeed:L,id:R,materialId:z,bitId:I}=E;return H.trackEventOnce(U.loadedSavedCutSettings,{"Material Id":z,"Bit Id":I,Source:"Cut settings dialog","Easel Pro Content":[U.proContent.savedCutSettings],"Cut Setting Identifier":R,"Feed Rate":T,"Plunge Rate":A,"Depth Per Pass":O,"Spindle Speed":L}),E}else E.materialId===b.id&&E.bitId===S.id&&!E.machineProfileId&&(_=E);return _},c=function(v,b,S){if(v==null||b==null)return!1;let w=Nt.getBitFromJobSettings(v),_=a(b,w,S);if(_!=null)return v.useCustom&&_r(_,v)},u=v=>t=v,p=v=>e=e.concat([v]),m=()=>({...Gv,untested:!0}),h=function(v,b){let S;if(v!=null&&(S=t[v.name]))return{...S,spindleSpeed:b,untested:!0}},f=function(v){let b=o(v);return b&&b.manufacturerOverrideSettings};return{recommend:function(v,b,S){let w,_=v?i(v):null;return v&&S&&b&&_&&_[S.technologyId]&&_[S.technologyId][b.name]&&(w={spindleSpeed:v.spindleRPM,..._[S.technologyId][b.name]}),w||f(v)||n(v,S)||h(b,v?.spindleRPM)||m()},getCutSettingsForJob:s,setDefaultSettings:u,addMachineSettings:p,getFailSafeSettings:m,findSavedCustomSettings:l,findSavedCustomSettingsUsingGlobalRedux:a,usingSavedCustomSettings:c}}(),Wo=GWe;var HWe={configuration:{machineType:ze.CARVEY},settings:{30818:{ABS:{feedRate:30,depthPerPass:.015,plungeRate:12},Aluminum:{feedRate:5,depthPerPass:.002,plungeRate:2},Bamboo:{feedRate:30,depthPerPass:.015,plungeRate:12},"Birch Plywood":{feedRate:30,depthPerPass:.015,plungeRate:12},Bubinga:{feedRate:30,depthPerPass:.015,plungeRate:12},"Cast Acrylic":{feedRate:30,depthPerPass:.01,plungeRate:12},"Cherry Plywood":{feedRate:30,depthPerPass:.015,plungeRate:12},Corian:{feedRate:20,depthPerPass:.01,plungeRate:6},"Expanded PVC":{feedRate:40,depthPerPass:.015,plungeRate:12},"Hard Maple":{feedRate:30,depthPerPass:.015,plungeRate:12},Linoleum:{feedRate:30,depthPerPass:.015,plungeRate:12},MDF:{feedRate:30,depthPerPass:.015,plungeRate:12},"One-Color HDPE":{feedRate:30,depthPerPass:.015,plungeRate:12},PCB:{feedRate:30,depthPerPass:.015,plungeRate:10},Pine:{feedRate:30,depthPerPass:.015,plungeRate:12},"Soft Maple":{feedRate:30,depthPerPass:.015,plungeRate:12},"Two-Color Acrylic":{feedRate:30,depthPerPass:.01,plungeRate:10},"Two-Color HDPE":{feedRate:30,depthPerPass:.015,plungeRate:12},Walnut:{feedRate:30,depthPerPass:.015,plungeRate:12}},30817:{ABS:{feedRate:40,depthPerPass:.03,plungeRate:12},Aluminum:{feedRate:20,depthPerPass:.002,plungeRate:5},Bamboo:{feedRate:40,depthPerPass:.03,plungeRate:12},"Birch Plywood":{feedRate:40,depthPerPass:.03,plungeRate:12},Bubinga:{feedRate:40,depthPerPass:.03,plungeRate:12},"Cast Acrylic":{feedRate:40,depthPerPass:.03,plungeRate:12},"Cherry Plywood":{feedRate:40,depthPerPass:.03,plungeRate:12},Corian:{feedRate:30,depthPerPass:.02,plungeRate:8},"Expanded PVC":{feedRate:60,depthPerPass:.03,plungeRate:12},"Hard Maple":{feedRate:40,depthPerPass:.03,plungeRate:12},Linoleum:{feedRate:50,depthPerPass:.03,plungeRate:12},MDF:{feedRate:40,depthPerPass:.03,plungeRate:12},"One-Color HDPE":{feedRate:40,depthPerPass:.03,plungeRate:12},PCB:{feedRate:40,depthPerPass:.02,plungeRate:10},Pine:{feedRate:40,depthPerPass:.03,plungeRate:12},"Soft Maple":{feedRate:40,depthPerPass:.03,plungeRate:12},"Two-Color Acrylic":{feedRate:30,depthPerPass:.03,plungeRate:12},"Two-Color HDPE":{feedRate:40,depthPerPass:.03,plungeRate:12},Walnut:{feedRate:40,depthPerPass:.03,plungeRate:12}},30238:{ABS:{feedRate:40,depthPerPass:.03,plungeRate:12},Aluminum:{feedRate:12,depthPerPass:.005,plungeRate:3},Bamboo:{feedRate:40,depthPerPass:.03,plungeRate:12},"Birch Plywood":{feedRate:40,depthPerPass:.03,plungeRate:12},Bubinga:{feedRate:40,depthPerPass:.03,plungeRate:12},"Cast Acrylic":{feedRate:40,depthPerPass:.03,plungeRate:12},"Cherry Plywood":{feedRate:40,depthPerPass:.03,plungeRate:12},Corian:{feedRate:24,depthPerPass:.03,plungeRate:9},"Expanded PVC":{feedRate:60,depthPerPass:.03,plungeRate:12},"Hard Maple":{feedRate:40,depthPerPass:.03,plungeRate:12},Linoleum:{feedRate:80,depthPerPass:.06,plungeRate:9},MDF:{feedRate:40,depthPerPass:.03,plungeRate:12},"One-Color HDPE":{feedRate:40,depthPerPass:.03,plungeRate:12},PCB:{feedRate:10,depthPerPass:.015,plungeRate:9},Pine:{feedRate:40,depthPerPass:.03,plungeRate:12},"Soft Maple":{feedRate:40,depthPerPass:.03,plungeRate:12},"Two-Color Acrylic":{feedRate:30,depthPerPass:.02,plungeRate:6},"Two-Color HDPE":{feedRate:40,depthPerPass:.03,plungeRate:12},Walnut:{feedRate:40,depthPerPass:.03,plungeRate:12}},30237:{ABS:{feedRate:40,depthPerPass:.03,plungeRate:12},Aluminum:{feedRate:10,depthPerPass:.002,plungeRate:3},Bamboo:{feedRate:40,depthPerPass:.03,plungeRate:12},"Birch Plywood":{feedRate:40,depthPerPass:.03,plungeRate:12},Bubinga:{feedRate:40,depthPerPass:.03,plungeRate:12},"Cast Acrylic":{feedRate:40,depthPerPass:.03,plungeRate:12},"Cherry Plywood":{feedRate:40,depthPerPass:.03,plungeRate:12},Corian:{feedRate:40,depthPerPass:.03,plungeRate:10},"Expanded PVC":{feedRate:60,depthPerPass:.03,plungeRate:12},"Hard Maple":{feedRate:40,depthPerPass:.03,plungeRate:12},Linoleum:{feedRate:60,depthPerPass:.06,plungeRate:12},MDF:{feedRate:40,depthPerPass:.03,plungeRate:12},"One-Color HDPE":{feedRate:40,depthPerPass:.03,plungeRate:12},PCB:{feedRate:40,depthPerPass:.02,plungeRate:10},Pine:{feedRate:40,depthPerPass:.03,plungeRate:12},"Soft Maple":{feedRate:40,depthPerPass:.03,plungeRate:12},"Two-Color Acrylic":{feedRate:30,depthPerPass:.03,plungeRate:6},"Two-Color HDPE":{feedRate:40,depthPerPass:.03,plungeRate:12},Walnut:{feedRate:40,depthPerPass:.03,plungeRate:12}},30808:{ABS:{feedRate:20,depthPerPass:.02,plungeRate:10},Bamboo:{feedRate:30,depthPerPass:.03,plungeRate:10},"Birch Plywood":{feedRate:30,depthPerPass:.03,plungeRate:10},Bubinga:{feedRate:30,depthPerPass:.03,plungeRate:10},"Cast Acrylic":{feedRate:20,depthPerPass:.02,plungeRate:10},"Cherry Plywood":{feedRate:30,depthPerPass:.03,plungeRate:10},Corian:{feedRate:20,depthPerPass:.02,plungeRate:10},"Expanded PVC":{feedRate:40,depthPerPass:.03,plungeRate:10},"Hard Maple":{feedRate:30,depthPerPass:.03,plungeRate:10},MDF:{feedRate:30,depthPerPass:.03,plungeRate:10},"One-Color HDPE":{feedRate:30,depthPerPass:.03,plungeRate:10},Pine:{feedRate:30,depthPerPass:.03,plungeRate:10},"Soft Maple":{feedRate:30,depthPerPass:.03,plungeRate:10},"Two-Color Acrylic":{feedRate:30,depthPerPass:.02,plungeRate:6},"Two-Color HDPE":{feedRate:30,depthPerPass:.03,plungeRate:10},Walnut:{feedRate:30,depthPerPass:.03,plungeRate:10}},30809:{ABS:{feedRate:20,depthPerPass:.02,plungeRate:20},Bamboo:{feedRate:30,depthPerPass:.03,plungeRate:10},"Birch Plywood":{feedRate:30,depthPerPass:.03,plungeRate:10},Bubinga:{feedRate:30,depthPerPass:.03,plungeRate:10},"Cast Acrylic":{feedRate:20,depthPerPass:.02,plungeRate:10},"Cherry Plywood":{feedRate:30,depthPerPass:.03,plungeRate:10},Corian:{feedRate:20,depthPerPass:.02,plungeRate:10},"Expanded PVC":{feedRate:40,depthPerPass:.03,plungeRate:10},"Hard Maple":{feedRate:30,depthPerPass:.03,plungeRate:10},MDF:{feedRate:30,depthPerPass:.03,plungeRate:10},"One-Color HDPE":{feedRate:30,depthPerPass:.03,plungeRate:10},Pine:{feedRate:30,depthPerPass:.03,plungeRate:10},"Soft Maple":{feedRate:30,depthPerPass:.03,plungeRate:10},"Two-Color Acrylic":{feedRate:30,depthPerPass:.02,plungeRate:6},"Two-Color HDPE":{feedRate:30,depthPerPass:.03,plungeRate:10},Walnut:{feedRate:30,depthPerPass:.03,plungeRate:10}},30810:{ABS:{feedRate:20,depthPerPass:.02,plungeRate:10},Bamboo:{feedRate:30,depthPerPass:.03,plungeRate:10},"Birch Plywood":{feedRate:30,depthPerPass:.03,plungeRate:10},Bubinga:{feedRate:30,depthPerPass:.03,plungeRate:10},"Cast Acrylic":{feedRate:20,depthPerPass:.02,plungeRate:10},"Cherry Plywood":{feedRate:30,depthPerPass:.03,plungeRate:10},Corian:{feedRate:20,depthPerPass:.02,plungeRate:10},"Expanded PVC":{feedRate:40,depthPerPass:.03,plungeRate:10},"Hard Maple":{feedRate:30,depthPerPass:.03,plungeRate:10},MDF:{feedRate:30,depthPerPass:.03,plungeRate:10},"One-Color HDPE":{feedRate:30,depthPerPass:.03,plungeRate:10},Pine:{feedRate:30,depthPerPass:.03,plungeRate:10},"Soft Maple":{feedRate:30,depthPerPass:.03,plungeRate:10},"Two-Color Acrylic":{feedRate:30,depthPerPass:.03,plungeRate:6},"Two-Color HDPE":{feedRate:30,depthPerPass:.03,plungeRate:10},Walnut:{feedRate:30,depthPerPass:.03,plungeRate:10}},30811:{ABS:{feedRate:20,depthPerPass:.02,plungeRate:20},Bamboo:{feedRate:30,depthPerPass:.03,plungeRate:10},"Birch Plywood":{feedRate:30,depthPerPass:.03,plungeRate:10},Bubinga:{feedRate:30,depthPerPass:.03,plungeRate:10},"Cast Acrylic":{feedRate:20,depthPerPass:.02,plungeRate:10},"Cherry Plywood":{feedRate:30,depthPerPass:.03,plungeRate:10},Corian:{feedRate:20,depthPerPass:.02,plungeRate:10},"Expanded PVC":{feedRate:40,depthPerPass:.03,plungeRate:10},"Hard Maple":{feedRate:30,depthPerPass:.03,plungeRate:10},MDF:{feedRate:30,depthPerPass:.03,plungeRate:10},"One-Color HDPE":{feedRate:30,depthPerPass:.03,plungeRate:10},Pine:{feedRate:30,depthPerPass:.03,plungeRate:10},"Soft Maple":{feedRate:30,depthPerPass:.03,plungeRate:10},"Two-Color Acrylic":{feedRate:30,depthPerPass:.03,plungeRate:6},"Two-Color HDPE":{feedRate:30,depthPerPass:.03,plungeRate:10},Walnut:{feedRate:30,depthPerPass:.03,plungeRate:10}}},failSafeSettings:{feedRate:10,depthPerPass:.015,plungeRate:9,spindleSpeed:12e3,untested:!0}};Wo.addMachineSettings(HWe);var zWe={ABS:{feedRate:24,depthPerPass:.04,plungeRate:9},Aluminum:{depthPerPass:.003,feedRate:5,plungeRate:3},Bamboo:{depthPerPass:.028,feedRate:30,plungeRate:9},"Birch Plywood":{depthPerPass:.028,feedRate:30,plungeRate:9},Bubinga:{depthPerPass:.045,feedRate:28,plungeRate:9},"Cast Acrylic":{depthPerPass:.02,feedRate:25,plungeRate:9},"Cherry Plywood":{feedRate:24,depthPerPass:.03,plungeRate:9},Corian:{feedRate:24,depthPerPass:.01,plungeRate:9},"Expanded PVC":{depthPerPass:.05,feedRate:30,plungeRate:9},"Hard Maple":{depthPerPass:.028,feedRate:28,plungeRate:9},Linoleum:{depthPerPass:.05,feedRate:30,plungeRate:9},MDF:{depthPerPass:.0625,feedRate:40,plungeRate:9},"One-Color HDPE":{depthPerPass:.04,feedRate:15,plungeRate:9},PCB:{depthPerPass:.015,feedRate:10,plungeRate:9},Pine:{depthPerPass:.0625,feedRate:40,plungeRate:9},"Soft Maple":{depthPerPass:.028,feedRate:28,plungeRate:9},"Two-Color Acrylic":{depthPerPass:.02,feedRate:25,plungeRate:9},"Two-Color HDPE":{depthPerPass:.04,feedRate:15,plungeRate:9},Walnut:{depthPerPass:.04,feedRate:32,plungeRate:9}};Wo.setDefaultSettings(zWe);var XWe={configuration:{machineType:ze.XCARVE},settings:{30818:{ABS:{feedRate:30,depthPerPass:.015,plungeRate:12},Aluminum:{feedRate:5,depthPerPass:.002,plungeRate:2},Bamboo:{feedRate:30,depthPerPass:.015,plungeRate:12},"Birch Plywood":{feedRate:30,depthPerPass:.015,plungeRate:12},Bubinga:{feedRate:30,depthPerPass:.015,plungeRate:12},"Cast Acrylic":{feedRate:30,depthPerPass:.01,plungeRate:12},"Cherry Plywood":{feedRate:30,depthPerPass:.015,plungeRate:12},Corian:{feedRate:20,depthPerPass:.01,plungeRate:6},"Expanded PVC":{feedRate:40,depthPerPass:.015,plungeRate:12},"Hard Maple":{feedRate:30,depthPerPass:.015,plungeRate:12},Linoleum:{feedRate:30,depthPerPass:.015,plungeRate:12},MDF:{feedRate:30,depthPerPass:.015,plungeRate:12},"One-Color HDPE":{feedRate:30,depthPerPass:.015,plungeRate:12},PCB:{feedRate:30,depthPerPass:.015,plungeRate:10,note:"Depth only needs to be deep enough to get through the cladding."},Pine:{feedRate:30,depthPerPass:.015,plungeRate:12},"Soft Maple":{feedRate:30,depthPerPass:.015,plungeRate:12},"Two-Color Acrylic":{feedRate:30,depthPerPass:.01,plungeRate:10},"Two-Color HDPE":{feedRate:30,depthPerPass:.015,plungeRate:12},Walnut:{feedRate:30,depthPerPass:.015,plungeRate:12}},30817:{ABS:{feedRate:40,depthPerPass:.03,plungeRate:12},Aluminum:{feedRate:10,depthPerPass:.002,plungeRate:5},Bamboo:{feedRate:40,depthPerPass:.03,plungeRate:12},"Birch Plywood":{feedRate:40,depthPerPass:.03,plungeRate:12},Bubinga:{feedRate:40,depthPerPass:.03,plungeRate:12},"Cast Acrylic":{feedRate:40,depthPerPass:.03,plungeRate:12},"Cherry Plywood":{feedRate:40,depthPerPass:.03,plungeRate:12},Corian:{feedRate:30,depthPerPass:.02,plungeRate:8},"Expanded PVC":{feedRate:60,depthPerPass:.03,plungeRate:12},"Hard Maple":{feedRate:40,depthPerPass:.03,plungeRate:12},Linoleum:{feedRate:50,depthPerPass:.03,plungeRate:12},MDF:{feedRate:40,depthPerPass:.03,plungeRate:12},"One-Color HDPE":{feedRate:40,depthPerPass:.03,plungeRate:12},PCB:{feedRate:40,depthPerPass:.02,plungeRate:10},Pine:{feedRate:40,depthPerPass:.03,plungeRate:12},"Soft Maple":{feedRate:40,depthPerPass:.03,plungeRate:12},"Two-Color Acrylic":{feedRate:40,depthPerPass:.03,plungeRate:12},"Two-Color HDPE":{feedRate:40,depthPerPass:.03,plungeRate:12},Walnut:{feedRate:40,depthPerPass:.03,plungeRate:12}},30238:{ABS:{feedRate:40,depthPerPass:.05,plungeRate:12},Bamboo:{feedRate:40,depthPerPass:.05,plungeRate:12,note:"expect tear-out"},"Birch Plywood":{feedRate:40,depthPerPass:.05,plungeRate:12,note:"expect tear-out"},Bubinga:{feedRate:40,depthPerPass:.05,plungeRate:12},"Cast Acrylic":{feedRate:40,depthPerPass:.03,plungeRate:12},"Cherry Plywood":{feedRate:40,depthPerPass:.05,plungeRate:12,note:"expect tear-out"},"Expanded PVC":{feedRate:80,depthPerPass:.06,plungeRate:12},"Hard Maple":{feedRate:40,depthPerPass:.05,plungeRate:12},MDF:{feedRate:40,depthPerPass:.05,plungeRate:12},"One-Color HDPE":{feedRate:40,depthPerPass:.06,plungeRate:12},Pine:{feedRate:40,depthPerPass:.05,plungeRate:12},"Soft Maple":{feedRate:40,depthPerPass:.05,plungeRate:12},"Two-Color Acrylic":{feedRate:40,depthPerPass:.03,plungeRate:12},"Two-Color HDPE":{feedRate:40,depthPerPass:.06,plungeRate:12},Walnut:{feedRate:40,depthPerPass:.05,plungeRate:12}},30237:{ABS:{feedRate:40,depthPerPass:.06,plungeRate:12},Aluminum:{feedRate:10,depthPerPass:.002,plungeRate:3,note:"poor results"},Bamboo:{feedRate:40,depthPerPass:.05,plungeRate:12},"Birch Plywood":{feedRate:40,depthPerPass:.05,plungeRate:12},Bubinga:{feedRate:40,depthPerPass:.05,plungeRate:12},"Cast Acrylic":{feedRate:40,depthPerPass:.04,plungeRate:12},"Cherry Plywood":{feedRate:40,depthPerPass:.05,plungeRate:12},Corian:{feedRate:40,depthPerPass:.03,plungeRate:10},"Expanded PVC":{feedRate:80,depthPerPass:.06,plungeRate:12},"Hard Maple":{feedRate:40,depthPerPass:.06,plungeRate:12},Linoleum:{feedRate:60,depthPerPass:.06,plungeRate:12},MDF:{feedRate:40,depthPerPass:.06,plungeRate:12},"One-Color HDPE":{feedRate:40,depthPerPass:.06,plungeRate:12},PCB:{feedRate:40,depthPerPass:.02,plungeRate:10},Pine:{feedRate:40,depthPerPass:.06,plungeRate:12},"Soft Maple":{feedRate:40,depthPerPass:.06,plungeRate:12},"Two-Color Acrylic":{feedRate:40,depthPerPass:.04,plungeRate:12},"Two-Color HDPE":{feedRate:40,depthPerPass:.06,plungeRate:12},Walnut:{feedRate:40,depthPerPass:.06,plungeRate:12}},30808:{ABS:{feedRate:40,depthPerPass:.04,plungeRate:20},Bamboo:{feedRate:50,depthPerPass:.05,plungeRate:20},"Birch Plywood":{feedRate:50,depthPerPass:.06,plungeRate:20},Bubinga:{feedRate:50,depthPerPass:.05,plungeRate:20},"Cast Acrylic":{feedRate:40,depthPerPass:.04,plungeRate:20},"Cherry Plywood":{feedRate:50,depthPerPass:.06,plungeRate:20},Corian:{feedRate:40,depthPerPass:.04,plungeRate:20},"Expanded PVC":{feedRate:60,depthPerPass:.06,plungeRate:20},"Hard Maple":{feedRate:50,depthPerPass:.05,plungeRate:20},MDF:{feedRate:50,depthPerPass:.05,plungeRate:20},"One-Color HDPE":{feedRate:50,depthPerPass:.06,plungeRate:20},Pine:{feedRate:50,depthPerPass:.05,plungeRate:20},"Soft Maple":{feedRate:50,depthPerPass:.06,plungeRate:20},"Two-Color Acrylic":{feedRate:40,depthPerPass:.04,plungeRate:12},"Two-Color HDPE":{feedRate:50,depthPerPass:.06,plungeRate:20},Walnut:{feedRate:50,depthPerPass:.05,plungeRate:20}},30809:{ABS:{feedRate:40,depthPerPass:.04,plungeRate:20},Bamboo:{feedRate:50,depthPerPass:.05,plungeRate:20},"Birch Plywood":{feedRate:50,depthPerPass:.06,plungeRate:20},Bubinga:{feedRate:50,depthPerPass:.05,plungeRate:20},"Cast Acrylic":{feedRate:40,depthPerPass:.04,plungeRate:20},"Cherry Plywood":{feedRate:50,depthPerPass:.06,plungeRate:20},Corian:{feedRate:40,depthPerPass:.04,plungeRate:20},"Expanded PVC":{feedRate:60,depthPerPass:.06,plungeRate:20},"Hard Maple":{feedRate:50,depthPerPass:.05,plungeRate:20},MDF:{feedRate:50,depthPerPass:.05,plungeRate:20},"One-Color HDPE":{feedRate:50,depthPerPass:.06,plungeRate:20},Pine:{feedRate:50,depthPerPass:.05,plungeRate:20},"Soft Maple":{feedRate:50,depthPerPass:.06,plungeRate:20},"Two-Color Acrylic":{feedRate:40,depthPerPass:.04,plungeRate:12},"Two-Color HDPE":{feedRate:50,depthPerPass:.06,plungeRate:20},Walnut:{feedRate:50,depthPerPass:.05,plungeRate:20}},30811:{ABS:{feedRate:40,depthPerPass:.04,plungeRate:20},Bamboo:{feedRate:50,depthPerPass:.05,plungeRate:20},"Birch Plywood":{feedRate:50,depthPerPass:.06,plungeRate:20},Bubinga:{feedRate:50,depthPerPass:.05,plungeRate:20},"Cast Acrylic":{feedRate:40,depthPerPass:.04,plungeRate:20},"Cherry Plywood":{feedRate:50,depthPerPass:.06,plungeRate:20},Corian:{feedRate:40,depthPerPass:.04,plungeRate:20},"Expanded PVC":{feedRate:60,depthPerPass:.06,plungeRate:20},"Hard Maple":{feedRate:50,depthPerPass:.05,plungeRate:20},MDF:{feedRate:50,depthPerPass:.05,plungeRate:20},"One-Color HDPE":{feedRate:50,depthPerPass:.06,plungeRate:20},Pine:{feedRate:50,depthPerPass:.05,plungeRate:20},"Soft Maple":{feedRate:50,depthPerPass:.06,plungeRate:20},"Two-Color Acrylic":{feedRate:40,depthPerPass:.04,plungeRate:12},"Two-Color HDPE":{feedRate:50,depthPerPass:.06,plungeRate:20},Walnut:{feedRate:50,depthPerPass:.05,plungeRate:20}},30810:{ABS:{feedRate:40,depthPerPass:.04,plungeRate:20},Bamboo:{feedRate:50,depthPerPass:.05,plungeRate:20},"Birch Plywood":{feedRate:50,depthPerPass:.06,plungeRate:20},Bubinga:{feedRate:50,depthPerPass:.05,plungeRate:20},"Cast Acrylic":{feedRate:40,depthPerPass:.04,plungeRate:20},"Cherry Plywood":{feedRate:50,depthPerPass:.06,plungeRate:20},Corian:{feedRate:40,depthPerPass:.04,plungeRate:20},"Expanded PVC":{feedRate:60,depthPerPass:.06,plungeRate:20},"Hard Maple":{feedRate:50,depthPerPass:.05,plungeRate:20},MDF:{feedRate:50,depthPerPass:.05,plungeRate:20},"One-Color HDPE":{feedRate:50,depthPerPass:.06,plungeRate:20},Pine:{feedRate:50,depthPerPass:.05,plungeRate:20},"Soft Maple":{feedRate:50,depthPerPass:.06,plungeRate:20},"Two-Color Acrylic":{feedRate:40,depthPerPass:.04,plungeRate:12},"Two-Color HDPE":{feedRate:50,depthPerPass:.06,plungeRate:20},Walnut:{feedRate:50,depthPerPass:.05,plungeRate:20}},30852:{Bamboo:{feedRate:50,depthPerPass:.05,plungeRate:25},Bubinga:{feedRate:50,depthPerPass:.05,plungeRate:25},"Hard Maple":{feedRate:50,depthPerPass:.05,plungeRate:25},"Soft Maple":{feedRate:50,depthPerPass:.05,plungeRate:25},Walnut:{feedRate:50,depthPerPass:.05,plungeRate:25},Pine:{feedRate:50,depthPerPass:.05,plungeRate:25},"Birch Plywood":{feedRate:50,depthPerPass:.05,plungeRate:25},"Cherry Plywood":{feedRate:50,depthPerPass:.05,plungeRate:25},MDF:{feedRate:50,depthPerPass:.05,plungeRate:25}}},failSafeSettings:{feedRate:72,depthPerPass:.032,plungeRate:24,spindleSpeed:12e3,untested:!0}};Wo.addMachineSettings(XWe);var YWe={configuration:{thirdPartyMake:"YoraHome",thirdPartyModel:"Yora CNC Carving Machine 3018-Pro"},manufacturerOverrideSettings:{feedRate:5.90551,depthPerPass:.00787402,plungeRate:3.93701,spindleSpeed:1e4,untested:!0}},qWe={configuration:{thirdPartyMake:"YoraHome",thirdPartyModel:"YoraHome Mandrill CNC Router 3036"},manufacturerOverrideSettings:{feedRate:30,depthPerPass:.05,plungeRate:9,spindleSpeed:1e4,untested:!0}},$We={configuration:{thirdPartyMake:"YoraHome",thirdPartyModel:"Yora SilverBack Benchtop CNC 6060"},manufacturerOverrideSettings:{feedRate:30,depthPerPass:.028,plungeRate:9,spindleSpeed:1e4,untested:!0}};Wo.addMachineSettings(YWe);Wo.addMachineSettings(qWe);Wo.addMachineSettings($We);var ZWe={26009:{ABS:{feedRate:216,depthPerPass:.25,plungeRate:65,spindleSpeed:18e3},"Expanded PVC":{feedRate:216,depthPerPass:.25,plungeRate:65,spindleSpeed:18e3},"One-Color HDPE":{feedRate:216,depthPerPass:.25,plungeRate:65,spindleSpeed:18e3},"Two-Color HDPE":{feedRate:216,depthPerPass:.25,plungeRate:65,spindleSpeed:18e3},"Cast Acrylic":{feedRate:216,depthPerPass:.25,plungeRate:65,spindleSpeed:18e3},Corian:{feedRate:216,depthPerPass:.25,plungeRate:65,spindleSpeed:18e3},"Two-Color Acrylic":{feedRate:216,depthPerPass:.25,plungeRate:65,spindleSpeed:18e3},Aluminum:{feedRate:72,depthPerPass:.0625,plungeRate:22,spindleSpeed:12e3}},30856:{Bamboo:{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},Bubinga:{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},"Hard Maple":{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},"Soft Maple":{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},Walnut:{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},Pine:{feedRate:160,depthPerPass:.25,plungeRate:79,spindleSpeed:22e3},"Birch Plywood":{feedRate:128,depthPerPass:.25,plungeRate:38,spindleSpeed:16e3},"Cherry Plywood":{feedRate:128,depthPerPass:.25,plungeRate:38,spindleSpeed:16e3},MDF:{feedRate:168,depthPerPass:.25,plungeRate:50,spindleSpeed:12e3}},26040:{Bamboo:{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},Bubinga:{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},"Hard Maple":{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},"Soft Maple":{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},Walnut:{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},Pine:{feedRate:160,depthPerPass:.25,plungeRate:79,spindleSpeed:22e3},"Birch Plywood":{feedRate:128,depthPerPass:.25,plungeRate:38,spindleSpeed:16e3},"Cherry Plywood":{feedRate:128,depthPerPass:.25,plungeRate:38,spindleSpeed:16e3},MDF:{feedRate:168,depthPerPass:.25,plungeRate:50,spindleSpeed:12e3}},26013:{Bamboo:{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},Bubinga:{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},"Hard Maple":{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},"Soft Maple":{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},Walnut:{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},Pine:{feedRate:160,depthPerPass:.25,plungeRate:79,spindleSpeed:22e3},"Birch Plywood":{feedRate:128,depthPerPass:.25,plungeRate:38,spindleSpeed:16e3},"Cherry Plywood":{feedRate:128,depthPerPass:.25,plungeRate:38,spindleSpeed:16e3},MDF:{feedRate:168,depthPerPass:.25,plungeRate:50,spindleSpeed:12e3}},26011:{Bamboo:{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},Bubinga:{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},"Hard Maple":{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},"Soft Maple":{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},Walnut:{feedRate:160,depthPerPass:.25,plungeRate:48,spindleSpeed:16e3},Pine:{feedRate:160,depthPerPass:.25,plungeRate:79,spindleSpeed:22e3},"Birch Plywood":{feedRate:128,depthPerPass:.25,plungeRate:38,spindleSpeed:16e3},"Cherry Plywood":{feedRate:128,depthPerPass:.25,plungeRate:38,spindleSpeed:16e3},MDF:{feedRate:168,depthPerPass:.25,plungeRate:50,spindleSpeed:12e3}},26005:{ABS:{feedRate:140,depthPerPass:.25,plungeRate:42,spindleSpeed:1e4},"Expanded PVC":{feedRate:140,depthPerPass:.25,plungeRate:42,spindleSpeed:1e4},"One-Color HDPE":{feedRate:140,depthPerPass:.25,plungeRate:42,spindleSpeed:1e4},"Two-Color HDPE":{feedRate:140,depthPerPass:.25,plungeRate:42,spindleSpeed:1e4}},26006:{Bamboo:{feedRate:84,depthPerPass:.25,plungeRate:25,spindleSpeed:6e3},Bubinga:{feedRate:84,depthPerPass:.25,plungeRate:25,spindleSpeed:6e3},"Hard Maple":{feedRate:84,depthPerPass:.25,plungeRate:25,spindleSpeed:6e3},"Soft Maple":{feedRate:84,depthPerPass:.25,plungeRate:25,spindleSpeed:6e3},Walnut:{feedRate:84,depthPerPass:.25,plungeRate:25,spindleSpeed:6e3},Pine:{feedRate:96,depthPerPass:.25,plungeRate:29,spindleSpeed:6e3}},26e3:{"Birch Plywood":{feedRate:70,depthPerPass:.25,plungeRate:21,spindleSpeed:1e4},"Cherry Plywood":{feedRate:70,depthPerPass:.25,plungeRate:21,spindleSpeed:1e4}},30238:{ABS:{feedRate:120,depthPerPass:.125,plungeRate:36,spindleSpeed:24e3},"Expanded PVC":{feedRate:120,depthPerPass:.125,plungeRate:36,spindleSpeed:24e3},"One-Color HDPE":{feedRate:120,depthPerPass:.125,plungeRate:36,spindleSpeed:24e3},"Two-Color HDPE":{feedRate:120,depthPerPass:.125,plungeRate:36,spindleSpeed:24e3},"Cast Acrylic":{feedRate:120,depthPerPass:.125,plungeRate:36,spindleSpeed:24e3},Corian:{feedRate:120,depthPerPass:.125,plungeRate:36,spindleSpeed:24e3},"Two-Color Acrylic":{feedRate:120,depthPerPass:.125,plungeRate:36,spindleSpeed:24e3}},30815:{Bamboo:{feedRate:162,depthPerPass:.125,plungeRate:49,spindleSpeed:18e3},Bubinga:{feedRate:162,depthPerPass:.125,plungeRate:49,spindleSpeed:18e3},"Hard Maple":{feedRate:162,depthPerPass:.125,plungeRate:49,spindleSpeed:18e3},"Soft Maple":{feedRate:162,depthPerPass:.125,plungeRate:49,spindleSpeed:18e3},Walnut:{feedRate:162,depthPerPass:.125,plungeRate:49,spindleSpeed:18e3},Pine:{feedRate:162,depthPerPass:.125,plungeRate:49,spindleSpeed:18e3},"Birch Plywood":{feedRate:162,depthPerPass:.125,plungeRate:49,spindleSpeed:18e3},"Cherry Plywood":{feedRate:162,depthPerPass:.125,plungeRate:49,spindleSpeed:18e3}},30237:{MDF:{feedRate:220,depthPerPass:.125,plungeRate:66,spindleSpeed:22e3},Bamboo:{feedRate:128,depthPerPass:.125,plungeRate:38,spindleSpeed:16e3},Bubinga:{feedRate:128,depthPerPass:.125,plungeRate:38,spindleSpeed:16e3},"Hard Maple":{feedRate:128,depthPerPass:.125,plungeRate:38,spindleSpeed:16e3},"Soft Maple":{feedRate:128,depthPerPass:.125,plungeRate:38,spindleSpeed:16e3},Walnut:{feedRate:128,depthPerPass:.125,plungeRate:38,spindleSpeed:16e3},"Birch Plywood":{feedRate:128,depthPerPass:.125,plungeRate:38,spindleSpeed:16e3},"Cherry Plywood":{feedRate:128,depthPerPass:.125,plungeRate:38,spindleSpeed:16e3},Pine:{feedRate:176,depthPerPass:.125,plungeRate:53,spindleSpeed:22e3}},30809:{ABS:{feedRate:72,depthPerPass:.1875,plungeRate:22,spindleSpeed:18e3},"Expanded PVC":{feedRate:72,depthPerPass:.1875,plungeRate:22,spindleSpeed:18e3},"One-Color HDPE":{feedRate:72,depthPerPass:.1875,plungeRate:22,spindleSpeed:18e3},"Two-Color HDPE":{feedRate:72,depthPerPass:.1875,plungeRate:22,spindleSpeed:18e3},Bamboo:{feedRate:72,depthPerPass:.1875,plungeRate:22,spindleSpeed:18e3},Bubinga:{feedRate:72,depthPerPass:.1875,plungeRate:22,spindleSpeed:18e3},"Hard Maple":{feedRate:72,depthPerPass:.1875,plungeRate:22,spindleSpeed:18e3},"Soft Maple":{feedRate:72,depthPerPass:.1875,plungeRate:22,spindleSpeed:18e3},Walnut:{feedRate:72,depthPerPass:.1875,plungeRate:22,spindleSpeed:18e3},Pine:{feedRate:72,depthPerPass:.1875,plungeRate:22,spindleSpeed:18e3},"Birch Plywood":{feedRate:72,depthPerPass:.1875,plungeRate:22,spindleSpeed:18e3},"Cherry Plywood":{feedRate:72,depthPerPass:.1875,plungeRate:22,spindleSpeed:18e3},"Cast Acrylic":{feedRate:72,depthPerPass:.1875,plungeRate:22,spindleSpeed:18e3},Corian:{feedRate:72,depthPerPass:.1875,plungeRate:22,spindleSpeed:18e3},"Two-Color Acrylic":{feedRate:72,depthPerPass:.1875,plungeRate:22,spindleSpeed:18e3},MDF:{feedRate:162,depthPerPass:.1875,plungeRate:49,spindleSpeed:18e3}},30808:{ABS:{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},"Expanded PVC":{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},"One-Color HDPE":{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},"Two-Color HDPE":{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},Bamboo:{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},Bubinga:{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},"Hard Maple":{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},"Soft Maple":{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},Walnut:{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},Pine:{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},"Birch Plywood":{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},"Cherry Plywood":{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},"Cast Acrylic":{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},Corian:{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},"Two-Color Acrylic":{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},MDF:{feedRate:172.8,depthPerPass:.1875,plungeRate:52,spindleSpeed:18e3}},30854:{ABS:{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},"Expanded PVC":{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},"One-Color HDPE":{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},"Two-Color HDPE":{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},Bamboo:{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},Bubinga:{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},"Hard Maple":{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},"Soft Maple":{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},Walnut:{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},Pine:{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},"Birch Plywood":{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},"Cherry Plywood":{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},"Cast Acrylic":{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},Corian:{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},"Two-Color Acrylic":{feedRate:79.2,depthPerPass:.1875,plungeRate:24,spindleSpeed:18e3},MDF:{feedRate:172.8,depthPerPass:.1875,plungeRate:52,spindleSpeed:18e3}},30814:{Bamboo:{feedRate:80,depthPerPass:.0625,plungeRate:24,spindleSpeed:2e4},Bubinga:{feedRate:80,depthPerPass:.0625,plungeRate:24,spindleSpeed:2e4},"Hard Maple":{feedRate:80,depthPerPass:.0625,plungeRate:24,spindleSpeed:2e4},"Soft Maple":{feedRate:80,depthPerPass:.0625,plungeRate:24,spindleSpeed:2e4},Walnut:{feedRate:80,depthPerPass:.0625,plungeRate:24,spindleSpeed:2e4},Pine:{feedRate:144,depthPerPass:.0625,plungeRate:43,spindleSpeed:24e3},"Birch Plywood":{feedRate:144,depthPerPass:.0625,plungeRate:43,spindleSpeed:24e3},"Cherry Plywood":{feedRate:144,depthPerPass:.0625,plungeRate:43,spindleSpeed:24e3},MDF:{feedRate:144,depthPerPass:.0625,plungeRate:43,spindleSpeed:24e3}},30852:{Bamboo:{feedRate:70,depthPerPass:.125,plungeRate:35,spindleSpeed:16e3},Bubinga:{feedRate:70,depthPerPass:.125,plungeRate:35,spindleSpeed:16e3},"Hard Maple":{feedRate:70,depthPerPass:.125,plungeRate:35,spindleSpeed:16e3},"Soft Maple":{feedRate:70,depthPerPass:.125,plungeRate:35,spindleSpeed:16e3},Walnut:{feedRate:70,depthPerPass:.125,plungeRate:35,spindleSpeed:16e3},Pine:{feedRate:70,depthPerPass:.125,plungeRate:35,spindleSpeed:16e3},"Birch Plywood":{feedRate:70,depthPerPass:.125,plungeRate:35,spindleSpeed:16e3},"Cherry Plywood":{feedRate:70,depthPerPass:.125,plungeRate:35,spindleSpeed:16e3},MDF:{feedRate:70,depthPerPass:.125,plungeRate:35,spindleSpeed:16e3}}},Vre=ZWe;var JWe={configuration:{machineType:ze.XCARVE_PRO},settings:Vre,failSafeSettings:{feedRate:140,depthPerPass:.125,plungeRate:36,spindleSpeed:12e3,untested:!0}};Wo.addMachineSettings(JWe);var KWe={26009:{ABS:{feedRate:96,depthPerPass:.125,plungeRate:29},"Expanded PVC":{feedRate:96,depthPerPass:.125,plungeRate:29},"One-Color HDPE":{feedRate:96,depthPerPass:.125,plungeRate:29},"Two-Color HDPE":{feedRate:96,depthPerPass:.125,plungeRate:29},"Cast Acrylic":{feedRate:96,depthPerPass:.06,plungeRate:29},Corian:{feedRate:96,depthPerPass:.06,plungeRate:29},"Two-Color Acrylic":{feedRate:96,depthPerPass:.06,plungeRate:29}},30856:{Bamboo:{feedRate:96,depthPerPass:.125,plungeRate:29},Bubinga:{feedRate:96,depthPerPass:.125,plungeRate:29},"Hard Maple":{feedRate:96,depthPerPass:.125,plungeRate:29},"Soft Maple":{feedRate:96,depthPerPass:.125,plungeRate:29},Walnut:{feedRate:96,depthPerPass:.125,plungeRate:29},Pine:{feedRate:96,depthPerPass:.125,plungeRate:29},"Birch Plywood":{feedRate:96,depthPerPass:.125,plungeRate:29},"Cherry Plywood":{feedRate:96,depthPerPass:.125,plungeRate:29},MDF:{feedRate:96,depthPerPass:.125,plungeRate:29}},26040:{Bamboo:{feedRate:96,depthPerPass:.125,plungeRate:29},Bubinga:{feedRate:96,depthPerPass:.125,plungeRate:29},"Hard Maple":{feedRate:96,depthPerPass:.125,plungeRate:29},"Soft Maple":{feedRate:96,depthPerPass:.125,plungeRate:29},Walnut:{feedRate:96,depthPerPass:.125,plungeRate:29},Pine:{feedRate:96,depthPerPass:.125,plungeRate:29},"Birch Plywood":{feedRate:96,depthPerPass:.125,plungeRate:29},"Cherry Plywood":{feedRate:96,depthPerPass:.125,plungeRate:29},MDF:{feedRate:96,depthPerPass:.125,plungeRate:29}},26013:{Bamboo:{feedRate:96,depthPerPass:.125,plungeRate:29},Bubinga:{feedRate:96,depthPerPass:.125,plungeRate:29},"Hard Maple":{feedRate:96,depthPerPass:.125,plungeRate:29},"Soft Maple":{feedRate:96,depthPerPass:.125,plungeRate:29},Walnut:{feedRate:96,depthPerPass:.125,plungeRate:29},Pine:{feedRate:96,depthPerPass:.125,plungeRate:29},"Birch Plywood":{feedRate:96,depthPerPass:.125,plungeRate:29},"Cherry Plywood":{feedRate:96,depthPerPass:.125,plungeRate:29},MDF:{feedRate:96,depthPerPass:.125,plungeRate:29}},26011:{Bamboo:{feedRate:96,depthPerPass:.125,plungeRate:29},Bubinga:{feedRate:96,depthPerPass:.125,plungeRate:29},"Hard Maple":{feedRate:96,depthPerPass:.125,plungeRate:29},"Soft Maple":{feedRate:96,depthPerPass:.125,plungeRate:29},Walnut:{feedRate:96,depthPerPass:.125,plungeRate:29},Pine:{feedRate:96,depthPerPass:.125,plungeRate:29},"Birch Plywood":{feedRate:96,depthPerPass:.125,plungeRate:29},"Cherry Plywood":{feedRate:96,depthPerPass:.125,plungeRate:29},MDF:{feedRate:96,depthPerPass:.125,plungeRate:29}},30238:{ABS:{feedRate:120,depthPerPass:.0625,plungeRate:36},"Expanded PVC":{feedRate:120,depthPerPass:.0625,plungeRate:36},"One-Color HDPE":{feedRate:120,depthPerPass:.0625,plungeRate:36},"Two-Color HDPE":{feedRate:120,depthPerPass:.0625,plungeRate:36},"Cast Acrylic":{feedRate:80,depthPerPass:.0313,plungeRate:20},Corian:{feedRate:80,depthPerPass:.0313,plungeRate:20},"Two-Color Acrylic":{feedRate:80,depthPerPass:.0313,plungeRate:20}},30815:{Bamboo:{feedRate:120,depthPerPass:.0625,plungeRate:36},Bubinga:{feedRate:120,depthPerPass:.0625,plungeRate:36},"Hard Maple":{feedRate:120,depthPerPass:.0625,plungeRate:36},"Soft Maple":{feedRate:120,depthPerPass:.0625,plungeRate:36},Walnut:{feedRate:120,depthPerPass:.0625,plungeRate:36},Pine:{feedRate:120,depthPerPass:.0625,plungeRate:36},"Birch Plywood":{feedRate:120,depthPerPass:.0625,plungeRate:36},"Cherry Plywood":{feedRate:120,depthPerPass:.0625,plungeRate:36}},30237:{MDF:{feedRate:120,depthPerPass:.0625,plungeRate:36},Bamboo:{feedRate:120,depthPerPass:.0625,plungeRate:36},Bubinga:{feedRate:120,depthPerPass:.0625,plungeRate:36},"Hard Maple":{feedRate:120,depthPerPass:.0625,plungeRate:36},"Soft Maple":{feedRate:120,depthPerPass:.0625,plungeRate:36},Walnut:{feedRate:120,depthPerPass:.0625,plungeRate:36},"Birch Plywood":{feedRate:120,depthPerPass:.0625,plungeRate:36},"Cherry Plywood":{feedRate:120,depthPerPass:.0625,plungeRate:36},Pine:{feedRate:120,depthPerPass:.0625,plungeRate:36}},30809:{ABS:{feedRate:96,depthPerPass:.0625,plungeRate:29},"Expanded PVC":{feedRate:96,depthPerPass:.0625,plungeRate:29},"One-Color HDPE":{feedRate:96,depthPerPass:.0625,plungeRate:29},"Two-Color HDPE":{feedRate:96,depthPerPass:.0625,plungeRate:29},Bamboo:{feedRate:96,depthPerPass:.0625,plungeRate:29},Bubinga:{feedRate:96,depthPerPass:.0625,plungeRate:29},"Hard Maple":{feedRate:96,depthPerPass:.0625,plungeRate:29},"Soft Maple":{feedRate:96,depthPerPass:.0625,plungeRate:29},Walnut:{feedRate:96,depthPerPass:.0625,plungeRate:29},Pine:{feedRate:96,depthPerPass:.0625,plungeRate:29},"Birch Plywood":{feedRate:96,depthPerPass:.0625,plungeRate:29},"Cherry Plywood":{feedRate:96,depthPerPass:.0625,plungeRate:29},"Cast Acrylic":{feedRate:96,depthPerPass:.0625,plungeRate:29},Corian:{feedRate:96,depthPerPass:.0625,plungeRate:29},"Two-Color Acrylic":{feedRate:96,depthPerPass:.0625,plungeRate:29},MDF:{feedRate:96,depthPerPass:.0625,plungeRate:29}},30808:{ABS:{feedRate:96,depthPerPass:.0625,plungeRate:29},"Expanded PVC":{feedRate:96,depthPerPass:.0625,plungeRate:29},"One-Color HDPE":{feedRate:96,depthPerPass:.0625,plungeRate:29},"Two-Color HDPE":{feedRate:96,depthPerPass:.0625,plungeRate:29},Bamboo:{feedRate:96,depthPerPass:.0625,plungeRate:29},Bubinga:{feedRate:96,depthPerPass:.0625,plungeRate:29},"Hard Maple":{feedRate:96,depthPerPass:.0625,plungeRate:29},"Soft Maple":{feedRate:96,depthPerPass:.0625,plungeRate:29},Walnut:{feedRate:96,depthPerPass:.0625,plungeRate:29},Pine:{feedRate:96,depthPerPass:.0625,plungeRate:29},"Birch Plywood":{feedRate:96,depthPerPass:.0625,plungeRate:29},"Cherry Plywood":{feedRate:96,depthPerPass:.0625,plungeRate:29},"Cast Acrylic":{feedRate:96,depthPerPass:.0625,plungeRate:29},Corian:{feedRate:96,depthPerPass:.0625,plungeRate:29},"Two-Color Acrylic":{feedRate:96,depthPerPass:.0625,plungeRate:29},MDF:{feedRate:96,depthPerPass:.0625,plungeRate:29}},30854:{ABS:{feedRate:96,depthPerPass:.0625,plungeRate:29},"Expanded PVC":{feedRate:96,depthPerPass:.0625,plungeRate:29},"One-Color HDPE":{feedRate:96,depthPerPass:.0625,plungeRate:29},"Two-Color HDPE":{feedRate:96,depthPerPass:.0625,plungeRate:29},Bamboo:{feedRate:96,depthPerPass:.0625,plungeRate:29},Bubinga:{feedRate:96,depthPerPass:.0625,plungeRate:29},"Hard Maple":{feedRate:96,depthPerPass:.0625,plungeRate:29},"Soft Maple":{feedRate:96,depthPerPass:.0625,plungeRate:29},Walnut:{feedRate:96,depthPerPass:.0625,plungeRate:29},Pine:{feedRate:96,depthPerPass:.0625,plungeRate:29},"Birch Plywood":{feedRate:96,depthPerPass:.0625,plungeRate:29},"Cherry Plywood":{feedRate:96,depthPerPass:.0625,plungeRate:29},"Cast Acrylic":{feedRate:96,depthPerPass:.0625,plungeRate:29},Corian:{feedRate:96,depthPerPass:.0625,plungeRate:29},"Two-Color Acrylic":{feedRate:96,depthPerPass:.0625,plungeRate:29},MDF:{feedRate:96,depthPerPass:.0625,plungeRate:29}},30423:{ABS:{feedRate:96,depthPerPass:.0313,plungeRate:29},"Expanded PVC":{feedRate:96,depthPerPass:.0313,plungeRate:29},"One-Color HDPE":{feedRate:96,depthPerPass:.0313,plungeRate:29},"Two-Color HDPE":{feedRate:96,depthPerPass:.0313,plungeRate:29},Bamboo:{feedRate:96,depthPerPass:.0313,plungeRate:29},Bubinga:{feedRate:96,depthPerPass:.0313,plungeRate:29},"Hard Maple":{feedRate:96,depthPerPass:.0313,plungeRate:29},"Soft Maple":{feedRate:96,depthPerPass:.0313,plungeRate:29},Walnut:{feedRate:96,depthPerPass:.0313,plungeRate:29},Pine:{feedRate:96,depthPerPass:.0313,plungeRate:29},"Birch Plywood":{feedRate:96,depthPerPass:.0313,plungeRate:29},"Cherry Plywood":{feedRate:96,depthPerPass:.0313,plungeRate:29},"Cast Acrylic":{feedRate:96,depthPerPass:.0313,plungeRate:29},Corian:{feedRate:96,depthPerPass:.0313,plungeRate:29},"Two-Color Acrylic":{feedRate:96,depthPerPass:.0313,plungeRate:29},MDF:{feedRate:96,depthPerPass:.0313,plungeRate:29}},30818:{ABS:{feedRate:48,depthPerPass:.0156,plungeRate:14},"Expanded PVC":{feedRate:48,depthPerPass:.0156,plungeRate:14},"One-Color HDPE":{feedRate:48,depthPerPass:.0156,plungeRate:14},"Two-Color HDPE":{feedRate:48,depthPerPass:.0156,plungeRate:14},Bamboo:{feedRate:48,depthPerPass:.0156,plungeRate:14},Bubinga:{feedRate:48,depthPerPass:.0156,plungeRate:14},"Hard Maple":{feedRate:48,depthPerPass:.0156,plungeRate:14},"Soft Maple":{feedRate:48,depthPerPass:.0156,plungeRate:14},Walnut:{feedRate:48,depthPerPass:.0156,plungeRate:14},Pine:{feedRate:48,depthPerPass:.0156,plungeRate:14},"Birch Plywood":{feedRate:48,depthPerPass:.0156,plungeRate:14},"Cherry Plywood":{feedRate:48,depthPerPass:.0156,plungeRate:14},"Cast Acrylic":{feedRate:48,depthPerPass:.0156,plungeRate:14},Corian:{feedRate:48,depthPerPass:.0156,plungeRate:14},"Two-Color Acrylic":{feedRate:48,depthPerPass:.0156,plungeRate:14},MDF:{feedRate:48,depthPerPass:.0156,plungeRate:14}},30852:{Bamboo:{feedRate:50,depthPerPass:.05,plungeRate:25},Bubinga:{feedRate:50,depthPerPass:.05,plungeRate:25},"Hard Maple":{feedRate:50,depthPerPass:.05,plungeRate:25},"Soft Maple":{feedRate:50,depthPerPass:.05,plungeRate:25},Walnut:{feedRate:50,depthPerPass:.05,plungeRate:25},Pine:{feedRate:50,depthPerPass:.05,plungeRate:25},"Birch Plywood":{feedRate:50,depthPerPass:.05,plungeRate:25},"Cherry Plywood":{feedRate:50,depthPerPass:.05,plungeRate:25},MDF:{feedRate:50,depthPerPass:.05,plungeRate:25}}},Ure=KWe;var QWe={configuration:{machineType:ze.XCARVE,leadScrewType:"direct-drive",belts:"3gt"},settings:Ure,failSafeSettings:{feedRate:72,depthPerPass:.032,plungeRate:24,spindleSpeed:12e3,untested:!0}};Wo.addMachineSettings(QWe);var eVe=()=>{try{return window.WebGLRenderingContext&&document.createElement("canvas").getContext("experimental-webgl")}catch{return!1}};window.DISABLE_3D=!eVe();var Rre=null,jre={},Gre=function(e,t,r,o){return r==null&&(r=!1),o==null&&(o=!1),`${e}:${t}:${r}:${o}`},tVe=function(e,t,r,o){return jre[Gre(e,t,r,o)]},rVe=(e,t,r,o,i)=>jre[Gre(e,t,r,o)]=i,Hre={get:tVe,put:rVe},oVe=e=>Rre=e,iVe=function(e){let{keyboard:t,command:r,key:o,meta:i,shift:n}=e;return Hre.put(t,o,i,n,r)},nVe=function(e){let t;if(zre(e)||e.altKey)return e;let r=e.which,o=e.metaKey||e.ctrlKey,i=e.shiftKey;return t=Hre.get(Rre,r,o,i),t&&(t(e),e.preventDefault()),e},zre=e=>["input","textarea"].includes(e.target.tagName.toLowerCase()),sVe={use:oVe,handle:nVe,register:iVe,inputFocused:zre},ut=sVe;var a8={commands:{},register:(e,t)=>a8.commands[e]=t,trigger:function(e){let[t,r]=Array.from(e.split(":"));a8.commands[t]!=null&&a8.commands[t](r)}};globalThis.$!=null&&$(document).on("click",".action-menu a[data-action]",function(e){$(this).attr("href")==="#"&&e.preventDefault(),a8.trigger($(this).data("action"))});var Je=a8;var aVe={backspace:8,enter:13,esc:27,left:37,up:38,right:39,down:40,delete:46,plus:187,minus:189,zero:48,a:65,b:66,c:67,d:68,e:69,g:71,i:73,j:74,m:77,n:78,o:79,p:80,u:85,v:86,x:88,y:89,z:90,semicolon:186,leftSquareBracket:219,rightSquareBracket:221,quote:222,slash:191},pt=aVe;var Xre=function(e){e?.originalEvent?.repeat||H.trackEvent(U.layeringTool,{action:"Move forward"});let t=N.store.getState(),r=Ie.selectedVolumeIds(t);N.store.dispatch(W.actions.volumesMoveForward(r))};Je.register("forward",Xre);ut.register({keyboard:"default",command:Xre,key:pt.rightSquareBracket,meta:!0});var Yre=function(e){e?.originalEvent?.repeat||H.trackEvent(U.layeringTool,{action:"Bring to front"});let t=N.store.getState(),r=Ie.selectedVolumeIds(t);N.store.dispatch(W.actions.volumesBringToFront(r))};Je.register("bring-to-front",Yre);ut.register({keyboard:"default",command:Yre,key:pt.quote,meta:!0});var lVe=function(){let e=N.store.getState(),t=q.getMaterialDimensions(e),r=q.getXYZeroLocation(e),o;r===me.XY_ZERO_FRONT_LEFT?o={x:t.x/2,y:t.y/2}:r===me.XY_ZERO_CENTER&&(o={x:0,y:0});let i=Ie.selectedVolumeIds(e),n=ye.getVolumes(e,i),s=Ee.boundingBox(n),a=Ee.centerFromBbox(s);H.trackEvent(U.centeredToMaterial,{"X/Y Zero Location":r,"Material Dimensions":t,"X Translation":o.x-a.x,"Y Translation":o.y-a.y}),N.store.dispatch(W.actions.volumesTranslate(i,o.x-a.x,o.y-a.y))};Je.register("center-to-material",lVe);var cVe=VC(),uVe=_e([e=>e.workpieces.editorSize],e=>({width:Math.round(e.width),height:Math.round(e.height)})),pVe={getWorkpieceViewport:e=>{let t=e.workpieces.activeWorkpieceId;return t===wo?cVe:e.workpieces.byWorkpieceId[t].viewportState},getWorkpiecesVisible:e=>e.workpieces.workpiecesVisible,getEditorSize:uVe,getWindowSize:e=>e.workpieces.windowSize,getEditorFraction:e=>e.workpieces.editorFraction},St=pVe;var dVe=function(e,t){let r=Y.getWorkArea(t).y,o=St.getWorkpieceViewport(t),i=St.getEditorSize(t);return qre(e,r,o,i)},qre=function(e,t,r,o){let i;return e.length===1&&_r(e[0].shape.center,AB)&&Si.pointIsNotInView(t,r,o,e[0].shape.center)&&(i=Si.getOffsetToCenter(t,r,o,AB)),i},mVe=(e,t)=>(r,o)=>{r(W.actions.volumesAdd([e],t));let i=ye.getLastAddedVolume(o());Hd(i.cut)?r(W.actions.startEditingVolume({volume:i,points:[{pointIndices:[1],subpathIndex:0}]})):r(W.actions.selectVolumes([i.id]))},fVe={getShiftWithState:dVe,getShift:qre,addAndSelectVolume:mVe},Dr=fVe;var $re={combineSelection(){let e=N.store.getState(),t=Ie.selectedVolumeIds(e),r=ye.getVolumes(e,t),{newVolume:o,combinedVolumes:i}=$re.combine(r);if(i.length==0)return;o.id=ye.newId();let n=i.map(a=>a.id),s=Dr.getShiftWithState([o],N.store.getState());N.store.dispatch(W.actions.volumesReplace(n,[o],s,"combine"))},combine(e){let t=Ee.combinableVolumes(e);if(t.length<=1)return{combinedVolumes:[]};let r=0,o=!1,i=fo(),n=[],s=t[0].cut.outlineStyle??null;for(let{cut:p,shape:m}of t){let h=gl.process(m).simplify();p.depth===0?i=i.exclusion(h):(i=i.union(h),p.depth>r&&(r=p.depth)),p.type==="fill"&&(o=!0),s=!s||p.outlineStyle==s?p?.outlineStyle:"on-path",n=n.concat(Xe.proFeatures(m))}let a=o?{type:"fill",depth:r}:{type:"outline",depth:r,outlineStyle:s},l=i.all();if(l.length===0)return{combinedVolumes:[]};n=c5(n,(p,m)=>JSON.stringify(p)===JSON.stringify(m));let c=l.map(p=>p.close().points),u=_o.pathPointsToShape(c);return u.combinedProFeatures=n,{combinedVolumes:t,newVolume:{shape:u,cut:a}}}},VP=$re;var Zre=function(){H.trackEventOnce("Combine Tool"),VP.combineSelection()};Je.register("combine",Zre);ut.register({keyboard:"default",command:Zre,key:pt.j,meta:!0});var hVe=function(){let e=N.store.getState(),t=Ie.selectedVolumeIds(e),o=ye.getVolumes(e,t).filter(i=>i.shape.type==="ellipse");o.length!==0&&(N.store.dispatch(W.actions.volumesConvertEllipseToDrillHoles(t)),H.trackEvent(U.convertedCirclesToDrillHoles,{count:o.length}))};Je.register("convert-ellipse-to-drill-holes",hVe);var Jre=e=>{let t=e?.responseJSON?.error??"Please refresh and try again.";Fe("Copy failed",t)},Kre=function(e,t){let r=window.open("about:blank","_blank");return Promise.all([Li.copyProject(e,t)]).then(function([o]){if(o==null||o.project==null||o.project.link_token==null)return Jre();r.location.href=`${window.location.protocol}//${window.location.host}/projects/${o.project.link_token}`,r.focus()}).catch(Jre)},gVe={copyShared:(e,t)=>Kre(e,t),duplicate:e=>Kre(e,{})},v2=gVe;Je.register("copy-changes",e=>v2.copyShared(e,{Origin:"main-menu"}));Je.register("duplicate",v2.duplicate);var Qre=function(e){if(e.originalEvent.repeat)return;let t=N.store.getState();if(Ie.editingVolumeId(t)!=null)N.store.dispatch(W.actions.cancelEditingVolume());else{let r=Ie.selectedVolumeIds(t);if(r.length>0){let o=ye.getVolumes(t,[r[0]])[0];N.store.dispatch(W.actions.startEditingVolume({volume:o}))}}};Je.register("edit-volume",Qre);ut.register({keyboard:"default",command:Qre,key:pt.e});var qc=M(P("react"),1),Xp=P("react-redux");var l8=M(P("react"),1);var ju=M(P("react"),1),yVe=({anchor:e,selected:t=!1,leftHandle:r,rightHandle:o,onMouseDown:i})=>{let s=!!i?"point point--draggable":"point",a=s+(t?" point--selected":"");return ju.default.createElement("g",{className:"anchor-group"},ju.default.createElement("g",{onMouseDown:i&&(l=>i("anchor",l))},r&&ju.default.createElement(ju.default.Fragment,null,ju.default.createElement("line",{x1:e.x,y1:e.y,x2:e.x+r.x,y2:e.y+r.y,className:"path-handle-connector"}),ju.default.createElement("rect",{x:e.x+r.x-4,y:e.y+r.y-4,width:8,height:8,className:s,"data-type":"lh",onMouseDown:i&&(l=>i("lh",l))})),o&&ju.default.createElement(ju.default.Fragment,null,ju.default.createElement("line",{x1:e.x,y1:e.y,x2:e.x+o.x,y2:e.y+o.y,className:"path-handle-connector"}),ju.default.createElement("rect",{x:e.x+o.x-4,y:e.y+o.y-4,width:8,height:8,className:s,"data-type":"rh",onMouseDown:i&&(l=>i("rh",l))})),ju.default.createElement("circle",{cx:e.x,cy:e.y,r:5,className:a,"data-type":"anchor"})))},om=yVe;var xVe=({points:e,alignmentLines:t,screenMatrix:r})=>{let[o]=Oe.transformedPath([e],r),i=t.map(({start:n,end:s})=>({start:r.transformedPoint(n),end:r.transformedPoint(s)}));return l8.default.createElement("g",{"data-testid":"lineToolPreviewContainer"},l8.default.createElement("path",{className:"shape-outline",d:ns.string([o])}),i.map(({start:n,end:s},a)=>l8.default.createElement("line",{x1:n.x,y1:n.y,x2:s.x,y2:s.y,className:"alignment-line",key:a})),o.map((n,s)=>l8.default.createElement(om,{key:s,anchor:n,leftHandle:s>=o.length-1?n.lh:void 0,rightHandle:s>=o.length-2?n.rh:void 0})))},UP=xVe;var zp=M(P("react"),1);var p8=P("react");var c8=P("react");var eoe={snapXY({point:e,testPoints:t,threshold:r}){let o={x:null,y:null},i={x:1/0,y:1/0},n=le({},e);for(let s of t)for(let a of["x","y"]){let l=Math.abs(s[a]-e[a]);l<r&&l<i[a]&&(i[a]=l,o[a]=s,n[a]=s[a])}return[n,o.x,o.y]},snapVolumePoints(e,t){if(!t)return null;let o=t.map(i=>Xe.pathifyShape(i.shape)).filter(i=>i!=null).map(i=>[...Xe.scalePathPoints(i).flat().map(s=>Xe.shapeMatrix(i).transformedPoint(s)),i.center]).flat().reduce((i,n)=>{let s=ar(e,n);return s<i.distance&&(i={distance:s,pt:n}),i},{distance:1/0,pt:null});return o.distance<eoe.SNAP_DISTANCE?o.pt:null},snapBboxEdge(e,t){if(!t)return null;let r=this.SNAP_DISTANCE,o=null,i=1/0;for(let n of t){if(n.shape.type==="drill"||ho(n))continue;let s=Xe.actualPathBoundingBox(n.shape),a=[{x:s.minX,y:e.y,side:"left",relativePt:{x:0,y:(e.y-s.minY)/(s.maxY-s.minY)},line:[{x:s.minX,y:s.minY},{x:s.minX,y:s.maxY}]},{x:s.maxX,y:e.y,side:"right",relativePt:{x:1,y:(e.y-s.minY)/(s.maxY-s.minY)},line:[{x:s.maxX,y:s.minY},{x:s.maxX,y:s.maxY}]},{x:e.x,y:s.minY,side:"bottom",relativePt:{x:(e.x-s.minX)/(s.maxX-s.minX),y:0},line:[{x:s.minX,y:s.minY},{x:s.maxX,y:s.minY}]},{x:e.x,y:s.maxY,side:"top",relativePt:{x:(e.x-s.minX)/(s.maxX-s.minX),y:1},line:[{x:s.minX,y:s.maxY},{x:s.maxX,y:s.maxY}]}];for(let l of a)if(l.side==="left"||l.side==="right"?l.y>=s.minY&&l.y<=s.maxY:l.x>=s.minX&&l.x<=s.maxX){let u=Math.hypot(e.x-l.x,e.y-l.y);u<r&&u<i&&(o={point:{x:l.x,y:l.y},relativePt:l.relativePt,volumeId:n.id,edge:{side:l.side,line:l.line},distance:u},i=u)}}return o},SNAP_DISTANCE:.0625},za=eoe;function RP({points:e,volumes:t,screenMatrix:r,enableShiftKeySnapping:o=!1}){let[i,n]=(0,c8.useState)({x:0,y:0}),[s,a]=(0,c8.useState)([]),l=za.SNAP_DISTANCE,c=(0,c8.useCallback)((u,p)=>{let m=r.inverse().transformedPoint(u);if(p&&p.altKey){n(m),a([]);return}if(o&&p?.shiftKey&&e.length>0){let S=e[e.length-1],w=Math.abs(S.x-m.x)>Math.abs(S.y-m.y)?{x:m.x,y:S.y}:{x:S.x,y:m.y};n(w),a([{start:S,end:w}]);return}let[h,f,x]=za.snapXY({point:m,testPoints:e,threshold:l}),v=[f,x].filter(S=>S!=null);if(v.length>0){n(h),a(v.map(S=>({start:h,end:S})));return}let b=za.snapVolumePoints(m,t);n(b??m),a([])},[e,t,r,o,l]);return{mousePoint:i,alignmentLines:s,snapMousePoint:c,setMousePoint:n,setAlignmentLines:a}}function S2(e){let t=[];return e.forEach(r=>{let o=Xe.pathifyShape(r.shape);if(!o||!o.points)return;let i=ct().premultipliedBy(Xe.boundingBoxMatrix(o,Oe.pathBoundingBox(o.points))).premultipliedBy(Xe.shapeMatrix(o));o.points.forEach((n,s)=>{if(Oe.isClosed(n))return;let a=i.transformedPoint(n[0]),l=i.transformedPoint(n[n.length-1]);t.push({volumeId:r.id,subpathIndex:s,isStart:!0,point:a},{volumeId:r.id,subpathIndex:s,isStart:!1,point:l})})}),t}function u8(e,t,r){let o=null,i=1/0;return t.forEach(n=>{let s=ar(e,n.point);s<i&&s<=r&&(i=s,o=n)}),o}function AF(e){return e.slice().reverse().map(t=>!t.lh&&!t.rh?t:{...t,lh:t.rh,rh:t.lh})}function toe(e,t,r,o){return r&&o?[...e,...t.slice(1)]:r&&!o?[...e,...AF(t).slice(1)]:!r&&o?[...AF(e),...t.slice(1)]:[...AF(t),...e.slice(1)]}function roe(e,t,r,o){let i=e,n=[],s=t&&r&&t.volumeId===r.volumeId&&t.subpathIndex===r.subpathIndex;if(t){let a=o(t.volumeId,t.subpathIndex);i=toe(a,i,!t.isStart,!0),n.push(t.volumeId)}if(r&&!s){let a=o(r.volumeId,r.subpathIndex);i=toe(i,a,!0,r.isStart),n.push(r.volumeId)}return{finalPoints:i,volumeIdsToDelete:n}}var jP=({screenMatrix:e,setPoints:t,submitPoints:r,points:o,volumes:i,setStartConnection:n})=>{let{mousePoint:s,alignmentLines:a,snapMousePoint:l}=RP({points:o,volumes:i,screenMatrix:e,enableShiftKeySnapping:!0}),c=(0,p8.useRef)(null),u=h=>{let x=c.current.parentNode.getBoundingClientRect();return{x:h.clientX-x.left,y:h.clientY-x.top}},p=(0,p8.useCallback)(()=>{if(o.length>0&&s){let h=S2(i),f=u8(s,h,za.SNAP_DISTANCE);if(f)return r(o.concat([s]),f),!0;if(o.length>1)for(let x=0;x<o.length;x++){let v=o[x];if(tC(s,v)){let b;switch(x){case o.length-1:case o.length-2:b=o;break;default:b=o.concat([s]);break}return r(b),!0}}}return!1},[o,s,r,i]),m=(0,p8.useCallback)(()=>{if(s!=null){if(o.length===0){let h=S2(i),f=u8(s,h,za.SNAP_DISTANCE);f&&n(f)}t(o.concat([s]))}},[s,o,t,i,n]);return{backgroundRef:c,mousePoint:s,alignmentLines:a,snapMousePoint:l,offsetMousePoint:u,checkForPathCompletion:p,addPoint:m}};var bVe=e=>{let{backgroundRef:t,mousePoint:r,alignmentLines:o,snapMousePoint:i,offsetMousePoint:n,checkForPathCompletion:s,addPoint:a}=jP(e),{screenMatrix:l,setPoints:c,points:u}=e,[p,m]=(0,zp.useState)(!1),[h,f]=(0,zp.useState)(null),x=(0,zp.useCallback)(w=>{let _=n(w);if(h&&u.length>0){if(p||Math.hypot(_.x-h.x,_.y-h.y)>=5){p||m(!0);let E=l.inverse().transformedPoint(_),T=u[u.length-1],A=[...u.slice(0,-1),{...T,rh:{x:E.x-T.x,y:E.y-T.y},lh:{x:T.x-E.x,y:T.y-E.y}}];c(A)}}else i(_,w)},[i,p,h,u,c,l,n]),v=(0,zp.useCallback)(w=>{w.stopPropagation(),!s()&&(f(n(w)),a())},[s,n,a]),b=(0,zp.useCallback)(()=>{m(!1),f(null)},[]),S=u;return r!=null&&!p&&(S=u.concat([r])),zp.default.createElement("g",{ref:t,onMouseDown:v,onMouseMove:x,onMouseUp:b,"data-testid":"lineToolContainer"},zp.default.createElement("rect",{x:0,y:0,width:"100%",height:"100%",fill:"transparent"}),zp.default.createElement(UP,{screenMatrix:l,alignmentLines:o,points:S,isDragging:p}))},ooe=bVe;var Lf=M(P("react"),1);var vVe=e=>{let{backgroundRef:t,mousePoint:r,alignmentLines:o,snapMousePoint:i,offsetMousePoint:n,checkForPathCompletion:s,addPoint:a}=jP(e),{screenMatrix:l,points:c}=e,u=(0,Lf.useCallback)(f=>{let x=n(f);i(x,f)},[i,n]),p=(0,Lf.useCallback)(f=>{f.stopPropagation(),!s()&&a()},[s,a]),m=r!=null?c.concat([r]):c,h=(0,Lf.useMemo)(()=>m.length>=2?Oe.calculateCurvedLinePoints(m):m,[m]);return Lf.default.createElement("g",{ref:t,onMouseDown:p,onMouseMove:u,"data-testid":"lineToolContainer"},Lf.default.createElement("rect",{x:0,y:0,width:"100%",height:"100%",fill:"transparent"}),Lf.default.createElement(UP,{screenMatrix:l,alignmentLines:o,points:h}))},ioe=vVe;var S5=M(P("prop-types"),1),HP=M(P("react"),1);var Bf=M(P("prop-types"),1),IF=M(P("react"),1);var GP=class extends IF.default.Component{constructor(r){super(r);y(this,"handleMouseDown",(r,o)=>{o.stopPropagation(),r==="anchor"&&this.props.onClick(this.props.subpathIndex,this.props.pointIndex,o.shiftKey),this.setState({isDragging:!0,dragTargetType:r}),window.addEventListener("mousemove",this.handleDrag,!0),window.addEventListener("mouseup",this.handleDragEnd,!0),this.props.onDragStart()});y(this,"handleDrag",r=>{this.props.onDrag({event:r,pointIndex:this.props.pointIndex,subpathIndex:this.props.subpathIndex,pointType:this.state.dragTargetType})});y(this,"handleDragEnd",()=>{window.removeEventListener("mousemove",this.handleDrag,!0),window.removeEventListener("mouseup",this.handleDragEnd,!0),this.setState({isDragging:!1,dragTargetType:null}),this.props.onDragEnd()});this.state={isDragging:!1,dragTargetType:null}}render(){let{anchor:r,selected:o}=this.props;return IF.default.createElement(om,{anchor:r,selected:o,leftHandle:o?r.lh:void 0,rightHandle:o?r.rh:void 0,onMouseDown:this.handleMouseDown})}};y(GP,"propTypes",{selected:Bf.default.bool.isRequired,anchor:Bf.default.object.isRequired,pointIndex:Bf.default.number.isRequired,subpathIndex:Bf.default.number.isRequired,onClick:Bf.default.func.isRequired,onDrag:Bf.default.func.isRequired,onDragStart:Bf.default.func.isRequired,onDragEnd:Bf.default.func.isRequired});var noe=GP;var zP=class extends HP.default.Component{constructor(){super(...arguments);y(this,"onClick",(r,o,i)=>{let{selectedPoints:n}=this.props,s=new vf(n),a=s.containsPoint(r,o);if(i&&this.props.allowCurves)s.modifySelection([{subpathIndex:r,pointIndices:[o]}]);else if(!a)s.setSelection([{subpathIndex:r,pointIndices:[o]}]);else return;this.props.onSelect(s.toPoints())});y(this,"onDrag",r=>{this.props.onDrag(r)})}render(){let{selectedPoints:r,pointArrays:o}=this.props,i=new vf(r);return HP.default.createElement("g",null,o.map((n,s)=>n.map((a,l)=>HP.default.createElement(noe,{key:`${s}-${l}`,subpathIndex:s,pointIndex:l,anchor:a,selected:i.containsPoint(s,l),onDragStart:this.props.onDragStart,onDragEnd:this.props.onDragEnd,onDrag:this.onDrag,onClick:this.onClick}))))}};y(zP,"propTypes",{pointArrays:S5.default.array.isRequired,allowCurves:S5.default.bool,selectedPoints:S5.default.array,onDrag:S5.default.func.isRequired,onDragStart:S5.default.func.isRequired,onDragEnd:S5.default.func.isRequired,onSelect:S5.default.func.isRequired});var soe=zP;var SVe=(e,t)=>{let r=e.getTotalLength(),o=1/0,i,n=Math.max(6,Math.floor(r/10));for(let m=0;m<r;m+=n){let h=e.getPointAtLength(m),f=Math.hypot(h.x-t.x,h.y-t.y);f<o&&(o=f,i=m)}let s=i-n,a=i+n,l,c,u=.75;for(;Math.abs(s-a)>u;){l=(s+i)/2,c=(a+i)/2;let m=e.getPointAtLength(l),h=Math.hypot(m.x-t.x,m.y-t.y),f,x;h<o?(a=c,o=h,i=l):(f=e.getPointAtLength(c),(x=Math.hypot(f.x-t.x,f.y-t.y)<o)?(s=l,o=x,i=c):(s=l,a=c))}let p=e.getPointAtLength(i);return{x:p.x,y:p.y}},aoe={closestPointOnPath:SVe};var Uo=M(P("react"),1),CVe=({screenMatrix:e,shape:t,displayLines:r=!1,isLine:o=!1,submitChange:i,startChange:n,endChange:s,selectedPoints:a=[],onSelect:l,onDeactivate:c})=>{let[u,p]=(0,Uo.useState)([]),[m,h]=(0,Uo.useState)(null),[f,x]=(0,Uo.useState)(null),[v,b]=(0,Uo.useState)(!1),S=(0,Uo.useRef)(null),w=(0,Uo.useMemo)(()=>{let B=Oe.pathBoundingBox(t.points);return ct().premultipliedBy(Xe.boundingBoxMatrix(t,B)).premultipliedBy(Xe.shapeMatrix(t)).premultipliedBy(e)},[t,e]),_=(0,Uo.useRef)({selectedPoints:a,onSelect:l,onDeactivate:c,isAdditiveSelection:v,shape:t,shapeToScreenMatrix:w,selectionBox:f});_.current={selectedPoints:a,onSelect:l,onDeactivate:c,isAdditiveSelection:v,shape:t,shapeToScreenMatrix:w,selectionBox:f};let E=B=>{let j=S.current?.parentNode?.getBoundingClientRect()||{left:0,top:0};return{x:B.clientX-j.left,y:B.clientY-j.top}},T=(0,Uo.useCallback)(({pointType:B,subpathIndex:j,pointIndex:X,event:te})=>{let se,ue;te.shiftKey&&!o&&(B==="anchor"&&(B="lh"),te.metaKey?se=qy.constraints.ASYMMETRIC:se=qy.constraints.MIRRORED);let be=e,ae=ct().premultipliedBy(Xe.boundingBoxMatrix(t,Oe.pathBoundingBox(t.points))).premultipliedBy(Xe.shapeMatrix(t)),he=E(te),fe=be.inverse().transformedPoint(he),ce=t.points[j][X],Se=Oe.transformedPathPoint(ce,ae),It=B==="anchor"?Se:{x:(Se[B]?.x||0)+Se.x,y:(Se[B]?.y||0)+Se.y};te.altKey?ue=[]:ue=t.points[j].filter(oo=>oo.x!==ce.x||oo.y!==ce.y).map(oo=>Oe.transformedPathPoint(oo,ae));let[at,...Ce]=za.snapXY({point:fe,testPoints:ue,threshold:za.SNAP_DISTANCE}),yt=null;["lh","rh"].includes(B)?yt=[{subpathIndex:j,pointIndices:[X]}]:yt=a;let Zt=Xe.pathWithTranslatedPoints({delta:{x:at.x-It.x,y:at.y-It.y},constraint:se,pointType:B,points:yt,shape:t});if(o){let oo=Xe.scalePathPoints(t).flat().map(On=>Xe.shapeMatrix(t).transformedPoint(On));oo[X]=at,Zt=_o.pointsToRotatedLine(oo)}i(Zt);let Gt=Ce.filter(oo=>oo!=null).map(oo=>({point1:be.transformedPoint(at),point2:be.transformedPoint(oo)}));p(Gt)},[e,t,o,a,i]),A=(0,Uo.useCallback)(B=>{let j=B.target.nextElementSibling,X=aoe.closestPointOnPath(j,E(B.nativeEvent));h(X)},[]),O=(0,Uo.useCallback)(()=>{h(null)},[]),L=(0,Uo.useCallback)((B,j,X)=>{if(B.stopPropagation(),!m)return;let te=w.inverse().transformedPoint(m),se=t.points.slice();se[j].splice(X+1,0,te),i(le(t,{points:se})),l([{subpathIndex:j,pointIndices:[X+1]}])},[m,t,i,l,w]),R=(0,Uo.useCallback)(B=>{let j=E(B.nativeEvent);x({start:j,end:j}),b(B.shiftKey),B.stopPropagation()},[]),z=f!=null;(0,Uo.useEffect)(()=>{if(!z)return;let B=X=>{let te=E(X);x(se=>se?{...se,end:te}:null)},j=()=>{p([]);let{selectedPoints:X,onSelect:te,onDeactivate:se,isAdditiveSelection:ue,shape:be,shapeToScreenMatrix:ae,selectionBox:he}=_.current;if(he){let{start:fe,end:ce}=he;if(Math.hypot(ce.x-fe.x,ce.y-fe.y)<5&&X.length===0&&se)se();else{let It=new vf(ue?X:[]),at=Oe.transformedPath(be.points,ae),Ce=Math.min(fe.x,ce.x),yt=Math.max(fe.x,ce.x),Zt=Math.min(fe.y,ce.y),Gt=Math.max(fe.y,ce.y);at.forEach((oo,On)=>{let Gs=[];oo.forEach((io,Fr)=>{io.x>=Ce&&io.x<=yt&&io.y>=Zt&&io.y<=Gt&&Gs.push(Fr)}),Gs.length>0&&It.addSelection([{subpathIndex:On,pointIndices:Gs}])}),te(It.toPoints())}}x(null),b(!1)};return document.addEventListener("mousemove",B),document.addEventListener("mouseup",j),()=>{document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",j)}},[z]);let I=Oe.transformedPath(t.points,w),F=(0,Uo.useMemo)(()=>{if(!f)return a;let{start:B,end:j}=f,X=Math.min(B.x,j.x),te=Math.max(B.x,j.x),se=Math.min(B.y,j.y),ue=Math.max(B.y,j.y),be=new vf(v?a:[]);return I.forEach((ae,he)=>{let fe=[];ae.forEach((ce,Se)=>{ce.x>=X&&ce.x<=te&&ce.y>=se&&ce.y<=ue&&fe.push(Se)}),fe.length>0&&be.addSelection([{subpathIndex:he,pointIndices:fe}])}),be.toPoints()},[f,v,a,I]);return Uo.default.createElement("g",{ref:S},Uo.default.createElement("rect",{x:0,y:0,width:"100%",height:"100%",fill:"transparent",onMouseDown:R}),r&&I.map((B,j)=>B.slice(0,-1).map((X,te)=>{let se=[B[te],B[te+1]],ue=ns.components([se]).map(ae=>ae.join(" ")).join(" "),be=Uo.default.createElement("path",{key:`pathArrayIndex.segmentIndex ${j}.${te}`,className:"shape-outline",d:ue,pointerEvents:"none"});return z?[be]:[Uo.default.createElement("path",{key:`pathArrayIndex.segmentIndex ${j}.${te} eventHandler`,className:`shape-outline--collision-tolerant i${j}j${te}`,d:ue,onMouseMove:A,onMouseOut:O,onMouseDown:ae=>L(ae,j,te)}),be]})).flat(),u.map(({point1:{x:B,y:j},point2:{x:X,y:te}},se)=>Uo.default.createElement("line",{className:"alignment-line",key:se,x1:B,x2:X,y1:j,y2:te})),m&&Uo.default.createElement("circle",{cx:m.x,cy:m.y,r:5,className:"point",pointerEvents:"none"}),f&&Uo.default.createElement("rect",{className:"path-editor__selection",x:Math.min(f.start.x,f.end.x),y:Math.min(f.start.y,f.end.y),width:Math.abs(f.end.x-f.start.x),height:Math.abs(f.end.y-f.start.y),pointerEvents:"none"}),Uo.default.createElement(soe,{pointArrays:I,selectedPoints:F,allowCurves:!o,onSelect:l,onDragStart:n,onDragEnd:s,onDrag:T}))},loe=CVe;var DF={TEXT_AS_PATH_SHAPE:"TEXT_AS_PATH_SHAPE",TEXT_AS_TEXT_VOLUME:"TEXT_AS_TEXT_VOLUME"},PVe=function(e,t){let r=[],o=[];for(let s of e){var i;let a=t(s);if(s.shape.type==="text"){let l=ii.textShapeToPathShape(s.shape);if(l){let c={...s,shape:l};i=t(c)}else i=a}else i=a;r=r.concat(i),o=o.concat(a)}let n={};return n[DF.TEXT_AS_PATH_SHAPE]=r,n[DF.TEXT_AS_TEXT_VOLUME]=o,n},coe={},wVe=function(e,t){return coe=PVe(e.volumes,r=>Hc.volumeToFabricJson(r,{origin:e.origin,pixelsPerInch:me.PIXELS_PER_INCH,strokeSize:r.cut.type==="measurement"?me.MEASUREMENT_LINE_SELECTION_STROKE:e.strokeBit.inchWidth(r.cut.depth),drillSize:e.drillBit.inchWidth(r.cut.depth),materialThickness:e.dimensions.z||1})),{objects:coe[t]}},_Ve={renderType:DF,getJSON:wVe},b3=_Ve;var uoe=We({name:"measurement",initialState:{enabled:!1,snapping:!1,visible:!0},reducers:{toggleMeasuring(e){e.enabled?e.enabled=!1:(e.enabled=!0,e.visible=!0)},toggleVisible(e){e.visible=!e.visible},finishMeasuring(e){e.visible=!0,e.enabled=!1}},extraReducers:e=>{e.addCase(W.actions.volumesAdd,(t,{payload:r})=>{r.newVolumes.some(o=>o.cut.type!=="measurement")&&(t.enabled=!1)})}}),kVe=e=>e.measurement.enabled,TVe=e=>e.measurement.snapping,EVe=e=>e.measurement.visible,MVe={getEnabled:kVe,getSnapping:TVe,getVisible:EVe},AVe={actions:uoe.actions,reducer:uoe.reducer,...MVe},Ci=AVe;var NF=null,nc={},BF=null,FF=null,OF=null,LF=null,poe=!1,XP=function(e=null,t=!0){nc=N.store.getState();let r=Y.getWorkArea(nc),o=q.getMaterialDimensions(nc),i={width:r.x,height:r.y},n={volumes:e||ye.getVolumesForFabric(nc),dimensions:o,strokeBit:rt(re.strokeBit(nc)),drillBit:rt(re.drillBit(nc)),origin:{x:0,y:i.height}},s=St.getWorkpieceViewport(nc),a=Si.getViewportMatrix(s).toArray();return t=t&&Ci.getVisible(nc),t||(n.volumes=n.volumes.filter(l=>l.cut.type!=="measurement")),{canvas:NF,viewWidth:BF,viewHeight:FF,ignoreSelection:!1,viewportTransform:a,volumeJson:b3.getJSON(n,b3.renderType.TEXT_AS_TEXT_VOLUME),editingVolumeId:Ie.editingVolumeId(nc),isVolumeSelected:l=>Ie.isVolumeSelected(nc,l)}},IVe=(e,t)=>{BF=e,FF=t,YP(XP())},YP=function(e){NVe(e.canvas,e.viewWidth,e.viewHeight),e.canvas===globalThis.EASEL_CANVAS&&fabric.IText.flushInstances(),e.canvas.loadFromJSON(e.volumeJson,function(){let t=[];if(!e.ignoreSelection){for(let r of e.canvas.getObjects())r.easel!=null&&e.isVolumeSelected(r.easel.id)&&e.editingVolumeId!==r.easel.id&&r.easel.selectable&&t.push(r);return DVe(e.canvas,t)}}),e.canvas.setViewportTransform(e.viewportTransform),e.canvas.doRenderAll()},DVe=function(e,t){if(e.getActiveGroup()!=null&&e._discardActiveGroup(),e.getActiveObject()!=null&&e._discardActiveObject(),t.length!==0)if(t.length===1)e.setActiveObject(t[0]),doe(t[0]);else{for(let x of t)x.set("active",!0);let r=ye.getVolumesForFabric(nc,t.map(x=>x.easel.id)),o=ye.getGroupsForVolumes(nc,t.map(x=>x.easel.id)),i=o.length===1?o[0]:null,n=i!=null?fabric.util.radiansToDegrees(o[0].rotation):0;i!=null&&i.rotation!=0&&(r=r.map(x=>({...x,shape:$r.rotate(x.shape,-fabric.util.degreesToRadians(n),0,0)})));let s=Ee.boundingBox(r),a={x:(s.maxX+s.minX)/2,y:(s.maxY+s.minY)/2};i!=null&&i.rotation!=0&&(a=xJ(a,fabric.util.degreesToRadians(n)));let l={x:0,y:Y.getWorkArea(nc).y},{convertSize:c,convertX:u,convertY:p}=Hc.toFabricHelpers(l,me.PIXELS_PER_INCH),m=c(s.maxX-s.minX),h=c(s.maxY-s.minY),f=new fabric.Rect({top:p(a.y),left:u(a.x),width:m,height:h,angle:-n,originX:"center",originY:"center",opacity:0,perPixelTargetFind:!0});f.easel={type:"bbox",ids:r.map(x=>x.id)},t.forEach(x=>x.set({hasControls:!1})),e.add(f),e._activeObject=null,e.setActiveObject(f),doe(f)}},doe=function(e){if(e!=null){let t=!0,r=!0;if(e.easel?.id){let o=ye.getVolumeById(nc,e.easel.id);o&&ho(o)&&(t=!1,r=!1)}e.set({hasRotatingPoint:t,hasControls:r,transparentCorners:!1,cornerColor:"rgba(47, 68, 88, 0.5)",cornerSize:8})}},moe=function(e){let{offsetX:t,offsetY:r,deltaX:o,deltaY:i,deltaMode:n}=e,s=1,a=2,l=10;if((n===s||n===a)&&(o*=l,i*=l),e.metaKey||e.ctrlKey){let u=Math.pow(2,-i/500);N.store.dispatch(W.actions.zoomAtPoint({zoomMultiplier:u,point:{x:t,y:r}}))}else{let c=N.store.getState(),u=St.getEditorSize(c),p=q.getXYZeroLocation(c),m=q.getMaterialDimensions(c),h=Y.getWorkArea(c);N.store.dispatch(W.actions.panViewport({deltaX:o,deltaY:i,editorSize:u,xyZeroLocation:p,materialDimensions:m,workArea:h}))}e.preventDefault()},NVe=function(e,t,r){if((t!==OF||r!==LF)&&(e.setDimensions({width:t,height:r}),me.PIXEL_RATIO>1)){let o=e.getElement();o.width=t*me.PIXEL_RATIO,o.height=r*me.PIXEL_RATIO,o.getContext("2d").scale(me.PIXEL_RATIO,me.PIXEL_RATIO),o.style.width=`${t}px`,o.style.height=`${r}px`}LF=r,OF=t},OVe=_e([Ie.selectedVolumeIds,Ie.editingVolumeId,ye.getVolumes,St.getWorkpieceViewport,Ci.getVisible,q.getMaterialDimensions,Y.getWorkArea,re.bitParams],(e,t,r,o,i,n,s,a)=>({selectedIds:e,editingId:t,volumes:r,viewport:o,measurementsVisible:i,materialDimensions:n,workArea:s,bitParams:a})),LVe=function(e,t,r){if(NF=e,BF=t,FF=r,OF=null,LF=null,NF.getElement().parentNode.addEventListener("wheel",moe),!poe){let o=()=>YP(XP());J.addListener("render-fabric",o),N.store.subscribeWithSelector(OVe,o),poe=!0}YP(XP())},BVe={init:LVe,setViewSize:IVe,render:YP,getStateFromStores:XP,onWheel:moe},im=BVe;var foe=We({name:"stats",initialState:[],reducers:{}}),Bt=(e,t,r=uf.always)=>(o,i)=>{let n=i();H.trackProjectEvent(e,n,t,r)},hoe=(e,t)=>(r,o)=>{let i=o();H.trackProjectEventWithBeacon(e,i,t)};var qP={actions:foe.actions,reducer:foe.reducer};var nm=M(P("react"),1);var d8=M(P("react"),1);function WF({alignmentLines:e,screenMatrix:t,points:r}){if(r.length<2)return null;let o=t.getScale(),i=Oe.calculateArcPoints(r[0],r[1],r.length>2?r[2]:void 0).map(s=>{let a=t.transformedPoint(s),l=s;return{...a,lh:l.lh?{x:l.lh.x*o.x,y:l.lh.y*o.y}:void 0,rh:l.rh?{x:l.rh.x*o.x,y:l.rh.y*o.y}:void 0}}),n=e.map(({start:s,end:a})=>({start:t.transformedPoint(s),end:t.transformedPoint(a)}));return d8.default.createElement("g",{"data-testid":"arcToolPreviewContainer"},i.length>1&&d8.default.createElement("path",{className:"shape-outline",d:ns.string([i])}),r.length<3&&n.map(({start:s,end:a},l)=>d8.default.createElement("line",{x1:s.x,y1:s.y,x2:a.x,y2:a.y,className:"alignment-line",key:l})),i.length>0&&[i[0],i[i.length-1]].map((s,a)=>d8.default.createElement(om,{key:a,anchor:s})))}function VF({points:e,setPoints:t,submitPoints:r,volumes:o,screenMatrix:i,setStartConnection:n}){let s=(0,nm.useRef)(null),{mousePoint:a,alignmentLines:l,snapMousePoint:c}=RP({points:e,volumes:o,screenMatrix:i}),u=h=>{let x=s.current.parentNode.getBoundingClientRect();return{x:h.clientX-x.left,y:h.clientY-x.top}},p=(0,nm.useCallback)(h=>{h.stopPropagation();let f=u(h);c(f,h)},[c]),m=(0,nm.useCallback)(h=>{if(h.stopPropagation(),a==null)return;let f=S2(o),x=u8(a,f,za.SNAP_DISTANCE);if(e.length===0)x&&n(x),t([a]);else if(e.length===1)if(x){let v=Oe.calculateArcPoints(e[0],a);r(v,x)}else t([e[0],a]);else r(Oe.calculateArcPoints(e[0],e[1],a),x)},[e,a,t,r,o,n]);return nm.default.createElement("g",{ref:s,onMouseDown:m,onMouseMove:p},nm.default.createElement("rect",{x:0,y:0,width:"100%",height:"100%",fill:"transparent"}),e.length===0&&a&&nm.default.createElement(om,{anchor:i.transformedPoint(a)}),e.length>0&&nm.default.createElement(WF,{screenMatrix:i,alignmentLines:l,points:[...e,a]}))}var $P=M(P("react"),1);function UF({volumes:e,screenMatrix:t}){let r=S2(e);return $P.default.createElement($P.default.Fragment,null,r.map((o,i)=>$P.default.createElement(om,{key:`endpoint-${i}`,anchor:t.transformedPoint(o.point)})))}var ZP=(e,t,r,o,i)=>{let n=t();if(r.length>1){let{finalPoints:s,volumeIdsToDelete:a}=roe(r,o,i,(p,m)=>{let h=ye.getVolumeById(n,p);return Xe.pathifyShape(h.shape).points[m]}),l=_o.pathPointsToShape([s]),c=q.getMaterialThickness(n),u={shape:l,cut:{type:"outline",depth:ot.defaultShapePlacementDepth(c)}};e(W.actions.volumesReplace(a,[u],void 0,"Add path")),e(Bt(U.editor.addedLineToolPath,{"Total points":s.length,"Curve points":s.filter(p=>p.rh!=null||p.lh!=null).length,"Line Type":W.getPenDrawingDisplayMode(n)}))}e(W.actions.cancelDrawingMode())};function RF({viewWidth:e,viewHeight:t,screenMatrix:r}){let o=(0,Xp.useDispatch)(),i=(0,Xp.useStore)(),n=(0,Xp.useSelector)(Ie.editingVolumeId),s=(0,Xp.useSelector)(Ie.selectedPoints),a=(0,Xp.useSelector)(Ie.drawingMode),l=(0,Xp.useSelector)(Ie.drawingPoints),c=(0,Xp.useSelector)(E=>ye.getVolumeById(E,n)),u=(0,Xp.useSelector)(ye.getVolumes),[p,m]=(0,qc.useState)(null),h=()=>{o(W.actions.cancelEditingVolume()),m(null)},f=(0,qc.useRef)(),x=(0,qc.useCallback)(E=>{f.current&&f.current.removeEventListener("wheel",_),E&&E.addEventListener("wheel",_,{passive:!1}),f.current=E},[]),v=E=>{o(W.actions.volumesSetShapeParams([c.id],E))},b=E=>{o(W.actions.setDrawingPoints(E))},S=(E,T)=>{ZP(o,i.getState,a==="curvedPath"?Oe.calculateCurvedLinePoints(E):E,p,T),m(null)},w=E=>{o(W.actions.selectPathPoints(E)),E.length>0&&o(Bt(U.editor.selectedPathPoints,{"Total points":E.reduce((T,A)=>T+=A.pointIndices.length,0)}))},_=E=>{im.onWheel(E)};return c==null&&l==null?null:qc.default.createElement("svg",{id:"shape-editor",ref:x,width:e,height:t,onMouseDown:h},a!=null&&qc.default.createElement(UF,{volumes:u,screenMatrix:r}),a=="path"&&qc.default.createElement(ooe,{screenMatrix:r,setPoints:b,points:l,volumes:u,submitPoints:S,startConnection:p,setStartConnection:m}),a=="curvedPath"&&qc.default.createElement(ioe,{screenMatrix:r,setPoints:b,points:l,volumes:u,submitPoints:S,startConnection:p,setStartConnection:m}),a=="arc"&&qc.default.createElement(VF,{screenMatrix:r,setPoints:b,points:l,volumes:u,submitPoints:S,startConnection:p,setStartConnection:m}),c!=null&&qc.default.createElement(loe,{screenMatrix:r,shape:Xe.pathifyShape(c.shape),displayLines:c.cut.type!=="measurement",allowCurves:c.cut.type!=="measurement",isLine:c.cut.type==="measurement",startChange:()=>o(nr.actions.beginGroup("Edit Point")),endChange:()=>o(nr.actions.endGroup()),submitChange:v,selectedPoints:s,onSelect:w,onDeactivate:h}))}var FVe=function(){let e=N.store.getState();Ci.getEnabled(e)?N.store.dispatch(Ci.actions.finishMeasuring()):Ie.editingVolumeId(e)!=null?N.store.dispatch(W.actions.cancelEditingVolume()):Ie.drawingMode(e)==="path"?ZP(N.store.dispatch,N.store.getState,Ie.drawingPoints(e),null,null):Ie.drawingMode(e)==="curvedPath"&&ZP(N.store.dispatch,N.store.getState,Oe.calculateCurvedLinePoints(Ie.drawingPoints(e)),null,null)};ut.register({keyboard:"default",command:FVe,key:pt.esc});var goe=function(e,t,r){let o=N.store.getState(),i=Ie.selectedVolumeIds(o),n=ye.getVolumes(o,i),s=Ee.boundingBox(n),a=Ee.centerFromBbox(s);N.store.dispatch(W.actions.volumesFlip(i,e,t,a.x,a.y,`Flip ${r}`))};Je.register("flip-horizontal",()=>goe(!0,!1,"Horizontal"));Je.register("flip-vertical",()=>goe(!1,!0,"Vertical"));var L5=M(P("three"),1);var WVe={design:{visible:!0,status:"WORKING"},material:{visible:!1},productPreview:{hiddenGroups:[],enabled:!1},toolpaths:{generated:!1},uncutAreas:{visible:!1},wasteboard:{visible:!1}},yoe=We({name:"preview",initialState:WVe,reducers:{setDesignStatusToWorking(e){e.design.status="WORKING"},setDesignStatusToReady(e){e.design.status="READY"},setDesignStatusToDisabled(e){e.design.status="DISABLED"},setMaterialVisible(e,{payload:t}){e.material.visible=t},setProductPreviewEnabled(e,{payload:t}){e.productPreview.enabled=t,e.productPreview.hiddenGroups=[],e.wasteboard.visible=!t},setToolpathsGenerated(e){e.toolpaths.generated=!0},setUncutAreasVisible(e,{payload:t}){e.uncutAreas.visible=t},setWasteboardVisible(e,{payload:t}){e.wasteboard.visible=t},toggleMaterialGroupVisible(e,{payload:t}){let r=e.productPreview.hiddenGroups.slice(),o=r.indexOf(t);o>=0?r.splice(o,1):r.push(t),e.productPreview.hiddenGroups=r},setHiddenMaterialGroups(e,{payload:t}){e.productPreview.hiddenGroups=t},invalidatePreview(e,{payload:t}){e.design.visible=!0,e.design.status=t,e.material.visible=!0,e.wasteboard.visible=!0,e.productPreview.hiddenGroups=[],e.toolpaths.generated=!1,e.uncutAreas.visible=!1}}}),VVe={isDesignReady:e=>e.preview.design.status==="READY",isDesignWorking:e=>e.preview.design.status==="WORKING",isDesignDisabled:e=>e.preview.design.status==="DISABLED",materialVisible:e=>e.preview.material.visible,hiddenMaterialGroups:e=>e.preview.productPreview.hiddenGroups,productPreviewEnabled:e=>e.preview.productPreview.enabled,uncutAreasVisible:e=>e.preview.uncutAreas.visible,wasteboardVisible:e=>e.preview.wasteboard.visible,toolpathsGenerated:e=>e.preview.toolpaths.generated},UVe={actions:yoe.actions,reducer:yoe.reducer,...VVe},Nr=UVe;var RVe=function(e){let i=x=>JSON.parse(JSON.stringify(x)),n=(x,v)=>x.map((b,S)=>[b,v[S]]),s={current_xyz:[0,0,0],feed_rate:0,motion_mode:"SEEK",plane_axis:[0,1,2],inches_mode:!1,inverse_feedrate_mode:!1,absolute_mode:!0},a=function(x){return s.inches_mode&&(x*=25.4),x},l=[];for(let x=0;x<e.length;x++){let v=e[x];var c,u,p,m,h;try{let b=v.replace(/\s|\(.*?\)/g,"").toUpperCase();if(b=b.replace(/;.*/,""),b=b.replace(/\\\\/g,""),b=b.replace(/%/g,""),b.length===0)continue;let S=b.match(/[^0-9.-]+/g),w=b.match(/[0-9.-]+/g);if(S.includes("N")){if(S[0]!=="N")throw new Ff("Line number must be first command in line.",x,v);if(S.count("N")>1)throw new Ff("More than one line number in block.",x,v);S=S.slice(1),w=w.slice(1)}let _={next_action:"DEFAULT",absolute_override:!1,target_xyz:i(s.current_xyz),offset_ijk:[0,0,0],radius_mode:!1};for([c,p]of n(S,w)){u=parseFloat(p);let E=parseInt(u);if(c==="G")switch(E){case 0:s.motion_mode="SEEK";break;case 1:s.motion_mode="LINEAR";break;case 2:s.motion_mode="CW_ARC";break;case 3:s.motion_mode="CCW_ARC";break;case 4:_.next_action="DWELL";break;case 17:s.plane_axis=[0,1,2];break;case 18:s.plane_axis=[0,2,1];break;case 19:s.plane_axis=[1,2,0];break;case 20:s.inches_mode=!0;break;case 21:s.inches_mode=!1;break;case 28:case 30:_.next_action="GO_HOME";break;case 53:_.absolute_override=!0;break;case 54:break;case 80:s.motion_mode="MOTION_CANCEL";break;case 90:s.absolute_mode=!0;break;case 91:s.absolute_mode=!1;break;case 92:_.next_action="SET_OFFSET";break;case 93:s.inverse_feedrate_mode=!0;break;case 94:s.inverse_feedrate_mode=!1;break;default:}else if(c==="M")switch(E){case 0:case 1:break;case 2:case 30:case 60:break;case 3:break;case 4:break;case 5:break;default:}}for([c,p]of n(S,w))switch(u=parseFloat(p),c){case"F":s.feed_rate=a(u);break;case"I":case"J":case"K":_.offset_ijk[c.charCodeAt()-73]=a(u);break;case"N":break;case"P":m=u;break;case"R":h=a(u),_.radius_mode=!0;break;case"S":break;case"X":case"Y":case"Z":s.absolute_mode|_.absolute_override?_.target_xyz[c.charCodeAt()-88]=a(u):_.target_xyz[c.charCodeAt()-88]+=a(u);break}if(_.next_action==="GO_HOME")s.current_xyz=i(_.target_xyz);else if(_.next_action!=="SET_OFFSET"){if(_.next_action==="DWELL"){if(m<0)throw new Ff("Dwell time negative.",x,v)}else if(s.motion_mode==="SEEK")l.push([0,s.feed_rate,_.target_xyz[0],_.target_xyz[1],_.target_xyz[2]]),s.current_xyz=i(_.target_xyz);else if(s.motion_mode==="LINEAR")l.push([1,s.feed_rate,_.target_xyz[0],_.target_xyz[1],_.target_xyz[2]]),s.current_xyz=i(_.target_xyz);else if(["CW_ARC","CCW_ARC"].includes(s.motion_mode)){var f;let E=s.plane_axis;if(_.radius_mode){let fe=_.target_xyz[E[0]]-s.current_xyz[E[0]],ce=_.target_xyz[E[1]]-s.current_xyz[E[1]];if(!(fe==0&&ce==0))throw new Ff("Same target and current XYZ not allowed in arc radius mode.",x,v);let Se=-Math.sqrt(4*h*h-fe*fe-ce*ce)/Math.hypot(fe,ce);if(isNaN(Se))throw new Ff("Floating point error in arc conversion",x,v);s.motion_mode==="CCW_ARC"&&(Se=-Se),h<0&&(Se=-Se),_.offset_ijk[E[0]]=(fe-ce*Se)/2,_.offset_ijk[E[1]]=(ce+fe*Se)/2}else f=Math.sqrt(Math.pow(_.offset_ijk[E[0]],2)+Math.pow(_.offset_ijk[E[1]],2));let T=s.current_xyz[E[0]]+_.offset_ijk[E[0]],A=s.current_xyz[E[1]]+_.offset_ijk[E[1]],O=_.target_xyz[E[2]]-s.current_xyz[E[2]],L=-_.offset_ijk[E[0]],R=-_.offset_ijk[E[1]],z=_.target_xyz[E[0]]-T,I=_.target_xyz[E[1]]-A,F=Math.atan2(L*I-R*z,L*z+R*I);s.motion_mode==="CW_ARC"?F>=0&&(F-=2*Math.PI):F<=0&&(F+=2*Math.PI);let B=Math.sqrt(Math.pow(F*f,2)+Math.pow(Math.abs(O),2)),j=Math.sqrt(4*(2*f*.00127-Math.pow(.00127,2))),X=parseInt(B/j),te=F/X,se=O/X,ue=1-.5*te*te,be=te-Math.pow(te,3)/6,ae=[0,0,0];ae[E[2]]=s.current_xyz[E[2]];let he=0;for(let fe=1,ce=X,Se=1<=ce;Se?fe<=ce:fe>=ce;Se?fe++:fe--){if(fe<X){if(he<20){let It=L*be+R*ue;L=L*ue-R*be,R=i(It),he+=1}else{let It=Math.cos((fe-1)*te),at=Math.sin((fe-1)*te);console.log(20*L(-(-_.offset_ijk[E[0]]*It+_.offset_ijk[E[1]]*at))),console.log(20*R(-(-_.offset_ijk[E[0]]*at-_.offset_ijk[E[1]]*It))),It=Math.cos(fe*te),at=Math.sin(fe*te),L=-_.offset_ijk[E[0]]*It+_.offset_ijk[E[1]]*at,R=-_.offset_ijk[E[0]]*at-_.offset_ijk[E[1]]*It,he=0}ae[E[0]]=T+L,ae[E[1]]=A+R,ae[E[2]]+=se}else ae=i(_.target_xyz);l.push([1,s.feed_rate,ae[0],ae[1],ae[2]]),s.current_xyz=i(ae)}}}}catch(b){throw b instanceof Ff?b:new Ff("The file contains invalid G-code syntax.",x,v)}}return l},Ff=class extends Error{constructor(t,r,o){super(t),this.lineNumber=r+1,this.gcodeLine=o}},JP=RVe;var jVe={loadScripts(...e){let t=e.map(r=>{let o,i;return new Promise(function(n,s){typeof r=="string"?o=r:(o=r.src,i=r.id);let a=document.createElement("script");a.async=!1,a.onload=n,a.onerror=s,a.src=o,i&&(a.id=i),document.head.appendChild(a)})});return Promise.all(t)}},v3=jVe;var jF=class{static openSupportBot(t){typeof zE>"u"?this.loadSupportBot(t):(zE.setHelpCenterSuggestions({labels:["answerbot"],search:t}),zE.activate())}static loadSupportBot(t){window.zESettings={webWidget:{chat:{suppress:!0}}},v3.loadScripts({src:"https://static.zdassets.com/ekr/snippet.js?key=cf286903-d4b2-4d38-9d08-56d08b7a6eda",id:"ze-snippet"}).then(()=>{zE(()=>{zE.activate(),zE.setHelpCenterSuggestions({labels:["answerbot"],search:t})}),zE("webWidget:on","close",()=>{zE.hide(),H.trackEvent(U.answerbotClosed)})}).catch(()=>{Ut("There was an error loading Zendesk Answerbot. Please check your network settings and try again.")})}},C5=jF;var HF={},Gu=function(e,t){let r=JSON.stringify(t);try{return localStorage.setItem(e,r)}catch{try{return r=JSON.stringify(`; ${t.length} bytes, too long to save`),localStorage.setItem(e,r)}catch{}}},Hu=function(e){try{return JSON.parse(localStorage.getItem(e))}catch{return}},xoe=function(e){if(e!=null)try{return localStorage.setItem("carvingProject",JSON.stringify(e))}catch{return e.imported_gcode!=null&&(e=le(e),e.imported_gcode=`(${e.imported_gcode.length} bytes removed)`),Gu("carvingProject",e)}else return Hu("carvingProject")},boe=function(e){return e!=null?Gu("carvingJobSettings",e):Hu("carvingJobSettings")},GVe=function(){return Hu("carvingSelectedTile")},HVe=function(e){return Gu("carvingSelectedTile",e)},zVe=e=>Gu("carvingGcode",e),XVe=()=>Hu("carvingGcode"),YVe=e=>Gu("carvingParentGcode",e),qVe=()=>Hu("carvingParentGcode"),$Ve=function(e){return e&&(e={gcodeBodyStartLineIndex:e.gcodeBodyStartLineIndex,gcodeBodyEndLineIndex:e.gcodeBodyEndLineIndex,gcodeUnits:e.gcodeUnits}),Gu("carvingGcodeMetadata",e)},ZVe=()=>Hu("carvingGcodeMetadata"),voe=function(e){return e!=null?Gu("carvingTimeEstimate",e):Hu("carvingTimeEstimate")},GF=function(e){return e!=null?Gu("carvingPercentComplete",e):Hu("carvingPercentComplete")},Soe=function(e){return e!=null?Gu("carvingIsUsingDustShoe",e):Hu("carvingIsUsingDustShoe")},Coe=function(e){return e!=null?Gu("carvingIsExternalGcode",e):Hu("carvingIsExternalGcode")},Poe=function(e){return e!=null?Gu("carvingMachineProfileId",e):Hu("carvingMachineProfileId")},JVe=function(){return Hu("postCarveModal")},KVe=function(e){return Gu("postCarveModal",e)},QVe=function(e){if(e!=null)xoe(e.project),boe(e.jobSettings),HVe(e.tile),zVe(e.gcode),$Ve(e.gcodeMetadata),YVe(e.parentGcode),voe(e.timeEstimate),GF(0),Soe(e.isUsingDustShoe),Coe(e.isExternalGcode),Poe(e.machineProfileId),KVe(e.postCarveModal);else return{project:xoe(),jobSettings:boe(),tile:GVe(),gcode:XVe(),gcodeMetadata:ZVe(),parentGcode:qVe(),timeEstimate:voe(),percentComplete:GF(),isUsingDustShoe:Soe(),isExternalGcode:Coe(),machineProfileId:Poe(),postCarveModal:JVe()}};HF.data=QVe;HF.percentComplete=e=>GF(e);var eUe=HF,ks=eUe;var tUe={usingLastHome:!1,hasCompletedCarve:!1,startPercentage:0,isResumingCarve:!1},woe=We({name:"walkthrough",initialState:tUe,reducers:{setUsingLastHome(e,t){e.usingLastHome=t.payload},setHasCompletedCarve(e,t){e.hasCompletedCarve=t.payload},setStartPercentage(e,t){e.startPercentage=t.payload},setIsResumingCarve(e,t){e.isResumingCarve=t.payload}}}),rUe={getPassType(e){return W.getActiveWorkpiece(e)?.walkthroughState.passType??"all"},getUsingLastHome(e){return e.walkthrough.usingLastHome},getHasCompletedCarve(e){return e.walkthrough.hasCompletedCarve},getStartPercentage(e){return e.walkthrough.startPercentage},getIsResumingCarve(e){return e.walkthrough.isResumingCarve},getSelectedGcodePass:_e([e=>W.getGcodePasses(e),e=>W.getActiveWorkpiece(e)?.walkthroughState.passType??"all"],(e,t)=>e.find(r=>r.jobSettings?.passType===t))},oUe={actions:woe.actions,reducer:woe.reducer,...rUe},At=oUe;var iUe={USER_UNSAVED_INPUT:"user_unsaved_input",INVENTABLES:"inventables",USER_ADDED_CUSTOM:"user_added_custom",GLOBAL:"global"},Js=iUe;var ga=(e,t)=>{let r=q.getActiveMaterial(t),o={bit:re.bit(t),detailBit:re.detailBit(t),outlineBit:re.outlineBit(t)}[e],i=Y.getMachineSettingsState(t),n=et.getCurrentProfileId(t),s=Q.isProEnabled(Date.now(),t),a=Ge.getSettings(t)??{},l=Wi.getCutSettings(t),c=Wo.findSavedCustomSettings(l,r,o,n);return S3(c,e,r,o,i,s,a)},m8=function(e,t,r,o,i,n,s){let a=Wo.findSavedCustomSettingsUsingGlobalRedux(t,r,i);return S3(a,e,t,r,o,n,s)},S3=function(e,t,r,o,i,n,s){let l={...{bit:s.bit,detailBit:s.detailBit,outlineBit:s.outlineBit}[t]};l.spindleSpeed=l.spindleSpeed||i?.spindleRPM;let c=l.depthPerPass!=null||l.feedRate!=null||l.plungeRate!=null||l.fillAngle!=null||l.spindleSpeed!=null;return{deniedAccessToSavedSettings:()=>!l.useCustom&&e!=null&&!n,isUsingLoadedSavedSettings:()=>!l.useCustom&&e!=null&&n,savedSettings:()=>e,getSettings:function(){let p=Wo.recommend(i,r,o),m=n&&e||p,h={};if(l.useCustom)if(c){for(let f in l)h[f]=l[f]!=null?l[f]:m[f];return h}else return m;else return m||null}}};var nUe=function(e,t){let r=[],o=new Map;for(let i of e){let n=t?t(i):i;o.has(n)||(o.set(n,!0),r.push(i))}return r},KP=nUe;var zF=function(e){let t=[],r=[],o=[];for(let{shape:i}of e){let n=Xe.proFeatures(i);for(let s of n)switch(s.type){case"font":t.push(s.name);break;case"textEffect":r.push(s.name);break;case"icon":o.push(s);break}}return{fontNames:KP(t),effectNames:KP(r),icons:KP(o,i=>i.externalId||i.name)}},sUe=[{feature:{key:"THREE_D",label:U.proContent.threeDeeCarving,type:"carving"},selector:e=>Ue.isThreeD(e)},{feature:{key:"VCARVING",label:U.proContent.vCarving,type:"carving"},selector:e=>re.isVCarvingBitInUse(e)},{feature:{key:"FONT_LIBRARY",label:U.proContent.fontLibrary,type:"carving"},selector:(e,t)=>zF(t??ye.getVolumesForWorkpiece(e,W.getActiveId(e))).fontNames.length>0},{feature:{key:"CUSTOM_MATERIAL",label:U.proContent.customMaterial,type:"carving"},selector:e=>q.getActiveMaterial(e)?.source===Js.USER_ADDED_CUSTOM},{feature:{key:"CUSTOM_BIT",label:U.proContent.customBit,type:"carving"},selector:e=>re.bit(e)?.source===Js.USER_ADDED_CUSTOM},{feature:{key:"CUSTOM_DETAIL_BIT",label:U.proContent.customDetailBit,type:"carving"},selector:e=>re.detailBit(e)?.source===Js.USER_ADDED_CUSTOM},{feature:{key:"CUT_SETTINGS",label:U.proContent.savedCutSettings,type:"carving"},selector(e){let t=At.getPassType(e),r=Nt.getBitKeyForPassType(t);return ga(r,e).isUsingLoadedSavedSettings()}},{feature:{key:"PROJECT_LABELS",label:U.proContent.projectLabels,type:"project-organization"},selector:e=>ge.getAssignedLabels(e).length>0},{feature:{key:"TEXT_EFFECTS",label:U.proContent.textEffects,type:"carving"},selector:(e,t)=>zF(t??ye.getVolumesForWorkpiece(e,W.getActiveId(e))).effectNames.length>0},{feature:{key:"TILING",label:U.proContent.tiling,type:"carving"},selector:e=>Dt.isTileSelected(e)},{feature:{key:"PRO_ICON",label:U.proContent.proIcon,type:"carving"},selector:(e,t)=>zF(t??ye.getVolumesForWorkpiece(e,W.getActiveId(e))).icons.length>0},{feature:{key:"RAMPING",label:U.proContent.rampingToolpaths,type:"carving"},selector:e=>Ge.isRampingInUse(e)},{feature:{key:"RASTER_FILL",label:U.proContent.rasterFilling,type:"carving"},selector:e=>Ge.isRasterFillingInUse(e)},{feature:{key:"ADDITIONAL_CUT_THROUGH",label:U.proContent.additionalDepth,type:"carving"},selector:(e,t)=>(t??ye.getVolumesForWorkpiece(e,W.getActiveId(e))).filter(r=>r.cut.additionalDepthAmount>0).length>0},{feature:{key:"ADVANCED_ZEROING",label:U.proContent.advancedZeroing,type:"carving"},selector:e=>q.getXYZeroLocation(e)!==me.XY_ZERO_FRONT_LEFT},{feature:{key:"RESUME_CARVE",label:U.proContent.resumeCarve,type:"carving"},selector:e=>At.getStartPercentage(e)>0}],_oe=_e([e=>ge.getProjectId(e),e=>W.getExternalGcode(e),e=>Ue.isThreeD(e),...sUe.map(({selector:e,feature:t})=>(r,o=null)=>e(r,o)?t:null)],(e,t,r,...o)=>{if(e==null)return[];if(t!=null&&t.length>0)return[];let i=o.filter(n=>n);if(r){let n=["THREE_D","CUSTOM_MATERIAL","CUSTOM_BIT","CUSTOM_DETAIL_BIT","CUT_SETTINGS"];i=i.filter(s=>s.type!=="carving"||n.includes(s.key))}return i}),koe=_e([_oe],e=>e.filter(t=>t.type==="carving")),Toe=_e([koe,e=>it("cabinet_mvp")&&zt.isCabinetProject(e)],(e,t)=>{if(t){let r=["CUSTOM_MATERIAL","CUSTOM_BIT","CUT_SETTINGS","TILING","ADDITIONAL_CUT_THROUGH"];return e.filter(o=>!r.includes(o.key))}return e}),aUe=(e,t)=>!!(Toe(t).length===0||Q.isProEnabled(e,t)),lUe=(e,t)=>{let r=Dt.getWorkpieceTileCount(e,t);if(r>0){let o=re.isVCarvingBitInUse(e,t);return{tileCount:r,tileNumber:Dt.getSelectedTileIndex(e,t)+1,overlapInUse:Dt.getTileOverlapDistance(e,t)>0||o?"true":"false",tileLength:Dt.getSelectedTileLength(e,t)}}},cUe={getInUseProFeatures:_oe,getInUseCarvingProFeatures:koe,getInUseCarvingFeaturesRequiringProSubscription:Toe,getTilingDetails:lUe,authorizedToCarve:aUe},xo=cUe;var XF={},uUe=function(e){let t=JSON.stringify({carve:e});return kt("/carves",t).then(r=>(XF=r,r)).catch(r=>{throw H.trackEvent(U.carveSubmitFailed,r),r})},pUe=function(e){if(XF.id){let t=N.store.getState();e={...e,includes_pro_features:xo.getInUseCarvingProFeatures(t).length>0,was_pro_subscription:Q.isProEnabled(Date.now(),t)};let r=JSON.stringify({carve:e});return T1("PATCH",`/carves/${XF.id}`,r).then(()=>{let o=ks.data();o.gcode=null,o.gcodeMetadata=null,ks.data(o)})}},dUe={submit:uUe,update:pUe},P5=dUe;var mUe={alerts:{invalidDepthError:{title:"An erroneous tool path was generated below the wasteboard.",message:"You may try making small adjustments to the positioning or size of your design. If this issue persists, please contact the Easel Customer Success team at help@easel.com."},noToolpathsToGenerate:{title:"There is nothing to carve",message:"There are no objects in your design, so there are no tool paths to show."},noObjectsToCarve:{title:"There is nothing to carve",message:"There are no objects in your design, so there are no objects to carve."},noNonZeroDepthObjectsToCarve:{title:"There is nothing to carve",message:"There are no objects in your design with depth greater than zero, so there are no objects to carve."},singleBitNothingCarvable:{title:"There is nothing to carve",detail:"<p>The design contains objects that are not able to cut with the current settings.</p><p>Try selecting a smaller diameter bit or changing the cut path.</p>"},multiBitNothingCarvable:{title:"There is nothing to carve",detail:"<p>The design contains objects that are not able to cut with the current settings.</p><p>The detail bit may also be sufficient for both the roughing and detail passes.</p>"},homingFailed:{title:"Homing Failed",message:e=>{let t="Make sure clamps and material are not blocking the path in any way.";return e===ze.CARVEY&&(t+=" Check to make sure none of the clamps are hanging off the back edge of the work area table, which moves during operation and can hit the back wall of the machine. Also, double check that no large debris is underneath the work area table that may prevent it from moving properly during operation."),t}}}},Vi=mUe;function f8(e){return e.walls.slice().concat(e.interior.flatMap(r=>r.walls))}function fUe(e){return e.interior.flatMap(t=>t.kind==="island"?t.walls:[])}function Wf(e){return f8(e).flatMap(t=>t.children)}function YF(e){return Wf(e).filter(t=>t.kind=="cabinet")}function sm(e,t){return C3(f8(e),t)}function Eoe(e,t){return C3(e.walls,t)}var Moe=e=>e.children.filter(hUe),Aoe=e=>e.children.filter(Doe),Ioe=e=>e.children.filter(gUe);function ya(e,t){let r=f8(e).find(o=>o.children.find(i=>i.id===t));if(r==null)throw new Error(`missing child node: ${t}`);return r}function Ks(e,t){return C3(Wf(e),t)}function QP(e,t){return C3(YF(e),t)}function hUe(e){return e.kind==="cabinet"}function gUe(e){return e.kind==="door"||e.kind==="window"}function qF(e,t){return C3(Wf(e).filter(Doe),t)}function Doe(e){return NB(e.kind)}function C3(e,t){let r=e.find(o=>o.id===t);if(r==null)throw new Error(`missing room node: ${t}`);return r}function h8(e,t,r){let o=[];if(r&-2147483634){let i=-1,n=[e,...e.interior].find(c=>(i=c.walls.findIndex(u=>u.id===t),i>=0));if(n==null)throw new Error(`invalid wall id: ${t}`);let s=n.walls[i],a=n.walls[zy(i-1,n.walls.length)],l=n.walls[zy(i+1,n.walls.length)];r&2&&o.push(s),r&4&&ic(a.end,s.start)&&o.push(a),r&8&&ic(l.start,s.end)&&o.push(l)}return r&128&&(o=o.concat(e.walls)),r&256&&(o=o.concat(fUe(e))),r&-2147483648&&(o=c5(o,(i,n)=>i.id===n.id)),o}function g8({id:e,kind:t}){return{id:e,kind:t}}var C2=M(P("three"),1);function y8(e){return f2(e.end,e.start)}function $F(e,t){return{min:{x:0,y:0,z:-(t??0)},max:{x:y8(e),y:e.height,z:0}}}function ZF(e){return new C2.Vector2().subVectors(new C2.Vector2(e.end.x,e.end.z),new C2.Vector2(e.start.x,e.start.z)).normalize().angle()}function P3(e){let t=e.walls.flatMap(r=>[r.start,{...r.start,y:r.height}]);return bl.from(pF(t),"UpY")}function w5(e){let t=new C2.Matrix4().makeTranslation(e.start.x,e.start.y,e.start.z),r=new C2.Matrix4().makeRotationY(-ZF(e));return t.multiply(r)}function Noe(e,t){let r=w5(e);return w5(t).invert().multiply(r)}function xUe(e,t){let r=e.bboxes.map(o=>Nf(o,t));return{id:e.id,kind:e.kind,bboxes:r.map(o=>aF(o,13))}}function JF(e,t,r,o=()=>!0){let i=sm(e,t),n=h8(e,t,r),s={id:t,kind:"wall"};return n.flatMap(a=>{let l=g8(a),c=Noe(a,i);return a.children.filter(o).map(u=>({...xUe(u,c),parentRef:l,frameRef:s}))})}function Ooe(e,t={x:0,y:0,z:0}){let{width:r,height:o}=e.size,i=e.kind==="L-shape"?r:e.size.depth;return{min:t,max:{x:r+t.x,y:o+t.y,z:i+t.z}}}function P2(e,t={x:0,y:0,z:0}){let{width:r,height:o}=e.size;if(e.kind=="blind-box"){let{blindWidth:n}=e,s=e.size.depth,a={min:t,max:{x:n+t.x,y:o+t.y,z:s+t.z-e.overlayThickness}},l={min:t,max:{x:r-n+t.x,y:o+t.y,z:s+t.z}};return e.corner==="right"?a=Of(a,{x:r-n,y:0,z:0}):l=Of(l,{x:n,y:0,z:0}),[a,l]}let i=e.kind==="L-shape"?r:e.size.depth;return[{min:t,max:{x:r+t.x,y:o+t.y,z:i+t.z}}]}var YBt=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",currencyDisplay:"symbol"}),bUe=e=>`\u201C${e}\u201D`,vUe=function(e,t){return e.length<=t?e:e.substring(0,t)+"\u2026"},SUe=function(e,t,r){return e===1?t:r},CUe=e=>e.split("").reverse().join(""),PUe=function(e){if(e==null)return null;let t="";for(let r of e.toLowerCase().split("_"))t+=r.substring(0,1).toUpperCase()+r.substring(1);return t.substring(0,1).toLowerCase()+t.substring(1)},wUe=(e,t=" ")=>e.split(t).map(r=>r[0].toUpperCase()+r.slice(1)).join(t),_Ue=/[\/\?<>\\:\*\|":]/g,kUe=/[\x00-\x1f\x80-\x9f]/g,TUe=/^\.+$/,EUe=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,MUe=/[\. ]+$/,AUe=function(e,t){return t==null&&(t=""),e.replace(_Ue,t).replace(kUe,t).replace(TUe,t).replace(EUe,t).replace(MUe,t).substring(0,255)},IUe=e=>e.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;");var DUe={capitalize:wUe,snakeToCamel:PUe,quote:bUe,truncate:vUe,quantify:SUe,reverse:CUe,sanitize:AUe,escapeAttribute:IUe},vr=DUe;var NUe=M(P("manifold-3d"),1);var sc=class e extends $1{extrude(t,r,o,i,n){return new xa(this.obj.extrude(t,r,o,i,n))}revolve(t,r){return new xa(this.obj.revolve(t,r))}transform(t){return new e(this.obj.transform(t))}translate(t,r){return new e(this.obj.translate(t,r))}rotate(t){return new e(this.obj.rotate(t))}scale(t){return new e(this.obj.scale(t))}mirror(t){return new e(this.obj.mirror(t))}warp(t){return new e(this.obj.warp(t))}offset(t,r,o,i){return new e(this.obj.offset(t,r,o,i))}simplify(t){return new e(this.obj.simplify(t))}add(t){let r=t instanceof e?t.obj:t;return new e(this.obj.add(r))}subtract(t){let r=t instanceof e?t.obj:t;return new e(this.obj.subtract(r))}intersect(t){let r=t instanceof e?t.obj:t;return new e(this.obj.intersect(r))}static union(t,r){let o=r.map(i=>i instanceof e?i.obj:i);return new e(t.CrossSection.union(o))}static difference(t,r){let o=r.map(i=>i instanceof e?i.obj:i);return new e(t.CrossSection.difference(o))}static intersection(t,r){let o=r.map(i=>i instanceof e?i.obj:i);return new e(t.CrossSection.intersection(o))}hull(){return new e(this.obj.hull())}static hull(t,r){let o=r.map(i=>i instanceof e?i.obj:i);return new e(t.CrossSection.hull(o))}decompose(){return this.obj.decompose().map(t=>new e(t))}static compose(t,r){let o=r.map(i=>i instanceof e?i.obj:i);return new e(t.CrossSection.compose(o))}toPolygons(){return this.obj.toPolygons()}area(){return this.obj.area()}isEmpty(){return this.obj.isEmpty()}numVert(){return this.obj.numVert()}numContour(){return this.obj.numContour()}bounds(){return this.obj.bounds()}},xa=class e extends $1{transform(t){return new e(this.obj.transform(t))}translate(t,r,o){return new e(this.obj.translate(t,r,o))}rotate(t,r,o){return new e(this.obj.rotate(t,r,o))}scale(t){return new e(this.obj.scale(t))}mirror(t){return new e(this.obj.mirror(t))}warp(t){return new e(this.obj.warp(t))}smoothByNormals(t){return new e(this.obj.smoothByNormals(t))}smoothOut(t,r){return new e(this.obj.smoothOut(t,r))}refine(t){return new e(this.obj.refine(t))}refineToLength(t){return new e(this.obj.refineToLength(t))}refineToTolerance(t){return new e(this.obj.refineToTolerance(t))}setProperties(t,r){return new e(this.obj.setProperties(t,r))}calculateCurvature(t,r){return new e(this.obj.calculateCurvature(t,r))}calculateNormals(t,r){return new e(this.obj.calculateNormals(t,r))}add(t){return new e(this.obj.add(t.obj))}subtract(t){return new e(this.obj.subtract(t.obj))}intersect(t){return new e(this.obj.intersect(t.obj))}static union(t,r){let o=r.map(i=>i.obj);return new e(t.Manifold.union(o))}static difference(t,r){let o=r.map(i=>i.obj);return new e(t.Manifold.difference(o))}static intersection(t,r){let o=r.map(i=>i.obj);return new e(t.Manifold.intersection(o))}split(t){return this.obj.split(t.obj).map(r=>new e(r))}splitByPlane(t,r){return this.obj.splitByPlane(t,r).map(o=>new e(o))}trimByPlane(t,r){return new e(this.obj.trimByPlane(t,r))}slice(t){return new sc(this.obj.slice(t))}project(){return new sc(this.obj.project())}hull(){return new e(this.obj.hull())}static hull(t,r){let o=r.map(i=>i instanceof e?i.obj:i);return new e(t.Manifold.hull(o))}decompose(){return this.obj.decompose().map(t=>new e(t))}static compose(t,r){let o=r.map(i=>i.obj);return new e(t.Manifold.compose(o))}isEmpty(){return this.obj.isEmpty()}numVert(){return this.obj.numVert()}numTri(){return this.obj.numTri()}numEdge(){return this.obj.numEdge()}numProp(){return this.obj.numProp()}numPropVert(){return this.obj.numPropVert()}tolerance(){return this.obj.tolerance()}genus(){return this.obj.genus()}surfaceArea(){return this.obj.surfaceArea()}volume(){return this.obj.volume()}boundingBox(){let{min:[t,r,o],max:[i,n,s]}=this.obj.boundingBox();return{min:{x:t,y:r,z:o},max:{x:i,y:n,z:s}}}minGap(t,r){return this.obj.minGap(t.obj,r)}setTolerance(t){return this.obj.setTolerance(t)}simplify(t){return this.obj.simplify(t)}status(){return this.obj.status()}getMesh(t){return this.obj.getMesh(t)}asOriginal(){return new e(this.obj.asOriginal())}originalID(){return this.obj.originalID()}};var KF={square:function(e,t){return new sc(gn.CrossSection.square(e,t))},circle(e,t){return new sc(gn.CrossSection.circle(e,t))},union(e){return sc.union(gn,e)},difference(e){return sc.difference(gn,e)},intersection(e){return sc.intersection(gn,e)},hull(e){return sc.hull(gn,e)},compose(e){return sc.compose(gn,e)},ofPolygons(e,t){return e.length===0?sc.compose(gn,[]):new sc(gn.CrossSection.ofPolygons(e,t))}};function Loe(e,t){return new xa(gn.Manifold.cube(e,t))}var w2={cube:Loe,box:function(e){let{x:t,y:r,z:o}=g2(e);return Loe([t,r,o],!1).translate(e.min.x,e.min.y,e.min.z)},cylinder:function(e,t,r,o,i){return new xa(gn.Manifold.cylinder(e,t,r,o,i))},sphere(e,t){return new xa(gn.Manifold.sphere(e,t))},tetrahedron(){return new xa(gn.Manifold.tetrahedron())},ofMesh(e){return new xa(gn.Manifold.ofMesh(e))},smooth(e,t){return new xa(gn.Manifold.smooth(e,t))},levelSet(e,t,r,o,i){return new xa(gn.Manifold.levelSet(e,t,r,o,i))},union(e){return xa.union(gn,e)},difference(e){return xa.difference(gn,e)},intersection(e){return xa.intersection(gn,e)},hull(e){return xa.hull(gn,e)},compose(e){return xa.compose(gn,e)},reserveIDs(e){return gn.Manifold.reserveIDs(e)}};var Boe=[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1],gn=null;function Foe(e,t,r,o=!0){if(!t.countertop.enabled)throw new Error(`countertops disabled: ${t.id}`);let{size:i,cabinetType:n}=r,s=iP(n)?{kind:"L-shape",size:{...i,depth:i.width},opening:i.width-i.depth,handed:r.corner.side,bevel:0}:{kind:"box",size:i};return Voe(e,t,s,o)}function Woe(e,t,r=!0){if(!t.countertop.enabled)throw new Error(`countertops disabled: ${t.id}`);return Voe(e,t,t.shape,r)}function OUe(e,t){let{size:{width:r,height:o,depth:i}}=e,{thickness:n,overhang:{front:s,back:a,left:l,right:c}}=t,u;if(e.kind==="L-shape"){let{opening:p}=e,m=e.handed==="left",h=m?w2.cube([a+r+c,n,a+i-p+s]):w2.cube([l+r+a,n,a+i-p+s]),f=m?w2.cube([a+r-p+s,n,a+i+l]):w2.cube([a+r-p+s,n,a+i+c]);u=m?h.add(f).translate(-a,0,-a):h.translate(-l).add(f.translate(p-s)).translate(0,0,-a)}else u=w2.cube([l+r+c,n,a+i+s]).translate(-l,0,-a);return u.translate(0,o,0)}function LUe(e,t){let{size:{width:r,height:o,depth:i}}=e,{overhang:{front:n,back:s,left:a,right:l}}=t,c=[],u=(p,m)=>({x:p,y:o,z:m});if(e.kind==="L-shape"){let{opening:p}=e;e.handed==="left"?c=[u(-s,-s),u(r+l,-s),u(r+l,i-p+n),u(r-p+n,i-p+n),u(r-p+n,i+a),u(-s,i+a)]:c=[u(-a,-s),u(r+s,-s),u(r+s,i+l),u(p-n,i+l),u(p-n,i-p+n),u(-a,i-p+n)]}else{let p={plane:"xz",min:u(-a,-s),max:u(r+l,i+n)};c=f3(p)}return[c]}function Voe(e,t,r,o){let{position:{x:i,y:n,z:s},countertop:a}=t,l=OUe(r,a).translate(i,n,s),c=LUe(r,a).map(p=>p.map(m=>jp(m,t.position))),u=ya(e,t.id);if(o){let p=w5(u).invert().elements;l=l.intersect(BUe(e).transform(p));let m=ZF(u)*180/Math.PI,{x:h,z:f}=u.start,x=Uoe(e).translate(-h,-f).rotate(-m),v=FUe(c,"xz");c=WUe(v.intersect(x),"xz",c[0][0].y)}return{opts:a,geometry:l,outline:c,parentRefs:[g8(t)],combined:!1,frameRef:g8(u)}}function BUe(e){let t=eC(e.walls,r=>r.height).height;return Uoe(e).extrude(t).transform(Boe)}function Uoe(e){let t=e.walls.map(({start:{x:r,z:o}})=>[r,o]);return KF.ofPolygons(t)}var QF=()=>({enabled:!1,thickness:0,overhang:{front:0,back:0,left:0,right:0},finish:{color:{r:0,g:0,b:0},sheen:"matte"}});function FUe(e,t){let[r,o]=X4(t);return KF.ofPolygons(e.map(i=>i.map(n=>[n[r],n[o]])))}function WUe(e,t,r=0){let[o,i,n]=X4(t);return e.toPolygons().map(s=>s.map(([a,l])=>({[o]:a,[i]:l,[n]:r})))}function Roe(e,...t){return e.bind(null,...t)}function joe(e,t){let r=ya(e,t),i=[...Ks(e,t).bboxes],n=l=>Math.min(...l.map(c=>c.min.x)),s=r.children.filter(l=>l.id!==t).sort((l,c)=>n(l.bboxes)-n(c.bboxes)),a=[];for(;s.length>0&&i.length>0;){let l=s.shift(),c=l.bboxes;i=i.filter(m=>m.max.x>n(c));let u=0;i.forEach(m=>{if(c.some(Roe(Ite,m))){let h=m.max.x-n(c);c=J4(c,{x:h,y:0,z:0}),u+=h}});let p=i.findIndex(m=>m.min.x>n(c));i.splice(p,0,...c),u>0&&a.push({id:l.id,shift:{x:u,y:0,z:0}})}return a}function Goe(e,t,r){let o=null,i=[];if(e.reduce((c,u)=>c+u.max[r]-u.min[r],0)===0)return t.map(c=>MP(c,r));let s=Number.POSITIVE_INFINITY,a=gL(r);t=[...t].sort((c,u)=>c.min[r]-u.min[r]);let l=e.map(c=>{let u=t.filter(h=>x2(c,h,a)&&x2(c,h,"z")).map(h=>MP(h,r)),[p,m]=u.reduce(([h,f],x)=>(x.min==Number.NEGATIVE_INFINITY?f.push(x):h.push(x),[h,f]),[[],[]]);return{cursor:MP(c,r),current:m,nextOffset:Number.POSITIVE_INFINITY,upcoming:p,cleared:!1}});for(l.some(c=>c.current.length>0)?(o={min:Number.NEGATIVE_INFINITY,axis:r},l.forEach(c=>{s=Math.min(s,Math.min(...c.current.map(u=>u.max))-c.cursor.max)})):s=Math.min(...l.flatMap(c=>c.upcoming.map(u=>u.min-c.cursor.max)));s<Number.POSITIVE_INFINITY;){if(l.forEach(c=>{c.cursor.min+=s,c.cursor.max+=s,c.nextOffset=Number.POSITIVE_INFINITY;let u=c.current.length>0;if(c.current=c.current.filter(p=>p.max>c.cursor.min),c.cleared=u&&c.current.length==0,c.nextOffset=Math.min(c.nextOffset,...c.current.map(p=>p.max-c.cursor.min)),c.upcoming.length>0&&c.upcoming[0].min<c.cursor.max)throw new Error("Missed an upcoming range: "+c.upcoming[0].min+" "+c.cursor.max);for(;c.upcoming.length>0&&c.upcoming[0].min==c.cursor.max;){let p=c.upcoming.shift();c.nextOffset=Math.min(c.nextOffset,p.max-c.cursor.min),c.current.push(p)}c.upcoming.length>0&&(c.nextOffset=Math.min(c.nextOffset,c.upcoming[0].min-c.cursor.max))}),s=Math.min(...l.map(c=>c.nextOffset)),s<=0)throw new Error("Next offset is should be a positive number, not "+s);if(l.every(c=>c.cleared||c.current.length==0)&&o){let c=Math.min(...l.map(u=>u.cursor.min));c>o.min&&i.push({...o,max:c}),o=null}if(l.some(c=>c.current.length>0)&&!o&&(o={min:Math.max(...l.filter(c=>c.current.length>0).map(c=>c.cursor.max)),axis:r}),s==Number.POSITIVE_INFINITY&&o){let c=Math.max(...l.flatMap(u=>u.current.map(p=>p.max)));c>o.min&&i.push({...o,max:c})}}return i}function UUe(e,t,r,o){return Hoe(e,"boundary",t,r,o)}function eW(e,t,r){return Hoe(e,"virtual",t,r,0)}function Hoe(e,t,r,o,i){return{id:Tt(),kind:"wall",name:e,style:t,start:em(r),end:em(o),height:i,children:[]}}function zoe(e,t){let[r,o]=bl.fromDims(e,"UpY").bottom().edge(t);return UUe(`${vr.capitalize(t)} Wall`,r,o,e.height)}function Xoe(e,t,r,o,i,n,s,a=0){let l=sm(e,t),c=Gp(l.end,l.start),u=l.style==="virtual"&&(c.x<0||c.z<0),p=structuredClone(i);a&&(p.size.depth+=a);let m=w3(e,t,p,{kind:"cabinet",vertical:n,horizontal:{anchor:u?"max":"min",where:"append"}});return RUe(e,t,r,o,i,m,s)}function ew(e,t,r,o,i,n,s){let a=w3(e,t,i,{kind:"appliance",vertical:n,horizontal:{anchor:"min",where:"append"}}),l=sm(e,t),c={id:r,kind:o,cabinetNumber:999,position:em(a),shape:fn(i),bboxes:P2(i,a),countertop:fn(s)};return l.children.push(c),c}function RUe(e,t,r,o,i,n,s){let a=sm(e,t),l={id:r,kind:"cabinet",cabinetNumber:o,position:em(n),shape:structuredClone(i),bboxes:P2(i,n),countertop:s};return a.children.push(l),l}function tw(e,t,r,o,i,n){let s=Eoe(e,t),a={id:o,kind:r,position:em(n),shape:{kind:"box",size:i.size},bboxes:P2(i,n),countertop:QF()};return s.children.push(a),a}function w3(e,t,r,o){let{vertical:{baseline:i,basis:n,align:s},horizontal:{anchor:a}}=o,l=p2(a),c=$F(sm(e,t)),u=bl.from(Ooe(r,{x:0,y:i,z:0}),"UpY");u.alignTo(c,{x:a});let p=2|(a==="max"?8:4),h=JF(e,t,p).flatMap(T=>T.bboxes).filter(T=>x2(T,u,"z")),f=36,[x,v]=tc(h,T=>T.min.y<f),b={floor:x,wall:v}[n];if(s==="none"&&(b=b.filter(T=>x2(T,u,"y"))),b.length>0){let T=aL(b,A=>A[a].x,l);u.abutTo(T,{x:a}),s!=="none"&&u.alignSide(T,s)}let S=h.filter(T=>x2(T,u,"y")),w=Goe([u],S,"x"),_=w.find(T=>sF(u,T));_&&u.abutToRange(_,{x:a});let E={min:{...qB,x:c.min.x},max:{...YB,x:c.max.x}};if(w.length>0&&!y2(u,E)){let T=aL(w,A=>A[l],a);u.abutToRange(T,{x:a})}return u.min.json()}function Yoe(e,t){let r=h8(e,t,4)[0],o=h8(e,t,8)[0];return{prev:r,next:o}}var FFt=wte.bind(null,"xz");function qoe(e){let t=r=>zoe(e,r);return{id:Tt(),kind:"room",walls:[t("back"),t("right"),t("front"),t("left")],interior:[]}}function tW(e,t){let r=ya(e,t.id),o=w5(r),i=Nf(Q4(t.bboxes),o),n=1e-12,s={width:-n,height:-n,depth:-n},a=P3(e).inset(s);return!y2(i,a)}function $oe(e,t){let r=ya(e,t);r.children=r.children.filter(o=>o.id!==t)}function rw(e,t,r){let o=Ks(e,t);return o.position=Df(o.position,r),o.bboxes=J4(o.bboxes,_P(r,0)),o}function Zoe(e,t,r){let o=Ks(e,t),{x:i=o.position.x,y:n=o.position.y,z:s=o.position.z}=r;return rw(e,t,Gp({x:i,y:n,z:s},o.position))}function GUe(e,t){return{id:Tt(),kind:"island",walls:[eW("Island Side 1",e,t),eW("Island Side 2",t,e)]}}function Joe(e){return e.interior[0]}function ow(e){if(Joe(e))throw new Error("island already exists");let t=P3(e),r={x:t.min.x+t.width/4,y:0,z:t.center().z},o={x:t.max.x-t.width/4,y:0,z:t.center().z},i=GUe(r,o);return e.interior=[i],i}function rW(e){if(!Joe(e))throw new Error("no island to delete");e.interior=[]}function Koe(){let e={width:192,depth:180,height:96},t=qoe(e);return ow(t),{dimensions:e,floorplan:t}}var zUe=()=>{let e=Koe();return rW(e.floorplan),{loaded:!1,all:{},room:e,projectDefaults:{construction:{method:"butt-joints",topPanelStyle:"stretchers",thickness:.75,materialId:void 0},toekick:{enabled:!0,depth:ve.toekick.depth,height:ve.toekick.height},door:{thickness:.75,undersize:.125},back:{construction:{method:"inset"},offset:0,thickness:.75,stretchers:{enabled:!1,construction:{method:"butt-joints"}}},finishes:{box:{color:null,sheen:"matte"},front:{color:null,sheen:"matte"},handle:{color:{r:17,g:17,b:17},displayName:"Black",sheen:"matte"}},shelves:{thickness:.75},drawers:{reveal:.125,thickness:.5,bottom:{thickness:.5}},drawerItems:{topHeight:6},frame:{style:"frameless",railWidths:{top:1.5,middle:1.5,bottom:1.5},stileWidths:{outside:1.5,center:1.5},material:{thickness:ve.frame.defaultMaterial.thickness}},front:{face:{style:"plain",depth:y5.configurationDefaults.front.face.depth,borderWidth:y5.configurationDefaults.front.face.borderWidth,frameWidth:y5.configurationDefaults.front.face.frameWidth,rabbetDepth:y5.configurationDefaults.front.face.rabbetDepth,rabbetWidth:y5.configurationDefaults.front.face.rabbetWidth}},countertops:{enabled:!0,thickness:1.5,overhang:{front:1.5,back:0,left:0,right:0},finish:{color:{r:227,g:221,b:215},displayName:"Light Greige",sheen:"matte"}}},manufacture:{method:"cnc",cnc:{safetyHeight:.15,padding:.5,margin:1},tablesaw:{kerf:.125},panelFilter:{boxes:!0,backs:!0,drawerPanels:!0,drawerFaces:!0,doors:!0,shelves:!0,strips:!0,faceFrames:!1},mountingOpFilter:{drawerSlides:!0,doorHinges:!0,shelfPins:!0,pulls:!0},workpieceGeneration:"replace"},stocks:[]}};function _3(e){return"blocks"in e}function iw(e){return"drawers"in e}function b8(e){return"drawerItems"in e&&!e.blocks}function XUe(e){return"shelfItems"in e&&!e.blocks}function YUe(e){return"doorItems"in e}var tr=We({name:"cabinets",initialState:zUe(),reducers:{loadCabinetry(e,{payload:t}){e.room=le(e.room,t.room||{});let r=YF(e.room.floorplan),o=Object.fromEntries(r.map(n=>[n.cabinetNumber,n.id])),i=t.cabinets.slice();e.all=Object.fromEntries(i.map(n=>{let s=o[n.configuration.cabinetNumber];return s?sw(e,s,n.configuration):s=Tt(),[s,{...n,id:s}]}));for(let n of Wf(e.room.floorplan))n.kind!=="cabinet"&&_2(e,n.id);e.manufacture=le(e.manufacture,t.manufacture),e.frame=le(e.frame,t.frame),e.projectDefaults=le(e.projectDefaults,t.defaults?.project??{}),e.stocks=le(e.stocks,t.stocks??[]),e.loaded=!0},updateDefaultProperty:{prepare:(e,t)=>{let r=nw[e];if(!r)throw new Error(`invalid-default-keypath: ${e}`);return{payload:{...r,keypath:e,value:t}}},reducer:(e,{payload:{keypath:t,value:r}})=>{Qoe(e,t,r)}},updateDefaultProperties:{prepare:(e,t)=>(e.forEach(({keypath:r})=>{if(!nw[r])throw new Error(`invalid-default-keypath: ${r}`)}),{payload:{properties:e,undoDescription:t}}),reducer:(e,{payload:{properties:t}})=>{t.forEach(r=>Qoe(e,r.keypath,r.value))}},updateCabinetProperty:{prepare:(e,t,r)=>{let o=eie[t];if(!o)throw new Error(`invalid-cabinet-keypath: ${t}`);return{payload:{...o,ids:e,keypath:t,value:r}}},reducer:(e,{payload:{ids:t,keypath:r,value:o}})=>(t.forEach(i=>{_5(e,`all.${i}.configuration.${r}`,o),x8(e,{id:i,keypath:r})}),e)},updateCabinetProperties:{prepare:(e,t)=>{let r=t.map(({keypath:o,value:i},n)=>{let s=eie[o];if(!s)throw new Error(`invalid-cabinet-keypath: ${o}`);return{...s,id:e[n],keypath:o,value:i}});return{payload:{ids:e,properties:r}}},reducer:(e,{payload:{ids:t,properties:r}})=>(t.forEach(o=>{r.forEach(({keypath:i,value:n})=>{_5(e,`all.${o}.configuration.${i}`,n),x8(e,{id:o,keypath:i})})}),e)},updateIndexedProperty:{prepare:(e,t,r,o)=>{let i=KUe[t];if(!i)throw new Error(`invalid-indexed-keypath: ${t}`);return{payload:{...i,ids:e,keypath:t.replace("#",r.toString()),index:r,value:o}}},reducer:(e,{payload:{ids:t,keypath:r,value:o,index:i}})=>(t.forEach(n=>{_5(e,`all.${n}.configuration.${r}`,o),x8(e,{id:n,keypath:r,index:i})}),e)},updateMoveableProperty:{prepare:(e,t,r)=>({payload:{ids:e,property:t,value:r,undoDescription:"Set Moveable Property"}}),reducer:(e,{payload:{ids:t,property:r,value:o}})=>{for(let i of t){let n=Ks(e.room.floorplan,i);_5(n,r,o),_2(e,i)}}},setBoxDimension:{prepare:(e,t,r)=>({payload:{ids:e,dim:t,value:r,undoDescription:"Set Box Dimension"}}),reducer:(e,{payload:{ids:t,dim:r,value:o}})=>{for(let i of t){let n=Ks(e.room.floorplan,i);if(n.kind==="cabinet"){let s=`size.${r}`;_5(e,`all.${i}.configuration.${s}`,o),x8(e,{id:i,keypath:s})}else _5(n,`shape.size.${r}`,o),_2(e,i)}}},resetDrawerDimensions:{prepare:e=>({payload:{ids:e,undoDescription:"Reset Drawer Dimensions"}}),reducer:(e,{payload:{ids:t}})=>(t.forEach(r=>{let o=e.all[r].configuration;if(iw(o)){let i=cr.standardDrawerDepth(o);if(o.drawers.depth=i,o.drawers.width=void 0,b8(o)){let n=cr.idealDrawerHeights(o).map((s,a)=>({height:s,locked:a===0}));o.drawerItems.items=n}}}),e)},subdivideRoomWall:{prepare:(e,t)=>({payload:{wallId:e,point:t,undoDescription:"Set room boundary"}}),reducer:(e,{payload:{wallId:t,point:r}})=>{let o=e.room.floorplan.walls,i=o.findIndex(n=>n.id===t);if(i>=0){let n=o[i];o.splice(i+1,0,{...n,id:Tt(),name:`Wall #${o.length+1}`,start:{...r,y:0},end:{...n.end},children:[]}),n.end={...r,y:0}}}},collapseRoomWall:{prepare:e=>({payload:{wallId:e,undoDescription:"Set room boundary"}}),reducer:(e,{payload:{wallId:t}})=>{let r=e.room.floorplan.walls;if(r.length<=3)return;let o=r.findIndex(i=>i.id===t);if(o>=0){let i=r[o],n=r[(o+r.length-1)%r.length];r.splice(o,1),n.end=i.end,n.children=[...n.children,...i.children]}}},renameWall:{prepare:(e,t)=>({payload:{wallId:e,newName:t,undoDescription:"Rename wall"}}),reducer:(e,{payload:{wallId:t,newName:r}})=>{let o=e.room.floorplan.walls,i=o.findIndex(n=>n.id===t);if(i>=0){let n=o[i];n.name=r}}},dragRoomBoundary:{prepare:(e,t)=>({payload:{wallIds:e,distance:t}}),reducer:(e,{payload:{wallIds:t,distance:r}})=>{let o=new Set(t),i=s=>{s.forEach((a,l)=>{if(o.has(a.id)){let c=s[l],u=s[(l+s.length-1)%s.length];c.start=Df(c.start,r),u.end=Df(u.end,r)}})},n={...e.room.floorplan,walls:e.room.floorplan.walls.map(s=>({...s})),interior:e.room.floorplan.interior.map(s=>({...s,walls:s.walls.map(a=>({...a}))}))};i(n.walls),n.interior.map(s=>s.walls).forEach(i),e.draggingFloorplan=n}},clearRoomBoundaryDrag:e=>{delete e.draggingFloorplan},moveRoomBoundary:{prepare:(e,t)=>({payload:{wallIds:e,distance:t,undoDescription:"Set room boundary"}}),reducer:(e,{payload:{wallIds:t,distance:r}})=>{let o=new Set(t),i=n=>{n.forEach((s,a)=>{if(o.has(s.id)){let l=n[a],c=n[(a+n.length-1)%n.length];l.start=Df(l.start,r),c.end=Df(c.end,r)}})};i(e.room.floorplan.walls),e.room.floorplan.interior.map(n=>n.walls).forEach(i)}},setRoomHeight:{prepare:e=>({payload:{height:e,undoDescription:"Set Room Height"}}),reducer:(e,{payload:{height:t}})=>{e.room.dimensions.height=t,e.room.floorplan.walls.forEach(r=>r.height=t)}},addIsland:{prepare:()=>({payload:{undoDescription:"Add Island"}}),reducer:({room:e})=>{ow(e.floorplan)}},deleteIsland:{prepare:()=>({payload:{undoDescription:"Delete Island"}}),reducer:({room:e})=>{rW(e.floorplan)}},setSafetyHeight:(e,{payload:t})=>{e.manufacture.cnc.safetyHeight=t},setManufacturingMethod:(e,{payload:t})=>{e.manufacture.method=t},setStocks:(e,{payload:t})=>{t?e.stocks=t:console.error("Called setStocks with no stocks")},setStockJobSettings:{prepare:(e,t,r)=>({payload:{materialId:e,thickness:t,jobSettings:r}}),reducer:(e,{payload:{materialId:t,thickness:r,jobSettings:o}})=>{let i=e.stocks.findIndex(n=>n.materialId===t&&n.thickness===r);if(i<0||!o||o.stepOver===void 0||!(0<o.stepOver&&o.stepOver<=1))return e;e.stocks[i].cncJobSettings=o}},setNestPadding:(e,{payload:t})=>{e.manufacture.cnc.padding=t},setNestMargin:(e,{payload:t})=>{e.manufacture.cnc.margin=t},setNestKerf:(e,{payload:t})=>{e.manufacture.tablesaw.kerf=t},setNestPanelFilter:(e,{payload:t})=>{e.manufacture.panelFilter=t},setNestMountingOpFilter:(e,{payload:t})=>{e.manufacture.mountingOpFilter=t},moveMoveable:{prepare:(e,t)=>({payload:{selected:e,move:t,undoDescription:"Move moveable"}}),reducer:(e,t)=>{let{move:r,selected:o}=t.payload;for(let i of o)rw(e.room.floorplan,i,r)}},positionCabinet:{prepare:(e,t)=>({payload:{selected:e,point:t,undoDescription:"Position cabinet"}}),reducer:(e,t)=>{let{point:r,selected:o}=t.payload;for(let i of o)Zoe(e.room.floorplan,i,r)}},createCabinet:{prepare:(e,t)=>({payload:{id:Tt(),configuration:e,wallId:t,undoDescription:"Create cabinet"}}),reducer:(e,t)=>{let{id:r,wallId:o}=t.payload,i=qUe(e,r,t.payload.configuration);nW(e,r,i,o)}},createFloorplanFenestration:{prepare:(e,t)=>({payload:{id:Tt(),wallId:t,configuration:e,undoDescription:"Create door/window"}}),reducer:(e,t)=>{let{id:r,wallId:o,configuration:{size:i,cabinetType:n}}=t.payload,s={kind:"box",size:i},a=w3(e.room.floorplan,o,s,iW(e,void 0,n));tw(e.room.floorplan,o,n,r,s,a)}},deleteFloorplanMoveable:{prepare:e=>({payload:{ids:e,undoDescription:"Delete cabinet"}}),reducer:(e,t)=>{for(let r of t.payload.ids)e.all[r]&&ZUe(e,r),$oe(e.room.floorplan,r)}},copyFloorplanCabinetToWall:{prepare:(e,t)=>({payload:{sourceId:e,wallId:t,undoDescription:"Duplicate cabinet"}}),reducer:(e,t)=>{let{sourceId:r,wallId:o}=t.payload,{id:i,configuration:n}=$Ue(e,r),s=QP(e.room.floorplan,r),a={baseline:s.position.y,align:"none"};nW(e,i,n,o,a,s.countertop)}},moveFloorplanCabinetToWall:{prepare:(e,t)=>({payload:{id:e,wallId:t,undoDescription:"Move cabinet to wall"}}),reducer:(e,t)=>{let{id:r,wallId:o}=t.payload,i=QP(e.room.floorplan,r),n=ya(e.room.floorplan,r),s={baseline:i.position.y};nW(e,r,e.all[r].configuration,o,s,i.countertop),n.children=n.children.filter(a=>a.id!==r)}},copyFloorplanMoveableToWall:{prepare:(e,t)=>({payload:{id:e,wallId:t,undoDescription:"Duplicate moveable"}}),reducer:(e,t)=>{let{id:r,wallId:o}=t.payload,i=Ks(e.room.floorplan,r),n=w3(e.room.floorplan,o,i.shape,iW(e,r));tw(e.room.floorplan,o,i.kind,Tt(),i.shape,n)}},moveFloorplanMoveableToWall:{prepare:(e,t)=>({payload:{id:e,wallId:t,undoDescription:"Move moveable to wall"}}),reducer:(e,t)=>{let{id:r,wallId:o}=t.payload,i=Ks(e.room.floorplan,r),n=w3(e.room.floorplan,o,i.shape,iW(e,r)),s=ya(e.room.floorplan,r);tw(e.room.floorplan,o,i.kind,r,i.shape,n),s.children=s.children.filter(a=>a.id!==r)}},createFloorplanAppliance:{prepare:(e,t)=>({payload:{id:Tt(),wallId:t,configuration:e,undoDescription:"Create appliance"}}),reducer:(e,t)=>{let{id:r,wallId:o,configuration:i}=t.payload,n=fn(e.projectDefaults.countertops);n.enabled=i.cabinetType==="dishwasher";let s={kind:"box",size:i.size},a={basis:"floor",align:"bottom",baseline:0};ew(e.room.floorplan,o,r,i.cabinetType,s,a,n),_2(e,r)}},copyFloorplanApplianceToWall:{prepare:(e,t)=>({payload:{id:e,wallId:t,undoDescription:"Duplicate appliance"}}),reducer:(e,{payload:{id:t,wallId:r}})=>{let{shape:o,kind:i,countertop:n}=qF(e.room.floorplan,t),s={basis:"floor",align:"bottom",baseline:0};ew(e.room.floorplan,r,Tt(),i,o,s,n),_2(e,t)}},moveFloorplanApplianceToWall:{prepare:(e,t)=>({payload:{id:e,wallId:t,undoDescription:"Move appliance to wall"}}),reducer:(e,{payload:{id:t,wallId:r}})=>{let{shape:o,countertop:i,kind:n}=qF(e.room.floorplan,t),s={basis:"floor",align:"bottom",baseline:0},a=ya(e.room.floorplan,t);ew(e.room.floorplan,r,t,n,o,s,i),_2(e,t),a.children=a.children.filter(l=>l.id!==t)}},addBlock:{prepare:(e,t)=>({payload:{cabinetId:e,tag:t,undoDescription:"Add cabinet block"}}),reducer:(e,{payload:{cabinetId:t,tag:r}})=>{let o=e.all[t].configuration;if(_3(o)){let i=OB(r,o.cabinetType);o.blocks.length===0&&(r==="drawer"||r==="false-front")&&(i.height=o.drawerItems?.topHeight??null),o.blocks.push(i)}}},removeBlock:{prepare:(e,t)=>({payload:{cabinetId:e,blockIndex:t,undoDescription:"Remove cabinet block"}}),reducer:(e,{payload:{cabinetId:t,blockIndex:r}})=>{let o=e.all[t].configuration;_3(o)&&o.blocks.splice(r,1)}},updateBlockHeight:{prepare:(e,t,r)=>({payload:{cabinetId:e,blockIndex:t,height:r,undoDescription:"Update block height"}}),reducer:(e,{payload:{cabinetId:t,blockIndex:r,height:o}})=>{let i=e.all[t].configuration;_3(i)&&r>=0&&r<i.blocks.length&&(i.blocks[r].height=o)}},setBlockType:{prepare:(e,t,r)=>({payload:{cabinetId:e,blockIndex:t,tag:r,undoDescription:"Change block type"}}),reducer:(e,{payload:{cabinetId:t,blockIndex:r,tag:o}})=>{let i=e.all[t].configuration;_3(i)&&r>=0&&r<i.blocks.length&&(i.blocks[r]=OB(o,i.cabinetType,i.blocks[r]))}},updateBlockProperties:{prepare:(e,t,r)=>({payload:{cabinetId:e,blockIndex:t,properties:r,undoDescription:"Update block properties"}}),reducer:(e,{payload:{cabinetId:t,blockIndex:r,properties:o}})=>{let i=e.all[t].configuration;_3(i)&&r>=0&&r<i.blocks.length&&(i.blocks[r]={...i.blocks[r],...o})}},reorderBlock:{prepare:(e,t,r)=>({payload:{cabinetId:e,blockIndex:t,newIndex:r,undoDescription:"Change block order"}}),reducer:(e,{payload:{cabinetId:t,blockIndex:r,newIndex:o}})=>{let i=e.all[t].configuration;if(_3(i)&&r>=0&&r<i.blocks.length){let[n]=i.blocks.splice(r,1);i.blocks.splice(o,0,n)}}}},extraReducers:e=>{e.addCase(Ha.actions.createCutList,(t,r)=>{let o={};for(let i of Object.values(t.all))o[i.configuration.cabinetNumber]=i.id;r.payload.cutList.cabinets.forEach(i=>{t.all[o[i.cabinetNumber]].manufactured=!0})}),e.addCase(Vr("materials/loadAllMaterials"),(t,{payload:r})=>{var o;(o=t.projectDefaults.construction).materialId??(o.materialId=ot.defaultMaterial(r).id)})}});function Qoe(e,t,r){let i=nw[t].includeTypes;_5(e.projectDefaults,t,r);for(let{id:n,configuration:s}of Object.values(e.all))(j$(s,t)||i?.includes(s.cabinetType))&&(_5(s,t,r),x8(e,{id:n,keypath:t}));if(t.startsWith("countertops."))for(let n of Wf(e.room.floorplan)){let{enabled:s,overhang:a}=n.countertop;n.countertop=fn(e.projectDefaults.countertops),n.countertop.enabled=s,n.countertop.overhang.back=a.back,n.countertop.overhang.left=a.left,n.countertop.overhang.right=a.right,_2(e,n.id)}}function tie(e){return e.size.height>=48}function qUe(e,t,r){let o={...e.projectDefaults};tie(r)&&(o.construction={...o.construction,topPanelStyle:"solid"});let i=Math.max(0,...Object.values(e.all).map(n=>n.configuration.cabinetNumber))+1;return r=le(r,o,{cabinetNumber:i}),b8(r)&&[...Te.supportsDrawers,...Te.supportsFalseFronts].includes(r.cabinetType)&&(r.drawerItems.items=cr.idealDrawerHeights(r).map((n,s)=>({height:n,locked:s===0}))),e.all[t]={id:t,configuration:r,manufactured:!1},r}function $Ue(e,t){let r=e.all[t].configuration,o=Object.values(e.all).map(n=>n.configuration.cabinetNumber),i={id:Tt(),configuration:le(r),manufactured:!1};return i.configuration.cabinetNumber=Math.max(0,...o)+1,e.all[i.id]=i,i}function ZUe(e,t){delete e.all[t]}function iW(e,t,r){let o=t?Ks(e.room.floorplan,t):r=="window"?{kind:r,position:{x:0,y:48,z:0}}:{kind:r,position:{x:0,y:0,z:0}};return{kind:o.kind,horizontal:{anchor:"min",where:"append"},vertical:{basis:"wall",align:"none",baseline:o.position.y}}}function nW(e,t,r,o,i,n){let{floorplan:s}=e.room,a=rie(r),{cabinetType:l,cabinetNumber:c}=r,u=Te.cornerTypes.includes(l);n==null&&(n=fn(e.projectDefaults.countertops),n.enabled=Te.baseTypes.includes(l)&&!tie(r));let p=0,m=yF(r);if(m&&!u){let{width:v}=a.size;p=m.swing==="both"?v/2:v}let h=Te.baseTypes.includes(l)?"floor":"wall",f={basis:h,align:i?.align??"bottom",baseline:i?.baseline??(h==="floor"?0:54)},x=Xoe(s,o,t,c,a,f,n,p);u&&x.position.x===0&&(r.corner.side="left",x.shape.kind==="L-shape"&&(x.shape.handed="left")),sw(e,t,r)}function sw(e,t,r){let o=QP(e.room.floorplan,t),i=rie(r);if(o.shape=i,o.bboxes=P2(o.shape,o.position),e.projectDefaults.countertops.enabled&&o.countertop.enabled){let n=Foe(e.room.floorplan,o,r);o.bboxes.push(n.geometry.boundingBox())}}function _2(e,t){let r=Ks(e.room.floorplan,t);if(r.kind==="cabinet")sw(e,t,e.all[t].configuration);else if(r.bboxes=P2(r.shape,r.position),e.projectDefaults.countertops.enabled&&r.countertop.enabled){let o=Woe(e.room.floorplan,r);r.bboxes.push(o.geometry.boundingBox())}}function rie(e){let t=vF(e),r=gF(e).carcass.contents.map(i=>i.tag==="doors"&&i.type==="overlay"?i.material.thickness:0),o=Math.max(0,...r);return(t.kind==="box"||t.kind==="blind-box")&&(t.size.depth+=o),t}function _5(e,t,r){let o=t.split("."),i=e;for(let n=0;n<o.length-1;n++)i[o[n]]||(i[o[n]]={}),i=i[o[n]];i[o[o.length-1]]=r}function x8(e,{id:t,keypath:r,index:o}){var l,c,u;let{configuration:i}=e.all[t],{cabinetType:n,front:s,corner:a}=i;switch(o!=null&&(r=r.replace(`.${o}.`,".#.")),r){case"construction.thickness":case"door.thickness":case"door.type":case"size.depth":case"size.height":case"size.width":sw(e,t,i)}switch(r){case"front.face.style":s?.face.style===ve.frontStyles.glass&&((l=s.face).frameWidth??(l.frameWidth=2.5),(c=s.face).rabbetDepth??(c.rabbetDepth=.25),(u=s.face).rabbetWidth??(u.rabbetWidth=.25));case"front.face.depth":case"door.thickness":case"construction.thickness":s?.face.style===ve.frontStyles.shaker?s.face.depth=Math.min(s.face.depth,cr.maxShakerDoorPocketDepth(i)):s?.face.style===ve.frontStyles.glass&&(s.face.rabbetDepth=Math.min(s.face.rabbetDepth,cr.maxGlassDoorRabbetDepth(i)));break;case"frame.style":case"frame.railWidths.middle":case"drawerItems.count":b8(i)&&Te.supportsVariableDrawers.includes(n)&&(i.drawerItems.items=cr.idealDrawerHeights(i).map((p,m)=>({height:p,locked:m===0})));break;case"drawerItems.topHeight":Te.supportsBlocks.includes(n)&&(i.blocks?.[0]?.tag==="drawer"||i.blocks?.[0]?.tag==="false-front")&&(i.blocks[0].height=i.drawerItems.topHeight);case"size.height":case"frame.railWidths.bottom":case"frame.railWidths.top":case"toekick.enabled":case"toekick.height":case"door.type":b8(i)&&[...Te.supportsDrawers,...Te.supportsFalseFronts].includes(n)&&(o=0,i.drawerItems.items[0].height=cr.topDrawerHeight(i));case"drawerItems.items.#.height":if(b8(i)&&Te.supportsVariableDrawers.includes(n)){let p=cr.useableDrawerHeight(i),m=0,h=[];i.drawerItems.items.forEach((f,x)=>{f.locked||x===o?m+=f.height:h.push(f)}),h.forEach(f=>f.height=(p-m)/h.length)}break;case"frame.stileWidths.outside":case"size.width":iw(i)&&Te.supportsDrawers.includes(n)&&delete i.drawers.width,joe(e.room.floorplan,t).forEach(({id:m,shift:h})=>{rw(e.room.floorplan,m,h)});break;case"drawers.thickness":iw(i)&&Te.supportsDrawers.includes(n)&&delete i.drawers.width;case"size.depth":if(iw(i)&&Te.supportsDrawers.includes(n)){let p=cr.minDrawerDepth(i),m=cr.maxDrawerDepth(i),h=cr.standardDrawerDepth(i),f=i.drawers;(f.depth<p||m<f.depth||Math.abs(f.depth-h)>=2)&&(f.depth=h)}break;case"shelfItems.numFixed":if(XUe(i)){let p=i.shelfItems;p.fixed||(p.fixed=[]),p.fixed.length<p.numFixed?p.fixed.splice(p.fixed.length,0,...Array(p.numFixed-p.fixed.length).fill(void 0).map(()=>({offset:0}))):p.fixed.splice(0,p.fixed.length-p.numFixed)}break;case"corner.side":YUe(i)&&Te.supportsOpening.includes(n)&&(i.doorItems.swing=a?.side==="left"?"left":"right");break}}var JUe={setCabinetName(e,t){return tr.actions.updateCabinetProperty([e],"name",t)},setBoxWidth(e,t){return tr.actions.setBoxDimension(e,"width",t)},setBoxHeight(e,t){return tr.actions.setBoxDimension(e,"height",t)},setBoxDepth(e,t){return tr.actions.setBoxDimension(e,"depth",t)},setDoorType(e,t){return tr.actions.updateCabinetProperty(e,"door.type",t)},setDoorHingesEnabled(e,t){return tr.actions.updateCabinetProperty(e,"door.hinges.enabled",t)},setDoorPullStyle(e,t){return tr.actions.updateCabinetProperty(e,"door.pull.style",t)},setDoorPullSpacing(e,t){return tr.actions.updateCabinetProperty(e,"door.pull.spacing",t)},setDoorPullOffsetX(e,t){return tr.actions.updateCabinetProperty(e,"door.pull.offsetX",t)},setDoorPullOffsetY(e,t){return tr.actions.updateCabinetProperty(e,"door.pull.offsetY",t)},setDoorSwing(e,t){return tr.actions.updateCabinetProperty(e,"doorItems.swing",t)},setIncludesDoor(e,t){return tr.actions.updateCabinetProperty(e,"doorItems.includesDoor",t)},setCornerSide(e,t){return tr.actions.updateCabinetProperty(e,"corner.side",t)},setOpeningWidth(e,t){return tr.actions.updateCabinetProperty(e,"door.openingWidth",t)},setBackOffset(e,t){return tr.actions.updateCabinetProperty(e,"back.offset",t)},setBackStretchersEnabled(e,t){return tr.actions.updateCabinetProperty(e,"back.stretchers.enabled",t)},setBackStretchersConstructionMethod(e,t){return tr.actions.updateCabinetProperty(e,"back.stretchers.construction.method",t)},setNumShelves(e,t){return tr.actions.updateCabinetProperty(e,"shelfItems.numShelves",t)},setNumFixedShelves(e,t){return tr.actions.updateCabinetProperty(e,"shelfItems.numFixed",t)},setFixedShelfOffset(e,t,r){return tr.actions.updateIndexedProperty(e,"shelfItems.fixed.#.offset",t,r)},setIncludeShelfPinHoles(e,t){return tr.actions.updateCabinetProperty(e,"shelves.includePinHoles",t)},setFullRun(e,t){return tr.actions.updateCabinetProperty(e,"shelves.fullRun",t)},setDrawerItemsCount(e,t){return tr.actions.updateCabinetProperty(e,"drawerItems.count",t)},setDrawerDepth(e,t){return tr.actions.updateCabinetProperty(e,"drawers.depth",t)},setDrawerWidth(e,t){return tr.actions.updateCabinetProperty(e,"drawers.width",t)},setDrawerItemHeight(e,t,r){return tr.actions.updateIndexedProperty(e,"drawerItems.items.#.height",t,r)},setDrawerItemLocked(e,t,r){return tr.actions.updateIndexedProperty(e,"drawerItems.items.#.locked",t,r)},setDrawerPullStyle(e,t){return tr.actions.updateCabinetProperty(e,"drawers.pull.style",t)},setDrawerPullSpacing(e,t){return tr.actions.updateCabinetProperty(e,"drawers.pull.spacing",t)},setDrawerPullOffsetY(e,t){return tr.actions.updateCabinetProperty(e,"drawers.pull.offsetY",t)},setDrawerItemsFalseFront(e,t){return tr.actions.updateCabinetProperty(e,"drawerItems.falseFront",t)},setDrawerSlidesEnabled(e,t){return tr.actions.updateCabinetProperty(e,"drawers.slides.enabled",t)},setSinkStretcherStyle(e,t){return tr.actions.updateCabinetProperty(e,"construction.sinkStretcherStyle",t)},setMoveableWidth(e,t){return tr.actions.updateMoveableProperty(e,"shape.size.width",t)},setMoveableHeight(e,t){return tr.actions.updateMoveableProperty(e,"shape.size.height",t)},setMoveableDepth(e,t){return tr.actions.updateMoveableProperty(e,"shape.size.depth",t)},setMoveablePosition(e,t,r){return tr.actions.updateMoveableProperty(e,`position.${t}`,r)}},nw={"back.materialId":{undoDescription:"Set Back Material"},"back.construction.method":{undoDescription:"Set Back Construction Method"},"back.stretchers.enabled":{undoDescription:"Set Include Back Stretchers"},"back.stretchers.construction.method":{undoDescription:"Set Back Stretchers Construction method"},"back.offset":{undoDescription:"Set Back Offset"},"back.thickness":{undoDescription:"Set Back Material Thickness"},"construction.materialId":{undoDescription:"Set Box Material"},"construction.method":{undoDescription:"Set Box Construction Method"},"construction.thickness":{undoDescription:"Set Cabinet Material Thickness"},"construction.topPanelStyle":{undoDescription:"Set Top Construction"},"countertops.enabled":{undoDescription:"Toggle Countertops"},"countertops.finish":{undoDescription:"Set Countertop Color"},"countertops.overhang.front":{undoDescription:"Set Countertop Front Overhang"},"countertops.thickness":{undoDescription:"Set Countertop Thickness"},"door.materialId":{undoDescription:"Set Door Material",includeTypes:Te.supportsFronts},"door.thickness":{undoDescription:"Set Cabinet Door Thickness",includeTypes:Te.supportsFronts},"door.type":{undoDescription:"Set Cabinet Front Type",includeTypes:Te.supportsFronts},"door.undersize":{undoDescription:"Set Door Reveal",includeTypes:Te.supportsFronts},"drawers.materialId":{undoDescription:"Set Drawers Material",includeTypes:Te.supportsDrawers},"drawers.reveal":{undoDescription:"Set Drawer Reveal",includeTypes:Te.supportsDrawers},"drawers.thickness":{undoDescription:"Set Drawer Thickness",includeTypes:Te.supportsDrawers},"drawers.bottom.materialId":{undoDescription:"Set Cabinet Drawer Bottom Material",includeTypes:Te.supportsDrawers},"drawers.bottom.thickness":{undoDescription:"Set Cabinet Drawer Bottom Thickness",includeTypes:Te.supportsDrawers},"drawerItems.falseFront":{undoDescription:"Set False Front",includeTypes:Te.supportsFalseFronts},"drawerItems.topHeight":{undoDescription:"Set Top Drawer Height"},"finishes.box":{undoDescription:"Set Box Finish",includeTypes:Te.supportsBox},"finishes.front":{undoDescription:"Set Front Finish",includeTypes:Te.supportsBox},"finishes.faceFrame":{undoDescription:"Set Face Frame Finish",includeTypes:Te.supportsBox},"finishes.handle":{undoDescription:"Set Handle Finish",includeTypes:Te.supportsBox},"frame.style":{undoDescription:"Set Frame Style",includeTypes:Te.supportsBox},"frame.material.id":{undoDescription:"Set Frame Material",includeTypes:Te.supportsBox},"frame.material.thickness":{undoDescription:"Set Frame Thickness",includeTypes:Te.supportsBox},"frame.railWidths.top":{undoDescription:"Set Frame Top Rail Width",includeTypes:Te.supportsBox},"frame.railWidths.middle":{undoDescription:"Set Frame Mid Rail Width",includeTypes:Te.supportsBox},"frame.railWidths.bottom":{undoDescription:"Set Frame Bot Rail Width",includeTypes:Te.supportsBox},"frame.stileWidths.center":{undoDescription:"Set Frame Center Stile Width",includeTypes:Te.supportsBox},"frame.stileWidths.outside":{undoDescription:"Set Frame Outside Stile Width",includeTypes:Te.supportsBox},"front.face.style":{undoDescription:"Set Front Style",includeTypes:Te.supportsFrontStyles},"front.face.borderWidth":{undoDescription:"Set Shaker Border Width",includeTypes:Te.supportsFrontStyles},"front.face.depth":{undoDescription:"Set Shaker Pocket Depth",includeTypes:Te.supportsFrontStyles},"front.face.frameWidth":{undoDescription:"Set Glass Frame Width",includeTypes:Te.supportsDoors},"front.face.rabbetDepth":{undoDescription:"Set Glass Rabbet Depth",includeTypes:Te.supportsDoors},"front.face.rabbetWidth":{undoDescription:"Set Glass Rabbet Width",includeTypes:Te.supportsDoors},"shelves.materialId":{undoDescription:"Set Shelves Material",includeTypes:Te.supportsShelfItems},"shelves.thickness":{undoDescription:"Set Shelves Thickness",includeTypes:Te.supportsShelfItems},"toekick.depth":{undoDescription:"Set Toekick Depth"},"toekick.enabled":{undoDescription:"Set Include Toekick"},"toekick.height":{undoDescription:"Set Toekick Height"}},eie={...nw,name:{undoDescription:"Set Cabinet Name"},"construction.sinkStretcherStyle":{undoDescription:"Set Sink Stretcher Style"},"corner.side":{undoDescription:"Set Cabinet Corner Side"},"door.openingWidth":{undoDescription:"Set Cabinet Door Opening Width"},"door.hinges.enabled":{undoDescription:"Toggle Include Hinge Mounting Holes"},"door.pull.offsetX":{undoDescription:"Set Pull Offset X"},"door.pull.offsetY":{undoDescription:"Set Pull Offset Y"},"door.pull.spacing":{undoDescription:"Set Pull Spacing"},"door.pull.style":{undoDescription:"Set Include Pull"},"doorItems.includesDoor":{undoDescription:"Toggle Doors"},"doorItems.swing":{undoDescription:"Set Cabinet Door Swing"},"drawerItems.count":{undoDescription:"Set Number of Drawers"},"drawers.depth":{undoDescription:"Set Drawer Length"},"drawers.pull.offsetY":{undoDescription:"Set Drawer Pull Offset Y"},"drawers.pull.spacing":{undoDescription:"Set Drawer Pull Spacing"},"drawers.pull.style":{undoDescription:"Set Drawer Pull"},"drawers.slides.enabled":{undoDescription:"Set Include Drawer Slide Holes"},"drawers.width":{undoDescription:"Set Drawer Width"},"shelves.fullRun":{undoDescription:"Toggle Full Run Pinholes"},"shelves.includePinHoles":{undoDescription:"Toggle Shelf Pinholes"},"shelfItems.numFixed":{undoDescription:"Set Fixed Shelf Count"},"shelfItems.numShelves":{undoDescription:"Set Adjustable Shelf Count"},"size.depth":{undoDescription:"Set Cabinet Depth"},"size.height":{undoDescription:"Set Cabinet Height"},"size.width":{undoDescription:"Set Cabinet Width"}},KUe={"drawerItems.items.#.height":{undoDescription:"Set Drawer Height"},"drawerItems.items.#.locked":{undoDescription:"Toggle Drawer Height Lock"},"shelfItems.fixed.#.offset":{undoDescription:"Set Fixed Shelf Offset"}},QUe={...tr.actions,...JUe},LWt=tr.reducer,eRe={reducer:tr.reducer,actions:QUe,initialState:tr.getInitialState()},zu=eRe;function tRe(e,t){return e.y>6&&t.y<=6?-1:e.y<=6&&t.y>6?1:e.x-t.x||t.y-e.y}var Xu=e=>e.cabinets.room.floorplan;var WWt=_e(Xu,P3),sW=_e([Xu,(e,t)=>t],sm),rRe=_e(sW,Moe),VWt=_e(sW,Aoe),UWt=_e(sW,Ioe),RWt=_e([Xu,(e,t)=>t],Yoe),oRe=_e(Xu,Wf),jWt=_e([Xu,oRe],(e,t)=>t.filter(r=>tW(e,r))),GWt=_e(rRe,e=>e.slice().sort((t,r)=>tRe(t.position,r.position)||t.cabinetNumber-r.cabinetNumber)),HWt=_e([Xu,(e,t)=>t],(e,t)=>{let r=ya(e,t),o=f8(e).filter(i=>i.id!==r.id);return{parent:r,other:o}}),zWt=_e([Xu,(e,t)=>t],Ks),XWt=_e([(e,t)=>t,Xu],(e,t)=>ya(t,e)),YWt=_e([Xu,(e,t)=>t],tW);var iRe={cabinetView:"room",explodedCabinet:!1,wireframeView:!1,selectedTab:"Design",selectedCabinetIds:[],commentsVisible:!1,highlightedCabinetId:void 0,segmentAngle:void 0,homeownerLink:void 0},oie=We({name:"cabinetDesigner",initialState:iRe,reducers:{setSelectedTab(e,{payload:t}){e.selectedTab=t,e.commentsVisible=!1},setRoomView(e){e.cabinetView="room",e.explodedCabinet=!1},setExplode:(e,{payload:t})=>{e.explodedCabinet=t},setWireframeView:(e,{payload:t})=>{e.wireframeView=t},setSelectedCabinets(e,{payload:{ids:t,append:r}}){e.cabinetView=t.length>0?"cabinets":"room",e.explodedCabinet=!1,r&&(t=c5(t.concat(e.selectedCabinetIds))),e.selectedCabinetIds=t},toggleSelection(e,{payload:t}){e.cabinetView="cabinets",nRe(e.selectedCabinetIds,t)},setHomeownerLink(e,{payload:t}){e.homeownerLink=t},setCommentsVisible(e,{payload:t}){e.commentsVisible=t},showCabinet(e,{payload:t}){e.cabinetView="cabinets",e.explodedCabinet=!1,e.selectedCabinetIds=[t]},showIsolatedCabinet(e,{payload:t}){e.cabinetView="isolated-cabinet",e.selectedCabinetIds=[t]}},extraReducers:e=>e.addCase(zu.actions.deleteFloorplanMoveable,t=>{t.cabinetView="room",t.explodedCabinet=!1,t.selectedCabinetIds=[]}).addCase(zu.actions.deleteIsland,t=>{t.cabinetView="room",t.explodedCabinet=!1,t.selectedCabinetIds=[]}).addMatcher(ws(zu.actions.createCabinet,zu.actions.createFloorplanFenestration,zu.actions.createFloorplanAppliance),(t,{payload:r})=>{t.cabinetView="cabinets",t.explodedCabinet=!1,t.selectedCabinetIds=[r.id]})});function nRe(e,t){let r=e.findIndex(o=>o===t);r<0?e.push(t):e.splice(r,1)}var iie=e=>e.cabinetDesigner.selectedCabinetIds,sRe=e=>_e([Xu],t=>e.length===0?"":Ks(t,e[0]).kind),aW=e=>_e([iie,Xu],(t,r)=>{let o=[];return e==="cabinet"?o=["cabinet"]:e==="fenestration"?o=["window","door"]:e==="appliance"&&(o=["appliance","refrigerator","range","dishwasher","microwave"]),t.length===0?!1:o.includes(Ks(r,t[0]).kind)}),aRe=aW("cabinet"),lRe=aW("fenestration"),cRe=aW("appliance"),uRe={isRoomView:e=>e.cabinetDesigner.cabinetView==="room",isExplodedCabinetView:e=>e.cabinetDesigner.explodedCabinet,isCabinetView:e=>e.cabinetDesigner.cabinetView==="cabinets",isIsolatedCabinetView:e=>e.cabinetDesigner.cabinetView==="isolated-cabinet",isWireframeView:e=>e.cabinetDesigner.wireframeView,areCommentsVisible:e=>e.cabinetDesigner.commentsVisible,getHomeownerLink:e=>e.cabinetDesigner.homeownerLink,getSelectedTab:e=>e.cabinetDesigner.selectedTab,getSelectedCabinetIds:iie,getSelectedKind:sRe,isCabinetSelected:aRe,isFenestrationSelected:lRe,isApplianceSelected:cRe},pRe={actions:oie.actions,reducer:oie.reducer,...uRe},am=pRe;function nie(e,t){e.commentIds[t.id]||(e.commentIds[t.id]=!0,e.comments.push(t),t.read||(e.readState=!1))}var dRe=We({name:"comments",initialState:{comments:[],commentIds:{},readState:!0},reducers:{add(e,t){nie(e,t.payload)},load(e,t){t.payload.forEach(r=>{nie(e,r)})},markReadUntil(e,t){let r=t.payload,o=!1;e.comments.forEach(i=>{i.id<=r?i.read=!0:i.read||(o=!0)}),e.readState=!o}},selectors:{selectComments:e=>e.comments,selectReadState:e=>e.readState}}),sie=dRe;var mRe=function(e,t){let r=null;for(let i of e.workpieces){let n=i.saved_data,s=N.store.getState(),a=re.bits(s),l=q.getAllMaterials(s),c=Y.getWorkArea(s),u={id:i.client_id||Tt(),save_key:i.save_key,position:i.position,backendId:i.id,thumbnailUrl:i.image_url||EASEL_ASSETS.images.emptyThumbnail,thumbnailID:i.image_id,name:i.name,note:n?.note,isImportedMesh:i.mesh||n?.three_d_prototype,version:i.version,experiments:n?.experiments??{}};if(N.store.dispatch(W.actions.loadWorkpiece(u,{show:n!=null})),n!=null){N.store.dispatch(W.actions.loadWorkpieceData({backendId:i.id,savedData:n,allMaterials:l,allBits:a,workArea:c,saveKey:i.saveKey}));let p=N.store.dispatch(W.actions.loadMesh({workpiece:i,localWorkpieceId:u.id}));i.position===e.active_workpiece_position&&(i.is_imported_mesh&&t("Loading 3D model..."),r=p)}}let o=e.unit_preference;if(o!=null&&N.store.dispatch(Me.actions.setUnit(o)),e.cabinetry){N.store.dispatch(zu.actions.loadCabinetry(e.cabinetry));let{manufacture:i,estimates:n}=e.cabinetry;i?.cutLists?.length>0&&N.store.dispatch(Ha.actions.loadCutLists(i.cutLists)),n&&N.store.dispatch(ste(n)),N.store.dispatch(am.actions.setRoomView())}return H.setProperties({"Project type":e.cabinetry?"Cabinetmaker":"Easel"}),e.homeowner_links?.length>0&&N.store.dispatch(am.actions.setHomeownerLink(e.homeowner_links[0])),e.comments?.length>0&&N.store.dispatch(sie.actions.load(e.comments)),window.document.title=`Easel - ${e.name}`,document.getElementById("userflow--projects")?.setAttribute("id","userflow--easelpro"),N.store.dispatch(nr.actions.clearAllUndos()),ft.hasFontErrors(N.store.getState())&&N.store.dispatch(ft.actions.setFontErrorsVisible(!0)),r},fRe=function(){let e=N.store.getState(),t=W.getActiveId(e),r=null,o=W.getWorkpieces(e).filter(n=>(n?.id===t&&(r=n.position),n?.loadingState.status==="complete")).map(function(n){return oP(e,n)}),i;return it("cabinet_mvp")&&zt.isCabinetProject(e)&&(i={version:ve.VERSION,cabinets:zt.getCabinetsWithAdditionalState(e).map(n=>({configuration:n.configuration,position:n.position,manufactured:n.manufactured})),defaults:{project:zt.getProjectDefaultProperties(e)},room:zt.getRoomProperties(e),stocks:zt.getStocks(e),manufacture:{...zt.getManufactureData(e),cutLists:Ha.getCutLists(e)},estimates:{labor:{type:XB(e),rate:ute(e).rate,amount:cte(e)},misc:{cost:pte(e)},estimateItems:lte(e)}}),{shared:ge.isProjectShared(e),starred:ge.isProjectStarred(e),active_workpiece_position:r,name:ge.getProjectName(e),contains_imported_svg:ge.getContainsImportedSVG(e),carve_count:ge.getCarveCount(e),unit_preference:Me.getPreferredUnit(e),workpieces:o,labels:ge.getAssignedLabels(e),draft_gallery_collection_id:ge.getDraftCollectionId(e),cabinetry:i}},hRe=e=>(H.trackEvent(U.newProject),e.then(t=>{window.open(`/projects/${t.link_token}`,globalThis.EASEL_PROJECT_LINK_TOKEN?"_blank":"_self")})),gRe=function(e){if(e==null){Ut("Something went wrong trying to open the project");return}let t=window.open();t.opener=null,t.document.location=`${document.location.origin}/projects/${e}`},yRe=async function(e){let t=N.store.getState();ge.getProjectName(t)==="Untitled"&&W.getWorkpieces(t).length===1&&N.store.dispatch(ge.actions.setProjectName(e));let r=W.getActiveId(t),o=ye.getVolumesForWorkpiece(t,r).length===0&&Ue.getMesh(t,r)==null&&W.getExternalGcode(t,r)==null,i=ge.isReadOnly(t),n=ge.getProjectLinkToken(t),s=W.getWorkpiece(t,r);if(o)N.store.dispatch(W.actions.setName(s.id,e));else{let a=Tt();await N.store.dispatch(W.actions.createAndShowWorkpiece({workpieceData:{id:a,name:e},projectLinkToken:i?null:n})),s=W.getWorkpiece(N.store.getState(),a)}return N.store.dispatch(W.actions.homeViewport({xyZeroLocation:q.getXYZeroLocation(t),materialDimensions:q.getMaterialDimensions(t),workArea:Y.getWorkArea(t)})),s},xRe={createProject:hRe,openExportedProject:gRe,load:mRe,getCurrentData:fRe,workpieceForImport:yRe},vl=xRe;var bRe={_sliceProperties:{undoable:!1},projectName:"",percentComplete:0,currentFeedRate:void 0,currentSpindleSpeed:void 0,timeEstimate:0},aie=We({name:"jobStatus",initialState:bRe,reducers:{setProjectName(e,{payload:t}){e.projectName=t},setPercentComplete(e,{payload:t}){e.percentComplete=t},setOverrides(e,{payload:t}){let{feedRate:r,spindleSpeed:o}=t||{};r!==void 0&&(e.currentFeedRate=r),o!==void 0&&(e.currentSpindleSpeed=o)},setTimeEstimate(e,{payload:t}){e.timeEstimate=t}}}),lW={getProjectName:e=>e.jobStatus.projectName,getCurrentFeedRatePercentage:e=>e.jobStatus.currentFeedRate?.percentage,getCurrentSpindleSpeedPercentage:e=>e.jobStatus.currentSpindleSpeed?.percentage,getCurrentFeedRate:e=>{let t=e.jobStatus.currentFeedRate;if(t?.value&&t?.unit)return`${t.value.toFixed()} ${t.unit}`},getCurrentSpindleSpeed:e=>e.jobStatus.currentSpindleSpeed,getOverridePercentages:e=>({feedRate:lW.getCurrentFeedRatePercentage(e),spindleSpeed:lW.getCurrentSpindleSpeedPercentage(e)}),getEffectivePercentComplete:_e(e=>e.jobStatus.percentComplete,e=>At.getStartPercentage(e),(e,t)=>t+(1-t/100)*e),getTimeLeft:e=>{let t=e.jobStatus.timeEstimate,r=e.jobStatus.percentComplete,o=e.jobStatus.currentFeedRate?.percentage;return!t||o==null?null:(1-r/100)*t/(o/100)}},vRe={actions:aie.actions,reducer:aie.reducer,...lW},Ro=vRe;var SRe=async()=>await fetch("/sender_versions/supported",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.ok?e.json():Promise.reject(e)),cie=Ht("localSenderVersion/fetchSupportedVersions",async()=>await SRe()),CRe={supportedVersions:[],runningVersionNumber:null,runningVersionAbilities:{}},lie=We({name:"localSenderVersion",initialState:CRe,reducers:{setRunningVersionNumber(e,{payload:t}){e.runningVersionNumber=t},runningVersionAbilities(e,{payload:t}){e.runningVersionAbilities=t},disconnected(e){e.runningVersionNumber=null,e.runningVersionAbilities={}}},extraReducers:e=>{e.addCase(cie.fulfilled,(t,{payload:r})=>{t.supportedVersions.push(...r)})}}),PRe={getVersionInfo:(e,t)=>e.localSenderVersion.supportedVersions.find(r=>r.versionNumber===t),getCurrentVersionInfo:e=>e.localSenderVersion.supportedVersions.find(t=>t.current),getRunningVersionNumber:e=>e.localSenderVersion.runningVersionNumber,getRunningVersionAbilities:e=>e.localSenderVersion.runningVersionAbilities,isSupportedDriverConnected:e=>e.localSenderVersion.runningVersionNumber&&e.localSenderVersion.supportedVersions.some(t=>t.versionNumber===e.localSenderVersion.runningVersionNumber),isUnsupportedDriverConnected:e=>e.localSenderVersion.runningVersionNumber&&!e.localSenderVersion.supportedVersions.some(t=>t.versionNumber===e.localSenderVersion.runningVersionNumber)},wRe={actions:lie.actions,reducer:lie.reducer,...PRe,fetchSupportedVersions:cie},jo=wRe;var _Re={readyResponse:/Grbl 0\.8[a-z]/,directionPortMasks:{x:32,y:64,z:128},settingsVersion:5,registers:{stepsPerMillimeterX:0,stepsPerMillimeterY:1,stepsPerMillimeterZ:2,maxSpeedX:4,maxSpeedY:4,maxSpeedZ:4,directionPortInvert:6,probePinInvert:6,maxAccelerationX:8,maxAccelerationY:8,maxAccelerationZ:8,junctionDeviation:9,homingEnable:17,homingDirInvertMask:18},errorResponses:{homingFailed:/^ALARM: ?Homing fail$/,probeFailed:/^ALARM: ?Probe fail$/},zProbeSupported:!1},kRe={readyResponse:/Grbl 0\.9[a-z]/,directionPortMasks:{x:1,y:2,z:4},settingsVersion:9,registers:{directionPortInvert:3,junctionDeviation:11,homingEnable:22,homingDirInvertMask:23,stepsPerMillimeterX:100,stepsPerMillimeterY:101,stepsPerMillimeterZ:102,maxSpeedX:110,maxSpeedY:111,maxSpeedZ:112,maxAccelerationX:120,maxAccelerationY:121,maxAccelerationZ:122,maxTravelX:130,maxTravelY:131},errorResponses:{homingFailed:/^ALARM: ?Homing fail$/,probeFailed:/^ALARM: ?Probe fail$/},zProbeSupported:!1},TRe={readyResponse:/Grbl 1\.0[a-z]/,directionPortMasks:{x:1,y:2,z:4},zProbeSupported:!0,settingsVersion:10,registers:{directionPortInvert:3,junctionDeviation:11,homingEnable:22,homingDirInvertMask:23,maxSpindleSpeed:30,minSpindleSpeed:31,stepsPerMillimeterX:100,stepsPerMillimeterY:101,stepsPerMillimeterZ:102,maxSpeedX:110,maxSpeedY:111,maxSpeedZ:112,maxAccelerationX:120,maxAccelerationY:121,maxAccelerationZ:122,maxTravelX:130,maxTravelY:131},errorResponses:{homingFailed:/^ALARM: ?Homing fail$/,probeFailed:/^ALARM: ?Probe fail$/}},uie={readyResponse:/Grbl 1\.1[a-z]/,directionPortMasks:{x:1,y:2,z:4},zProbeSupported:!0,feedRateOverrideEnabled:!0,spindleSpeedOverrideEnabled:!0,settingsVersion:10,registers:{directionPortInvert:3,junctionDeviation:11,homingEnable:22,homingDirInvertMask:23,maxSpindleSpeed:30,minSpindleSpeed:31,stepsPerMillimeterX:100,stepsPerMillimeterY:101,stepsPerMillimeterZ:102,maxSpeedX:110,maxSpeedY:111,maxSpeedZ:112,maxAccelerationX:120,maxAccelerationY:121,maxAccelerationZ:122,maxTravelX:130,maxTravelY:131},errorResponses:{homingFailed:/^ALARM:[6789]$/,probeFailed:/^ALARM:[45]$/,checkDoor:/^error:13$/}},ERe={readyResponse:/gCarvin 1\.\d/,states:{doorOpen:{state:/^door$/}},errorResponses:{homingFailed:/^ALARM: ?Homing fail$/,probeFailed:/^ALARM: ?Probe fail$/,checkDoor:/^error: ?Check Door$/},settingsVersion:!0,zProbeSupported:!1},MRe={readyResponse:/gCarvin 2\.\d/,feedRateOverrideEnabled:!0,states:{doorOpen:{state:/^door$/,substate:/^[12]$/}},errorResponses:{homingFailed:/^ALARM:[6789]$/,probeFailed:/^ALARM:[45]$/,checkDoor:/^error:13$/},settingsVersion:!0,zProbeSupported:!1},ARe={...uie,readyResponse:/Grbl 1\.1h-XCPd\.20230214a/,safetyDoorEnabled:!0},IRe=[ARe,_Re,kRe,TRe,uie,ERe,MRe],pie=IRe;var DRe={featuresForFirmware(e){for(let t of pie)if(t.readyResponse.test(e))return t;return{}}},aw=DRe;var cW={},k2=null,Yu=null,NRe=function(e){return Ts("x",e[3]==="1"),Ts("y",e[2]==="1"),Ts("z",e[1]==="1"),Ts("clamp",e[4]==="0"),Ts("button",e[5]==="1"),Ts("door",e[6]==="1")},ORe=function(e){let t=e?.[1]||"";Ts("x",t.includes("X")),Ts("y",t.includes("Y")),Ts("z",t.includes("Z")),Ts("button",t.includes("S")),k2===ze.CARVEY?(Ts("clamp",t.includes("P")),Ts("door",t.includes("D"))):k2===ze.XCARVE?(Ts("probe",t.includes("P")),Ts("hold",t.includes("H")),Ts("soft_reset",t.includes("R"))):k2===ze.XCARVE_PRO&&(Ts("door",t.includes("D")),Ts("probe",t.includes("P")),Ts("hold",t.includes("H")),Ts("soft_reset",t.includes("R")))},LRe=function(e){let t=e.match(/Pin:([01])([01])([01])\|([01])\|([01])([01])([01])([01])[,>]/);t!=null&&NRe(t);let r=e.match(/Pn:(\w*)/);if(r!=null)return ORe(r)},BRe=function(e,t){return t?(FRe(t),LRe(e),Yu):null},FRe=function(e){k2=e,Yu={x:!1,y:!1,z:!1,button:!1},k2===ze.CARVEY?(Yu.clamp=!1,Yu.door=!1):k2===ze.XCARVE?(Yu.probe=!1,Yu.hold=!1,Yu.soft_reset=!1):k2===ze.XCARVE_PRO&&(Yu.door=!1,Yu.probe=!1,Yu.hold=!1,Yu.soft_reset=!1)},Ts=(e,t)=>Yu[e]=t,WRe=e=>e.match(/^<.*>$/)!=null;cW.isStatusMessage=WRe;cW.machineSwitchStates=BRe;var VRe=cW,k3=VRe;var URe=/^<[^<>]+>$/,RRe=/^\$[^()]+(?:\([^$()]+\))?$/,jRe=function(e){let t=e[0],r=e[e.length-1];return t==="<"||r===">"?e.match(URe)!=null:t==="$"?e.match(RRe)!=null:!0},GRe={isValid:jRe},lw=GRe;var HRe=0,zRe={_sliceProperties:{undoable:!1},availablePorts:[],state:null,substate:null,connectionState:null,firmwareVersion:null,buildInfoString:"",serialNumber:null,zAxisOffset:null,isHomed:!1,position:{machine:{x:0,y:0,z:0},work:{x:0,y:0,z:0}},isProbing:!1,probeStatus:null,probeResult:null,jobSpindleCurrents:[],settings:[],uniqueSettings:{},events:[],isInspectorOpen:!1,isFirmwareUploading:!1,firmwareProgress:0,lastStatusMessage:null,detectedGarbledMessage:!1},die=We({name:"machineState",initialState:zRe,reducers:{reportAvailablePorts:(e,t)=>{e.availablePorts=t.payload},reportConnectionState:(e,t)=>{t.payload==="connecting_to_machine"&&(e.isHomed=!1),e.connectionState=t.payload},reportState:{prepare:(e,t)=>({payload:{state:e,substate:t}}),reducer:(e,{payload:t})=>{t.state===e.state&&t.substate===e.substate||(t.state==="home"&&(e.isHomed=!0),e.state=t.state,e.substate=t.substate)}},reportPosition:(e,{payload:t})=>{ZB(t.machine,e.position.machine)&&ZB(t.work,e.position.work)||(e.position=t)},reportSetting:(e,t)=>{e.settings.push(t.payload);let[r,o]=t.payload.split("=");e.uniqueSettings[r]=o},clearSettings:e=>{e.settings=[],e.uniqueSettings={}},clearEvents:e=>{e.events=[]},logEvent:{prepare:(e,t)=>({payload:{type:e,message:t}}),reducer:(e,t)=>{t.payload?.type==="alarm"&&(e.isHomed=!1),e.events.push(t.payload)}},openInspector:e=>{e.isInspectorOpen=!0},closeInspector:e=>{e.isInspectorOpen=!1},reportProbeStatus:(e,t)=>{e.probeStatus=t.payload},reportProbeResult:(e,t)=>{e.isProbing=!1,e.probeResult=typeof t.payload=="string"?parseInt(t.payload,10):t.payload},reportSpindleCurrent:(e,t)=>{e.jobSpindleCurrents.push(t.payload)},resetProbeResult:e=>{e.isProbing=!0,e.probeResult=null},resetSpindleCurrents:e=>{e.jobSpindleCurrents=[]},startUploadingFirmware:e=>{e.isFirmwareUploading=!0,e.firmwareProgress=0},stopUploadingFirmware:e=>{e.isFirmwareUploading=!1},receiveFirmwareProgress:(e,t)=>{e.firmwareProgress=t.payload},receiveFirmwareVersion:(e,t)=>{e.firmwareVersion=t.payload},receiveBuildInfoString:(e,t)=>{e.buildInfoString=t.payload},receiveSerialNumber:(e,t)=>{e.serialNumber=t.payload},receiveZAxisOffset:(e,t)=>{e.zAxisOffset=t.payload},receiveStatusMessage:(e,t)=>{let r=t.payload;k3.isStatusMessage(r)&&(e.lastStatusMessage=r),e.detectedGarbledMessage||(e.detectedGarbledMessage=!lw.isValid(r))},clearStatusMessage:e=>{e.lastStatusMessage=null,e.detectedGarbledMessage=!1}}}),cw={getAvailablePorts:e=>e.machineState.availablePorts,getState:e=>e.machineState.state,getSubstate:e=>e.machineState.substate,getPosition:e=>e.machineState.position,getSettings:e=>e.machineState.settings,getUniqueSettings:e=>e.machineState.uniqueSettings,getEvents:e=>e.machineState.events,getInspectorOpen:e=>e.machineState.isInspectorOpen,getConnectionState:e=>e.machineState.connectionState,getProbeConnectionStatus:e=>e.machineState.probeStatus,getProbeResult:e=>e.machineState.probeResult,isProbing:e=>e.machineState.isProbing,isFirmwareUploading:e=>e.machineState.isFirmwareUploading,getFirmwareProgress:e=>e.machineState.firmwareProgress,getFirmwareVersion:e=>e.machineState.firmwareVersion,getBuildInfoString:e=>e.machineState.buildInfoString,getSerialNumber:e=>e.machineState.serialNumber,getZAxisOffset:e=>e.machineState.zAxisOffset??HRe,getMaxSpindleCurrent:e=>e.machineState.jobSpindleCurrents.length?Math.max(...e.machineState.jobSpindleCurrents):null,isMachineKnownToBeHomed:e=>e.machineState.isHomed,isMachineReadyOrLocked:e=>["alarm_lock","ready_idle"].includes(e.machineState.connectionState||""),isMachineCarving:e=>["paused","running"].includes(e.machineState.connectionState||""),isMachineLocked:e=>e.machineState.state==="alarm",getLastStatusMessage:e=>e.machineState.lastStatusMessage,hasDetectedGarbledMessage:e=>e.machineState.detectedGarbledMessage},uW=_e([cw.getFirmwareVersion],e=>aw.featuresForFirmware(e??"")),XRe=_e([uW],e=>e.registers?.homingEnable),YRe=_e([uW,cw.getState,cw.getSubstate],(e,t,r)=>{if(e.states?.doorOpen){let o=e.states.doorOpen;return o.state.test(t)&&(o.substate==null||o.substate.test(r))}return!1}),qRe={actions:die.actions,reducer:die.reducer,...cw,getFeatures:uW,getHomingEnabledRegister:XRe,isDoorDefinitelyOpen:YRe},ie=qRe;var sse=M(nse(),1),SHe=function(e,t=()=>{}){let r={},o=function(){return(0,sse.default)(e,{reconnection:!0})}(),i=()=>o.disconnect(),n=function(c,u,p){t({direction:c,event:u,data:p,timestamp:new Date().toISOString()})},s=function(c,u){n("emit",c,u),o.emit(c,u)},a=c=>o.on(c,(...u)=>n("receive",c,u)),l=(c,u)=>o.on(c,u);return r.emit=s,r.log=a,r.on=l,r.disconnect=i,r},JW=SHe;var Ew=e=>[...new Set(e.filter(PC).map(t=>Bo(t.shape.font,t.shape.fontProvider)))].map(t=>{let[r,o]=zd(t);return{fontFamily:r,fontProvider:o}});var KW={},W8=null,ase=e=>new Date(e).toString(),CHe=(e,t)=>{if(t.tile==null)return null;let{tileCount:r,tileNumber:o,overlapInUse:i,tileLength:n}=xo.getTilingDetails(e,t.workpieceID);return{"Tile Count":r,"Tile Number":o,Overlap:i,"Tile Length":n}},lse=(e,t)=>({"Project Name":e.projectName,"Lines of g-code":e.gcode.split(`
`).length,"Shapes on canvas":e.volumes.length,"Drill holes":e.volumes.filter(r=>r.cut.type==="drill").length,"Fonts Used":Ew(e.volumes),Material:e.material!=null?e.material.name:"Unknown","Material source":e.material!=null?e.material.source:"Unknown","Material Width (in)":e.material?.dimensions?.x,"Material Height (in)":e.material?.dimensions?.y,"Material Thickness (in)":e.material?.dimensions?.z,"Bit width":e.bitData?.width,"Bit unit":e.bitData?.unit,"Bit nominalWidth":e.bitData?.nominalWidth,"Bit flutes":e.bitData?.flutes,"Bit type":e.bitData?.type,"Bit tipAngle":e.bitData?.tipAngle,"Bit id":e.bitData?.id,"Bit name":e.bitData?.name,"Bit source":e.bitData?.source,"Ballnose step over":e.jobSettings?.ballnoseStepOver,"Depth per pass":e.jobSettings?.depthPerPass,"Feed rate":e.jobSettings?.feedRate,"Plunge rate":e.jobSettings?.plungeRate,"Profile step over":e.jobSettings?.profileStepOver,"Step over":e.jobSettings?.stepOver,"Spindle speed":e.jobSettings?.spindleSpeed,"V Bit detail step over":e.jobSettings?.vBitDetailStepOver,Untested:e.jobSettings?.untested,"Manual Job Setting":e.jobSettings?.useCustom,"Preferred Unit":e.project?.unit_preference,"Project ID":e.projectID,"Machine Settings":e.machineSettings,"Easel Pro Content":xo.getInUseCarvingProFeatures(t).map(r=>r.label),"Easel Pro Access Type":Q.easelProAccessType(e.startTime,t),Tiling:e.tile!=null,"Ramping Angle (Deg)":e.rampingAngle!=null?parseInt(e.rampingAngle*180/Math.PI).toFixed(0):void 0,"Pass Type":e.passType,"Carve Type":e.carveType?e.carveType:"2.5D","Workpiece backend ID":e.workpieceBackendID,"X/Y Zero Location":e.xyZero,"Tiling Details":CHe(t,e),"Start Percentage":e.startPercentage?e.startPercentage:void 0,"Milling Direction":e.millingDirection}),PHe=e=>{let t=N.store.getState();W8=e,H.trackProjectEvent(U.startedJob,t,{...lse(e,t)});let r={};e.isExternalGcode||(r=Object.assign({},e.jobSettings),r.carveType=e.carveType?e.carveType:"2.5D",delete r.volumes,delete r.cutTypes,delete r.bit,delete r.detailBit,delete r.strokeBit),r.isExternalGcode=e.isExternalGcode,r.xyZero=e.xyZero,P5.submit({gcode:e.gcode,workpiece_id:e.workpieceID,workpiece_backend_id:e.workpieceBackendID,job_settings:JSON.stringify(r),machine_type:e.machineType,spindle_type:e.spindleType,bit_params:JSON.stringify({...e.bitParams,...e.bitData}),material:e.material.name,material_dimensions:JSON.stringify(e.material.dimensions),interrupted:!1,successful:null,easel_version:e.easelVersion,sender_version:e.senderVersion,firmware_version:e.firmwareVersion,serial_number:e.serialNumber,project_id:e.projectID,includes_pro_features:e.includesProFeatures,was_pro_subscription:e.proEnabled,start_time:ase(e.startTime),machine_make:e.machineMake,machine_model:e.machineModel})},wHe=function(){if(W8!=null){let e=N.store.getState(),t=Date.now(),r=(t-W8.startTime)/(60*1e3);H.trackProjectEvent(U.completedJob,e,{...lse(W8,e),"Duration (minutes)":r}),W8=null,P5.update({end_time:ase(t)})}};KW.start=PHe;KW.finish=wHe;var _He=KW,O3=_He;var QW=class{constructor(t){this._limit=t;y(this,"_messages",[]);y(this,"_listeners",[])}get messages(){return this._messages.slice()}push(t){this._messages.push(t),this._messages.length>this._limit&&this._messages.shift(),this._notify()}clear(){this._messages=[],this._notify()}addListener(t){this._listeners.push(t)}removeListener(t){this._listeners=this._listeners.filter(r=>r!==t)}_notify(){for(let t of this._listeners)t()}},kHe=5e3,A5=new QW(kHe);var use=()=>{let e={},t=null,r=null,o=null,i=[],n=function(I,...F){for(let B of i)B(I,...F)},s=(I,F={})=>{let B=le({description:I.description,message:I.message,name:I.name,type:I.type},F);H.trackEventOnceSometimes("Socket Connection Error",B)},a=I=>{I.log("connect"),I.log("connect_error"),I.log("error"),I.log("echo");let F={abilities(B){n("receivedLocalSenderAbilities",B)},connection_status(B){n("receivedConnectionStatus",B)},disconnect(){n("localSenderDisconnected")},done(){},"firmware-upload-start"(){n("startingFirmwareUpload")},"firmware-upload-done"(B){n("stoppingFirmwareUpload",B)},"firmware-upload-progress"(B){n("receiveFirmwareProgress",B)},"grbl-alarm"(B){n("grblAlarm",B)},"grbl-error"(B){n("grblError",B)},"grbl-over-current"(B){n("grblOverCurrent",B)},"machine-build-info"(B){n("receivedMachineBuildInfo",B)},"machine-settings"(B){n("machineSettings",B)},overrides(B){n("receivedOverrides",B)},paused(B,j){n("machinePaused",B,j)},port_lost(B){n("machineDisconnected",B)},ports(B){n("portsListed",B)},position(B){n("grblPosition",B)},"probe-status"(B){n("receivedProbeStatus",B)},"probe-result"(B){n("receivedProbeResult",B)},"spindle-current"(B){n("receivedSpindleCurrent",B)},ready(){n("machineReady")},release(B){n("releaseWalkthrough",B)},running(B,j){n("machineRunning",B,j)},sent_feedback(){n("sentFeedback")},"run-time"(B){n("receivedRunTime",B)},state(B,j){n("grblState",B,j)},stopping(){n("machineStopping")},version(B){n("localSenderConnected",B)}};for(let B in F)I.log(B),I.on(B,function(...j){try{let X=F[B];X(...j||[])}catch(X){window.onerror(X.toString(),`socket '${B}' handler`,0,0,X)}})},l=()=>{let I="https://inventableslocalhost.com:1438",F="http://127.0.0.1:1338";t==null&&(r=JW(I,cse),o=JW(F,cse),a(r),a(o),r.on("connect",()=>{H.trackEventOnce(U.connectedInventableslocalhost),t=r,o&&(o.disconnect(),o=null)}),r.on("connect_error",B=>{s(B,{connectionString:I})}),o.on("connect",()=>{H.trackEventOnce(U.connected127001),t=o,r&&(r.disconnect(),r=null)}),o.on("connect_error",B=>{s(B,{connectionString:F})}))},c=()=>t.emit("get_connection"),u=()=>t.emit("get_job_status"),p=()=>t.emit("get_ports"),m=I=>t.emit("init_port",I),h=I=>t.emit("acquire",I),f=()=>t.emit("machine-settings"),x=()=>t.emit("get_machine_build_info"),v=I=>t.emit("console",I),b=()=>t.emit("pause"),S=()=>t.emit("resume"),w=function(){P5.update({interrupted:!0}),t.emit("stop")},_=()=>t.emit("sent_feedback"),E=I=>v(`M3 S${I}`),T=()=>v("M5"),A=function(){v("M7"),v("M8")},O=()=>v("M9"),L=I=>{t.emit("echo",I)},R=(...I)=>t.emit("execute",I),z=I=>t.emit("update-firmware",I);return e.getSocket=()=>t,e.getConnectionStatus=c,e.getJobStatus=u,e.initSocket=l,e.listPorts=p,e.initPort=m,e.acquireWalkthrough=h,e.getMachineSettings=f,e.getMachineBuildInfo=x,e.pause=b,e.resume=S,e.stop=w,e.sentFeedback=_,e.execute=R,e.startSpindle=E,e.stopSpindle=T,e.accessoriesOn=A,e.accessoriesOff=O,e.serialEcho=L,e.updateFirmware=z,e.setConfig=I=>{H.setProperties({"Grbl Configuration File":I.name}),t.emit("set_config",I)},e.hydrateParams=function(I){let F=N.store.getState();I=le(I),I.startTime=Date.now();let B=q.getMaterialDimensions(F),j=q.getXYZeroLocation(F),X=q.getActiveMaterial(F),te=ot.materialBoundary(B,j);return I.material={...X,xyZeroLocation:j,boundary:te,dimensions:B},I.jobSettings&&(I.bitData=Nt.getBitFromJobSettings(I.jobSettings),I.passType=I.jobSettings.passType,I.safetyHeight=I.jobSettings.safetyHeight),I.project=vl.getCurrentData(),I.projectName=ge.getProjectName(F),I.machineSettings=ie.getUniqueSettings(F),I.volumes=ye.getVolumes(F),I.isCarvey=Y.isCarvey(F),I.machineFeatures=ie.getFeatures(F),I.workpieceID=W.getActiveId(F),I.workpieceBackendID=W.getActiveWorkpiece(F)?.backendId,I.machineType=Y.getMachineType(F),I.spindleType=Y.getSpindleType(F),I.bitParams=re.bitParams(F),I.easelVersion=EASEL_VERSION,I.senderVersion=jo.getRunningVersionNumber(F),I.firmwareVersion=ie.getFirmwareVersion(F),I.serialNumber=ie.getSerialNumber(F),I.projectID=ge.getProjectId(F),I.includesProFeatures=xo.getInUseCarvingProFeatures(F).length>0,I.proEnabled=Q.isProEnabled(I.startTime,F),I.xyZero=q.getXYZeroLocation(F),bt.currentIsInventablesMachine(I.machineType)||(I.machineMake=Y.getThirdPartyMake(F),I.machineModel=Y.getThirdPartyModel(F)),I},e.startJob=function(I){if(I=e.hydrateParams(I),ks.data({project:I.project,isExternalGcode:!!I.isExternalGcode,jobSettings:{material:I.material,...I.jobSettings},tile:I.tile,gcode:I.gcode,gcodeMetadata:I.gcodeMetadata,parentGcode:I.parentGcode,timeEstimate:I.timeEstimate,isUsingDustShoe:I.isUsingDustShoe,machineProfileId:I.machineProfileId,postCarveModal:I.postCarveModal,xyZeroLocation:I.xyZero}),N.store.dispatch(Ro.actions.setTimeEstimate(I.timeEstimate)),I.gcode!=null){N.store.dispatch(ie.actions.resetSpindleCurrents()),I.machineFeatures&&(I.machineFeatures.feedRateOverrideEnabled&&R("resetFeedRate"),I.machineFeatures.spindleSpeedOverrideEnabled&&R("resetSpindleSpeed")),J.emit("started-job"),O3.start(I);let F=N.store.getState();N.store.dispatch(ge.actions.setCarveCount(ge.getCarveCount(F)+1));let B={liftToCustomSafetyHeight:null};if(!I.isCarvey){let j=Q.getOriginSafetyHeight({safetyHeight:I.safetyHeight},F);B.liftToCustomSafetyHeight=`G20 G90 Z${j.toFixed(4)}`}t.emit("gcode",{gcode:I.gcode,name:I.projectName,customConfig:B})}else{eV.stopSpindle();let{title:F,message:B,detail:j}=I.useDetailBit?Vi.alerts.singleBitNothingCarvable:Vi.alerts.multiBitNothingCarvable;Fe(F,B,[{text:"Edit Project"},{text:"See Suggestions",action:()=>{C5.openSupportBot("Uncut Areas"),H.trackEvent(U.answerbotOpened,{source:"no gcode alert"})}}],j)}},e.reset=()=>R("flush"),e.increaseFeedRate=function(){R("increaseFeedRate")},e.decreaseFeedRate=function(){R("decreaseFeedRate")},e.increaseSpindleSpeed=()=>R("increaseSpindleSpeed"),e.decreaseSpindleSpeed=()=>R("decreaseSpindleSpeed"),e.raiseToSafety=function(){let I=N.store.getState(),F=Q.getOriginSafetyHeight({safetyHeight:Ge.getSafetyHeight(I)},I);v(`G90 G21 G1 Z${(F*25.4).toFixed(4)} F200`)},e.jogTo=(I,F)=>v(`G90 G21 G0 ${I.toUpperCase()}${(F*25.4).toFixed(4)}`),e.setOrigin=()=>R("saveOrigin"),e.setZorigin=()=>R("saveZorigin"),e.setXYorigin=()=>R("saveXYorigin"),e.jog=(I,F)=>v(`G91 G21 G0 ${I.toUpperCase()}${(F*25.4).toFixed(4)}`),e.moveToWorkZeroXY=()=>v("G90 G0 X0 Y0"),e.presentMaterial=()=>R("park"),e.lockMotors=()=>R("lockMotors"),e.unlockMotors=()=>R("unlockMotors"),e.home=()=>R("home"),e.unlock=()=>R("unlock"),e.generateProbeRoutine=function(){let{probeThickness:I,probeDistance:F,probeRate:B,units:j,probeRetractDistance:X}=Y.getProbePreferences(N.store.getState()),te=j==="in"?"G20":"G21",se=j==="in"?3:2;return`      ${te}
      G91
      G38.2 Z-${F.toFixed(se)} F${B.toFixed(se)}
      G10 L20 P0 Z${I.toFixed(se)}
      G91 ${te} G0 Z${X.toFixed(se)}      `},e.sendProbeRoutine=()=>v(e.generateProbeRoutine()),e.onEvent=I=>i.push(I),e.sendLine=v,e.sockets=()=>[r,o],e},cse=e=>{if(A5.push(e),e.direction==="receive"&&e.event==="echo"&&e.data[0]?.action==="read"){let t=e.data[0].data;N.store.dispatch(ie.actions.receiveStatusMessage(t)),lw.isValid(t)||H.trackEventOnce("Garbled message")}},eV=use();eV.newLocalSender=use;var ke=eV;var THe=function(e){let t=null,r=function(s){clearInterval(t),t=setInterval(e,s)};return{start:r,startNow:function(s){r(s),e()},stop:function(){clearInterval(t),t=null},isRunning:()=>t!=null}},V8=THe;var rV=[],pse=()=>rV.length>0,tV=V8(function(){ke.sendLine(rV.shift()),pse()||tV.stop()}),dse=function(e,t){rV.push(`$${e}=${t}`),tV.isRunning()||tV.start(100)},EHe=function(e,t){let r=new RegExp(`^\\$${t}=([^\\s]+)`);for(let i of e){var o;if((o=i.match(r))!=null)return o[1]}},MHe=function(e,t){for(let r in e){let o=e[r],i=Mw.getValue(t,r);if(typeof o=="number"&&(i=parseFloat(i)),i!==o)return!1}return!0},AHe=function(e,t,r){return t^=r,dse(e,t),t},IHe=function(e){Mw.getValue(e,10)!=="115"&&Mw.setValue(10,115)},Mw={writesPending:pse,setValue:dse,getValue:EHe,hasSettings:MHe,startMonitorProbe:IHe,xorBits:AHe},Zp=Mw;var mse=function(e,t,r={},o=8){let a=L=>JSON.parse(JSON.stringify(L));t==null&&(t=[]);let l=function(L,R){let z,I=r[L];return I!=null&&(z=Zp.getValue(t,I)),z||R},c={acceleration:[l("maxAccelerationX",500)*60*60,l("maxAccelerationY",500)*60*60,l("maxAccelerationZ",50)*60*60],max_speed:[l("maxSpeedX",8e3),l("maxSpeedY",8e3),l("maxSpeedZ",500)],junction_deviation:l("junctionDeviation",.02)},u=0,p=0,m=1,h=0,f=function(){let L=[];for(let R=0;R<o+1;R++)L.push({id:0,millimeters:0,acceleration:0,max_rate:0,programmed_rate:0,max_entry_speed:0,max_junction_speed:0,entry_speed:0});return L}(),x=[0,0,0],v=[0,0,0],b=[0,0,0],S=0,w=function(L){return L+=1,L===o&&(L=0),L},_=function(L){return L===0?L=o-1:L-=1,L},E=function(){let L,R,z=_(u);if(z===h)return;let I=z;if(f[I].entry_speed=Math.min(f[I].max_entry_speed,Math.sqrt(2*f[I].acceleration*f[I].millimeters)),z=_(z),z!==h)for(;z!==h;)R=I,I=z,z=_(z),f[I].entry_speed!==f[I].max_entry_speed&&(L=Math.sqrt(Math.pow(f[R].entry_speed,2)+2*f[I].acceleration*f[I].millimeters),L<f[I].max_entry_speed?f[I].entry_speed=L:f[I].entry_speed=f[I].max_entry_speed);for(R=h,z=w(h);z!==u;)I=R,R=z,f[I].entry_speed<f[R].entry_speed&&(L=Math.sqrt(Math.pow(f[I].entry_speed,2)+2*f[I].acceleration*f[I].millimeters),L<f[R].entry_speed&&(f[R].entry_speed=L,h=z)),f[R].entry_speed===f[R].max_entry_speed&&(h=z),z=w(z)},T=function(){let L=0,R=[],z=p,I=w(p);for(;z!==h;){var F,B;let j=f[z].entry_speed,X=f[z].programmed_rate,te=f[z].millimeters;I===u?B=0:B=f[I].entry_speed;let se=.5*(te+(Math.pow(j,2)-Math.pow(B,2))/(2*f[z].acceleration));if(se>0)if(se<te){let ue=(Math.pow(X,2)-Math.pow(B,2))/(2*f[z].acceleration);if(ue<se)if(j<X){let be=te-(Math.pow(X,2)-Math.pow(j,2))/(2*f[z].acceleration);F=(2*X-j-B)/f[z].acceleration+(be-ue)/X}else F=0,ue<te&&(F+=(te-ue)/X),X>B&&(F+=(X-B)/f[z].acceleration);else F=(2*Math.sqrt(2*f[z].acceleration*se+Math.pow(B,2))-j-B)/f[z].acceleration}else F=(j-B)/f[z].acceleration;else F=(B-j)/f[z].acceleration;L+=F,R.push(f[z].id),z=I,I=w(I)}return L},A=e.map(L=>({type:L[0],feedrate:L[1],x:L[2],y:L[3],z:L[4]})),O=0;for(let L=0;L<A.length;L++){f[u].id=L,x[0]=A[L].x,x[1]=A[L].y,x[2]=A[L].z;let R=x[0]-v[0],z=x[1]-v[1],I=x[2]-v[2];if(!(R===0&&z===0&&I===0)){let F=Math.sqrt(Math.pow(R,2)+Math.pow(z,2)+Math.pow(I,2));f[u].millimeters=F;let B=[R/F,z/F,I/F];f[u].acceleration=1e10;for(let X=0;X<3;X++)B[X]!==0&&(f[u].acceleration=Math.min(f[u].acceleration,Math.abs(c.acceleration[X]/B[X])));f[u].max_rate=1e10;for(let X=0;X<3;X++)B[X]!==0&&(f[u].max_rate=Math.min(f[u].max_rate,Math.abs(c.max_speed[X]/B[X])));if(A[L].type===0?f[u].programmed_rate=f[u].max_rate:f[u].programmed_rate=A[L].feedrate,u===p)f[u].entry_speed=0,f[u].max_junction_speed=0;else{let X=-b[0]*B[0]-b[1]*B[1]-b[2]*B[2],te=[B[0]-b[0],B[1]-b[1],B[2]-b[2]];if(X>.999999)f[u].max_junction_speed=0;else if(X<-.999999)f[u].max_junction_speed=1e10;else{let se=Math.sqrt(Math.pow(te[0],2)+Math.pow(te[1],2)+Math.pow(te[2],2)),ue=1e10;for(let ae=0;ae<3;ae++)te[ae]/=se,te[ae]!==0&&(ue=Math.min(ue,Math.abs(c.acceleration[ae]/te[ae])));let be=Math.sqrt(.5*(1-X));f[u].max_junction_speed=Math.max(0,Math.sqrt(ue*c.junction_deviation*be/(1-be)))}}let j=f[u].programmed_rate;j>S?f[u].max_entry_speed=S:f[u].max_entry_speed=j,f[u].max_entry_speed>f[u].max_junction_speed&&(f[u].max_entry_speed=f[u].max_junction_speed),S=a(j),b=a(B),v=a(x),u=m,m=w(u),m===p&&(E(),p===h&&(h=w(p)),O+=T(),p=h)}}return E(),h=u,O+=T(),O},fse=function(e){if(e==null||e.length==0)return 8;let t=0,r=0,o=[];for(let n of e){let s=n.length+1;for(;s+t>127&&o.length>0;)t-=o.shift();t+=s,r+=o.push(s)}let i=r/e.length;return Math.max(2,Math.round(i))};var DHe=function(e=!1){let t={},r=!1,o=[],i=5,n="inches",s=1,a=0,l=1,c=0,u={command:"",rate:0,x:NaN,y:NaN},p=()=>{u={command:"",rate:0,x:NaN,y:NaN}},m=function(){return r?o.join(`
`):null},h=()=>o,f=()=>o.length,x=function(ae,he){let fe=JP(o),ce=fse(o);return mse(fe,ae,he,ce)},v=function(){return o.push("G90"),p(),t},b=function(){return o.push("G20"),n="inches",s=1,i=5,p(),t},S=function(){return o.push("G21"),n="millimeters",s=25.4,i=3,p(),t},w=function(ae){let he="M3";return ae!=null&&(he+=` S${ae}`),o.push(he),p(),t},_=function(){return o.push("M5"),p(),t},E=function(){o.push("M7"),o.push("M8"),p()},T=()=>{o.push("M9"),p()},A=function(ae){return a=ae,t},O=function(ae){return c=ae,t},L=ae=>(ae*s).toFixed(i),R=ae=>(ae*s).toFixed(l),z=function(ae,he){if(r=!0,e&&u.command==="G1"){let fe="G1";u.x!==ae&&(fe+=` X${L(ae)}`),u.y!==he&&(fe+=` Y${L(he)}`),u.rate!==a&&(fe+=` F${R(a)}`),o.push(fe)}else o.push(`G1 X${L(ae)} Y${L(he)} F${R(a)}`);return Object.assign(u,{command:"G1",rate:a,x:ae,y:he}),t},I=function(ae,he,fe){r=!0;let ce=Math.min(c,a);if(e&&u.command==="G1"){let Se="G1";u.x!==ae&&(Se+=` X${L(ae)}`),u.y!==he&&(Se+=` Y${L(he)}`),Se+=` Z${L(fe)}`,u.rate!==ce&&(Se+=` F${R(ce)}`),o.push(Se)}else o.push(`G1 X${L(ae)} Y${L(he)} Z${L(fe)} F${R(ce)}`);return Object.assign(u,{command:"G1",rate:ce,x:ae,y:he}),t},F=function(ae,he){return o.push(`G0 X${L(ae)} Y${L(he)}`),Object.assign(u,{command:"G0",rate:0,x:ae,y:he}),t},B=function(ae){return ae<0&&(r=!0),u.command==="G1"&&u.rate===c?o.push(`G1 Z${L(ae)}`):o.push(`G1 Z${L(ae)} F${R(c)}`),Object.assign(u,{command:"G1",rate:c}),t},j=ae=>(ae<0&&(r=!0),o.push(`G0 Z${L(ae)}`),Object.assign(u,{command:"G0",rate:0}),t),X=function(ae){return o=o.concat(ae.split(`
`)),p(),t},te=function(ae){return r=!0,X(ae),t},se=function(ae){if(it("gcode_comments"))for(let he of Array.from(ae.split(`
`)))o.push(`; ${he}`);return t},ue=function(ae){return o.push(`G4 P${ae}`),p(),t},be=function(){return ue(.1),t};return t.accessoriesOn=E,t.accessoriesOff=T,t.absolute=v,t.custom=X,t.external=te,t.inches=b,t.fastXY=F,t.feedRate=A,t.millimeters=S,t.plungeRate=O,t.spindleOff=_,t.spindleOn=w,t.comment=se,t.dwell=ue,t.sync=be,t.time=x,t.xy=z,t.xyz=I,t.z=B,t.fastZ=j,t.linePrint=h,t.lineCount=f,t.gcodeUnits=()=>n,t.string=m,t},I5=DHe;var Aw={},oV={},NHe=(e,t)=>{oV[e]=t},OHe=(e,t,r)=>oV[e].header(t,r),LHe=(e,t,r,o)=>oV[e].footer(t,r,o);Aw.register=NHe;Aw.addHeader=OHe;Aw.addFooter=LHe;var BHe=Aw,$u=BHe;var FHe=.001,iV={process(e,t,r,o,i,n,s=0){return e.toPromise().then(function(a){return iV.processPathArray(a,t,r,o,i,n,!1,s)})},process3D(e,{feed:t,plunge:r},o,i=0){let n=N.store.getState(),s={x:0,y:0,z:Q.getOriginSafetyHeight({safetyHeight:Ge.getSafetyHeight(n)},n)};return iV.processPathArray(e.all(),s,t,r,o.z,!0,!0,i)},processPathArray(e,t,r,o,i,n,s,a){let l=bt.currentPostProcessor(N.store.getState()),c=I5(s);$u.addHeader(l,c,t),c.feedRate(r).plungeRate(o);let u=t,p=!0,m=-(i+.001),h=null,f=c.lineCount(),x=c.gcodeUnits(),v=e.reduce((O,L)=>O+L.points.length,0),b=Math.floor(v*a),S=0,w=!1;for(let O of e){O.props.comment!=null&&c.comment(O.props.comment);let L=O.props.rapid;for(let R of O.points){if(S<b){S++,u=R;continue}!w&&S>=b&&(w=!0,u=t),!Oe.pointsEqual(u,R)&&(R.z<m-FHe&&(h="toolpath_plunge"),u.z===R.z?L?c.fastXY(R.x,R.y):c.xy(R.x,R.y):u.x===R.x&&u.y===R.y?n&&u.z<R.z?c.fastZ(R.z):c.z(R.z):p?(c.fastXY(R.x,R.y),c.z(R.z),p=!1):c.xyz(R.x,R.y,R.z),u=R)}}let _=c.lineCount()-1;$u.addFooter(l,c,t,n);let E=N.store.getState(),T=ie.getSettings(E),A=ie.getFeatures(E)?.registers??{};return{gcode:c.string(),gcodeMetadata:{gcodeBodyStartLineIndex:f,gcodeBodyEndLineIndex:_,gcodeUnits:x},timeEstimate:c.time(T,A),error:h}}},U8=iV;var WHe=function(e){let t=0,r={},o={},i={};if(typeof Worker>"u")return{};let n=new Worker(e);n.onmessage=function(l){let{payload:c,type:u,jobId:p}=l.data,m,h,f,x;switch(u){case"done":typeof r[p]=="function"&&r[p](c),a(p);break;case"progress-updated":({progress:m}=c),typeof i[p]=="function"&&i[p](m);break;case"canceled":s(p,Iw);break;case"error":({message:f,stack:x}=c),h=new Error(f),h.stack=x,s(p,h);break;default:throw new Error("unknown message type: "+u)}};function s(l,c){let u=o[l];if(a(l),u!=null)typeof u=="function"&&u(c);else throw c}function a(l){delete r[l],delete i[l],delete o[l]}return{postTask({type:l,update:c,params:u,maxRunTime:p},m){let h=t++;i[h]=c;let f=new Promise(function(x,v){return r[h]=x,o[h]=v});return n.postMessage({type:l,jobId:h,params:u,maxRunTime:p},m),f},terminate(){n.terminate();for(let l of Object.keys(o))s(l,Iw);this.terminate=()=>{throw new Error(`term: Worker already terminated: ${e}`)},this.postTask=()=>{throw new Error(`post: Worker already terminated: ${e}`)}}}},Iw="canceled",nV=WHe;var Jp=P("three");var L3={label:"D",di:1,dj:0,pi:0,pj:0,qi:0,qj:-1},R8={label:"R",di:0,dj:1,pi:-1,pj:0,qi:0,qj:0},j8={label:"U",di:-1,dj:0,pi:-1,pj:-1,qi:-1,qj:0},G8={label:"L",di:0,dj:-1,pi:0,pj:-1,qi:-1,qj:-1};L3.turns={BB:G8,BW:L3,WW:R8,WB:R8};R8.turns={BB:L3,BW:R8,WW:j8,WB:j8};j8.turns={BB:R8,BW:j8,WW:G8,WB:G8};G8.turns={BB:j8,BW:G8,WW:L3,WB:L3};function xse(e){let t=[];for(let r=0;r<e.length;r++)for(let o=0;o<e[r].length;o++)e[r][o]&&t.push(UHe(e,r,o));return t}function VHe(e,t,r){return xse(e).map(o=>o.map(i=>({x:i.j*t+r.x,y:i.i*t+r.y})))}function UHe(e,t,r){let o=e.length,i=e[0].length,n=L3,s={i:t,j:r};r>0&&(e[t][r-1]|=2);let a={i:t+n.di,j:r+n.dj},l=[s,a];for(;s.i!=a.i||s.j!=a.j;){let c=a.i+n.pi,u=a.j+n.pj,p=a.i+n.qi,m=a.j+n.qj,h=0<=c&&0<=u&&c<o&&u<i?e[c][u]&1:0,f=0<=p&&0<=m&&p<o&&m<i?e[p][m]&1:0,x,v;h&&f?n=n.turns.BB:h&&!f?(x=p,v=m,n=n.turns.BW):!h&&!f?(x=c,v=u,n=n.turns.WW):(x=c,v=u,n=n.turns.WB),x!=null&&0<=x&&0<=v&&x<o&&v<i&&(e[x][v]|=2),a={i:a.i+n.di,j:a.j+n.dj},l.push(a)}RHe(e,t,r);for(let c=0;c<e.length;c++)for(let u=0;u<e[c].length;u++)e[c][u]&=1;return l}function RHe(e,t,r){let o=[{i:t,j:r}];for(;o.length>0;){let i=o.pop();i.i<0||i.j<0||i.i>=e.length||i.j>=e[t].length||e[i.i][i.j]&2||(e[i.i][i.j]=!e[i.i][i.j]+2,o.push({i:i.i+1,j:i.j}),o.push({i:i.i-1,j:i.j}),o.push({i:i.i,j:i.j+1}),o.push({i:i.i,j:i.j-1}))}}function jHe(e,t){let r=e.slice(0,-1),o=r.length;o<20&&(t=t/4);let i=Array(o),n=0;for(let l=0;l<o;l++){let c;n>20?(n=n-1,c=(l+n-1)%o):(c=GHe(r,l,t),n=(c-l+o)%o),i[l]={start:l,end:c,dist:n}}i.sort(gse);let s=[];for(;i.length>0;){let l=i.pop();s.push(l);let c=!1;i=i.filter(u=>hse(l.start,u.start,l.end)?!1:(hse(l.start,u.end,l.end)&&(u.end=l.start,u.dist=(u.end-u.start+o)%o,c=!0),!0)),c&&i.sort(gse)}let a=s.sort((l,c)=>l.start-c.start).map(l=>e[l.start]);return a.push(a[0]),a}function GHe(e,t,r){let o=e[t],i=e.length,n={up:0,down:0,left:0,right:0};yse(n,o,e[(t+1)%i]);for(let s=(t+2)%i;s!=t;s=(s+1)%i){let a=e[s];if(yse(n,e[(s-1+i)%i],a),n.up>0&&n.down>0&&n.left>0&&n.right>0)return(s+i-1)%i;let l=a.y-o.y,c=a.x-o.x;for(let u=(t+1)%i;u!=s;u=(u+1)%i){let p=e[u],m=1/0,h=1/0;if(l==0?h=p.y-o.y:c==0?m=p.x-o.x:(h=p.y-((p.x-o.x)*(l/c)+o.y),m=p.x-((p.y-o.y)*(c/l)+o.x)),Math.min(Math.abs(m),Math.abs(h))>r)return(s+i-1)%i}}if(i>4)throw new Error(`potrace.straightLine: unclosed path? len=${i}, i=${t}`);return(t+i-1)%i}function hse(e,t,r){return e<t&&t<r||r<e&&(t<r||e<t)}function gse(e,t){return e.dist==t.dist?e.start-t.start:e.dist-t.dist}function yse(e,t,r,o=1e-10){let i=r.x-t.x,n=r.y-t.y;if(i<-o)e.left++;else if(n<-o)e.down++;else if(i>o)e.up++;else if(n>o)e.right++;else throw new Error(`updateDirs: p0=(${t.x},${t.y}) p1=(${r.x},${r.y})`)}var sV={pixelBounds:xse,pixelPaths:VHe,smoothPath:jHe};var aV=class{constructor(t){y(this,"facesForY");y(this,"facesAtCurrentY",[]);y(this,"facesForX",[]);y(this,"facesAtCurrentYCurrentX",[]);this.facesForY=t.sort((r,o)=>o.bbox.min.y-r.bbox.min.y)}scanToY(t){for(;this.facesForY.length>0&&!(t<this.facesForY[this.facesForY.length-1].bbox.min.y);)this.facesAtCurrentY.push(this.facesForY.pop());this.facesAtCurrentY=this.facesAtCurrentY.filter(r=>t<=r.bbox.max.y),this.facesForX=this.facesAtCurrentY.slice().sort((r,o)=>o.bbox.min.x-r.bbox.min.x),this.facesAtCurrentYCurrentX=[]}getActiveAtX(t){for(;this.facesForX.length>0&&!(t<this.facesForX[this.facesForX.length-1].bbox.min.x);)this.facesAtCurrentYCurrentX.push(this.facesForX.pop());return this.facesAtCurrentYCurrentX=this.facesAtCurrentYCurrentX.filter(r=>t<=r.bbox.max.x),this.facesAtCurrentYCurrentX}},bse=aV;var lV=class e{constructor(t,r,o){y(this,"pixels");y(this,"resolution");y(this,"origin");this.pixels=t,this.resolution=r,this.origin=o}serialize(){let{pixels:t,resolution:r,origin:{x:o,y:i,z:n}}=this;return{pixels:t,resolution:r,origin:{x:o,y:i,z:n}}}getZ(t,r){let{origin:o,resolution:i,pixels:n}=this,s=Math.round((t-o.x)/i),a=Math.round((r-o.y)/i);return a<0||s<0||a>=n.length||s>=n[a].length?o.z:n[a][s]}getPoint(t,r){return{x:t,y:r,z:this.getZ(t,r)}}bbox(){let{origin:t,resolution:r,pixels:o}=this,i=new Jp.Box3;return i.min.x=t.x,i.min.y=t.y,i.min.z=-1/0,i.max.x=t.x+r*o[0].length,i.max.y=t.y+r*o.length,i.max.z=1/0,i}bitmap(t){let{resolution:r}=this,o=[];for(let i=t.min.y;i<=t.max.y;i+=r){let n=[];for(let s=t.min.x;s<=t.max.x;s+=r)n.push(this.getZ(s,i)>t.min.z?1:0);o.push(n)}return o}vectorize(t,r){let o=this.bitmap(t),i=sV.pixelPaths(o,this.resolution,t.min);for(let n=0;n<i.length;n++)i[n]=sV.smoothPath(i[n],r);return i}static sample(t,r,o,i){let n=t.bbox;n.min.x-=i,n.min.y-=i,n.max.x+=i,n.max.y+=i;let s=new bse(t.mapFaces((p,m,h)=>({a:p,b:m,c:h,bbox:new Jp.Box3().setFromPoints([p,m,h])})).filter(p=>{let m=new Jp.Vector3;return Jp.Triangle.getNormal(p.a,p.b,p.c,m),m.z>=0})),a=[],l=new Jp.Ray;l.direction=new Jp.Vector3(0,0,-1),l.origin.z=t.bbox.max.z+10;let c=new Jp.Vector3;for(let p=n.min.y;p<=n.max.y;p+=r){s.scanToY(p);let m=[];for(let h=n.min.x;h<=n.max.x;h+=r){let f=s.getActiveAtX(h);l.origin.x=h,l.origin.y=p;let x=o;for(let v of f)l.intersectTriangle(v.a,v.b,v.c,!1,c)!=null&&c.z>x&&(x=c.z);m.push(x)}a.push(m)}let u=n.min.clone();return u.z=o,new e(a,r,u)}},Dw=lV;var Zu=nV(EASEL_ASSETS.javascripts.toolpathGenerator),HHe={generateToolpaths(e,t,r){let o={...t.jobSettings};return t={...t,jobSettings:o,strategy:e,tile:t.tile!=null?t.tile.explode():void 0,vcarveNearestNeighbor:!0},Zu.postTask({type:"calculate-toolpaths",params:t,update:r}).then(i=>fo(i.map(n=>lr(n.points,n.props))))},generateToolpaths3D(e,t){console.time("3d-post-task");let r=Zu.postTask({type:"calculate-toolpaths-3d",params:{workpiece:e.serialize()},update:t});return console.timeEnd("3d-post-task"),r.then(({surfaceMap:o,roughing:i,roughingBoundaryPaths:n,finishing:s,finishingRasterLines:a,finishingBoundaryPaths:l})=>({surfaceMap:new Dw(o.pixels,o.resolution,o.origin),roughing:fo(i.map(c=>lr(c.points,c.props))),roughingBoundaryPaths:fo(n.map(c=>lr(c.points,c.props))),finishing:fo(s.map(c=>lr(c.points,c.props))),finishingRasterLines:a,finishingBoundaryPaths:fo(l.map(c=>lr(c.points,c.props)))}))},generateTabsInfo3D(e,t){return Zu.postTask({type:"calculate-tabs-info-3d",params:{workpiece:e.serialize()},update:t})},generatePreview(e,t,r){let o=e.useManifold;return e={...e,strokeBit:e.strokeBit!=null?e.strokeBit.explode():void 0,lastBit:e.lastBit!=null?e.lastBit.explode():void 0,tile:e.tile!=null?e.tile.explode():void 0},Zu.postTask({maxRunTime:r,type:o?"calculate-manifold-meshes":"calculate-meshes",params:e,update:t})},generateExplodedObjects(e){return Zu.postTask({type:"calculate-exploded-objects",params:e})},generateMedialAxis(e){return Zu.postTask({type:"calculate-medial-axis",params:e})},generateSimpleShapes(e){return Zu.postTask({type:"calculate-simple-shapes",params:e})},calculateEstimate2D(e){return Zu.postTask({type:"calculate-estimate-2d",params:e})},loadWASM(e){return Zu.postTask({type:"load-wasm",params:e})},simplifyMesh(e,t){return Zu.postTask({type:"simplify-mesh",params:{buffer:e,percentage:t,wasmPath:EASEL_ASSETS.wasm.simplify}},[e])},terminate(){Zu.terminate(),Zu=nV(EASEL_ASSETS.javascripts.toolpathGenerator)}},Qs=HHe;var zHe=()=>({feedRate:null,plungeRate:null,depthPerPass:null,useCustom:null,fillAngle:null,millingDirection:"default",rampingAngle:null,spindleSpeed:null}),cV=(e,t)=>{let r=re.bit(e),o=re.detailBit(e),i=re.outlineBit(e),n=re.strokeBit(e),s=re.detailBitEnabled(e),a=re.outlineBitEnabled(e);if(t==="detail"&&!o)throw new Error("detailBit is required for detail pass");if(t==="outline"&&!i)throw new Error("outlineBit is required for outline pass");let[l,c]={all:["bit",r],roughing:["bit",r],detail:["detailBit",o],outline:["outlineBit",i],pocket:["bit",r]}[t],u={fill:"fill"};t==="outline"?u={outline:"outline"}:a?u={fill:"fill",drill:"drill"}:(t==="detail"||t==="all")&&(u={fill:"fill",outline:"outline",drill:"drill"});let p=rt(re.bit(e)).inchWidth(),m=p/2;c.type===qe.v&&(m=p/8);let h={all:Ge.getBitSettings(e),roughing:Ge.getBitSettings(e),detail:Ge.getDetailBitSettings(e),outline:Ge.getOutlineBitSettings(e),pocket:Ge.getBitSettings(e)}[t]??zHe(),{fillAngle:f,millingDirection:x,rampingAngle:v,useCustom:b}=h,S=ga(l,e);return{jobSettings:{stepOver:Ge.getStepOver(e),vBitDetailStepOver:Ge.getVBitDetailStepOver(e),profileStepOver:Ge.getProfileStepOver(e),ballnoseStepOver:Ge.getBallnoseStepOver(e),safetyHeight:Ge.getSafetyHeight(e),bit:r,detailBit:o,outlineBit:i,volumes:ye.getVolumes(e),passType:t,materialThickness:q.getMaterialThickness(e),cutTypes:u,preferredUnit:Me.getPreferredUnit(e),retractHeight:m,strokeBit:n,useDetailBit:s,useOutlineBit:a,useCustom:b??!1,...S.getSettings()},materialSize:q.getMaterialDimensions(e),machineProfileId:et.getCurrentProfileId(e),fillingMethod:f!=null?"raster":"offset",fillingDirection:f!=null?f*Math.PI/180:0,millingDirection:x??"default",rampingAngle:v?v*Math.PI/180:null,tile:Dt.getSelectedTile(e)}};var Nw=async function(e,t,r=0){Cse.notify(t);let o=N.store.getState(),i=cV(o,t),{jobSettings:n,tile:s,machineProfileId:a,fillingMethod:l,rampingAngle:c}=i,u=await Qs.generateToolpaths(e,i,Pse.notify),p=await vse(u,n,r);return console.log(`Generated gcode: estimated ${p.timeEstimate.toFixed(2)} minutes`),le(p,{jobSettings:n,tile:s?s.explode():null,machineProfileId:a,fillingMethod:l,rampingAngle:c})},vse=async function(e,t,r=0){let o=N.store.getState(),i=Y.isCarvey(o)?{x:20/25.4,y:20/25.4,z:20/25.4}:{x:0,y:0,z:Q.getOriginSafetyHeight(t,o)},{volumes:n,materialThickness:s,feedRate:a,plungeRate:l}=t,c=Q.getRapidRetractsEnabled(o),u=Math.max(...n.map(m=>m.cut.additionalDepthAmount||0))+s,p=await U8.process(e,i,a,l,u,c,r);return it("pair_programming_exercise")&&(p=le(p,{paths:e})),p},Sse=async function({style:e,previewDuration:t=0,previewImplementation:r=null,startPercentage:o=0}){let i="layer_by_layer",n=N.store.getState(),s=re.outlineBitEnabled(n),a=re.detailBitEnabled(n);(re.bit(n).type===qe.v||a&&re.detailBit(n).type===qe.v)&&(i="v_carving");let l=performance.now(),c=[],u,p,m;try{if(e==="all"&&(a||s))u=await Nw(i,a?"roughing":"pocket",o),a&&(p=await Nw(i,"detail",o)),s&&(m=await Nw(i,"outline",o));else{let f=await Nw(i,e,o);e==="detail"?p=f:e==="outline"?m=f:u=f}}finally{c=[u,p,m].filter(f=>f!=null),wse.notify(c)}let h=performance.now()-l;return H.trackEvent("Generated 2.5D toolpaths",{"Preview duration":t,"Toolpath duration":h,"Total duration":t+h,"Toolpath strategy":i,"Fill method":c[0].fillingMethod,"Descent method":c[0].rampingAngle!=null?"ramping":"plunge","Roughing Toolpath Estimate (minutes)":u?.timeEstimate??0,"Finishing Toolpath Estimate (minutes)":p?.timeEstimate??0,"Outlines Toolpath Estimate (minutes)":m?.timeEstimate??0,"Preview implementation":r}),c},XHe=async function(e){try{return await Sse(e)}catch(t){console.warn("Ignoring toolpath error",t)}return[]},uV=function(){let e=[];return{subscribe:function(o){e.push(o)},notify:function(o){for(let i of e)i(o)}}},Cse=uV(),Pse=uV(),wse=uV(),YHe={process:Sse,safeProcess:XHe,onBeginPass:Cse.subscribe,onUpdate:Pse.subscribe,onFinish:wse.subscribe,toolpathsToGcode:vse,getParams:cV},Ms=YHe;var qHe={process:e=>{let r=[];for(let o=0;o<5e4;o++)r.push({x:Math.random()*8,y:Math.random()*8,z:0});return e.forEach(o=>{r.forEach(i=>{i.z=Math.min(i.z,o.z(i))})}),r}},_se=qHe;var Vf=M(P("three"),1);var $He=function(e){let t={},{f:r,r:o,a:i,b:n,m:s,n:a,R:l}=e,c=i===0&&n===0?r+o:r+o*n/Math.hypot(i,n),u=a+Math.sqrt(o*o-(s-r)*(s-r)),p=u-Math.sqrt(o*o-(c-r)*(c-r)),m=(v,b)=>v[0]*b[0]+v[1]*b[1]+v[2]*b[2],h=function(v,b){let S=Math.hypot(v,b);return s===0&&S===0?0:S>l?p+n:S<=s?a/s*S:s<S&&S<c?u-Math.sqrt(o*o-(S-r)*(S-r)):c<=S&&S<=c+i?p+n/i*(S-c):null},f=function(v,b){let S,w=Math.abs(v),_=Math.abs(b),E=function(L){return w<r?r:L},T=s!==0&&_<a/s?s*Math.sqrt(1-b*s/a*(b*s/a)):0,A=_<n/i?c*Math.sqrt(1-b*i/n*(b*i/n)):c+i,O=b===0?1:b/_;return w<T?S=w/Math.sqrt(1-b*s/a*(b*s/a)):T<=w&&w<=A?S=E(v):A<=w&&(S=w/Math.sqrt(1-b*i/n*(b*i/n))),O*Math.sqrt(S*S-v*v)},x=function(v,b,S,w){let _=v.x,E=v.y,T=v.z,A=b.x,O=b.y,L=b.z,R=A-_,z=O-E,I=L-T,F=Math.hypot(R,z),B=I/F,j=[R/F,z/F,0],X=[-z/F,R/F,0],te=[S-_,w-E,0],se=m(X,te),ue=m(j,te);if(Math.abs(se)>l||ue<0&&Math.hypot(se,ue)>l||ue>F&&Math.hypot(se,F-ue)>l)return null;let be=f(se,B);if(ue<=be)return T+h(se,ue);if(be<ue&&ue<be+F)return T+h(se,be)+B*(ue-be);if(ue>=be+F)return L+h(se,ue-F)};return t.cutterSweptSurface=x,t},pV=$He;var ZHe=function(e){let t=e.inchWidth()/2;return e.type()===qe.v?pV({f:0,r:0,a:t,b:t,m:0,n:0,R:t}):pV({f:t,r:0,a:0,b:0,m:t,n:0,R:t})},JHe=function(e,t,r){let o=Math.max(-e.z,-t.z),i=r.type()===qe.v&&o===0?0:r.inchWidth(o)/2;return function(n){let s=new Vf.Vector3(n.x,n.y,0),a=new Vf.Vector3(e.x,e.y,0),l=new Vf.Vector3(t.x,t.y,0),c=new Vf.Vector3().subVectors(s,a),u=new Vf.Vector3().subVectors(l,a),p=Vf.Math.clamp(c.dot(u)/u.dot(u),0,1);return new Vf.Vector3().subVectors(c,u.multiplyScalar(p)).length()-i||1/0}},KHe=function(e,t,r){let o=ZHe(r);return i=>o.cutterSweptSurface(e,t,i.x,i.y)||1/0},QHe=(e,t,r)=>({z:KHe(e,t,r),distanceTo:JHe(e,t,r)}),kse=QHe;var eze=({paths:e,bit:t})=>{let r=[];for(let{points:o}of Array.from(e.all()))for(let i=0;i<o.length;i++){let n=o[i];i===0||n.z>0||r.push(kse(o[i-1],o[i],t))}return r},Tse=eze;var tze=e=>{let t=1,r=()=>{let p=e;for(;p.length>0;){let m=p.shift();p=p.concat(m.children??[]),m.geometry?.dispose(),m.material?.dispose()}e=[]},o=p=>(...m)=>{if(t===0)throw new Error("Calling method on disposed PreviewElement instance! (Did you forget to call `retain` or hold a reference after calling `release`?)");return p(...m||[])},i=o(()=>e),n=o(()=>e.map(p=>p.group)),s=o(p=>{for(let m of e)m.material.visible=!p.includes(m.group)}),a=o(()=>{for(let p of e)p.material.visible=!0}),l=o(()=>{t++}),c=o(()=>{t--,t===0&&r()}),u=o(p=>{for(let m of e)m.visible=p});return{getMeshes:i,getGroups:n,setHiddenGroups:s,showAllGroups:a,retain:l,release:c,setVisible:u}},ba=tze;var A2=M(P("three"),1);var Ow=M(P("three"),1),rze=function(e){let t=new Ow.BufferGeometry,r=e*e*2,o=new Float32Array(r*3*3);t.setAttribute("position",new Ow.BufferAttribute(o,3));let i=function(){let n=0;return function(s,a,l){s[n]=a/e-.5,s[n+1]=.5-l/e,s[n+2]=0,n+=3}}();for(let n=0;n<e;n++)for(let s=0;s<e;s++)i(o,s,n),i(o,s,n+1),i(o,s+1,n),i(o,s,n+1),i(o,s+1,n+1),i(o,s+1,n);return t},Ese=rze;var Mse=M(P("three"),1),oze={setNonPowerOfTwoSettings:e=>{e.generateMipmaps=!1,e.minFilter=Mse.LinearFilter}},B3=oze;var ize=function(){let e={},t=null,r=null,o=null,i=null,n=null,s=me.MATERIAL_TEXTURE_SIZE,a=`    uniform sampler2D heightTex;
    uniform sampler2D colorTex;
    uniform sampler2D colorTex2;
    uniform float maxDepth;
    uniform float tex2Depth;
    uniform float width;
    varying vec4 vColor;
    varying float height;
    void main() {
      float step = 1.0/width;
      vec2 vUv = vec2(position.x + 0.5, position.y + 0.5);

      vec4 disp_avg = texture2D(heightTex, vUv.xy+vec2(step, 0)) +
        texture2D(heightTex, vUv.xy+vec2(-step, 0)) +
        texture2D(heightTex, vUv.xy+vec2(0, -step)) +
        texture2D(heightTex, vUv.xy+vec2(0, step)) +
        texture2D(heightTex, vUv.xy+vec2(-step, -step)) +
        texture2D(heightTex, vUv.xy+vec2(step, -step)) +
        texture2D(heightTex, vUv.xy+vec2(step, step)) +
        texture2D(heightTex, vUv.xy+vec2(-step, step));
      disp_avg /= 8.0;
      vec4 disp = texture2D(heightTex, vUv.xy);
      disp = (disp + disp_avg) / 2.0;

      /* Drop the material below the floor if it is at the edges of the work area */
      if (vUv.x>0.9999 || vUv.x<0.0001 || vUv.y<0.0001 || vUv.y>0.9999){
        disp = vec4(-0.25,0.0,0.0,0.0);
      }

      /* Make anything that is close to being at 0 height be below 0 to prevent "sawdust" */
      if (disp.r < 0.005) {
        disp.r = -0.25;
      }
      /* Read the depth from the red channel for accurate preview */
      vec3 pos = vec3(position.x, position.y, maxDepth * disp.r);

      if (pos.z < tex2Depth || pos.z >= maxDepth - tex2Depth) {
        vColor = texture2D(colorTex, vUv.xy);
      } else {
        vColor = texture2D(colorTex2, vUv.xy);
      }

      height = disp.r;
      gl_Position = projectionMatrix*modelViewMatrix*vec4(pos,1.0);
    }  `,l=`    varying vec4 vColor;
    varying float height;


    void main() {
      /* Scale brightness to within a range of about 0.49-0.98 times the input texture color. */
      /* (1.0 + height) / 2 (i.e. 0.5-1.0) would match the scale in previewMeshDeserializer, */
      /* but we use a different coefficient here to visually match that other preview, which  */
      /* (unlike this shader) is affected by scene lighting.                                  */
      float dark = (1.0 + height) / 2.1;

      vec4 col = vec4(vColor.r * dark, vColor.g * dark, vColor.b * dark, vColor.a);

      /* hide the material that is below the floor by setting the color to white */
      if (height <= 0.0) {
        col = vec4(1.0, 1.0, 1.0, 1.0);
      }

      gl_FragColor = col;
      #include <tonemapping_fragment>
      #include <colorspace_fragment>
    }  `,c=(m,h)=>{r[m].value=h},u=({textures:m,dimensions:h,materialBoundary:f,tile:x})=>{c("colorTex",m[0].texture),m.length>1?(c("tex2Depth",-m[0].bottomZ),c("colorTex2",m[1].texture)):(c("tex2Depth",0),c("colorTex2",m[0].texture));let v=x!=null?x.getOffsetDistance():0;i.scale.x=f.maxX-f.minX,i.scale.y=f.maxY-f.minY,i.position.x=(f.minX+f.maxX)/2,i.position.y=(f.minY+f.maxY)/2-v,c("maxDepth",h.z),o?.dispose(),o=new A2.Texture(t),B3.setNonPowerOfTwoSettings(o),c("heightTex",o),o.needsUpdate=!0},p=function(m){t=m,o=new A2.Texture(t),B3.setNonPowerOfTwoSettings(o),r={heightTex:{type:"t",value:o},colorTex:{type:"t",value:null},colorTex2:{type:"t",value:null},width:{type:"f",value:s},maxDepth:{type:"f",value:1},tex2Depth:{type:"f",value:0}};let h=Ese(s),f=new A2.ShaderMaterial({uniforms:r,vertexShader:a,fragmentShader:l,transparent:!0});i=new A2.Mesh(h,f),n=ba([i])};return e.initialize=p,e.update=u,e.getGraphic=()=>n,e},Ase=ize;var nze=function(e){let t={},r=new fabric.Canvas("tmp"),o=Ase();o.initialize(r.getElement());let i=function(n){let{textures:s,dimensions:a,materialBoundary:l,tile:c,volumes:u}=n;o.update({textures:s,dimensions:a,materialBoundary:l,tile:c});let p=le(n,{origin:{x:l.minX,y:l.maxY}}),m=b3.getJSON(p,b3.renderType.TEXT_AS_PATH_SHAPE),h=60;r.setWidth(h*(l.maxX-l.minX)),r.setHeight(h*(l.maxY-l.minY)),r.loadFromJSON(m);let f={};u.forEach(v=>f[v.id]=v);let x=r.getWidth()/((l.maxX-l.minX)*me.PIXELS_PER_INCH);for(let v of r.getObjects()){let b=f[v.easel.id],{depth:S}=b.cut;v.easel.type==="tab"&&(S-=b.cut.tabHeight);let w=(255*(1-S/a.z)).toFixed(0),_=`rgb(${w}, ${w}, ${w})`;v.fill!=="transparent"&&(v.fill=_),v.stroke!=="transparent"&&(v.stroke=_),v.easel.cut.type==="drill"&&(v.strokeWidth=0),v.left*=x,v.top*=x,v.scaleX*=x,v.scaleY*=x}r.backgroundColor="#FFFFFF",r.doRenderAll(),e.setInaccurateElement(o.getGraphic())};return t.renderPreview=i,t},Ise=nze;var Pi=M(P("three"),1);var sze=function({minX:e,maxX:t,minY:r,maxY:o,z:i,meshes:n},s,a,l){let u=l??i,p=Dt.getSelectedTile(N.store.getState()),m=p?.getOffsetDistance()||0,h=[new Pi.Plane(new Pi.Vector3(1,0,0),-e),new Pi.Plane(new Pi.Vector3(0,1,0),-r+m),new Pi.Plane(new Pi.Vector3(0,0,1),0),new Pi.Plane(new Pi.Vector3(-1,0,0),t),new Pi.Plane(new Pi.Vector3(0,-1,0),o-m)],f=function(b,S,w){if(w!==0)for(let E=1;E<b.length;E+=3)b[E]-=w;let _=new Pi.BufferGeometry;return _.setAttribute("position",new Pi.BufferAttribute(b,3)),_.setAttribute("uv",new Pi.BufferAttribute(S,2)),_.computeVertexNormals(),_},x=function({color:b=16777215,depth:S=0,opacity:w=1,clip:_=!0,doubleSided:E=!1}){let T,A=_?{color:b,clippingPlanes:h}:{color:b};return E&&(A.side=Pi.DoubleSide),s?(T=new Pi.MeshLambertMaterial(A),T.onBeforeCompile=O=>{O.uniforms.materialDepth={value:u},O.uniforms.surfaceDepth={value:S};for(let L=0;L<s.length;L++)O.uniforms[`texture${L}`]={value:s[L].texture},O.uniforms[`textureBottom${L}`]={value:s[L].bottomZ};O.uniforms.numTextures={value:s.length},O.vertexShader=`
          uniform float materialDepth;
          uniform float surfaceDepth;
          varying float vDepthMultiply;
          varying vec3 vLocalPosition;
          varying vec2 vUv;
          ${O.vertexShader}`,O.vertexShader=O.vertexShader.replace("#include <begin_vertex>",`#include <begin_vertex>
          vLocalPosition = vec3(transformed.x, transformed.y, transformed.z - surfaceDepth);
          vDepthMultiply = (1.0 + 0.5 * vLocalPosition.z / materialDepth);
          vUv = uv;`),O.fragmentShader=`
          uniform int numTextures;
          ${s.map((L,R)=>`uniform sampler2D texture${R};`).join(`
`)}
          ${s.map((L,R)=>`uniform float textureBottom${R};`).join(`
`)}
          varying float vDepthMultiply;
          varying vec3 vLocalPosition;
          varying vec2 vUv;
          ${O.fragmentShader}`,O.fragmentShader=O.fragmentShader.replace("#include <color_fragment>",`#include <color_fragment>
          vec4 textureColor = vec4(1.0);
          ${s.map((L,R)=>R===0?`if (vLocalPosition.z >= textureBottom${R}) {
                  vec4 baseColor = texture2D(texture${R}, vUv);
                  textureColor = baseColor;
                }`:`else if (vLocalPosition.z >= textureBottom${R}) {
                  vec4 baseColor = texture2D(texture${R}, vUv);
                  float pixelWidth = fwidth(vLocalPosition.z); // Z change per pixel
                  float distFromUpperBoundary = textureBottom${R-1} - vLocalPosition.z;
                  if (distFromUpperBoundary < pixelWidth) {
                    vec4 upperColor = texture2D(texture${R-1}, vUv);
                    float blend = distFromUpperBoundary / pixelWidth;
                    textureColor = mix(upperColor, baseColor, blend);
                  } else {
                    textureColor = baseColor;
                  }
                }`).join(`
`)}
          // Apply depth-based darkening:
          diffuseColor.rgb = textureColor.rgb * vDepthMultiply;`)}):T=new Pi.MeshBasicMaterial(A),w<1&&(T.transparent=!0,T.opacity=w),T.alphaMap=a,T},v=function(b,S,w,_,E){_==null&&(_=0);let T=new Pi.Mesh(b,S);return T.position.z+=w-_,T.group=E,T};return n.map(function(b){let{position:S,uv:w,options:_}=b,E=f(S,w,m),T=x(_);return v(E,T,i,_.depth,_.group)})},H8=sze;var z8=M(P("three"),1),aze=function(e){let t=null,r=null,o=function(){e.setAccurateElement(null),e.setHighlightElement(null)};return{clearPreview:o,renderPreview:async function(a,l,c,u,p){o();let{material:m,highlight:h}=await Qs.generatePreview(l,c,u);if(!p())return!1;let f=ba(H8(m,a,r));e.setAccurateElement(f),f.release();let x=ba(H8(h,void 0,r));return e.setHighlightElement(x),x.release(),!0},updateTileTexture:function(a,l){t===null&&(t=document.createElement("canvas")),r===null&&(r=new z8.CanvasTexture(t),r.magFilter=z8.NearestFilter,r.minFilter=z8.NearestFilter);let c=t.getContext("2d"),u=me.MATERIAL_TEXTURE_SIZE/a.x,p=me.MATERIAL_TEXTURE_SIZE/a.y;if(t.width=a.x*u,t.height=a.y*p,c.fillStyle="#ffffff",c.fillRect(0,0,t.width,t.height),l!=null){let m=l.getDimensions(),h=l.getOffsetDistance();c.fillStyle="#e6e6e6",c.fillRect(0,(t.height/p-m.y-h)*p,m.x*u,m.y*p)}r.needsUpdate=!0},disposeTileTexture:()=>{r&&(r.dispose(),t=null,r=null)}}},F3=aze;var I2={},X8=0,Lw=0,Dse=!1,lze=function(){$("#overlay-container").length===0&&$("body").append("<div id='overlay-container'><div id='bg-overlay'></div></div>")},cze=function(){$("#progress-bar-container").length===0&&$("#overlay-container").append("<div id='modal'><div id='progress-bar-container'><div id='bar'></div></div><p id='progress-text'></p><p id='progress-status'></p></div>")},uze=()=>$("#overlay-container").remove(),Nse=function(e){X8=e,Ose(),Bse(100*X8/Lw)},pze=()=>Nse(X8+1),Ose=function(){Dse?$("#progress-status").text(X8+"/"+Lw):$("#progress-status").text("")},dze=function(e,t){Lse(e,t),lze(),cze(),Bse(0)},Lse=function(e,t){Lw=e,Dse=t,Ose()},mze=e=>$("#progress-text").text(e),fze=function(){uze(),Lw=null,X8=0},Bse=e=>$("#bar").css("width",Math.min(100,e)+"%");I2.initialize=dze;I2.setText=mze;I2.setTotal=Lse;I2.setValue=Nse;I2.increment=pze;I2.close=fze;var hze=I2,Jo=hze;var gze=function(e,t){t=t||b5();let r;e.color!=null?r=e.color.layers.map(i=>{let{rgb:n,bottomZ:s,relativeTo:a}=i;return a==="bottom"&&(s-=q.getMaterialThickness(N.store.getState())),{texture:t.loadColoredMaterial(e,...n),bottomZ:s}},t):r=[{texture:t.loadMaterial(e),bottomZ:-q.getMaterialThickness(N.store.getState())}];let o=r.map(i=>{let{texture:n,bottomZ:s}=i;return n.then(a=>({texture:a,bottomZ:s}))});return Promise.all(o)},yze={getMaterialTextures:gze},Y8=yze;var xze=250,bze=2500,vze=.5,Ww=!1,Fw=!1,Fse=1/0,Wse=null,D5=!1,N5=null,Vse=null,mV=null,Use=function(){let e=N.store.getState();return!Ww&&(!Fw||!(ye.getCarveableVolumes(e).length>=Fse*vze))},Sze=ha(function(){D5&&Use()&&fV(bze)},xze),Cze=ha(async function(){if(!D5)return;let e=N.store.getState(),t=await Y8.getMaterialTextures(q.getActiveMaterial(e),mV);N5.clearPreview();let r=q.getMaterialDimensions(e),o=q.getXYZeroLocation(e),i={textures:t,volumes:ye.getCarveableVolumes(e),dimensions:r,materialBoundary:ot.materialBoundary(r,o),strokeBit:rt(re.strokeBit(e)),drillBit:rt(re.drillBit(e)),tile:Dt.getSelectedTile(e)};Vse.renderPreview(i)},200),dV=function(){if(!D5)return;let e=N.store.getState();W.getExternalGcode(e)==null&&(Wse=Date.now(),Cze(),Use()?(N.store.dispatch(Nr.actions.invalidatePreview("WORKING")),Sze()):N.store.dispatch(Nr.actions.invalidatePreview("DISABLED")))},Bw=()=>{if(!D5)return;let e=N.store.getState(),t=q.getMaterialDimensions(e),r=Dt.getSelectedTile(e);N5.updateTileTexture(t,r)},Pze=function(e){D5=!0,mV=b5(),N5=F3(e),Bw(),Vse=Ise(e),[re.bitParams,Ge.getSettings,Y.getMachineType,Y.getWorkArea,q.getMaterialDimensions,q.getXYZeroLocation,q.getActiveMaterial,Dt.getSelectedTile,Dt.getTileOverlapDistance,Me.getUnitState,Q.getStartStopSafetyHeight,ye.getCarveableVolumes].forEach(t=>{N.store.subscribeWithSelector(t,dV)}),N.store.subscribeWithSelector(q.getActiveMaterial,Bw),N.store.subscribeWithSelector(Dt.getSelectedTile,Bw),N.store.subscribeWithSelector(Dt.getTileOverlapDistance,Bw),N.store.subscribeWithSelector(Nr.productPreviewEnabled,wze),dV()},wze=e=>{if(D5&&e)return Jo.initialize(),Jo.setTotal(1),Jo.setText("Generating Product Preview"),fV(1/0,Jo.setValue).then(Jo.close)},_ze=function(){Ww=!1,dV()},kze=function(){Ww=!0,N5?.clearPreview(),N.store.dispatch(Nr.actions.setDesignStatusToDisabled())},fV=async function(e,t){let r=N.store.getState(),o=Date.now();N.store.dispatch(Nr.actions.setDesignStatusToWorking()),Ww=!1,Fw=!1;let i=ye.getCarveableVolumes(r);Fse=i.length;let n=q.getMaterialDimensions(r),s=q.getXYZeroLocation(r),a=ot.materialBoundary(n,s),l=Dt.getSelectedTile(r),c=re.detailBitEnabled(r)?rt(re.detailBit(r)):rt(re.bit(r)),u=rt(re.strokeBit(r)),p=Nr.productPreviewEnabled(r),m=await Y8.getMaterialTextures(q.getActiveMaterial(r),mV),h=re.outlineBitEnabled(r),x=!(c.type()===qe.v||u.type()===qe.v),v={dimensions:n,materialBoundary:a,volumes:i,lastBit:c,strokeBit:u,useOutlineBit:h,tile:l,productPreviewEnabled:p,useManifold:x},b=()=>Wse<o;try{if(await N5.renderPreview(m,v,t,e,b))return N.store.dispatch(Nr.actions.setDesignStatusToReady()),Fw=!1,x?"Manifold":"Legacy"}catch(S){S===Iw?H.trackEvent("3D preview timeout",{"Preview type":x?"Manifold":"Legacy","Toolpath strategy":c.type()===qe.v?"v_carving":"layer_by_layer"}):(H.trackEvent("3D preview error",{"Preview type":x?"Manifold":"Legacy","Toolpath strategy":c.type()===qe.v?"v_carving":"layer_by_layer",message:S.message,stack:S.stack}),console.error(S)),N5.clearPreview(),N.store.dispatch(Nr.actions.setDesignStatusToDisabled()),Fw=!0}return null},Tze=()=>{D5&&(D5=!1,N5.disposeTileTexture())},Eze={init:Pze,disable:Tze,disableDetailedPreview:kze,enableDetailedPreview:_ze,generateDetailedPreview:fV},Ju=Eze;var um={},va={},q8=null,Mze=e=>(q8=e,va={wasteboardGraphic:null,inaccurateGraphic:null,accurateGraphic:null,highlightGraphic:null},um),Rse=(e=!1,t=!0,r=!1,o=!1,i=!0)=>{va.accurateGraphic!=null&&(va.accurateGraphic.setVisible(t),t&&(r?va.accurateGraphic.setHiddenGroups(o):va.accurateGraphic.showAllGroups())),va.highlightGraphic!=null&&va.highlightGraphic.setVisible(e),va.wasteboardGraphic!=null&&va.wasteboardGraphic.setVisible(i),va.inaccurateGraphic!=null&&va.inaccurateGraphic.setVisible(va.accurateGraphic==null&&t),q8.render()},Vw=function(e,t){let r=va[e];t?.retain(),r!=null&&(q8.removeMeshes(r.getMeshes()),r.release()),va[e]=t,t!=null&&q8.addMeshes(t.getMeshes()),Rse()},Aze=e=>Vw("inaccurateGraphic",e),Ize=e=>Vw("accurateGraphic",e),Dze=e=>Vw("highlightGraphic",e),Nze=e=>Vw("wasteboardGraphic",e),Oze=()=>va.accurateGraphic.getGroups(),Lze=()=>{Object.entries(va).forEach(([,e])=>{e!=null&&(q8.removeMeshes(e.getMeshes()),e.release())}),va={}};um.init=Mze;um.releaseGraphics=Lze;um.setInaccurateElement=Aze;um.setAccurateElement=Ize;um.setHighlightElement=Dze;um.setWasteboardElement=Nze;um.getGroups=Oze;um.updateVisibility=Rse;var Bze=um,W3=Bze;var jse=function(){let e,t,r,o,i={},n=[],s=0,a=function(x,v){return n.push({callback:v,description:x,status:"pending"}),i},l=()=>typeof e=="function"&&e(),c=function(x){return x==null&&(x={}),{update:o,done:t,error:r,always:e}=x,s=0,(x.serial?p(n):m(n)).then(()=>typeof t=="function"&&t()).catch(function(b){return l(),Promise.reject(b)}).then(l)},u=x=>new Promise(x.callback.bind(i)).then(()=>h(x)).catch(function(v){return f(x,v),Promise.reject(v)});var p=function(x){let v=Promise.resolve();for(let b of x)(S=>v=v.then(()=>new Promise(setTimeout)).then(()=>u(S)))(b);return v},m=x=>Promise.all(x.map(v=>u(v))),h=function(x){x.status="loaded",s++,o&&o(x.description,s,n.length)},f=function(x,v){x.status="failed",typeof r=="function"&&r(v)};return i.register=a,i.load=c,i.pendingTasks=()=>n.filter(x=>x.status==="pending"),i};jse.group=function(){let e={};return t=>e[t]||(e[t]=Gse())}();var Gse=jse,nt=Gse;var Fze={gcodeWord:new RegExp(/([a-zA-Z])([+-]?(?:\d*\.\d+|\d+\.?))/g),xyz:new RegExp(/(?:G[0]?[01]|^)(?:X([+-]?(?:\d*\.\d+|\d+\.?)))?(?:Y([+-]?(?:\d*\.\d+|\d+\.?)))?(?:Z([+-]?(?:\d*\.\d+|\d+\.?)))?/),command:new RegExp(/(G)(?:0?)([0-9]+).*?/),lineEndingComment:new RegExp(/;.*/),parentheticalComment:new RegExp(/\([^\)]*\)/g)},O5=Fze;var $8={},Wze=79,Vze={G4:"G4",G04:"G04",G54:"G54",G0:"G0",G00:"G00",G1:"G1",G01:"G01",G94:"G94",G20:"G20",G21:"G21",G90:"G90",G17:"G17",G61:"G61",M0:"M0",M00:"M00",M1:"M1",M01:"M01",M2:"M2",M02:"M02",M30:"M30",M7:"M7",M07:"M07",M8:"M8",M08:"M08",M9:"M9",M09:"M09",M3:"M3",M03:"M03",M4:"M4",M04:"M04",M5:"M5",M05:"M05"},Uze={X:"X",Y:"Y",Z:"Z",F:"F",T:"T",S:"S",P:"P"},Rze=e=>e.length<=Wze,jze=function(e){let t;for(O5.gcodeWord.lastIndex=0;t=O5.gcodeWord.exec(e);){let r=t[0],o=t[1];if(!Uze[o]&&!Vze[r])return!1}return!0},Gze=(e,t)=>!Hse(e,t),Hse=function(e,t){let{x:r,y:o,z:i}=e,{minX:n,maxX:s,minY:a,maxY:l,minZ:c,maxZ:u,radius:p}=t;if(r<n||s<r||o<a||l<o||i<c||u<i)return!1;if(p==null)return!0;let m=(n+s)/2,h=(a+l)/2,f=(s-n)/2,x=(l-a)/2;return n+p<=r&&r<=s-p||a+p<=o&&o<=l-p||Math.hypot(Math.abs(r-m)-(f-p),Math.abs(o-h)-(x-p))<=p};$8.isSyntaxValid=jze;$8.isLineLengthValid=Rze;$8.isPositionInside=Hse;$8.isPositionOutside=Gze;var Hze=$8,Z8=Hze;var zze=function(e){let t={},r=.03937007874015748,o=null;e==null&&(e={}),e={x:e.x!=null?e.x:0,y:e.y!=null?e.y:0,z:e.z!=null?e.z:1};let i=[/M6(?:$|[^\d])/,/G40(?:$|[^\d])/],n=function(l){l=l.replace(/G0[0-9]/gi,c=>c.replace(/0/,""));for(let c of i)l=l.replace(c,"");return l=l.replace(O5.lineEndingComment,""),l=l.replace(O5.parentheticalComment,""),l.replace(/\s+/g,"")},s=function(l){l.match(/G21/)&&(r=1/25.4),l.match(/G20/)&&(r=1);let c=l.match(O5.xyz);return c&&(c[1]!=null&&(e.x=r*parseFloat(c[1])),c[2]!=null&&(e.y=r*parseFloat(c[2])),c[3]!=null&&(e.z=r*parseFloat(c[3]))),{x:e.x,y:e.y,z:e.z}},a=function(l){let c=l.match(O5.command);return c&&c[1]!=null&&c[2]!=null&&(o=c[1]+c[2]),o};return t.format=n,t.positionFromLine=s,t.commandFromLine=a,t},Uw=zze;var Xse={},zse="G-code validation failed",Xze="The file contains lines exceeding the maximum character count.",Yze="The file contains invalid G-code syntax.",qze="Design overlaps clamp",$ze="Part of your design is under the Smart Clamp and cannot be carved. Move your design away from the Smart Clamp and try again.",Zze="Design too large",Jze="Your design exceeds the work area bounds. Make your design smaller and try again.",Kze=function(e){let{gcodeString:t,checkSyntax:r,done:o,update:i,initialPosition:n,keepInRects:s,keepOutRects:a}=e;if(t==null)return typeof o=="function"?o():void 0;s=s||[],a=a||[],n=n||{x:0,y:0,z:1},r==null&&(r=!0);let l=t.split(`
`),c=nt(),u=Uw(n),p=[],m=Math.ceil(l.length/10);for(let h=0;h<l.length;h+=m)c.register(`Validating gcode (${h} / ${l.length})`,function(f,x){let v=(S,w,_)=>x({lineNumber:S+1,gcodeLine:l[S],title:w,message:_}),b=Math.min(h+m,l.length);for(let S=h;S<b;S++){let w=u.format(l[S]);if(w==="")continue;if(!Z8.isLineLengthValid(w))return v(S,zse,Xze);if(r&&!it("allow_all_gcode")&&!Z8.isSyntaxValid(w))return v(S,zse,Yze);let _=u.positionFromLine(w);for(let T of s)if(!Z8.isPositionInside(_,T))return v(S,Zze,Jze);let E=!1;for(let T of a)if(!Z8.isPositionOutside(_,T))if(_.x===0&&_.y===0&&_.z>0)E=!0;else return v(S,qze,$ze);E||p.push(w)}return f()});return c.load({update:i,done(){return typeof o=="function"&&o(p.join(`
`))},serial:!0})};Xse.validate=Kze;var Qze=Xse,V3=Qze;var hV=(e,t)=>V3.validate({gcodeString:e,keepInRects:Y.getKeepInRects(N.store.getState()),keepOutRects:Y.getKeepOutRects(N.store.getState()),checkSyntax:!1}).catch(t),eXe=(e,t,r)=>{let o=!1,i=n=>{o||(o=!0,Fe(n.title,n.message))};e.gcode&&hV(e.gcode,i),t?.gcode&&hV(t.gcode,i),r?.gcode&&hV(r.gcode,i)},tXe=e=>{let t=rt(e.jobSettings.bit),r=_se.process(Tse({paths:e.paths,bit:t})),o=q.getMaterialDimensions(N.store.getState()),i=new L5.BufferGeometry;i.setAttribute("position",new L5.Float32BufferAttribute(r.flatMap(s=>[s.x,s.y,s.z+o.z+.005]),3));let n=ba([new L5.Line(i,new L5.LineBasicMaterial({color:16711680}))]);W3.setAccurateElement(n),n.release()},Yse=async function(){if(Nr.isDesignReady(N.store.getState()))return"Redux state";Jo.initialize(),Jo.setTotal(1),Jo.setText("Generating detailed preview");let e=await Ju.generateDetailedPreview(1/0,Jo.setValue);return Jo.close(),e},gV=!1,qse=async function(e={}){let{startPercentage:t=0}=e;if(ye.getVolumes(N.store.getState()).length===0){let s=Vi.alerts.noToolpathsToGenerate;Fe(s.title,s.message);return}if(gV)return;gV=!0;let o=performance.now(),i=await Yse(),n=performance.now()-o;try{let s=await Ms.process({style:"all",previewDuration:n,previewImplementation:i,startPercentage:t}),[a,l,c]=s;if(a.error||l?.error||c?.error){let{title:u,message:p}=Vi.alerts.invalidDepthError;Fe(u,p)}else if(a.gcode||l?.gcode||c?.gcode)Y.isCarvey(N.store.getState())&&eXe(a,l,c);else{let{title:u,message:p,detail:m}=Vi.alerts.singleBitNothingCarvable;Fe(u,p,[{text:"Edit Project"},{text:"See Suggestions",action:()=>{C5.openSupportBot("Uncut Areas"),H.trackEvent(U.answerbotOpened,{source:"no gcode alert"})}}],m)}it("pair_programming_exercise")&&tXe(a)}catch(s){Fe("An error occurred generating toolpaths",s.message),window.onerror(s.message,"generate_paths.js",0,0,s)}finally{gV=!1}};J.addListener("generate-design",Yse);J.addListener("generate-toolpaths",qse);ut.register({keyboard:"default",command:qse,key:pt.p,meta:!0,shift:!0});var $se=()=>{let e=N.store.getState(),t=Ie.selectedVolumeIds(e);N.store.dispatch(W.actions.volumesGroup(t))};Je.register("group",$se);ut.register({keyboard:"default",command:$se,key:pt.g,meta:!0});var Zse=()=>{let e=N.store.getState(),t=Ie.selectedVolumeIds(e);N.store.dispatch(W.actions.volumesUngroup(t))};Je.register("ungroup",Zse);ut.register({keyboard:"default",command:Zse,key:pt.g,shift:!0,meta:!0});var U3=(e,t)=>J.emit("jog-machine",e,t);ut.register({keyboard:"walkthrough",command(){U3("x",1)},key:pt.right});ut.register({keyboard:"walkthrough",command(){U3("x",-1)},key:pt.left});ut.register({keyboard:"walkthrough",command(){U3("y",1)},key:pt.up});ut.register({keyboard:"walkthrough",command(){U3("y",-1)},key:pt.down});ut.register({keyboard:"walkthrough",command(){U3("z",1)},key:pt.up,shift:!0});ut.register({keyboard:"walkthrough",command(){U3("z",-1)},key:pt.down,shift:!0});var rXe=function(){let e=N.store.getState(),t=Ie.selectedVolumeIds(e),r=ye.getVolumes(e,t);if(Ee.allSelectedShapesMatchingCutDepth(r)){let o=ye.getVolumes(e).filter(i=>i.cut.depth===r[0].cut.depth).map(i=>i.id);N.store.dispatch(W.actions.selectVolumes(o))}};Je.register("select-matching-depth",()=>{rXe()});Je.register("new",()=>H.trackEvent(U.newProject,{"Project type":"Easel"}));var Jse=function(e){let t=N.store.getState();Ie.editingVolumeId(t)!=null&&Ie.selectedPoints(t)?.length>0?nXe(e):Ie.selectedVolumeIds(t).length>0?iXe(e):oXe(e)},yV=function(e,t,r){switch(e){case pt.up:return{deltaX:0,deltaY:t*r};case pt.down:return{deltaX:0,deltaY:-t*r};case pt.left:return{deltaX:-t,deltaY:0};case pt.right:return{deltaX:t,deltaY:0}}},oXe=function(e){let t=(e.shiftKey?1:.25)*me.PIXELS_PER_INCH,r=N.store.getState(),o=q.getXYZeroLocation(r),i=q.getMaterialDimensions(r),n=Y.getWorkArea(r);N.store.dispatch(W.actions.panViewport({...yV(e.which,t,-1),materialDimensions:i,xyZeroLocation:o,workArea:n}))},Kse=function(e){let t;switch(Me.getPreferredUnit(N.store.getState())){case"in":t=e.shiftKey?.125:.01;break;case"mm":t=(e.shiftKey?5:1)/me.MM_PER_INCH;break}return t},iXe=function(e){let t=N.store.getState(),r=Kse(e),{deltaX:o,deltaY:i}=yV(e.which,r,1),n=Ie.selectedVolumeIds(t);N.store.dispatch(W.actions.volumesTranslate(n,o,i))},nXe=function(e){let t=N.store.getState(),r=Ie.editingVolumeId(t),o=Xe.pathifyShape(ye.getVolumes(t,[r])[0].shape),i=Kse(e),{deltaX:n,deltaY:s}=yV(e.which,i,1),a=Ie.selectedPoints(t),l=Xe.pathWithTranslatedPoints({delta:{x:n,y:s},points:a,shape:o});N.store.dispatch(W.actions.volumesSetShapeParams([r],l,"Edit Point"))};for(let e of[pt.up,pt.down,pt.left,pt.right])ut.register({keyboard:"default",command:Jse,key:e}),ut.register({keyboard:"default",command:Jse,key:e,shift:!0});ut.register({keyboard:"default",command:()=>{N.store.dispatch(ie.actions.openInspector())},key:pt.d,meta:!0,shift:!0});var sXe=function(){let e=N.store.getState(),t=Ie.selectedVolumeIds(e),r=ye.getVolumes(e,t);t.length>0&&N.store.dispatch(W.actions.volumesSetLocked(t,!r.some(o=>o.shape.anchored)))};ut.register({keyboard:"default",command:sXe,key:pt.i,meta:!0});var aXe={sharingStep:null,machineSetupRequiredModal:!1,projectStartModal:!1,projectPropertiesModal:!1,offsetModal:!1,replicateModal:!1,monogramModal:!1},Qse=We({name:"modal",initialState:aXe,reducers:{setSharingStep:(e,t)=>{e.sharingStep=t.payload},closeSharing:e=>{e.sharingStep=null},showMachineSetupRequiredModal:e=>{e.machineSetupRequiredModal=e.machineSetupRequiredModal=!0},hideMachineSetupRequiredModal:e=>{e.machineSetupRequiredModal=e.machineSetupRequiredModal=!1},showProjectStartModal:e=>{e.projectStartModal=e.projectStartModal=!0},hideProjectStartModal:e=>{e.projectStartModal=e.projectStartModal=!1},showProjectPropertiesModal:e=>{e.projectPropertiesModal=e.projectPropertiesModal=!0},hideProjectPropertiesModal:e=>{e.projectPropertiesModal=e.projectPropertiesModal=!1},showOffsetModal:e=>{e.offsetModal=e.offsetModal=!0},hideOffsetModal:e=>{e.offsetModal=e.offsetModal=!1},showReplicateModal:e=>{e.replicateModal=e.replicateModal=!0},hideReplicateModal:e=>{e.replicateModal=e.replicateModal=!1},showMonogramModal:e=>{e.monogramModal=e.monogramModal=!0},hideMonogramModal:e=>{e.monogramModal=e.monogramModal=!1}}}),lXe={shareVisible:e=>e.modal.sharingStep==="share",publishVisible:e=>e.modal.sharingStep==="publish",machineSetupRequiredVisible:e=>e.modal.machineSetupRequiredModal,projectStartModalVisible:e=>e.modal.projectStartModal,projectPropertiesModalVisible:e=>e.modal.projectPropertiesModal,offsetModalVisible:e=>e.modal.offsetModal,replicateModalVisible:e=>e.modal.replicateModal,monogramModalVisible:e=>e.modal.monogramModal},cXe={actions:Qse.actions,reducer:Qse.reducer,...lXe},vt=cXe;var uXe=function(){N.store.dispatch(vt.actions.showOffsetModal())};Je.register("offset",uXe);var pXe=function(){N.store.dispatch(vt.actions.showReplicateModal())};Je.register("replicate",pXe);var eae=function(){let e=N.store.getState(),t=nr.getRedoTokens(e);t!=null&&N.store.dispatch(nr.actions.redo(t))};ut.register({keyboard:"default",command:eae,key:pt.z,meta:!0,shift:!0});ut.register({keyboard:"default",command:eae,key:pt.y,meta:!0});var tae=()=>{N.store.dispatch(W.actions.volumesRemoveAll())};ut.register({keyboard:"default",command:tae,key:pt.backspace,meta:!0});ut.register({keyboard:"default",command:tae,key:pt.delete,meta:!0});var xV=function(){let e=N.store.getState(),t=Ie.editingVolumeId(e),r=Ie.selectedPoints(e);if(t!=null){if(r.length===0)return;let o=ye.getVolumes(e,[t])[0],{newShape:i,newSelection:n}=Ee.deleteSelectedPoints(o,r);i?(N.store.dispatch(W.actions.volumesSetShapeParams([t],i,"Remove Point")),N.store.dispatch(W.actions.selectPathPoints(n))):N.store.dispatch(W.actions.volumesRemove([t]))}else{let o=Ie.selectedVolumeIds(e);ye.getVolumes(e,o).some(n=>n.cut.type==="measurement"&&!n.shape.anchored)&&H.trackEvent(U.measurement.deletedMeasureLine),N.store.dispatch(W.actions.volumesRemove(o))}};Je.register("remove",xV);ut.register({keyboard:"default",command:xV,key:pt.backspace,meta:!1});ut.register({keyboard:"default",command:xV,key:pt.delete,meta:!1});Je.register("properties",()=>N.store.dispatch(vt.actions.showProjectPropertiesModal()));var rae=()=>{let e=N.store.getState(),t=ye.getVolumes(e);N.store.dispatch(W.actions.selectVolumes(t.map(r=>r.id)))};Je.register("select-all",rae);ut.register({keyboard:"default",command:rae,key:pt.a,meta:!0});var Rw=function(e){let t=N.store.getState(),r=ye.getVolumes(t).filter(o=>o.cut.type===e).map(o=>o.id);N.store.dispatch(W.actions.selectVolumes(r)),J.emit("hide-action")},dXe=()=>Rw("outline"),mXe=()=>Rw("fill"),fXe=()=>Rw("drill"),hXe=()=>Rw("measurement"),gXe=()=>J.emit("show-action",{title:"Select by Cut Type",message:"Select all volumes with the following cut type",buttons:[{text:"Outline",action:dXe},{text:"Fill",action:mXe},{text:"Drill",action:fXe},{text:"Measurement",action:hXe}]});Je.register("select-by-type",gXe);var oae=function(e){e?.originalEvent?.repeat||H.trackEvent(U.layeringTool,{action:"Move backward"});let t=N.store.getState(),r=Ie.selectedVolumeIds(t);N.store.dispatch(W.actions.volumesMoveBackward(r))};Je.register("backward",oae);ut.register({keyboard:"default",command:oae,key:pt.leftSquareBracket,meta:!0});var iae=function(e){e?.originalEvent?.repeat||H.trackEvent(U.layeringTool,{action:"Send to back"});let t=N.store.getState(),r=Ie.selectedVolumeIds(t);N.store.dispatch(W.actions.volumesSendToBack(r))};Je.register("send-to-back",iae);ut.register({keyboard:"default",command:iae,key:pt.semicolon,meta:!0});var nae=function(e){if(e.originalEvent.repeat)return;Ci.getVisible(N.store.getState())?N.store.dispatch(Bt(U.measurement.hideMeasureLine)):N.store.dispatch(Bt(U.measurement.showMeasureLine)),N.store.dispatch(Ci.actions.toggleVisible())};Je.register("toggleMeasurementVisibility",nae);ut.register({keyboard:"default",command:nae,key:pt.m});Je.register("troubleshooting",()=>J.emit("show-troubleshooting-modal",{fromMenu:!0}));var yXe=function(){let e=N.store.getState(),t=nr.getUndoTokens(e);t!=null&&N.store.dispatch(nr.actions.undo(t))};ut.register({keyboard:"default",command:yXe,key:pt.z,meta:!0});ut.register({keyboard:"default",command:()=>{N.store.dispatch(W.actions.zoomIn())},key:pt.plus,meta:!0});ut.register({keyboard:"default",command:()=>{N.store.dispatch(W.actions.zoomOut())},key:pt.minus,meta:!0});ut.register({keyboard:"default",command:()=>{let e=N.store.getState(),t=q.getXYZeroLocation(e),r=q.getMaterialDimensions(e),o=Y.getWorkArea(e);N.store.dispatch(W.actions.homeViewport({xyZeroLocation:t,materialDimensions:r,workArea:o}))},key:pt.zero,meta:!0});nt.group("init").register("access grants",function(e){H.setProperties({"Access Grants":globalThis.ACCESS_GRANTS.filter(t=>t!=null)}),e()});var sae=[{store_id:"30857-01",name:'Carbide Tip V-Bit 60 Degree - 1/4" Cutting x 1/4" Shank (30857-01)',quantity:1,technology_id:30857,store_url:"https://site.inventables.com/technologies/carbide-tip-v-bit-60-degree-1-4-in-cutting-x-1-4-in-shank",diameter:.25,units:"in",tip_angle:60,group_name:"V",source:"inventables"},{store_id:"30854-01",name:'Carbide Tip V-Bit 90 Degree - 1/2" Cutting x 1/4" Shank (30854-01)',quantity:1,technology_id:30854,store_url:"https://site.inventables.com/technologies/carbide-tip-v-bit-90-degree-1-2-in-cutting-x-1-4-in-shank",diameter:.5,units:"in",tip_angle:90,group_name:"V",source:"inventables"},{store_id:"30842-01",name:'Carbide Tip V-Bit 60 Degree Single Flute - 1/4" Shank (30842-01)',quantity:1,technology_id:30842,store_url:"https://site.inventables.com/technologies/carbide-tip-v-bit-60-degree-single-flute-1-4-in-shank",tip_angle:60,diameter:.05,units:"in",group_name:"V",flutes:1,source:"inventables"},{store_id:"30423-07",name:'Carbide Tip Fishtail Upcut - 1/8" Cutting x 1/8" Shank (30423-07)',quantity:1,technology_id:30819,store_url:"https://site.inventables.com/technologies/carbide-tip-fishtail-upcut-1-8-in-cutting-x-1-8-in-shank",diameter:.125,units:"in",group_name:"Upcut",flutes:2,color:"Teal",source:"inventables"},{store_id:"30423-03",name:'Carbide Tip Fishtail Upcut - 1/32" Cutting x 1/8" Shank (30423-03)',quantity:1,technology_id:30818,store_url:"https://site.inventables.com/technologies/carbide-tip-fishtail-upcut-1-32-in-cutting-x-1-8-in-shank",diameter:.03125,units:"in",group_name:"Upcut",flutes:2,color:"White",source:"inventables"},{store_id:"30423-01",name:'Carbide Tip Fishtail Upcut - 1/16" Cutting x 1/8" Shank (30423-01)',quantity:1,technology_id:30817,store_url:"https://site.inventables.com/technologies/carbide-tip-fishtail-upcut-1-16-in-cutting-x-1-8-in-shank",diameter:.0625,units:"in",group_name:"Upcut",flutes:2,color:"Blue",source:"inventables"},{store_id:"30667-03",name:'Carbide Tip Fish Tail Downcut - 1/8" Cutting x 1/8" Shank (30667-03)',quantity:1,technology_id:30815,store_url:"https://site.inventables.com/technologies/carbide-tip-fish-tail-downcut-1-8-in-cutting-x-1-8-in-shank",diameter:.125,units:"in",group_name:"Downcut",flutes:2,color:"Yellow",source:"inventables"},{store_id:"30667-02",name:'Carbide Tip Fish Tail Downcut - 1/16" Cutting x 1/8" Shank (30667-02)',quantity:1,technology_id:30814,store_url:"https://site.inventables.com/technologies/carbide-tip-fish-tail-downcut-1-16-in-cutting-x-1-8-in-shank",diameter:.0625,units:"in",group_name:"Downcut",flutes:2,color:"Green",source:"inventables"},{store_id:"30667-01",name:'Carbide Tip Fish Tail Downcut - 1/32" Cutting x 1/8" Shank (30667-01)',quantity:1,technology_id:30813,store_url:"https://site.inventables.com/technologies/carbide-tip-fish-tail-downcut-1-32-in-cutting-x-1-8-in-shank",diameter:.03125,units:"in",group_name:"Downcut",flutes:2,color:"Pink",source:"inventables"},{store_id:"30342-04",name:'Carbide Tip V-Bit 60 Degree - 1/4" Cutting x 1/8" Shank (30342-04)',quantity:1,technology_id:30811,store_url:"https://site.inventables.com/technologies/carbide-tip-v-bit-60-degree-1-4-in-cutting-x-1-8-in-shank",diameter:.25,units:"in",tip_angle:60,group_name:"V",color:"Navy",source:"inventables"},{store_id:"30342-03",name:'Carbide Tip V-Bit 90 Degree - 1/4" Cutting x 1/8" Shank (30342-03)',quantity:1,technology_id:30810,store_url:"https://site.inventables.com/technologies/carbide-tip-v-bit-90-degree-1-4-in-cutting-x-1-8-in-shank",diameter:.25,units:"in",tip_angle:90,group_name:"V",color:"Peach",source:"inventables"},{store_id:"30342-02",name:'Carbide Tip V-Bit 60 Degree - 1/2" Cutting x 1/4" Shank (30342-02)',quantity:1,technology_id:30809,store_url:"https://site.inventables.com/technologies/carbide-tip-v-bit-60-degree-1-2-in-cutting-x-1-4-in-shank",diameter:.5,units:"in",tip_angle:60,group_name:"V",color:"Red/White",source:"inventables"},{store_id:"30342-01",name:'Carbide Tip V-Bit 90 Degree - 1/2" Cutting x 1/4" Shank (30342-01)',quantity:1,technology_id:30808,store_url:"https://site.inventables.com/technologies/carbide-tip-v-bit-90-degree-1-2-in-cutting-x-1-4-in-shank-2",diameter:.5,units:"in",tip_angle:90,group_name:"V",color:"Green/White",source:"inventables"},{store_id:"30670-01",name:'Carbide Tip Upcut 4 Flute - 1/8" Cutting x 1/8" Shank (30670-01)',quantity:1,technology_id:30670,store_url:"https://site.inventables.com/technologies/carbide-tip-upcut-4-flute-1-8-in-cutting-x-1-8-in-shank",diameter:.125,units:"in",group_name:"Upcut",flutes:4,color:"Yellow",source:"inventables"},{store_id:"30669-01",name:'Carbide Tip Upcut 3 Flute - 1/8" Cutting x 1/8" Shank (30669-01)',quantity:1,technology_id:30669,store_url:"https://site.inventables.com/technologies/carbide-tip-upcut-3-flute-1-8-in-cutting-x-1-8-in-shank",diameter:.125,units:"in",group_name:"Upcut",flutes:3,color:"Purple",source:"inventables"},{store_id:"30668-01",name:'Carbide Tip Compression 2 Flute - 1/8" Cutting x 1/8" Shank (30668-01)',quantity:1,technology_id:30668,store_url:"https://site.inventables.com/technologies/carbide-tip-compression-2-flute-1-8-in-cutting-x-1-8-in-shank",diameter:.125,units:"in",group_name:"Compression",flutes:2,color:"Blue",source:"inventables"},{store_id:"30499-01",name:'Carbide Tip V-Bit 30 Degree Single Flute - 1/8" Shank (30499-01)',quantity:1,technology_id:30499,store_url:"https://site.inventables.com/technologies/carbide-tip-v-bit-30-degree-single-flute-1-8-in-shank",diameter:.125,units:"in",tip_angle:30,flutes:1,color:"Orange",group_name:"V",source:"inventables"},{store_id:"30240-02",name:'Carbide Tip Ballnose 2 Flute - 1/8" Cutting x 1/8" Shank (30240-02)',quantity:1,technology_id:30240,store_url:"https://site.inventables.com/technologies/carbide-tip-ballnose-2-flute-1-8-in-cutting-x-1-8-in-shank",diameter:.125,units:"in",group_name:"Ballnose",color:"Red",flutes:2,source:"inventables"},{store_id:"30238-02",name:'Carbide Tip Upcut Single Flute - 1/8" Cutting x 1/8" Shank (30238-02)',quantity:1,technology_id:30238,store_url:"https://site.inventables.com/technologies/carbide-tip-upcut-single-flute-1-8-in-cutting-x-1-8-in-shank",diameter:.125,units:"in",color:"Gray",group_name:"Upcut",source:"inventables"},{store_id:"30237-02",name:'Carbide Tip Straight 2 Flute - 1/8" Cutting x 1/8" Shank (30237-02)',quantity:1,technology_id:30237,store_url:"https://site.inventables.com/technologies/carbide-tip-straight-2-flute-1-8-in-cutting-x-1-8-in-shank",diameter:.125,units:"in",color:"Black",flutes:2,group_name:"Straight cut",source:"inventables"},{store_id:"26040-01",name:'Carbide Tip Upcut 2 Flute - 1/4" Cutting x 1/4" Shank (26040-01)',quantity:1,technology_id:26040,store_url:"https://site.inventables.com/technologies/carbide-tip-upcut-2-flute-1-4-in-cutting-x-1-4-in-shank-4",diameter:.25,units:"in",group_name:"Upcut",flutes:2,source:"inventables"},{store_id:"26014-01",name:'Carbide Tip Straight 3 Flute - 1/4" Cutting x 1/4" Shank (26014-01)',quantity:1,technology_id:26014,store_url:"https://site.inventables.com/technologies/carbide-tip-straight-3-flute-1-4-in-cutting-x-1-4-in-shank",diameter:.25,units:"in",group_name:"Straight cut",flutes:3,source:"inventables"},{store_id:"26013-02",name:'Carbide Tip Upcut 2 Flute - 1/4" Cutting x 1/4" Shank (26013-02)',quantity:1,technology_id:26013,store_url:"https://site.inventables.com/technologies/carbide-tip-upcut-2-flute-1-4-in-cutting-x-1-4-in-shank-3",diameter:.25,units:"in",group_name:"Upcut",flutes:2,source:"inventables"},{store_id:"26012-01",name:'Carbide Tip Straight 2 Flute - 1/4" Cutting x 1/4" Shank (26012-01)',quantity:1,technology_id:26012,store_url:"https://site.inventables.com/technologies/carbide-tip-straight-2-flute-1-4-in-cutting-x-1-4-in-shank",diameter:.25,units:"in",group_name:"Straight cut",flutes:2,source:"inventables"},{store_id:"26011-01",name:'Carbide Tip Upcut 2 Flute - 1/4" Cutting x 1/4" Shank (26011-01)',quantity:1,technology_id:26011,store_url:"https://site.inventables.com/technologies/carbide-tip-upcut-2-flute-1-4-in-cutting-x-1-4-in-shank-2",diameter:.25,units:"in",group_name:"Upcut",flutes:2,source:"inventables"},{store_id:"26010-01",name:'Carbide Tip Upcut 2 Flute - 1/4" Cutting x 1/4" Shank (26010-01)',quantity:1,technology_id:26010,store_url:"https://site.inventables.com/technologies/carbide-tip-upcut-2-flute-1-4-in-cutting-x-1-4-in-shank",diameter:.25,units:"in",group_name:"Upcut",flutes:2,source:"inventables"},{store_id:"26009-01",name:'Carbide Tip Upcut Single Flute - 1/4" Cutting x 1/4" Shank (26009-01)',quantity:1,technology_id:26009,store_url:"https://site.inventables.com/technologies/carbide-tip-upcut-single-flute-1-4-in-cutting-x-1-4-in-shank",diameter:.25,units:"in",group_name:"Upcut",flutes:1,source:"inventables"},{store_id:"26007-01",name:'Carbide Tip V-Bit 30 Degree Single Flute - 1/4" Shank (26007-01)',quantity:1,technology_id:26007,store_url:"https://site.inventables.com/technologies/carbide-tip-v-bit-30-degree-single-flute-1-4-in-shank",diameter:.25,units:"in",group_name:"V",tip_angle:30,flutes:1,source:"inventables"},{store_id:"26006-01",name:'HSS Upcut 2 Flute - 1/4" Cutting x 1/4" Shank (26006-01)',quantity:1,technology_id:26006,store_url:"https://site.inventables.com/technologies/hss-upcut-2-flute-1-4-in-cutting-x-1-4-in-shank",diameter:.25,units:"in",group_name:"Upcut",flutes:2,source:"inventables"},{store_id:"26005-01",name:'HSS Straight 2 Flute - 1/4" Cutting x 1/4" Shank (26005-01)',quantity:1,technology_id:26005,store_url:"https://site.inventables.com/technologies/hss-straight-2-flute-1-4-in-cutting-x-1-4-in-shank",diameter:.25,units:"in",group_name:"Straight cut",flutes:2,source:"inventables"},{store_id:"26004-01",name:'HSS Upcut Single Flute - 1/4" Cutting x 1/4" Shank (26004-01)',quantity:1,technology_id:26004,store_url:"https://site.inventables.com/technologies/hss-upcut-single-flute-1-4-in-cutting-x-1-4-in-shank",diameter:.25,units:"in",group_name:"Upcut",flutes:1,source:"inventables"},{store_id:"26003-01",name:'HSS Straight Single Flute - 1/4" Cutting x 1/4" Shank (26003-01)',quantity:1,technology_id:26003,store_url:"https://site.inventables.com/technologies/hss-straight-single-flute-1-4-in-cutting-x-1-4-in-shank",diameter:.25,units:"in",group_name:"Straight cut",flutes:1,source:"inventables"},{store_id:"26001-01",name:'Carbide Tip Straight 2 Flute - 1/2" Cutting x 1/4" Shank (26001-01)',quantity:1,technology_id:26001,store_url:"https://site.inventables.com/technologies/carbide-tip-straight-2-flute-1-2-in-cutting-x-1-4-in-shank",diameter:.5,units:"in",group_name:"Straight cut",flutes:2,source:"inventables"},{store_id:"26000-01",name:'Carbide Tip Straight Single Flute - 1/4" Cutting x 1/4" Shank (26000-01)',quantity:1,technology_id:26e3,store_url:"https://site.inventables.com/technologies/carbide-tip-straight-single-flute-1-4-in-cutting-x-1-4-in-shank",diameter:.25,units:"in",group_name:"Straight cut",flutes:1,source:"inventables"},{store_id:"30907-01",name:'Carbide Tip Upcut 2 Flute - 1/8" Cutting x 1/4" Shank (30907-01)',quantity:1,technology_id:30907,store_url:"https://site.inventables.com/technologies/carbide-tip-upcut-2-flute-1-8-in-cutting-x-1-4-in-shank",diameter:.125,units:"in",group_name:"Upcut",flutes:2,source:"inventables"},{store_id:"30908-01",name:'Carbide Tip Upcut 2 Flute - 3/16" Cutting x 1/4" Shank (30908-01)',quantity:1,technology_id:30908,store_url:"https://site.inventables.com/technologies/carbide-tip-upcut-2-flute-3-16-in-cutting-x-1-4-in-shank",diameter:.1875,units:"in",group_name:"Upcut",flutes:2,source:"inventables"},{store_id:"30911-01",name:'Carbide Tip Downcut 2 Flute - 1/4" Cutting x 1/4" Shank (30911-01)',quantity:1,technology_id:30911,store_url:"https://site.inventables.com/technologies/carbide-tip-downcut-2-flute-1-4-in-cutting-x-1-4-in-shank",diameter:.25,units:"in",group_name:"Downcut",flutes:2,source:"inventables"},{store_id:"30909-01",name:'Carbide Tip Downcut 2 Flute - 1/8" Cutting x 1/4" Shank (30909-01)',quantity:1,technology_id:30909,store_url:"https://site.inventables.com/technologies/carbide-tip-downcut-2-flute-1-8-in-cutting-x-1-4-in-shank",diameter:.125,units:"in",group_name:"Downcut",flutes:2,source:"inventables"},{store_id:"30910-02",name:'Carbide Tip Downcut 2 Flute - 3/16" Cutting x 1/4" Shank (30910-02)',quantity:1,technology_id:30910,store_url:"https://site.inventables.com/technologies/carbide-tip-downcut-2-flute-3-16-in-cutting-x-1-4-in-shank",diameter:.1875,units:"in",group_name:"Downcut",flutes:2,source:"inventables"},{store_id:"30850-01",name:'Carbide Tip Upcut 2 Flute - 1/8" Cutting x 1/4" Shank (30850-01)',quantity:1,technology_id:30850,store_url:"https://site.inventables.com/technologies/carbide-tip-upcut-2-flute-1-8-in-cutting-x-1-4-in-shank-2",diameter:.125,units:"in",group_name:"Upcut",flutes:2,source:"inventables"},{store_id:"30914-01",name:'Carbide Tip Compression 2 Flute - 1/4" Cutting x 1/4" Shank (30914-01)',quantity:1,technology_id:30914,store_url:"https://site.inventables.com/technologies/carbide-tip-compression-2-flute-1-4-in-cutting-x-1-4-shank",diameter:.25,units:"in",group_name:"Compression",flutes:2,source:"inventables"},{store_id:"30916-01",name:'Carbide Tip V-Bit 60 Degree 3 Flute - 1/4" Cutting x 1/4" Shank (30916-01)',quantity:1,technology_id:30916,store_url:"https://site.inventables.com/technologies/carbide-tip-v-bit-60-degree-3-flute-1-4-in-cutting-x-1-4-in-shank",diameter:.25,units:"in",tip_angle:60,group_name:"V",flutes:3,source:"inventables"},{store_id:"30925-01",name:'Carbide Tip Upcut 2 Flute Ballnose - 1/8" Cutting x 1/4" Shank (30925-01)',quantity:1,technology_id:30925,store_url:"https://site.inventables.com/technologies/carbide-tip-upcut-2-flute-ballnose-1-8-in-cutting-x-1-4-in-shank-2",diameter:.125,units:"in",group_name:"Ballnose",source:"inventables"}];var aae=[{store_id:"OF-18",name:'1/8" Acrylic O Flute (OF-18)',store_url:"https://idcwoodcraft.com/products/1-8-0-flute-bit-for-acrylic-cnc-router-1-8-shank-premium?ref=app",diameter:.125,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Straight cut",technology_id:1e5,flutes:1},{store_id:"OF-116",name:'1/16" Acrylic O Flute (OF-116)',store_url:"https://idcwoodcraft.com/products/1-16-acrylic-router-bit-for-for-cnc-routers-1-8-shank?ref=app",diameter:.0625,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Straight cut",technology_id:100001,flutes:1},{store_id:"CM-18",name:'1/8" Compression (CM-18)',store_url:"https://idcwoodcraft.com/products/1-8-compression-bit-for-cnc-routers-1-8-shank?ref=app",diameter:.125,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Compression",technology_id:100002,flutes:2},{store_id:"XD-14",name:'Long 1/4" Downcut (XD-14)',store_url:"https://idcwoodcraft.com/products/long-1-4-router-bit-for-cnc-trim-routers-1-4-shank?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Downcut",technology_id:100003,flutes:2},{store_id:"DC-132",name:'1/32" Downcut (DC-132)',store_url:"https://idcwoodcraft.com/products/high-detail-1-32-down-cut-endmill-bit-for-cnc-routers-1-8-shank?ref=app",diameter:.03125,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Downcut",technology_id:100004,flutes:2},{store_id:"DC-316",name:'3/16" Downcut (DC-316)',store_url:"https://idcwoodcraft.com/products/3-16-down-cutting-endmill-bit-for-cnc-routers-1-4-shank?ref=app",diameter:.1875,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Downcut",technology_id:100006,flutes:2},{store_id:"BEAST",name:'"THE " 1/4" Roughing Upcut (BEAST)',store_url:"https://idcwoodcraft.com/BEAST",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Upcut",technology_id:100007,flutes:3},{store_id:"DC-116",name:'1/16" Downcut (DC-116)',store_url:"https://idcwoodcraft.com/products/1-16-down-cut-endmill-bit-for-cnc-routers-for-fine-detail-carving-1-8-shank?ref=app",diameter:.0625,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Downcut",technology_id:100008,flutes:2},{store_id:"XD-18",name:'Extended 1/8" Downcut (XD-18)',store_url:"https://idcwoodcraft.com/products/long-1-8-router-bit-endmill-for-cnc-routers-1-8-shank?ref=app",diameter:.125,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Downcut",technology_id:100009,flutes:2},{store_id:"BN-18",name:'1/8" Ball Nose (BN-18)',store_url:"https://idcwoodcraft.com/products/1-8-ball-nose-endmill-bit-for-3d-carving-1-8-shank?ref=app",diameter:.125,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Ballnose",technology_id:100010,flutes:2},{store_id:"DC-18",name:'1/8" Downcut (DC-18)',store_url:"https://idcwoodcraft.com/products/1-8-down-cut-endmill-bit-for-cnc-routers-1-8-shank?ref=app",diameter:.125,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Downcut",technology_id:100011,flutes:2},{store_id:"KH-38",name:'3/8" Keyhole T-Slot Cutter (KH-38)',store_url:"https://idcwoodcraft.com/products/3-8-keyhole-t-slot-router-bit-for-cnc-routers-1-4-shank?ref=app",diameter:.375,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Straight cut",technology_id:100012,flutes:2},{store_id:"BN-12",name:'1/2" Ball Nose, 1/4" Shank (BN-12)',store_url:"https://idcwoodcraft.com/products/1-2-ball-nose-cnc-router-bit-cutting-board-juice-groove-bit-1-4-shank?ref=app",diameter:.5,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Ballnose",technology_id:100013,flutes:2},{store_id:"CM-14",name:'1/4" Compression (CM-14)',store_url:"https://idcwoodcraft.com/products/1-4-compression-bit-for-cnc-routers-1-4-shank?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Compression",technology_id:100015,flutes:2},{store_id:"SV-90",name:'90\xB0 V-Bit 1/4" Shank (SV-90)',store_url:"https://idcwoodcraft.com/products/ultra-clean-cutting-90-degree-v-bit-for-cnc-routers-1-4-shank?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"V",technology_id:100016,flutes:2,tip_angle:90},{store_id:"OF-14",name:'1/4" Acrylic O Flute (OF-14)',store_url:"https://idcwoodcraft.com/products/1-4-0-flute-cnc-router-bit-for-acrylic-1-4-shank?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Straight cut",technology_id:100017,flutes:1},{store_id:"BN-14",name:'1/4" Ball Nose (BN-14)',store_url:"https://idcwoodcraft.com/products/1-4-ball-nose-endmill-bit-for-cnc-routers-1-4-shank?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Ballnose",technology_id:100020,flutes:2},{store_id:"DR-14",name:'1/4" Lightning Drill (DR-14)',store_url:"https://www.idcwoodcraft.com/product/high-performance-1-4-driil-bit-carbide-for-cnc-routers-lightning-series-1-4-shank/?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Straight cut",technology_id:100021,flutes:2},{store_id:"DR-18",name:'1/8" Lightning Drill (DR-18)',store_url:"https://www.idcwoodcraft.com/product/extreme-performance-1-8-drill-bits-for-cnc-routers/?ref=app",diameter:.125,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Straight cut",technology_id:100022,flutes:2},{store_id:"UC-18",name:'1/8" Upcut (UC-18)',store_url:"https://idcwoodcraft.com/products/1-8-up-cut-endmill-bit-drilling-capable-for-cnc-routers-set-of-2?ref=app",diameter:.125,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Upcut",technology_id:100023,flutes:2},{store_id:"SU-15",name:'1.5" Surfacing Bit, 1/4" Shank (SU-15)',store_url:"https://idcwoodcraft.com/products/1-5-surfacing-bit-for-cnc-router-fast-spoilboard-slab-flattenning-1-4-shank?ref=app",diameter:1.5,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Straight cut",technology_id:100025,flutes:4},{store_id:"SU-34",name:'3/4" Surfacing Bit, 1/8" Shank (SU-34)',store_url:"https://idcwoodcraft.com/products/1-8-shank-surfacing-bit-3-4-cut-for-cnc-routers?ref=app",diameter:.75,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Straight cut",technology_id:100026,flutes:4},{store_id:"SU-10",name:'1" Surfacing Bit, 1/4" Shank (SU-10)',store_url:"https://idcwoodcraft.com/products/ultra-smooth-cut-1-surfacing-bit-for-cnc-router-spoilboard-slab-flattenning-1-4-shank?ref=app",diameter:1,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Straight cut",technology_id:100027,flutes:4},{store_id:"BV-150",name:'150\xB0 1.5" V-Bit 1/4" Shank (BV-150)',store_url:"https://idcwoodcraft.com/products/150-degree-v-groove-router-bit-1-4-shank-the-pizza-peel-taper-bit?ref=app",diameter:1.5,units:"in",quantity:1,source:"idc_woodcraft",group_name:"V",technology_id:100028,flutes:2,tip_angle:150},{store_id:"BV-60",name:'60\xB0 3/4" V-Bit 1/4" Shank (BV-60)',store_url:"https://idcwoodcraft.com/products/60-degree-v-grooving-bit-for-cnc-routers-1-4-shank?ref=app",diameter:.75,units:"in",quantity:1,source:"idc_woodcraft",group_name:"V",technology_id:100029,flutes:2,tip_angle:60},{store_id:"BV-120",name:'120\xB0 1" V-Bit 1/4" Shank (BV-120)',store_url:"https://idcwoodcraft.com/products/120-degree-wide-cutting-v-bit-1-4-shank-for-cnc-routers?ref=app",diameter:1,units:"in",quantity:1,source:"idc_woodcraft",group_name:"V",technology_id:100030,flutes:2,tip_angle:120},{store_id:"BV-90",name:'90\xB0 3/4" V-Bit 1/4" Shank (BV-90)',store_url:"https://idcwoodcraft.com/products/90-degree-v-grooving-bit-for-cnc-routers-1-4-shank?ref=app",diameter:.75,units:"in",quantity:1,source:"idc_woodcraft",group_name:"V",technology_id:100031,flutes:2,tip_angle:90},{store_id:"BN-34",name:'3/4" Ball Nose, 1/4" Shank (BN-34)',store_url:"https://idcwoodcraft.com/products/3-4-ball-nose-cnc-router-bit-cutting-board-juice-groove-bit-1-4-shank?ref=app",diameter:.75,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Ballnose",technology_id:100032,flutes:2},{store_id:"BN-10",name:'1" Ball Nose, 1/4" Shank (BN-10)',store_url:"https://idcwoodcraft.com/products/big-balls-1-ball-nose-rounding-bit-1-2-radius-1-4-shank?ref=app",diameter:1,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Ballnose",technology_id:100033,flutes:2},{store_id:"DC-14",name:'1/4" Downcut (DC-14)',store_url:"https://idcwoodcraft.com/products/1-4-down-cutting-bit-endmill-for-cnc-routers-1-4-shank?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Downcut",technology_id:100035,flutes:2},{store_id:"SV-60",name:'60\xB0 V-Bit 1/4" Shank (SV-60)',store_url:"https://idcwoodcraft.com/products/ultra-clean-cutting-60-degree-v-bit-for-cnc-routers-1-4-shank?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"V",technology_id:100036,flutes:2,tip_angle:60},{store_id:"SV-30",name:'30\xB0 V-Bit 1/4" Shank (SV-30)',store_url:"https://idcwoodcraft.com/products/30-degree-extreme-detail-v-bit-bit-for-cnc-routers-1-4-shank?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"V",technology_id:100037,flutes:1,tip_angle:30},{store_id:"LV-30",name:'30\xB0 V-Bit 1/8" Shank (LV-30)',store_url:"https://idcwoodcraft.com/products/deluxe1-8-shank-30-degree-engraving-v-bit-for-cnc-routers?ref=app",diameter:.125,units:"in",quantity:1,source:"idc_woodcraft",group_name:"V",technology_id:100038,flutes:1,tip_angle:30},{store_id:"LV-60",name:'60\xB0 V-Bit 1/8" Shank (LV-60)',store_url:"https://idcwoodcraft.com/products/deluxe-1-8-shank-60-degree-engraving-v-bit-for-cnc-routers?ref=app",diameter:.125,units:"in",quantity:1,source:"idc_woodcraft",group_name:"V",technology_id:100039,flutes:1,tip_angle:60},{store_id:"LV-90",name:'90\xB0 V-Bit 1/8" Shank (LV-90)',store_url:"https://idcwoodcraft.com/products/deluxe-1-8-shank-90-degree-engraving-v-bit-for-cnc-routers?ref=app",diameter:.125,units:"in",quantity:1,source:"idc_woodcraft",group_name:"V",technology_id:100040,flutes:1,tip_angle:90},{store_id:"UC-14",name:'1/4" Upcut (UC-14)',store_url:"https://idcwoodcraft.com/products/high-performance-1-4-up-cut-endmill-for-cnc-routers-1-4-shank?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Upcut",technology_id:100041,flutes:2},{store_id:"CM-316",name:'3/16" Compression (CM-316)',store_url:"https://idcwoodcraft.com/products/3-16-compression-bit-for-cnc-routers-1-4-shank?ref=app",diameter:.1875,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Compression",technology_id:100042,flutes:2},{store_id:"BADGER",name:'"THE " 1/8" Roughing Upcut (BADGER)',store_url:"https://idcwoodcraft.com/products/the-badger-1-8-super-speed-roughing-cnc-router-bit-1-8-shank?ref=app",diameter:.125,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Upcut",technology_id:100043,flutes:3},{store_id:"HOG",name:'"THE " 1/4" Roughing Upcut (HOG)',store_url:"https://idcwoodcraft.com/products/the-hog-long-1-4-roughing-endmill-bit-for-cnc-routers-1-4-shank?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Upcut",technology_id:100044,flutes:3},{store_id:"HE-12-1",name:'THE "RIPPER" 1/2" Hogging Upcut (HE-12-1)',store_url:"https://idcwoodcraft.com/products/HE-12-1",diameter:.5,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Upcut",technology_id:100045,flutes:3},{store_id:"BD-14",name:'1/4" Downcut Ballnose (BD-14)',store_url:"https://idcwoodcraft.com/BD-14",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Ballnose",technology_id:100046,flutes:2},{store_id:"HE-12-2",name:'THE "DEEP RIPPER" 1/2" Hogging Upcut (HE-12-2)',store_url:"https://idcwoodcraft.com/HE-12-2",diameter:.5,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Upcut",technology_id:100048,flutes:3},{store_id:"HE-38-1",name:'"THE SLAYER" 3/8" Roughing Upcut (HE-38-1)',store_url:"https://idcwoodcraft.com/HE-38-1",diameter:.375,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Upcut",technology_id:100049,flutes:3},{store_id:"HE-38-2",name:'"THE DEEP SLAYER" 3/8" Roughing Upcut (HE-38-2)',store_url:"https://idcwoodcraft.com/HE-38-2",diameter:.375,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Upcut",technology_id:100051,flutes:3},{store_id:"8675309-J",name:'1/4" The Jenny Compression (8675309-J)',store_url:"https://idcwoodcraft.com/products/1-4-jenny-compression-bit?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Compression",technology_id:100053,flutes:2},{store_id:"8675309-MJ",name:'1/8" Mini Jenny Compression (8675309-MJ)',store_url:"https://idcwoodcraft.com/products/1-8-mini-jenny-compression-bit?ref=app",diameter:.125,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Compression",technology_id:100054,flutes:2},{store_id:"8675309-SLIM",name:'1/8" Slim Jen Down Shear (8675309-SLIM)',store_url:"https://idcwoodcraft.com/products/the-slim-jen?ref=app",diameter:.125,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Straight cut",technology_id:100055,flutes:2},{store_id:"8675309-125DJ",name:'1/8" Downtown Jenny Downshear (8675309-125DJ)',store_url:"https://idcwoodcraft.com/products/1-8-downtown-jenny?ref=app",diameter:.125,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Straight cut",technology_id:100056,flutes:2},{store_id:"8675309-250DJ",name:'1/4" Downtown Jenny Downshear (8675309-250DJ)',store_url:"https://idcwoodcraft.com/products/1-4-downtown-jenny?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Straight cut",technology_id:100057,flutes:2},{store_id:"8675309-OJ",name:'1/4" Oh, Jenny Upcut (8675309-OJ)',store_url:"https://idcwoodcraft.com/products/the-oh-jenny-up-cut?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Upcut",technology_id:100058,flutes:2},{store_id:"8675309-OJD",name:'1/4" Oh, Jenny Downcut (8675309-OJD)',store_url:"https://idcwoodcraft.com/products/the-oh-jenny-down-cut?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Downcut",technology_id:100059,flutes:2},{store_id:"8675309-BB",name:"Big B Jenny Ballnose (8675309-BB)",store_url:"https://idcwoodcraft.com/products/the-big-b-jenny?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Ballnose",technology_id:100061,flutes:2},{store_id:"8675309-V30",name:'1/4" GrooVee 30\xB0 VBit (8675309-V30)',store_url:"https://idcwoodcraft.com/products/30-groovee-jenny?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"V",technology_id:100063,flutes:2,tip_angle:30},{store_id:"8675309-V60",name:'1/4" GrooVee 60\xB0 VBit (8675309-V60)',store_url:"https://idcwoodcraft.com/products/60-groovee-jenny?ref=app",diameter:.375,units:"in",quantity:1,source:"idc_woodcraft",group_name:"V",technology_id:100064,flutes:2,tip_angle:60},{store_id:"8675309-V90",name:'1/4" GrooVee 90\xB0 VBit (8675309-V90)',store_url:"https://idcwoodcraft.com/products/90-groovee-jenny?ref=app",diameter:.375,units:"in",quantity:1,source:"idc_woodcraft",group_name:"V",technology_id:100065,flutes:2,tip_angle:90},{store_id:"8675309-UJ",name:'1/4" Uptown Jenny Downshear (8675309-UJ)',store_url:"https://idcwoodcraft.com/products/1-4-uptown-jenny?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Straight cut",technology_id:100066,flutes:2},{store_id:"8675309-ERJ",name:'1/4" Uptown Jenny Extended Reach Upcut (8675309-ERJ)',store_url:"https://idcwoodcraft.com/products/1-4-uptown-jenny-extended-reach?ref=app",diameter:.25,units:"in",quantity:1,source:"idc_woodcraft",group_name:"Upcut",technology_id:100067,flutes:2},{store_id:"TV-12-6",name:'60\xB0 V-Bit 1/2" Shank (TV-12-6)',store_url:"https://idcwoodcraft.com/products/ultra-clean-cutting-60-degree-v-bit-for-cnc-routers-1-2-shank?ref=app",diameter:.5,units:"in",quantity:1,source:"idc_woodcraft",group_name:"V",technology_id:100069,flutes:1,tip_angle:60},{store_id:"TV-12-9",name:'90\xB0 V-Bit 1/2" Shank (TV-12-9)',store_url:"https://idcwoodcraft.com/products/ultra-clean-cutting-90-degree-v-bit-for-cnc-routers-1-2-shank/?ref=app",diameter:.5,units:"in",quantity:1,source:"idc_woodcraft",group_name:"V",technology_id:100070,flutes:1,tip_angle:90},{store_id:"TV-38-9",name:'90\xB0 V-Bit 3/8" Shank (TV-38-9)',store_url:"https://idcwoodcraft.com/products/ultra-clean-cutting-90-degree-v-bit-for-cnc-routers-3-8-shank?ref=app",diameter:.375,units:"in",quantity:1,source:"idc_woodcraft",group_name:"V",technology_id:100071,flutes:1,tip_angle:90},{store_id:"TV-38-6",name:'60\xB0 V-Bit 3/8" Shank (TV-38-6)',store_url:"https://idcwoodcraft.com/products/ultra-clean-cutting-60-degree-v-bit-for-cnc-routers-3-8-shank?ref=app",diameter:.375,units:"in",quantity:1,source:"idc_woodcraft",group_name:"V",technology_id:100072,flutes:1,tip_angle:60}];var lae=[{store_id:"48055-E",name:'High Performance Solid Carbide Fiberglass and Composite Cutting 3/8" Dia x 1" x 3/8" Shank AlTiN Coated End Mill Router Bit (48055-E)',store_url:"https://www.amanatool.com/48055-e-high-performance-solid-carbide-fiberglass-and-composite-cutting-3-8-dia-x-1-x-3-8-shank-altin-coated-end-mill-router-bit.html",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200002,flutes:1},{store_id:"46420",name:'Solid Carbide Spiral Plunge 3/8" Dia x 1-1/4" x 3/8" Shank Down-Cut (46420)',store_url:"https://www.amanatool.com/46420-solid-carbide-spiral-plunge-3-8-dia-x-1-1-4-x-3-8-shank-down-cut.html?ff=1&fp=8806",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200003,flutes:2},{store_id:"46390",name:'CNC Solid Carbide Compression Spiral for Solid Wood 1/4" Dia x 7/8" x 1/4" Shank Single Flute (46390)',store_url:"https://www.amanatool.com/46390-cnc-solid-carbide-compression-spiral-for-solid-wood-1-4-dia-x-7-8-x-1-4-inch-shank-single-flute.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200004,flutes:1},{store_id:"RC-2267",name:'CNC Insert Carbide 3 Wing/Flute Heavy Duty Spoilboard Plunging, Surfacing, Planing, Flycutter & Slab Leveler 1-3/4" Dia x 3/4" x 1/2" Shank Router Bit (RC-2267)',store_url:"https://www.amanatool.com/rc-2267-cnc-insert-carbide-3-wing-flute-heavy-duty-spoilboard-plunging-surfacing-planing-flycutter-slab-leveler-1-3-4-dia-x-3-4-x-1-2-shank-router-bit.html",diameter:1.75,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200005,flutes:3},{store_id:"46094",name:'Solid Carbide Up-Cut Spiral 1/4" Dia x 3/4" x 1/4" Shank x 2-1/2" Long Composite, Fiberglass & Phenolic Cutting ZrN Coated Router Bit (46094)',store_url:"https://www.amanatool.com/46094-solid-carbide-spiral-1-4-dia-x-3-4-x-1-4-shank-x-2-1-2-inch-long-composite-fiberglass-phenolic-cutting-zrn-coated-up-cut-router-bit.html?ff=1&fp=12058",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200007,flutes:2},{store_id:"51373",name:`Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 1/8" Dia x 5/16" x 1/4" Shank x 1-1/2" Long Up-Cut Router Bit (51373)`,store_url:"https://www.amanatool.com/51373-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-1-8-dia-x-5-16-x-1-4-shank-x-1-1-2-inch-long-up-cut-router-bit.html?ff=1&fp=11783",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200009,flutes:1},{store_id:"45523",name:"Carbide Tipped Spoilboard Surfacing, Rabbeting, Flycutter, Slab Leveler, Surface Planer & Flattening 28.5mm Dia x 12.5mm x 6mm Shank Router Bit (45523)",store_url:"https://www.amanatool.com/45523-carbide-tipped-spoilboard-surfacing-rabbeting-flycutter-slab-leveler-surface-planer-flattening-28-5mm-dia-x-12-5mm-x-6mm-shank-router-bit.html?ff=1&fp=13459",diameter:28.5,units:"mm",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200011,flutes:3},{store_id:"51444-K",name:`Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Spiral 'O' Flute, Plastic Cutting 1/4" Dia x 7/8" x 1/4" Shank Up-Cut Design Router (51444-K)`,store_url:"https://www.amanatool.com/51444-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-spiral-o-flute-plastic-cutting-1-4-dia-x-7-8-x-1-4-shank-up-cut-design-router-bit.html?ff=1&fp=12767",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200013,flutes:1},{store_id:"46237-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/16" Dia x 3/16" x 1/8" Sh (46237-K)',store_url:"https://www.amanatool.com/46237-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-16-dia-x-3-16-x-1-8-inch-shank.html?ff=1&fp=12813",diameter:.0625,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200014,flutes:2},{store_id:"46292-K",name:'CNC 2D and 3D Carving Flat Bottom 0.10 Deg Angle x 1/8" Dia x 1-3/32" x 1/4" Shank x 2-1/2" Long x 4 Flute Solid Carbide Up-Cut Spiral Spektra\u2122 Extreme Tool Life Coated Router (46292-K)',store_url:"https://www.amanatool.com/46292-k-cnc-2d-and-3d-carving-flat-bottom-0-10-deg-angle-x-1-8-dia-x-1-3-32-x-1-4-shank-x-2-1-2-inch-long-x-4-flute-solid-carbide-up-cut-spiral-spektratm-extreme-tool-life-coated-router-bit.html?ff=1&fp=12807",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200015,flutes:4},{store_id:"RC-1145",name:'CNC Insert V-Groove 45 Deg x 13/16" Dia x 63/64" x 1/4" Shank Router Bit (RC-1145)',store_url:"https://www.amanatool.com/rc-1145-cnc-insert-v-groove-45-deg-x-13-16-dia-x-63-64-x-1-4-inch-shank-router-bit.html?ff=1&fp=12344",diameter:.8125,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200017,flutes:1,tip_angle:45},{store_id:"51405",name:`Solid Carbide CNC Spiral 'O' Flute, Plastic Cutting 1/4" Dia x 1 Inch x 1/4" Shank Up-Cut Router Bit (51405)`,store_url:"https://www.amanatool.com/51405-solid-carbide-cnc-spiral-o-flute-plastic-cutting-1-4-dia-x-1-inch-x-1-4-shank-up-cut-router-bit.html?ff=1&fp=9278",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200019,flutes:1},{store_id:"51731",name:'Solid Carbide Spiral Finisher 1/4" Dia x 7/8" x 1/4" Shank Down-Cut Router Bit (51731)',store_url:"https://www.amanatool.com/51731-solid-carbide-spiral-finisher-1-4-dia-x-7-8-x-1-4-shank-down-cut-router-bit.html?ff=1&fp=11469",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200020,flutes:3},{store_id:"46202-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/4" Dia x 3/4" x 1/4" Sh (46202-K)',store_url:"https://www.amanatool.com/46202-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-4-dia-x-3-4-x-1-4-inch-shank-down-cut.html?ff=1&fp=12544",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200021,flutes:2},{store_id:"45704",name:'Carbide Tipped V-Groove 90 Deg x 1/2" Dia x 1/2" x 1/4" Shank (45704)',store_url:"https://www.amanatool.com/45704-carbide-tipped-v-groove-90-deg-x-1-2-dia-x-1-2-x-1-4-inch-shank.html?ff=1&fp=12419",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200023,flutes:2,tip_angle:90},{store_id:"46106-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/2" Dia x 1-1/4" x 1/2" Shank (46106-K)',store_url:"https://www.amanatool.com/46106-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-2-dia-x-1-1-4-x-1-2-inch-shank.html?ff=1&fp=12622",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200024,flutes:2},{store_id:"RCK-380",name:'Solid Carbide Insert 60 Deg x 0.005" V Tip Width Engraving Knife for In-Groove System (RCK-380)',store_url:"https://www.amanatool.com/rck-380-solid-carbide-insert-60-deg-x-0-005-inch-v-tip-width-eng.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200025,flutes:1,tip_angle:60},{store_id:"45569",name:'Carbide Tipped Bottom Cleaning / Spoilboard 1-1/2" Dia x 5/8" x 1/4" Shank Upshear Design (45569)',store_url:"https://www.amanatool.com/45569-carbide-tipped-bottom-cleaning-spoilboard-1-1-2-dia-x-5-8-x-1-4-inch-shank-upshear-design.html?ff=1&fp=13070",diameter:1.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200026,flutes:2},{store_id:"45633-K",name:'Solid Carbide V-Groove 90 Deg x 1/4" Dia x 1/8" x 1/4" Shank Spektra\u2122 Extreme Tool Life Coated Router Bit (45633-K)',store_url:"https://www.amanatool.com/45633-k-solid-carbide-v-groove-90-deg-x-1-4-dia-x-1-8-x-1-4-inch-shank-spektra-extreme-tool-life-coated-router-bit.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200028,flutes:4,tip_angle:90},{store_id:"45701",name:'Carbide Tipped "Zero Point" V-Groove 90 Deg x 3/8" Dia x 1/2" x 1/4" Shank (45701)',store_url:"https://www.amanatool.com/45701-carbide-tipped-zero-point-v-groove-90-deg-x-3-8-dia-x-1-2-x-1-4-inch-shank.html?ff=1&fp=12417",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200029,flutes:2,tip_angle:90},{store_id:"46264-K",name:'Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Spiral Carbon Graphite & Carbon Fiber Panel Cutting 1/4" Dia x 3/4" x 1/4" Shank x 3 Inch Long Down-Cut Router Bit (46264-K)',store_url:"https://www.amanatool.com/46264-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-spiral-carbon-graphite-carbon-fiber-panel-cutting-1-4-dia-x-3-4-x-1-4-shank-x-3-inch-long-down-cut-router-bit.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200031,flutes:10},{store_id:"45452-CNC",name:'Carbide Tipped Straight Plunge High Production 1-1/2" Dia x 1-1/4" x 1/2" Shank (45452-CNC)',store_url:"https://www.amanatool.com/45452-cnc-carbide-tipped-straight-plunge-high-production-1-1-2-dia-x-1-1-4-x-1-2-inch-shank.html?ff=1&fp=8891",diameter:1.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200032,flutes:2},{store_id:"51474",name:`Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 1/8" Dia x 1/4" x 1/4" Shank x 2 Inch Long Up-Cut Router Bit (51474)`,store_url:"https://www.amanatool.com/51474-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-1-8-dia-x-1-4-x-1-4-shank-x-2-inch-long-up-cut-router-bit.html?ff=1&fp=11931",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200033,flutes:1},{store_id:"46380-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Up-Cut Ball Nose Spiral 1/2" Dia x 1-1/4" x 1/2" Shank Router Bit (46380-K)',store_url:"https://www.amanatool.com/46380-k-solid-carbide-spektratm-extreme-tool-life-coated-up-cut-ball-nose-spiral-1-2-dia-x-1-1-4-inch-x-1-2-shank-router-bit.html?ff=1&fp=12747",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200034,flutes:2},{store_id:"51511",name:`Solid Carbide CNC Spiral 'O' Single Flute, Plastic Cutting 1/8" Dia x 1/2" x 1/4" Shank x 2 Inch Long Down-Cut Router Bit (51511)`,store_url:"https://www.amanatool.com/51511-solid-carbide-cnc-spiral-o-single-flute-plastic-cutting-1-8-dia-x-1-2-x-1-4-shank-x-2-inch-long-down-cut-router-bit.html?ff=1&fp=9138",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200035,flutes:1},{store_id:"57302",name:`Metric Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 3" Dia x 12" x 6" Shank x 64mm Long Up-Cut Router Bit (57302)`,store_url:"https://www.amanatool.com/57302-metric-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-3-dia-x-12-x-6-shank-x-64mm-long-up-cut-router-bit.html?ff=1&fp=11802",diameter:3,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200036,flutes:1},{store_id:"45215",name:"Carbide Tipped Straight Plunge 8mm Dia x 25mm x 8mm Shank (45215)",store_url:"https://www.amanatool.com/45215-carbide-tipped-straight-plunge-8mm-dia-x-25mm-x-8mm-shank.html?ff=1&fp=12608",diameter:8,units:"mm",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200037,flutes:2},{store_id:"46415",name:'Solid Carbide Spiral Plunge 1/4" Dia x 1 Inch x 1/4" Shank Down-Cut (46415)',store_url:"https://www.amanatool.com/46415-solid-carbide-spiral-plunge-1-4-dia-x-1-inch-x-1-4-shank-down-cut.html?ff=1&fp=8812",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200038,flutes:2},{store_id:"51415-K",name:`Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Spiral 'O' Flute, Plastic Cutting 1/16" Dia x 1/4" x 1/8" Shank Up-Cut Design Router Bit (51415-K)`,store_url:"https://www.amanatool.com/51415-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-spiral-o-flute-plastic-cutting-1-16-dia-x-1-4-x-1-8-shank-up-cut-design-router-bit.html?ff=1&fp=12649",diameter:.0625,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200039,flutes:1},{store_id:"46188",name:'CNC Solid Carbide Compression Spiral 1/2" Dia x 1-1/4" x 1/2" Shank (46188)',store_url:"https://www.amanatool.com/46188-cnc-solid-carbide-compression-spiral-1-2-dia-x-1-1-4-x-1-2-inch-shank.html?ff=1&fp=8722",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200043,flutes:2},{store_id:"46201-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 3/16" Dia x 3/4" x 1/4" Sh (46201-K)',store_url:"https://www.amanatool.com/46201-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-3-16-dia-x-3-4-x-1-4-inch-shank.html?ff=1&fp=12773",diameter:.1875,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200044,flutes:2},{store_id:"HSS1633",name:'High Speed Steel (HSS) Double Flute Spiral Aluminum Cutting 1/4" Dia x 5/8" x 1/4" Shank Up-Cut Router Bit (HSS1633)',store_url:"https://www.amanatool.com/hss1633-high-speed-steel-hss-double-flute-spiral-aluminum-cutting-1-4-dia-x-5-8-x-1-4-inch-shank-up-cut-router-bit.html?ff=1&fp=12594",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200045,flutes:2},{store_id:"51502-Z",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 1/4" Dia x 5/8" x 1/4" Shank Down-Cut ZrN Coated Router Bit (51502-Z)`,store_url:"https://www.amanatool.com/51502-z-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-1-4-dia-x-5-8-x-1-4-shank-down-cut-zrn-coated-router-bit.html?ff=1&fp=12897",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200048,flutes:1},{store_id:"RC-2248",name:'Insert Carbide Mini Spoilboard Surfacing, Rabbeting, Flycutter, Slab Leveler & Surface Planer 1-1/2" Dia x 15/32 (12mm) x 1/4" Shank Router Bit (RC-2248)',store_url:"https://www.amanatool.com/rc-2248-insert-carbide-mini-spoilboard-surfacing-rabbeting-flycutter-slab-leveler-surface-planer-1-1-2-dia-x-15-32-12mm-x-1-4-inch-shank-router-bit.html?ff=1&fp=9102",diameter:1.5,units:"mm",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200049,flutes:2},{store_id:"46229-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/32" Dia x 1/8" x 1/8" Sh (46229-K)',store_url:"https://www.amanatool.com/46229-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-32-dia-x-1-8-x-1-8-inch-shank.html?ff=1&fp=12790",diameter:.03125,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200050,flutes:2},{store_id:"51647",name:`Solid Carbide CNC Spiral 'O' Flute, Plastic Cutting 3/32" Dia x 1/4" x 1/8" Shank Up-Cut Design Router Bit (51647)`,store_url:"https://www.amanatool.com/51647-solid-carbide-cnc-spiral-o-flute-plastic-cutting-3-32-dia-x-1-4-x-1-8-shank-up-cut-design-router-bit.html?ff=1&fp=13222",diameter:.09375,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200051,flutes:1},{store_id:"43530",name:`Solid Carbide Single 'O' Flute Straight Grind Aluminum Cutting 1/8" Dia x 1/2" x 1/4" Shank (43530)`,store_url:"https://www.amanatool.com/43530-solid-carbide-single-o-flute-straight-grind-aluminum-cutting-1-8-dia-x-1-2-x-1-4-inch-shank.html?ff=1&fp=12700",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200052,flutes:1},{store_id:"45217",name:'Carbide Tipped Straight Plunge High Production 13/64" Dia x 3/4" x 1/4" Shank (45217)',store_url:"https://www.amanatool.com/45217-carbide-tipped-straight-plunge-high-production-13-64-dia-x-3-4-x-1-4-inch-shank.html?ff=1&fp=12454",diameter:.203125,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200053,flutes:2},{store_id:"51496",name:`Metric Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 6" Dia x 20" x 6" Shank x 64mm Long Up-Cut Router Bit (51496)`,store_url:"https://www.amanatool.com/51496-metric-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-6-dia-x-20-x-6-shank-x-64mm-long-up-cut-router-bit.html?ff=1&fp=12021",diameter:6,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200054,flutes:1},{store_id:"46155-K",name:`CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Compression Spiral 'O' Flute 1/8" Dia x 7/8" x 1/4" Shank (46155-K)`,store_url:"https://www.amanatool.com/46155-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-compression-spiral-o-flute-1-8-dia-x-7-8-x-1-4-inch-shank.html?ff=1&fp=13388",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200055,flutes:3},{store_id:"45212",name:'Carbide Tipped Straight Plunge High Production 9/32" Dia x 1 Inch x 1/4" Shank (45212)',store_url:"https://www.amanatool.com/45212-carbide-tipped-straight-plunge-high-production-9-32-dia-x-1-inch-x-1-4-shank.html?ff=1&fp=12365",diameter:.28125,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200056,flutes:2},{store_id:"RC-1140",name:'CNC Insert V-Groove 91 Deg x 1-1/2" Dia x 3/4" x 1/4" Shank (RC-1140)',store_url:"https://www.amanatool.com/rc-1140-cnc-insert-v-groove-91-deg-x-1-1-2-dia-x-3-4-x-1-4-inch-shank.html",diameter:1.5,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200058,flutes:1,tip_angle:91},{store_id:"46012",name:'CNC Solid Carbide Compression Spiral 3 Flute x 1/2" Dia x 1-1/4" x 1/2" Shank (46012)',store_url:"https://www.amanatool.com/46012-cnc-solid-carbide-compression-spiral-3-flute-x-1-2-dia-x-1-1-4-x-1-2-inch-shank.html?ff=1&fp=8732",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200059,flutes:3},{store_id:"51377",name:`Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 1/4" Dia x 3/4" x 1/4" Shank x 2 Inch Long Up-Cut Router Bit (51377)`,store_url:"https://www.amanatool.com/51377-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-1-4-dia-x-3-4-x-1-4-shank-x-2-inch-long-up-cut-router-bit.html?ff=1&fp=11778",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200063,flutes:1},{store_id:"51517-K",name:`Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Spiral 'O' Flute, Plastic Cutting 3/16" Dia x 5/8" x 1/4" Shank Down-Cut Router (51517-K)`,store_url:"https://www.amanatool.com/51517-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-spiral-o-flute-plastic-cutting-3-16-dia-x-5-8-x-1-4-inch-shank-down-cut-router-bit.html?ff=1&fp=12726",diameter:.1875,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200064,flutes:1},{store_id:"HSS1504",name:`HSS Single Straight 'O' Flute Plastic Cutting 1/4" Dia x 3/4" x 1/4" Shank (HSS1504)`,store_url:"https://www.amanatool.com/hss1504-hss-single-straight-o-flute-plastic-cutting-1-4-dia-x-3-4-x-1-4-inch-shank.html?ff=1&fp=11326",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200065,flutes:1},{store_id:"48216-K",name:"Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 3mm Dia x 20mm x 6mm Shank (48216-K)",store_url:"https://www.amanatool.com/48216-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-3mm-dia-x-20mm-x-6mm-shank.html?ff=1&fp=13476",diameter:3,units:"mm",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200066,flutes:2},{store_id:"RC-2257",name:'CNC Insert Carbide Spoilboard Surfacing, Rabbeting, Flycutter, Slab Leveler & Surface Planer 2-1/2" Dia x 1/2" x 1/2" Shank Router Bit (RC-2257)',store_url:"https://www.amanatool.com/rc-2257-cnc-insert-carbide-spoilboard-surfacing-rabbeting-flycutter-slab-leveler-surface-planer-2-1-2-dia-x-1-2-x-1-2-inch-shank-router-bit.html?ff=1&fp=12354",diameter:2.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200067,flutes:2},{store_id:"45226",name:'Carbide Tipped Straight Plunge High Production 1/2" Dia x 1 Inch x 1/4" Shank (45226)',store_url:"https://www.amanatool.com/45226-carbide-tipped-straight-plunge-high-production-1-2-dia-x-1-inch-x-1-4-shank.html?ff=1&fp=12450",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200068,flutes:2},{store_id:"46295",name:'CNC 2D and 3D Carving 1 Deg Straight Angle Ball Tip 1/8" Dia x 1/16" Radius x 1-1/2" x 1/8" Shank x 3 Inch Long x 3 Flute Solid Carbide ZrN Coated Router Bit (46295)',store_url:"https://www.amanatool.com/46295-cnc-2d-and-3d-carving-1-deg-straight-angle-ball-tip-1-8-dia-x-1-16-radius-x-1-1-2-x-1-8-shank-x-3-inch-long-x-3-flute-solid-carbide-zrn-coated-router-bit.html?ff=1&fp=10709",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200069,flutes:3},{store_id:"45650",name:'Carbide Tipped Keyhole 3/8" Dia x 3/8" x 1/4" Shank (45650)',store_url:"https://www.amanatool.com/45650-carbide-tipped-keyhole-3-8-dia-x-3-8-x-1-4-inch-shank.html?ff=1&fp=7496",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200070,flutes:1},{store_id:"RC-2245",name:'Insert Carbide Mini Spoilboard Surfacing, Rabbeting, Flycutter, Slab Leveler & Surface Planer 1-1/4" Dia x 15/32 (12mm) x 1/4" Shank Router Bit (RC-2245)',store_url:"https://www.amanatool.com/rc-2245-insert-carbide-mini-spoilboard-surfacing-rabbeting-flycutter-slab-leveler-surface-planer-1-1-4-dia-x-15-32-12mm-x-1-4-inch-shank-router-bit.html?ff=1&fp=12347",diameter:1.25,units:"mm",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200071,flutes:2},{store_id:"46171-K",name:'CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Compression Spiral 3/8" Dia x 7/8" x 3/8" Shank (46171-K)',store_url:"https://www.amanatool.com/46171-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-compression-spiral-3-8-dia-x-7-8-x-3-8-inch-shank.html",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200072,flutes:2},{store_id:"45751",name:'Carbide Tipped V-Groove 90 Deg x 1-1/4" Dia x 15/16" x 1/4" Shank (45751)',store_url:"https://www.amanatool.com/45751-carbide-tipped-v-groove-90-deg-x-1-1-4-dia-x-15-16-x-1-4-inch-shank.html?ff=1&fp=12231",diameter:1.25,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200074,flutes:2,tip_angle:90},{store_id:"45486",name:'Carbide Tipped Straight Plunge 1/4" Dia x 1 Inch x 1/2" Shank (45486)',store_url:"https://www.amanatool.com/45486-carbide-tipped-straight-plunge-1-4-dia-x-1-inch-x-1-2-shan.html?ff=1&fp=12402",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200075,flutes:2},{store_id:"51790",name:'High Performance Solid Carbide CNC Steel, Stainless Steel & Composite Cutting Variable Helix Spiral Ball Nose with AlTiN Coating 4-Flute x 1/8" Dia x 1/4" x 1/8" Shank x 1-1/2" Long Up-Cut Router Bit/End Mill (51790)',store_url:"https://www.amanatool.com/51790-high-performance-solid-carbide-cnc-steel-stainless-steel-composite-cutting-spiral-ball-nose-with-altin-coating-4-flute-x-1-8-dia-x-1-4-x-1-8-shank-x-1-1-2-inch-long-up-cut-router-bit-end-mill.html?ff=1&fp=13284",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200076,flutes:4},{store_id:"46420-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 3/8" Dia x 1-1/4" x 3/8" Sh (46420-K)',store_url:"https://www.amanatool.com/46420-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-3-8-dia-x-1-1-4-x-3-8-inch-shank.html?ff=1&fp=12660",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200078,flutes:2},{store_id:"RC-2255",name:'CNC Insert Carbide 3 Wing/Flute Heavy Duty Spoilboard Plunging, Surfacing, Planing, Flycutter & Slab Leveler 2-1/2" Dia x 53/64" x 1/2" Shank Router Bit (RC-2255)',store_url:"https://www.amanatool.com/rc-2255-cnc-insert-carbide-3-wing-flute-heavy-duty-spoilboard-plunging-surfacing-planing-flycutter-slab-leveler-2-1-2-dia-x-53-64-x-1-2-shank-router-bit.html?ff=1&fp=12352",diameter:2.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200079,flutes:3},{store_id:"51405-K",name:`Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Spiral 'O' Flute, Plastic Cutting 1/4" Dia x 1" x 1/4" Shank Up-Cut Router (51405-K)`,store_url:"https://www.amanatool.com/51405-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-spiral-o-flute-plastic-cutting-1-4-dia-x-1-x-1-4-inch-shank-up-cut-router-bit.html?ff=1&fp=12539",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200082,flutes:1},{store_id:"46367",name:'CNC Solid Carbide Mortise Compression Spiral 3/8" Dia x 7/8" x 3/8" Shank (46367)',store_url:"https://www.amanatool.com/46367-cnc-solid-carbide-mortise-compression-spiral-3-8-dia-x-7-8-x-3-8-shank.html?ff=1&fp=8747",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200083,flutes:2},{store_id:"45624",name:'Solid Carbide V-Groove 60 Deg x 1/4" Dia x 31/64" x 1/4" Shank (45624)',store_url:"https://www.amanatool.com/45624-solid-carbide-v-groove-60-deg-x-1-4-dia-x-31-64-x-1-4-inch-shank.html?ff=1&fp=12558",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200085,flutes:2,tip_angle:60},{store_id:"51454-Z",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 1/8" Dia x 1/2" x 1/4" Shank Up-Cut ZrN Coated Router Bit (51454-Z)`,store_url:"https://www.amanatool.com/51454-z-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-1-8-dia-x-1-2-x-1-4-shank-up-cut-zrn-coated-router-bit.html?ff=1&fp=12876",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200086,flutes:1},{store_id:"46260-K",name:'Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Spiral Carbon Graphite & Carbon Fiber Panel Cutting 1/8" Dia x 1/2" x 1/8" Shank x 2 Inch Long Down-Cut Router Bit (46260-K)',store_url:"https://www.amanatool.com/46260-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-spiral-carbon-graphite-carbon-fiber-panel-cutting-1-8-dia-x-1-2-x-1-8-shank-x-2-inch-long-down-cut-router-bit.html?ff=1&fp=12614",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200087,flutes:10},{store_id:"46590",name:'Extra Long CNC 2D and 3D Carving Flat Bottom 0.10 Deg Straight Angle x 1/4" Dia x 1/2" x 1/4" Shank x 4 Inch Long x 3 Flute Solid Carbide ZrN Coated Reduced Shank Router Bit (46590)',store_url:"https://www.amanatool.com/46590-extra-long-cnc-2d-and-3d-carving-flat-bottom-0-10-deg-straight-angle-x-1-4-dia-x-1-2-x-1-4-shank-x-4-inch-long-x-3-flute-solid-carbide-zrn-coated-reduced-shank-router-bit.html?ff=1&fp=9258",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200088,flutes:3},{store_id:"51504",name:`Solid Carbide CNC Spiral 'O' Flute, Plastic Cutting 1/4" Dia x 3/4" x 1/4" Shank Down-Cut (51504)`,store_url:"https://www.amanatool.com/51504-solid-carbide-cnc-spiral-o-flute-plastic-cutting-1-4-dia-x-3-4-x-1-4-inch-shank-down-cut.html?ff=1&fp=9281",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200089,flutes:1},{store_id:"46700-K",name:'CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Compression Spiral 1/4" Dia x 7/8" x 1/4" Shank for Baltic Birch Plywood (46700-K)',store_url:"https://www.amanatool.com/46700-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-compression-spiral-1-4-dia-x-7-8-x-1-4-inch-shank-for-baltic-birch-plywood.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200090,flutes:2},{store_id:"46182",name:'CNC Solid Carbide Compression Spiral 1/2" Dia x 1 Inch x 1/2" Shank (46182)',store_url:"https://www.amanatool.com/46182-cnc-solid-carbide-compression-spiral-1-2-dia-x-1-inch-x-1-2-shank.html?ff=1&fp=8720",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200091,flutes:2},{store_id:"46127",name:'Solid Carbide Spiral Plunge 1/8" Dia x 1/2" x 1/8" Shank x 2 Inch Long Up-Cut (46127)',store_url:"https://www.amanatool.com/46127-solid-carbide-spiral-plunge-1-8-dia-x-1-2-x-1-8-shank-x-2-inch-long-up-cut.html?ff=1&fp=10343",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200092,flutes:2},{store_id:"46369-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Up-Cut Ball Nose Spiral 1/8" Dia x 1/2" x 1/4" Shank Router (46369-K)',store_url:"https://www.amanatool.com/46369-k-solid-carbide-spektratm-extreme-tool-life-coated-up-cut-ball-nose-spiral-1-8-dia-x-1-2-inch-x-1-4-shank-router-bit.html?ff=1&fp=12774",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200093,flutes:2},{store_id:"51517",name:`Solid Carbide CNC Spiral 'O' Single Flute, Plastic Cutting 3/16" Dia x 5/8" x 1/4" Shank x 2 Inch Long Down-Cut Router Bit (51517)`,store_url:"https://www.amanatool.com/51517-solid-carbide-cnc-spiral-o-single-flute-plastic-cutting-3-16-dia-x-5-8-x-1-4-shank-x-2-inch-long-down-cut-router-bit.html?ff=1&fp=9155",diameter:.1875,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200094,flutes:1},{store_id:"46292",name:'CNC 2D and 3D Carving Flat Bottom 0.10 Deg Angle x 1/8" Dia x 1-3/32" x 1/4" Shank x 2-1/2" Long x 4 Flute Solid Carbide ZrN Coated Router Bit (46292)',store_url:"https://www.amanatool.com/46292-cnc-2d-and-3d-carving-flat-bottom-0-10-deg-angle-x-1-8-dia-x-1-3-32-x-1-4-shank-x-2-1-2-inch-long-x-4-flute-solid-carbide-zrn-coated-router-bit.html?ff=1&fp=9193",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200095,flutes:4},{store_id:"46206",name:'Solid Carbide Spiral Plunge 1/2" Dia x 1-1/4" x 1/2" Shank Down-Cut (46206)',store_url:"https://www.amanatool.com/46206-solid-carbide-spiral-plunge-1-2-dia-x-1-1-4-x-1-2-inch-shank-down-cut.html?ff=1&fp=8809",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200096,flutes:2},{store_id:"46424-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Up-Cut Spiral Ball Nose 3/32" Radius x 3/16" Dia x 1/2" x 1/4" Shank x 2-1/2" Long x 2 Flute Router (46424-K)',store_url:"https://www.amanatool.com/46424-k-solid-carbide-spektratm-extreme-tool-life-coated-up-cut-spiral-ball-nose-3-32-radius-x-3-16-dia-x-1-2-x-1-4-shank-x-2-1-2-inch-long-x-2-flute-router-bit.html?ff=1&fp=13123",diameter:.1875,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200097,flutes:2},{store_id:"45408-3",name:'CNC In-Presta\u2122 3 Flute Solid Carbide Cutting Edge Straight Plunge High Production 1/4" Dia x 3/4" x 1/2" S (45408-3)',store_url:"https://www.amanatool.com/45408-3-cnc-in-prestatm-3-flute-solid-carbide-cutting-edge-straight-plunge-high-production-1-4-dia-x-3-4-x-1-2-inch-shank.html?ff=1&fp=13065",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200098,flutes:3},{store_id:"46350",name:'CNC Solid Carbide Mortise Compression Spiral 1/4" Dia x 1 Inch x 1/4" Shank (46350)',store_url:"https://www.amanatool.com/46350-cnc-solid-carbide-mortise-compression-spiral-1-4-dia-x-1-inch-x-1-4-shank.html?ff=1&fp=8737",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200099,flutes:2},{store_id:"RCK-362",name:'Solid Carbide Insert 30 Deg x 0.020" V Tip Width Engraving Knife for In-Groove System (RCK-362)',store_url:"https://www.amanatool.com/rck-362-solid-carbide-insert-30-deg-x-0-020-inch-v-tip-width-eng.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200100,flutes:1,tip_angle:30},{store_id:"46140",name:'CNC Solid Carbide Compression Spiral Single Flute 1/4" Dia x 7/8" x 1/4" Shank (46140)',store_url:"https://www.amanatool.com/46140-cnc-solid-carbide-compression-spiral-single-flute-1-4-dia-x-7-8-x-1-4-inch-shank.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200102,flutes:1},{store_id:"46574",name:'CNC 2D and 3D Carving Flat Bottom 1.0 Deg Angle x 1/8" Dia x 1-1/2" x 1/4" Shank x 3 Inch Long x 3 Flute Solid Carbide ZrN Coated Router Bit (46574)',store_url:"https://www.amanatool.com/46574-cnc-2d-and-3d-carving-flat-bottom-1-0-deg-angle-x-1-8-dia-x-1-1-2-x-1-4-shank-x-3-inch-long-x-3-flute-solid-carbide-zrn-coated-router-bit.html?ff=1&fp=10369",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200105,flutes:3},{store_id:"HSS1605",name:`HSS Double Straight 'O' Flute Plastic Cutting 1/4" Dia x 2" x 1/4" Shank (HSS1605)`,store_url:"https://www.amanatool.com/hss1605-hss-double-straight-o-flute-plastic-cutting-1-4-dia-x-2-x-1-4-inch-shank.html?ff=1&fp=11333",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200106,flutes:2},{store_id:"46367-K",name:'CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Mortise Compression Spiral 3/8" Dia x 7/8" x 3/8 Sh (46367-K)',store_url:"https://www.amanatool.com/46367-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-mortise-compression-spiral-3-8-dia-x-7-8-inch-x-3-8-shank.html?ff=1&fp=12605",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200107,flutes:2},{store_id:"46315-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/4" Dia x 1" x 1/4" Shank Up (46315-K)',store_url:"https://www.amanatool.com/46315-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-4-dia-x-1-x-1-4-inch-shank-up-cut.html?ff=1&fp=12542",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200109,flutes:2},{store_id:"45625",name:'Solid Carbide V-Groove 90 Deg x 1/4" Dia x 9/16" x 1/4" Shank (45625)',store_url:"https://www.amanatool.com/45625-solid-carbide-v-groove-90-deg-x-1-4-dia-x-9-16-x-1-4-inch-shank.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200110,flutes:2,tip_angle:90},{store_id:"46102-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/4" Dia x 3/4" x 1/4" Shank Up (46102-K)',store_url:"https://www.amanatool.com/46102-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-4-dia-x-3-4-x-1-4-inch-shank-up-cut.html?ff=1&fp=12541",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200111,flutes:2},{store_id:"46206-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/2" Dia x 1-1/4" x 1/2" Sh (46206-K)',store_url:"https://www.amanatool.com/46206-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-2-dia-x-1-1-4-x-1-2-inch-shank.html?ff=1&fp=12634",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200112,flutes:2},{store_id:"51441-K",name:`Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Spiral 'O' Single Flute, Plastic Cutting 1/16" Dia x 1/4" x 1/4" Shank x 2 Inch Long Up-Cut Router (51441-K)`,store_url:"https://www.amanatool.com/51441-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-spiral-o-single-flute-plastic-cutting-1-16-dia-x-1-4-x-1-4-shank-x-2-inch-long-up-cut-router-bit.html?ff=1&fp=11708",diameter:.0625,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200113,flutes:1},{store_id:"48058-E",name:'High Performance Solid Carbide Fiberglass and Composite Cutting 1/2" Dia x 1-1/8" x 1/2" Shank AlTiN Coated Mill End Router Bit (48058-E)',store_url:"https://www.amanatool.com/48058-e-high-performance-solid-carbide-fiberglass-and-composite-cutting-1-2-dia-x-1-1-8-x-1-2-shank-altin-coated-mill-end-router-bit.html",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200114,flutes:1},{store_id:"46177-K",name:'CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Compression Spiral 1/4" Dia x 1-1/4" x 1/4" Sh (46177-K)',store_url:"https://www.amanatool.com/46177-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-compression-spiral-1-4-dia-x-1-1-4-x-1-4-shank.html?ff=1&fp=13074",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200115,flutes:2},{store_id:"48218-K",name:"Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 6mm Dia x 19mm x 6mm Shank (48218-K)",store_url:"https://www.amanatool.com/48218-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-6mm-dia-x-19mm-x-6mm-shank.html",diameter:6,units:"mm",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200117,flutes:2},{store_id:"46564",name:'Solid Carbide CNC Foam Cutting Down-Cut Square End Spiral 1/8" Dia x 1-1/8" x 1/4" Shank x 2-1/2" Long Router Bit (46564)',store_url:"https://www.amanatool.com/46564-solid-carbide-cnc-foam-cutting-down-cut-square-end-spiral-1-8-dia-x-1-1-8-x-1-4-shank-x-2-1-2-inch-long-router-bit.html?ff=1&fp=12522",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200122,flutes:2},{store_id:"51410-K",name:`Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Spiral 'O' Flute, Plastic Cutting 1/8" Dia x 1/2" x 1/8" Shank Up-Cut Design Router Bit (51410-K)`,store_url:"https://www.amanatool.com/51410-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-spiral-o-flute-plastic-cutting-1-8-dia-x-1-2-x-1-8-shank-up-cut-design-router-bit.html?ff=1&fp=11709",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200123,flutes:1},{store_id:"46180",name:'CNC Solid Carbide Compression Spiral 1/8" Dia x 13/16" x 1/8" Shank (46180)',store_url:"https://www.amanatool.com/46180-cnc-solid-carbide-compression-spiral-1-8-dia-x-13-16-x-1-8-inch-shank.html?ff=1&fp=10796",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200125,flutes:2},{store_id:"43504-K",name:`Solid Carbide Spektra\u2122 Extreme Tool Life Coated Single 'O' Flute Plastic Cutting 3/16" Dia x 5/8" x 1/4" S (43504-K)`,store_url:"https://www.amanatool.com/43504-k-solid-carbide-spektratm-extreme-tool-life-coated-single-o-flute-plastic-cutting-3-16-dia-x-5-8-x-1-4-inch-shank.html?ff=1&fp=13259",diameter:.1875,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200126,flutes:1},{store_id:"51498",name:"Metric Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 8mm Dia x 25mm x 8mm Shank x 64mm Long Up-Cut Router Bit (51498)",store_url:"https://www.amanatool.com/51498-metric-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-8-dia-x-25-x-8-shank-x-64mm-long-up-cut-router-bit.html?ff=1&fp=12022",diameter:8,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200127,flutes:1},{store_id:"51371",name:"Metric Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 3mm Dia x 8mm x 3mm Shank x 30mm Long Up-Cut Router Bit (51371)",store_url:"https://www.amanatool.com/51371-metric-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-3-dia-x-8-x-3-shank-x-30mm-long-up-cut-router-bit.html",diameter:3,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200128,flutes:1},{store_id:"46415-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/4" Dia x 1" x 1/4" S (46415-K)',store_url:"https://www.amanatool.com/46415-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-4-dia-x-1-x-1-4-inch-shank-down-cut.html?ff=1&fp=12545",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200130,flutes:2},{store_id:"46008-K",name:'Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Spiral Carbon Graphite & Carbon Fiber Panel Cutting 1/8" Dia x 1/2" x 1/4" Shank x 2 Inch Long Down-Cut Router Bit (46008-K)',store_url:"https://www.amanatool.com/46008-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-spiral-carbon-graphite-carbon-fiber-panel-cutting-1-8-dia-x-1-2-x-1-4-shank-x-2-inch-long-down-cut-router-bit.html?ff=1&fp=13054",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200131,flutes:10},{store_id:"46180-K",name:'CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Compression Spiral 1/8" Dia x 13/16" x 1/8 Sh (46180-K)',store_url:"https://www.amanatool.com/46180-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-compression-spiral-1-8-dia-x-13-16-inch-x-1-8-shank.html?ff=1&fp=12623",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200132,flutes:2},{store_id:"46290-U",name:'CNC 2D and 3D Carving Flat Bottom x 0.10 Deg Angle x 1/16" Dia x 5/16" x 1/4" Shank x 2 Inch Long x 3 Flute Solid Carbide Router Bit (46290-U)',store_url:"https://www.amanatool.com/46290-u-cnc-2d-and-3d-carving-flat-bottom-x-0-10-deg-angle-x-1-16-dia-x-5-16-x-1-4-shank-x-2-inch-long-x-3-flute-solid-carbide-router-bit.html?ff=1&fp=11077",diameter:.0625,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200133,flutes:3},{store_id:"46384",name:'Solid Carbide Up-Cut Ball Nose Spiral 1/2" Dia x 2-1/8" x 1/2" Shank Router Bit (46384)',store_url:"https://www.amanatool.com/46384-solid-carbide-up-cut-ball-nose-spiral-1-2-dia-x-2-1-8-x-1-2-inch-shank-router-bit.html?ff=1&fp=8762",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200134,flutes:2},{store_id:"RC-3400",name:'CNC Solid Carbide Insert Face Milling for Non-Ferrous Metals 2-31/64" Dia x 15mm x 1/2" Shank End Mill / Router Bit (RC-3400)',store_url:"https://www.amanatool.com/rc-3400-cnc-solid-carbide-insert-face-milling-for-non-ferrous-metals-2-31-64-dia-x-15mm-x-1-2-inch-shank-end-mill-router-bit.html?ff=1&fp=10837",diameter:2.484375,units:"mm",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200135,flutes:4},{store_id:"RC-1141",name:'CNC Insert V-Groove 90 Deg x 1" Dia x 1/2" x 1/4" Shank (RC-1141)',store_url:"https://www.amanatool.com/rc-1141-cnc-insert-v-groove-90-deg-x-1-dia-x-1-2-x-1-4-inch-shank.html",diameter:1,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200137,flutes:1,tip_angle:90},{store_id:"46272-K",name:'Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Foam Up-Cut Cutting Square End Spiral 1/4" Dia x 2-1/4" x 1/4" Shank x 4 Inch Long Router (46272-K)',store_url:"https://www.amanatool.com/46272-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-foam-up-cut-cutting-square-end-spiral-1-4-dia-x-2-1-4-x-1-4-shank-x-4-inch-long-router-bit.html?ff=1&fp=13220",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200138,flutes:2},{store_id:"46227-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/8" Dia x 1/2" x 1/8" Sh (46227-K)',store_url:"https://www.amanatool.com/46227-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-8-dia-x-1-2-x-1-8-inch-shank.html?ff=1&fp=12770",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200139,flutes:2},{store_id:"46380",name:'Solid Carbide Up-Cut Ball Nose Spiral 1/2" Dia x 1-1/4" x 1/2" Shank Router Bit (46380)',store_url:"https://www.amanatool.com/46380-solid-carbide-up-cut-ball-nose-spiral-1-2-dia-x-1-1-4-x-1-2-inch-shank-router-bit.html?ff=1&fp=8761",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200140,flutes:2},{store_id:"51480",name:`Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 1/4" Dia x 3/4" x 1/4" Shank x 2-1/2" Long Up-Cut Router Bit (51480)`,store_url:"https://www.amanatool.com/51480-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-1-4-dia-x-3-4-x-1-4-shank-x-2-1-2-inch-long-up-cut-router-bit.html?ff=1&fp=11921",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200141,flutes:1},{store_id:"RC-2259",name:'CNC Insert Carbide 5 Wing/Flute Heavy Duty Spoilboard Plunging, Surfacing, Planing, Flycutter & Slab Leveler 3-27/32" Dia x 1-7/32" x 3/4" Shank Router Bit (RC-2259)',store_url:"https://www.amanatool.com/rc-2259-cnc-insert-carbide-5-wing-flute-heavy-duty-spoilboard-plunging-surfacing-planing-flycutter-slab-leveler-3-27-32-dia-x-1-7-32-x-3-4-shank-router-bit.html",diameter:3.84375,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200142,flutes:5},{store_id:"RC-1104",name:'Insert V-Groove 120 Deg x 2-1/32" x 1/2" Shank CNC (RC-1104)',store_url:"https://www.amanatool.com/rc-1104-insert-v-groove-120-deg-x-2-1-32-x-1-2-inch-shank-cnc.html",diameter:2.03125,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200143,flutes:2,tip_angle:120},{store_id:"RCK-361",name:'Solid Carbide Insert 30 Deg x 0.010" V Tip Width Engraving Knife for In-Groove System (RCK-361)',store_url:"https://www.amanatool.com/rck-361-solid-carbide-insert-30-deg-x-0-010-inch-v-tip-width-eng.html?ff=1&fp=12040",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200144,flutes:1,tip_angle:30},{store_id:"48450-K",name:"Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Spiral Carbon Graphite & Carbon Fiber Panel Cutting 3mm Dia x 13mm x 3mm Shank x 50mm Long Down-Cut Router Bit (48450-K)",store_url:"https://www.amanatool.com/48450-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-spiral-carbon-graphite-carbon-fiber-panel-cutting-3mm-dia-x-13mm-x-3mm-shank-x-50mm-long-down-cut-router-bit.html",diameter:3,units:"mm",quantity:1,source:"amana",group_name:"Downcut",technology_id:200145,flutes:1},{store_id:"46172",name:'CNC Solid Carbide Compression Spiral 3/8" Dia x 1-1/4" x 3/8" Shank (46172)',store_url:"https://www.amanatool.com/46172-cnc-solid-carbide-compression-spiral-3-8-dia-x-1-1-4-inch-x-3-8-shank.html?ff=1&fp=8729",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200146,flutes:2},{store_id:"51595",name:'CNC Variable Helix Spiral Square Bottom 3/8" Dia x 7/8" x 3/8" Shank Solid Carbide AlTiN Coated End Mill (51595)',store_url:"https://www.amanatool.com/51595-cnc-variable-helix-spiral-square-bottom-3-8-dia-x-7-8-x-3-8-shank-solid-carbide-altin-coated-end-mill.html?ff=1&fp=10749",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200147,flutes:4},{store_id:"RC-2243",name:'Insert Carbide Mini Spoilboard Surfacing, Rabbeting, Flycutter, Slab Leveler & Surface Planer 1" Dia x 15/32 (12mm) x 1/4" Shank Router Bit (RC-2243)',store_url:"https://www.amanatool.com/rc-2243-insert-carbide-mini-spoilboard-surfacing-rabbeting-flycutter-slab-leveler-surface-planer-1-dia-x-15-32-12mm-x-1-4-inch-shank-router-bit.html?ff=1&fp=12346",diameter:1,units:"mm",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200148,flutes:2},{store_id:"51777-Z",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 1/8" Dia x 5/16" x 1/4" Shank Down-Cut ZrN Coated Router Bit (51777-Z)`,store_url:"https://www.amanatool.com/51777-z-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-1-8-dia-x-5-16-x-1-4-shank-down-cut-zrn-coated-router-bit.html?ff=1&fp=13213",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200149,flutes:1},{store_id:"46341-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge for Solid Wood 1/8" Dia x 1/2" x 1/4" Shank Down (46341-K)',store_url:"https://www.amanatool.com/46341-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-for-solid-wood-1-8-dia-x-1-2-x-1-4-inch-shank-down-cut.html?ff=1&fp=12708",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200150,flutes:2},{store_id:"45780-K",name:'Solid Carbide V Groove Engraving 15 Deg x 3/16" Dia x 1/2" x 1/4" Shank Spektra\u2122 Extreme Tool Life Coated Router (45780-K)',store_url:"https://www.amanatool.com/45780-k-solid-carbide-v-groove-engraving-15-deg-x-3-16-dia-x-1-2-x-1-4-inch-shank-spektratm-extreme-tool-life-coated-router-bit.html?ff=1&fp=13014",diameter:.1875,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200151,flutes:2,tip_angle:15},{store_id:"46290-K",name:'CNC 2D and 3D Carving Flat Bottom 0.10 Deg Angle x 1/16" Dia x 5/16" x 1/4" Shank x 2 Inch Long x 3 Flute Solid Carbide Up-Cut Spiral Spektra\u2122 Extreme Tool Life Coated Router (46290-K)',store_url:"https://www.amanatool.com/46290-k-cnc-2d-and-3d-carving-flat-bottom-0-10-deg-angle-x-1-16-dia-x-5-16-x-1-4-shank-x-2-inch-long-x-3-flute-solid-carbide-up-cut-spiral-spektratm-extreme-tool-life-coated-router-bit.html?ff=1&fp=12806",diameter:.0625,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200152,flutes:3},{store_id:"45624-K",name:'Solid Carbide 3 Flute V-Groove 60 Deg x 1/4" Dia x 31/64" x 1/4" Shank Spektra\u2122 Extreme Tool Life Coated Router (45624-K)',store_url:"https://www.amanatool.com/45624-k-solid-carbide-3-flute-v-groove-60-deg-x-1-4-dia-x-31-64-x-1-4-inch-shank-spektratm-extreme-tool-life-coated-router-bit.html?ff=1&fp=12940",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200154,flutes:2,tip_angle:60},{store_id:"46294-K",name:'CNC 2D and 3D Carving 0.10 Deg Straight Angle Ball Tip 1/4" Dia x 1/8" Radius x 1-1/2" x 1/4" Shank x 3 Inch Long x 2 Flute Solid Carbide Spektra\u2122 Extreme Tool Life Coated Router (46294-K)',store_url:"https://www.amanatool.com/46294-k-cnc-2d-and-3d-carving-0-10-deg-straight-angle-ball-tip-1-4-dia-x-1-8-radius-x-1-1-2-x-1-4-shank-x-3-inch-long-x-2-flute-solid-carbide-spektratm-extreme-tool-life-coated-router-bit.html?ff=1&fp=12615",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200156,flutes:2},{store_id:"46200",name:'Solid Carbide Spiral Plunge 1/8" Dia x 1/2" x 1/4" Shank x 2 Inch Long Down-Cut (46200)',store_url:"https://www.amanatool.com/46200-solid-carbide-spiral-plunge-1-8-dia-x-1-2-x-1-4-inch-shank-x-2-inch-long-down-cut.html?ff=1&fp=8797",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200157,flutes:2},{store_id:"51446",name:`Solid Carbide CNC Spiral 'O' Single Flute, Plastic Cutting 1/8" Dia x 3/4" x 1/4" Shank x 2-1/2" Long Up-Cut Router Bit (51446)`,store_url:"https://www.amanatool.com/51446-solid-carbide-cnc-spiral-o-single-flute-plastic-cutting-1-8-dia-x-3-4-x-1-4-shank-x-2-1-2-inch-long-up-cut-router-bit.html?ff=1&fp=10380",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200161,flutes:1},{store_id:"46416-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/4" Dia x 1-1/8" x 1/4" Shank (46416-K)',store_url:"https://www.amanatool.com/46416-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-4-dia-x-1-1-8-x-1-4-inch-shank.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200162,flutes:2},{store_id:"46229",name:'Solid Carbide Spiral Plunge 1/32" Dia x 1/8" x 1/8" Shank x 2 Inch Long Down-Cut (46229)',store_url:"https://www.amanatool.com/46229-solid-carbide-spiral-plunge-1-32-dia-x-1-8-x-1-8-shank-x-2-inch-long-down-cut.html?ff=1&fp=10529",diameter:.03125,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200163,flutes:2},{store_id:"46384-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Up-Cut Ball Nose Spiral 1/2" Dia x 2-1/8" x 1/2" Shank Router Bit (46384-K)',store_url:"https://www.amanatool.com/46384-k-solid-carbide-spektratm-extreme-tool-life-coated-up-cut-ball-nose-spiral-1-2-dia-x-2-1-8-inch-x-1-2-shank-router-bit.html",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200164,flutes:2},{store_id:"46403-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/16" Dia x 1/2" x 1/4" Sh (46403-K)',store_url:"https://www.amanatool.com/46403-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-16-dia-x-1-2-x-1-4-inch-shank.html?ff=1&fp=13225",diameter:.0625,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200165,flutes:2},{store_id:"51475",name:`Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 3/16" Dia x 3/8" x 3/16" Shank x 1-1/2" Long Up-Cut Router Bit (51475)`,store_url:"https://www.amanatool.com/51475-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-3-16-dia-x-3-8-x-3-16-shank-x-1-1-2-inch-long-up-cut-router-bit.html?ff=1&fp=12012",diameter:.1875,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200167,flutes:1},{store_id:"HSS1620",name:'High Speed Steel (HSS) Single Flute Spiral Aluminum Cutting 1/8" Dia x 3/8" x 1/4" Shank Up-Cut Router Bit (HSS1620)',store_url:"https://www.amanatool.com/hss1620-high-speed-steel-hss-single-flute-spiral-aluminum-cutting-1-8-dia-x-3-8-x-1-4-inch-shank-up-cut-router-bit.html?ff=1&fp=12591",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200168,flutes:1},{store_id:"45206",name:'Carbide Tipped Undersized Plywood Dado Plunge 7/32" Dia x 3/4" x 1/4" Shank for Plywood Thickness 1/4 minus 1/32 (45206)',store_url:"https://www.amanatool.com/45206-carbide-tipped-undersized-plywood-dado-plunge-7-32-dia-x-3-4-x-1-4-inch-shank-for-plywood-thickness-1-4-minus-1-32.html?ff=1&fp=12459",diameter:.21875,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200169,flutes:2},{store_id:"51377-Z",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 1/4" Dia x 3/4" x 1/4" Shank Up-Cut ZrN Coated Router Bit (51377-Z)`,store_url:"https://www.amanatool.com/51377-z-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-1-4-dia-x-3-4-x-1-4-shank-up-cut-zrn-coated-router-bit.html?ff=1&fp=12896",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200170,flutes:1},{store_id:"45708",name:'Carbide Tipped V-Groove 90 Deg x 1/2" Dia x 1/2" x 1/2" Shank (45708)',store_url:"https://www.amanatool.com/45708-carbide-tipped-v-groove-90-deg-x-1-2-dia-x-1-2-x-1-2-inch-shank.html?ff=1&fp=12216",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200171,flutes:2,tip_angle:90},{store_id:"45525",name:'Carbide Tipped Spoilboard Surfacing, Rabbeting, Flycutter, Slab Leveler, Surface Planer & Flattening 1-1/8" Dia x 1/2" x 1/4" Shank Router Bit (45525)',store_url:"https://www.toolstoday.com/spoilboard-surfacing-rabbeting-flycutter-leveler-surface-planer-and-bed-skimming-router-bit.html",diameter:1.125,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200173,flutes:3},{store_id:"45200",name:'Solid Carbide Cutting Edge Straight Plunge High Production 1/8" Dia x 7/16" x 1/4" Shank (45200)',store_url:"https://www.amanatool.com/45200-solid-carbide-cutting-edge-straight-plunge-high-production-1-8-dia-x-7-16-x-1-4-inch-shank.html?ff=1&fp=12433",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200174,flutes:2},{store_id:"45652",name:'Carbide Tipped Keyhole 1/2" Dia x 3/8" x 1/4" Shank (45652)',store_url:"https://www.amanatool.com/45652-carbide-tipped-keyhole-1-2-dia-x-3-8-x-1-4-inch-shank.html",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200176,flutes:1},{store_id:"51462",name:'CNC Solid Carbide Spiral for Steel & Stainless Steel with AlTiN Coating 3-Flute x 3/16" Dia x 7/16" x 1/4" Shank x 1-7/8" Long Up-Cut Router Bit / 45\xBA Corner Chamfer End Mill (51462)',store_url:"https://www.amanatool.com/51462-cnc-solid-carbide-spiral-for-steel-stainless-steel-with-altin-coating-3-flute-x-3-16-dia-x-7-16-x-1-4-shank-x-1-7-8-inch-long-up-cut-router-bit-45-corner-chamfer-end-mill.html",diameter:.1875,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200177,flutes:3},{store_id:"46421-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/4" Dia x 1-1/4" x 1/4" Shank (46421-K)',store_url:"https://www.amanatool.com/46421-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-4-dia-x-1-1-4-x-1-4-inch-shank.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200178,flutes:2},{store_id:"51823",name:"CNC Solid Carbide 3 Flute Aluminum and Acrylic Cutting 55\xBA Helix End Mill 6mm Dia x 35mm x 6mm Shank (51823)",store_url:"https://www.amanatool.com/51823-cnc-solid-carbide-3-flute-aluminum-and-acrylic-cutting-55-helix-end-mill-6mm-dia-x-35mm-x-6mm-shank.html",diameter:6,units:"mm",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200179,flutes:3},{store_id:"51372-Z",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 3/32" Dia x 1/4" x 1/4" Shank Up-Cut ZrN Coated Router Bit (51372-Z)`,store_url:"https://www.amanatool.com/51372-z-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-3-32-dia-x-1-4-x-1-4-shank-up-cut-zrn-coated-router-bit.html?ff=1&fp=13244",diameter:.09375,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200180,flutes:1},{store_id:"46496",name:'Extra Long CNC 2D and 3D Carving Ball Nose 0.10 Deg Straight Angle x 1/2" Dia x 1/4" Radius x 1-1/4" x 1/2" Shank x 7 Inch Long x 3 Flute Solid Carbide ZrN Coated Reduced Shank Router Bit (46496)',store_url:"https://www.amanatool.com/46496-extra-long-cnc-2d-and-3d-carving-ball-nose-0-10-deg-straight-angle-x-1-2-dia-x-1-4-radius-x-1-1-4-x-1-2-shank-x-7-inch-long-x-3-flute-solid-carbide-zrn-coated-reduced-shank-router-bit.html?ff=1&fp=10829",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200181,flutes:3},{store_id:"46493",name:'Extra Long CNC 2D and 3D Carving Ball Nose 0.10 Deg Straight Angle x 1/2" Dia x 1/4" Radius x 1" x 1/2" Shank x 6 Inch Long x 3 Flute Solid Carbide ZrN Coated Reduced Shank Router Bit (46493)',store_url:"https://www.amanatool.com/46493-extra-long-cnc-2d-and-3d-carving-ball-nose-0-10-deg-straight-angle-x-1-2-dia-x-1-4-radius-x-1-x-1-2-shank-x-6-inch-long-x-3-flute-solid-carbide-zrn-coated-reduced-shank-router-bit.html?ff=1&fp=9257",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200182,flutes:3},{store_id:"45420",name:'Carbide Tipped Straight Plunge 1/2" Dia x 1-1/4" x 1/2" Shank (45420)',store_url:"https://www.amanatool.com/45420-carbide-tipped-straight-plunge-1-2-dia-x-1-1-4-x-1-2-inch.html?ff=1&fp=12427",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200184,flutes:2},{store_id:"RC-2249",name:'Insert Carbide Mini Spoilboard Surfacing, Rabbeting, Flycutter, Slab Leveler & Surface Planer 2+2 Flute Design 1-1/2" Dia x 1/2" x 1/4" Shank Router Bit (RC-2249)',store_url:"https://www.amanatool.com/rc-2249-insert-carbide-mini-spoilboard-surfacing-rabbeting-flycutter-slab-leveler-surface-planer-2-2-flute-design-1-1-2-dia-x-1-2-x-1-4-inch-shank-router-bit.html?ff=1&fp=12023",diameter:1.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200185,flutes:4},{store_id:"46426",name:'Solid Carbide Up-Cut Spiral Ball Nose 1/8" Radius x 1/4" Dia x 1/2" x 1/4" Shank x 2-1/2" Long x 2 Flute Router Bit (46426)',store_url:"https://www.amanatool.com/46426-solid-carbide-up-cut-spiral-ball-nose-1-8-radius-x-1-4-dia-x-1-2-x-1-4-shank-x-2-1-2-inch-long-x-2-flute-router-bit.html?ff=1&fp=9177",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200186,flutes:2},{store_id:"46278",name:'Solid Carbide CNC Foam Cutting Up-Cut Square End Spiral 3/8" Dia x 3-1/2" x 3/8" Shank x 6 Inch Long Router Bit (46278)',store_url:"https://www.amanatool.com/46278-solid-carbide-cnc-foam-cutting-up-cut-square-end-spiral-3-8-dia-x-3-1-2-x-3-8-shank-x-6-inch-long-router-bit.html?ff=1&fp=9175",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200187,flutes:2},{store_id:"RC-1148",name:'Insert V-Groove 60 Deg x 59/64" x 1/4" Shank CNC Router Bit (RC-1148)',store_url:"https://www.amanatool.com/rc-1148-insert-v-groove-60-deg-x-59-64-x-1-4-inch-shank-cnc-router-bit.html?ff=1&fp=12107",diameter:1.0625,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200188,flutes:1,tip_angle:60},{store_id:"DRB-192",name:'CNC Polycrystalline Diamond (PCD) Tipped Compression Up/Down Shear R/H Direction 3/8" Dia x 1-1/4" x 3/8" Shank Router Bit (DRB-192)',store_url:"https://www.amanatool.com/drb-192-cnc-polycrystalline-diamond-pcd-tipped-compression-up-down-shear-r-h-direction-3-8-dia-x-1-1-4-inch-x-3-8-shank-router-bit.html?ff=1&fp=13253",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200189,flutes:2},{store_id:"45732-CNC",name:'Carbide Tipped V-Groove 90 Deg x 2 Inch Dia x 1-3/4" x 1/2" Shank (45732-CNC)',store_url:"https://www.amanatool.com/45732-cnc-carbide-tipped-v-groove-90-deg-x-2-inch-dia-x-1-3-4-x-1-2-shank.html?ff=1&fp=8617",diameter:2,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200190,flutes:2,tip_angle:90},{store_id:"51629-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 0.023" Dia x 1/8" x 1/8" Shank Up-Cut, 3-Flute (51629-K)',store_url:"https://www.amanatool.com/51629-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-0-023-dia-x-1-8-x-1-8-inch-shank-up-cut-3-flute.html",diameter:.023,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200191,flutes:3},{store_id:"46348",name:'Solid Carbide Spiral Plunge for Solid Wood 1/4" Dia x 1 Inch x 1/4" Shank Down-Cut (46348)',store_url:"https://www.amanatool.com/46348-solid-carbide-spiral-plunge-for-solid-wood-1-4-dia-x-1-inch-x-1-4-shank-down-cut.html?ff=1&fp=8771",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200192,flutes:2},{store_id:"46299",name:'CNC 2D and 3D Carving Flat Bottom 0.10 Deg Angle x 1/8" Dia x 1-1/2" x 1/8" Shank x 3 Inch Long x 3 Flute Solid Carbide ZrN Coated Router Bit (46299)',store_url:"https://www.amanatool.com/46299-cnc-2d-and-3d-carving-flat-bottom-0-10-deg-angle-x-1-8-dia-x-1-1-2-x-1-8-shank-x-3-inch-long-x-3-flute-solid-carbide-zrn-coated-router-bit.html",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200193,flutes:3},{store_id:"46704-K",name:'CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Compression Spiral 3/8" Dia x 1-1/4" x 3/8" Shank for Baltic Birch Plywood (46704-K)',store_url:"https://www.amanatool.com/46704-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-compression-spiral-3-8-dia-x-1-1-4-x-3-8-inch-shank-for-baltic-birch-plywood.html",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200194,flutes:2},{store_id:"46270-K",name:'Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Foam Cutting Up-Cut Square End Spiral 1/8" Dia x 1-1/8" x 1/4" Shank x 2-1/2" Long Router Bit (46270-K)',store_url:"https://www.amanatool.com/46270-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-foam-cutting-up-cut-square-end-spiral-1-8-dia-x-1-1-8-x-1-4-shank-x-2-1-2-inch-long-router-bit.html?ff=1&fp=13219",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200195,flutes:2},{store_id:"51404",name:`Solid Carbide CNC Spiral 'O' Flute, Plastic Cutting 1/4" Dia x 3/4" x 1/4" Shank Up-Cut Router Bit (51404)`,store_url:"https://www.amanatool.com/51404-solid-carbide-cnc-spiral-o-flute-plastic-cutting-1-4-dia-x-3-4-x-1-4-inch-shank-up-cut-router-bit.html?ff=1&fp=9277",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200196,flutes:2},{store_id:"HSS1500",name:`HSS Single Straight 'O' Flute Plastic Cutting 1/8" Dia x 1/2" x 1/4" Shank (HSS1500)`,store_url:"https://www.amanatool.com/hss1500-hss-single-straight-o-flute-plastic-cutting-1-8-dia-x-1-2-x-1-4-inch-shank.html?ff=1&fp=11322",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200198,flutes:1},{store_id:"46237",name:'Solid Carbide Spiral Plunge 1/16" Dia x 3/16" x 1/8" Shank x 2 Inch Long Down-Cut (46237)',store_url:"https://www.amanatool.com/46237-solid-carbide-spiral-plunge-1-16-dia-x-3-16-x-1-8-shank-x-2-inch-long-down-cut.html?ff=1&fp=10531",diameter:.0625,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200200,flutes:2},{store_id:"51852-Z",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 1/8" Dia x 1/2" x 1/4" Shank Up-Cut ZrN Coated Router Bit (51852-Z)`,store_url:"https://www.amanatool.com/51852-z-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-1-8-dia-x-1-2-x-1-4-shank-up-cut-zrn-coated-router-bit.html?ff=1&fp=13484",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200201,flutes:2},{store_id:"RCK-360",name:'Solid Carbide Insert 30 Deg x 0.005" V Tip Width Engraving Knife for In-Groove System (RCK-360)',store_url:"https://www.amanatool.com/rck-360-solid-carbide-insert-30-deg-x-0-005-inch-v-tip-width-eng.html?ff=1&fp=12039",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200204,flutes:3,tip_angle:30},{store_id:"46176",name:'CNC Solid Carbide Compression Spiral 1/8" Dia x 13/16" x 1/4" Shank (46176)',store_url:"https://www.amanatool.com/46176-cnc-solid-carbide-compression-spiral-1-8-dia-x-13-16-x-1-4-inch-shank.html?ff=1&fp=13066",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200205,flutes:2},{store_id:"46373",name:'Solid Carbide Up-Cut Ball Nose Spiral 1/16" Dia x 1/4" x 1/8" Shank Router Bit (46373)',store_url:"https://www.amanatool.com/46373-solid-carbide-up-cut-ball-nose-spiral-1-16-dia-x-1-4-inch-x-1-8-shank-router-bit.html?ff=1&fp=10700",diameter:.0625,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200206,flutes:2},{store_id:"46199-K",name:'CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Compression Spiral 1/2" Dia x 2" x 1/2" Sh (46199-K)',store_url:"https://www.amanatool.com/46199-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-compression-spiral-1-2-dia-x-2-x-1-2-inch-shank.html?ff=1&fp=12860",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200207,flutes:2},{store_id:"46350-K",name:'CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Mortise Compression Spiral 1/4" Dia x 1 Inch x 1/4 Sh (46350-K)',store_url:"https://www.amanatool.com/46350-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-mortise-compression-spiral-1-4-dia-x-1-inch-x-1-4-shank.html?ff=1&fp=12602",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200209,flutes:2},{store_id:"45253",name:"Carbide Tipped Straight Plunge 12mm Dia x 38mm x 12mm Shank (45253)",store_url:"https://www.amanatool.com/45253-carbide-tipped-straight-plunge-12mm-dia-x-38mm-x-12mm-shank.html?ff=1&fp=12621",diameter:12,units:"mm",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200210,flutes:2},{store_id:"45218",name:'Carbide Tipped Straight Plunge High Production 3/8" Dia x 1 Inch x 1/4" Shank (45218)',store_url:"https://www.amanatool.com/45218-carbide-tipped-straight-plunge-high-production-3-8-dia-x-1-inch-x-1-4-shank.html?ff=1&fp=12366",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200211,flutes:2},{store_id:"51410",name:`Solid Carbide CNC Spiral 'O' Flute, Plastic Cutting 1/8" Dia x 1/2" x 1/8" Shank Up-Cut Design Router Bit (51410)`,store_url:"https://www.amanatool.com/51410-solid-carbide-cnc-spiral-o-flute-plastic-cutting-1-8-dia-x-1-2-x-1-8-shank-up-cut-design-router-bit.html?ff=1&fp=9279",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200212,flutes:1},{store_id:"DRB-200",name:'CNC Polycrystalline Diamond (PCD) Tipped Compression Up/Down Shear R/H Direction 1/2" Dia x 1 Inch x 1/2" Shank Router Bit (DRB-200)',store_url:"https://www.amanatool.com/drb-200-cnc-polycrystalline-diamond-pcd-tipped-compression-up-down-shear-r-h-direction-1-2-dia-x-1-inch-x-1-2-shank-router-bit.html?ff=1&fp=8606",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200214,flutes:2},{store_id:"46248",name:'Solid Carbide Spiral Plunge for Solid Wood 1/4" Dia x 1 Inch x 1/4" Shank Up-Cut (46248)',store_url:"https://www.amanatool.com/46248-solid-carbide-spiral-plunge-for-solid-wood-1-4-dia-x-1-inch-x-1-4-shank-up-cut.html?ff=1&fp=12279",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200216,flutes:2},{store_id:"46248-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge for Solid Wood 1/4" Dia x 1" x 1/4" Shank Up (46248-K)',store_url:"https://www.amanatool.com/46248-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-for-solid-wood-1-4-dia-x-1-x-1-4-inch-shank-up-cut.html?ff=1&fp=12793",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200217,flutes:2},{store_id:"45527",name:'Carbide Tipped Spoilboard Surfacing, Rabbeting, Flycutter, Slab Leveler, Surface Planer & Flattening 2" Dia x 1/2" x 1/2" Shank Router Bit (45527)',store_url:"https://www.amanatool.com/45527-carbide-tipped-spoilboard-surfacing-rabbeting-flycutter-slab-leveler-surface-planer-flattening-2-dia-x-1-2-x-1-2-inch-shank-router-bit.html?ff=1&fp=13110",diameter:2,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200218,flutes:4},{store_id:"46320-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 3/8" Dia x 1-1/4" x 3/8" Shank (46320-K)',store_url:"https://www.amanatool.com/46320-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-3-8-dia-x-1-1-4-x-3-8-inch-shank.html?ff=1&fp=12658",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200219,flutes:2},{store_id:"46200-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/8" Dia x 1/2" x 1/4" Sh (46200-K)',store_url:"https://www.amanatool.com/46200-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-8-dia-x-1-2-x-1-4-inch-shank-down-cut.html?ff=1&fp=12543",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200220,flutes:2},{store_id:"45792",name:'Carbide Tipped Double Edge Folding V-Groove 90 Deg x 0.090" Tip Width x 1/2" Dia x 13/64" x 1/4" Shank (45792)',store_url:"https://www.amanatool.com/45792-carbide-tipped-double-edge-folding-v-groove-90-deg-x-0-090-inch-tip-width-x-1-2-dia-x-13-64-x-1-4-inch-shank.html",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200221,flutes:2,tip_angle:90},{store_id:"51486-Z",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 1/8" Dia x 3/4" x 1/4" Shank Up-Cut ZrN Coated Router Bit (51486-Z)`,store_url:"https://www.amanatool.com/51486-z-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-1-8-dia-x-3-4-x-1-4-shank-up-cut-zrn-coated-router-bit.html?ff=1&fp=12877",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200222,flutes:1},{store_id:"45418",name:'Carbide Tipped Straight Plunge 1/2" Dia x 1 Inch x 1/2" Shank (45418)',store_url:"https://www.amanatool.com/45418-carbide-tipped-straight-plunge-1-2-dia-x-1-inch-x-1-2-shan.html?ff=1&fp=12381",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200223,flutes:2},{store_id:"48444-K",name:"Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Foam Cutting Up-Cut Square End Spiral 6mm Dia x 57mm x 6mm Shank x 100mm Long Router Bit (48444-K)",store_url:"https://www.amanatool.com/48444-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-foam-cutting-up-cut-square-end-spiral-6mm-dia-x-57mm-x-6mm-shank-x-100mm-long-router-bit.html?ff=1&fp=13536",diameter:6,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200224,flutes:2},{store_id:"45210",name:'Carbide Tipped Straight Plunge High Production 1/4" Dia x 1 Inch x 1/4" Shank (45210)',store_url:"https://www.amanatool.com/45210-carbide-tipped-straight-plunge-high-production-1-4-dia-x-1-inch-x-1-4-shank.html?ff=1&fp=12487",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200225,flutes:2},{store_id:"RC-2259-TG",name:'Insert Carbide 5 Wing/Flute Heavy Duty Spoilboard Plunging, Surfacing, Planing, Flycutter & Slab Leveler 3-27/32" Dia x 1-7/32" x 3/4" Shank Router Bit For ThermoGrip\xAE CNC Heat Shrink Tool Holders (RC-2259-TG)',store_url:"https://www.amanatool.com/rc-2259-tg-insert-carbide-5-wing-flute-heavy-duty-spoilboard-plunging-surfacing-planing-flycutter-slab-leveler-3-27-32-dia-x-1-7-32-x-3-4-shank-router-bit-for-thermogripr-cnc-heat-shrink-tool-holders.html",diameter:3.84375,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200226,flutes:5},{store_id:"45566",name:'Carbide Tipped Bottom Cleaning / Spoilboard 1-1/2" Dia x 5/8" x 1/2" Shank Upshear Design (45566)',store_url:"https://www.amanatool.com/45566-carbide-tipped-bottom-cleaning-spoilboard-1-1-2-dia-x-5-8-x-1-2-inch-shank-upshear-design.html?ff=1&fp=7506",diameter:1.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200228,flutes:2},{store_id:"46094-K",name:'Solid Carbide Up-Cut Spiral 1/4" Dia x 3/4" x 1/4" Shank x 2-1/2" Long Composite, Fiberglass & Phenolic Cutting Spektra\u2122 Extreme Tool Life Coated Router (46094-K)',store_url:"https://www.amanatool.com/46094-k-solid-carbide-up-cut-spiral-1-4-dia-x-3-4-x-1-4-shank-x-2-1-2-inch-long-composite-fiberglass-phenolic-cutting-spektratm-extreme-tool-life-coated-router-bit.html?ff=1&fp=12822",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200229,flutes:2},{store_id:"46116",name:'Solid Carbide Spiral Plunge 1/2" Dia x 1-1/2" x 1/2" Shank Up-Cut, 3-Flute (46116)',store_url:"https://www.amanatool.com/46116-solid-carbide-spiral-plunge-1-2-dia-x-1-1-2-x-1-2-inch-shank-up-cut-3-flute.html?ff=1&fp=8754",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200230,flutes:3},{store_id:"51481",name:`Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 1/4" Dia x 1-1/4" x 1/4" Shank x 3 Inch Long Up-Cut Router Bit (51481)`,store_url:"https://www.amanatool.com/51481-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-1-4-dia-x-1-1-4-x-1-4-shank-x-3-inch-long-up-cut-router-bit.html?ff=1&fp=11922",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200232,flutes:1},{store_id:"46294",name:'CNC 2D and 3D Carving 0.10 Deg Straight Angle Ball Tip 1/4" Dia x 1/8" Radius x 1-1/2" x 1/4" Shank x 3 Inch Long x 2 Flute Solid Carbide ZrN Coated Router Bit (46294)',store_url:"https://www.amanatool.com/46294-cnc-2d-and-3d-carving-0-10-deg-straight-angle-ball-tip-1-4-dia-x-1-8-radius-x-1-1-2-x-1-4-shank-x-3-inch-long-x-2-flute-solid-carbide-zrn-coated-router-bit.html?ff=1&fp=9186",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200234,flutes:2},{store_id:"RC-1050",name:'RC-1045 CNC Insert V-Groove 45 Deg x 7/8" x 1/2" Shank (RC-1050)',store_url:"https://www.amanatool.com/rc-1045-insert-v-groove-45-deg-x-7-8-x-1-2-inch-shank-cnc.html?ff=1&fp=11962",diameter:.8125,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200235,flutes:1,tip_angle:45},{store_id:"51481-Z",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 1/4" Dia x 1-1/4" x 1/4" Shank Up-Cut ZrN Coated Router Bit (51481-Z)`,store_url:"https://www.amanatool.com/51481-z-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-1-4-dia-x-1-1-4-x-1-4-shank-up-cut-zrn-coated-router-bit.html?ff=1&fp=13064",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200236,flutes:1},{store_id:"46102",name:'Solid Carbide Spiral Plunge 1/4" Dia x 3/4" x 1/4" Shank Up-Cut (46102)',store_url:"https://www.amanatool.com/46102-solid-carbide-spiral-plunge-1-4-dia-x-3-4-x-1-4-inch-shank-up-cut.html?ff=1&fp=8826",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200237,flutes:2},{store_id:"51649-K",name:`Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Spiral 'O' Single Flute, Plastic Cutting 1/32" Dia x 3/16" x 1/4" Shank x 2 Inch Long Up-Cut Router Bit (51649-K)`,store_url:"https://www.amanatool.com/51649-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-spiral-o-single-flute-plastic-cutting-1-32-dia-x-3-16-x-1-4-shank-x-2-inch-long-up-cut-router-bit.html?ff=1&fp=13190",diameter:.03125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200238,flutes:1},{store_id:"46017-K",name:'CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Compression Spiral 3 Flute 1/4" Dia x 7/8" x 1/4" S (46017-K)',store_url:"https://www.amanatool.com/46017-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-compression-spiral-3-flute-1-4-dia-x-7-8-x-1-4-inch-shank.html?ff=1&fp=13147",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200239,flutes:3},{store_id:"51446-K",name:`Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Spiral 'O' Single Flute, Plastic Cutting 1/8" Dia x 3/4" x 1/4" Shank x 2-1/2" Long Up-Cut Router (51446-K)`,store_url:"https://www.amanatool.com/51446-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-spiral-o-single-flute-plastic-cutting-1-8-dia-x-3-4-x-1-4-shank-x-2-1-2-inch-long-up-cut-router-bit.html?ff=1&fp=11710",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200240,flutes:1},{store_id:"HSS1655",name:'High Speed Steel (HSS) Double Flute Spiral Aluminum Cutting 1/4" Dia x 1" x 1/4" Shank Down-Cut Router Bit (HSS1655)',store_url:"https://www.amanatool.com/hss1655-high-speed-steel-hss-double-flute-spiral-aluminum-cutting-1-4-dia-x-1-x-1-4-inch-shank-down-cut-router-bit.html?ff=1&fp=12932",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200241,flutes:2},{store_id:"RC-1102",name:'Insert V-Groove 90 Deg x 3/4" x 1/2" Shank CNC (RC-1102)',store_url:"https://www.amanatool.com/rc-1102-insert-v-groove-90-deg-x-3-4-x-1-2-inch-shank-cnc.html?ff=1&fp=11964",diameter:1.5,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200242,flutes:1,tip_angle:90},{store_id:"46376-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Up-Cut Ball Nose Spiral 1/4" Dia x 1 Inch x 1/4" Shank Router (46376-K)',store_url:"https://www.amanatool.com/46376-k-solid-carbide-spektratm-extreme-tool-life-coated-up-cut-ball-nose-spiral-1-4-dia-x-1-inch-x-1-4-shank-router-bit.html?ff=1&fp=12705",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200243,flutes:2},{store_id:"46170-K",name:'CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Compression Spiral 1/4" Dia x 7/8" x 1/4" Sh (46170-K)',store_url:"https://www.amanatool.com/46170-k-previous-number-46169-cnc-solid-carbide-spektratm-extreme-tool-life-coated-compression-spiral-1-4-dia-x-7-8-x-1-4-inch-shank.html?ff=1&fp=12273",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200244,flutes:2},{store_id:"45414",name:'Carbide Tipped Straight Plunge High Production 3/8" Dia x 1 Inch x 1/2" Shank (45414)',store_url:"https://www.amanatool.com/45414-carbide-tipped-straight-plunge-3-8-dia-x-1-inch-x-1-2-shan.html",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200245,flutes:2},{store_id:"51480-Z",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 1/4" Dia x 3/4" x 1/4" Shank Up-Cut ZrN Coated Router Bit (51480-Z)`,store_url:"https://www.amanatool.com/51480-z-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-1-4-dia-x-3-4-x-1-4-shank-up-cut-zrn-coated-router-bit.html?ff=1&fp=12874",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200246,flutes:1},{store_id:"RC-2263",name:'CNC Insert Carbide 3 Wing/Flute Heavy Duty Spoilboard Plunging, Surfacing, Planing, Flycutter & Slab Leveler 2-3/4" Dia x 53/64" x 1/2" Shank Router Bit (RC-2263)',store_url:"https://www.amanatool.com/rc-2263-cnc-insert-carbide-3-wing-flute-heavy-duty-spoilboard-plunging-surfacing-planing-flycutter-slab-leveler-2-3-4-dia-x-53-64-x-1-2-shank-router-bit.html",diameter:2.75,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200247,flutes:3},{store_id:"46225",name:'Solid Carbide Spiral Plunge 1/8" Dia x 13/16" x 1/4" Shank x 2-1/2" Long Down-Cut Router Bit (46225)',store_url:"https://www.amanatool.com/46225-solid-carbide-spiral-plunge-1-8-dia-x-13-16-x-1-4-shank-x-2-1-2-inch-long-down-cut-router-bit.html?ff=1&fp=9093",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200249,flutes:2},{store_id:"46260",name:'Solid Carbide CNC Spiral Carbon Graphite & Carbon Fiber Panel Cutting 1/8" Dia x 1/2" x 1/8" Shank x 2 Inch Long Down-Cut Router Bit (46260)',store_url:"https://www.amanatool.com/46260-solid-carbide-cnc-spiral-carbon-graphite-carbon-fiber-panel-cutting-1-8-dia-x-1-2-x-1-8-shank-x-2-inch-long-down-cut-router-bit.html?ff=1&fp=10346",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200250,flutes:10},{store_id:"51489",name:`Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 1/2" Dia x 1-5/8" x 1/2" Shank x 3-1/2" Long Up-Cut Router Bit (51489)`,store_url:"https://www.amanatool.com/51489-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-1-2-dia-x-1-5-8-x-1-2-shank-x-3-1-2-inch-long-up-cut-router-bit.html",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200251,flutes:1},{store_id:"46448-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/16" Dia x 1/4" x 1/4" Shank (46448-K)',store_url:"https://www.amanatool.com/46448-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-16-dia-x-1-4-x-1-4-inch-shank.html",diameter:.0625,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200252,flutes:2},{store_id:"43500-K",name:`Solid Carbide Spektra\u2122 Extreme Tool Life Coated Single 'O' Flute Plastic Cutting 1/8" Dia x 1/2" x 1/4" S (43500-K)`,store_url:"https://www.amanatool.com/43500-k-solid-carbide-spektratm-extreme-tool-life-coated-single-o-flute-plastic-cutting-1-8-dia-x-1-2-x-1-4-inch-shank.html",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200256,flutes:1},{store_id:"46566-K",name:'Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Foam Down-Cut Cutting Square End Spiral 1/4" Dia x 2-1/4" x 1/4" Shank x 4 Inch Long Router Bit (46566-K)',store_url:"https://www.amanatool.com/46566-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-foam-down-cut-cutting-square-end-spiral-1-4-dia-x-2-1-4-x-1-4-shank-x-4-inch-long-router-bit.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200257,flutes:2},{store_id:"48050-E",name:'High Performance Solid Carbide Mill End Fiberglass and Composite Cutting 1/8" Dia x 1/2" x 1/8" Shank AlTiN Coated Mill End Router Bit (48050-E)',store_url:"https://www.amanatool.com/48050-e-high-performance-solid-carbide-mill-end-fiberglass-and-composite-cutting-1-8-dia-x-1-2-x-1-8-shank-altin-coated-mill-end-router-bit.html",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200258,flutes:1},{store_id:"46227",name:'Solid Carbide Spiral Plunge 1/8" Dia x 1/2" x 1/8" Shank x 2 Inch Long Down-Cut (46227)',store_url:"https://www.amanatool.com/46227-solid-carbide-spiral-plunge-1-8-dia-x-1-2-x-1-8-shank-x-2-inch-long-down-cut.html?ff=1&fp=10344",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200259,flutes:2},{store_id:"46490",name:'Extra Long CNC 2D and 3D Carving Ball Nose 0.10 Deg Straight Angle x 1/4" Dia x 1/8" Radius x 1/2" x 1/4" Shank x 3 Flute ZrN Coated Reduced Shank Router Bit (46490)',store_url:"https://www.amanatool.com/46490-extra-long-cnc-2d-and-3d-carving-ball-nose-0-10-deg-straight-angle-x-1-4-dia-x-1-8-radius-x-1-2-x-1-4-shank-x-3-flute-zrn-coated-reduced-shank-router-bit.html?ff=1&fp=10527",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200260,flutes:3},{store_id:"51415",name:`Solid Carbide CNC Spiral 'O' Single Flute, Plastic Cutting 1/16" Dia x 1/4" x 1/8" Shank x 2 Inch Long Up-Cut Router Bit (51415)`,store_url:"https://www.amanatool.com/51415-solid-carbide-cnc-spiral-o-single-flute-plastic-cutting-1-16-dia-x-1-4-x-1-8-shank-x-2-inch-long-up-cut-router-bit.html?ff=1&fp=9144",diameter:.0625,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200262,flutes:1},{store_id:"46341",name:'Solid Carbide Spiral Plunge for Solid Wood 1/8" Dia x 1/2" x 1/4" Shank Down-Cut (46341)',store_url:"https://www.amanatool.com/46341-solid-carbide-spiral-plunge-for-solid-wood-1-8-dia-x-1-2-x-1-4-inch-shank-down-cut.html?ff=1&fp=8772",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200263,flutes:2},{store_id:"51775",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 1/4" Dia x 3/4" x 1/4" Shank Down-Cut (51775)`,store_url:"https://www.amanatool.com/51775-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-1-4-dia-x-3-4-x-1-4-inch-shank-down-cut.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200264,flutes:1},{store_id:"51486",name:`Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 1/8" Dia x 3/4" x 1/4" Shank x 2-1/2" Long Up-Cut Router Bit (51486)`,store_url:"https://www.amanatool.com/51486-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-1-8-dia-x-3-4-x-1-4-shank-x-2-1-2-inch-long-up-cut-router-bit.html?ff=1&fp=11864",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200265,flutes:1},{store_id:"46369",name:'Solid Carbide Up-Cut Ball Nose Spiral 1/8" Dia x 1/2" x 1/4" Shank Router Bit (46369)',store_url:"https://www.amanatool.com/46369-solid-carbide-up-cut-ball-nose-spiral-1-8-dia-x-1-2-inch-x-1-4-shank-router-bit.html?ff=1&fp=10714",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200266,flutes:2},{store_id:"51408",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 3/16" Dia x 1/2" x 1/4" Shank Up-Cut (51408)`,store_url:"https://www.amanatool.com/51408-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-3-16-dia-x-1-2-x-1-4-inch-shank-up-cut.html?ff=1&fp=11947",diameter:.1875,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200268,flutes:1},{store_id:"46315",name:'Solid Carbide Spiral Plunge 1/4" Dia x 1 Inch x 1/4" Shank Up-Cut (46315)',store_url:"https://www.amanatool.com/46315-solid-carbide-spiral-plunge-1-4-dia-x-1-inch-x-1-4-shank-up-cut.html?ff=1&fp=8821",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200269,flutes:2},{store_id:"46399-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/4" Dia x 1-3/8" x 1/4" Shank Up (46399-K)',store_url:"https://www.amanatool.com/46399-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-4-dia-x-1-3-8-x-1-4-inch-shank-up-cut.html?ff=1&fp=12729",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200271,flutes:2},{store_id:"45756",name:'Carbide Tipped V-Groove 120 Deg x 1-1/4" Dia x 21/32" x 1/4" Shank (45756)',store_url:"https://www.amanatool.com/45756-carbide-tipped-v-groove-120-deg-x-1-1-4-dia-x-21-32-x-1-4-inch-shank.html?ff=1&fp=12234",diameter:1.25,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200272,flutes:2,tip_angle:120},{store_id:"43608-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Double Straight Flute, Plastic Cutting 1/4" Dia x 1" x 1/4" Sh (43608-K)',store_url:"https://www.amanatool.com/43608-k-solid-carbide-spektratm-extreme-tool-life-coated-double-straight-flute-plastic-cutting-1-4-dia-x-1-x-1-4-inch-shank.html?ff=1&fp=13260",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200273,flutes:2},{store_id:"46424",name:'Solid Carbide Up-Cut Spiral Ball Nose 3/32" Radius x 3/16" Dia x 1/2" x 1/4" Shank x 2-1/2" Long x 2 Flute Router Bit (46424)',store_url:"https://www.amanatool.com/46424-solid-sub-micrograin-carbide-up-cut-spiral-ball-nose-3-32-radius-x-3-16-dia-x-1-2-x-1-4-shank-x-2-1-2-inch-long-x-2-flute-router-bit.html?ff=1&fp=9176",diameter:.1875,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200274,flutes:2},{store_id:"RC-45711",name:'In-Tech Insert Carbide V Groove 90 Deg x 11/16 D x 21/64 CH x 1/4" SHK Single Flute Router Bit (RC-45711)',store_url:"https://www.amanatool.com/rc-45711-in-tech-insert-carbide-v-groove-45-deg-x-11-16-dia-x-21-64-x-1-4-inch-shank.html?ff=1&fp=7951",diameter:.6875,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200275,flutes:2,tip_angle:90},{store_id:"45795",name:'Carbide Tipped Double Edge Folding V-Groove 108 Deg x 0.090" Tip Width x 5/32" x 1/2" Dia. x 1/4" Shank (45795)',store_url:"https://www.amanatool.com/45795-carbide-tipped-double-edge-folding-v-groove-108-deg-x-0-090-inch-tip-width-x-5-32-x-1-2-dia-x-1-4-inch-shank.html",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200276,flutes:2,tip_angle:108},{store_id:"51402",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 1/4" Dia x 5/8" x 1/4" Shank Up-Cut (51402)`,store_url:"https://www.amanatool.com/51402-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-1-4-dia-x-5-8-x-1-4-inch-shank-up-cut.html?ff=1&fp=8837",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200277,flutes:1},{store_id:"46438",name:'Solid Carbide Spiral Plunge 1/4" Dia x 5/8" x 1/4" Shank Down-Cut (46438)',store_url:"https://www.amanatool.com/46438-solid-carbide-spiral-plunge-1-4-dia-x-5-8-x-1-4-inch-shank-down-cut.html?ff=1&fp=11631",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200278,flutes:2},{store_id:"46176-K",name:'CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Compression Spiral 1/8" Dia x 13/16" x 1/4" Sh (46176-K)',store_url:"https://www.amanatool.com/46176-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-compression-spiral-1-8-dia-x-13-16-x-1-4-inch-shank.html?ff=1&fp=13067",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200279,flutes:2},{store_id:"46596",name:'Extra Long CNC 2D and 3D Carving Flat Bottom x 0.10 Deg Angle x 1/2" Dia x 1-1/4" x 1/2" Shank x 7 Inch Long x 3 Flute Solid Carbide ZrN Coated Reduced Shank Router Bit (46596)',store_url:"https://www.amanatool.com/46596-extra-long-cnc-2d-and-3d-carving-flat-bottom-x-0-10-deg-angle-x-1-2-dia-x-1-1-4-x-1-2-shank-x-7-inch-long-x-3-flute-solid-carbide-zrn-coated-reduced-shank-router-bit.html?ff=1&fp=10808",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200280,flutes:3},{store_id:"51417",name:`Solid Carbide CNC Spiral 'O' Single Flute, Plastic Cutting 3/16" Dia x 5/8" x 1/4" Shank x 2 Inch Long Up-Cut Router Bit (51417)`,store_url:"https://www.amanatool.com/51417-solid-carbide-cnc-spiral-o-single-flute-plastic-cutting-3-16-dia-x-5-8-x-1-4-shank-x-2-inch-long-up-cut-router-bit.html?ff=1&fp=9149",diameter:.1875,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200281,flutes:1},{store_id:"51474-Z",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 1/8" Dia x 1/4" x 1/4" Shank Up-Cut ZrN Coated Router Bit (51474-Z)`,store_url:"https://www.amanatool.com/51474-z-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-1-8-dia-x-1-4-x-1-4-shank-up-cut-zrn-coated-router-bit.html?ff=1&fp=12875",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200282,flutes:1},{store_id:"46116-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/2" Dia x 1-1/2" x 1/2" Shank Up-Cut, 3-Flute (46116-K)',store_url:"https://www.amanatool.com/46116-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-2-dia-x-1-1-2-x-1-2-inch-shank-up-cut-3-flute.html?ff=1&fp=12727",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200283,flutes:3},{store_id:"46586-K",name:'CNC 2D and 3D Carving Flat Bottom 0.10 Deg Angle x 1/8" Dia x 1/2" x 1/4" Shank x 2 Inch Long x 4 Flute Solid Carbide Up-Cut Spiral Spektra\u2122 Extreme Tool Life Coated Router Bit (46586-K)',store_url:"https://www.amanatool.com/46586-k-cnc-2d-and-3d-carving-flat-bottom-0-10-deg-angle-x-1-8-dia-x-1-2-x-1-4-shank-x-2-inch-long-x-4-flute-solid-carbide-up-cut-spiral-spektratm-extreme-tool-life-coated-router-bit.html?ff=1&fp=13370",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200284,flutes:43},{store_id:"45626-K",name:'Solid Carbide V-Groove 90 Deg x 1/4" Dia x 1/8" x 1/4" Shank Spektra\u2122 Extreme Tool Life Coated Router Bit (45626-K)',store_url:"https://www.amanatool.com/45626-k-solid-carbide-v-groove-90-deg-x-1-4-dia-x-1-8-x-1-4-inch-shank-spektratm-extreme-tool-life-coated-router-bit.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200286,flutes:3,tip_angle:90},{store_id:"RC-2383",name:'CNC Insert Straight Rabbeting 2+2 Design x 2-3/8" Dia x 2 Inch x 3/4" Shank (RC-2383)',store_url:"https://www.amanatool.com/rc-2383-cnc-insert-straight-rabbeting-2-2-design-x-2-3-8-dia-x-2-inch-x-3-4-shank.html?ff=1&fp=8934",diameter:2.375,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200287,flutes:2},{store_id:"46428",name:'Solid Carbide Up-Cut Spiral Ball Nose 1/8" Radius x 1/4" Dia x 1-1/8" x 1/4" Shank x 3 Inch Long x 2 Flute Router Bit (46428)',store_url:"https://www.amanatool.com/46428-solid-carbide-up-cut-spiral-ball-nose-1-8-radius-x-1-4-dia-x-1-1-8-x-1-4-shank-x-3-inch-long-x-2-flute-router-bit.html?ff=1&fp=9178",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200288,flutes:2},{store_id:"46231",name:'Solid Carbide Spiral Plunge 3/64" Dia x 1/8" x 1/8" Shank x 2 Inch Long Down-Cut (46231)',store_url:"https://www.amanatool.com/46231-solid-carbide-spiral-plunge-3-64-dia-x-1-8-x-1-8-shank-x-2-inch-long-down-cut.html",diameter:.046875,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200291,flutes:2},{store_id:"51402-Z",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 1/4" Dia x 5/8" x 1/4" Shank Up-Cut ZrN Coated Router Bit (51402-Z)`,store_url:"https://www.amanatool.com/51402-z-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-1-4-dia-x-5-8-x-1-4-shank-up-cut-zrn-coated-router-bit.html?ff=1&fp=12881",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200292,flutes:1},{store_id:"RC-1108",name:'Insert V-Groove 60 Deg x 1-1/16" Dia x 29/32" x 1/2" Shank CNC (RC-1108)',store_url:"https://www.amanatool.com/rc-1108-insert-v-groove-60-deg-x-1-1-16-dia-x-29-32-x-1-2-inch-shank-cnc.html?ff=1&fp=11963",diameter:1.0625,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200294,flutes:1,tip_angle:60},{store_id:"46374",name:'Solid Carbide Up-Cut Ball Nose Spiral 1/4" Dia x 3/8" x 1/4" Shank x 2-1/2" Long Router Bit (46374)',store_url:"https://www.amanatool.com/46374-solid-carbide-up-cut-ball-nose-spiral-1-4-dia-x-3-8-x-1-4-shank-x-2-1-2-inch-long-router-bit.html?ff=1&fp=9134",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200295,flutes:2},{store_id:"RC-2265",name:'CNC Insert Carbide 3 Wing/Flute Heavy Duty Spoilboard Plunging, Surfacing, Planing, Flycutter & Slab Leveler 1-1/2" Dia x 3/4" x 1/4" Shank Router Bit (RC-2265)',store_url:"https://www.amanatool.com/rc-2265-cnc-insert-carbide-3-wing-flute-heavy-duty-spoilboard-plunging-surfacing-planing-flycutter-slab-leveler-1-1-2-dia-x-3-4-x-1-4-shank-router-bit.html?ff=1&fp=13059",diameter:1.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200296,flutes:3},{store_id:"46015-K",name:'CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Compression Spiral 3 Flute x 1/8" Dia x 13/16" x 1/8" Shank (46015-K)',store_url:"https://www.amanatool.com/46015-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-compression-spiral-3-flute-x-1-8-dia-x-13-16-x-1-8-shank.html",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200297,flutes:3},{store_id:"46254",name:'CNC 2D and 3D Carving Flat Bottom 0.10 Deg Angle x 1/8" Dia x 15/32" x 1/4" Shank x 2-23/64" Long x 2 Flute Solid Carbide ZrN Coated Router Bit (46254)',store_url:"https://www.amanatool.com/46254-cnc-2d-and-3d-carving-flat-bottom-0-10-deg-angle-x-1-8-dia-x-15-32-x-1-4-shank-x-2-23-64-inch-long-x-2-flute-solid-carbide-zrn-coated-router-bit.html?ff=1&fp=10982",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200298,flutes:2},{store_id:"45634-K",name:'Solid Carbide V-Groove 30 Deg x 1/4" Dia x 27/64" x 1/4" Shank Spektra\u2122 Extreme Tool Life Coated Router Bit (45634-K)',store_url:"https://www.amanatool.com/45634-k-solid-carbide-v-groove-30-deg-x-1-4-dia-x-1-8-x-5-8-inch-shank-spektratm-extreme-tool-life-coated-router-bit.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200299,flutes:3,tip_angle:30},{store_id:"48308-K",name:"CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Compression Spiral 8mm Dia x 32mm x 8mm Shank (48308-K)",store_url:"https://www.amanatool.com/48308-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-compression-spiral-8mm-dia-x-32mm-x-8mm-shank.html?ff=1&fp=13525",diameter:8,units:"mm",quantity:1,source:"amana",group_name:"Compression",technology_id:200300,flutes:2},{store_id:"46016-K",name:'CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Mortise Compression Spiral 1/4" Dia x 1 Inch x 1/4" Shank (46016-K)',store_url:"https://www.amanatool.com/46016-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-mortise-compression-spiral-1-4-dia-x-1-inch-x-1-4-shank.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200301,flutes:3},{store_id:"46302",name:'CNC Compression Solid Carbide ZrN Coated Honeycomb Cutting 1/4" Dia x 3/4" x 1/4" Shank x 6-Flute (46302)',store_url:"https://www.amanatool.com/46302-solid-carbide-zrn-coated-honeycomb-cutting-1-4-dia-x-3-4-x-1-4-shank-x-2-1-2-inch-long-6-flute.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200303,flutes:6},{store_id:"51491",name:`Metric Solid Carbide CNC Spiral 'O' Single Flute, Plastic Cutting 3" Dia x 12" x 3" Shank x 64mm Long Up-Cut Router Bit (51491)`,store_url:"https://www.amanatool.com/51491-metric-solid-carbide-cnc-spiral-o-single-flute-plastic-cutting-3-dia-x-12-x-3-shank-x-64mm-long-up-cut-router-bit.html?ff=1&fp=9160",diameter:3,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200304,flutes:1},{store_id:"46376",name:'Solid Carbide Up-Cut Ball Nose Spiral 1/4" Dia x 1 Inch x 1/4" Shank Router Bit (46376)',store_url:"https://www.amanatool.com/46376-solid-carbide-up-cut-ball-nose-spiral-1-4-dia-x-1-inch-x-1-4-shank-router-bit.html?ff=1&fp=8759",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200305,flutes:2},{store_id:"51634",name:`Metric Solid Carbide CNC Spiral 'O' Single Flute, Plastic Cutting 2" Dia x 6" x 3" Shank x 50mm Long Up-Cut Router Bit (51634)`,store_url:"https://www.amanatool.com/51634-metric-solid-carbide-cnc-spiral-o-single-flute-plastic-cutting-2-dia-x-6-x-3-shank-x-50mm-long-up-cut-router-bit.html?ff=1&fp=11064",diameter:2,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200308,flutes:1},{store_id:"45705",name:'Carbide Tipped V-Groove 60 Deg x 1/2" Dia x 5/8" x 1/4" Shank (45705)',store_url:"https://www.amanatool.com/45705-carbide-tipped-v-groove-60-deg-x-1-2-dia-x-5-8-x-1-4-inch-shank.html?ff=1&fp=12420",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200309,flutes:2,tip_angle:60},{store_id:"45780",name:'Solid Carbide V Groove Engraving 15 Deg x 3/16" Dia x 1/2" x 1/4" Shank (45780)',store_url:"https://www.amanatool.com/45780-solid-carbide-v-groove-engraving-15-deg-x-3-16-dia-x-1-2-x-1-4-inch-shank.html?ff=1&fp=12006",diameter:.1875,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200310,flutes:2,tip_angle:15},{store_id:"51792",name:'High Performance Solid Carbide CNC Steel, Stainless Steel & Composite Cutting Variable Helix Spiral Ball Nose with AlTiN Coating 4-Flute x 1/8" Dia x 3/8" x 1/8" Shank x 1-1/2" Long Up-Cut Router Bit/End Mill (51792)',store_url:"https://www.amanatool.com/51792-high-performance-solid-carbide-cnc-steel-stainless-steel-composite-cutting-variable-helix-spiral-ball-nose-with-altin-coating-4-flute-x-1-8-dia-x-3-8-x-1-8-shank-x-1-1-2-inch-long-up-cut-router-bit-end-mill.html?ff=1&fp=13200",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200311,flutes:4},{store_id:"46495",name:'CNC 2D and 3D Carving 0.10 Deg Straight Angle Ball Tip 1/2" Dia x 1/4" Radius x 2-1/4" x 1/2" Shank x 4 Inch Long x 3 Flute Solid Carbide ZrN Coated (46495)',store_url:"https://www.amanatool.com/46495-cnc-2d-and-3d-carving-0-10-deg-straight-angle-ball-tip-1-2-dia-x-1-4-radius-x-2-1-4-x-1-2-shank-x-4-inch-long-x-3-flute-solid-carbide-zrn-coated.html?ff=1&fp=10366",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200312,flutes:3},{store_id:"51411-K",name:`Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Spiral 'O' Flute, Plastic Cutting 1/8" Dia x 1/2" x 1/4" Shank Up-Cut Design Router (51411-K)`,store_url:"https://www.amanatool.com/51411-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-spiral-o-flute-plastic-cutting-1-8-dia-x-1-2-x-1-4-shank-up-cut-design-router-bit.html?ff=1&fp=12538",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200313,flutes:1},{store_id:"51470",name:`Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 1/16" Dia x 1/4" x 1/8" Shank x 1-1/2" Long Up-Cut Router Bit (51470)`,store_url:"https://www.amanatool.com/51470-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-1-16-dia-x-1-4-x-1-8-shank-x-1-1-2-inch-long-up-cut-router-bit.html?ff=1&fp=11930",diameter:.0625,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200314,flutes:2},{store_id:"46261",name:'Solid Carbide Spiral Plunge for Solid Wood 1/2" Dia x 1-1/4" x 1/2" Shank Up-Cut (46261)',store_url:"https://www.amanatool.com/46261-solid-carbide-spiral-plunge-for-solid-wood-1-2-dia-x-1-1-4-x-1-2-inch-shank-up-cut.html",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200315,flutes:2},{store_id:"45526",name:'Carbide Tipped Spoilboard Surfacing, Rabbeting, Flycutter, Slab Leveler, Surface Planer & Flattening 1-1/2" Dia x 1/2" x 1/2" Shank Router Bit (45526)',store_url:"https://www.amanatool.com/45526-carbide-tipped-spoilboard-surfacing-rabbeting-flycutter-slab-leveler-surface-planer-flattening-1-1-2-dia-x-1-2-x-1-2-inch-shank-router-bit.html?ff=1&fp=13109",diameter:1.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200319,flutes:4},{store_id:"46348-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge for Solid Wood 1/4" Dia x 1" x 1/4" Shank Down (46348-K)',store_url:"https://www.amanatool.com/46348-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-for-solid-wood-1-4-dia-x-1-x-1-4-inch-shank-down-cut.html?ff=1&fp=12794",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200320,flutes:2},{store_id:"45730",name:'Solid Carbide V-Groove Signmaking & Lettering 60 Deg x 9/16" Dia x 7/16" x 1/4" Shank (45730)',store_url:"https://www.amanatool.com/45730-solid-carbide-v-groove-signmaking-lettering-60-deg-x-9-16-dia-x-7-16-x-1-4-inch-shank.html?ff=1&fp=7954",diameter:.5625,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200321,flutes:3,tip_angle:60},{store_id:"46201",name:'Solid Carbide Spiral Plunge 3/16" Dia x 3/4" x 1/4" Shank Down-Cut (46201)',store_url:"https://www.amanatool.com/46201-solid-carbide-spiral-plunge-3-16-dia-x-3-4-x-1-4-inch-shank-down-cut.html?ff=1&fp=8799",diameter:.1875,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200324,flutes:2},{store_id:"46579",name:'CNC 2D and 3D Carving Flat Bottom 0.10 Deg Straight Angle x 1/2" Dia x 2-1/4" x 1/2" Shank x 4 Inch Long x 3 Flute Solid Carbide ZrN Coated Router Bit (46579)',store_url:"https://www.amanatool.com/46579-cnc-2d-and-3d-carving-flat-bottom-0-10-deg-straight-angle-x-1-2-dia-x-2-1-4-x-1-2-shank-x-4-inch-long-x-3-flute-solid-carbide-zrn-coated-router-bit.html?ff=1&fp=10857",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200326,flutes:3},{store_id:"46175-K",name:"CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Compression Spiral 6mm Dia x 25mm x 6mm Sh (46175-K)",store_url:"https://www.amanatool.com/46175-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-compression-spiral-6mm-dia-x-25mm-x-6mm-shank.html?ff=1&fp=12899",diameter:6,units:"mm",quantity:1,source:"amana",group_name:"Compression",technology_id:200327,flutes:2},{store_id:"51406",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 1/8" Dia x 5/16" x 1/8" Shank Up-Cut (51406)`,store_url:"https://www.amanatool.com/51406-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-1-8-dia-x-5-16-x-1-8-shank-up-cut.html?ff=1&fp=11946",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200329,flutes:2},{store_id:"45213",name:"Carbide Tipped Straight Plunge 6mm Dia x 25mm x 6mm Shank (45213)",store_url:"https://www.amanatool.com/45213-carbide-tipped-straight-plunge-6mm-dia-x-25mm-x-6mm-shank.html?ff=1&fp=12607",diameter:6,units:"mm",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200331,flutes:2},{store_id:"51417-K",name:`Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Spiral 'O' Single Flute, Plastic Cutting 3/16" Dia x 5/8" x 1/4" Shank x 2 Inch Long Up-Cut Router (51417-K)`,store_url:"https://www.amanatool.com/51417-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-spiral-o-single-flute-plastic-cutting-3-16-dia-x-5-8-x-1-4-shank-x-2-inch-long-up-cut-router-bit.html?ff=1&fp=11711",diameter:.1875,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200335,flutes:1},{store_id:"51593",name:'CNC Variable Helix Spiral Square Bottom 1/4" Dia x 5/8" x 1/4" Shank Solid Carbide AlTiN Coated End Mill (51593)',store_url:"https://www.amanatool.com/51593-cnc-variable-helix-spiral-square-bottom-1-4-dia-x-5-8-x-1-4-shank-solid-carbide-altin-coated-end-mill.html?ff=1&fp=10748",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200336,flutes:4},{store_id:"51437-K",name:`Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Spiral 'O' Flute, Plastic Cutting 1/8" Dia x 3/4" x 1/8" Shank Up-Cut Design Router Bit (51437-K)`,store_url:"https://www.amanatool.com/51437-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-spiral-o-flute-plastic-cutting-1-8-dia-x-3-4-x-1-8-shank-up-cut-design-router-bit.html?ff=1&fp=13278",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200337,flutes:1},{store_id:"46182-K",name:'CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Compression Spiral 1/2" Dia x 1" x 1/2" Sh (46182-K)',store_url:"https://www.amanatool.com/46182-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-compression-spiral-1-2-dia-x-1-x-1-2-inch-shank.html?ff=1&fp=12858",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200338,flutes:2},{store_id:"45798",name:'Carbide Tipped Double Edge Folding V-Groove 135 Deg x 0.078" Tip Width x 3/4" Dia x 9/64" x 1/4" Shank (45798)',store_url:"https://www.amanatool.com/45798-carbide-tipped-double-edge-folding-v-groove-135-deg-x-0-078-inch-tip-width-x-3-4-dia-x-9-64-x-1-4-inch-shank.html",diameter:.75,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200339,flutes:2,tip_angle:135},{store_id:"RC-1028",name:'CNC Insert V-Groove 91 Deg x 1-5/16" x 3/4" Shank (RC-1028)',store_url:"https://www.amanatool.com/rc-1028-cnc-insert-v-groove-91-deg-x-1-5-16-x-3-4-shank.html?ff=1&fp=11960",diameter:2.625,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200343,flutes:1,tip_angle:91},{store_id:"51597",name:'CNC Variable Helix Spiral Square Bottom 1/2" Dia x 1" x 1/2" Shank Solid Carbide AlTiN Coated End Mill (51597)',store_url:"https://www.amanatool.com/51597-cnc-variable-helix-spiral-square-bottom-1-2-dia-x-1-x-1-2-shank-solid-carbide-altin-coated-end-mill.html?ff=1&fp=10750",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200344,flutes:4},{store_id:"48210-K",name:"Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1.5mm Dia x 5mm x 3mm Shank (48210-K)",store_url:"https://www.amanatool.com/48210-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-5mm-dia-x-5mm-x-3mm-shank.html",diameter:1.5,units:"mm",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200346,flutes:2},{store_id:"46426-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Up-Cut Spiral Ball Nose 1/8" Radius x 1/4" Dia x 1/2" x 1/4" Shank x 2-1/2" Long x 2 Flute Router (46426-K)',store_url:"https://www.amanatool.com/46426-k-solid-carbide-spektratm-extreme-tool-life-coated-up-cut-spiral-ball-nose-1-8-radius-x-1-4-dia-x-1-2-x-1-4-shank-x-2-1-2-inch-long-x-2-flute-router-bit.html?ff=1&fp=13124",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200348,flutes:2},{store_id:"46052-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/4" Dia x 3/4" x 1/4" Shank Down-Cut, 3-Fl (46052-K)',store_url:"https://www.amanatool.com/46052-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-4-dia-x-3-4-x-1-4-inch-shank-down-cut-3-flute.html?ff=1&fp=12835",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200350,flutes:3},{store_id:"51404-K",name:`Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Spiral 'O' Flute, Plastic Cutting 1/4" Dia x 3/4" x 1/4" Shank Up-Cut Router (51404-K)`,store_url:"https://www.amanatool.com/51404-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-spiral-o-flute-plastic-cutting-1-4-dia-x-3-4-x-1-4-inch-shank-up-cut-router-bit.html?ff=1&fp=11712",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200352,flutes:1},{store_id:"45422",name:'Carbide Tipped Straight Plunge 1/2" Dia x 1-1/2" x 1/2" Shank (45422)',store_url:"https://www.amanatool.com/45422-carbide-tipped-straight-plunge-1-2-dia-x-1-1-2-x-1-2-inch.html?ff=1&fp=8247",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200353,flutes:2},{store_id:"46018-K",name:'CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Mortise Compression Spiral 1/4" Dia x 1 Inch x 1/4 Sh (46018-K)',store_url:"https://www.amanatool.com/46018-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-mortise-compression-spiral-1-4-dia-x-1-inch-x-1-4-shank.html?ff=1&fp=13148",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200354,flutes:2},{store_id:"HSS1622",name:'High Speed Steel (HSS) Single Flute Spiral Aluminum Cutting 1/4" Dia x 5/8" x 1/4" Shank Up-Cut Router Bit (HSS1622)',store_url:"https://www.amanatool.com/hss1622-high-speed-steel-hss-single-flute-spiral-aluminum-cutting-1-4-dia-x-5-8-x-1-4-inch-shank-up-cut-router-bit.html?ff=1&fp=11412",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200355,flutes:1},{store_id:"RC-2241",name:'Insert Carbide Mini Spoilboard Surfacing, Rabbeting, Flycutter, Slab Leveler & Surface Planer 1-1/2" Dia x 15/32 (12mm) x 1/2" Shank Router Bit (RC-2241)',store_url:"https://www.amanatool.com/rc-2241-insert-carbide-mini-spoilboard-surfacing-rabbeting-flycutter-slab-leveler-surface-planer-1-1-2-dia-x-15-32-12mm-x-1-2-inch-shank-router-bit.html?ff=1&fp=12345",diameter:1.5,units:"mm",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200356,flutes:2},{store_id:"RC-2251",name:'Insert Carbide Spoilboard Surfacing, Rabbeting, Flycutter, Slab Leveler & Surface Planer 2+2 Flute Design 2-1/2" Dia x 15/32" x 1/2" Shank Router Bit (RC-2251)',store_url:"https://www.amanatool.com/rc-2251-insert-carbide-spoilboard-surfacing-rabbeting-flycutter-slab-leveler-surface-planer-2-2-flute-design-2-1-2-dia-x-15-32-x-1-2-shank-router-bit.html?ff=1&fp=12350",diameter:2.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200357,flutes:2},{store_id:"46009-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/16" Dia x 1/2" x 1/4" Shank Up-Cut (46009-K)',store_url:"https://www.amanatool.com/46009-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-16-dia-x-1-2-x-1-4-inch-shank-up-cut.html?ff=1&fp=13224",diameter:.0625,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200358,flutes:2},{store_id:"46170",name:'CNC Solid Carbide Compression Spiral 1/4" Dia x 7/8" x 1/4" Shank (46170)',store_url:"https://www.amanatool.com/46170-cnc-solid-carbide-compression-spiral-1-4-dia-x-7-8-x-1-4-inch-shank.html?ff=1&fp=8717",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200360,flutes:2},{store_id:"45426",name:'Carbide Tipped Straight Plunge 1/2" Dia x 2 Inch x 1/2" Shank (45426)',store_url:"https://www.amanatool.com/45426-carbide-tipped-straight-plunge-1-2-dia-x-2-inch-x-1-2-shan.html?ff=1&fp=12482",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200362,flutes:2},{store_id:"46566",name:'Solid Carbide CNC Foam Down-Cut Cutting Square End Spiral 1/4" Dia x 2-1/4" x 1/4" Shank x 4 Inch Long Router Bit (46566)',store_url:"https://www.amanatool.com/46566-solid-carbide-cnc-foam-down-cut-cutting-square-end-spiral-1-4-dia-x-2-1-4-x-1-4-shank-x-4-inch-long-router-bit.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200364,flutes:2},{store_id:"46490-K",name:'Extra Long CNC 2D and 3D Carving Ball Nose 0.10 Deg Straight Angle x 1/4" Dia x 1/8" Radius x 1/2" x 1/4" Shank x 3 Flute Spektra\u2122 Extreme Tool Life Coated Reduced Shank Router (46490-K)',store_url:"https://www.amanatool.com/46490-k-extra-long-cnc-2d-and-3d-carving-ball-nose-0-10-deg-straight-angle-x-1-4-dia-x-1-8-radius-x-1-2-x-1-4-shank-x-3-flute-spektratm-extreme-tool-life-coated-reduced-shank-router-bit.html?ff=1&fp=12857",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200365,flutes:3},{store_id:"45404",name:'Carbide Tipped Straight Plunge 3/8" Dia x 1-1/4" x 3/8" Shank (45404)',store_url:"https://www.amanatool.com/45404-carbide-tipped-straight-plunge-3-8-dia-x-1-1-4-x-3-8-shank.html?ff=1&fp=8341",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200367,flutes:2},{store_id:"51441",name:`Solid Carbide CNC Spiral 'O' Single Flute, Plastic Cutting 1/16" Dia x 1/4" x 1/4" Shank x 2 Inch Long Up-Cut Router Bit (51441)`,store_url:"https://www.amanatool.com/51441-solid-carbide-cnc-spiral-o-single-flute-plastic-cutting-1-16-dia-x-1-4-x-1-4-shank-x-2-inch-long-up-cut-router-bit.html?ff=1&fp=10377",diameter:.0625,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200370,flutes:1},{store_id:"46032",name:'Solid Carbide CNC Foam Cutting Up-Cut Ball End Spiral 1/4" Dia x 2-1/4" x 1/4" Shank x 4 Inch Long Router Bit (46032)',store_url:"https://www.amanatool.com/46032-solid-carbide-cnc-foam-cutting-up-cut-ball-end-spiral-1-4-dia-x-2-1-4-x-1-4-shank-x-4-inch-long-router-bit.html?ff=1&fp=10754",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200371,flutes:2},{store_id:"46373-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Up-Cut Ball Nose Spiral 1/16" Dia x 1/4" x 1/8" Shank Router (46373-K)',store_url:"https://www.amanatool.com/46373-k-solid-carbide-spektratm-extreme-tool-life-coated-up-cut-ball-nose-spiral-1-16-dia-x-1-4-inch-x-1-8-shank-router-bit.html?ff=1&fp=13134",diameter:.0625,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200372,flutes:2},{store_id:"51411",name:`Solid Carbide CNC Spiral 'O' Single Flute, Plastic Cutting 1/8" Dia x 1/2" x 1/4" Shank x 2 Inch Long Up-Cut Router Bit (51411)`,store_url:"https://www.amanatool.com/51411-solid-carbide-cnc-spiral-o-single-flute-plastic-cutting-1-8-dia-x-1-2-x-1-4-shank-x-2-inch-long-up-cut-router-bit.html?ff=1&fp=9137",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200374,flutes:1},{store_id:"46321-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/4" Dia x 1-1/4" x 1/4" Shank Up-Cut (46321-K)',store_url:"https://www.amanatool.com/46321-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-4-dia-x-1-1-4-x-1-4-inch-shank-up-cut.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200376,flutes:2},{store_id:"45628",name:'Solid Carbide V Groove Engraving 15 Deg x 1/4" Dia x 0.666" x 1/4" Shank (45628)',store_url:"https://www.amanatool.com/45628-solid-carbide-v-groove-engraving-15-deg-x-1-4-dia-x-0-666-x-1-4-inch-shank.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200377,flutes:2,tip_angle:15},{store_id:"46202",name:'Solid Carbide Spiral Plunge 1/4" Dia x 3/4" x 1/4" Shank Down-Cut (46202)',store_url:"https://www.amanatool.com/46202-solid-carbide-spiral-plunge-1-4-dia-x-3-4-x-1-4-inch-shank-down-cut.html?ff=1&fp=8801",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200378,flutes:2},{store_id:"46587-K",name:'CNC 2D and 3D Carving Flat Bottom 0.10 Deg Angle x 1/4" Dia x 3/4" x 1/4" Shank x 2-1/2" Long x 2 Flute Solid Carbide Up-Cut Spiral Spektra\u2122 Extreme Tool Life Coated Router Bit (46587-K)',store_url:"https://www.amanatool.com/46587-k-cnc-2d-and-3d-carving-flat-bottom-0-10-deg-angle-x-1-4-dia-x-3-4-x-1-4-shank-x-2-1-2-inch-long-x-2-flute-solid-carbide-up-cut-spiral-spektratm-extreme-tool-life-coated-router-bit.html?ff=1&fp=13371",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200380,flutes:2},{store_id:"51458-Z",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 1/4" Dia x 7/8" x 1/4" Shank Up-Cut ZrN Coated Router Bit (51458-Z)`,store_url:"https://www.amanatool.com/51458-z-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-1-4-dia-x-7-8-x-1-4-shank-up-cut-zrn-coated-router-bit.html?ff=1&fp=13246",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200382,flutes:1},{store_id:"57306",name:"Metric Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 10mm Dia x 30mm x 10mm Shank x 76mm Long Up-Cut Router Bit (57306)",store_url:"https://www.amanatool.com/57306-metric-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-10-dia-x-30-x-10-shank-x-76mm-long-up-cut-router-bit.html?ff=1&fp=11800",diameter:10,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200385,flutes:1},{store_id:"HSS1212",name:'High Speed Steel (HSS) Foam Cutting End Mill Extended Reach 1/4" Dia x 4" x 6" Long x 1/4" Shank CNC 4-Flute Spiral Up-Cut Router Bit TiN Coated (HSS1212)',store_url:"https://www.amanatool.com/hss1212-high-speed-steel-hss-foam-cutting-end-mill-extended-reach-1-4-dia-x-4-x-6-long-x-1-4-shank-cnc-4-flute-spiral-up-cut-router-bit-tin-coated.html?ff=1&fp=10959",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200386,flutes:4},{store_id:"46413",name:'Solid Carbide Slow Spiral O Flute Acrylic Cutting 1/4" Dia x 3/4" x 1/4" Shank Down-Cut Router Bit (46413)',store_url:"https://www.amanatool.com/46413-solid-carbide-slow-spiral-o-flute-acrylic-cutting-1-4-dia-x-3-4-x-1-4-inch-shank-down-cut.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200387,flutes:2},{store_id:"46090",name:'Solid Carbide Up-Spiral 1/8" Dia x 1/2" x 1/4" Shank x 2 Inch Long Composite, Fiberglass & Phenolic Cutting ZrN Coated Router Bit (46090)',store_url:"https://www.amanatool.com/46090-solid-carbide-spiral-1-8-dia-x-1-2-x-1-4-shank-x-2-inch-long-composite-fiberglass-phenolic-cutting-zrn-coated-up-cut-router-bit.html?ff=1&fp=12057",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200388,flutes:3},{store_id:"46225-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/8" Dia x 13/16" x 1/4" Sh (46225-K)',store_url:"https://www.amanatool.com/46225-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-8-dia-x-13-16-x-1-4-inch-shank.html?ff=1&fp=12656",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200389,flutes:2},{store_id:"46269-K",name:'Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Foam Cutting Up-Cut Square End Spiral 1/8" Dia x 1-1/16" x 1/8" Shank Router (46269-K)',store_url:"https://www.amanatool.com/46269-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-foam-cutting-up-cut-square-end-spiral-1-8-dia-x-1-1-16-x-1-8-shank-router-bit.html",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200390,flutes:2},{store_id:"46270",name:'Solid Carbide CNC Foam Cutting Up-Cut Square End Spiral 1/8" Dia x 1-1/8" x 1/4" Shank x 2-1/2" Long Router Bit (46270)',store_url:"https://www.amanatool.com/46270-solid-carbide-cnc-foam-cutting-up-cut-square-end-spiral-1-8-dia-x-1-1-8-x-1-4-shank-x-2-1-2-inch-long-router-bit.html?ff=1&fp=9173",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200391,flutes:2},{store_id:"46002-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/4" Dia x 3/4" x 1/4" Shank Up-Cut, 3-Flute (46002-K)',store_url:"https://www.amanatool.com/46002-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-4-dia-x-3-4-x-1-4-inch-shank-up-cut-3-flute.html",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200393,flutes:3},{store_id:"51470-Z",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 1/16" Dia x 1/4" x 1/8" Shank Up-Cut ZrN Coated Router Bit (51470-Z)`,store_url:"https://www.amanatool.com/51470-z-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-1-16-dia-x-1-4-x-1-8-shank-up-cut-zrn-coated-router-bit.html?ff=1&fp=12873",diameter:.0625,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200396,flutes:2},{store_id:"46269",name:'Solid Carbide CNC Foam Cutting Up-Cut Square End Spiral 1/8" Dia x 1-1/16" x 1/8" Shank Router Bit (46269)',store_url:"https://www.amanatool.com/46269-solid-carbide-cnc-foam-cutting-up-cut-square-end-spiral-1-8-dia-x-1-1-16-x-1-8-shank-router-bit.html?ff=1&fp=10481",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200397,flutes:2},{store_id:"46403",name:'Solid Carbide Spiral Plunge 1/16" Dia x 1/2" x 1/4" Shank x 2 Inch Long Down-Cut (46403)',store_url:"https://www.amanatool.com/46403-solid-carbide-spiral-plunge-1-16-dia-x-1-2-x-1-4-shank-x-2-inch-long-down-cut.html?ff=1&fp=13016",diameter:.0625,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200399,flutes:2},{store_id:"46010",name:'CNC Solid Carbide Compression Spiral 3 Flute x 3/8" Dia x 1-1/8" x 3/8" Shank (46010)',store_url:"https://www.amanatool.com/46010-cnc-solid-carbide-compression-spiral-3-flute-x-3-8-dia-x-1-1-8-x-3-8-shank.html?ff=1&fp=8731",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"Compression",technology_id:200400,flutes:3},{store_id:"46100-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/8" Dia x 1/2" x 1/4" Shank Up-Cut (46100-K)',store_url:"https://www.amanatool.com/46100-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-8-dia-x-1-2-x-1-4-inch-shank-up-cut.html?ff=1&fp=12540",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200401,flutes:2},{store_id:"51406-Z",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 1/8" Dia x 5/16" x 1/8" Shank Up-Cut ZrN Coated Router Bit (51406-Z)`,store_url:"https://www.amanatool.com/51406-z-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-1-8-dia-x-5-16-x-1-8-shank-up-cut-zrn-coated-router-bit.html?ff=1&fp=12866",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200402,flutes:2},{store_id:"45424",name:'Carbide Tipped Straight Plunge 1/2" Dia x 1-1/2" x 1/2" Shank (45424)',store_url:"https://www.amanatool.com/45424-carbide-tipped-straight-plunge-1-2-dia-x-1-1-2-x-1-2-inch.html?ff=1&fp=12382",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200403,flutes:2},{store_id:"48214-K",name:"Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 3mm Dia x 12mm x 6mm Shank (48214-K)",store_url:"https://www.amanatool.com/48214-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-3mm-dia-x-12mm-x-6mm-shank.html",diameter:3,units:"mm",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200404,flutes:2},{store_id:"HSS1630",name:'High Speed Steel (HSS) Double Flute Spiral Aluminum Cutting 1/8" Dia x 3/8" x 1/4" Shank Up-Cut Router Bit (HSS1630)',store_url:"https://www.amanatool.com/hss1630-high-speed-steel-hss-double-flute-spiral-aluminum-cutting-1-8-dia-x-3-8-x-1-4-inch-shank-up-cut-router-bit.html?ff=1&fp=12593",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200405,flutes:2},{store_id:"46494",name:'CNC 2D and 3D Carving 0.10 Deg Straight Angle Ball Tip 3/8" Dia x 3/16" Radius x 2-1/4" x 3/8" Shank x 4 Inch Long x 3 Flute Solid Carbide ZrN Coated (46494)',store_url:"https://www.amanatool.com/46494-cnc-2d-and-3d-carving-0-10-deg-straight-angle-ball-tip-3-8-dia-x-3-16-radius-x-2-1-4-x-3-8-shank-x-4-inch-long-x-3-flute-solid-carbide-zrn-coated.html?ff=1&fp=10798",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200407,flutes:3},{store_id:"45560",name:'Carbide Tipped Bottom Cleaning / Spoilboard 3/4" Dia x 7/16" x 1/4" Shank Upshear Design (45560)',store_url:"https://www.amanatool.com/45560-carbide-tipped-bottom-cleaning-spoilboard-3-4-dia-x-7-16-x-1-4-inch-shank-upshear-design.html",diameter:.75,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200409,flutes:2},{store_id:"46100",name:'Solid Carbide Spiral Plunge 1/8" Dia x 1/2" x 1/4" Shank Up-Cut (46100)',store_url:"https://www.amanatool.com/46100-solid-carbide-spiral-plunge-1-8-dia-x-1-2-x-1-4-inch-shank-up-cut.html?ff=1&fp=8822",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200411,flutes:2},{store_id:"46127-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 1/8" Dia x 1/2" x 1/8" Shank Up (46127-K)',store_url:"https://www.amanatool.com/46127-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-1-8-dia-x-1-2-x-1-8-inch-shank-up-cut.html?ff=1&fp=12789",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200414,flutes:2},{store_id:"46106",name:'Solid Carbide Spiral Plunge 1/2" Dia x 1-1/4" x 1/2" Shank Up-Cut (46106)',store_url:"https://www.amanatool.com/46106-solid-carbide-spiral-plunge-1-2-dia-x-1-1-4-x-1-2-inch-shank-up-cut.html?ff=1&fp=8834",diameter:.5,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200415,flutes:2},{store_id:"51778-Z",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 1/8" Dia x 3/4" x 1/4" Shank Down-Cut ZrN Coated Router Bit (51778-Z)`,store_url:"https://www.amanatool.com/51778-z-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-1-8-dia-x-3-4-x-1-4-shank-down-cut-zrn-coated-router-bit.html",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200416,flutes:1},{store_id:"51810-Z",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 1/4" Dia x 1/2" x 1/4" Shank Up-Cut ZrN Coated Router Bit (51810-Z)`,store_url:"https://www.amanatool.com/51810-z-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-1-4-dia-x-1-2-x-1-4-shank-up-cut-zrn-coated-router-bit.html?ff=1&fp=13377",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200417,flutes:1},{store_id:"51444",name:`Solid Carbide CNC Spiral 'O' Single Flute, Plastic Cutting 1/4" Dia x 7/8" x 1/4" Shank x 2-1/2" Long Up-Cut Router Bit (51444)`,store_url:"https://www.amanatool.com/51444-solid-carbide-cnc-spiral-o-single-flute-plastic-cutting-1-4-dia-x-7-8-x-1-4-shank-x-2-1-2-inch-long-up-cut-router-bit.html?ff=1&fp=9141",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200418,flutes:1},{store_id:"HSS1312",name:'CNC 2D and 3D Carving Flat Bottom 0.10 Deg Angle x 1/8" Dia x 1-3/32" x 1/4" Shank x 2-1/2" Long x 4 Flute High Speed Steel (HSS) ZrN Coated Router Bit (HSS1312)',store_url:"https://www.amanatool.com/hss1312-cnc-2d-and-3d-carving-flat-bottom-0-10-deg-angle-x-1-8-dia-x-1-3-32-x-1-4-shank-x-2-1-2-inch-long-x-4-flute-high-speed-steel-hss-zrn-coated-router-bit.html?ff=1&fp=13292",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200419,flutes:4},{store_id:"46203-K",name:'Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 3/8" Dia x 1" x 3/8" Shank (46203-K)',store_url:"https://www.amanatool.com/46203-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-3-8-dia-x-1-x-3-8-inch-shank.html",diameter:.375,units:"in",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200420,flutes:2},{store_id:"51511-K",name:`Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Spiral 'O' Flute, Plastic Cutting 1/8" Dia x 1/2" x 1/4" Shank Down-Cut Design Router (51511-K)`,store_url:"https://www.amanatool.com/51511-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-spiral-o-flute-plastic-cutting-1-8-dia-x-1-2-x-1-4-shank-down-cut-design-router-bit.html?ff=1&fp=12636",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200421,flutes:1},{store_id:"51504-K",name:`Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Spiral 'O' Flute, Plastic Cutting 1/4" Dia x 3/4" x 1/4" Shank Down-Cut Router (51504-K)`,store_url:"https://www.amanatool.com/51504-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-spiral-o-flute-plastic-cutting-1-4-dia-x-3-4-x-1-4-inch-shank-down-cut-router-bit.html?ff=1&fp=12640",diameter:.25,units:"in",quantity:1,source:"amana",group_name:"Downcut",technology_id:200422,flutes:1},{store_id:"48442-K",name:"Solid Carbide CNC Spektra\u2122 Extreme Tool Life Coated Foam Cutting Up-Cut Square End Spiral 3mm Dia x 28mm x 6mm Shank x 64mm Long Router Bit (48442-K)",store_url:"https://www.amanatool.com/48442-k-solid-carbide-cnc-spektratm-extreme-tool-life-coated-foam-cutting-up-cut-square-end-spiral-3mm-dia-x-28mm-x-6mm-shank-x-64mm-long-router-bit.html?ff=1&fp=13535",diameter:3,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200423,flutes:2},{store_id:"51408-Z",name:`Solid Carbide CNC Spiral 'O' Flute, Aluminum Cutting 3/16" Dia x 1/2" x 1/4" Shank Up-Cut ZrN Coated Router Bit (51408-Z)`,store_url:"https://www.amanatool.com/51408-z-solid-carbide-cnc-spiral-o-flute-aluminum-cutting-3-16-dia-x-1-2-x-1-4-shank-up-cut-zrn-coated-router-bit.html?ff=1&fp=12878",diameter:.1875,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200424,flutes:1},{store_id:"51454",name:`Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 1/8" Dia x 1/2" x 1/4" Shank x 2 Inch Long Up-Cut Router Bit (51454)`,store_url:"https://www.amanatool.com/51454-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-1-8-dia-x-1-2-x-1-4-shank-x-2-inch-long-up-cut-router-bit.html?ff=1&fp=11933",diameter:.125,units:"in",quantity:1,source:"amana",group_name:"Upcut",technology_id:200425,flutes:1},{store_id:"RC-1142",name:'Insert V-Groove 90 Deg x 3/4" x 1/4" Shank CNC Router Bit (RC-1142)',store_url:"https://www.amanatool.com/rc-1142-insert-v-groove-90-deg-x-3-4-x-1-4-inch-shank-cnc-router-bit.html?ff=1&fp=12101",diameter:1.5,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200426,flutes:1,tip_angle:90},{store_id:"45712",name:'Carbide Tipped V-Groove 90 Deg x 5/8" Dia x 1/2" x 1/2" Shank (45712)',store_url:"https://www.amanatool.com/45712-carbide-tipped-v-groove-90-deg-x-5-8-dia-x-1-2-x-1-2-inch-shank.html?ff=1&fp=12218",diameter:.625,units:"in",quantity:1,source:"amana",group_name:"V",technology_id:200428,flutes:2,tip_angle:90},{store_id:"48302-K",name:"CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Compression Spiral 3mm Dia x 20mm x 6mm Shank (48302-K)",store_url:"https://www.amanatool.com/48302-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-compression-spiral-3mm-dia-x-20mm-x-6mm-shank.html",diameter:3,units:"mm",quantity:1,source:"amana",group_name:"Compression",technology_id:200429,flutes:2},{store_id:"48314-K",name:"CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Compression Spiral 10mm Dia x 35mm x 10mm Shank (48314-K)",store_url:"https://www.amanatool.com/48314-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-compression-spiral-10mm-dia-x-35mm-x-10mm-shank.html",diameter:10,units:"mm",quantity:1,source:"amana",group_name:"Compression",technology_id:200430,flutes:2},{store_id:"48116-K",name:"Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 3mm Dia x 20mm x 6mm Shank Up-Cut (48116-K)",store_url:"https://www.amanatool.com/48116-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-3mm-dia-x-20mm-x-6mm-shank-up-cut.html",diameter:3,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200431,flutes:2},{store_id:"46185-K",name:"CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Compression Spiral 12mm Dia x 35mm x 12mm Shank (46185-K)",store_url:"https://www.amanatool.com/46185-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-compression-spiral-12mm-dia-x-35mm-x-12mm-shank.html",diameter:12,units:"mm",quantity:1,source:"amana",group_name:"Compression",technology_id:200432,flutes:2},{store_id:"46027-K",name:"CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Mortise Compression Spiral 12mm Dia x 25mm x 12mm Shank (46027-K)",store_url:"https://www.amanatool.com/46027-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-mortise-compression-spiral-12mm-dia-x-25mm-x-12mm-shank.html",diameter:12,units:"mm",quantity:1,source:"amana",group_name:"Compression",technology_id:200433,flutes:2},{store_id:"46025-K",name:"CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Mortise Compression Spiral 6mm Dia x 22mm x 6mm Shank (46025-K)",store_url:"https://www.amanatool.com/46025-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-mortise-compression-spiral-6mm-dia-x-22mm-x-6mm-shank.html",diameter:6,units:"mm",quantity:1,source:"amana",group_name:"Compression",technology_id:200434,flutes:2},{store_id:"48118-K",name:"Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 6mm Dia x 19mm x 6mm Shank Up-Cut (48118-K)",store_url:"https://www.amanatool.com/48118-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-6mm-dia-x-19mm-x-6mm-shank-up-cut.html",diameter:6,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200435,flutes:2},{store_id:"RC-1148-M",name:"Insert V-Groove 60 Deg x 23mm x 6mm Shank CNC Router Bit (RC-1148-M)",store_url:"https://www.amanatool.com/rc-1148-m-insert-v-groove-60-deg-x-23mm-x-6mm-shank-cnc-router-bit.html",diameter:27,units:"mm",quantity:1,source:"amana",group_name:"V",technology_id:200441,flutes:1,tip_angle:60},{store_id:"RC-45711-M",name:"In-Tech Insert Carbide V Groove 90 Deg x 17.6mm Dia x 8.5mm x 6mm Shank Single Flute Router Bit (RC-45711-M)",store_url:"https://www.amanatool.com/rc-45711-m-in-tech-insert-carbide-v-groove-90-deg-x-17-6mm-dia-x-8-5mm-x-6mm-shank-single-flute-router-bit.html",diameter:17.6,units:"mm",quantity:1,source:"amana",group_name:"V",technology_id:200442,flutes:2,tip_angle:90},{store_id:"RC-2253",name:'Insert Carbide Mini Spoilboard Surfacing, Rabbeting, Flycutter, Slab Leveler & Surface Planer 2+2 Flute Design 1-1/2" Dia x 1/2 x 12mm Shank Router Bit (RC-2253)',store_url:"https://www.amanatool.com/rc-2253-insert-carbide-mini-spoilboard-surfacing-rabbeting-flycutter-slab-leveler-surface-planer-2-2-flute-design-1-1-2-dia-x-1-2-x-12mm-shank-router-bit.html",diameter:38.1,units:"mm",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200443,flutes:4},{store_id:"48403-K",name:"Solid Carbide Spektra\u2122 Extreme Tool Life Coated Up-Cut Ball Nose Spiral 6mm Dia x 25mm x 6mm Shank Router Bit (48403-K)",store_url:"https://www.amanatool.com/48403-k-solid-carbide-spektratm-extreme-tool-life-coated-up-cut-ball-nose-spiral-6mm-dia-x-25mm-x-6mm-shank-router-bit.html",diameter:6,units:"mm",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200444,flutes:2},{store_id:"46453",name:"Solid Carbide Up-Cut Spiral Ball Nose 1.5mm Radius x 3mm Dia x 12mm x 6mm Shank x 50mm Long x 2 Flute Router Bit (46453)",store_url:"https://www.amanatool.com/46453-solid-carbide-up-cut-spiral-ball-nose-1-5mm-radius-x-3mm-dia-x-12mm-x-6mm-shank-x-50mm-long-x-2-flute-router-bit.html",diameter:3,units:"mm",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200445,flutes:2},{store_id:"46456",name:"Solid Carbide Up-Cut Spiral Ball Nose 3mm Radius x 6mm Dia x 22mm x 6mm Shank x 63mm Long x 2 Flute Router Bit (46456)",store_url:"https://www.amanatool.com/46456-solid-carbide-up-cut-spiral-ball-nose-3mm-radius-x-6mm-dia-x-22mm-x-6mm-shank-x-63mm-long-x-2-flute-router-bit.html",diameter:6,units:"mm",quantity:1,source:"amana",group_name:"Ballnose",technology_id:200446,flutes:2},{store_id:"57314",name:"Metric Solid Carbide CNC Spiral 'O' Single Flute, Plastic Cutting 3mm Dia x 8mm x 3mm Shank x 50mm Long Up-Cut Router Bit (57314)",store_url:"https://www.amanatool.com/57314-metric-solid-carbide-cnc-spiral-o-single-flute-plastic-cutting-3-dia-x-8-x-3-shank-x-50mm-long-up-cut-router-bit.html",diameter:3,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200447,flutes:1},{store_id:"57319",name:"Metric Solid Carbide CNC Spiral 'O' Single Flute, Plastic Cutting 4mm Dia x 20mm x 6mm Shank x 64mm Long Up-Cut Router Bit (57319)",store_url:"https://www.amanatool.com/57319-metric-solid-carbide-cnc-spiral-o-single-flute-plastic-cutting-4-dia-x-20-x-6-shank-x-64mm-long-up-cut-router-bit.html",diameter:4,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200448,flutes:1},{store_id:"57321",name:"Metric Solid Carbide CNC Spiral 'O' Single Flute, Plastic Cutting 5mm Dia x 16mm x 6mm Shank x 64mm Long Up-Cut Router Bit (57321)",store_url:"https://www.amanatool.com/57321-metric-solid-carbide-cnc-spiral-o-single-flute-plastic-cutting-5-dia-x-16-x-6-shank-x-64mm-long-up-cut-router-bit.html",diameter:5,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200449,flutes:1},{store_id:"51495",name:"Metric Solid Carbide CNC Spiral 'O' Single Flute, Plastic Cutting 6mm Dia x 20mm x 6mm Shank x 64mm Long Up-Cut Router Bit (51495)",store_url:"https://www.amanatool.com/51495-metric-solid-carbide-cnc-spiral-o-single-flute-plastic-cutting-6-dia-x-20-x-6-shank-x-64mm-long-up-cut-router-bit.html",diameter:6,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200450,flutes:1},{store_id:"51497",name:"Metric Solid Carbide CNC Spiral 'O' Single Flute, Plastic Cutting 6mm Dia x 30mm x 6mm Shank x 75mm Long Up-Cut Router Bit (51497)",store_url:"https://www.amanatool.com/51497-metric-solid-carbide-cnc-spiral-o-single-flute-plastic-cutting-6-dia-x-30-x-6-shank-x-75mm-long-up-cut-router-bit.html",diameter:6,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200451,flutes:1},{store_id:"48430-K",name:"Solid Carbide Up-Cut Spiral 6mm Dia x 19mm x 6mm Shank x 63mm Long Composite, Fiberglass & Phenolic Cutting Spektra\u2122 Extreme Tool Life Coated Router Bit (48430-K)",store_url:"https://www.amanatool.com/48430-k-solid-carbide-up-cut-spiral-6mm-dia-x-19mm-x-6mm-shank-x-63mm-long-composite-fiberglass-phenolic-cutting-spektratm-extreme-tool-life-coated-router-bit.html",diameter:6,units:"mm",quantity:1,source:"amana",group_name:"Compression",technology_id:200453,flutes:3},{store_id:"51370",name:"Metric Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 1.5mm Dia x 4mm x 3mm Shank x 30mm Long Up-Cut Router Bit (51370)",store_url:"https://www.amanatool.com/51370-metric-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-1-5-dia-x-4-x-3-shank-x-30mm-long-up-cut-router-bit.html",diameter:1.5,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200454,flutes:1},{store_id:"51490",name:"Metric Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 3mm Dia x 8mm x 6mm Shank x 63mm Long Up-Cut Router Bit (51490)",store_url:"https://www.amanatool.com/51490-metric-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-3-dia-x-8-x-6-shank-x-63mm-long-up-cut-router-bit.html",diameter:3,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200455,flutes:1},{store_id:"51492",name:"Metric Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 4mm Dia x 20mm x 6mm Shank x 63mm Long Up-Cut Router Bit (51492)",store_url:"https://www.amanatool.com/51492-metric-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-4-dia-x-20-x-6-shank-x-63mm-long-up-cut-router-bit.html",diameter:4,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200456,flutes:1},{store_id:"51494",name:"Metric Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 5mm Dia x 16mm x 6mm Shank x 63mm Long Up-Cut Router Bit (51494)",store_url:"https://www.amanatool.com/51494-metric-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-5-dia-x-16-x-6-shank-x-63mm-long-up-cut-router-bit.html",diameter:5,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200457,flutes:1},{store_id:"57300",name:"Metric Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 2mm Dia x 6mm x 6mm Shank x 64mm Long Up-Cut Router Bit (57300)",store_url:"https://www.amanatool.com/57300-metric-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-2-dia-x-6-x-6-shank-x-64mm-long-up-cut-router-bit.html",diameter:2,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200458,flutes:1},{store_id:"57305",name:"Metric Solid Carbide CNC Spiral 'O' Single Flute, Aluminum Cutting 8mm Dia x 38mm x 8mm Shank x 76mm Long Up-Cut Router Bit (57305)",store_url:"https://www.amanatool.com/57305-metric-solid-carbide-cnc-spiral-o-single-flute-aluminum-cutting-8-dia-x-38-x-8-shank-x-76mm-long-up-cut-router-bit.html",diameter:8,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200459,flutes:1},{store_id:"51610",name:"CNC Metric Solid Carbide Spiral for Steel & Stainless Steel with AlTiN Coating 3-Flute x 3mm Dia x 3mm x 3mm Shank x 40mm Long Up-Cut Router Bit / 45\xBA Corner Chamfer End Mill (51610)",store_url:"https://www.amanatool.com/51610-cnc-metric-solid-carbide-spiral-for-steel-stainless-steel-with-altin-coating-3-flute-x-3-dia-x-3-x-3-shank-x-40mm-long-up-cut-router-bit-45-corner-chamfer-end-mill.html",diameter:3,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200461,flutes:3},{store_id:"51614",name:"CNC Metric Solid Carbide Spiral for Steel & Stainless Steel with AlTiN Coating 3-Flute x 6mm Dia x 16mm x 6mm Shank x 60mm Long Up-Cut Router Bit / 45\xBA Corner Chamfer End Mill (51614)",store_url:"https://www.amanatool.com/51614-cnc-metric-solid-carbide-spiral-for-steel-stainless-steel-with-altin-coating-3-flute-x-6-dia-x-16-x-6-shank-x-60mm-long-up-cut-router-bit-45-corner-chamfer-end-mill.html",diameter:6,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200462,flutes:3},{store_id:"48304-K",name:"CNC Solid Carbide Spektra\u2122 Extreme Tool Life Coated Compression Spiral 6mm Dia x 20mm x 6mm Shank (48304-K)",store_url:"https://www.amanatool.com/48304-k-cnc-solid-carbide-spektratm-extreme-tool-life-coated-compression-spiral-6mm-dia-x-20mm-x-6mm-shank.html",diameter:6,units:"mm",quantity:1,source:"amana",group_name:"Compression",technology_id:200463,flutes:2},{store_id:"48220-K",name:"Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 6mm Dia x 25mm x 6mm Shank (48220-K)",store_url:"https://www.amanatool.com/48220-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-6mm-dia-x-25mm-x-6mm-shank.html",diameter:6,units:"mm",quantity:1,source:"amana",group_name:"Straight cut",technology_id:200464,flutes:2},{store_id:"48120-K",name:"Solid Carbide Spektra\u2122 Extreme Tool Life Coated Spiral Plunge 6mm Dia x 25mm x 6mm Shank Up-Cut (48120-K)",store_url:"https://www.amanatool.com/48120-k-solid-carbide-spektratm-extreme-tool-life-coated-spiral-plunge-6mm-dia-x-25mm-x-6mm-shank-up-cut.html",diameter:6,units:"mm",quantity:1,source:"amana",group_name:"Upcut",technology_id:200465,flutes:2}];var cae=[{store_id:"W04007",name:'SpeTool SC Spiral Plunge 1/8" Dia x 1/4" Shank x 1/2" Cutting Length x 2" Long 2 Flute Up-Cut Router Bit (W04007)',store_url:"https://spetools.com/products/spetool-w04007-upcut-spiral-bit-1-8cd",diameter:.125,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:3e5,flutes:2},{store_id:"W04012",name:'SpeTool SC Spiral Plunge 1/2" Dia x 1/2" Shank x 2" Cutting Length 4" Extra Long 2 Flute Up-Cut Router Bit (W04012)',store_url:"https://spetools.com/products/spetool-upcut-solid-carbide-1-2-cd-1-2-shk-4-inch-long-router-bit",diameter:.5,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300001,flutes:2},{store_id:"M02004",name:'SpeTool CNC SC Spiral for Steel, Stainless Steel Metal with TiAlN Coating 2-Flute 1/4" Dia x 1/4" Shank x 1-1/8" Cutting Length x 3" Long Flat Top Up Cut End Mill (M02004)',store_url:"https://spetools.com/products/spetool-m02004-stainless-steel-up-cut-end-mill-flat-top-2-flute-1-4-dia-1-4-shank-3-inch-long",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300003,flutes:2},{store_id:"W02002",name:'SpeTool SC Compression Spiral 3/8" Dia x 1/2" Shank x 1-1/4" Cutting Length x 3" Long 2 Flute Router Bit (W02002)',store_url:"https://spetools.com/products/spiral-router-bits-compression-cut-3-8-inch-cutting-diameter-1-2-inch-shank",diameter:.375,units:"in",quantity:1,source:"spetool",group_name:"Compression",technology_id:300005,flutes:2},{store_id:"M02007",name:'SpeTool CNC SC Spiral for Steel, Stainless Steel with TiAlN Coating 4-Flute 1/4" Dia x 1/4" Shank x 1-1/8" Cutting Length x 3" Long Flat Top Up Cut End Mill (M02007)',store_url:"https://spetools.com/products/spetool-m02007-stainless-steel-up-cut-end-mill-flat-top-4-flute-1-4-dia-1-4-shank-3-inch-long",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300006,flutes:4},{store_id:"M03007",name:'SpeTool 5Pcs CNC SC Spiral for Steel, Stainless Steel with TiAlN Coating 2-Flute 1/32" Dia x 1/8" Shank x 5/64" Cutting Length x 1-1/2" Long Flat Top Up Cut End Mills (M03007)',store_url:"https://spetools.com/products/spetool-m03007-stainless-steel-up-cut-end-mill-flat-top-2-flute-1-32-dia-1-8-shank?_pos=5&_sid=8b4cd92c9&_ss=r",diameter:.03125,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300008,flutes:2},{store_id:"W04022",name:'SpeTool SC Spiral Plunge 1/4" Dia x 1/4" Shank x 2" Cutting Length 4" Extra Long 2 Flute Up-Cut Router Bit (W04022)',store_url:"https://spetools.com/products/spetool-w04022-spiral-up-cut-router-bit-1-4-dia-1-4-shank-4-extra-long",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300009,flutes:2},{store_id:"W06002",name:'SpeTool Carbide Tipped V Groove 90 Deg 1/2" Dia x1/4" Shank x 2" Long Router Bit (W06002)',store_url:"https://spetools.com/products/spetool-w06001-v-grove-chamfer-router-bit-1-2-dia-1-4-shank-90-deg",diameter:.5,units:"in",quantity:1,source:"spetool",group_name:"V",technology_id:300011,flutes:2,tip_angle:90},{store_id:"M03006",name:'SpeTool 5Pcs CNC SC Spiral for Steel, Stainless Steel with TiAlN Coating 2-Flute 1/16" Dia x 1/8" Shank x 3/16" Cutting Length x 1-1/2" Long Flat Top Up Cut End Mills (M03006)',store_url:"https://spetools.com/products/spetool-m03006-stainless-steel-up-cut-end-mill-flat-top-2-flute-1-16-dia-1-8-shank",diameter:.0625,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300013,flutes:2},{store_id:"W05002",name:'SpeTool CNC Spoilboard Insert Carbide 3 Wing, Surfacing, Planing, Flycutting & Slab Leveler 2" Diameter x 1/2" Shank Router Bit (W05002)',store_url:"https://spetools.com/products/spetool-w05002-spoilboard-surfacing-router-bit-3-flute-2-inch-dia-1-2-shank",diameter:2,units:"in",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300014,flutes:3},{store_id:"M02002",name:'SpeTool 5Pcs CNC SC Spiral for Steel, Stainless Steel Metal with TiAlN Coating 2-Flute 1/4" Dia x 1/4" Shank x 3/4" Cutting Length x 2-1/2" Long Ball Nose Up Cut End Mills (M02002)',store_url:"https://spetools.com/products/spetool-m02002-stainless-steel-up-cut-end-mill-ball-nose-2-flute-1-4-dia-1-4-shank",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Ballnose",technology_id:300015,flutes:2},{store_id:"W04005",name:'SpeTool SC Spiral Plunge 1/4" Dia x 1/4" Shank x 1" Cutting Length x 2-1/2" Long 2 Flute Up-Cut Router Bit (W04005)',store_url:"https://spetools.com/products/spetool-w04005-upcut-router-bit-1-4-inch-cutting-diameter-1-4-inch-shank",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300016,flutes:2},{store_id:"W02005",name:'SpeTool SC Compression Spiral 1/8" Dia x 1/8" Shank x 3/4" Cutting Length x 1-1/2" Long 2 Flute Router Bits (W02005)',store_url:"https://spetools.com/products/spetool-5pcs-carbide-compression-router-bit-up-down-end-mills-1-8-inch-shank-with-1-8-inch-cutter-for-cnc-mill-machine-wookwork-3d-profile-detail-engraver-carving",diameter:.125,units:"in",quantity:1,source:"spetool",group_name:"Compression",technology_id:300017,flutes:2},{store_id:"W02001",name:'SpeTool SC Compression Spiral 1/2" Dia x 1/2" Shank x 1-1/4" Cutting Length x 3" Long 2 Flute Router Bit (W02001)',store_url:"https://spetools.com/products/spiral-router-bits-compression-cut-1-2-inch-cutting-diameter-1-2-inch-shank",diameter:.5,units:"in",quantity:1,source:"spetool",group_name:"Compression",technology_id:300018,flutes:2},{store_id:"A02002",name:'SpeTool CNC SC Spiral Aluminum Cutting 1/4" Dia x 3/4" Cutting Length x 1/4" Shank x 2-1/2" Long 3 Flute Up Cut Router Bits (A02002)',store_url:"https://spetools.com/products/spetool-a02002-carbide-aluminum-up-cut-end-mill-router-bits-3-flute-1-4-dia-1-4-shank",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300019,flutes:3},{store_id:"M03004",name:'SpeTool 5Pcs CNC SC Spiral for Steel, Stainless Steel with TiAlN Coating 2-Flute 1/16" Dia x 1/8" Shank x 3/16" Cutting Length x 1-1/2" Long Ball Nose Up Cut End Mills (M03004)',store_url:"https://spetools.com/products/spetool-m03004-stainless-steel-up-cut-end-mill-ball-nose-2-flute-1-16-dia-1-8-shank",diameter:.0625,units:"in",quantity:1,source:"spetool",group_name:"Ballnose",technology_id:300020,flutes:2},{store_id:"W04004",name:'SpeTool SC Spiral Plunge 1/4" Dia x 1/4" Shank x 1" Cutting Length x 2-1/2" Long 2 Flute Down-Cut Router Bit (W04004)',store_url:"https://spetools.com/products/spetool-w04004-downcut-router-bit-1-4-cd-1-4-sd-1-cl",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300021,flutes:2},{store_id:"M04001",name:'SpeTool CNC SC Spiral for Steel, Stainless Steel with TiAlN Coating 2-Flute 3/8" Dia x 3/8" Shank x 1-1/8" Cutting Length x 3" Long Ball Nose Up Cut End Mill (M04001)',store_url:"https://spetools.com/products/spetool-m04001-stainless-steel-up-cut-end-mill-ball-nose-14412-2-flute-3-8-dia-3-8-shank-3-inch-long",diameter:.375,units:"in",quantity:1,source:"spetool",group_name:"Ballnose",technology_id:300022,flutes:2},{store_id:"W04011",name:'SpeTool SC Spiral Plunge 1/2" Dia x 1/2" Shank x 2" Cutting Length 4" Extra Long 2 Flute Down-Cut Router Bit (W04011)',store_url:"https://spetools.com/products/spiral-router-bits-down-cut-1-2-inch-cutting-diameter-1-2-inch-shank-extra-long",diameter:.5,units:"in",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300023,flutes:2},{store_id:"A03003",name:'SpeTool 5Pcs CNC SC Spiral Aluminum Cutting 1/16" Dia x 3/16" Cutting Length x 1/8" Shank x 1-1/2" Long 3 Flute Up Cut Router Bits (A03003)',store_url:"https://spetools.com/products/spetool-a03003-carbide-aluminum-up-cut-end-mill-router-bits-3-flute-1-16-dia-1-8-shank",diameter:.0625,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300024,flutes:3},{store_id:"A01001",name:'SpeTool CNC SC Spiral Aluminum Cutting 1/2" Dia x 2" Cutting Length x 1/2" Shank x 4" Extra Long 3 Flute Up Cut Router Bit (A01001)',store_url:"https://spetools.com/products/spetool-a01001-carbide-aluminum-up-cut-end-mill-router-bits-3-flute-1-2-dia-1-2-shank-4-inch-extra-long",diameter:.5,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300025,flutes:3},{store_id:"W04002",name:'SpeTool SC Spiral Plunge 1/2" Dia x 1/2" Shank x 1-1/4" Cutting Length x 3" Long 2 Flute Down-Cut Router Bit (W04002)',store_url:"https://spetools.com/products/spiral-router-bits-down-cut-1-2-inch-cutting-diameter-1-2-inch-shank",diameter:.5,units:"in",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300026,flutes:2},{store_id:"W02003",name:'SpeTool SC Compression Spiral 1/4" Dia x 1/4" Shank x 1" Cutting Length x 2-1/2" Long 2 Flute Router Bit (W02003)',store_url:"https://spetools.com/products/spiral-router-bits-compression-cut-1-4-inch-cutting-diameter-1-4-inch-shank",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Compression",technology_id:300027,flutes:2},{store_id:"W03004",name:'SpeTool SC Spiral O Flute 1/4" Dia x 1/4" Shank x 1/2" Cutting Length x 2" Long Up-cut Router Bit (W03004)',store_url:"https://spetools.com/products/spetool-w03004-o-flute-up-cut-router-bit-1-4-dia-1-4-shank-2-long",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300028,flutes:1},{store_id:"W03002",name:'SpeTool SC Spiral O Flute 1/8" Dia x 1/4" Shank x 3/4" Cutting Length x 2-1/2" Long Up-cut Router Bit (W03002)',store_url:"https://spetools.com/products/spetool-w03002-o-flute-up-cut-router-bit-1-8-dia-1-4-shank",diameter:.125,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300030,flutes:1},{store_id:"A04001",name:'SpeTool CNC SC Spiral Aluminum Cutting 3/8" Dia x 1-1/2" Cutting Length x 3/8" Shank x 3-1/2" Extra Long 3 Flute Up Cut Router Bit (A04001)',store_url:"https://spetools.com/products/spetool-a04001-carbide-aluminum-up-cut-end-mill-router-bits-3-flute-3-8-dia-3-8-shank-3-5-inch-long",diameter:.375,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300032,flutes:3},{store_id:"W03005",name:'SpeTool SC Spiral O Flute 1/8" Dia x 1/4" Shank x 1/2" Cutting Length x 2" Long Up-cut Router Bit (W03005)',store_url:"https://spetools.com/products/spetool-w03005-o-flute-up-cut-router-bit-1-8-dia-1-4-shank-2-extra-long",diameter:.125,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300033,flutes:1},{store_id:"W04018",name:'SpeTool SC Spiral Plunge 1/8" Dia x 1/4" Shank x 1" Cutting Length 3" Extra Long 2 Flute Down-Cut Router Bit (W04018)',store_url:"https://spetools.com/products/spetool-downcut-solid-carbide-1-8-cd-1-4-sd-3-inch-long-router-bit",diameter:.125,units:"in",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300034,flutes:2},{store_id:"W06006",name:'SpeTool Solid Carbide V Groove 60 Deg 1/4" Dia x 1/4" Shank x 2" Long 4 Flute TiAlN Coated Router Bit (W06006)',store_url:"https://spetools.com/products/spetool-w06006-v-groove-chamfer-router-bit-1-4-dia-1-4-shank-60-deg",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"V",technology_id:300035,flutes:4,tip_angle:60},{store_id:"A03004",name:'SpeTool 5Pcs CNC SC Spiral Aluminum Cutting 1/8" Dia x 7/16" Cutting Length x 1/8" Shank x 1-1/2" Long 3 Flute Up Cut Router Bits (A03004)',store_url:"https://spetools.com/products/spetool-a03004-carbide-aluminum-up-cut-end-mill-router-bits-3-flute-1-8-dia-1-8-shank",diameter:.125,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300038,flutes:3},{store_id:"W05001",name:'SpeTool Insert Mini Surfacing & Rabbeting Flycutter 2+2 Flute Design 1" Diameter x 1/4" Shank Router Bit (W05001)',store_url:"https://spetools.com/products/spetool-w05001-spoilboard-surfacing-router-bit-2-2-flute-1-inch-dia-1-4-shank",diameter:1,units:"in",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300040,flutes:2},{store_id:"W04017",name:'SpeTool SC Spiral Plunge 1/8" Dia x 1/4" Shank x 1" Cutting Length 3" Extra Long 2 Flute Up-Cut Router Bit (W04017)',store_url:"https://spetools.com/products/spiral-router-bits-up-cut-1-8-inch-cutting-diameter-1-4-inch-shank-1",diameter:.125,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300041,flutes:2},{store_id:"W02004",name:'SpeTool SC Compression Spiral 1/8" Dia x 1/4" Shank x 3/4" Cutting Length x 2-1/2" Long 2 Flute Router Bit (W02004)',store_url:"https://spetools.com/products/spiral-router-bits-compression-cut-1-8-inch-cutting-diameter-1-4-inch-shank",diameter:.125,units:"in",quantity:1,source:"spetool",group_name:"Compression",technology_id:300043,flutes:2},{store_id:"W04001",name:'SpeTool SC Spiral Plunge 3/8" Dia x 1/2" Shank x 1-1/4" Cutting Length x 3" Long 2 Flute Up-Cut Router Bit (W04001)',store_url:"https://spetools.com/products/spetool-w04001-spiral-up-cut-router-bit-3-8-dia-1-2-shank-3-extra-long",diameter:.375,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300045,flutes:2},{store_id:"W04015",name:'SpeTool SC Spiral Plunge 1/4" Dia x 1/4" Shank x 1" Cutting Length 3" Extra Long 2 Flute Down-Cut Router Bit (W04015)',store_url:"https://spetools.com/products/spiral-router-bits-down-cut-1-4-inch-cutting-diameter-1-4-inch-shank-1",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300046,flutes:2},{store_id:"M03011",name:'SpeTool 5Pcs CNC SC Spiral for Steel, Stainless Steel with TiAlN Coating 4-Flute 1/8" Dia x 1/8" Shank x 1/2" Cutting Length x 1-1/2" Long Flat Top Up Cut End Mills (M03011)',store_url:"https://spetools.com/products/spetool-m03011-stainless-steel-up-cut-end-mill-flat-top-4-flute-1-8-dia-1-8-shank",diameter:.125,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300047,flutes:4},{store_id:"W04008",name:'SpeTool SC Spiral Plunge 3/8" Dia x 1/2" Shank x 1-1/4" Cutting Length x 3" Long 2 Flute Down-Cut Router Bit (W04008)',store_url:"https://spetools.com/products/spiral-router-bits-down-cut-3-8-inch-cutting-diameter-1-2-inch-shank",diameter:.375,units:"in",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300049,flutes:2},{store_id:"W03003",name:'SpeTool SC Spiral O Flute 1/4" Dia x 1/4" Shank x 1-1/2" Cutting Length x 3" Extra Long Up-cut Router Bit (W03003)',store_url:"https://spetools.com/products/spetool-w03003-o-flute-up-cut-router-bit-1-4-dia-1-4-shank-3-extra-long",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300050,flutes:1},{store_id:"W02006",name:'SpeTool SC Compression Spiral 1/2" Dia x 1/2" Shank x 1-1/2" Cutting Length x 4" Extra Long 2 Flute Router Bit (W02006)',store_url:"https://spetools.com/products/spiral-router-bits-compression-cut-1-2-inch-cutting-diameter-1-2-inch-shank-extra-long",diameter:.5,units:"in",quantity:1,source:"spetool",group_name:"Compression",technology_id:300052,flutes:2},{store_id:"M03009",name:'SpeTool 5Pcs CNC SC Spiral for Steel, Stainless Steel with TiAlN Coating 4-Flute 1/16" Dia x 1/8" Shank x 3/16" Cutting Length x 1-1/2" Long Flat Top Up Cut End Mills (M03009)',store_url:"https://spetools.com/products/spetool-m03009-stainless-steel-up-cut-end-mill-flat-top-4-flute-1-16-dia-1-8-shank",diameter:.0625,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300053,flutes:4},{store_id:"M02001",name:'SpeTool CNC SC Spiral for Steel, Stainless Steel with TiAlN Coating 2-Flute 1/4" Dia x 1/4" Shank x 1-1/8" Cutting Length x 3" Long Ball Nose Up Cut End Mill (M02001)',store_url:"https://spetools.com/products/spetool-m02001-stainless-steel-up-cut-end-mill-ball-nose-2-flute-1-4-dia-1-4-shank-3-inch-long",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Ballnose",technology_id:300054,flutes:2},{store_id:"A03001",name:'SpeTool 5Pcs CNC SC Spiral Aluminum Cutting 1/16" Dia x 3/16" Cutting Length x 1/8" Shank x 1-1/2" Long 2 Flute Up Cut Router Bits (A03001)',store_url:"https://spetools.com/products/spetool-a03001-carbide-aluminum-up-cut-end-mill-router-bits-2-flute-1-16-dia-1-8-shank",diameter:.0625,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300055,flutes:2},{store_id:"W04016",name:'SpeTool SC Spiral Plunge 1/4" Dia x 1/4" Shank x 1" Cutting Length 3" Extra Long 2 Flute Up-Cut Router Bit (W04016)',store_url:"https://spetools.com/products/spiral-router-bits-up-cut-1-4-inch-cutting-diameter-1-4-inch-shank-1",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300057,flutes:2},{store_id:"W06007",name:'SpeTool Solid Carbide V Groove 90 Deg 1/4" Dia x 1/4" Shank x 2" Long 4 Flute TiAlN Coated Router Bit (W06007)',store_url:"https://spetools.com/products/spetool-w06007-v-groove-chamfer-router-bit-1-4-dia-1-4-shank-90-deg",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"V",technology_id:300058,flutes:4,tip_angle:90},{store_id:"A02001",name:'SpeTool CNC SC Spiral Aluminum Cutting 1/4" Dia x 3/4" Cutting Length x 1/4" Shank x 2-1/2" Long 2 Flute Up Cut Router Bit (A02001)',store_url:"https://spetools.com/products/spetool-a02001-carbide-aluminum-up-cut-end-mill-router-bits-2-flute-1-4-dia-1-4-shank",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300059,flutes:2},{store_id:"W04003",name:'SpeTool SC Spiral Plunge 1/2" Dia x 1/2" Shank x 1-1/4" Cutting Length x 3" Long 2 Flute Up-Cut Router Bit (W04003)',store_url:"https://spetools.com/products/spiral-router-bits-up-cut-1-2-inch-cutting-diameter-1-2-inch-shank",diameter:.5,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300060,flutes:2},{store_id:"W05003",name:'SpeTool CNC Spoilboard Insert Carbide 4 Wing, Surfacing, Planing, Flycutting & Slab Leveler 2-1/2" Diameter x 1/2" Shank Router Bit (W05003)',store_url:"https://spetools.com/products/spetool-w05003-spoilboard-surfacing-router-bit-4-flute-2-1-2-inch-dia-1-2-shank",diameter:2.5,units:"in",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300062,flutes:4},{store_id:"A02009",name:'SpeTool CNC SC Spiral Aluminum Cutting 1/4" Dia x 1" Cutting Length x 1/4" Shank x 4" Extra Long 3 Flute Up Cut Router Bit (A02009)',store_url:"https://spetools.com/products/spetool-a02009-carbide-aluminum-up-cut-end-mill-router-bits-3-flute-1-4-dia-1-4-shank-4-inch-long",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300064,flutes:3},{store_id:"W03001",name:'SpeTool SC Spiral O Flute 1/4" Dia x 1/4" Shank x 1" Cutting Length x 2-1/2" Long Up-cut Router Bit (W03001)',store_url:"https://spetools.com/products/spetool-w03001-o-flute-up-cut-router-bit-1-4-dia-1-4-shank",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300065,flutes:1},{store_id:"A02005",name:'SpeTool CNC SC Spiral Aluminum Cutting 1/4" Dia x 1-1/2" Cutting Length x 1/4" Shank x 3-1/2" Extra Long 3 Flute Up Cut Router Bit (A02005)',store_url:"https://spetools.com/products/spetool-a02005-carbide-aluminum-up-cut-end-mill-router-bits-3-flute-1-4-dia-1-4-shank-3-5-inch-long",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300067,flutes:3},{store_id:"W04013",name:'SpeTool SC Spiral Plunge 1/4" Dia x 1/4" Shank x 1-1/4" Cutting Length 3" Extra Long 2 Flute Down-Cut Router Bit (W04013)',store_url:"https://spetools.com/products/spiral-router-bits-down-cut-1-4-inch-cutting-diameter-1-4-inch-shank-extra-long",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300068,flutes:2},{store_id:"W06001",name:'SpeTool Carbide Tipped V Groove 60 Deg 1/2" Dia x1/4" Shank x 2" Long Router Bit (W06001)',store_url:"https://spetools.com/products/spetool-w06001-v-grove-router-bit-1-2-dia-1-4-shank-60-deg",diameter:.5,units:"in",quantity:1,source:"spetool",group_name:"V",technology_id:300069,flutes:2,tip_angle:60},{store_id:"W04014",name:'SpeTool SC Spiral Plunge 1/4" Dia x 1/4" Shank x 1-1/4" Cutting Length 3" Extra Long 2 Flute Up-Cut Router Bit (W04014)',store_url:"https://spetools.com/products/spiral-router-bits-up-cut-1-4-inch-cutting-diameter-1-4-inch-shank-extra-long",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300071,flutes:2},{store_id:"A03002",name:'SpeTool 5Pcs CNC SC Spiral Aluminum Cutting 1/8" Dia x 7/16" Cutting Length x 1/8" Shank x 1-1/2" Long 2 Flute Up Cut Router Bits (A03002)',store_url:"https://spetools.com/products/spetool-a03002-carbide-aluminum-up-cut-end-mill-router-bits-2-flute-1-8-dia-1-8-shank",diameter:.125,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300072,flutes:2},{store_id:"W04024",name:'SpeTool SC Spiral Plunge 1/16" Dia x 1/4" Shank x 1/2" Cutting Length 2" Long 2 Flute Down-Cut Router Bit (W04024)',store_url:"https://spetools.com/products/spetool-w04024-spiral-down-cut-router-bit-1-16-dia-1-4-shank-2-long",diameter:.0625,units:"in",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300073,flutes:2},{store_id:"M03005",name:'SpeTool 5Pcs CNC SC Spiral for Steel, Stainless Steel Metal with TiAlN Coating 2-Flute 1/32" Dia x 1/8" Shank x 5/64" Cutting Length x 1-1/2" Long Ball Nose Up Cut End Mills (M03005)',store_url:"https://spetools.com/products/spetool-m03005-stainless-steel-up-cut-end-mill-ball-nose-2-flute-1-32-dia-1-8-shank",diameter:.03125,units:"in",quantity:1,source:"spetool",group_name:"Ballnose",technology_id:300074,flutes:2},{store_id:"W04010",name:'SpeTool SC Spiral Plunge 3/8" Dia x 1/2" Shank x 1-3/4" Cutting Length 4" Extra Long 2 Flute Up-Cut Router Bit (W04010)',store_url:"https://spetools.com/products/spiral-router-bits-up-cut-3-8-inch-cutting-diameter-1-2-inch-shank-extra-long",diameter:.375,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300076,flutes:2},{store_id:"M02005",name:'SpeTool CNC SC Spiral for Steel, Stainless Steel Metal with TiAlN Coating 4-Flute 1/4" Dia x 1/4" Shank x 1-1/8" Cutting Length x 3" Long Ball Nose Up Cut End Mill (M02005)',store_url:"https://spetools.com/products/spetool-m02005-stainless-steel-up-cut-end-mill-ball-nose-4-flute-1-4-dia-1-4-shank-3-inch-long",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Ballnose",technology_id:300077,flutes:4},{store_id:"M03001",name:'SpeTool 5Pcs CNC SC Spiral for Steel, Stainless Steel with TiAlN Coating 2-Flute 1/8" Dia x 1/8" Shank x 1/2" Cutting Length x 1-1/2" Long Ball Nose Up Cut End Mills (M03001)',store_url:"https://spetools.com/products/spetool-m03001-stainless-steel-up-cut-end-mill-ball-nose-2-flute-1-8-dia-1-8-shank",diameter:.125,units:"in",quantity:1,source:"spetool",group_name:"Ballnose",technology_id:300078,flutes:2},{store_id:"W04009",name:'SpeTool SC Spiral Plunge 3/8" Dia x 1/2" Shank x 1-3/4" Cutting Length 4" Extra Long 2 Flute Down-Cut Router Bit (W04009)',store_url:"https://spetools.com/products/spiral-router-down-up-cut-3-8-inch-cutting-diameter-1-2-inch-shank-extra-long",diameter:.375,units:"in",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300079,flutes:2},{store_id:"M02003",name:'SpeTool 5Pcs CNC SC Spiral for Steel, Stainless Steel with TiAlN Coating 2-Flute 1/4" Dia x 1/4" Shank x 3/4" Cutting Length x 2-1/2" Long Flat Top Up Cut End Mills (M02003)',store_url:"https://spetools.com/products/spetool-m02003-stainless-steel-up-cut-end-mill-flat-top-2-flute-1-4-dia-1-4-shank",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300080,flutes:2},{store_id:"M03008",name:'SpeTool 5Pcs CNC SC Spiral for Steel, Stainless Steel with TiAlN Coating 2-Flute 1/8" Dia x 1/8" Shank x 1/2" Cutting Length x 1-1/2" Long Flat Top Up Cut End Mills (M03008)',store_url:"https://spetools.com/products/spetool-m03008-stainless-steel-up-cut-end-mill-flat-top-2-flute-1-8-dia-1-8-shank",diameter:.125,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300081,flutes:2},{store_id:"W04023",name:'SpeTool SC Spiral Plunge 1/16" Dia x 1/4" Shank x 1/2" Cutting Length 2" Long 2 Flute Up-Cut Router Bit (W04023)',store_url:"https://spetools.com/products/spetool-w04023-spiral-up-cut-router-bit-1-16-dia-1-4-shank-2-long",diameter:.0625,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300083,flutes:2},{store_id:"M02006",name:'SpeTool 5Pcs CNC SC Spiral for Steel, Stainless Steel Metal with TiAlN Coating 4-Flute 1/4" Dia x 1/4" Shank x 3/4" Cutting Length x 2-1/2" Long Flat Top Up Cut End Mills (M02006)',store_url:"https://spetools.com/products/spetool-m02006-stainless-steel-up-cut-end-mill-flat-top-4-flute-1-4-dia-1-4-shank",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300086,flutes:4},{store_id:"W04006",name:'SpeTool SC Spiral Plunge 1/8" Dia x 1/4" Shank x 1/2" Cutting Length x 2" Long 2 Flute Down-Cut Router Bit (W04006)',store_url:"https://spetools.com/products/spiral-router-bits-down-cut-1-8-inch-cutting-diameter-1-4-inch-shank",diameter:.125,units:"in",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300088,flutes:2},{store_id:"M03003",name:'SpeTool 5Pcs CNC SC Spiral for Steel, Stainless Steel with TiAlN Coating 4-Flute 1/8" Dia x 1/8" Shank x 1/2" Cutting Length x 1-1/2" Long Ball Nose Up Cut End Mills (M03003)',store_url:"https://spetools.com/products/spetool-m03003-5pcs-carbide-ball-nose-1-8-upcut-end-mill",diameter:.125,units:"in",quantity:1,source:"spetool",group_name:"Ballnose",technology_id:300089,flutes:4},{store_id:"W02008",name:'SpeTool 5Pcs SC Compression Spiral 1/8" Dia x 1/8" Shank x 1" Cutting Length x 2" Long 2 Flute Router Bits (W02008)',store_url:"https://spetools.com/products/spetool-w02008-spiral-compression-router-bits-1-8-inch-dia-1-8-shank-2-long",diameter:.125,units:"in",quantity:1,source:"spetool",group_name:"Compression",technology_id:300090,flutes:2},{store_id:"W02010",name:'SpeTool SC SC Compression Spiral 1/10 " UP Cut 1/4" Dia x 1/4" Shank x 1" Cutting Length x 2-1/2" Long 2 Flute Router Bit (W02010)',store_url:"https://spetools.com/products/spetool-w02010-spiral-compression-router-bits-1-4-inch-dia-1-4-shank-1-10-upcut-length",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Compression",technology_id:300092,flutes:2},{store_id:"W05004",name:'SpeTool Insert Mini Surfacing & Rabbeting Flycutter 2+2 Flute Design 1-1/4" Diameter x 1/4" Shank Router Bit (W05004)',store_url:"https://spetools.com/products/spetool-w05004-spoilboard-surfacing-router-bit-2-2-flute-1-1-4-inch-dia-1-4-shank",diameter:1.25,units:"in",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300093,flutes:2},{store_id:"W03006",name:'SpeTool SC Spiral O Flute 1/4" Dia x 1/4" Shank x 1" Cutting x 3" Extra Long Up-cut Router Bit (W03006)',store_url:"https://spetools.com/products/spetool-w03006-o-flute-up-cut-router-bit-1-4-dia-1-4-shank-3-extra-long",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300094,flutes:1},{store_id:"W06014",name:'SpeTool Carbide Tipped V Groove 45 Deg 1/2" Dia x1/4" Shank x 2-1/4" Long Router Bit (W06014)',store_url:"https://spetools.com/products/spetool-w06014-carbide-tipped-v-groove-45-deg-1-2-dia-router-bit",diameter:.5,units:"in",quantity:1,source:"spetool",group_name:"V",technology_id:300103,flutes:2,tip_angle:45},{store_id:"W05010",name:'SpeTool Insert Surfacing & Rabbeting Flycutter 2+2 Flute Design 3" Diameter x 1/2" Shank Router Bit (W05010)',store_url:"https://spetools.com/products/spetool-w05010-spoilboard-surfacing-router-bit-2-2-flute-3-inch-dia-1-2-shank",diameter:3,units:"in",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300107,flutes:2},{store_id:"W05011",name:'SpeTool CNC Insert Mini Spoilboard Surfacing, Rabbeting, Flycutter, Slab Leveler & Surface Planer 1" Diameter x 1/4" Shank Router Bit x 2-1/4" Long (W05011)',store_url:"https://spetools.com/products/spetool-w05011-cnc-insert-spoilboard-surfacing-planer-1-diameter-router-bit",diameter:1,units:"in",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300108,flutes:2},{store_id:"W04029",name:'SpeTool SC Spiral Plunge 1/16" Dia x 1/4" Shank x 1/4" Cutting Length 2" Long 2 Flute Up-Cut Router Bit (W04029)',store_url:"https://spetools.com/products/spetool-w04029-spiral-up-cut-mini-router-bit-1-16-dia-1-4-shank-2-long",diameter:.0625,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300110,flutes:2},{store_id:"W04030",name:'SpeTool SC Spiral Plunge 1/16" Dia x 1/4" Shank x 1/4" Cutting Length 2" Long 2 Flute Down-Cut Router Bit (W04030)',store_url:"https://spetools.com/products/spetool-w04030-spiral-down-cut-small-router-bit-1-16-dia-1-4-shank-2-long",diameter:.0625,units:"in",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300111,flutes:2},{store_id:"W04031",name:'SpeTool SC Spiral Plunge 1/8" Dia x 1/8" Shank x 3/4" Cutting Length x 1-1/2" Long 2 Flute Up-Cut Router Bit (W04031)',store_url:"https://spetools.com/products/spetool-w04031-spiral-up-cut-router-bit-1-8-dia-1-8-shank",diameter:.125,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300112,flutes:2},{store_id:"W04032",name:'SpeTool SC Spiral Plunge 3/16" Dia x 1/4" Shank x 1" Cutting Length x 2-1/2" Long 2 Flute Up-Cut Router Bit (W04032)',store_url:"https://spetools.com/products/spetool-w04032-3-16-dia-1-4-shank-up-cut-router-bit",diameter:.1875,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300113,flutes:2},{store_id:"W04033",name:'SpeTool SC Spiral Plunge 3/8" Dia x 3/8" Shank x 1-1/4" Cutting Length 3" Long 2 Flute Up-Cut Router Bit (W04033)',store_url:"https://spetools.com/products/spetool-w04033-sc-spiral-plunge-3-8-3-long-2-flute-up-cut-router-bit",diameter:.375,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300114,flutes:2},{store_id:"W04034",name:'SpeTool SC Spiral Plunge 3/8" Dia x 3/8" Shank x 1-1/4" Cutting Length x 3" Long 2 Flute Down-Cut Router Bit (W04034)',store_url:"https://spetools.com/products/spetool-w04034-sc-spiral-plunge-3-8-shank-3-long-2-flute-down-cut-router-bit",diameter:.375,units:"in",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300115,flutes:2},{store_id:"W02011",name:'SpeTool Compression Spiral 1/4" Dia x 1/4" Shank x 1-1/4" Cutting Length x 3" Extra Long 2 Flute Router Bit (W02011)',store_url:"https://spetools.com/products/spetool-w02011-spiral-compression-router-bits-1-4-inch-dia-1-4-shank-3-extra-long",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"Compression",technology_id:300116,flutes:2},{store_id:"W02012",name:'SpeTool Compression Spiral 1/2" Dia x 1/2" Shank x 3" Cutting Length x 5" Extra Long 2 Flute Router Bit (W02012)',store_url:"https://spetools.com/products/w02012-1-2-dia-5-inches-compression-extra-long-router-bits",diameter:.5,units:"in",quantity:1,source:"spetool",group_name:"Compression",technology_id:300117,flutes:2},{store_id:"W02013",name:'SpeTool SC Compression Spiral 3/8" Dia x 3/8" Shank x 1-1/4" Cutting Length x 3" Long 2 Flute Router Bit (W02013)',store_url:"https://spetools.com/products/spetool-w02013-sc-compression-spiral-3-8-router-bit",diameter:.375,units:"in",quantity:1,source:"spetool",group_name:"Compression",technology_id:300118,flutes:2},{store_id:"W03012",name:'SpeTool SC Spiral O Flute 1/16" Dia x 1/4" Shank x 3/8" Cutting Length x 1-1/2" Long Up-cut Router Bit (W03012)',store_url:"https://spetools.com/products/spetool-w03012-o-flute-1-16-dia-1-4-shank-router-bit",diameter:.0625,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300120,flutes:1},{store_id:"W02014",name:'SpeTool SC Compression Spiral 3/16" Dia x 1/4" Shank x 1" Cutting Length x 2-1/2" Long 2 Flute Router Bit (W02014)',store_url:"https://spetools.com/products/spetool-w02014-sc-compression-spiral-3-16-dia-1-4-shank-1-cutting-length-router-bit",diameter:.1875,units:"in",quantity:1,source:"spetool",group_name:"Compression",technology_id:300121,flutes:2},{store_id:"W04035",name:'SpeTool SC Spiral Plunge 3/16" Dia x 1/4" Shank x 1" Cutting Length x 2-1/2" Long 2 Flute Down-Cut Router Bit (W04035)',store_url:"https://spetools.com/products/spetool-w04035-sc-spiral-plunge-3-16-dia-1-4-shank-down-cut-router-bit",diameter:.1875,units:"in",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300122,flutes:2},{store_id:"W04036",name:'SpeTool SC Spiral Plunge 1/32" Dia x 1/4" Shank x 1/8" Cutting Length 2" Long 2 Flute Down-Cut Router Bit (W04036)',store_url:"https://spetools.com/products/spetool-w04036-sc-spiral-1-32-dia-1-4-shank-down-cut-router-bit",diameter:.03125,units:"in",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300123,flutes:2},{store_id:"W04037",name:'SpeTool SC Spiral Plunge 1/32" Dia x 1/4" Shank x 1/8" Cutting Length 2" Long 2 Flute Up-Cut Router Bit (W04037)',store_url:"https://spetools.com/products/spetool-w04037-sc-spiral-1-32-dia-1-4-shank-2-flute-up-cut-router-bit",diameter:.03125,units:"in",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300124,flutes:2},{store_id:"W04038",name:'SpeTool SC Spiral Plunge 1/8" Dia x 1/8" Shank x 3/4" Cutting Length x 1-1/2" Long 2 Flute Down-Cut Router Bit (W04038)',store_url:"https://spetools.com/products/spetool-w04038-1-8-dia-1-8-shank-down-cut-router-bit",diameter:.125,units:"in",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300125,flutes:2},{store_id:"W06017",name:'SpeTool Solid Carbide V Groove 45 Deg 1/4" Dia x 1/4" Shank x 2" Long 4 Flute TiAlN Coated Router Bit (W06017)',store_url:"https://spetools.com/products/spetool-w06017-solid-carbide-v-groove-45-deg-1-4-shank-4-flute-tialn-coated-router-bit",diameter:.25,units:"in",quantity:1,source:"spetool",group_name:"V",technology_id:300127,flutes:4,tip_angle:45},{store_id:"SP2FC-D4-L22",name:"SpeTool SC COMPRESSION 2 FL 4MM DIA x 22MM CL x 4MM SHANK x 50MM OVL ROUTER BIT (SP2FC-D4-L22)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-compression-2-fl-4mm-dia-x-22mm-cl-x-4mm-shank-x-50mm-ovl-router-bit",diameter:4,units:"mm",quantity:1,source:"spetool",group_name:"Compression",technology_id:300129,flutes:2},{store_id:"SP2FC-D4-L25",name:"SpeTool SC COMPRESSION 2 FL 4MM DIA x 25MM CL x 4MM SHANK x 50MM OVL ROUTER BIT (SP2FC-D4-L25)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-compression-2-fl-4mm-dia-x-25mm-cl-x-4mm-shank-x-50mm-ovl-router-bit",diameter:4,units:"mm",quantity:1,source:"spetool",group_name:"Compression",technology_id:300130,flutes:2},{store_id:"SP-D4-L22-U",name:"SpeTool SC Spiral Plunge 4mm Dia x 4mm Shank x 22mm Cutting Length x 50mm Long 2 Flute Up-Cut Router Bit (SP-D4-L22-U)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-spiral-plunge-4mm-dia-x-4mm-shank-x-22mm-cutting-length-x-50mm-long-2-flute-up-cut-router-bit",diameter:4,units:"mm",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300131,flutes:2},{store_id:"SP-D4-L22-D",name:"SpeTool SC Spiral Plunge 4mm Dia x 4mm Shank x 22mm Cutting Length x 50mm Long 2 Flute Down-Cut Router Bit (SP-D4-L22-D)",store_url:"https://spetools.com/en-eu/products/spetool-uk-sc-spiral-plunge-4mm-dia-x-4mm-shank-x-22mm-cutting-length-x-50mm-long-2-flute-down-cut-router-bit",diameter:4,units:"mm",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300132,flutes:2},{store_id:"SP2FC-D6-L22",name:"SpeTool SC COMPRESSION 2 FL 6MM DIA x 22MM CL x 6MM SHANK x 50MM OVL ROUTER BIT (SP2FC-D6-L22)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-compression-2-fl-6mm-dia-x-22mm-cl-x-6mm-shank-x-50mm-ovl-router-bit",diameter:6,units:"mm",quantity:1,source:"spetool",group_name:"Compression",technology_id:300133,flutes:2},{store_id:"SP2FC-D6-L32",name:"SpeTool SC COMPRESSION 2 FL 6MM DIA x 32MM CL x 6MM SHANK x 75MM OVL ROUTER BIT (SP2FC-D6-L32)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-compression-2-fl-6mm-dia-x-32mm-cl-x-6mm-shank-x-75mm-ovl-router-bit",diameter:6,units:"mm",quantity:1,source:"spetool",group_name:"Compression",technology_id:300134,flutes:2},{store_id:"SP-D6-H6-D",name:"SpeTool SC DOWN CUT 2 FL 6MM DIA x 24MM CL x 6MM SHANK x 60MM OVL ROUTER BIT (SP-D6-H6-D)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-down-cut-2-fl-6mm-dia-x-24mm-cl-x-6mm-shank-x-60mm-ovl-router-bit",diameter:6,units:"mm",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300135,flutes:2},{store_id:"SP-D6-H6-U",name:"SpeTool SC UP CUT 2 FL 6MM DIA x 24MM CL x 6MM SHANK x 60MM OVL ROUTER BIT (SP-D6-H6-U)",store_url:"https://spetools.com/en-eu/products/de-spetool-upcut-cnc-spiralfraser-6-mm-schnittdurchmesser",diameter:6,units:"mm",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300136,flutes:2},{store_id:"WU3C-D6-L32",name:"SpeTool SC UP CUT 3 FL 6MM DIA x 32MM CL x 6MM SHANK x 75MM OVL ROUGHING CUTTER (WU3C-D6-L32)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-up-cut-3-fl-6mm-dia-x-32mm-cl-x-6mm-shank-x-75mm-ovl-roughing-cutter",diameter:6,units:"mm",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300137,flutes:2},{store_id:"SP2FC-d6-D8-L24",name:"SpeTool SC COMPRESSION 2 FL 6MM DIA x 24MM CL x 8MM SHANK x 75MM OVL ROUTER BIT (SP2FC-d6-D8-L24)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-compression-2-fl-6mm-dia-x-24mm-cl-x-8mm-shank-x-75mm-ovl-router-bit",diameter:6,units:"mm",quantity:1,source:"spetool",group_name:"Compression",technology_id:300138,flutes:2},{store_id:"SP2FC-d4-D8-L20",name:"SpeTool SC COMPRESSION 2 FL 4MM DIA x 20MM CL x 8MM SHANK x 75MM OVL ROUTER BIT (SP2FC-d4-D8-L20)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-compression-2-fl-4mm-dia-x-20mm-cl-x-8mm-shank-x-75mm-ovl-router-bit",diameter:4,units:"mm",quantity:1,source:"spetool",group_name:"Compression",technology_id:300139,flutes:2},{store_id:"SP-d4-D8-L20-D",name:"SpeTool SC DOWN CUT 2 FL 4MM DIA x 20MM CL x 8MM SHANK x 75MM OVL ROUTER BIT (SP-d4-D8-L20-D)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-down-cut-2-fl-4mm-dia-x-20mm-cl-x-8mm-shank-x-75mm-ovl-router-bit",diameter:4,units:"mm",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300140,flutes:2},{store_id:"SP-d4-D8-L20-U",name:"SpeTool SC UP CUT 2 FL 4MM DIA x 20MM CL x 8MM SHANK x 75MM OVL ROUTER BIT (SP-d4-D8-L20-U)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-up-cut-2-fl-4mm-dia-x-20mm-cl-x-8mm-shank-x-75mm-ovl-router-bit",diameter:4,units:"mm",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300141,flutes:2},{store_id:"SP-d6-D8-L24-D",name:"SpeTool SC DOWN CUT 2 FL 6MM DIA x 24MM CL x 8MM SHANK x 75MM OVL ROUTER BIT (SP-d6-D8-L24-D)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-down-cut-2-fl-6mm-dia-x-24mm-cl-x-8mm-shank-x-75mm-ovl-router-bit",diameter:6,units:"mm",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300142,flutes:2},{store_id:"SP-d6-D8-L24-U",name:"SpeTool SC UP CUT 2 FL 6MM DIA x 24MM CL x 8MM SHANK x 75MM OVL ROUTER BIT (SP-d6-D8-L24-U)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-up-cut-2-fl-6mm-dia-x-24mm-cl-x-8mm-shank-x-75mm-ovl-router-bit",diameter:6,units:"mm",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300143,flutes:2},{store_id:"SP-D8-H8-D",name:"SpeTool SC DOWN CUT 2 FL 8MM DIA x 32MM CL x 8MM SHANK x 75MM OVL ROUTER BIT (SP-D8-H8-D)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-down-cut-2-fl-8mm-dia-x-32mm-cl-x-8mm-shank-x-75mm-ovl-router-bit",diameter:8,units:"mm",quantity:1,source:"spetool",group_name:"Downcut",technology_id:300144,flutes:2},{store_id:"SP-D8-H8-U",name:"SpeTool SC UP CUT 2 FL 8MM DIA x 32MM CL x 8MM SHANK x 75MM OVL ROUTER BIT (SP-D8-H8-U)",store_url:"https://spetools.com/en-eu/products/de-spetool-upcut-8-mm-schnittdurchmesser-router-bit",diameter:8,units:"mm",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300145,flutes:2},{store_id:"WU3C-D8-L32",name:"SpeTool SC UP CUT 3 FL 8MM DIA x 32MM CL x 8MM SHANK x 75MM OVL ROUGHING CUTTER (WU3C-D8-L32)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-up-cut-3-fl-8mm-dia-x-32mm-cl-x-8mm-shank-x-75mm-ovl-roughing-cutter",diameter:8,units:"mm",quantity:1,source:"spetool",group_name:"Upcut",technology_id:300146,flutes:2},{store_id:"SP2FC-D8-L32",name:"SpeTool SC COMPRESSION 2 FL 8MM DIA x 32MM CL x 8MM SHANK x 75MM OVL ROUTER BIT (SP2FC-D8-L32)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-compression-2-fl-8mm-dia-x-32mm-cl-x-8mm-shank-x-75mm-ovl-router-bit",diameter:8,units:"mm",quantity:1,source:"spetool",group_name:"Compression",technology_id:300147,flutes:2},{store_id:"SP2FC-D8-L45",name:"SpeTool SC COMPRESSION 2 FL 8MM DIA x 45MM CL x 8MM SHANK x 100MM OVL ROUTER BIT (SP2FC-D8-L45)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-compression-2-fl-8mm-dia-x-45mm-cl-x-8mm-shank-x-100mm-ovl-router-bit",diameter:8,units:"mm",quantity:1,source:"spetool",group_name:"Compression",technology_id:300148,flutes:2},{store_id:"SP1F-D3.1-L15",name:"SpeTool SC O FLUTE 3.175MM DIA x 15MM CL x 3.175MM SHANK x 38.1MM OVL ROUTER BIT (SP1F-D3.1-L15)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-o-flute-3-175mm-dia-x-15mm-cl-x-3-175mm-shank-x-38-1mm-ovl-router-bit",diameter:3.175,units:"mm",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300149,flutes:1},{store_id:"SP1F-D3.1-L12",name:"SpeTool SC O FLUTE 3.175MM DIA x 12MM CL x 3.175MM SHANK x 38.1MM OVL ROUTER BITSP1F-D3.1-L12 (SP1F-D3.1-L12)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-o-flute-3-175mm-dia-x-12mm-cl-x-8mm-shank-x-38-1mm-ovl-router-bit",diameter:3.175,units:"mm",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300150,flutes:1},{store_id:"SP1F-D6-L22",name:"SpeTool SC O Flute 6MM DIA x 22MM CL x 6MM SHK x 50MM OVL Router Bit (SP1F-D6-L22)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-o-flute-6mm-dia-x-22mm-cl-x-6mm-shank-x-50mm-ovl-router-bit",diameter:6,units:"mm",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300151,flutes:1},{store_id:"SP1F-D6-L32",name:"SpeTool SC O Flute 6MM DIA x 32MM CL x 6MM SHK x 75MM OVL Router Bit (SP1F-D6-L32)",store_url:"https://spetools.com/en-eu/products/de-spetool-single-flute-milling-cutter-6mm-32mm-75mm",diameter:6,units:"mm",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300152,flutes:1},{store_id:"SA1F-D6-L22",name:"SpeTool SC O FLUTE 6MM DIA x 22MM CL x 6MM SHANK x 50MM OVL ROUTER BIT FOR ALUMINUM (SA1F-D6-L22)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-o-flute-6mm-dia-x-22mm-cl-x-6mm-shank-x-50mm-ovl-router-bit-for-aluminum",diameter:6,units:"mm",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300153,flutes:1},{store_id:"SP1F-D8-L32",name:"SpeTool SC O Flute 8MM DIA x 32MM CL x 8MM SHANK x 75MM OVL ROUTER BIT (SP1F-D8-L32)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-o-flute-8mm-dia-x-32mm-cl-x-8mm-shank-x-75mm-ovl-router-bit",diameter:8,units:"mm",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300154,flutes:1},{store_id:"W05005",name:"SpeTool 3 FLUTES SPOILBOARD 35MM DIA x 8MM SHANK (W05005)",store_url:"https://spetools.com/en-eu/products/spetool-eu-spetool-w05005-3-flutes-spoilboard-35mm-dia-x-8mm-shank",diameter:35,units:"mm",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300155,flutes:3},{store_id:"W05007",name:"SpeTool 2+2 FLUTES SPOILBOARD 38.1MM DIA x 8MM SHANK (W05007)",store_url:"https://spetools.com/en-eu/products/spetool-eu-w05007-2-2-flutes-spoilboard-38-1mm-dia-x-8mm-shank",diameter:38.1,units:"mm",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300156,flutes:2},{store_id:"W05009",name:"SpeTool 4 FLUTES SPOILBOARD 40MM DIA x 8MM SHANK (W05009)",store_url:"https://spetools.com/en-eu/products/spetool-eu-w05009-4-flutes-spoilboard-40mm-dia-x-8mm-shank",diameter:40,units:"mm",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300157,flutes:4},{store_id:"IP2F-25-D8",name:"SpeTool 2 FLUTES SPOILBOARD 26MM DIA x 8MM SHANK (IP2F-25-D8)",store_url:"https://spetools.com/en-eu/products/spetool-eu-2-flutes-spoilboard-26mm-dia-x-8mm-shank",diameter:26,units:"mm",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300158,flutes:2},{store_id:"W05006",name:"SpeTool 3 FLUTES SPOILBOARD 60MM DIA x 12MM SHANK (W05006)",store_url:"https://spetools.com/en-eu/products/spetool-eu-w05006-ats-coated-carbide-insert-3-flutes-spoilboard-60mm-dia-x-12mm-shank",diameter:60,units:"mm",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300159,flutes:3},{store_id:"W05008",name:"SpeTool 2+2 FLUTES SPOILBOARD 45MM DIA x 12MM SHANK (W05008)",store_url:"https://spetools.com/en-eu/products/spetool-eu-w05008-2-2-flutes-spoilboard-45mm-dia-x-12mm-shank",diameter:45,units:"mm",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300160,flutes:2},{store_id:"IP4F-75-D12",name:"SpeTool 2+2 FLUTES SPOILBOARD 75MM DIA x 12MM SHANK (IP4F-75-D12)",store_url:"https://spetools.com/en-eu/products/spetool-eu-2-2-flutes-spoilboard-75mm-dia-x-12mm-shank",diameter:75,units:"mm",quantity:1,source:"spetool",group_name:"Straight cut",technology_id:300161,flutes:2},{store_id:"ECP3F-D4.0-R60",name:"SpeTool SC 3 FL 4MM DIA x 60 DEG x 4MM SHANK x 50MM OVL V BIT (ECP3F-D4.0-R60)",store_url:"https://spetools.com/en-eu/products/de-spetool-3-floten-v-nutfraser-4-mm-schaft-60-deg",diameter:4,units:"mm",quantity:1,source:"spetool",group_name:"V",technology_id:300163,flutes:3,tip_angle:60},{store_id:"ECP3F-D4.0-R90",name:"SpeTool 4MM SHANK x 90 Degree x 50MM OVL x 3 Flutes V Groove Router Bit (ECP3F-D4.0-R90)",store_url:"https://spetools.com/en-eu/products/spetool-3-floten-v-nutfraser-4-mm-schaft-90-grad",diameter:4,units:"mm",quantity:1,source:"spetool",group_name:"V",technology_id:300164,flutes:3,tip_angle:90},{store_id:"D12-D6-60",name:"SpeTool Carbide Tipped V Groove 60 Deg 12mm Dia x 6mm Shank x 51mm Long Router Bit (D12-D6-60)",store_url:"https://spetools.com/en-eu/products/spetool-eu-carbide-tipped-v-groove-60-deg-12mm-dia-x-6mm-shank-x-51mm-long-router-bit",diameter:12,units:"mm",quantity:1,source:"spetool",group_name:"V",technology_id:300165,flutes:2,tip_angle:60},{store_id:"D12-D6-90",name:"SpeTool Carbide Tipped V Groove 90 Deg 12mm Dia x 6mm Shank x 51mm Long Router Bit (D12-D6-90)",store_url:"https://spetools.com/en-eu/products/spetool-eu-carbide-tipped-v-groove-90-deg-12mm-dia-x-6mm-shank",diameter:12,units:"mm",quantity:1,source:"spetool",group_name:"V",technology_id:300166,flutes:2,tip_angle:90},{store_id:"ECP3F-D6.0-R60",name:"SpeTool SC 3 FL 6MM DIA x 60 DEG x 6MM SHANK x 50MM OVL V BIT (ECP3F-D6.0-R60)",store_url:"https://spetools.com/en-eu/products/spetool-3-floten-v-nutfraser-6-mm-schaft-60-grad",diameter:6,units:"mm",quantity:1,source:"spetool",group_name:"V",technology_id:300167,flutes:3,tip_angle:60},{store_id:"ECP3F-D6.0-R90",name:"SpeTool SC 3 FL 6MM DIA x 90 DEG x 6MM SHANK x 50MM OVL V BIT (ECP3F-D6.0-R90)",store_url:"https://spetools.com/en-eu/products/spetool-eu-sc-3-fl-6mm-dia-x-90-deg-x-6mm-shank-x-50mm-ovl-v-bit",diameter:6,units:"mm",quantity:1,source:"spetool",group_name:"V",technology_id:300168,flutes:3,tip_angle:90},{store_id:"D12-D8-60",name:"SpeTool Carbide Tipped V Groove 60 Deg 12mm Dia x 8mm Shank x 51mm Long Router Bit (D12-D8-60)",store_url:"https://spetools.com/en-eu/products/spetool-eu-carbide-tipped-v-groove-60-deg-12mm-dia-x-8mm-shank-x-51mm-long-router-bit",diameter:12,units:"mm",quantity:1,source:"spetool",group_name:"V",technology_id:300170,flutes:2,tip_angle:60},{store_id:"D12-D8-90",name:"SpeTool Carbide Tipped V Groove 90 Deg 12mm Dia x 8mm Shank x 51mm Long Router Bit (D12-D8-90)",store_url:"https://spetools.com/en-eu/products/spetool-eu-carbide-tipped-v-groove-90-deg-12mm-dia-x-8mm-shank-x-51mm-long-router-bit",diameter:12,units:"mm",quantity:1,source:"spetool",group_name:"V",technology_id:300171,flutes:2,tip_angle:90},{store_id:"IECP1F-D8-R60",name:"SpeTool Insert Carbide V Groove 60 Deg x 8mm Shank x 65mm Long Single Flute Router Bit (IECP1F-D8-R60)",store_url:"https://spetools.com/en-eu/products/spetool-eu-insert-carbide-v-groove-60-deg-x-8mm-shank-x-65mm-long-single-flute-router-bit",diameter:26.55,units:"mm",quantity:1,source:"spetool",group_name:"V",technology_id:300172,flutes:1,tip_angle:60}];var uae=[{store_id:"RD5100",name:'Whiteside -- 1/2" Upcut Spiral - Solid Carbide (RD5100)',store_url:"https://www.whitesiderouterbits.com/products/RD5100",diameter:.5,units:"in",quantity:1,source:"whiteside",group_name:"Upcut",technology_id:4e5,flutes:2},{store_id:"1550",name:"Whiteside -- 60 degree Vee Groove - Carbide Tipped (1550)",store_url:"https://www.whitesiderouterbits.com/products/1550",diameter:.5,units:"in",quantity:1,source:"whiteside",group_name:"V",technology_id:400002,flutes:2,tip_angle:60},{store_id:"6210",name:"Whiteside -- 1 inch Spoilboard Cutter - Carbide Tipped (6210)",store_url:"https://www.whitesiderouterbits.com/products/6210",diameter:1,units:"in",quantity:1,source:"whiteside",group_name:"Straight cut",technology_id:400003,flutes:3},{store_id:"1405",name:'Whiteside -- 5/8" Round Nose - Solid Carbide (1405)',store_url:"https://www.whitesiderouterbits.com/products/1405",diameter:.625,units:"in",quantity:1,source:"whiteside",group_name:"Straight cut",technology_id:400004,flutes:2},{store_id:"SC55",name:'Whiteside -- 15 degree Engraving Bit, 3/32" X 45 degree Point - Solid Carbide (SC55)',store_url:"https://www.whitesiderouterbits.com/products/sc55",diameter:.25,units:"in",quantity:1,source:"whiteside",group_name:"V",technology_id:400006,flutes:2,tip_angle:15},{store_id:"UD2102",name:'Whiteside -- 1/4" Compression Spiral - Solid Carbide (UD2102)',store_url:"https://www.whitesiderouterbits.com/products/UD2102",diameter:.25,units:"in",quantity:1,source:"whiteside",group_name:"Compression",technology_id:400007,flutes:2},{store_id:"1403",name:'Whiteside -- 3/8" Round Nose - Carbide Tipped (1403)',store_url:"https://www.whitesiderouterbits.com/products/1403",diameter:.375,units:"in",quantity:1,source:"whiteside",group_name:"Straight cut",technology_id:400008,flutes:2},{store_id:"RU2075",name:'Whiteside -- 1/4" Upcut Spiral - Solid Carbide (RU2075)',store_url:"https://www.whitesiderouterbits.com/products/ru2075",diameter:.25,units:"in",quantity:1,source:"whiteside",group_name:"Upcut",technology_id:400009,flutes:2},{store_id:"RD1800",name:'Whiteside -- 3/16" Downcut Spiral - Solid Carbide (RD1800)',store_url:"https://www.whitesiderouterbits.com/products/rd1800",diameter:.1875,units:"in",quantity:1,source:"whiteside",group_name:"Downcut",technology_id:400010,flutes:2},{store_id:"SC40",name:'Whiteside -- 3/16" Round Nose - Solid Carbide (SC40)',store_url:"https://www.whitesiderouterbits.com/products/sc40",diameter:.1875,units:"in",quantity:1,source:"whiteside",group_name:"Straight cut",technology_id:400011,flutes:2},{store_id:"RU1800RN",name:'Whiteside -- 3/16" Ball Nose Spiral - Solid Carbide (RU1800RN)',store_url:"https://www.whitesiderouterbits.com/products/ru1800rn",diameter:.1875,units:"in",quantity:1,source:"whiteside",group_name:"Ballnose",technology_id:400012,flutes:2},{store_id:"1500",name:"Whiteside -- 90 degree Vee Groove - Solid Carbide (1500)",store_url:"https://www.whitesiderouterbits.com/products/1500",diameter:.25,units:"in",quantity:1,source:"whiteside",group_name:"V",technology_id:400013,flutes:2,tip_angle:90},{store_id:"C1072",name:'Whiteside -- 1/2" Straight Flute - Carbide Tipped (C1072)',store_url:"https://www.whitesiderouterbits.com/products/C1072",diameter:.5,units:"in",quantity:1,source:"whiteside",group_name:"Straight cut",technology_id:400014,flutes:2},{store_id:"RU2100",name:'Whiteside -- 1/4" Upcut Spiral- Solid Carbide (RU2100)',store_url:"https://www.whitesiderouterbits.com/products/ru2100",diameter:.25,units:"in",quantity:1,source:"whiteside",group_name:"Upcut",technology_id:400015,flutes:2},{store_id:"SC75",name:"Whiteside -- 45 degree Engraving Bit, Pencil Point - Solid Carbide (SC75)",store_url:"https://www.whitesiderouterbits.com/products/sc75",diameter:.25,units:"in",quantity:1,source:"whiteside",group_name:"V",technology_id:400016,flutes:1,tip_angle:45},{store_id:"1404",name:'Whiteside -- 1/2" Round Nose - Carbide Tipped (1404)',store_url:"https://www.whitesiderouterbits.com/products/1404",diameter:.5,units:"in",quantity:1,source:"whiteside",group_name:"Straight cut",technology_id:400019,flutes:2},{store_id:"1406",name:'Whiteside -- 3/4" Round Nose - Carbide Tipped (1406)',store_url:"https://www.whitesiderouterbits.com/products/1406",diameter:.75,units:"in",quantity:1,source:"whiteside",group_name:"Straight cut",technology_id:400021,flutes:2},{store_id:"SC54",name:'Whiteside -- 15 degree Engraving Bit, 1/16" Flat Point - Solid Carbide (SC54)',store_url:"https://www.whitesiderouterbits.com/products/sc54",diameter:.25,units:"in",quantity:1,source:"whiteside",group_name:"V",technology_id:400023,flutes:2,tip_angle:15},{store_id:"RU2075RN",name:'Whiteside -- 1/4" Ball Nose Spiral - Solid Carbide (RU2075RN)',store_url:"https://www.whitesiderouterbits.com/products/ru2075rn",diameter:.25,units:"in",quantity:1,source:"whiteside",group_name:"Ballnose",technology_id:400024,flutes:2},{store_id:"6220",name:"Whiteside -- 2 inch Spoilboard Cutter - Carbide Tipped (6220)",store_url:"https://www.whitesiderouterbits.com/products/6220",diameter:2,units:"in",quantity:1,source:"whiteside",group_name:"Straight cut",technology_id:400025,flutes:4},{store_id:"SC062",name:'Whiteside -- 1/16" Flat Bottom Veining - Solid Carbide (SC062)',store_url:"https://www.whitesiderouterbits.com/products/SC062",diameter:.0625,units:"in",quantity:1,source:"whiteside",group_name:"Straight cut",technology_id:400026,flutes:1},{store_id:"SC39",name:'Whiteside -- 1/8" Round Nose - Solid Carbide (SC39)',store_url:"https://www.whitesiderouterbits.com/products/sc39",diameter:.125,units:"in",quantity:1,source:"whiteside",group_name:"Straight cut",technology_id:400027,flutes:2},{store_id:"1541",name:"Whiteside -- 60 degree Vee Groove - Solid Carbide (1541)",store_url:"https://www.whitesiderouterbits.com/products/1541",diameter:.25,units:"in",quantity:1,source:"whiteside",group_name:"V",technology_id:400028,flutes:3,tip_angle:60},{store_id:"SC71",name:'Whiteside -- 30 degree Engraving Bit, 1/32" Flat Point - Solid Carbide (SC71)',store_url:"https://www.whitesiderouterbits.com/products/sc71",diameter:.25,units:"in",quantity:1,source:"whiteside",group_name:"V",technology_id:400029,flutes:1,tip_angle:30},{store_id:"RD2075",name:'Whiteside -- 1/4" Downcut Spiral - Solid Carbide (RD2075)',store_url:"https://www.whitesiderouterbits.com/products/rd2075",diameter:.25,units:"in",quantity:1,source:"whiteside",group_name:"Downcut",technology_id:400030,flutes:2},{store_id:"RU1800",name:'Whiteside -- 3/16" Upcut Spiral - Solid Carbide (RU1800)',store_url:"https://www.whitesiderouterbits.com/products/ru1800",diameter:.1875,units:"in",quantity:1,source:"whiteside",group_name:"Upcut",technology_id:400031,flutes:2},{store_id:"SC41",name:'Whiteside --1/8" Round Nose - Solid Carbide (SC41)',store_url:"https://www.whitesiderouterbits.com/products/SC41",diameter:.25,units:"in",quantity:1,source:"whiteside",group_name:"Straight cut",technology_id:400033,flutes:2},{store_id:"RD1600",name:'Whiteside -- 1/8" Downcut Spiral - Solid Carbide (RD1600)',store_url:"https://www.whitesiderouterbits.com/products/rd1600",diameter:.125,units:"in",quantity:1,source:"whiteside",group_name:"Downcut",technology_id:400034,flutes:2},{store_id:"SC50",name:"Whiteside -- 22 degree Carving Liner, Pencil Point - Solid Carbide (SC50)",store_url:"https://www.whitesiderouterbits.com/products/SC50",diameter:.25,units:"in",quantity:1,source:"whiteside",group_name:"V",technology_id:400035,flutes:1,tip_angle:22},{store_id:"RU1600",name:'Whiteside -- 1/8" Upcut Spiral - Solid Carbide (RU1600)',store_url:"https://www.whitesiderouterbits.com/products/ru1600",diameter:.125,units:"in",quantity:1,source:"whiteside",group_name:"Upcut",technology_id:400036,flutes:2},{store_id:"1502",name:"Whiteside -- 90 degree Vee Groove - Carbide Tipped (1502)",store_url:"https://www.whitesiderouterbits.com/products/1502",diameter:.5,units:"in",quantity:1,source:"whiteside",group_name:"V",technology_id:400039,flutes:2,tip_angle:90},{store_id:"SC76",name:'Whiteside -- 45 degree Engraving Bit, 1/32" Flat Point - Solid Carbide (SC76)',store_url:"https://www.whitesiderouterbits.com/products/sc76",diameter:.25,units:"in",quantity:1,source:"whiteside",group_name:"V",technology_id:400041,flutes:1,tip_angle:45},{store_id:"SC33",name:'Whiteside -- 1/8" Flat Bottom Veining - Solid Carbide (SC33)',store_url:"https://www.whitesiderouterbits.com/products/SC33",diameter:.125,units:"in",quantity:1,source:"whiteside",group_name:"Straight cut",technology_id:400042,flutes:2},{store_id:"SC70",name:"Whiteside -- 30 degree Engraving Bit, Pencil Point - Solid Carbide (SC70)",store_url:"https://www.whitesiderouterbits.com/products/sc70",diameter:.25,units:"in",quantity:1,source:"whiteside",group_name:"V",technology_id:400044,flutes:1,tip_angle:30}];var pae=[{store_id:"425-CM250",name:'*Astra Coated* Bits&Bits 1/4" Spiral Compression Bit (425-CM250)',store_url:"https://bitsbits.com/product/425-cm250/",diameter:.25,units:"in",quantity:1,source:"bitsbits",group_name:"Compression",technology_id:5e5,flutes:2},{store_id:"SRB4-250UP",name:'*Astra Coated* 1/4" Up-Cut Ball Nose (SRB4-250UP)',store_url:"https://bitsbits.com/product/srb4-250-ball-end/",diameter:.25,units:"in",quantity:1,source:"bitsbits",group_name:"Ballnose",technology_id:500001,flutes:2},{store_id:"SRF4-250UP",name:'*Astra Coated* 1/4" Up-Cut Spiral Bit (SRF4-250UP)',store_url:"https://bitsbits.com/product/srf4-250up-cut/",diameter:.25,units:"in",quantity:1,source:"bitsbits",group_name:"Upcut",technology_id:500002,flutes:2},{store_id:"425-CM250-SF",name:'*Astra Coated* Bits&Bits 1/4" Short Flute Spiral Compression Bit (425-CM250-SF)',store_url:"https://bitsbits.com/product/425-cm250-sf/",diameter:.25,units:"in",quantity:1,source:"bitsbits",group_name:"Compression",technology_id:500003,flutes:2},{store_id:"425-DNC250",name:'*Astra Coated* 1/4" Down-Cut Spiral Bit (425-DNC250)',store_url:"https://bitsbits.com/product/425-dnc250-down-cut/",diameter:.25,units:"in",quantity:1,source:"bitsbits",group_name:"Downcut",technology_id:500004,flutes:2},{store_id:"425-UP250",name:`*Astra Coated* 1/4" 'O' Flute Up-Cut Spiral for Plastic and Aluminum (425-UP250)`,store_url:"https://bitsbits.com/product/425-up250/",diameter:.25,units:"in",quantity:1,source:"bitsbits",group_name:"Upcut",technology_id:500006,flutes:1},{store_id:"SRF4-187UP",name:'*Astra Coated* 3/16" Up-Cut Spiral Bit (SRF4-187UP)',store_url:"https://bitsbits.com/product/srf4-187up/",diameter:.1875,units:"in",quantity:1,source:"bitsbits",group_name:"Upcut",technology_id:500007,flutes:2},{store_id:"SRB4-187UP",name:'*Astra Coated* 3/16" Ball Nose Up-Cut Spiral Bit (SRB4-187UP)',store_url:"https://bitsbits.com/product/srb4-187up/",diameter:.1875,units:"in",quantity:1,source:"bitsbits",group_name:"Ballnose",technology_id:500008,flutes:2},{store_id:"425-DNC125",name:'*Astra Coated* 1/8" Down-Cut Spiral Bit - 5/8" LOC (425-DNC125)',store_url:"https://bitsbits.com/product/425-dnc125/",diameter:.125,units:"in",quantity:1,source:"bitsbits",group_name:"Downcut",technology_id:500009,flutes:2},{store_id:"425-DNC125LR",name:'*Astra Coated* 1/8" Down-Cut Spiral Bit - 1" LOC (425-DNC125LR)',store_url:"https://bitsbits.com/product/425-dnc125lr/",diameter:.125,units:"in",quantity:1,source:"bitsbits",group_name:"Downcut",technology_id:500010,flutes:2},{store_id:"SRF4-125UP",name:'*Astra Coated* 1/8" Up-Cut Spiral Bit (SRF4-125UP)',store_url:"https://bitsbits.com/product/srf4-125up/",diameter:.125,units:"in",quantity:1,source:"bitsbits",group_name:"Upcut",technology_id:500011,flutes:2},{store_id:"425-CM125",name:'*Astra Coated* 1/8" Spiral Compression Bit - 5/8" LOC (425-CM125)',store_url:"https://bitsbits.com/product/425-cm125/",diameter:.125,units:"in",quantity:1,source:"bitsbits",group_name:"Compression",technology_id:500012,flutes:2},{store_id:"425-CM125LR",name:'*Astra Coated* 1/8" Spiral Compression Bit - 1" LOC (425-CM125LR)',store_url:"https://bitsbits.com/product/425-cm125lr/",diameter:.125,units:"in",quantity:1,source:"bitsbits",group_name:"Compression",technology_id:500013,flutes:2},{store_id:"SRB4-125UP",name:'*Astra Coated* 1/8" Ball Nose Up-Cut Spiral Bit (SRB4-125UP)',store_url:"https://bitsbits.com/product/srb4-125up/",diameter:.125,units:"in",quantity:1,source:"bitsbits",group_name:"Ballnose",technology_id:500014,flutes:2},{store_id:"425-UP125",name:`*Astra Coated* 1/8" 'O' Flute Up-Cut Spiral for Plastic and Aluminum (425-UP125)`,store_url:"https://bitsbits.com/product/425-up125/",diameter:.125,units:"in",quantity:1,source:"bitsbits",group_name:"Upcut",technology_id:500015,flutes:1},{store_id:"430-ST250",name:'1/4" Foam Cutter Up-Cut Spiral Bit (430-ST250)',store_url:"https://bitsbits.com/product/430-st250-foam/",diameter:.25,units:"in",quantity:1,source:"bitsbits",group_name:"Upcut",technology_id:500016,flutes:2},{store_id:"425-ST250C",name:'*Astra Coated* 1/4" Open Helix Up-Cut Spiral Bit (425-ST250C)',store_url:"https://bitsbits.com/product/425-st250c/",diameter:.25,units:"in",quantity:1,source:"bitsbits",group_name:"Upcut",technology_id:500017,flutes:2},{store_id:"425-ST125C",name:'*Astra Coated* 1/8" Open Helix Up-Cut Spiral Bit (425-ST125C)',store_url:"https://bitsbits.com/product/425-st125c/",diameter:.125,units:"in",quantity:1,source:"bitsbits",group_name:"Upcut",technology_id:500018,flutes:2},{store_id:"SRF4-062UP",name:'*Astra Coated* 1/16" Up-Cut Spiral Bit (SRF4-062UP)',store_url:"https://bitsbits.com/product/srf4-062up/",diameter:.0625,units:"in",quantity:1,source:"bitsbits",group_name:"Upcut",technology_id:500019,flutes:2},{store_id:"425-DNC062",name:'*Astra Coated* 1/16" Down-Cut Spiral Bit (425-DNC062)',store_url:"https://bitsbits.com/product/425-dnc062/",diameter:.0625,units:"in",quantity:1,source:"bitsbits",group_name:"Downcut",technology_id:500020,flutes:2},{store_id:"SRF4-062LR",name:'*Astra Coated* 1/16" Long Reach Up-Cut Spiral Bit (SRF4-062LR)',store_url:"https://bitsbits.com/product/srf4-062lr/",diameter:.0625,units:"in",quantity:1,source:"bitsbits",group_name:"Upcut",technology_id:500021,flutes:2},{store_id:"425-DNC062LR",name:'*Astra Coated* 1/16" Long Reach Down-Cut Spiral Bit (425-DNC062LR)',store_url:"https://bitsbits.com/product/425-dnc062lr/",diameter:.0625,units:"in",quantity:1,source:"bitsbits",group_name:"Downcut",technology_id:500022,flutes:2},{store_id:"SRB4-062UP",name:'*Astra Coated* 1/16" Ball Nose Up-Cut Spiral Bit (SRB4-062UP)',store_url:"https://bitsbits.com/product/srb4-062up/",diameter:.0625,units:"in",quantity:1,source:"bitsbits",group_name:"Ballnose",technology_id:500023,flutes:2},{store_id:"SRB4-062LR",name:'*Astra Coated* 1/16" Long Reach Ball Nose Up-Cut Spiral Bit (SRB4-062LR)',store_url:"https://bitsbits.com/product/srb4-062lr/",diameter:.0625,units:"in",quantity:1,source:"bitsbits",group_name:"Ballnose",technology_id:500024,flutes:2},{store_id:"425-UP062",name:`*Astra Coated* 1/16" 'O' Flute Up-Cut Spiral for Plastic and Aluminum (425-UP062)`,store_url:"https://bitsbits.com/product/425-up062/",diameter:.0625,units:"in",quantity:1,source:"bitsbits",group_name:"Upcut",technology_id:500025,flutes:1},{store_id:"535-DNC375",name:'*Astra Coated* 3/8" Down-Cut Spiral Bit - 1/2" Shank (535-DNC375)',store_url:"https://bitsbits.com/product/535-dnc375-down/",diameter:.375,units:"in",quantity:1,source:"bitsbits",group_name:"Downcut",technology_id:500026,flutes:2},{store_id:"535-SRF375",name:'*Astra Coated* 3/8" Up-Cut Spiral Bit - 1/2" Shank (535-SRF375)',store_url:"https://bitsbits.com/product/535-srf375-up-cut/",diameter:.375,units:"in",quantity:1,source:"bitsbits",group_name:"Upcut",technology_id:500027,flutes:2},{store_id:"535-CM375",name:'*Astra Coated* 3/8" Spiral Compression Bit - 1/2" Shank (535-CM375)',store_url:"https://bitsbits.com/product/535-cm375-compression/",diameter:.375,units:"in",quantity:1,source:"bitsbits",group_name:"Compression",technology_id:500028,flutes:2},{store_id:"535-CM375-SF",name:'*Astra Coated* 3/8" Short Flute Spiral Compression Bit - 1/2" Shank (535-CM375-SF)',store_url:"https://bitsbits.com/product/535-cm375-sf/",diameter:.375,units:"in",quantity:1,source:"bitsbits",group_name:"Compression",technology_id:500029,flutes:2},{store_id:"535-SRB375",name:'*Astra Coated* 3/8" Ball Nose Up-Cut Spiral Bit - 1/2" Shank (535-SRB375)',store_url:"https://bitsbits.com/product/530-srb375-up-cut/",diameter:.375,units:"in",quantity:1,source:"bitsbits",group_name:"Ballnose",technology_id:500030,flutes:2},{store_id:"530-DNC500",name:'*Astra Coated* 1/2" Down-Cut Spiral Bit - 1" LOC (530-DNC500)',store_url:"https://bitsbits.com/product/530-dnc500-down-cut/",diameter:.5,units:"in",quantity:1,source:"bitsbits",group_name:"Downcut",technology_id:500031,flutes:2},{store_id:"540-SRF500",name:'*Astra Coated* 1/2" Up-Cut Spiral Bit - 2" LOC (540-SRF500)',store_url:"https://bitsbits.com/product/540-srf500-up-cut/",diameter:.5,units:"in",quantity:1,source:"bitsbits",group_name:"Upcut",technology_id:500032,flutes:2},{store_id:"530-CM500",name:'*Astra Coated* 1/2" Spiral Compression Bit - 1" LOC (530-CM500)',store_url:"https://bitsbits.com/product/530-cm500-compression/",diameter:.5,units:"in",quantity:1,source:"bitsbits",group_name:"Compression",technology_id:500033,flutes:2},{store_id:"535-CM500",name:'*Astra Coated* 1/2" Spiral Compression Bit - 1-1/2" LOC (535-CM500)',store_url:"https://bitsbits.com/product/535-cm500-compression/",diameter:.5,units:"in",quantity:1,source:"bitsbits",group_name:"Compression",technology_id:500034,flutes:2},{store_id:"540-CM500",name:'*Astra Coated* 1/2" Spiral Compression Bit - 2" LOC (540-CM500)',store_url:"https://bitsbits.com/product/compression-540-cm500/",diameter:.5,units:"in",quantity:1,source:"bitsbits",group_name:"Compression",technology_id:500035,flutes:2},{store_id:"530-SRB500",name:'*Astra Coated* 1/2" Ball Nose Up-Cut Spiral Bit (530-SRB500)',store_url:"https://bitsbits.com/product/530-srb500-up-cut/",diameter:.5,units:"in",quantity:1,source:"bitsbits",group_name:"Ballnose",technology_id:500036,flutes:2},{store_id:"540-SRB500",name:'*Astra Coated* 1/2" Ball Nose Up-Cut Spiral Bit (540-SRB500)',store_url:"https://bitsbits.com/product/540-srb500-ball-nose/",diameter:.5,units:"in",quantity:1,source:"bitsbits",group_name:"Ballnose",technology_id:500037,flutes:2},{store_id:"XL14-4150C",name:'*Astra Coated* 1/4" Extra Long Up-Cut Square End Mill - 1-1/2" LOC (XL14-4150C)',store_url:"https://bitsbits.com/product/xl14-4150c/",diameter:.25,units:"in",quantity:1,source:"bitsbits",group_name:"Upcut",technology_id:500050,flutes:2},{store_id:"XL14-420C",name:'*Astra Coated* 1/4" Extra Long Up-Cut Square End Mill - 2" LOC (XL14-420C)',store_url:"https://bitsbits.com/product/xl14-420c/",diameter:.25,units:"in",quantity:1,source:"bitsbits",group_name:"Upcut",technology_id:500051,flutes:2},{store_id:"XLB14-4150C",name:'*Astra Coated* 1/4" Extra Long Up-Cut Ball End Mill - 1-1/2" LOC (XLB14-4150C)',store_url:"https://bitsbits.com/product/xlb14-4150c/",diameter:.25,units:"in",quantity:1,source:"bitsbits",group_name:"Ballnose",technology_id:500054,flutes:2},{store_id:"425-VG45",name:"*Astra Coated* Bits&Bits 45 Degree V-Groove Bit (425-VG45)",store_url:"https://bitsbits.com/product/45-degree-v-groove/",diameter:.25,units:"in",quantity:1,source:"bitsbits",group_name:"V",technology_id:500056,flutes:2,tip_angle:45},{store_id:"425-VG60",name:"*Astra Coated* Bits&Bits 60 Degree V-Groove Bit (425-VG60)",store_url:"https://bitsbits.com/product/60-degree-v-groove/",diameter:.25,units:"in",quantity:1,source:"bitsbits",group_name:"V",technology_id:500057,flutes:2,tip_angle:60},{store_id:"425-VG90",name:"*Astra Coated* Bits&Bits 90 Degree V-Groove Bit (425-VG90)",store_url:"https://bitsbits.com/product/90-v-groove/",diameter:.25,units:"in",quantity:1,source:"bitsbits",group_name:"V",technology_id:500058,flutes:2,tip_angle:90},{store_id:"330-CM375",name:'*Astra Coated* 3/8" Spiral Compression Bit - 3/8" Shank (330-CM375)',store_url:"https://bitsbits.com/product/330-cm375-comp/",diameter:.375,units:"in",quantity:1,source:"bitsbits",group_name:"Compression",technology_id:500059,flutes:2},{store_id:"330-DNC375",name:'330-DNC375 *Astra Coated* 3/8" Down-Cut Spiral Bit - 3/8" Shank (330-DNC375)',store_url:"https://bitsbits.com/product/330-dnc375-down/",diameter:.375,units:"in",quantity:1,source:"bitsbits",group_name:"Downcut",technology_id:500060,flutes:2},{store_id:"330-SRF375",name:'*Astra Coated* 3/8" Up-Cut Spiral Bit - 3/8" Shank (330-SRF375)',store_url:"https://bitsbits.com/product/330-srf375-upcut/",diameter:.375,units:"in",quantity:1,source:"bitsbits",group_name:"Upcut",technology_id:500061,flutes:2}];var wXe=()=>Wr("/toolbox/bits").then(e=>e.map(Uf)),dae=()=>sae.map(Uf).map(D2),mae=()=>aae.map(Uf).map(D2),fae=()=>lae.map(Uf).map(D2),hae=()=>cae.map(Uf).map(D2),gae=()=>uae.map(Uf).map(D2),yae=()=>pae.map(Uf).map(D2),_Xe=()=>({inventables:dae(),idc_woodcraft:mae(),amana:fae(),spetool:hae(),whiteside:gae(),bitsbits:yae()}),kXe=function(e){let t=xae(e),r=JSON.stringify({bit:t});return kt("/toolbox/bits",r).then(o=>Uf(o.bit))},TXe=e=>Yl(`/toolbox/bits/${e}`),EXe=function(e,t){let r=xae(t),o=JSON.stringify({bit:r});return pa(`/toolbox/bits/${e}`,o).then(i=>Uf(i.bit))},D2=e=>{let{source:t,storeId:r,imageURL:o}=e;return{...e,imageURL:o||EASEL_ASSETS?.bitsources?.[t]?.[r]||EASEL_ASSETS.images.otherBit}},Uf=e=>({id:e.id,name:e.name,color:e.color,storeId:e.store_id,groupName:e.group_name,type:e.group_name,imageURL:e.image_url,width:e.diameter,diameter:e.diameter,flutes:e.flutes,nominalWidth:e.nominal_width,tipAngle:e.tip_angle,unit:e.units,storeURL:e.store_url,global:e.global,source:e.source,technologyId:e.technology_id}),xae=e=>({id:e.id,name:e.name,color:e.color,store_id:e.storeId,diameter:e.diameter,width:e.width,tip_angle:e.tipAngle,group_name:e.groupName,flutes:e.flutes,units:e.unit,store_url:e.storeURL,image_url:e.imageURL,global:e.global,source:e.source,technology_id:e.technologyId}),MXe={loadBits:wXe,loadInventablesBits:dae,loadIDCWoodcraftBits:mae,loadAmanaBits:fae,loadSpeToolBits:hae,loadWhitesideBits:gae,loadBitsBitsBits:yae,loadBitsBySource:_Xe,addBit:kXe,deleteBit:TXe,updateBit:EXe,loadSourceImageUrl:D2},Kp=MXe;nt.group("init").register("bits",(e,t)=>Kp.loadBits().then(function(r){N.store.dispatch(re.actions.setBits(r)),e()}).catch(function(r){t("There was a problem loading the milling bits list."),console.error(r)}));var bae=["rectangle","ellipse","polygon","path","polyline","line","text","drill"],vae=["outline","fill","drill"],Sae=["on-path","outside","inside"],AXe=function(e,t){e!=null?(bae.includes(e.type)||t.push(`Shape 'type' ${e.type} is invalid. Must be one of ${bae.join(", ")}.`),e.type==="line"||e.type==="drill"?(e.rotation!=null&&t.push("Line shapes or drill holes cannot have rotations."),(e.width!=null||e.height!=null)&&t.push("Line shapes or drill holes cannot have width or height.")):(e.rotation!=null?(typeof e.rotation!="number"||isNaN(e.rotation))&&t.push("Shape 'rotation' must be a number."):t.push("Shape must specify a 'rotation'."),e.width!=null&&e.height!=null?typeof e.width!="number"||isNaN(e.width)?t.push("Shape 'width' must be number."):typeof e.height!="number"||isNaN(e.height)?t.push("Shape 'height' must be number."):(e.height<0||e.width<0)&&t.push("Shape must have non-negative 'width' and 'height'."):t.push("Shape must specify both a 'width' and 'height'.")),e.flipping==null&&t.push("Shape must include a 'flipping' object.")):t.push("Volume must include a 'shape' object.")},IXe=function(e,t,r){e!=null?(e.depth!=null?typeof e.depth!="number"||isNaN(e.depth)?r.push("Cut depth must be a number."):(e.depth>=0||r.push("Cut depth must be greater than or equal to 0."),e.depth<=t||r.push("Cut depth must be less than or equal to material thickness.")):r.push("Volume must include a cut depth."),vae.includes(e.type)?e.type==="outline"&&!Sae.includes(e.outlineStyle)&&r.push(`Cut 'outlineStyle' ${e.outlineStyle} is invalid. Must be one of ${Sae.join(", ")}.`):r.push(`Cut 'type' ${e.type} is invalid. Must be one of ${vae.join(", ")}.`)):r.push("Volume must include a 'cut' object.")},DXe=function(e,t){let r=[];return AXe(e.shape,r),IXe(e.cut,t,r),{valid:r.length===0,errors:r}},NXe={validate:DXe},Cae=NXe;var bV=1,OXe=2,B5={IDLE:"IDLE",FAILED:"FAILED",ERROR:"ERROR",RUNNING:"RUNNING"},LXe=async()=>await fetch("/apps",{method:"GET",headers:{"Content-Type":"application/json"}}),jw=Ht("app/fetchApps",async()=>{let e=await LXe();if(!e.ok)throw new Error(e.statusText);return await e.json()},{condition:(e,{getState:t})=>{let{app:r}=t();if(r.loading||r.apps.length>0)return!1}}),Pae=We({name:"app",initialState:{apps:[],loading:!1,activeApp:null,appProperties:null,appOutput:"",appVolumes:[],appStatus:"IDLE",errorMessage:null,appListOpen:!1},reducers:{openAppList(e){e.appListOpen=!0},closeAppList(e){e.appListOpen=!1},loadedApps(e,{payload:t}){e.errorMessage=null,e.apps=t},failedLoadingApps(e,{payload:t}){e.errorMessage=t},activateAppById(e,{payload:t}){let r=Array.from(Ga(e).apps).find(o=>o.id===t.id);e.appProperties=null,e.activeApp=r,e.appOutput="",e.appVolumes=[]},deactivateApp(e){e.activeApp=null,e.appProperties=null,e.appStatus="IDLE",e.appOutput="",e.appVolumes=[]},appProperties(e,{payload:t}){e.appProperties=t},appRunning(e){e.appStatus="RUNNING"},appOutput(e,{payload:t}){e.appStatus="IDLE",e.appOutput=t},appVolumes(e,{payload:t}){for(let r of t.volumes)if(r.shape!=null||r.cut!=null){let o=Cae.validate(r,t.materialThickness);if(!o.valid){e.appStatus="FAILED",e.appOutput=o.errors.join(" ");return}}e.appStatus="IDLE",e.appVolumes=t.volumes},appFailed(e,{payload:t}){e.appStatus="FAILED",e.appOutput=t},appError(e,{payload:t}){e.appStatus="ERROR",e.appOutput=t},updateAppProperty(e,{payload:t}){e.appProperties!=null&&(e.appProperties=e.appProperties.map(r=>(r.id===t.id&&(r.value=t.value),r)))}},extraReducers:e=>{e.addCase(jw.pending,t=>{t.loading=!0}),e.addCase(jw.fulfilled,(t,{payload:r})=>{t.apps=r,t.errorMessage=null,t.loading=!1}),e.addCase(jw.rejected,(t,{error:r})=>{t.errorMessage=r.message??"Could not load apps",t.loading=!1})}}),BXe={getAppState:e=>e.app,getActiveApp:e=>e.app.activeApp,getActiveAppProperties:e=>e.app.appProperties,getImageTraceApp:e=>e.app.apps.find(t=>t.id===bV),getDXFImportApp:e=>e.app.apps.find(t=>t.id===OXe)},FXe={actions:{...Pae.actions,fetchApps:jw},reducer:Pae.reducer,...BXe},Hr=FXe;var F5=null,wae=null,_ae=null,kae=null,vV=null,SV=null,WXe=function(e){switch(e.data.type){case"loaded":F5.postMessage({type:"properties",message:Tae()});break;case"properties":kae(e.data.message);break;case"executor":_ae(e.data.message);break;case"failed":vV(e.data.message);break}},VXe=e=>SV(e.message),Tae=()=>{let e=N.store.getState(),t=q.getMaterialDimensions(e);return{volumes:ye.getVolumes(e),material:le(q.getActiveMaterial(e),{dimensions:t}),bitParams:re.bitParams(e),preferredUnit:Me.getPreferredUnit(e),selectedVolumeIds:Ie.selectedVolumeIds(e)}},Eae=function(e){wae=e,F5=new Worker(e),F5.addEventListener("message",WXe),F5.addEventListener("error",VXe)},UXe=function(e){F5?.terminate(),Eae(e.url),kae=e.done,vV=e.fail,SV=e.error},RXe=function(e){let t;wae!==e.url&&Eae(e.url),_ae=e.done,vV=e.fail,SV=e.error;let r={};for(let o of e.properties)r[o.id]=o.value;if(e.apiVersion==="1.0.0"){if(t=[r],e.requiresSelectedVolume){let o=N.store.getState(),i=Ie.selectedVolumeIds(o),n=ye.getVolumes(o,i),s=Ee.boundingBox(n),a={left:s.minX,top:s.maxY,right:s.maxX,bottom:s.minY},l=n.map(c=>gl.process(c.shape).lighten().simplify().toPromise());Promise.all(l).then(function(c){let u=[];for(let p of c)for(let m of p)u.push(m.points.map(h=>[h.x,h.y]));return a.pointArrays=u,t.push(a),F5.postMessage({type:"executor",message:t})});return}}else t=Tae(),t.params=r;F5.postMessage({type:"executor",message:t})},jXe={properties:UXe,execute:RXe},CV=jXe;var GXe={machineAPI:Hy(),loadMachine(){let e=this.machineAPI.get(N.store.getState());N.store.dispatch(Y.actions.setLoadedMachineConfiguration({machineType:e.machineType,thirdPartyMake:e.thirdPartyMake,thirdPartyModel:e.thirdPartyModel,otherMake:e.otherMake,otherModel:e.otherModel,serialNumber:e.serialNumber,comPort:e.comPort,workArea:e.workArea,railSize:e.railSize,leadScrewType:e.leadScrewType,spindleType:e.spindleType,automaticSpindleControl:e.automaticSpindleControl,spindleRPM:e.spindleRPM,manualConnectionPreference:e.manualConnectionPreference,probePreferences:e.probePreferences,probeEnabled:!!e.probeEnabled,accessoriesEnabled:!!e.accessoriesEnabled,electronicsType:e.electronicsType,hasDustShoe:e.hasDustShoe,isDefault:e.isDefault,profileId:e.profileId,belts:e.belts,connectionType:e.connectionType})),N.store.dispatch(et.actions.setCurrentProfileId(e.profileId))},loadZAxisOffset(e){return Wr(`/carvey_factory_configurations/machines/${e}`).then(t=>{let r=t.z_axis_offset;N.store.dispatch(ie.actions.receiveZAxisOffset(r))}).catch(()=>{N.store.dispatch(ie.actions.receiveZAxisOffset(null))})},saveMachine(e){this.machineAPI.save(e)},getAppProperties(){let e=N.store.getState();return CV.properties({url:Hr.getActiveApp(e).workerUrl,done(t){return N.store.dispatch(Hr.actions.appProperties(t))},fail(t){return N.store.dispatch(Hr.actions.appFailed(t))},error(t){return N.store.dispatch(Hr.actions.appError(t))}})},executeApp(){N.store.dispatch(Hr.actions.appRunning());let e=N.store.getState(),t=Hr.getActiveApp(e),r=Hr.getActiveAppProperties(e),o=function(i){if(t.apiVersion==="1.0.0")N.store.dispatch(Hr.actions.appOutput(i));else{let n=q.getMaterialThickness(e);N.store.dispatch(Hr.actions.appVolumes({volumes:i,materialThickness:n}))}};CV.execute({url:t.workerUrl,requiresSelectedVolume:t.requiresSelectedVolume,properties:r,done:o,fail(i){return N.store.dispatch(Hr.actions.appFailed(i))},error(i){return N.store.dispatch(Hr.actions.appError(i))},apiVersion:t.apiVersion})}},N2=GXe;var HXe=e=>({linkToken:e.link_token,name:e.name,date:e.time_ago_updated_at,sortDate:e.updated_at,labels:e.labels,image:e.image,starred:e.starred}),wV={fetchProjects:async({offset:e,starred:t,query:r,labelIds:o,sortOrder:i,sortBy:n})=>{let s={cabinetry:"exclude",offset:e.toString()};r&&(s.query=r),t&&(s.starred=t.toString()),s.sort_order=i,s.sort_by=n;let a=new URLSearchParams(s);return o?.length&&o.forEach(l=>a.append("label_ids[]",l.toString())),await fetch("/projects?"+a,{headers:{"Content-Type":"application/json"}}).then(l=>l.ok?l.json():Promise.reject(l.statusText))},deleteProjects:async e=>await fetch("/delete",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector("[name='csrf-token']")?.content},body:JSON.stringify({link_tokens:e})}).then(t=>t.ok?Promise.resolve():Promise.reject(t)),updateProject:async(e,t)=>await fetch(`/projects/${e}`,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector("[name='csrf-token']")?.content},body:JSON.stringify({project:{starred:t}})}).then(r=>r.ok?Promise.resolve({linkToken:e,starred:t}):Promise.reject(r))},J8=Ht("projects/fetchProjects",async(e,{rejectWithValue:t,getState:r})=>{try{let o=r(),i=O2.getProjectsCount(o),n=O2.isStarFilter(o),s=O2.getSearchQuery(o),a=O2.getFilterLabelsIds(o),l=O2.getSortValue(o),c=O2.isSortingAscending(o)?"ASC":"DESC";return await wV.fetchProjects({labelIds:a,offset:i,query:s,starred:n,sortBy:l,sortOrder:c}).then(u=>({projects:u.projects.map(HXe),count:u.count,clear:e?.clear??!1}))}catch(o){let i=o instanceof Error?o.message:o;return t(i)}}),zXe=()=>J8({clear:!0}),Aae=Ht("projects/deleteProjects",async e=>await wV.deleteProjects(e)),PV=Ht("projects/starProject",async({linkToken:e,starred:t})=>await wV.updateProject(e,t)),XXe={requesting:!1,projects:[],count:0,view:"thumbnail",starred:!1,filterLabels:[],isAscendingSort:!1,sortValue:"updated_at",error:void 0,search:""},Mae=We({name:"projects",initialState:XXe,reducers:{enableStarFilter(e){e.starred=!0,e.projects=[]},disableStarFilter(e){e.starred=!1,e.projects=[]},setProjectListView(e){e.view="list"},setProjectThumbnailView(e){e.view="thumbnail"},setSearchQuery(e,{payload:t}){e.search=t,e.projects=[]},setSearchDirectionAscending(e){e.isAscendingSort=!0,e.projects=[]},setSearchDirectionDescending(e){e.isAscendingSort=!1,e.projects=[]},setSortByName(e){e.sortValue="name",e.projects=[]},setSortByDate(e){e.sortValue="updated_at",e.projects=[]},setFilterLabel(e,{payload:t}){e.filterLabels=t,e.projects=[]},removeProjectFromList(e,{payload:t}){e.projects=e.projects.filter(r=>r.linkToken!==t)},setSelected(e,{payload:t}){e.projects=e.projects.map(r=>(r.linkToken===t&&(r.selected=!0),r))},setDeselected(e,{payload:t}){e.projects=e.projects.map(r=>(r.linkToken===t&&(r.selected=!1),r))},selectAll(e){e.projects=e.projects.map(t=>(t.selected=!0,t))},deselectAll(e){e.projects=e.projects.map(t=>(t.selected=!1,t))},addLabelsToProject(e,{payload:t}){e.projects=e.projects.map(r=>(r.linkToken===t.linkToken&&(r.labels=[...new Set([...r.labels,...t.labels])]),r))},removeLabelsFromProject(e,{payload:t}){let r=e.projects.map(o=>(o.linkToken===t.linkToken&&(o.labels=o.labels.filter(i=>!t.labels.includes(i.id))),o));e.projects=r},removeLabelFromAllProjects(e,{payload:t}){e.projects=e.projects.map(r=>(r.labels=r.labels.filter(o=>o.name!==t.name),r))}},extraReducers:e=>{e.addCase(J8.fulfilled,(t,{payload:r})=>{t.requesting=!1,t.error=void 0;let o=r.projects.map(i=>({...i,selected:!1}));t.projects=r.clear?o:[...t.projects,...o],t.count=r.count}),e.addCase(J8.pending,t=>{t.error=void 0,t.requesting=!0}),e.addCase(J8.rejected,(t,{payload:r,error:o})=>{t.projects=[],t.count=0,t.requesting=!1,t.error=r?.toString()??o.message}),e.addCase(Aae.fulfilled,t=>{t.projects=[]}),e.addCase(PV.fulfilled,(t,{payload:r})=>{t.projects=t.projects.map(o=>(o.linkToken===r.linkToken&&(o.starred=r.starred),o))}),e.addCase(PV.rejected,(t,{error:r})=>{console.error(r)})}}),O2={getProjectsCount:e=>e.projects.projects.length,getProjectsTotal:e=>e.projects.count,areProjectsLoading:e=>e.projects.requesting,getProjectsLoadingError:e=>e.projects.error,isStarFilter:e=>e.projects.starred,isProjectsThumbnailView:e=>e.projects.view==="thumbnail",isProjectsListView:e=>e.projects.view==="list",getSearchQuery:e=>e.projects.search,isSortingAscending:e=>e.projects.isAscendingSort,getSortValue:e=>e.projects.sortValue,getFilterLabels:e=>e.projects.filterLabels,getFilterLabelsIds:e=>e.projects.filterLabels.map(t=>t.id),isAnyProjectSelected:e=>e.projects.projects.some(t=>t.selected),isEveryProjectSelected:e=>e.projects.projects.every(t=>t.selected),getSelectedProjects:e=>e.projects.projects.filter(t=>t.selected),isProjectListFiltered:e=>e.projects.search?.length>0||e.projects.filterLabels.length>0},YXe=_e([e=>e.projects.projects,e=>e.projects.starred,ge.getProjectLinkToken,ge.isProjectStarred],(e,t,r,o)=>e.map(i=>i.linkToken===r?{...i,starred:o}:i).filter(i=>!t||i.starred)),qXe={reducer:Mae.reducer,actions:{...Mae.actions,fetchProjects:J8,fetchNewProjects:zXe,deleteProjects:Aae,starProject:PV},...O2,getProjects:YXe},Kt=qXe;nt.group("project-list").register("boot storage",function(e){if(Hy().areSettingsSaved(N.store.getState())&&Q.actions.noteLoadedMachineSettings(N.store.dispatch),N2.loadMachine(),Y.isMachineSetupComplete(N.store.getState())&&et.getMachineProfiles(N.store.getState()).length===0){let n=Y.getSettings(N.store.getState());N.store.dispatch(et.actions.createMachineProfile(n))}let r="reduxStore",o=_e([Me.getPreferredUnit,Kt.isProjectsListView],(n,s)=>({unit:n,projectListView:s}));N.store.subscribeWithSelector(o,n=>localStorage.setItem(r,JSON.stringify({redux:n})));let{projectListView:i}=JSON.parse(localStorage.getItem(r)||"{}").redux||{};i&&N.store.dispatch(Kt.actions.setProjectListView()),e()});var _V=M(P("clipper2-wasm/dist/es/clipper2z.wasm?url"),1);nt.group("post-init").register("load-clipper",async e=>{try{await wL(()=>_V.default)}catch(t){let r=t instanceof Error?t.message:String(t);H.trackEvent(U.errorLoadingWASM,{Library:"clipper2",error:r,attempt:1,context:"main"});try{await wL(()=>_V.default)}catch(o){let i=o instanceof Error?o.message:String(o);H.trackEvent(U.errorLoadingWASM,{Library:"clipper2",error:i,attempt:2,context:"main"})}}e()});var $Xe=e=>({detectPPI:()=>{if(e.indexOf("Generator: Adobe Illustrator")!==-1)return 72;if(e.indexOf("Created with Inkscape")!==-1){let r=e.match(/inkscape:version="(\d+\.\d+)/);return r!=null&&parseFloat(r[1])>=.91?96:90}else return 96}}),Gw=$Xe;var Hae=M(Gae(),1),nYe=(e,t,r)=>{e.forEach(function(o){o.top+=r,o.left+=t,o.setCoords()})},sYe=(e,t)=>{e.forEach(function(r){r.top*=t,r.left*=t,r.scaleX*=t,r.scaleY*=t,r.setCoords()})},aYe=e=>({minX:Math.min.apply(Math,e.map(t=>t.getBoundingRect().left)),minY:Math.min.apply(Math,e.map(t=>t.getBoundingRect().top)),maxX:Math.max.apply(Math,e.map(t=>t.getBoundingRect().left+t.getBoundingRectWidth())),maxY:Math.max.apply(Math,e.map(t=>t.getBoundingRect().top+t.getBoundingRectHeight()))}),lYe=function(e){return e.strokeWidth=0,e.strokeLineCap="round",e.strokeLineJoin="round",e.strokeDashArray=null,e.perPixelTargetFind=!0,e},cYe=e=>{if(e.visible&&e.opacity!==0){if(e.type==="path"){let t=fabric.util.object.clone(e);Xae(t.path)&&(t.path=Yae(t));let r=zae(t);return r.minX<=r.maxX&&r.minY<=r.maxY}else if(["polygon","polyline"].includes(e.type)){if(!e.points||e.points.length===0)return!1}else if(e.type==="text")return!1;return!0}return!1},uYe=function(e){switch(e.type){case"path":mYe(e);break;case"circle":pYe(e);break;case"rect":dYe(e);break;case"polygon":case"polyline":fYe(e);break;case"line":e.fill="none";break}return hYe(e),e.opacity=1,e},pYe=function(e){e.width=2*e.radius,e.height=2*e.radius,e.setCoords()},dYe=function(e){e.left=e.x,e.top=e.y},zae=e=>{let t=Hc.fabricJsonToVolume(e.toJSON(),{originY:0,pixelsPerInch:1,materialThickness:q.getMaterialThickness(N.store.getState())});return Oe.pathBoundingBox(t.shape.points)},mYe=function(e){Xae(e.path)&&(e.path=Yae(e));let t=zae(e);e.width=t.maxX-t.minX,e.height=t.maxY-t.minY,e.left=t.minX,e.top=t.minY,e.pathOffset={x:t.minX,y:t.minY},e.setCoords()},fYe=function(e){let t=Oe.pointsBoundingBox(e.points),r=e.getBoundingRect(),o=t.minX-r.left,i=t.minY-r.top;return e._calcDimensions(),e.top+=i,e.left+=o,!0},hYe=function(e){if(e.transformMatrix){let[t,r,o,i,n,s]=Array.from(e.transformMatrix),a=Math.atan2(r,t),l=Math.sqrt(t*t+r*r),c=Math.sqrt(o*o+i*i),u=Math.abs(t*i)>Math.abs(r*o)?t*i<0:r*o>0,p=l*e.left,m=c*(u?e.top+e.height:e.top),h=Math.sqrt(m*m+p*p),f=Math.atan2(m,p)+a*(u?-1:1);e.transformMatrix=null,e.flipY=u,e.left=h*Math.cos(f)+n,e.top=h*Math.sin(f)*(u?-1:1)+s,e.angle=a*180/Math.PI,e.scaleX=l,e.scaleY=c}},Xae=e=>e.filter(t=>t[0].match(/[aA]/)).length>0,Yae=e=>Hae.default.path2curve(e.d),gYe=function(e){let{inchWidth:t,inchHeight:r}=qae(e),o=2;return t<o&&r<o&&eb.scaleObjects(e,o/Math.max(t,r)),e},yYe=function(e,t){let r=eb.boundingBox(e);eb.translateObjects(e,-r.minX+t.x,-r.maxY-t.y)},qae=function(e){let t=eb.boundingBox(e),r=t.maxX-t.minX,o=t.maxY-t.minY;return{boundingBox:t,inchWidth:r,inchHeight:o}},eb={boundingBox:aYe,translateObjects:nYe,scaleObjects:sYe,fixProperties:lYe,validateObject:cYe,normalizeObject:uYe,scaleToMinimumSize:gYe,moveToOffset:yYe,getSizeProperties:qae},Sa=eb;var xYe=function(e){let t=Gw(e).detectPPI();return fabric.DPI=t,new Promise(r=>{fabric.loadSVGFromString(e,o=>r(bYe(o,t)))})},bYe=function(e,t){return e=e.map(r=>Sa.fixProperties(r)).filter(r=>Sa.validateObject(r)).map(r=>Sa.normalizeObject(r)),Sa.scaleObjects(e,1/t),Sa.moveToOffset(e,Zae(e)),e=Sa.scaleToMinimumSize(e),e.map(r=>Hc.fabricJsonToVolume(r.toJSON(),{originY:0,pixelsPerInch:1,materialThickness:q.getMaterialThickness(N.store.getState())}))},$ae=()=>Y.isCarvey(N.store.getState())?{x:1,y:1}:{x:0,y:0},Zae=function(e){let t=N.store.getState(),r=q.getXYZeroLocation(t),{inchWidth:o,inchHeight:i}=Sa.getSizeProperties(e);switch(r){case me.XY_ZERO_CENTER:return{x:-o/2,y:-i/2};case me.XY_ZERO_FRONT_LEFT:return $ae();default:return{x:0,y:0}}},vYe={importOffset:Zae,machineShapeOffset:$ae,svgStringToVolumes:xYe},Ku=vYe;var Qae=M(P("react"),1),ele=P("react-dom"),tle=P("react-dom/client");var DV=M(P("prop-types"),1),L2=M(P("react"),1);var qw=M(P("react"),1);var EV=class extends qw.default.Component{render(){let{shape:t,cut:r}=this.props.volume,i=gl.process(t).all().reduce((n,s)=>{let a=s.points.map(l=>`${l.x},${l.y}`);return n.push(`M${a.join("L")}Z`),n},[]);return qw.default.createElement("g",null,qw.default.createElement("path",{className:r.type,d:i.join(" ")}))}},Jae=EV;var AV=M(P("react"),1);var $w=M(P("react"),1);var MV=class extends $w.default.Component{render(){let{shape:t,cut:r}=this.props.volume;t=Xe.pathifyShape(t);let o=`matrix(${Xe.shapeMatrix(t).toArray().join(",")})`,i=Xe.scalePathPoints(t);return $w.default.createElement("g",{transform:o},$w.default.createElement("path",{className:r.type,d:ns.string(i)}))}},Zw=MV;var IV=class extends AV.default.Component{render(){let{strokeBit:t,materialThickness:r,volume:o}=this.props,n=rt(t).inchWidth(r),s={shape:{type:"ellipse",center:o.shape.center,flipping:{},width:n,height:n,rotation:0},cut:{type:"fill",depth:r,outlineStyle:"on-path"}};return AV.default.createElement(Zw,{volume:s})}},Kae=IV;var Jw=class extends L2.default.Component{render(){let{volumes:t,strokeBit:r,materialThickness:o}=this.props;if(t.length===0)return null;let i=a=>{let l=a.cut.depth/o,c=Math.floor(255*(1-l)),u=`rgb(${c},${c},${c})`;return a.cut.type==="fill"||a.cut.type==="drill"?{fill:u,stroke:"none"}:{fill:"none",stroke:u}},n=t.map((a,l)=>{let c=i(a),u=null;return a.shape.type==="text"?u=L2.default.createElement(Jae,{key:a.id,volume:a}):a.shape.type==="drill"?u=L2.default.createElement(Kae,{key:a.id,volume:a,strokeBit:r,materialThickness:o}):u=L2.default.createElement(Zw,{key:a.id,volume:a}),L2.default.createElement("g",{fill:c.fill,stroke:c.stroke,key:l},u)});return L2.default.createElement("g",{transform:"scale(1, -1)"},n)}};y(Jw,"propTypes",{volumes:DV.default.array.isRequired,materialThickness:DV.default.number.isRequired});var Kw=Jw;var SYe={svgForVolumes:(e,t,r)=>{e=e.filter(m=>!Hd(m.cut));let o=Qae.default.createElement(Kw,{strokeBit:r,materialThickness:t,volumes:e}),i=document.createElement("div");i.style.display="none";let n=(0,tle.createRoot)(i);(0,ele.flushSync)(()=>{n.render(o)});for(let m of i.getElementsByClassName("outline"))m.setAttribute("stroke-width","0.01");let s=i.innerHTML,a={top:Ee.boundingBoxTop(e),right:Ee.boundingBoxRight(e)},l=a.right,c=a.top,u=`0 0 ${l} ${c}`,p=`translate(0 ${c})`;return`<svg width="${l}in" height="${c}in" viewBox="${u}" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink">
  <g transform="${p}">
    ${s}
  </g>
</svg>`}},Qw=SYe;var rle=function(e,t=0){let r=3735928559^t,o=1103547991^t;for(let i=0,n;i<e.length;i++)n=e.charCodeAt(i),r=Math.imul(r^n,2654435761),o=Math.imul(o^n,1597334677);return r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(o^o>>>13,3266489909),o=Math.imul(o^o>>>16,2246822507),o^=Math.imul(r^r>>>13,3266489909),4294967296*(2097151&o)+(r>>>0)};function ole(e){let t=new TextEncoder().encode(e),r=Array.from(t,o=>String.fromCodePoint(o)).join("");return btoa(r)}function ile(e){let t=atob(e),r=Uint8Array.from(t,o=>o.codePointAt(0));return new TextDecoder().decode(r)}function nle(e,t,r){let o=W.getActiveId(r),i=ye.getGroups(r),n=q.getMaterialThickness(r),s=re.strokeBit(r,o),a=t;Q.isProEnabled(Date.now(),r)||(a=t.filter(u=>Xe.proFeatures(u.shape).length===0));let l=Qw.svgForVolumes(a,n,s),c=JSON.stringify({app:"Easel",kind:"volumes",version:1,payload:{volumes:t,groups:i,id:e}});return l.replace("</svg>",`<!--
easel:b64:${ole(c)}
-->
</svg>`)}async function sle(e){let t=CYe(e);if(t==null)return null;let r=null;try{r=PYe(t)}catch{}return r==null&&(r={volumes:await Ku.svgStringToVolumes(e),groups:{},id:rle(e)}),r}function CYe(e){let r=new DOMParser().parseFromString(e,"image/svg+xml");if(r.getElementsByTagName("parsererror").length>0){let i=`Error parsing SVG: ${r.getElementsByTagName("parsererror")[0].textContent}`;return console.warn(i),null}return r}function PYe(e){let t=e.evaluate("(//comment())[last()]",e.documentElement,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null);if(!t.singleNodeValue?.textContent)return null;let r=t.singleNodeValue.textContent.trim(),o;try{if(!r.startsWith("easel:b64:"))return console.warn("Invalid clipboard format: missing easel:b64: prefix"),null;let i=r.split(":",3)[2];o=JSON.parse(ile(i))}catch{return console.warn("Failed to parse clipboard content as Base64 JSON"),null}return wYe(o)?o.payload:null}function wYe(e){if(!e||typeof e!="object")return!1;let{app:t,kind:r,version:o,payload:i}=e;return!(t!=="Easel"||r!=="volumes"||o!==1||!i||typeof i!="object")}var _Ye=(e,t)=>e.map(r=>{let o=le(r);return o.id=ye.newId(),o.shape.type==="text"&&!qr.getFont(o.shape.font,o.shape.fontProvider)&&(o.shape=$r.setFont(o.shape,me.DEFAULT_FONT_NAME,me.DEFAULT_FONT_PROVIDER)),o.shape=$r.setLocked(o.shape,!1),Hd(r.cut)||(o.cut.depth=Math.min(r.cut.depth,t)),o}),kYe=function(e,t){let{read:r,write:o}=e,i=0,n=0,s=null,a=async function(p){i=1;let m=t.getState();n=Date.now(),s=W.getActiveId(m);let h=nle(n,p,m);await o(h)},l=async function(){let p=t.getState(),m=Ie.selectedVolumeIds(p);if(m.length>0){let f=ye.getVolumes(p,m).filter(x=>!ho(x));a(f)}};return{cut:function(){l();let p=t.getState(),m=Ie.selectedVolumeIds(p);t.dispatch(W.actions.volumesRemove(m))},copy:l,paste:async function(){var se,ue;let p=await r();if(!p)return;let m=await sle(p);if(!m)return;let{volumes:h,groups:f,id:x}=m,v=t.getState(),b=W.getActiveId(v),S=q.getMaterialThickness(v);(n!==x||s!==b)&&(i=0,n=x,s=b);let w=Ee.boundingBox(h),_={left:w.minX,top:w.maxY,right:w.maxX,bottom:w.maxY},E={x:i*(_.right-_.left||1),y:0};i++;let T=_Ye(h,S),A=T.map(be=>be.id),O={},L={};for(let be of T){let ae=be.group;ae&&(be.group=O[se=be.group]??(O[se]=ye.newId()),L[ue=be.group]??(L[ue]=f[ae]))}t.dispatch(nr.actions.beginGroup());let R=Dr.getShiftWithState(T,v)||{x:0,y:0};R.x+=E.x,R.y+=E.y,t.dispatch(W.actions.volumesAdd(T,R)),t.dispatch(W.actions.volumesLoadGroups(L));let z=t.getState(),I=ye.getVolumes(z,A),F=Ee.boundingBox(I),B=Ee.centerFromBbox(F),j=Y.getWorkArea(z).y,X=St.getWorkpieceViewport(z),te=St.getEditorSize(z);if(Si.pointIsNotInView(j,X,te,B)){let be=Si.getOffsetToCenter(j,X,te,B);t.dispatch(W.actions.volumesTranslate(A,be.x,be.y)),a(ye.getVolumes(z,A))}t.dispatch(nr.actions.endGroup()),t.dispatch(W.actions.selectVolumes(A))}}},ale=kYe;var lle=We({name:"toasts",initialState:{isPasteErrorVisible:!1},reducers:{showPasteError(e,t){e.isPasteErrorVisible=t.payload}}}),TYe={isPasteErrorVisible:e=>e.toasts.isPasteErrorVisible},EYe={actions:lle.actions,reducer:lle.reducer,...TYe},B2=EYe;nt.group("init").register("clipboard",function(e){let r=ale({write:async o=>{try{await navigator.clipboard.writeText(o)}catch(i){console.error("Failed to write/copy: ",i)}},read:async()=>{try{return await navigator.clipboard.readText()}catch(o){console.error("Failed to read/parse clipboard contents: ",o),N.store.dispatch(B2.actions.showPasteError(!0))}return null}},N.store);Je.register("copy",r.copy),ut.register({keyboard:"default",command:r.copy,key:pt.c,meta:!0}),Je.register("cut",r.cut),ut.register({keyboard:"default",command:r.cut,key:pt.x,meta:!0}),Je.register("paste",r.paste),ut.register({keyboard:"default",command:r.paste,key:pt.v,meta:!0}),e()});nt.group("init").register("cutSettings",function(e){EASEL_USER.loggedIn?N.store.dispatch(Wi.fetchCutSettings()).then(e):e()});nt.group("init").register("filestack",e=>v3.loadScripts("https://static.filestackapi.com/v3/filestack.js").catch(()=>{console.error("There was a problem loading FileStack library. This may be due to restrictions on your network. If this is the case we recommend that your network administrator whitelist the following domains: .filestackapi.com, .filestack.com, *.filestackcontent.com, filepicker.io")}).finally(e));var MYe=async()=>await fetch("/firmware_versions/supported.json",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.ok?e.json():Promise.reject(e)),cle=Ht("firmwareVersion/setSupportedVersions",async()=>await MYe()),AYe=[],tb=We({name:"firmwareVersions",initialState:AYe,reducers:{},extraReducers:e=>{e.addCase(cle.fulfilled,(t,{payload:r})=>{t.push(...r)})}}),IYe=(e,t)=>e[tb.name].filter(r=>r.machineType===t).map(r=>r.versionNumber)||[],DYe=_e([e=>e[tb.name],e=>Y.getMachineType(e)],(e,t)=>e.find(r=>r.machineType===t&&r.current)?.hexFileLink),NYe=_e([e=>e[tb.name],e=>Y.getMachineType(e)],(e,t)=>e.find(r=>r.machineType===t&&r.current)?.versionNumber),OYe={actions:{...tb.actions,fetchFirmwareVersions:cle},reducer:tb.reducer,getSupportedVersionsForMachine:IYe,getCurrentVersionHexFileURLForMachine:DYe,getCurrentVersionNumberForMachine:NYe},ac=OYe;nt.group("init").register("firmware versions",e=>{N.store.dispatch(ac.actions.fetchFirmwareVersions()).unwrap().then(e)});var LYe=()=>Wr("/features").then(e=>e.map(BYe)),BYe=e=>({title:e.name,description:e.formatted_description,isCollectingFeedback:e.collect_feedback,link:e.name_token,launchedAt:e.launched_at,launchedAtAsMonthYear:e.launched_at_as_month_year,accessGrant:e.access_grant_feature_name}),FYe={loadFeatures:LYe},ule=FYe;var WYe={errorMessage:null,featuresList:[]},NV=Ht("features/fetch",async()=>await ule.loadFeatures()),ple=We({name:"features",initialState:WYe,reducers:{},extraReducers:e=>{e.addCase(NV.fulfilled,(t,{payload:r})=>{t.errorMessage=null,t.featuresList=r}),e.addCase(NV.rejected,(t,{error:r})=>{t.errorMessage="There was a problem loading features list.",console.error(r)})}}),VYe={getFeatures:e=>e.features.featuresList,getErrorMessage:e=>e.features.errorMessage},UYe={actions:{...ple.actions,fetchFeatures:NV},reducer:ple.reducer,...VYe},dm=UYe;nt.group("init").register("features",e=>{N.store.dispatch(dm.actions.fetchFeatures()),e()});nt.group("init").register("font library",e=>fetch("/library_fonts.json",{method:"GET",headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>{let r=t.map(({family:o,category:i,created_at:n})=>({displayName:o,category:i,createdAt:new Date(n)}));N.store.dispatch(ft.actions.loadLibraryFonts(r)),e()}).catch(t=>{console.log("There was a problem loading the font library: "+t),Ut("Easel was unable to load the font library. If this issue persists please contact help@easel.com."),e()}));nt.group("post-launch").register("fonts",(e,t)=>{let r=[];N.store.dispatch(ft.actions.setGroupTotal({group:"toolbar",total:Object.keys(_s).length}));for(let o in _s){let i=_s[o];if(i.loaded)N.store.dispatch(ft.actions.incrementGroupLoaded({group:"toolbar"})),r.push(Promise.resolve({name:o,font:i}));else{let n=qr.loadFont(o,i.opentypePath,"easel",i.baselineOffsetFraction).then(()=>(N.store.dispatch(ft.actions.incrementGroupLoaded({group:"toolbar"})),{name:o,font:i}));r.push(n)}}return Promise.all(r).then(o=>{let i=o.map(n=>({fontFamily:n.name,fontProvider:n.font.provider}));N.store.dispatch(ft.actions.setFontData(o)),N.store.dispatch(ft.actions.addFontsToToolbar(i)),e()}).catch(()=>t("There was a problem loading the default Easel fonts."))});var RYe=()=>Wr("/gallery/collections/hot.json"),jYe=()=>Wr("/gallery_notifications/recent.json"),GYe=async(e,t)=>{let r=await Wr(`/gallery/search?search=${encodeURIComponent(e)}`);return{ref:t,recs:r}},HYe=async e=>{let t=dle(e),r=await fetch("/gallery",{method:"POST",headers:zx(),body:t});if(!r.ok)throw new Error("Failed to publish project");return r.json()},zYe=async e=>{let t=dle(e),r=await fetch(`/gallery/${e.token}`,{method:"PUT",headers:zx(),body:t});if(!r.ok)throw new Error("Failed to publish project");return r.json()},dle=e=>{let t=new FormData,r={title:e.title,description:e.description,easel_link:e.projectLinkToken,gallery_collection_id:e.selectedCollectionId?.toString()||"",machine:e.machine,notes:e.notes};for(let[o,i]of Object.entries(r))i!=null&&t.append(`gallery_project[${o}]`,i);return e.materials.forEach(o=>t.append("gallery_project[materials][]",o)),e.mediaFiles.forEach(o=>t.append("gallery_project[images][]",o)),(e.imagesToRemove||[]).forEach(o=>t.append("gallery_project[images_to_remove][]",o)),t},XYe=e=>Yl(`/gallery/${e}`),YYe=async e=>Wr(`/gallery_notifications/get_new.json?since=${e}`),qYe=e=>kt(`/gallery_notifications/${e}/mark_read`),$Ye=(e,t)=>kt(`/gallery/${e.gallery_project.link_token}/comments`,JSON.stringify({link_token:e.gallery_project.link_token,message:t,notification_id:e.id})),ZYe={getHot:RYe,getRecentNotifications:jYe,search:GYe,publishProject:HYe,editPublishedProject:zYe,unpublishProject:XYe,getNotificationsSince:YYe,markNotificationRead:qYe,replyTo:$Ye},Ca=ZYe;var JYe={collections:[],hot:[],notifications:[],notificationReadState:!0,hotLoading:!1,hotError:null};function KYe(e,t){e.notifications.find(o=>o.id===t.id)||(e.notifications.unshift(t),t.read||(e.notificationReadState=!1))}var e_=Ht("gallery/fetchHot",async()=>{let e=await Ca.getHot();return QS(e)}),mle=We({name:"gallery",initialState:JYe,reducers:{setCollections:(e,t)=>{e.collections=t.payload},setHot:(e,t)=>{e.hot=t.payload},setNotifications:(e,t)=>{e.notifications=t.payload,t.payload.filter(r=>r.read==!1).length>0&&(e.notificationReadState=!1)},addGalleryNotification:(e,t)=>{KYe(e,t.payload)},markNotificationRead:(e,t)=>{let r=e.notifications.find(o=>o.id===t.payload);r&&(r.read=!0,e.notificationReadState=!e.notifications.some(o=>!o.read))},markAllRead:e=>{e.notifications.forEach(t=>{t.read=!0}),e.notificationReadState=!0},markNotificationRepliedTo:(e,t)=>{let r=e.notifications.find(o=>o.id===t.payload.notificationId);r&&(r.reply={created_at:t.payload.comment.created_at})}},extraReducers:e=>{e.addCase(e_.pending,t=>{t.hotLoading=!0,t.hotError=null}).addCase(e_.fulfilled,(t,r)=>{t.hotLoading=!1,t.hot=r.payload,t.hotError=null}).addCase(e_.rejected,(t,r)=>{t.hotLoading=!1,t.hotError=r.error.message||"Failed to fetch hot projects"})}}),QYe={getCollections:e=>e.gallery.collections,getHot:e=>e.gallery.hot,getNotifications:e=>e.gallery.notifications,getNotificationReadState:e=>e.gallery.notificationReadState,getHotLoading:e=>e.gallery.hotLoading,getHotError:e=>e.gallery.hotError},eqe={actions:mle.actions,reducer:mle.reducer,fetchHot:e_,...QYe},tn=eqe;nt.group("init").register("gallery-notifications",function(e){Ca.getRecentNotifications().then(t=>{N.store.dispatch(tn.actions.setNotifications(t))}).catch(t=>{console.error("Failed to load gallery notifications:",t)}),e()});nt.group("post-launch").register("gcode-volumes",function(e){let t=W.getActiveId(N.store.getState()),r=!1,o=function(a){let l=W.getActiveId(N.store.getState());t!=l&&(t=l,r=!0,requestAnimationFrame(()=>r=!1)),r||(N.store.dispatch(W.actions.clearGcodePasses()),N.store.dispatch(W.actions.setThreeDPreview(null)),a&&N.store.dispatch(W.actions.setThreeDTabsInfo(l,null)))},i=function(){o(!0)},n=function(){o(!1)},s=[[Me.getUnitState,n],[re.bitParams,i],[Y.getMachineType,n],[Y.getWorkArea,n],[Dt.getSelectedTile,n],[Dt.getTileOverlapDistance,n],[Q.getStartStopSafetyHeight,n],[Ue.getCutStyle,n],[Ue.getTransform,i],[Ue.getMesh,i],[Ue.getTabsInfo,n],[q.getActiveMaterial,i],[q.getMaterialDimensions,i],[ye.getVolumes,n],[Ge.getSafetyHeight,n],[Ge.getStepOver,n],[Ge.getVBitDetailStepOver,n],[Ge.getBallnoseStepOver,n],[Ge.getProfileStepOver,n],[Ge.getProfileStepOver,n],[Ge.getBitSettings,i],[Ge.getDetailBitSettings,i],[Ge.getOutlineBitSettings,i]];for(let[a,l]of s)N.store.subscribeWithSelector(a,l);Ms.onFinish(a=>requestAnimationFrame(()=>{N.store.dispatch(W.actions.setGcodePasses({gcodePasses:a})),N.store.dispatch(Nr.actions.setToolpathsGenerated())})),e()});nt.group("post-launch").register("home viewport",e=>{let t=N.store.getState(),r=St.getEditorSize(t),o=q.getXYZeroLocation(t),i=q.getMaterialDimensions(t),n=Y.getWorkArea(t);N.store.dispatch(W.actions.homeViewport({xyZeroLocation:o,materialDimensions:i,editorSize:r,workArea:n})),e()});nt.group("init").register("keyboard bindings",function(e){ut.use("default"),$("body").keydown(ut.handle),$("body").keypress(ut.handleChar),e()});var fle={},tqe=function(e){let t={},r=u=>console.log(`'${e}': ${u}`),o={},i={},n=!1,s=null,a=[],l=function(u){return{name:u,enter:function(){},exit:function(){},initial:!1}},c=function(u){if(!o[u])throw new Error(`'${e}': State '${u}' does not exist`);s&&(r(`Exiting state '${s.name}'...`),s.exit()),s=o[u];for(let p of a)p();r(`Entering state '${s.name}'...`),s.enter()};return t.enterState=u=>{if(!n)throw new Error(`'${e}': Cannot enter state '${u}' before state machine has been started`);c(u)},t.register=(u,p)=>{if(n)throw new Error(`'${e}': Cannot register state '${u}' after state machine has been started`);return i[u]=p,t},t.start=function(u){if(n)throw new Error(`'${e}': State machine has already been started`);n=!0;let p;for(let m in i){let h=i[m],f=o[m]=l(m);h(f,u??{}),f.initial&&(p=m)}if(p!=null)c(p);else throw new Error(`'${e}': No initial state`);return t},t.addChangeListener=u=>{a.push(u)},t.getState=()=>{if(!n)throw new Error(`'${e}': Cannot get state before state machine has been started`);return s.name},t.triggerEvent=function(u,...p){if(!n)throw new Error(`'${e}': Cannot trigger event '${u}' before state machine has been started`);let m=s[u];if(m!=null){let h=m(...p);h&&c(h)}},t},xn=function(e){return fle[e]??(fle[e]=tqe(e))};var LV={},OV=null,rqe=function(){return $("<span>",{class:"dismiss-prompt",html:"&times;"}).click(t_)},oqe=function(e,t){t==null&&(t={}),clearTimeout(OV),OV=t.dismiss?setTimeout(t_,t.dismiss):void 0;let r=$("#navbar-prompt");if(r.empty(),t.action!=null){let o=$('<a href="#">');o.text(e),o.click(function(i){return i.preventDefault(),t.action(),t_()}),r.append(o)}else r.text(e);r.append(rqe()),r.show(0).addClass("slidedown")},t_=function(){clearTimeout(OV),$("#navbar-prompt").removeClass("slidedown").delay(1e3).hide(0)};LV.show=oqe;LV.hide=t_;var iqe=LV,BV=iqe;var FV=()=>J.emit("hide-walkthrough"),WV=null,nqe=function(e,t){switch(e){case"localSenderDisconnected":FV();break;case"machineDisconnected":ie.isFirmwareUploading(N.store.getState())||FV();break;case"releaseWalkthrough":t!==WV&&FV();break}},hle=function(e){let{title:t,message:r}=e;Fe(t,r,[{text:"Edit Project"}])},sqe=function({isCabinetProject:e,isThreeD:t,isExternalGcode:r,isResumingCarve:o=!1}){if(!e&&!t&&!r){let i=ye.getVolumes(N.store.getState());if(i.length===0){hle(Vi.alerts.noObjectsToCarve);return}if(i.filter(n=>n.cut?.depth>0).length==0){hle(Vi.alerts.noNonZeroDepthObjectsToCarve);return}}J.emit("show-walkthrough",{isResumingCarve:o}),WV=new Date().getTime(),ke.acquireWalkthrough(WV)},aqe={triggerEvent:nqe,openWalkthrough:sqe},Rf=aqe;var lqe={showMachineNotFoundModal(){J.emit("show-machine-not-found-modal")},hideMachineNotFoundModal(){J.emit("hide-machine-not-found-modal")},showDriverDeprecatedModal(){J.emit("show-driver-deprecated-modal")},hideDriverDeprecatedModal(){J.emit("hide-driver-deprecated-modal")},showDriverUnsupportedModal(){J.emit("show-driver-unsupported-modal")},hideDriverUnsupportedModal(){J.emit("hide-driver-unsupported-modal")},showFirmwareMismatchModal(){J.emit("show-firmware-mismatch-modal")},showDriverNotInstalledModal(){J.emit("show-driver-not-installed-modal")},hideDriverNotInstalledModal(){J.emit("hide-driver-not-installed-modal")},showMachineSetupAlert(){Fe("Missing Machine Settings","Before you can carve, you need to set up or select a machine profile.",[{text:"Set Up Your Machine Profile",action(){document.location="/setup"}}])}},Ya=lqe;var cqe=function(e){let t=e.match(/^\[(.+)\]$/);if(t){let r=t[1].split(":"),o=null;for(let n of r)if(n.match(/^\d+-\d+$/)){o=n;break}let i=ie.getSerialNumber(N.store.getState());N.store.dispatch(ie.actions.receiveSerialNumber(o)),Y.isCarvey(N.store.getState())&&i!==o&&N2.loadZAxisOffset(o),N.store.dispatch(ie.actions.receiveBuildInfoString(e))}},uqe=function(e,t){switch(e){case"receivedMachineBuildInfo":cqe(t)}},pqe={triggerEvent:uqe},gle=pqe;nt.group("init").register("Easel Driver versions",e=>N.store.dispatch(jo.fetchSupportedVersions()).then(()=>{let t=xn("machine").start({localSender:ke});N.store.dispatch(ie.actions.reportConnectionState(t.getState())),t.addChangeListener(()=>{N.store.dispatch(ie.actions.reportConnectionState(t.getState()))}),ke.onEvent(t.triggerEvent),ke.onEvent(Rf.triggerEvent),ke.onEvent(gle.triggerEvent),ke.onEvent(function(r,o,i){switch(r){case"portsListed":N.store.dispatch(ie.actions.reportAvailablePorts(o));break;case"localSenderConnected":{N.store.dispatch(jo.actions.setRunningVersionNumber(o)),H?.setProperties({[U.localSenderVersion]:o}),Ya.hideDriverNotInstalledModal();let n=jo.getVersionInfo(N.store.getState(),o);n!=null&&(Ya.hideDriverUnsupportedModal(),n.deprecated?BV.show("A new Easel Driver is available! Learn more\u2026",{action(){Ya.showDriverDeprecatedModal()}}):(BV.hide(),Ya.hideDriverDeprecatedModal()));break}case"receivedLocalSenderAbilities":N.store.dispatch(jo.actions.runningVersionAbilities(o));break;case"localSenderDisconnected":N.store.dispatch(jo.actions.disconnected());break;case"receivedConnectionStatus":o!=null&&Ya.hideMachineNotFoundModal();break;case"receivedProbeStatus":N.store.dispatch(ie.actions.reportProbeStatus(o));break;case"receivedProbeResult":N.store.dispatch(ie.actions.reportProbeResult(o));break;case"receivedSpindleCurrent":N.store.dispatch(ie.actions.reportSpindleCurrent(o));break;case"machineSettings":N.store.dispatch(ie.actions.reportSetting(o));break;case"grblState":N.store.dispatch(ie.actions.reportState(o,i));break;case"grblPosition":N.store.dispatch(ie.actions.reportPosition(o));break;case"grblError":H.trackEventSometimes("Grbl Error",{message:o}),N.store.dispatch(ie.actions.logEvent("error",o));break;case"grblAlarm":H.trackEventSometimes("Grbl Alarm",{message:o}),N.store.dispatch(ie.actions.logEvent("alarm",o));break;case"grblOverCurrent":{Fe("Spindle overloaded!","Oops! We stopped your carve because the electrical current flowing to your spindle reached unsafe levels. Please double check your cut settings for the material you are using. If you have questions or if this issue persists, please contact the Easel Customer Success team at help@easel.com.");break}case"machineRunning":case"machinePaused":N.store.dispatch(Ro.actions.setProjectName(o)),N.store.dispatch(Ro.actions.setPercentComplete(i));break;case"receivedOverrides":N.store.dispatch(Ro.actions.setOverrides(o));break;case"startingFirmwareUpload":N.store.dispatch(ie.actions.startUploadingFirmware());break;case"stoppingFirmwareUpload":o.success?(H.trackEvent("Firmware Upload - Success",o),setTimeout(function(){N.store.dispatch(ie.actions.stopUploadingFirmware()),N.store.dispatch(ie.actions.clearSettings()),ke.getMachineSettings()},1e3)):(H.trackEvent("Firmware Upload - Error",o),N.store.dispatch(ie.actions.stopUploadingFirmware()),Fe("Update failed","The firmware update failed."));break;case"receiveFirmwareProgress":N.store.dispatch(ie.actions.receiveFirmwareProgress(o));break}}),e()}));var dqe={visible:!1,activeTab:"projects",activeAccountManagementOption:null,selectedPlanId:null,productKey:null},R3=e=>{typeof window<"u"&&history.pushState(null,"",`#${e}`)},yle=We({name:"userModal",initialState:dqe,reducers:{hideUserModal(e){e.visible=!1,typeof window<"u"&&history.pushState("",document.title,window.location.pathname+window.location.search)},showUserModalProjectsTab(e){return R3("projects"),{...e,visible:!0,activeTab:"projects"}},showUserModalAccountTab(e){return R3("account"),{...e,visible:!0,activeTab:"account"}},showUserModalOptionsTab(e){return R3("options"),{...e,visible:!0,activeTab:"options"}},showUserModalLearnTab(e){return R3("learn"),{...e,visible:!0,activeTab:"learning"}},showUserModalActivityTab(e){return R3("activity"),{...e,visible:!0,activeTab:"activity"}},showUserModalCabinetmakerTab(e){return R3("cabinetmaker"),{...e,visible:!0,activeTab:"cabinetmaker"}},setActiveAccountManagementOption(e,{payload:t}){return{...e,activeAccountManagementOption:t}},hideAccountManagementOption(e){return{...e,activeAccountManagementOption:null,selectedPlanId:null,productKey:null}},showCanceledConfirmation(e){return{...e,activeAccountManagementOption:"canceled-confirmation"}},showResumedConfirmation(e){return{...e,activeAccountManagementOption:"resumed-confirmation"}},showCheckout(e){return{...e,activeAccountManagementOption:"checkout"}},setSelectedPlanId(e,{payload:t}){return{...e,selectedPlanId:t}},clearSelectedPlanId(e){return{...e,selectedPlanId:null}},setProductKey(e,{payload:t}){return{...e,productKey:t}},clearProductKey(e){return{...e,productKey:null}}}}),mqe=e=>e.userModal.visible,fqe=e=>e.userModal.activeTab,hqe=e=>e.userModal.activeAccountManagementOption,gqe=e=>e.userModal.activeAccountManagementOption==="canceled-confirmation",yqe=e=>e.userModal.activeAccountManagementOption==="resumed-confirmation",xqe=e=>e.userModal.activeAccountManagementOption==="checkout",bqe=e=>e.userModal.selectedPlanId,vqe=e=>e.userModal.productKey,Sqe={actions:yle.actions,reducer:yle.reducer,getUserModalVisible:mqe,getUserModalActiveTab:fqe,getActiveAccountManagementOption:hqe,canceledConfirmationVisible:gqe,resumedConfirmationVisible:yqe,checkoutVisible:xqe,getSelectedPlanId:bqe,getProductKey:vqe},De=Sqe;nt.group("init").register("location hash",e=>{let{hash:t}=window.location;if(t){switch(t){case"#projects":N.store.dispatch(De.actions.showUserModalProjectsTab());break;case"#account":N.store.dispatch(De.actions.showUserModalAccountTab());break;case"#activity":N.store.dispatch(De.actions.showUserModalActivityTab());break;case"#options":N.store.dispatch(De.actions.showUserModalOptionsTab());break;case"#learn":N.store.dispatch(De.actions.showUserModalLearnTab());break;default:N.store.dispatch(De.actions.showUserModalProjectsTab())}history.replaceState("",document.title,window.location.pathname+window.location.search)}e()});nt.group("init").register("panel manager",e=>{let t=()=>{N.store.dispatch(W.actions.setWindowSize({width:window.innerWidth,height:window.innerHeight}))};window.onresize=t,t();let r=Gy("workpiece-storage",{}),o=r.get()?r.get().showing:!0;N.store.dispatch(W.actions.setWorkpiecesVisible(o)),N.store.subscribeWithSelector(St.getWorkpiecesVisible,i=>{r.set({showing:i})}),e()});var Cqe=function(e,t){let r=N.store.getState();if(Me.getPreferredUnit(r)==="in"?e.inches():e.millimeters(),Y.getAccessoriesEnabled(r)&&e.accessoriesOn(),Y.getAutomaticSpindleControl(r)){let o=At.getPassType(r),i,n,s=Nt.getBitKeyForPassType(o);s&&(i=ga(s,r),n=i.getSettings().spindleSpeed),n=n||Y.getSpindleRPM(r),e.spindleOn(n)}e.absolute().plungeRate(9).z(t.z)},Pqe=function(e,t,r){let o=N.store.getState();Me.getPreferredUnit(o)==="in"?e.inches():e.millimeters(),r?e.absolute().fastZ(t.z):e.absolute().z(t.z),e.fastXY(t.x,t.y),e.sync(),Y.getAutomaticSpindleControl(o)&&e.spindleOff(),Y.getAccessoriesEnabled(o)&&e.accessoriesOff()},wqe={header:Cqe,footer:Pqe},xle=wqe;var _qe=()=>`  G28
  G21 G38.2 Z-71 F80
  G10 L20 P1 X17 Y-12.25 Z${12.7+ie.getZAxisOffset(N.store.getState())}
  G54
  G0 Z20
  G0 X20 Y20`,kqe=()=>`  G53 G0 Z-1
  G54`,Tqe=()=>"G30",Eqe=function(e){e.absolute().millimeters().custom(_qe()).spindleOn(Y.getSpindleRPM(N.store.getState())).dwell(1),Me.getPreferredUnit(N.store.getState())==="in"&&e.inches()},Mqe=e=>e.absolute().millimeters().custom(kqe()).custom(Tqe()).spindleOff().sync(),Aqe={header:Eqe,footer:Mqe},ble=Aqe;nt.group("init").register("post processors",function(e){$u.register("x-carve",xle),$u.register("carvey",ble),e()});var Iqe=async e=>await kt("/labels",JSON.stringify(e)),Dqe=async()=>await Wr("/labels"),Nqe=async e=>await Yl(`/labels/${e}`),Oqe=async(e,t)=>await pa(`/labels/${e}`,JSON.stringify(t)),Lqe=async e=>await kt("/project_labels",JSON.stringify(e)),Bqe=async e=>await Yl("/project_labels",JSON.stringify(e)),Fqe={create:Iqe,index:Dqe,delete:Nqe,update:Oqe,assignLabels:Lqe,unassignLabels:Bqe},Jc=Fqe;var Wqe={userLabels:[],filteredUserLabels:[]},Sle=Ht("labels/fetchUserLabels",async()=>await Jc.index()),Cle=Ht("labels/createLabel",async e=>await Jc.create(e)),Ple=Ht("labels/deleteLabel",async e=>await Jc.delete(e)),vle=We({name:"labels",initialState:Wqe,reducers:{setFilteredUserLabels(e,{payload:t}){let r=t.toLowerCase();e.filteredUserLabels=e.userLabels.filter(o=>o.name.toLowerCase().includes(r))}},extraReducers:e=>{e.addCase(Sle.fulfilled,(t,{payload:r})=>{t.userLabels=r}),e.addCase(Cle.fulfilled,(t,{payload:r})=>{t.userLabels.push(r.created_label)}),e.addCase(Ple.fulfilled,(t,{payload:r})=>{t.userLabels=t.userLabels.filter(o=>o.id!==r.deleted_label.id),t.filteredUserLabels=t.filteredUserLabels.filter(o=>o.id!==r.deleted_label.id)})}}),Vqe={getUserLabels:e=>e.labels.userLabels,getFilteredUserLabels:e=>e.labels.filteredUserLabels},Uqe={actions:{...vle.actions,fetchUserLabels:Sle,createNewLabel:Cle,deleteLabel:Ple},reducer:vle.reducer,...Vqe},Kc=Uqe;nt.group("project-list").register("projects",e=>{if(N.store.subscribeWithSelector(ge.getProjectName,t=>{document.title=t?`Easel - ${t}`:"Easel"}),EASEL_USER.loggedIn&&N.store.dispatch(Kc.actions.fetchUserLabels()),globalThis.EASEL_PROJECT_LINK_TOKEN!=null)e();else{let t=Date.now(),r=N.store.getState(),o=Q.isProSubscriber(t,r),i=Q.activatedEaselProProductKey(r)&&Q.activatedEaselProProductKey(r).activated_at;location.hash===""&&(serverInfo?.newUser?(H.trackEvent(U.newUser),N.store.dispatch(De.actions.showUserModalLearnTab())):!o&&i?N.store.dispatch(De.actions.showUserModalAccountTab()):N.store.dispatch(De.actions.showUserModalProjectsTab())),e()}});nt.group("post-init").register("repeat-carve-disabler",function(e){let t=()=>N.store.dispatch(At.actions.setHasCompletedCarve(!1));N.store.subscribeWithSelector(Ge.getSettings,t),N.store.subscribeWithSelector(ye.getVolumes,t),N.store.subscribeWithSelector(q.getActiveMaterial,t),N.store.subscribeWithSelector(q.getMaterialDimensions,t),N.store.subscribeWithSelector(q.getXYZeroLocation,t),N.store.subscribeWithSelector(Y.getWorkArea,t),N.store.subscribeWithSelector(Y.getMachineType,t),N.store.subscribeWithSelector(re.bitParams,t),N.store.subscribeWithSelector(W.getExternalGcode,t),N.store.subscribeWithSelector(Ue.getCutStyle,t),N.store.subscribeWithSelector(Ue.getTransform,t),N.store.subscribeWithSelector(Ue.getMesh,t),e()});var Rqe={},VV=Ht("notifications/fetchSystem",async()=>await Wr("/notifications/system_notification")),_le=Ht("notifications/acknowledgeSystem",async e=>await kt("/notifications/acknowledged_notification",JSON.stringify({notification_id:e?.id}))),wle=We({name:"notifications",initialState:Rqe,reducers:{displayWebGLNotification:(e,{payload:t})=>{e.webglNotification=t},acknowledgeWebGLNotification:e=>{delete e.webglNotification}},extraReducers:e=>{e.addCase(VV.fulfilled,(t,{payload:r})=>{t.systemNotification={...r}}),e.addCase(VV.rejected,t=>{delete t.systemNotification}),e.addCase(_le.fulfilled,t=>{delete t.systemNotification})}}),jqe={getSystemNotification:e=>e.notifications?.systemNotification,getWebGLNotification:e=>e.notifications?.webglNotification},Gqe={actions:{...wle.actions,fetchSystemNotification:VV,acknowledgeSystemNotification:_le},reducer:wle.reducer,...jqe},qa=Gqe;nt.group("init").register("system notifications",function(e){EASEL_USER.loggedIn&&N.store.dispatch(qa.actions.fetchSystemNotification()),e()});nt.group("init").register("toolpath progress callbacks",function(e){Ms.onBeginPass(function(t){Jo.initialize(),Jo.setTotal(1),t==="all"?Jo.setText("Simulating toolpaths"):Jo.setText(`Simulating ${t} toolpaths`)}),Ms.onUpdate(t=>Jo.setValue(t)),Ms.onFinish(()=>requestAnimationFrame(()=>Jo.close())),e()});var Hqe=e=>J.emit("set-project-status",e),zqe=e=>J.emit("flash-project-status",e),Xqe={flash:zqe,status:Hqe},F2=Xqe;var Yqe={getErrorMessage:function(e){if(e.readyState===0)return"Check your network connection.";if(e.responseJSON!==void 0)return e.responseJSON.error||e.responseJSON.errors.join(", ");if(e.responseText)return e.responseText},camelizeKeys:e=>Object.fromEntries(Object.entries(e).map(([t,r])=>[vr.snakeToCamel(t),r]))},Qu=Yqe;var qqe={async getEaselProPlans(){return await Wr("/payments/subscriptions")},getBraintreeKey(){return Wr("/payments/token")},subscribeToEaselPro(e,t,r){let o=JSON.stringify({payment_method_nonce:e,plan_id:t,address:this.addressToSnakeCase(r)});return kt("/payments/subscribe",o)},activateAndSubscribeToEaselPro(e,t,r,o){let i=JSON.stringify({payment_method_nonce:e,plan_id:t,address:this.addressToSnakeCase(r),product_key:o});return kt("/payments/activate_and_subscribe",i)},getEaselProSubscriptionDetails(e){return Wr(`/payments/info?product=easel_pro&include_subscription=${!!e}`)},createStripePricingTableSession(){return kt("/payments/stripe/pricing_table_session").then(e=>Qu.camelizeKeys(e))},createStripeCheckoutSession(e,t,r,o,i){let n=JSON.stringify({product:e,package:t,billing_interval:r,product_key:o,embedded:i});return kt("/payments/stripe/checkout_session",n).then(s=>Qu.camelizeKeys(s))},migrateActiveSubscriptionToStripe(e,t,r,o,i){let n=JSON.stringify({product:e,package:t,billing_interval:r,product_key:o,promo_code:i});return kt("/payments/stripe/migrate_active_subscription",n).then(s=>Qu.camelizeKeys(s))},getPromoCodeDetails(e,t,r,o){let i=new URLSearchParams({code:e,product:t,package:r,billing_interval:o.toString()});return Wr(`/payments/stripe/promo_code?${i}`).then(n=>Qu.camelizeKeys(n))},getStripeCustomerPortalConfiguration(){return Wr("/payments/stripe/portal_configuration").then(e=>Qu.camelizeKeys(e))},createStripeCustomerPortalSession(){return kt("/payments/stripe/portal_session").then(e=>Qu.camelizeKeys(e))},changeStripeSubscription(e,t,r){let o=JSON.stringify({product:e,package:t,billing_interval:r});return kt("/payments/change_subscription",o)},addProductKeyToStripeSubscription(e){let t=JSON.stringify({product_key:e});return kt("/payments/product_key",t)},getEaselCabinetmakerSubscriptionDetails(){return Wr("/payments/info?"+new URLSearchParams({product:"easel_cabinetmaker"})).then(e=>Qu.camelizeKeys(e))},updatePaymentInfo(e,t){let r=JSON.stringify({payment_method_nonce:e,address:this.addressToSnakeCase(t)});return pa("/payments/update",r)},consumeEaselProFreeDay(){return kt("/payments/consumed_free_day")},consumeEaselProPurchasedDay(){return kt("/payments/consumed_purchased_day")},cancelSubscription(e){let t=JSON.stringify({product:e});return dy("/payments/cancel_subscription",t)},pauseSubscription(e,t){let r=JSON.stringify({product:e,duration_in_months:t});return dy("/payments/pause_subscription",r)},resumeSubscription(e){let t=JSON.stringify({product:e});return dy("/payments/resume_subscription",t)},addressToSnakeCase(e){if(e!=null)return{street_address:e.line1,postal_code:e.postalCode,state:e.state,city:e.city,country_code:e.countryCode}}},Ko=qqe;var r_=Ht("easelPro/loadStripePlans",async()=>await Ko.getEaselProPlans()),$qe={plans:[],error:null,loading:!1,carveOnModalExit:!1},V5=We({name:"easelPro",initialState:$qe,reducers:{setError(e,{payload:t}){e.error=t},setLoading(e,{payload:t}){e.loading=t},setCarveOnModalExit(e){e.carveOnModalExit=!0}},extraReducers:e=>{e.addCase(r_.pending,t=>{t.loading=!0,t.error=null}),e.addCase(r_.fulfilled,(t,{payload:r})=>{t.plans=r,t.loading=!1,t.error=null}),e.addCase(r_.rejected,(t,{payload:r})=>{t.loading=!1,t.error={message:`Could not get Easel Pro plans. ${r}`}})}}),Zqe=e=>e[V5.name].plans,Jqe=e=>e[V5.name].loading,Kqe=e=>e[V5.name].error,Qqe=e=>e[V5.name].carveOnModalExit,e$e=_e([e=>e[V5.name].plans,e=>Q.getEaselProInfo(e)],(e,t)=>{let r=t?.subscription?.plan_id;return r?e.find(o=>o.id===r)?.name:null}),t$e=_e([e=>e[V5.name].plans],e=>e.find(t=>t.billing_frequency===12)),r$e={actions:{...V5.actions},reducer:V5.reducer,getPlans:Zqe,isLoading:Jqe,getError:Kqe,isCarvePending:Qqe,getCurrentlySelectedPlanName:e$e,fetchStripePlans:r_,getYearlyPlan:t$e},Jr=r$e;var o$e=function(e){let t=function(o){return o==null?null:new Date(o).toISOString()},r={easel_pro_expires_at:t(e.easel_pro_expiration_date)};e.subscription!=null&&(r.easel_pro_subscription_type=e.subscription.plan_id,r.easel_pro_auto_renews_at=t(e.subscription.next_billing_date)),H.setProperties(r)},ep=function(e,t){return UV(e,!0),t().then(function(r){kle(e),UV(e,!1),e(Q.actions.setProInfo(r)),r.subscription_failed_message&&RV(e,{message:r.subscription_failed_message}),o$e(r)}).catch(function(r){throw UV(e,!1),i$e(e,r),r})},UV=(e,t)=>e(Jr.actions.setLoading(t)),RV=(e,t)=>e(Jr.actions.setError(t)),kle=e=>RV(e,null),i$e=function(e,t){let r;return t!=null&&(t.status===400?r=t.responseJSON&&t.responseJSON.message||"We couldn't process your payment at this time, please try again later.":t.status===500&&(r=t.responseJSON&&t.responseJSON.message||"Unknown error in API response")),RV(e,r)},n$e=function(e){return e(Q.actions.setSubscriptionInfoLoadingState("UNLOADED")),ep(e,()=>Ko.getEaselProSubscriptionDetails(!0)).then(()=>e(Q.actions.setSubscriptionInfoLoadingState("LOADED")))},s$e=function(e){return ep(e,()=>Ko.getEaselProSubscriptionDetails(!1))},a$e=(e,t,r)=>ep(e,()=>Ko.updatePaymentInfo(t,r)),l$e=function(e,t,r,o,i){let n;return i?n=()=>Ko.activateAndSubscribeToEaselPro(t,r,o,i):n=()=>Ko.subscribeToEaselPro(t,r,o),ep(e,n)},c$e=(e,t)=>ep(e,()=>Ko.pauseSubscription("easel_pro",t)),u$e=e=>ep(e,()=>Ko.resumeSubscription("easel_pro")),p$e=e=>ep(e,()=>Ko.cancelSubscription("easel_pro")),d$e=(e,t)=>ep(e,()=>Ko.changeStripeSubscription("easel_pro","easel_pro",t)),m$e=(e,t)=>ep(e,()=>Ko.addProductKeyToStripeSubscription(t)),f$e=(e,t,r,o)=>ep(e,()=>Ko.migrateActiveSubscriptionToStripe("easel_pro","easel_pro",t,r,o)),Tle=function(){let e=N.store.getState(),t=ie.getConnectionState(e);Jr.isCarvePending(e)&&["alarm_lock","ready_idle"].includes(t)&&Rf.openWalkthrough({isCabinetProject:zt.isCabinetProject(e),isThreeD:Ue.isThreeD(e),isExternalGcode:!!W.getExternalGcode(e)})},h$e=e=>ep(e,()=>Ko.consumeEaselProFreeDay()).then(()=>{H.trackEvent("Started Easel Pro Free Carve Day"),F2.status("Easel Pro free carve day successfully started!"),Tle()}),g$e=e=>ep(e,()=>Ko.consumeEaselProPurchasedDay()).then(()=>{H.trackEvent("Started Easel Pro Day Pass"),F2.status("Easel Pro day pass successfully started!"),Tle()}),y$e={getEaselProSubscriptionWithoutPaymentDetails:s$e,getEaselProSubscriptionWithPaymentDetails:n$e,updateBilling:a$e,subscribeToPlan:l$e,clearError:kle,pauseSubscription:c$e,resumeSubscription:u$e,cancelSubscription:p$e,changeStripeSubscription:d$e,addProductKeyToStripeSubscription:m$e,migrateActiveSubscriptionToStripe:f$e,startEaselProFreeDay:h$e,startEaselProPurchasedDay:g$e},bn=y$e;nt.group("init").register("user",function(e){let t=_e([r=>Q.isProEnabled(Date.now(),r),Q.getSubscriptionStatus,Q.getUserId,Q.getInventablesId],(r,o,i,n)=>({"Easel Pro User":r,"Easel Pro Status":o,"Easel ID":i,"Inventables ID":n}));H.setProperties(t(N.store.getState())),N.store.subscribeWithSelector(t,H.setProperties),EASEL_USER.loggedIn?bn.getEaselProSubscriptionWithoutPaymentDetails(N.store.dispatch).then(e):e()});var jV=document.querySelector("[name='csrf-token']"),x$e=()=>fetch("/fonts.json").then(e=>e.json()),b$e=e=>fetch("/fonts.json",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":jV?.content},body:JSON.stringify({family:e})}).then(t=>t.json()),v$e=(e,t="googlefonts")=>fetch(`/fonts/${e}?provider=${t}`,{method:"DELETE",headers:{"X-CSRF-Token":jV?.content}}).then(r=>r.json()),S$e=(e,t)=>{let r=new FormData;return r.append("file",e,t),r.append("family",t),fetch("/fonts",{method:"POST",headers:{"X-CSRF-Token":jV?.content},body:r}).then(o=>o.json())},C$e={get:x$e,create:b$e,destroy:v$e,upload:S$e},jf=C$e;nt.group("post-launch").register("user fonts",e=>{jf.get().then(t=>{N.store.dispatch(ft.actions.setGroupTotal({group:"pro",total:t.length}));let r=t.map(({family:o,provider:i})=>(i==="uploaded"?h5:qd).loadFont(o).then(n=>(N.store.dispatch(ft.actions.incrementGroupLoaded({group:"pro"})),{name:o,success:!0,provider:i,font:n})).catch(n=>({family:o,provider:i,success:!1,font:null,error:n})));return Promise.all(r).then(o=>{let i=o.filter(s=>s.success),n=i.map(s=>({fontFamily:s.name,fontProvider:s.provider}));return N.store.dispatch(ft.actions.setFontData(i)),N.store.dispatch(ft.actions.addFontsToToolbar(n)),o})}).then(t=>{let r=t.filter(o=>!o.success);r.length>0&&(N.store.dispatch(ft.actions.setCustomFontErrors(r.map(o=>({family:o.family,provider:o.provider})))),console.error(`Failed to load ${r.length} user fonts: ${r.map(o=>o.family).join(", ")}`),H.trackEventOnce("Failed to load font",{name:r[0].family,message:r[0].error})),e()}).catch(t=>{console.warn("There was a problem loading custom user fonts.",t),Fe("Oops!","Easel was unable to load your custom fonts. If this issue persists, please contact our customer success team at help@easel.com"),e()})});var Ele=M(P("clipper2-wasm/dist/es/clipper2z.wasm?url"),1),Mle=M(P("manifold-3d/manifold.wasm?url"),1);nt.group("post-init").register("load-worker",async e=>{let t=await Qs.loadWASM({clipper2:Ele.default,manifold:Mle.default});t.errors&&t.errors.forEach(r=>{H.trackEvent(U.errorLoadingWASM,{Library:r.library,error:r.message,context:"worker"})}),e()});nt.group("post-init").register("webgl",function(e){let t=document.createElement("canvas"),r=t.getContext("webgl2")??t.getContext("webgl"),o=r?.constructor?.name??"n/a",i=r?.getParameter(r.VERSION)??"n/a",n=r?.getParameter(r.RENDERER)??"n/a";(o==="WebGLRenderingContext"||o==="n/a")&&N.store.dispatch(qa.actions.displayWebGLNotification({title:"Your system does not support WebGL 2.0",message:"Please upgrade your computer to see the 3D preview."})),Math.random()<=DS&&H.trackEvent("Tested WebGL support",{Context:o,"WebGL version":i,"WebGL renderer":n}),e()});var ur=M(P("three"),1);var Ale={G0:{all:new ur.Color(12389919),detail:new ur.Color(65280),roughing:new ur.Color(12389919),pocket:new ur.Color(12389919),outline:new ur.Color(65535)},G1:{all:new ur.Color(947901),detail:new ur.Color(2637460),roughing:new ur.Color(947901),pocket:new ur.Color(947901),outline:new ur.Color(16753920)}},Ile=.125,P$e=function(e,t,r,o,i){let n=f2(r,o);if(n===0)return;let s=Math.ceil(n/Ile);for(let a=1;a<s;a++){let l=QB(r,o,a*Ile/n);e.push(new ur.Vector3(l.x,l.y,l.z)),t.push(i)}e.push(new ur.Vector3(o.x,o.y,o.z)),t.push(i)},w$e=function(){let e=N.store.getState();return Y.isCarvey(e)?{x:20/25.4,y:20/25.4,z:20/25.4}:{x:0,y:0,z:Q.getOriginSafetyHeight({safetyHeight:Ge.getSafetyHeight(e)},e)}},Dle=function(e,t="all"){let r=e?e.split(`
`):[],o=[],i=[],n=null,s=w$e(),a=Uw(s),l=null;for(let c of r){c=a.format(c),n=a.positionFromLine(c);let u=a.commandFromLine(c);u!=="G0"&&u!=="G1"||(l!==u&&(o.push(new ur.Vector3(s.x,s.y,s.z)),i.push(Ale[u][t])),P$e(o,i,s,n,Ale[u][t]),s=n,l=u)}return{vertices:o,colors:i}},_$e=function(e,t){if(DISABLE_3D)return;let r=new ur.BufferGeometry,{vertices:o,colors:i}=Dle(e,t);r.setAttribute("position",new ur.Float32BufferAttribute(o.flatMap(s=>[s.x,s.y,s.z]),3)),r.setAttribute("color",new ur.Float32BufferAttribute(i.flatMap(s=>[s.r,s.g,s.b]),3));let n=new ur.LineBasicMaterial({color:16777215,opacity:1,linewidth:1,vertexColors:!0});return new ur.Line(r,n)},k$e=function(e){if(!e)throw new Error("Bit is required for createBitMesh");let t=e.inchWidth()/2,r=new ur.MeshPhongMaterial({color:13421772});r.transparent=!0,r.opacity=.7;let o,i,n,s;switch(e.type()){case qe.v:o=t/Math.tan(e.radianTipAngle()/2),i=new ur.ConeGeometry(t,o,20),i.rotateX(-Math.PI/2),i.translate(0,0,o/2);break;case qe.ballnose:o=.5,s=new ur.SphereGeometry(t,32,16,Math.PI,Math.PI),n=new ur.CylinderGeometry(t,t,o,20),n.rotateX(-Math.PI/2),n.translate(0,0,o/2),s.translate(0,0,t);break;default:o=4*t,i=new ur.CylinderGeometry(t,t,o,20),i.rotateX(-Math.PI/2),i.translate(0,0,o/2)}let a;if(e.type()===qe.ballnose){let l=new ur.Mesh(n,r),c=new ur.Mesh(s,r);a=new ur.Group,a.add(l,c)}else a=new ur.Mesh(i,r);return a.visible=!1,a},T$e={createMesh:_$e,createBitMesh:k$e,gcodeToVerticesAndColors:Dle},mm=T$e;var o_=function(e,t,r,o,i,n){e.beginPath(),e.arc(t+o-n,r+i-n,n,0,Math.PI/2),e.arc(t+n,r+i-n,n,Math.PI/2,Math.PI),e.arc(t+n,r+n,n,Math.PI,-Math.PI/2),e.arc(t+o-n,r+n,n,-Math.PI/2,0),e.closePath(),e.fill()},E$e=function({drawingContext:e,pixelsPerInch:t,size:r}){let{WIDTH:o,LENGTH:i,OFFSET:n,FILLET:s,KEEP_AWAY:a}=l5,l=a+i+a,c=a+o+a,u="#9C9C9C",p="#E4AFB0";e.save(),e.scale(t,t),e.translate(0,r.height),e.scale(1,-1),e.rect(0,0,r.width,r.height),e.clip(),e.translate(-n,-n),e.fillStyle=p,o_(e,-a,-a,l,c,s+a),o_(e,-a,-a,c,l,s+a),e.fillStyle=u,o_(e,0,0,i,o,s),o_(e,0,0,o,i,s),e.restore()},M$e={render:E$e},Nle=M$e;var A$e={render({drawingContext:e,pixelsPerInch:t,units:r,size:o}){let i={in:1,mm:10},n={in:1,mm:25.4},s={in:.2,mm:.15},a={width:o.width*t,height:o.height*t},l={width:o.width*n[r],height:o.height*n[r]},c=.25*t,u=s[r]*t;e.save(),e.fillStyle="rgba(255, 255, 255, 0.75)",e.fillRect(0,0,a.width,a.height),e.lineWidth=.03125*t,e.strokeStyle="rgba(72, 140, 197, 0.3)",e.fillStyle="#415e79",e.font=`${u}px/${c}px Helvetica`;for(let p=0;p<=l.width;p+=i[r]){let m=p*t/n[r];e.save(),e.textAlign="center",e.moveTo(m,0),e.lineTo(m,a.height),e.fillText(p,m,a.height+c),e.restore()}for(let p=0;p<=l.height;p+=i[r]){let m=p*t/n[r];e.save(),e.textAlign="right",e.textBaseline="middle",e.moveTo(0,a.height-m),e.lineTo(a.width,a.height-m),e.fillText(p,-c/2,a.height-m),e.restore()}e.stroke(),e.restore(),e.save(),e.lineWidth=.03125*t,e.strokeStyle="#415e79",e.strokeRect(0,0,a.width,a.height),e.restore()}},j3=A$e;var I$e=function(e,t,r){let o=e.width-t.x*r,i=e.height-t.y*r;return ct().translatedBy(o/2,i/2)},D$e=function(e,t,r,o,i){let n={drawingContext:e,pixelsPerInch:t,units:o,size:{width:r.x,height:r.y}};j3.render(n),i&&Nle.render(n)},N$e=function({gcode:e,ctx:t,workArea:r,unit:o,size:i,isCarvey:n,pixelRatio:s}){t.save(),t.fillStyle="#fff",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.scale(s,s);let a=Math.min(i.width/(r.x+3),i.height/(r.y+3));t.transform(...I$e(i,r,a).toArray()),D$e(t,a,r,o,n);let{vertices:l,colors:c}=mm.gcodeToVerticesAndColors(e);c=c.map(u=>"#"+u.getHexString()),t.beginPath();for(let u=0;u<l.length;u++){let p=l[u];u===0&&t.moveTo(p.x,p.y);let m=c[u];t.strokeStyle!==m&&(t.stroke(),t.beginPath(),t.strokeStyle=m);let h=p.x*a,f=(r.y-p.y)*a;t.lineTo(h,f)}t.stroke(),t.restore()},O$e={renderGcodeToContext:N$e},i_=O$e;var Gf=M(P("three"),1);var tp=M(P("three"),1),GV=class{constructor(t={}){this.renderQueue=0,this.renderer=new tp.WebGLRenderer({antialias:!0,alpha:!0}),this.afterNextRender=null,this.target=null,this.alpha=null,this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=tp.PCFSoftShadowMap,this.renderer.localClippingEnabled=!0;let r=t.backgroundColor||16777215;this.renderer.setClearColor(r),this.scene=new tp.Scene,[{intensity:1.28,pos:[0,0,10]},{intensity:1.41,pos:[-5,10,10]},{intensity:.96,pos:[0,10,10]},{intensity:1.28,pos:[-5,-5,-10]},{intensity:1.28,pos:[5,-5,-10]}].forEach(({intensity:o,pos:i})=>{let n=new tp.DirectionalLight(16777215,o);n.position.set(...i),this.scene.add(n)}),this.camera=new tp.PerspectiveCamera(45,1,.5,900),this.camera.up=t.cameraUp??new tp.Vector3(0,0,1)}calculateHomeCamera(t,r=1.75){let o={x:t.maxX-t.minX,y:t.maxY-t.minY,z:t.maxZ-t.minZ},i={x:(t.minX+t.maxX)/2,y:(1.5*t.minY+t.maxY)/2.5,z:(t.minZ+t.maxZ)/2},n=r*Math.max(o.x,o.y*.75,o.z),s;o.z>.5*o.x?s=30*(Math.PI/180):o.y>2*o.x?s=45*(Math.PI/180):s=60*(Math.PI/180);let a={x:i.x,y:i.y-n*Math.cos(s),z:i.z+n*Math.sin(s)};return{lookAt:i,position:a}}renderNow(){this.renderer&&this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.afterNextRender!=null&&typeof this.afterNextRender=="function"&&(this.afterNextRender(),this.afterNextRender=null))}renderLater(){this.renderQueue+=1,requestAnimationFrame(()=>{this.orientationGizmo&&this.orientationGizmo.update(),this.renderQueue-=1,this.renderQueue===0&&this.renderNow()})}setSize(t,r){this.renderer.setSize(t,r),this.camera.aspect=t/r,this.camera.updateProjectionMatrix(),this.renderNow()}add(t){this.scene.add(t),this.renderLater()}addMeshes(t){for(let r of t)r!=null&&this.scene.add(r)}removeMeshes(t){for(let r of t)this.scene.remove(r)}getCameraPosition(){return this.camera.position}setCameraPosition(t){this.camera.position.set(t.x,t.y,t.z),this.renderNow()}render(){this.renderLater()}getDOMElement(){return this.renderer.domElement}getRenderContext(){return this.renderer.getContext()}setAfterNextRender(t){this.afterNextRender=t}setOrientationGizmo(t){this.orientationGizmo=t}dispose(){this.renderer.dispose()}},G3=GV;var n_=P("three");var HV=class e{constructor(t){y(this,"_json");y(this,"_verts");y(this,"_geom");if(t.format!=="threejs")throw new Error(`Mesh: unexpected format: ${t.format}`);this._json=t,this._verts=qC.fromJsonMesh(t);let o=new n_.ObjectLoader().parseGeometries([t.geometry]);this._geom=Object.values(o)[0],this._geom.computeBoundingBox(),this._geom.computeVertexNormals()}static load(t){return t==null?null:new e(t)}serialize(){return this._json}equals(t){return this._json.geometry.id===t._json.geometry.id}dispose(){this._geom?.dispose(),this._geom=null}geometry(){return this._geom.clone()}bbox(){return this._geom.boundingBox.clone()}center(){let t=new n_.Vector3;return this._geom.boundingBox.getCenter(t),t}vertices(t){return this._verts.transform(t)}},H3=HV;function s_(e,t="webp"){let r=`image/${t}`;return t==="webp"&&!document.createElement("canvas").toDataURL("image/webp").startsWith("data:image/webp")&&(r="image/png"),new Promise(o=>{e.toBlob(i=>o(i&&i.slice(0,i.size,r)),r,.7)})}var zV=class{constructor(t,r){this.renderer=new G3,this.renderer.setSize(t,r)}render(t,r,o){let i=H3.load(t);this.model=new Gf.Mesh(i.geometry(),new Gf.MeshStandardMaterial({color:o.color??16178880,metalness:0,roughness:r8(o),transparent:!0,polygonOffset:!0,polygonOffsetUnits:1,polygonOffsetFactor:1})),this.model.matrixAutoUpdate=!1,this.model.matrix=new Vp(i.bbox(),r).matrix(),this.renderer.add(this.model);let n=new Gf.Vector3;n.copy(i.center()),n.applyMatrix4(this.model.matrix);let s=new Gf.Vector3;this.model.geometry.boundingBox.getSize(s);let a=new Gf.Vector3;a.setFromMatrixScale(this.model.matrix);let l=new Gf.Vector3;l.multiplyVectors(s,a);let c=.5,u=Math.max(l.x,l.y,l.z),p=45*Math.PI/180,m=Math.tan(p)*u;return this.renderer.setCameraPosition({x:n.x,y:-(u-n.y)/c,z:m/c+n.z/2}),this.renderer.camera.lookAt(n),this.renderer.camera.updateProjectionMatrix(),this.renderer.render(),new Promise(h=>this.renderer.setAfterNextRender(()=>{this.renderer.removeMeshes([this.model]),h()}))}async getImageBlob(t){let r=await s_(this.renderer.getDOMElement());return t(r)}},Ole=zV;var XV=class{constructor(){this.debouncedSave=ha(t=>{this.saveInProgress=!0,this._saveThumbnailOnServer(t)}),this.imageBlob=null}saveThumbnail(t,r=!1,o=null){this.imageBlob=t,this._saveThumbnailLocally?.(o),!this.saveInProgress&&!r&&this.debouncedSave(o)}},a_=class extends XV{_saveThumbnailOnServer(t){let r=W.getWorkpiece(N.store.getState(),t);r&&k4.updateWorkpieceThumbnail(r.backendId,this.imageBlob).catch(o=>{console.error(o)}).finally(()=>{this.saveInProgress=!1})}_saveThumbnailLocally(t){if(typeof FileReader>"u")return;let r=new FileReader;r.addEventListener("load",()=>{N.store.dispatch(W.actions.setThumbnailImage(t,r.result))}),r.readAsDataURL(this.imageBlob)}};var U5=class{constructor(t=null,r=null,o=null,i=null){let n=1.288888888888889,s=250,a=s*n;this.width=t||a,this.height=r||s,this.volumes=o,this.material=i,this.lastState=null,this.canvas=new fabric.Canvas("thumbnail-renderer-canvas",{width:t,height:r}),this.canvas.on("before:render",()=>this.prerender()),this.workpieceThumbnailSaver=new a_,this.mesh3dRenderer=null,this.threeDimensionalRenderer=null}getFittedViewport(){let t=Ee.boundingBox(this.volumes),r={left:t.minX,right:t.maxX,top:t.maxY,bottom:t.minY},o={width:this.width,height:this.height},i=Y.getWorkArea(N.store.getState()),n={x:this.width/8,y:this.width/8},s=Si.zoomStateToRect({},o,i,r,n);return Si.getViewportMatrix(s).toArray()}getStateFromStores(){let t=N.store.getState(),r=im.getStateFromStores(this.volumes,!1),o=Y.getWorkArea(t),i=q.getMaterialDimensions(t);return{...r,gcode:W.getExternalGcode(t),mesh:Ue.getMesh(t),transform:Ue.getTransform(t),finish:Ue.getFinish(t),canvas:this.canvas,ignoreSelection:!0,drawingContext:this.canvas!=null?this.canvas.getContext():void 0,viewportTransform:this.getFittedViewport(),viewWidth:this.width,viewHeight:this.height,xyZeroLocation:q.getXYZeroLocation(t),pixelsPerInch:me.PIXELS_PER_INCH,units:Me.getPreferredUnit(t),workArea:{width:o.x,height:o.y},material:{width:i.x,height:i.y},wasteboardType:bt.currentWasteboardType(t)}}renderEditorBackground(t){let{drawingContext:r,material:o,pixelsPerInch:i,units:n,workArea:s}=t,a=ot.materialBoundary({x:o.width,y:o.height},t.xyZeroLocation);r.fillStyle="#cce6fd",r.fillRect(0,0,r.canvas.width,t.drawingContext.canvas.height),r.save(),r.transform(...t.viewportTransform),r.translate(a.minX*i,(s.height-a.maxY)*i),j3.render({drawingContext:r,pixelsPerInch:i,units:n,size:o}),r.restore()}prerender(){if(W.getExternalGcode(N.store.getState())==null){let t=this.getStateFromStores();this.material&&(t.material=this.material),this.renderEditorBackground(t)}}renderVolumes(t){return im.render(t)}render3d(t){return this.mesh3dRenderer===null&&(this.mesh3dRenderer=new Ole(this.width,this.height)),this.mesh3dRenderer.render(t.mesh,t.transform,t.finish)}renderGcode2d(t){i_.renderGcodeToContext({pixelRatio:1,size:{width:t.viewWidth,height:t.viewHeight},isCarvey:t.wasteboardType==="carvey",gcode:t.gcode,ctx:this.canvas.getContext("2d"),workArea:Y.getWorkArea(N.store.getState()),unit:Me.getPreferredUnit(N.store.getState())})}hasStateChanged(t){return _r(this.lastState,t)||this.lastState===null?(this.lastState=t,!1):(this.lastState=t,!0)}render(){this.volumes=this.volumes||ye.getVolumes(N.store.getState());let t=this.getStateFromStores();if(t.mesh!=null){this.render3d(t);return}else t.gcode!=null?this.renderGcode2d(t):this.renderVolumes(t);return this.canvas}renderAndSave(){if(W.getActiveWorkpiece(N.store.getState())?.loadingState.status!=="complete")return;this.volumes=ye.getVolumesForFabric(N.store.getState());let r=this.getStateFromStores(),o=ge.isReadOnly(N.store.getState());this.hasStateChanged(r)&&(r.mesh!=null?this.render3d(r).then(()=>{this.mesh3dRenderer.getImageBlob(i=>{this._save(i,o)})}):(r.gcode!=null?this.renderGcode2d(r):this.renderVolumes(r),this.canvas.getElement().toBlob(i=>{this._save(i,o)})))}_save(t,r){this.workpieceThumbnailSaver.saveThumbnail(t,r,W.getActiveId(N.store.getState()))}};nt.group("init").register("workpieces",function(e){let t=new U5,o=ha(()=>{setTimeout(()=>{t.renderAndSave()},0)},100);[Y.getWorkArea,re.bitParams,W.getExternalGcode,q.getMaterialDimensions,q.getXYZeroLocation,Ue.getTransform,Ue.getFinish,Me.getUnitState,ye.getVolumes].forEach(i=>{N.store.subscribeWithSelector(i,o)}),e()});xn("machine").register("alarm_lock",function(e){e.grblState=function(t){if(t==="idle")return"ready_idle"},e.grblAlarm=function(t){let r=N.store.getState(),i=ie.getFeatures(r)?.errorResponses||{},{homingFailed:n}=i;if(n!=null&&n.test(t))return Fe(Vi.alerts.homingFailed.title,Vi.alerts.homingFailed.message(Y.getMachineType(r))),null},e.grblError=function(t){let o=ie.getFeatures(N.store.getState())?.errorResponses||{},{checkDoor:i}=o;if(i!=null&&i.test(t)){J.emit("door-error"),Fe("Cannot move the machine while the door is open","Close the door and try again.");return}},e.machineRunning=()=>"running",e.machineDisconnected=()=>"connecting_to_machine",e.localSenderDisconnected=()=>"connecting_to_local_sender"});xn("machine").register("checking_connection_status",function(e,t){e.enter=function(){let r={socket:!0,file:it("iris_serial_logging")};t.localSender.serialEcho(r),t.localSender.getConnectionStatus()},e.localSenderDisconnected=()=>"connecting_to_local_sender",e.receivedConnectionStatus=function(r){if(r!=null){let o=bt.firmwareVersionForReadyResponse(r,N.store.getState());return N.store.dispatch(ie.actions.receiveFirmwareVersion(o)),console.log(`Connected to ${o}`),"checking_machine_status"}else return console.log("Not connected"),"connecting_to_machine"}});xn("machine").register("checking_machine_status",function(e,t){e.enter=function(){t.localSender.getJobStatus(),t.localSender.getMachineBuildInfo()},e.localSenderDisconnected=()=>"connecting_to_local_sender",e.machineDisconnected=()=>"connecting_to_machine",e.machineReady=function(){return N.store.dispatch(ie.actions.clearSettings()),ke.getMachineSettings(),"ready_idle"},e.machineRunning=()=>"running",e.machinePaused=()=>"paused",e.machineStopping=()=>"stopping"});xn("machine").register("connecting_to_local_sender",function(e,t){e.enter=()=>t.localSender.initSocket(),e.localSenderConnected=function(r){return jo.getVersionInfo(N.store.getState(),r)!=null?"checking_connection_status":"local_sender_out_of_date"},e.initial=!0});var L$e=()=>!document.hidden,B$e={shouldConnect:L$e},Lle=B$e;var F$e=["Arduino","FTDI"],W$e=["VID_2341","VID_0403","Arduino"],V$e=["VID_1A86","usb-1a86","VID_16D0"],U$e=e=>e.manufacturer!=null&&e.manufacturer.match("Inventables"),R$e=function(e){let t;for(t of F$e)if(e.manufacturer!=null&&e.manufacturer.match(t))return!0;for(t of W$e)if(e.pnpId!=null&&e.pnpId.match(t))return!0;let r=N.store.getState(),o=Y.getMachineType(r);if(o&&o===ze.OTHER_GRBL){for(t of V$e)if(e.pnpId!=null&&e.pnpId.match(t))return!0}return!1},j$e=e=>e.comName&&(e.comName.match("usbmodem")||e.comName.match("usbserial")),G$e=function(e){for(let t of e)if(U$e(t))return t;for(let t of e)if(R$e(t))return t;for(let t of e)if(j$e(t))return t;return null},H$e={findMachinePort:G$e},Ble=H$e;var z$e={isWindows:(e=navigator.userAgent)=>e.match(/Windows/)!=null,isMac:(e=navigator.userAgent)=>e.match(/Mac/)!=null,isLinux:(e=navigator.userAgent)=>e.match(/Linux/)!=null},Qc=z$e;xn("machine").register("connecting_to_machine",function(e,t){let r=null,o=0,i=!1;var n=V8(function(){if(!Lle.shouldConnect())return;let l=bt.currentControllers(N.store.getState());if(o>=l.length){n.stop(),a.startNow(500);return}t.localSender.setConfig(l[o++]);let c=100,u=r;setTimeout(()=>{t.localSender.initPort(u)},c)});let s=function(l){a.stop(),r=l,o=0,n.startNow(4e3)};var a=V8(function(){let l=N.store.getState();if(Y.shouldAutoDetectMachine(l)||!Qc.isWindows())i||(t.localSender.listPorts(),i=!0);else{let c=Y.getComPort(l);c!=null&&s(c)}});e.enter=function(){a.startNow(500),i=!1},e.exit=function(){n.stop(),a.stop()},e.portsListed=function(l){let c=Ble.findMachinePort(l);return c!=null&&s(c.comName),i=!1,null},e.localSenderDisconnected=()=>"connecting_to_local_sender",e.receivedConnectionStatus=function(l){if(l!=null){let c=bt.firmwareVersionForReadyResponse(l,N.store.getState());return N.store.dispatch(ie.actions.receiveFirmwareVersion(c)),console.log(`Connected to ${c}`),A5.clear(),N.store.dispatch(ie.actions.clearStatusMessage()),"checking_machine_status"}else return null},e.sentFeedback=function(){return J.emit("close-job-status-modal"),null}});xn("machine").register("local_sender_out_of_date",e=>{e.localSenderDisconnected=()=>"connecting_to_local_sender"});xn("machine").register("paused",function(e){let t=r=>J.emit("ended-job",r);e.machineDisconnected=function(r){return t(r),"connecting_to_machine"},e.localSenderDisconnected=function(){return t(),"connecting_to_local_sender"},e.machineReady=()=>"ready_idle",e.grblState=function(r){if(r==="alarm")return"alarm_lock"},e.machineRunning=()=>"running",e.machinePaused=()=>null,e.machineStopping=()=>"stopping"});xn("machine").register("ready_idle",function(e){e.machineDisconnected=()=>"connecting_to_machine",e.localSenderDisconnected=()=>"connecting_to_local_sender",e.grblState=function(t){if(t==="alarm")return"alarm_lock"},e.grblError=function(t){let o=ie.getFeatures(N.store.getState())?.errorResponses||{},{checkDoor:i}=o;if(i!=null&&i.test(t)){J.emit("door-error"),Fe("Cannot move the machine while the door is open","Close the door and try again.");return}},e.machineRunning=()=>"running",e.sentFeedback=function(){return J.emit("close-job-status-modal"),null}});var X$e=function(e,t,r=Gy){t==null&&(t=Date);let o={},i=r(`stopwatch:${e}`,{}),n=()=>{let u=i.get();return u?u.elapsed:0},s=()=>{let u=i.get();return u?u.startTime:null},a=function(){let u,p=n(),m=(u=s())!=null?u:t.now();return i.set({startTime:m,elapsed:p})},l=function(){let u=n(),p=s();return p==null||(u+=t.now()-p,i.set({startTime:null,elapsed:u})),u},c=()=>i.set({startTime:null,elapsed:0});return o.start=a,o.stop=l,o.reset=c,o},Fle=X$e;var lc=null,Wle=()=>{lc=document.createElement("video"),lc.src=EASEL_ASSETS.videos.sleep.mp4,lc.style.position="absolute",lc.style.top="-10px",lc.style.left="-10px",lc.width=10,lc.height=10,document.body.appendChild(lc)},Y$e=()=>{lc||Wle(),lc.loop=!0,lc.play().catch(e=>console.warn(e))},q$e=()=>{lc||Wle(),lc.loop=!1,lc.pause()},$$e={prevent:Y$e,allow:q$e},YV=$$e;xn("machine").register("running",function(e,t){let r="http://carvey-instructions.inventables.com/smart_clamp/",o=Fle("running"),i=a=>J.emit("ended-job",a),n=function(a){ks.percentComplete(Ro.getEffectivePercentComplete(N.store.getState())),i(a)},s=function(){let a;if((a=o.stop())!==0){let c=ks.data().timeEstimate,u=a/1e3/60,p=Math.abs(u-c)/u*100;H.trackEventSometimes("Job Times",{estimate:c,actual:u,percentError:p}),o.reset(),O3.finish()}F2.flash("Job completed"),N.store.dispatch(At.actions.setHasCompletedCarve(!0)),i()};e.enter=function(){Ro.getEffectivePercentComplete(N.store.getState())===0&&o.reset(),o.start(),YV.prevent()},e.exit=function(){o.stop(),YV.allow()},e.machineDisconnected=function(a){return n(a),"connecting_to_machine"},e.localSenderDisconnected=function(){return n(),"connecting_to_local_sender"},e.machineReady=()=>"ready_idle",e.machineRunning=function(a,l){return l===100?(s(),"ready_idle"):null},e.machinePaused=()=>"paused",e.machineStopping=function(){return ks.percentComplete(Ro.getEffectivePercentComplete(N.store.getState())),"stopping"},e.grblState=function(a){if(a==="alarm")return"alarm_lock"},e.grblAlarm=function(a){let l=N.store.getState(),u=ie.getFeatures(l)?.errorResponses||{},{homingFailed:p,probeFailed:m}=u;if(p!=null&&p.test(a)){Fe(Vi.alerts.homingFailed.title,Vi.alerts.homingFailed.message(Y.getMachineType(l)));return}if(m!=null&&m.test(a))return H.trackEvent("Probe fail"),Fe("Smart Clamp probing failed","The Smart Clamp button is stuck and needs to be cleaned. Refer to the Carvey manual for cleaning instructions. Please contact customer support if you continue to have problems.",[{text:"Cleaning Info",action(){return window.open(r,"_blank")}},{text:"OK"}]),t.localSender.reset(),"alarm_lock"}});xn("machine").register("stopping",function(e){return e.enter=function(){O3.finish(),J.emit("ended-job",null)},e.machineReady=()=>"ready_idle",e.grblState=function(t){if(t==="alarm")return"alarm_lock"}});var tSo=M(Ece(),1);var jx=M(P("react"),1),KX=P("react-dom/client"),QX=M(P("react-redux"),1);var ab=M(P("react"),1);var so=M(P("react"),1),L_=P("react-bootstrap"),Zf=P("react-redux");var To=M(P("react"),1),Z$e=()=>To.default.createElement("div",{className:"cabinetmaker-container mt-2 px-2 overflow-scroll"},To.default.createElement("div",{className:"p-2"},To.default.createElement("iframe",{width:"100%",height:"300",src:"https://www.youtube.com/embed/ldSSQQFiEJA?si=NPVLvY3nHCfojwxj",allowFullScreen:""})),To.default.createElement("h3",{className:"text-secondary m-2 mb-4"},"What is Easel Cabinetmaker?"),To.default.createElement("div",{className:"d-flex justify-content-between"},To.default.createElement("div",{className:"text-center"},To.default.createElement("i",{className:"bi bi-clipboard-check fs-1"}),To.default.createElement("h4",{className:"m-2"},"Stress Reducer"),To.default.createElement("p",null,"Simplify your workflow and keep your business organized with job management. Cut out the chaos and focus on the work that matters most.")),To.default.createElement("div",{className:"text-center"},To.default.createElement("i",{className:"bi bi-watch fs-1"}),To.default.createElement("h4",{className:"m-2"},"Time Saver"),To.default.createElement("p",null,"Avoid hassles and increase your efficiency with effortless design tools and automatic calculations. Generate cut lists in seconds to make your designs a reality.")),To.default.createElement("div",{className:"text-center"},To.default.createElement("i",{className:"bi bi-coin fs-1"}),To.default.createElement("h4",{className:"m-2"},"Money Maker"),To.default.createElement("p",null,"We\u2018ll do the math, you count the profits! Reduce your costs with optimized manufacturing plans and see how much you can make with built-in estimates."))),To.default.createElement("hr",null),To.default.createElement("div",{className:"d-flex justify-content-between"},To.default.createElement("div",{className:"d-flex align-items-center text-center"},To.default.createElement("i",{className:"bi bi-people-fill fs-2 text-easel-blue ms-4 me-2"}),To.default.createElement("p",{className:"mt-3 ms-2 me-4"},"Join the conversation and keep up to date with new developments on our forum!")),To.default.createElement("div",{className:"d-flex align-items-center text-center"},To.default.createElement("i",{className:"bi bi-question-circle fs-2 text-easel-blue ms-4 me-2"}),To.default.createElement("p",{className:"mt-3 ms-2 me-4"},"Learn more about Easel Cabinetmaker through our resources, videos, and FAQ"))),To.default.createElement("hr",null),To.default.createElement("div",{className:"d-flex justify-content-center pt-3 pb-2 sticky-bottom background-grey"},To.default.createElement("a",{className:"btn btn-lg btn-primary",href:"/cabinetmaker-signup",rel:"noreferrer"},"Go to Easel Cabinetmaker"))),Mce=Z$e;var Go=M(P("react"),1),J$e=()=>Go.default.createElement("div",{className:"learn-container"},Go.default.createElement("div",{className:"learn-container__inner"},Go.default.createElement("div",{className:"learn-container__video"},Go.default.createElement("iframe",{width:"100%",height:"300",src:"https://www.youtube.com/embed?listType=playlist&list=PLAmM1KFD0JzbWUqcG_cDzYNDBxjVg7TjS",allowFullScreen:""})),Go.default.createElement("p",{className:"learn-container__youtube-text"},"In addition to getting started videos, we post regular feature overviews, project highlights, and how-to videos. Follow us on YouTube for new updates daily!"),Go.default.createElement("div",{className:"learn-container__flex learn-container__flex-vcenter"},Go.default.createElement("h3",null,"Start learning now"),Go.default.createElement("a",{className:"btn btn-lg btn-success learn-container__intro-button",href:"/intro",rel:"noreferrer"},"New intro project")),Go.default.createElement("hr",null),Go.default.createElement("div",null,Go.default.createElement("h3",null,"See what you can do with Easel Pro"),Go.default.createElement("div",{className:"learn-container__flex"},Go.default.createElement("div",null,Go.default.createElement("a",{className:"learn-container__links",href:"https://support.easel.com/hc/en-us",target:"_blank",rel:"noreferrer"},Go.default.createElement("i",{className:"bi bi-question-circle-fill"}),Go.default.createElement("h3",null,"Help")),Go.default.createElement("p",null,"Learn about all the different features that Easel offers for hobbyists and businesses.")),Go.default.createElement("div",null,Go.default.createElement("a",{className:"learn-container__links",href:"https://forum.easel.com/",target:"_blank",rel:"noreferrer"},Go.default.createElement("i",{className:"bi bi-people-fill"}),Go.default.createElement("h3",null,"Forum")),Go.default.createElement("p",null,"Be part of the Easel community of passionate and skillful makers.")),Go.default.createElement("div",null,Go.default.createElement("a",{className:"learn-container__links",href:"/gallery",target:"_blank",rel:"noreferrer"},Go.default.createElement("i",{className:"bi bi-lightbulb"}),Go.default.createElement("h3",null,"Gallery")),Go.default.createElement("p",null,"Get your creative wheels spinning with hundreds of wonderful projects.")))))),Ace=J$e;var Qp=M(P("react"),1),W2=P("react-redux");var K$e=()=>{let e=(0,W2.useDispatch)(),t=Date.now(),r=(0,W2.useSelector)(f=>Q.isProEnabled(t,f)),o=(0,W2.useSelector)(f=>Q.getEaselProDayTimeLeftDisplay(t,f)),i=(0,W2.useSelector)(f=>xo.getInUseCarvingFeaturesRequiringProSubscription(f)),n=it("free_limits")&&!r;(0,Qp.useEffect)(()=>{n&&e(Q.actions.syncWeeklyUsageLimits())},[e,n]);let s=(0,W2.useSelector)(f=>Q.getWeeklyUsage(f)),a=me.EASEL_FREE_CARVE_EXPORT_LIMIT-s.carvesAndExports,c=new Date(s.nextReset).toLocaleDateString("en-US",{month:"short",day:"numeric"}),u=o!=null,p=i!=null&&i.length>0,m;return u?m=`You have ${o} left in your Easel Pro carve day.`:p&&(m="This project uses features that require an Easel Pro subscription to be carved or downloaded:"),o!=null||n||!r&&p?Qp.default.createElement("div",{className:"easel-pro-feature-alert"},n&&Qp.default.createElement("div",{className:"my-2 text-center fst-italic"},a<=0&&Qp.default.createElement("div",null,"You have no more free carve/exports remaining this week."),a>0&&Qp.default.createElement("div",{className:"easel-pro-feature-alert__limit-header"},"You have ",Qp.default.createElement("strong",null,a)," free carve/export remaining this week."),Qp.default.createElement("div",{className:"easel-pro-feature-alert__subtext"},"The limit will reset on ",c,". Upgrade below for unlimited carves & exports.")),m!=null&&m,o==null&&Qp.default.createElement("ul",{className:"easel-pro-feature-alert__feature-list"},i.map(f=>Qp.default.createElement("li",{className:"easel-pro-feature-alert__feature",key:f.label},f.label)))):null},c_=K$e;var Hf=M(P("react"),1),Q$e="https://docs.google.com/forms/d/e/1FAIpQLSfOSazEt_BFu5x0-a67_M-KMuZV-AfWifG2APl_P_q_8CiqzQ/viewform",eZe=()=>Hf.default.createElement("div",{className:"setting-block container-fluid"},Hf.default.createElement("h3",null,"Educator Account"),Hf.default.createElement("div",{className:"content-row"},Hf.default.createElement("div",null,Hf.default.createElement("span",null,"Easel Pro is free for qualified educators. ",Hf.default.createElement("a",{href:"https://support.easel.com/hc/en-us/articles/360012726134-Easel-Pro-Educator-Account",target:"_blank",rel:"noreferrer"},"Learn More."))),Hf.default.createElement("div",null,Hf.default.createElement("a",{className:"btn btn-primary",href:Q$e,target:"_blank",rel:"noreferrer"},"Request access")))),Ice=eZe;var zf=M(P("react"),1);var Dce=M(P("react-redux"),1),tZe=function({component:e,mapStateToProps:t,mapDispatchToProps:r}){let o=Dce.default.connect(t,r)(e);return o.unconnected=e,o},ne=tZe;var u_=M(P("react"),1),rZe=(0,u_.forwardRef)((e,t)=>{let r=i=>(i.currentTarget.getAttribute("href")==="#"&&i.preventDefault(),typeof e.onClick=="function"?e.onClick(i):void 0),o={...e,href:e.href!=null?e.href:"#",onClick:r,children:null};return u_.default.createElement("a",{...o,ref:t,rel:"noopener"},e.children)}),oe=rZe;var qV=class extends zf.default.Component{constructor(){super(...arguments);y(this,"onClick",()=>{this.props.loading||this.props.easelProDayTimeLeft!=null||this.props.startEaselProPurchasedDay()})}render(){let{dayPassesRemaining:r,errorText:o,easelProDayTimeLeft:i,loading:n,isPromoUser:s,isProExpired:a}=this.props;return s&&!a||r<=0?null:zf.default.createElement("div",{className:"setting-block container-fluid"},zf.default.createElement("h3",null,"Use a day pass"),o&&zf.default.createElement("p",{className:"easel-pro-management--error"},o),zf.default.createElement("div",{className:"content-row"},zf.default.createElement("span",null,`You have ${r} purchased Easel Pro day ${vr.quantify(r,"pass","passes")} left. `),zf.default.createElement("div",null,zf.default.createElement(oe,{className:"btn btn-primary",disabled:n||i!=null,onClick:this.onClick},i!=null?"Using ":"Use "," Easel Pro day pass"))))}},oZe=ne({mapStateToProps:e=>{let t=Date.now();return{easelProDayTimeLeft:Q.getEaselProDayTimeLeftDisplay(t,e),loading:Jr.isLoading(e),dayPassesRemaining:Q.getDayPassesRemaining(e),errorText:Jr.getError(e),isPromoUser:Q.isPromoUser(e),isProExpired:Q.isProExpired(t,e)}},mapDispatchToProps:e=>({startEaselProPurchasedDay:()=>bn.startEaselProPurchasedDay(e)}),component:qV}),Nce=oZe;var cc=M(P("react"),1);var rb=M(t2(),1),Bce=M(Oce(),1),Fce=M(Lce(),1);rb.default.extend(Bce.default);rb.default.extend(Fce.default);var iZe={formatDate(e){if(e)return(0,rb.default)(e).format("ll")},msToDays(e){return e/(1e3*24*60*60)},currentMidnightUTC(){return(0,rb.default)().utc().startOf("day").format("YYYY-MM-DD")}},ai=iZe;var QV=class extends cc.default.Component{constructor(){super(...arguments);y(this,"onClick",()=>{this.props.loading||this.props.easelProDayTimeLeft!=null||this.props.startEaselProFreeDay()})}render(){let{proAccessType:r,easelProDayTimeLeft:o,freeEaselProCarvingDaysRemaining:i,isProExpired:n,isPromoUser:s,isProTrialExpired:a,isProUser:l,loading:c,proExpirationDate:u}=this.props;return l||r==="Day Pass"?null:cc.default.createElement("div",{className:"setting-block container-fluid"},cc.default.createElement("h3",null,"Use a free day"),cc.default.createElement("div",{className:"content-row"},cc.default.createElement("div",null,cc.default.createElement("div",null,"Easel accounts created prior to Jul. 21st, 2020 include 4 carving days of Easel Pro every month."),o!=null&&cc.default.createElement("div",null,"You have",cc.default.createElement("span",{className:"use-free-day--purple-text"},` ${o} `),"remaining on your free day."),i>0&&cc.default.createElement("div",null,"You have",cc.default.createElement("span",{className:"use-free-day--purple-text use-free-day__days-counter"},` ${i} `),`carving ${vr.quantify(i,"day","days")} left.`),u&&a&&cc.default.createElement("div",null,"Your Easel Pro trial expired on $",ai.formatDate(u),"."),n&&s&&cc.default.createElement("div",null,"Your Easel Pro product key has expired on $",ai.formatDate(this.props.proExpirationDate),".")),cc.default.createElement(oe,{className:"btn btn-primary",disabled:c||o!=null,onClick:this.onClick},o!=null?"Using ":"Use ","  a Free Day")))}},nZe=ne({mapStateToProps:e=>{let t=Date.now(),r=Q.getEaselProInfo(e),o=r.easel_pro_expiration_date!=null?new Date(r.easel_pro_expiration_date):void 0;return{proAccessType:Q.easelProAccessType(t,e),isProExpired:Q.isProExpired(t,e),isProUser:Q.isProSubscriber(t,e),proExpirationDate:o,isPromoUser:Q.isPromoUser(e),freeEaselProCarvingDaysRemaining:Q.getFreeProCarvingDaysRemaining(e),easelProDayTimeLeft:Q.getEaselProDayTimeLeftDisplay(t,e)}},mapDispatchToProps:e=>({startEaselProFreeDay:()=>bn.startEaselProFreeDay(e)}),component:QV}),Wce=nZe;var no=M(P("react"),1);var eU=class extends no.default.Component{constructor(){super(...arguments);y(this,"state",{updating:!1});y(this,"resetProjectPreferences",()=>{let{setDefaults:r}=this.props;this.setState({updating:!0}),Fn.resetDefaults().then(()=>{r({})}).catch(()=>Ut("Could not reset project to default.")).finally(()=>{this.setState({updating:!1}),H.trackEvent(U.resetProjectDefaults)})});y(this,"getHumanReadableBitDescription",r=>{let o=this.props.bits.find(i=>i.id===r.id);return`${o&&o.name} ${Nt.descriptionForBit(r)}`})}render(){let{updating:r}=this.state,{projectDefaults:o,projectDefaultsFallback:i,hasProjectDefaults:n}=this.props,s=n?o:i,{material:a,bit_params:l,unit:c}=s;return no.default.createElement("div",{className:"setting-block container-fluid"},no.default.createElement("h3",null,"New Project Defaults"),!n&&no.default.createElement(no.default.Fragment,null,no.default.createElement("p",null,"You are using default new project settings."),no.default.createElement("p",null,"To modify how your new projects are created, open a project and select ",no.default.createElement("em",null,"Set as default")," from the ",no.default.createElement("em",null,"File")," menu.")),no.default.createElement("div",{className:"content-row"},no.default.createElement("div",{key:"user-defaults-values"},no.default.createElement("table",{className:"table"},no.default.createElement("tbody",null,no.default.createElement("tr",null,no.default.createElement("td",null,no.default.createElement("strong",null,"Material")),no.default.createElement("td",null,no.default.createElement("p",null,a.name),no.default.createElement("small",null,Ve.convertFromIn(a.dimensions.x,c)," \xD7 ",Ve.convertFromIn(a.dimensions.y,c)," \xD7 ",Ve.convertFromIn(a.dimensions.z,c),c))),no.default.createElement("tr",null,no.default.createElement("td",null,no.default.createElement("strong",null,"Bit")),no.default.createElement("td",null,this.getHumanReadableBitDescription(l.bit))),no.default.createElement("tr",null,no.default.createElement("td",null,no.default.createElement("strong",null,"Detail bit")),no.default.createElement("td",null,l.useDetailBit?this.getHumanReadableBitDescription(l.detailBit):"N/A"))))),no.default.createElement("div",{key:"user-defaults-reset"},n&&no.default.createElement("button",{className:"btn btn-primary",onClick:this.resetProjectPreferences,disabled:r},no.default.createElement("i",{className:"fa fa-refresh"})," Reset to default"))))}},sZe=ne({mapStateToProps:e=>({projectDefaults:Q.getProjectDefaults(e),projectDefaultsFallback:Q.getProjectDefaultsFallback(e),hasProjectDefaults:Q.hasProjectDefaults(e),bits:re.bits(e)}),mapDispatchToProps:e=>({setDefaults:t=>e(Q.actions.setDefaults(t))}),component:eU}),Vce=sZe;var V2=M(P("react"),1),aZe=()=>V2.default.createElement("div",{className:"options-container"},V2.default.createElement(c_,null),V2.default.createElement(Nce,null),V2.default.createElement(Ice,null),!it("thirty_day_trial")&&V2.default.createElement(Wce,null),V2.default.createElement(Vce,null)),Uce=aZe;var Qo=M(P("react"),1);var tU=class extends Qo.default.Component{constructor(){super(...arguments);y(this,"onNewLabelKeyDown",r=>{if(r.key==="Enter"){r.preventDefault();let o=this.newLabelInput.value.trim();this.handleNewLabel(o)}});y(this,"handleNewLabel",r=>{r.length>0&&this.isNewLabelName(r)&&(this.newLabelInput.value="",this.props.onNewLabel(r))});y(this,"isNewLabelName",r=>!this.props.userLabels.map(o=>o.name.toLowerCase()).includes(r.toLowerCase()));y(this,"showPaywall",()=>{H.trackEvent(U.showedAccountModal,{proRequired:!0,source:"Label Management"}),this.props.showUserModalAccountTab()})}render(){let{onFilterSearchChange:r,dropdownLabels:o,onClickLabel:i,isChecked:n,deletableLabels:s,onDeleteLabelClicked:a,createLabels:l,selectable:c,isProUser:u}=this.props;return Qo.default.createElement("div",{className:"dropdown"},Qo.default.createElement("button",{className:"btn btn-default ms-2","data-bs-toggle":"dropdown","data-bs-auto-close":"outside",id:"labels-menu-button"},Qo.default.createElement("i",{className:"bi bi-tags-fill me-2"})," Labels"),Qo.default.createElement("div",{className:"dropdown-menu dropdown-menu--scrollable","aria-labelledby":"filter-menu-button"},!u&&Qo.default.createElement("div",{className:"px-2"},Qo.default.createElement(oe,{className:"easel-pro-feature-alert d-block",onClick:this.showPaywall},Qo.default.createElement("p",null,"This feature is only available for Pro users."),Qo.default.createElement("p",null,"Upgrade to Pro to organize your projects with custom labels."))),u&&Qo.default.createElement("form",{className:"px-2"},o.length>0&&Qo.default.createElement(Qo.default.Fragment,null,Qo.default.createElement("input",{type:"text",name:"filter-search",className:"form-control",onChange:r,placeholder:"Search ..."}),Qo.default.createElement("div",{className:"dropdown-divider"})),o.map(p=>Qo.default.createElement("div",{key:p.id},Qo.default.createElement("div",{className:"dropdown-item dropdown-menu__item ps-0"},Qo.default.createElement("div",{className:"dropdown-menu__item__checkbox-container"},c?Qo.default.createElement("input",{type:"checkbox",id:`label-checkbox-${p.id}`,className:"form-check-input",checked:n(p),onChange:()=>i(p)}):Qo.default.createElement("i",{className:"bi bi-tag-fill"}),Qo.default.createElement("label",{htmlFor:`label-checkbox-${p.id}`,className:"dropdown-menu__item__label text-black ps-2",onClick:()=>i(p)},p.name)),s&&Qo.default.createElement("i",{className:"bi bi-trash dropdown-menu__item__delete-label-button",onClick:m=>a(m,p)})))),l&&Qo.default.createElement(Qo.default.Fragment,null,Qo.default.createElement("div",{className:"dropdown-divider"}),Qo.default.createElement("div",{className:"dropdown-item dropdown-menu__item px-2"},Qo.default.createElement("input",{type:"text",name:"create-label",ref:p=>this.newLabelInput=p,placeholder:"New Label...",className:"form-control",onKeyDown:this.onNewLabelKeyDown}))))))}},lZe=ne({mapStateToProps:e=>({isProUser:Q.isProEnabled(Date.now(),e)}),mapDispatchToProps:e=>({showUserModalAccountTab:()=>e(De.actions.showUserModalAccountTab())}),component:tU}),Rce=lZe;var Yf=M(P("prop-types"),1),m_=M(P("react"),1);var _l=M(P("prop-types"),1),eu=M(P("react"),1),jce=P("react-redux");var Xf=M(P("prop-types"),1),ob=M(P("react"),1);var p_=class extends ob.default.Component{constructor(){super(...arguments);y(this,"onLabelClicked",(r,o)=>{r.preventDefault(),r.stopPropagation(),Jc.unassignLabels({id:this.props.linkToken,label_ids:[o.id]}).then(()=>{this.props.linkToken!=null&&this.props.setAssignedLabels(this.props.assignedLabels.filter(i=>o.id!==i.id)),this.props.unassignLabels(this.props.linkToken,[o.id])}).catch(i=>{Fe("Error unassigning labels",i)})})}render(){let{labels:r,filterLabels:o}=this.props;return ob.default.createElement("div",{className:"project-thumbnail-list__item__metadata__labels"},r.map(i=>ob.default.createElement(oe,{key:i.id,className:`project-thumbnail-list__item__metadata__label ${o.find(n=>n.id===i.id)?"selected":""}`,onClick:n=>this.onLabelClicked(n,i)},i.name,ob.default.createElement("i",{className:"bi bi-x-lg ms-1"}))))}};y(p_,"propTypes",{labels:Xf.default.arrayOf(Xf.default.shape({name:Xf.default.string.isRequired,id:Xf.default.number.isRequired})),filterLabels:Xf.default.arrayOf(Xf.default.shape({id:Xf.default.number.isRequired})),linkToken:Xf.default.string.isRequired});var cZe=ne({mapStateToProps:e=>({assignedLabels:ge.getAssignedLabels(e)}),mapDispatchToProps:e=>({setAssignedLabels(t){e(ge.actions.setAssignedLabels(t))},unassignLabels(t,r){e(Kt.actions.removeLabelsFromProject({linkToken:t,labels:r}))}}),component:p_}),d_=cZe;var Gce=({name:e,linkToken:t,image:r,starred:o,selected:i,removing:n,date:s,labels:a,onDeleteProject:l,onSetStarredProject:c,onSetSelectedProject:u,onToggleFilterLabel:p,isProUser:m,filterLabels:h})=>{let f=(0,jce.useDispatch)(),x=w=>{globalThis.EASEL_PROJECT_LINK_TOKEN===t&&(w.preventDefault(),f(De.actions.hideUserModal()))},v=w=>{w.preventDefault(),w.stopPropagation(),l(t,e)},b=()=>{u(t,!i)},S=w=>{w.preventDefault(),w.stopPropagation(),c(t,!o,e)};return eu.default.createElement("div",{className:"d-flex align-items-center","data-token":t},eu.default.createElement("div",{className:"form-check"},eu.default.createElement("input",{type:"checkbox",className:"form-check-input",checked:i,onChange:b})),eu.default.createElement("div",{className:`project-thumbnail-list__item ${n?"project-thumbnail-list__item--deleting":""}`},eu.default.createElement(oe,{className:"project-thumbnail-list__item__content-group",href:`/projects/${t}`,target:globalThis.EASEL_PROJECT_LINK_TOKEN&&globalThis.EASEL_PROJECT_LINK_TOKEN!==t?"_blank":"_self",onClick:x},eu.default.createElement("img",{className:"project-thumbnail-list__item__thumbnail",src:r||EASEL_ASSETS.images.grayEasel}),eu.default.createElement("h4",{className:"project-thumbnail-list__item__name"},e,eu.default.createElement("i",{className:`project-thumbnail-list__item__name__star bi bi-${o?"star-fill":"star"} ms-2`,onClick:S}))),eu.default.createElement("div",{className:"project-thumbnail-list__item__content-group"},m&&eu.default.createElement(d_,{labels:a,filterLabels:h,onToggleFilterLabel:p}),eu.default.createElement("div",{className:"project-thumbnail-list__item__metadata__time small"},s),eu.default.createElement("i",{className:"bi bi-trash project-delete",onClick:v}))))};Gce.propTypes={name:_l.default.string.isRequired,linkToken:_l.default.string.isRequired,image:_l.default.string,starred:_l.default.bool,selected:_l.default.bool,removing:_l.default.bool,date:_l.default.string.isRequired,labels:_l.default.arrayOf(_l.default.shape({name:_l.default.string.isRequired,id:_l.default.number.isRequired})).isRequired,onDeleteProject:_l.default.func.isRequired,onSetStarredProject:_l.default.func.isRequired,onToggleFilterLabel:_l.default.func.isRequired};var Hce=Gce;var f_=class extends m_.default.Component{render(){let{isProUser:t,projects:r}=this.props;return m_.default.createElement("div",{className:"project-thumbnail-list",id:"project-list"},r.map((o,i)=>m_.default.createElement(Hce,{key:`project-list-item-${i}`,filterLabels:this.props.filterLabels,onDeleteProject:this.props.onDeleteProject,onSetStarredProject:this.props.onSetStarredProject,onSetSelectedProject:this.props.onSetSelectedProject,onToggleFilterLabel:this.props.onToggleFilterLabel,isProUser:t,...o})))}};y(f_,"propTypes",{projects:Yf.default.arrayOf(Yf.default.shape({name:Yf.default.string.isRequired,linkToken:Yf.default.string.isRequired,date:Yf.default.string.isRequired,selected:Yf.default.bool})).isRequired,onDeleteProject:Yf.default.func.isRequired,onToggleFilterLabel:Yf.default.func.isRequired});var zce=f_;var pc=M(P("prop-types"),1),h_=M(P("react"),1);var Pa=M(P("prop-types"),1),uc=M(P("react"),1),Xce=P("react-redux");var Yce=({name:e,linkToken:t,image:r,readOnly:o,starred:i,subtitle:n,selected:s,labels:a,removing:l,date:c,onDeleteProject:u,onSetStarredProject:p,onSetSelectedProject:m,filterLabels:h,isProUser:f})=>{let x=(0,Xce.useDispatch)(),v=_=>{globalThis.EASEL_PROJECT_LINK_TOKEN===t&&(_.preventDefault(),x(De.actions.hideUserModal()))},b=_=>{_.preventDefault(),_.stopPropagation(),u(t,e)},S=_=>{_.preventDefault(),_.stopPropagation(),p(t,!i,e)},w=()=>{m(t,!s)};return uc.default.createElement("div",{className:`project-thumbnail ${l?"deleting":""}`,"data-token":t},!o&&uc.default.createElement("i",{className:"bi bi-trash thumbnail-project-delete project-delete",onClick:b}),uc.default.createElement(oe,{className:"project-thumbnail__content",href:`/projects/${t}`,target:globalThis.EASEL_PROJECT_LINK_TOKEN&&globalThis.EASEL_PROJECT_LINK_TOKEN!==t?"_blank":"_self",onClick:v},uc.default.createElement("img",{src:r||EASEL_ASSETS.images.grayEasel,alt:e}),uc.default.createElement("div",{className:"project-thumbnail__content__name-and-star"},uc.default.createElement("div",{className:"project-thumbnail__content__name-and-star__name",title:e},e),!o&&uc.default.createElement("div",{className:"project-thumbnail__content__name-and-star__star"},uc.default.createElement("i",{className:`bi bi-${i?"star-fill":"star"} ms-2`,"data-action":"toggleStar",onClick:S})))),f&&a?.length>0&&uc.default.createElement(d_,{labels:a,filterLabels:h,linkToken:t}),uc.default.createElement("div",{className:"project-thumbnail__footer"},uc.default.createElement("p",{className:"project-thumbnail__footer__subtext"},c||n),!o&&uc.default.createElement("div",{className:"form-check"},uc.default.createElement("input",{className:"form-check-input mx-0",type:"checkbox",checked:s,onChange:w}))))};Yce.propTypes={name:Pa.default.string.isRequired,linkToken:Pa.default.string.isRequired,image:Pa.default.string,readOnly:Pa.default.bool,starred:Pa.default.bool,subtitle:Pa.default.string,selected:Pa.default.bool,labels:Pa.default.arrayOf(Pa.default.shape({name:Pa.default.string.isRequired,id:Pa.default.number.isRequired})),removing:Pa.default.bool,date:Pa.default.string,onDeleteProject:Pa.default.func,onSetStarredProject:Pa.default.func,onToggleFilterLabel:Pa.default.func};var qce=Yce;var g_=class extends h_.default.Component{render(){let{isProUser:t,projects:r}=this.props;return h_.default.createElement("div",{className:"thumbnail-container"},r.map((o,i)=>h_.default.createElement(qce,{key:`project-thumnail-view-${i}`,filterLabels:this.props.filterLabels,onDeleteProject:this.props.onDeleteProject,onSetStarredProject:this.props.onSetStarredProject,onSetSelectedProject:this.props.onSetSelectedProject,onToggleFilterLabel:this.props.onToggleFilterLabel,isProUser:t,...o})))}};y(g_,"propTypes",{projects:pc.default.arrayOf(pc.default.shape({id:pc.default.number,name:pc.default.string.isRequired,linkToken:pc.default.string.isRequired,image:pc.default.string,starred:pc.default.bool,removing:pc.default.bool,date:pc.default.string.isRequired})).isRequired,onDeleteProject:pc.default.func.isRequired,onSetStarredProject:pc.default.func.isRequired,onToggleFilterLabel:pc.default.func.isRequired,isProUser:pc.default.bool});var $ce=g_;var fm=M(P("react"),1);function uZe({size:e,className:t,color:r}){let o=e||15,i=["spinner"];return r==="white"&&i.push("spinner--white"),t!=null&&i.push(t),fm.default.createElement("svg",{className:i.join(" "),height:o,width:o,viewBox:"-7.5 -7.5 15 15","data-testid":"loading-spinner"},fm.default.createElement("circle",{cx:4,cy:-4,r:1.5}),fm.default.createElement("circle",{cx:6,cy:0,r:1.5}),fm.default.createElement("circle",{cx:4,cy:4,r:1.5}),fm.default.createElement("circle",{cx:0,cy:6,r:1.5}),fm.default.createElement("circle",{cx:-4,cy:4,r:1.5}),fm.default.createElement("circle",{cx:-6,cy:0,r:1.5}),fm.default.createElement("circle",{cx:-4,cy:-4,r:1.5}),fm.default.createElement("circle",{cx:0,cy:-6,r:1.5}))}var Re=uZe;var pZe=(e,t,r)=>Fe(e,t,[{text:"Keep",action:()=>{}},{text:"Delete",action:r}],null,"danger"),As=pZe;var Tr=M(P("react"),1);var b_=M(P("react"),1),oU=M(P("react"),1),dZe=Object.defineProperty,mZe=(e,t,r)=>t in e?dZe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y_=(e,t,r)=>(mZe(e,typeof t!="symbol"?t+"":t,r),r),rU=new Map,x_=new WeakMap,Zce=0,fZe=void 0;function hZe(e){return e?(x_.has(e)||(Zce+=1,x_.set(e,Zce.toString())),x_.get(e)):"0"}function gZe(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?hZe(e.root):e[t]}`).toString()}function yZe(e){let t=gZe(e),r=rU.get(t);if(!r){let o=new Map,i,n=new IntersectionObserver(s=>{s.forEach(a=>{var l;let c=a.isIntersecting&&i.some(u=>a.intersectionRatio>=u);e.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=o.get(a.target))==null||l.forEach(u=>{u(c,a)})})},e);i=n.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:n,elements:o},rU.set(t,r)}return r}function xZe(e,t,r={},o=fZe){if(typeof window.IntersectionObserver>"u"&&o!==void 0){let l=e.getBoundingClientRect();return t(o,{isIntersecting:o,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}let{id:i,observer:n,elements:s}=yZe(r),a=s.get(e)||[];return s.has(e)||s.set(e,a),a.push(t),n.observe(e),function(){a.splice(a.indexOf(t),1),a.length===0&&(s.delete(e),n.unobserve(e)),s.size===0&&(n.disconnect(),rU.delete(i))}}function bZe(e){return typeof e.children!="function"}var v_=class extends b_.Component{constructor(e){super(e),y_(this,"node",null),y_(this,"_unobserveCb",null),y_(this,"handleNode",t=>{this.node&&(this.unobserve(),!t&&!this.props.triggerOnce&&!this.props.skip&&this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=t||null,this.observeNode()}),y_(this,"handleChange",(t,r)=>{t&&this.props.triggerOnce&&this.unobserve(),bZe(this.props)||this.setState({inView:t,entry:r}),this.props.onChange&&this.props.onChange(t,r)}),this.state={inView:!!e.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(e){(e.rootMargin!==this.props.rootMargin||e.root!==this.props.root||e.threshold!==this.props.threshold||e.skip!==this.props.skip||e.trackVisibility!==this.props.trackVisibility||e.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;let{threshold:e,root:t,rootMargin:r,trackVisibility:o,delay:i,fallbackInView:n}=this.props;this._unobserveCb=xZe(this.node,this.handleChange,{threshold:e,root:t,rootMargin:r,trackVisibility:o,delay:i},n)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){let{children:e}=this.props;if(typeof e=="function"){let{inView:h,entry:f}=this.state;return e({inView:h,entry:f,ref:this.handleNode})}let{as:t,triggerOnce:r,threshold:o,root:i,rootMargin:n,onChange:s,skip:a,trackVisibility:l,delay:c,initialInView:u,fallbackInView:p,...m}=this.props;return b_.createElement(t||"div",{ref:this.handleNode,...m},e)}};var iU=class extends Tr.default.Component{constructor(r){super(r);y(this,"onSearchChange",r=>{this.props.setSearchQuery(r.target.value),this._debounceSearch()});y(this,"_debounceSearch",()=>{this.debouncedSearch||(this.debouncedSearch=ha(()=>{this.props.fetchNewProjects(),this.debouncedSearch=null},100)),this.debouncedSearch()});y(this,"createProject",r=>{r.preventDefault(),this.props.createProject()});y(this,"deleteProject",r=>{let{projects:o}=this.props;this.deleteProjects(o.filter(i=>i.linkToken===r))});y(this,"deleteButtonClicked",()=>{let{selectedProjects:r}=this.props;this.deleteProjects(r)});y(this,"deleteProjects",r=>{let{deleteProjects:o}=this.props;As(`Delete ${r.length<5?r.map(i=>i.name).join(", "):`${r.length} projects`}?`,"This action cannot be undone.",()=>{o(r.map(i=>i.linkToken)).then(()=>{this._debounceSearch()})})});y(this,"toggleStarFilter",()=>{let{isStarred:r,enableStarFilter:o,disableStarFilter:i}=this.props;r?i():o(),this._debounceSearch()});y(this,"setStarredProject",(r,o)=>{r===this.props.currentLinkToken?this.props.starCurrentProject(!!o):this.props.starProject(r,!!o)});y(this,"setSelectedProject",(r,o)=>{o?this.props.setSelected(r):this.props.setDeselected(r)});y(this,"onDeleteLabelClicked",(r,o)=>{r.preventDefault(),r.stopPropagation(),this.deleteLabel(o)});y(this,"deleteLabel",r=>{let{deleteLabel:o,removeLabelFromAllProjects:i,userLabels:n}=this.props,s=n.filter(a=>a.id!==a.id);As(`Delete ${r.name}?`,this.labelDeleteConfirmationString(r),()=>{o(r.id).then(a=>{i(a.payload.deleted_label),this.props.setAssignedLabels(s),H.trackEvent(U.projectLabelDeleted,{"Easel Pro Content":[U.proContent.projectLabels]})}).catch(a=>{Fe("Label deletion error",a)})})});y(this,"labelDeleteConfirmationString",r=>{let{projects:o}=this.props,i=o.filter(s=>s.labels.map(a=>a.id).includes(r.id)),n=i.length;return n===0?"This label is not assigned to any projects.":n<5?`This label is currently assigned to the following projects: ${i.map(s=>s.name).join(", ")}`:`This label is currently assigned to ${i.length} projects`});y(this,"toggleFilterLabel",r=>{let o=this.props.filterLabels.slice();o.map(i=>i.id).includes(r.id)?o.splice(o.map(i=>i.id).indexOf(r.id),1):o.push(r),this.props.setFilterLabels(o),this._debounceSearch(),H.trackEvent(U.projectLabelFiltered,{"Easel Pro Content":[U.proContent.projectLabels]})});y(this,"handleLabelAssign",r=>{this.allSelectedProjectsAreAssigned(r)?this.unassignLabelsFromSelectedProjects([r]):this.assignLabelsToSelectedProjects([r])});y(this,"allSelectedProjectsAreAssigned",r=>this.props.selectedProjects.every(o=>o.labels.map(i=>i.id).includes(r.id)));y(this,"assignLabelsToSelectedProjects",r=>{this.props.selectedProjects.forEach(o=>{this.assignLabelsToProject(r,o)})});y(this,"unassignLabelsFromSelectedProjects",r=>{this.props.selectedProjects.forEach(o=>{this.unassignLabelsFromProject(r,o)})});y(this,"assignLabelsToProject",(r,o)=>{Jc.assignLabels({id:o.linkToken,label_ids:r.map(i=>i.id)}).then(()=>{this.props.addLabelsToProject({linkToken:o.linkToken,labels:r}),H.trackEvent(U.projectLabelAssigned,{"Easel Pro Content":[U.proContent.projectLabels]})}).catch(()=>Fe("An error occurred assigning labels","If the problem persists, please contact help@easel.com."))});y(this,"unassignLabelsFromProject",(r,o)=>{Jc.unassignLabels({id:o.linkToken,label_ids:r.map(i=>i.id)}).then(()=>{this.props.removeLabelsFromProject({linkToken:o.linkToken,labels:r}),H.trackEvent(U.projectLabelUnassigned,{"Easel Pro Content":[U.proContent.projectLabels]})}).catch(()=>Fe("An error occurred assigning labels","If the problem persists, please contact help@easel.com."))});y(this,"addNewLabel",r=>{this.props.createUserLabel({name:r}).then(()=>{H.trackEvent(U.projectLabelCreated,{"Easel Pro Content":[U.proContent.projectLabels]})})});y(this,"setSortValue",r=>{r.target.value==="name"?this.props.setSortByName():this.props.setSortByDate(),this._debounceSearch()});y(this,"toggleSortDirection",r=>{r.preventDefault(),r.stopPropagation();let{isSortingAscending:o,setSearchDirectionAscending:i,setSearchDirectionDescending:n}=this.props;o?n():i(),this._debounceSearch()});y(this,"onToggleSelectAll",()=>{let{isEveryProjectSelected:r,selectAll:o,deselectAll:i}=this.props;r?i():o()});this.scrollRef=Tr.default.createRef(),this._debounceSearch=this._debounceSearch.bind(this)}componentDidMount(){this.props.fetchProjects()}loadMoreProjects(r){let{projectsCount:o,projectsTotal:i}=this.props;r&&o<i&&this.props.fetchProjects()}render(){let{isStarred:r,projects:o,projectsTotal:i,isProUser:n,filterLabels:s,userLabels:a,filteredUserLabels:l,isAnyProjectSelected:c,projectsLoadingError:u,isProjectListFiltered:p,setFilteredUserLabels:m,searchQuery:h,areProjectsLoading:f,isSortingAscending:x,isProjectsThumbnailView:v,setProjectListView:b,setProjectThumbnailView:S}=this.props,w="",_="",E=null,T=l&&l.length>0?l:a;return v?(E=$ce,_="active"):(w="active",E=zce),u!=null&&i===0?Tr.default.createElement("div",{className:"project-list-container__error"},Tr.default.createElement("i",{className:"bi bi-exclamation-triangle-fill"}),Tr.default.createElement("div",{className:"project-list-container__error-msg"},u)):Tr.default.createElement("div",{className:"project-list-container"},Tr.default.createElement("div",{className:"project-list-container__search-bar"},Tr.default.createElement("div",{className:"project-list-container__search-bar__filter-options"},Tr.default.createElement("div",{className:"form-check"},Tr.default.createElement("input",{className:"form-check-input",type:"checkbox",checked:p&&c,disabled:!p,onChange:this.onToggleSelectAll})),Tr.default.createElement("div",{id:"project-list-search"},Tr.default.createElement("input",{className:"form-control",name:"Search",type:"text",value:h,onChange:this.onSearchChange})),Tr.default.createElement(Rce,{id:"filter-menu-dropdown",deletableLabels:!c,createLabels:!c,dropdownLabels:T,selectable:!c,onFilterSearchChange:A=>m(A.target.value),onClickLabel:c?this.handleLabelAssign:this.toggleFilterLabel,userLabels:this.props.userLabels,onDeleteLabelClicked:this.onDeleteLabelClicked,filterLabels:s,onNewLabel:this.addNewLabel,isChecked:A=>this.props.filterLabels.map(O=>O.id).indexOf(A.id)>=0})),Tr.default.createElement("div",{className:"project-list-container__search-bar__sort-options"},this.props.isAnyProjectSelected?Tr.default.createElement("button",{className:"btn btn-danger",id:"delete-projects",onClick:this.deleteButtonClicked},"Delete"):Tr.default.createElement("div",{className:"project-list-container__sort-buttons"},Tr.default.createElement("button",{className:`btn btn-default ${r?"active":""}`,id:"thumbnail-star-filter",onClick:this.toggleStarFilter},Tr.default.createElement("i",{className:`bi bi-star${r?"-fill":""}`})," Starred"),Tr.default.createElement("div",{className:"btn-group",role:"group"},Tr.default.createElement("button",{className:`btn btn-default ${w}`,id:"thumbnail-list-button",onClick:b},Tr.default.createElement("i",{className:"bi bi-list-task"})),Tr.default.createElement("button",{className:`btn btn-default ${_}`,id:"thumbnail-view-button",onClick:S},Tr.default.createElement("i",{className:"bi bi-grid-fill"}))),Tr.default.createElement("div",{className:"btn-group",role:"group"},Tr.default.createElement("select",{className:"btn btn-default",id:"thumbnail-list-sort-select",onChange:this.setSortValue},Tr.default.createElement("option",{value:"sortDate"},"Date"),Tr.default.createElement("option",{value:"name"},"Name")),Tr.default.createElement("button",{className:"btn",id:"thumbnail-sort-button",onClick:this.toggleSortDirection},Tr.default.createElement("i",{className:x?"bi bi-sort-up":"bi bi-sort-down"})))))),Tr.default.createElement("div",{className:"project-list-container__scroller",ref:this.scrollRef},Tr.default.createElement(E,{projects:o,filterLabels:s,onDeleteProject:this.deleteProject,onSetStarredProject:this.setStarredProject,onSetSelectedProject:this.setSelectedProject,onToggleFilterLabel:this.toggleFilterLabel,isProUser:n}),(f||this.debouncedSearch)&&Tr.default.createElement("div",{className:"position-relative"},Tr.default.createElement("div",{className:"position-absolute top-50 start-50 translate-middle-x"},Tr.default.createElement(Re,{size:25}))),!f&&!this.debouncedSearch&&Tr.default.createElement(v_,{root:this.scrollRef.current,rootMargin:"100px 0px 0px",onChange:A=>this.loadMoreProjects(A)})))}},vZe=ne({mapStateToProps:e=>({userLabels:Kc.getUserLabels(e),filteredUserLabels:Kc.getFilteredUserLabels(e),currentLinkToken:ge.getProjectLinkToken(e),projects:Kt.getProjects(e),projectsCount:Kt.getProjectsCount(e),projectsTotal:Kt.getProjectsTotal(e),projectsLoadingError:Kt.getProjectsLoadingError(e),searchQuery:Kt.getSearchQuery(e),isStarred:Kt.isStarFilter(e),isProjectsThumbnailView:Kt.isProjectsThumbnailView(e),isSortingAscending:Kt.isSortingAscending(e),filterLabels:Kt.getFilterLabels(e),isAnyProjectSelected:Kt.isAnyProjectSelected(e),isEveryProjectSelected:Kt.isEveryProjectSelected(e),selectedProjects:Kt.getSelectedProjects(e),isProjectListFiltered:Kt.isProjectListFiltered(e),areProjectsLoading:Kt.areProjectsLoading(e)}),mapDispatchToProps:e=>({fetchProjects(){e(Kt.actions.fetchProjects())},fetchNewProjects(){e(Kt.actions.fetchNewProjects())},deleteProjects(t){return e(Kt.actions.deleteProjects(t))},starProject(t,r){e(Kt.actions.starProject({linkToken:t,starred:r}))},starCurrentProject(t){e(ge.actions.setProjectStarred(t))},enableStarFilter(){e(Kt.actions.enableStarFilter())},disableStarFilter(){e(Kt.actions.disableStarFilter())},setProjectListView(){e(Kt.actions.setProjectListView())},setProjectThumbnailView(){e(Kt.actions.setProjectThumbnailView())},setSearchQuery(t){e(Kt.actions.setSearchQuery(t))},setSearchDirectionAscending(){e(Kt.actions.setSearchDirectionAscending())},setSearchDirectionDescending(){e(Kt.actions.setSearchDirectionDescending())},setSortByName(){e(Kt.actions.setSortByName())},setSortByDate(){e(Kt.actions.setSortByDate())},setFilterLabels(t){e(Kt.actions.setFilterLabel(t))},setAssignedLabels(t){e(ge.actions.setAssignedLabels(t))},setSelected(t){e(Kt.actions.setSelected(t))},setDeselected(t){e(Kt.actions.setDeselected(t))},selectAll(){e(Kt.actions.selectAll())},deselectAll(){e(Kt.actions.deselectAll())},addLabelsToProject(t,r){e(Kt.actions.addLabelsToProject(t,r))},removeLabelsFromProject(t,r){e(Kt.actions.removeLabelsFromProject(t,r))},removeLabelFromAllProjects(t){e(Kt.actions.removeLabelFromAllProjects(t))},deleteLabel(t){return e(Kc.actions.deleteLabel(t))},setFilteredUserLabels(t){e(Kc.actions.setFilteredUserLabels(t))},createUserLabel(t){return e(Kc.actions.createNewLabel(t))},removeProjectFromList(t){e(Kt.actions.removeProjectFromList(t))}}),component:iU}),Jce=vZe;var U2=M(P("react"),1);var nU=P("react-redux"),SZe=()=>{let e=(0,nU.useSelector)(Q.getUserEmail),t=(0,nU.useSelector)(Q.getProfileImageUrl);return U2.default.createElement("div",{className:"user"},U2.default.createElement("div",{className:"user-icon"},U2.default.createElement("img",{src:t||"",alt:"User avatar"})),U2.default.createElement("div",{className:"username-container"},U2.default.createElement("div",{className:"username"},e,U2.default.createElement("a",{href:"/logout",onClick:()=>{window.location.href="/logout"}}," (Log out)"))))},Kce=SZe;var R5=M(P("react"),1),S_=P("react-redux");var CZe=({extraClassName:e})=>{let t=(0,S_.useDispatch)(),r=(0,S_.useSelector)(qa.getSystemNotification);(0,R5.useEffect)(()=>{r?.type!=null&&H.trackEvent(U.viewedUserModalNotification,{"User Modal Notification":{bannerType:r.type,message:r?.message}})},[r]);let o=()=>{t(qa.actions.acknowledgeSystemNotification(r))},i=()=>{switch(r?.type){case"expiration":return"user-notification--purple";case"update-payment":return"user-notification--orange";case"black-friday":return"user-notification--black";default:return""}};return r?R5.default.createElement("div",{className:`user-notification ${i()} ${e??""}`},R5.default.createElement("i",{className:"fs-1 bi bi-exclamation-circle-fill"}),R5.default.createElement("span",{className:"user-notification__text",dangerouslySetInnerHTML:{__html:r.message}}),r.acknowledgeable&&R5.default.createElement("button",{className:"close-button text-white",onClick:o},R5.default.createElement("i",{className:"bi bi-x-lg"}))):null},Qce=CZe;var ci=M(P("react"),1),ea=P("react-redux");var ib=M(P("react"),1),PZe=({formattedExpirationDate:e})=>ib.default.createElement(ib.default.Fragment,null,ib.default.createElement("p",null,"You are subscribed to Easel Pro via a product key."),e&&ib.default.createElement("p",null,`Your subscription will expire on ${e}.`)),eue=PZe;var on=M(P("react"),1),G5=P("react-redux");var Ui=M(P("react"),1),z3=P("react-redux");var tue=P("react-redux");function He(e,t,r){let o=(0,tue.useStore)();return(i={})=>{H.trackProjectEvent(e,o.getState(),{...t,...i},r||"always")}}var dc=M(P("react"),1),rue=P("react-bootstrap"),oue=()=>dc.default.createElement("div",{className:"easel-pro-management__cancel-reason-container__pro-features-table"},dc.default.createElement("strong",{className:"pb-3"},"Have you finished all of your projects? You'll lose these features:"),dc.default.createElement(rue.Table,{striped:!0,bordered:!0},dc.default.createElement("thead",null,dc.default.createElement("tr",{className:"text-center"},dc.default.createElement("th",null),dc.default.createElement("th",null,"Easel"),dc.default.createElement("th",null,"Easel Pro"))),dc.default.createElement("tbody",null,["V-Carving","Pro Font Library","3D Carving","Pro Design Icon Library","Text Effects","Custom Bits and Materials","Saved Cut Settings","Custom Font Upload","Additional Cut Depth","Carving From Center","Ramping Toolpaths","Large Material Tiling","Raster Toolpaths","Machine Parking","Multiple Machine Profiles","Project Labels"].map(t=>dc.default.createElement("tr",{key:t},dc.default.createElement("td",null,t),dc.default.createElement("td",{className:"text-center"},"\u2716"),dc.default.createElement("td",{className:"text-center"},"\u2714"))))));var iue=QS([{text:"Easel doesn't support my machine",value:"Unsupported machine"},{text:"Easel Pro doesn't have the features I need",value:"Lacking features"},{text:"Technical issues with the software",value:"Technical issues"},{text:"It is too expensive",value:"Too expensive"},{text:"I completed the project(s) I was making",value:"Completed projects"},{text:"I was unable to design or carve what I wanted to make",value:"Unable to design or carve"}]).map(e=>({...e,id:e.value.replace(" ","_")}));iue.push({text:"Other",value:"Other",id:"Other"});var wZe="https://support.easel.com/hc/en-us/requests/new",_Ze=()=>{let e=(0,z3.useDispatch)(),t=(0,z3.useSelector)(Jr.getError),r=(0,z3.useSelector)(Jr.isLoading),o=(0,z3.useSelector)(Q.getRenewDate),[i,n]=(0,Ui.useState)([]),[s,a]=(0,Ui.useState)(""),l=He(U.canceledEaselPro,{source:"Easel Modal"}),c=He(U.clickedSupportCTA,{source:"Easel Modal"}),u=async()=>{await bn.cancelSubscription(e),l({"Cancel Reasons":i,otherDescription:s}),e(De.actions.showCanceledConfirmation())};return Ui.default.createElement("div",{className:"easel-pro-management__cancel-reason-container"},Ui.default.createElement("hr",null),Ui.default.createElement(oue,null),Ui.default.createElement("p",null,"By selecting End Subscription, your subscription will expire ",ai.formatDate(o),". At that point you will not be charged for additional time and will no longer have access to Easel Pro features. If you have any questions or concerns, please contact support."),Ui.default.createElement("div",{className:"easel-pro-management__cancel-reason-container__support"},Ui.default.createElement("p",null,"Need help troubleshooting an issue in Easel Pro? ",Ui.default.createElement("a",{href:wZe,target:"_blank",rel:"noopener",onClick:()=>c()},"Contact our team for help!"))),Ui.default.createElement("strong",null,"Please tell us the reason you want to end your Easel Pro subscription."),Ui.default.createElement("div",{className:"easel-pro-management__cancel-reasons pt-2"},iue.map(p=>Ui.default.createElement("div",{key:p.id},Ui.default.createElement("input",{id:p.id,type:"checkbox",value:p.value,name:"cancel-reason",onChange:m=>n(m.target.checked?i.concat([p.value]):i.filter(h=>h!==p.value))}),Ui.default.createElement("label",{htmlFor:p.id},p.text))),Ui.default.createElement("div",null,Ui.default.createElement("p",null,"Please provide any additional information to explain your response above."),Ui.default.createElement("input",{id:"other-description",className:"easel-pro-management__cancel-reason-input",value:s,onChange:p=>a(p.target.value)}))),Ui.default.createElement("div",{className:"easel-pro-management__button-container"},t&&Ui.default.createElement("p",{className:"easel-pro-management--error"},t.message),Ui.default.createElement("button",{className:"btn btn-danger easel-pro-management__cancel-subscription-button",onClick:u,disabled:r},"End Subscription"),Ui.default.createElement(oe,{className:"easel-pro-management__cancel-link",onClick:()=>e(De.actions.hideAccountManagementOption())},"Keep Easel Pro"),r&&Ui.default.createElement(Re,null)))},nue=_Ze;var Wn=M(P("react"),1);var kZe={formatUSD(e){return`$${e.toFixed(2)}`},formatShortUSD(e){return Math.round(e)===e?`$${e}`:`$${e.toFixed(2)}`}},hm=kZe;var sU=class extends Wn.default.Component{render(){let{onClick:t,isWaiting:r,title:o,description:i,price:n,frequency:s,referencePrice:a,discountAmount:l=0,discountPercentage:c=0,banner:u,price_description:p,price_description_2:m,clickable:h}=this.props,f=n;return l>0?f=n-l:c>0&&(f=n*(1-c/100)),Wn.default.createElement("div",{className:`easel-pro-plan-option ${u?"":"mb-4"}`},Wn.default.createElement("div",{className:"easel-pro-plan-option__card"},r?Wn.default.createElement("p",{className:"center-text"},Wn.default.createElement(Re,{color:"white"})):u&&Wn.default.createElement("div",{className:"easel-pro-plan-option__banner"},u),Wn.default.createElement("div",{className:"easel-pro-plan-option__top-container"},Wn.default.createElement("div",{className:"easel-pro-plan-option__header"},Wn.default.createElement("div",{className:"easel-pro-plan-option__name"},o),a&&f<a&&Wn.default.createElement("div",{className:"easel-pro-plan-option__discount"},`Save ${(100*(a-f)/a).toFixed(0)}%`)),Wn.default.createElement("p",{className:"easel-pro-plan-option__price"},f<n?Wn.default.createElement(Wn.default.Fragment,null,Wn.default.createElement("span",{style:{textDecoration:"line-through",textDecorationThickness:"2px",fontWeight:"normal",marginRight:"8px"}},hm.formatShortUSD(n)),hm.formatShortUSD(f)):hm.formatShortUSD(f),Wn.default.createElement("span",{className:"easel-pro-plan-option__fine-print"},s?` / ${s}`:" + tax"))),h&&Wn.default.createElement("button",{className:`btn btn-primary easel-pro-plan-option__button${u?"-highlighted":""}`,onClick:t},"Select plan"),Wn.default.createElement("div",{className:"easel-pro-plan-option__bottom-container"},p&&Wn.default.createElement("p",{className:"easel-pro-plan-option__price-description"},p),m&&Wn.default.createElement("p",{className:"easel-pro-plan-option__price-description-2"},m),Wn.default.createElement("p",{className:"easel-pro-plan-option__description"},i))))}},C_=sU;var TZe={},sue=We({name:"stripe",initialState:TZe,reducers:{configure(e,t){aue(e,t.payload)}},extraReducers:e=>{e.addCase(Vr("user/loadServerInfo"),(t,{payload:r})=>{aue(t,r.stripeConfiguration)})}}),aue=(e,t)=>{e.publicKey=t.publicKey,e.pricingTable=t.pricingTable},EZe={getPublicKey:e=>e.stripe.publicKey,getPricingTable:e=>e.stripe.pricingTable},MZe={actions:sue.actions,reducer:sue.reducer,...EZe},qf=MZe;var P_=M(P("react"),1),lue=P("react-redux");var AZe=({planId:e,plans:t,onCompleteCallback:r})=>{let o=(0,lue.useSelector)(qf.getPublicKey);return(0,P_.useEffect)(()=>{let i=null,n=window.Stripe(o),s=t.find(c=>c.id===e).billing_frequency,a=async()=>{try{let{clientSecret:c}=await Ko.createStripeCheckoutSession("easel_pro","easel_pro",s,null,!0);return c}catch(c){console.error(c),Ut(c.message??"A problem occurred trying to load your subscription page. Please try again later.")}},l=()=>{i.destroy(),i=null,r()};return n.initEmbeddedCheckout({fetchClientSecret:a,onComplete:l}).then(c=>{i=c,i.mount("#embedded-stripe-checkout")}),()=>{i?.destroy()}},[e,t,r,o]),P_.default.createElement("div",{id:"embedded-stripe-checkout"})},X3=AZe;var aU=M(P("prop-types"),1),Y3=P("react-bootstrap"),j5=M(P("react"),1);var w_=class extends j5.default.PureComponent{constructor(){super(...arguments);y(this,"state",{show:!1});y(this,"_onMouseEnterPopover",()=>{this.setState({show:!0})});y(this,"_onMouseLeavePopover",()=>{this.state.inLabel||this.setState({show:!1})});y(this,"onToggle",r=>{this.setState({show:r})})}render(){let{popoverClass:r,popoverTitle:o,popoverContent:i,children:n,placement:s,className:a}=this.props,l={...this.props,className:r,onMouseEnter:this._onMouseEnterPopover,onMouseLeave:this._onMouseLeavePopover};delete l.popoverTitle,delete l.popoverContent,delete l.children,delete l.placement;let c=j5.default.createElement(Y3.Popover,{...l},o&&j5.default.createElement(Y3.Popover.Header,null,o),j5.default.createElement(Y3.Popover.Body,null,i));return j5.default.createElement(Y3.OverlayTrigger,{placement:s||"top",show:this.state.show,onToggle:this.onToggle,overlay:c},j5.default.createElement("div",{className:a},n||j5.default.createElement("i",{className:"bi bi-question-circle-fill"})))}};y(w_,"propTypes",{popoverTitle:aU.default.string,popoverContent:aU.default.node.isRequired});var rn=w_;var __=M(P("react"),1),cue=P("react-bootstrap"),k_=(0,__.forwardRef)((e,t)=>__.default.createElement(cue.Button,{ref:t,...e}));var uue=M(t2(),1),wt=M(P("react"),1),pue=P("react-bootstrap"),tu=P("react-redux"),IZe=({title:e,callback:t,hidePlanId:r,isChangePlan:o,isRenew:i})=>{let n=(0,tu.useDispatch)(),[s,a]=(0,wt.useState)(!1),[l,c]=(0,wt.useState)(!1),[u,p]=(0,wt.useState)(null),[m,h]=(0,wt.useState)(null),f=(0,tu.useSelector)(De.getProductKey),x=(0,tu.useSelector)(De.getSelectedPlanId),v=(0,tu.useSelector)(Jr.getPlans),b=(0,tu.useSelector)(Jr.getYearlyPlan)?.id??null,S=(0,tu.useSelector)(Ce=>Q.isProSubscriber((0,uue.default)(),Ce)),w=(0,tu.useSelector)(Q.isPromoUser),_=(0,tu.useSelector)(Q.isTrialUser),T=(0,tu.useSelector)(Q.getEaselSubscriptionInfo).processorSubscriptionID,A=(0,tu.useSelector)(Q.getSubscriptionStatus),O=(0,tu.useSelector)(Q.getEaselProInfo),L=O.subscription?.plan_id,R=O.easel_pro_expiration_date,z=O.subscription?.next_billing_date,I=O.subscription?.last_4,F=O.subscription?.processor,B=(0,wt.useCallback)(()=>{n(De.actions.setSelectedPlanId(b)),a(!0)},[b,n]);(0,wt.useEffect)(()=>{let Ce=yt=>{yt.persisted&&l&&c(!1)};return window.addEventListener("pageshow",Ce),()=>{window.removeEventListener("pageshow",Ce)}},[l]),(0,wt.useEffect)(()=>{(!v||v.length===0)&&n(Jr.fetchStripePlans())},[v,n]),(0,wt.useEffect)(()=>{l&&(u&&L!==u||m&&A!==m)&&c(!1),p(L),h(A)},[L,u,A,m,l]);let j=Ce=>v.find(yt=>yt.id===Ce),X=()=>{n(De.actions.clearSelectedPlanId()),a(!1)},te=()=>{n(De.actions.clearSelectedPlanId()),c(!1),a(!1)},se=()=>j(x),ue=async Ce=>{n(De.actions.setSelectedPlanId(Ce));let yt=j(Ce);n(hoe(U.selectedEaselProPlan,{"Plan ID":Ce,Product:"Easel Pro",Package:"Easel Pro",Interval:yt.billing_frequency,Amount:yt.plan_price,Origin:"Frontend"})),S?!s&&!o&&!i&&n(De.actions.showCheckout()):await be(Ce)},be=async Ce=>{if(l)return;c(!0);let yt=j(Ce).billing_frequency;try{let{url:Zt}=await Ko.createStripeCheckoutSession("easel_pro","easel_pro",yt,f);window.location.href=Zt}catch(Zt){console.error(Zt),Ut(Zt instanceof Error?Zt.message:"A problem occurred trying to load your subscription page. Please try again later."),te()}},ae=async()=>{let Ce=j(x);try{c(!0),await bn.migrateActiveSubscriptionToStripe(n,Ce.billing_frequency,f),n(Bt(U.purchasedSubscription,{Product:"Easel Pro",Package:"Easel Pro",Interval:Ce.billing_frequency,"Stripe Subscription Id":T,Amount:Ce.plan_price,Origin:"Frontend"})),t&&t()}catch(yt){console.error(yt),Ut(yt instanceof Error?yt.message:"A problem occurred trying to renew your subscription."),te()}},he=async()=>{try{c(!0);let Ce=j(x);await bn.changeStripeSubscription(n,Ce.billing_frequency),n(Bt(U.purchasedSubscription,{Product:"Easel Pro",Package:"Easel Pro",Interval:Ce.billing_frequency,"Stripe Subscription Id":T,Amount:Ce.plan_price,Origin:"frontend"})),t&&t()}catch(Ce){console.error(Ce),Ut(Ce instanceof Error?Ce.message:"A problem occurred trying to update your subscription. Please try again later.")}c(!1)},fe=async()=>{try{c(!0),await bn.addProductKeyToStripeSubscription(n,f),t?t():Fe("Success","Product key activated!")}catch(Ce){console.error(Ce),Ut(Ce instanceof Error?Ce.message:"A problem occurred trying to activate the product key. Please try again later.")}c(!1),a(!1)},ce=Ce=>Ce.billing_frequency===1?"on a monthly basis":Ce.billing_frequency===12?"on a yearly basis":Ce.billing_frequency===36?"every three years":`every ${Ce.billing_frequency} months`,Se=()=>{let Ce=se(),yt=ce(Ce);if(s)return wt.default.createElement(wt.default.Fragment,null,"When your product key expires, your subscription will automatically renew ",yt," for $",Ce.plan_price," USD + tax. Choose a payment method for renewal after your key expires.",It({message:"Learn more about Easel Pro features, benefits, and subscription types:",title:"Easel Pro FAQ and Overview",url:"https://inventables.zendesk.com/hc/en-us/articles/360012849133-Easel-Pro-FAQ-and-Overview"}));let Zt=[];o&&Zt.push("By selecting Submit Payment Information, you are changing the amount charged on your renew date and the amount of time purchased at that time. If you have any questions or concerns, please contact support.");let Gt;return S&&w?Gt=`on ${ai.formatDate(R)} when your product key expires`:S&&_?Gt="at the end of your trial":A==="payment_error_inactive"?Gt="today":S&&z!=null?Gt=`on ${ai.formatDate(z)} when your current subscription expires`:S&&R!=null?Gt=`on ${ai.formatDate(R)} when your previous subscription expires`:Gt="today",Zt.push(`You will be billed ${hm.formatShortUSD(Ce.plan_price)} + tax ${Gt}, and your subscription will automatically renew ${yt}. All prices shown are in USD.`),Zt.join(" ")},It=({message:Ce,url:yt,title:Zt})=>wt.default.createElement(rn,{className:"easel-pro-sign-up__popover-icon",placement:"top",popoverContent:wt.default.createElement(wt.default.Fragment,null,Ce,wt.default.createElement("a",{href:yt,target:"_blank",rel:"noreferrer",className:"easel-pro-sign-up__popover-link"},Zt))},wt.default.createElement("a",{href:yt,target:"_blank",rel:"noreferrer"},wt.default.createElement("i",{className:"bi bi-question-circle-fill"}))),at=()=>{let Ce=s&&!f;return S?["subscribed_payer","user_canceled","admin_canceled","payment_error_inactive"].includes(A)&&F==="stripe"?s?wt.default.createElement(k_,{size:"lg",variant:"primary",className:"d-flex align-items-center",onClick:fe,disabled:l||Ce},"Activate",wt.default.createElement("span",{className:"ms-2"},l&&wt.default.createElement(Re,{color:"white"}))):wt.default.createElement(wt.default.Fragment,null,wt.default.createElement("p",{className:"easel-pro-sign-up-row__billing-explanation"},Se(),` Charges will be made to the card ending in ${I}. You can change your payment method after renewing. `,"For more information about the terms and conditions of your subscription, please refer to the ",wt.default.createElement("a",{href:"https://easel.com/pages/easel-pro-eula",target:"_blank",rel:"noreferrer"},"Easel Pro End User License Agreement"),"."),wt.default.createElement(k_,{size:"lg",variant:"primary",className:"d-flex align-items-center",disabled:l,onClick:he},i?"Renew":"Change plan")):l?wt.default.createElement("div",{className:"d-flex flex-column align-items-center"},wt.default.createElement(Re,null),wt.default.createElement("p",{className:"mt-3"},"Processing your payment...")):wt.default.createElement(X3,{planId:x,plans:v,onCompleteCallback:ae}):s?wt.default.createElement(k_,{size:"lg",variant:"primary",className:"d-flex align-items-center",onClick:()=>be(b),disabled:l||Ce},"Continue",wt.default.createElement("span",{className:"ms-2"},l?wt.default.createElement(Re,{color:"white"}):wt.default.createElement("i",{className:"bi bi-box-arrow-up-right"}))):null};return wt.default.createElement(wt.default.Fragment,null,v.length===0&&wt.default.createElement(Re,null),v.length>0&&wt.default.createElement("div",{className:"easel-pro-sign-up"},wt.default.createElement("h3",null,e),!s&&wt.default.createElement(wt.default.Fragment,null,wt.default.createElement("div",{className:"mb-2"},"Select the plan that works for you.",It({message:"Learn more about Easel Pro features, benefits, and subscription types:",title:"Easel Pro FAQ and Overview",url:"https://inventables.zendesk.com/hc/en-us/articles/360012849133-Easel-Pro-FAQ-and-Overview"})),wt.default.createElement("div",{className:"easel-pro-sign-up__plans-container"},v.filter(Ce=>Ce.id!==r).sort((Ce,yt)=>Ce.plan_price-yt.plan_price).map(Ce=>wt.default.createElement(C_,{key:Ce.id,title:Ce.billing_description,description:Ce.description,price:Ce.plan_monthly_price,frequency:"mo",referencePrice:Ce.reference_monthly_price,isWaiting:l,onClick:()=>ue(Ce.id),banner:Ce.banner,price_description:Ce.price_description,price_description_2:Ce.price_description_2,clickable:!0})))),wt.default.createElement("div",{className:"easel-pro-sign-up__activate-key"},f!=null?"Activate your Easel Pro subscription now.":w?"If you have another Easel Pro product key":"If you already have an Easel Pro product key",It({message:"For more information about Easel Pro licenses and Product Key activation:",title:"How do I activate my Easel Pro Product Key?",url:"https://inventables.zendesk.com/hc/en-us/articles/14493176325779-How-do-I-activate-my-Easel-Pro-Product-Key-"}),wt.default.createElement("button",{className:"btn btn-secondary",disabled:s,onClick:B},"Activate your Product Key"),s&&wt.default.createElement(wt.default.Fragment,null,wt.default.createElement(pue.Anchor,{onClick:X},"Cancel Activation"),wt.default.createElement("div",{className:"easel-pro-sign-up-row__activate-key-container"},wt.default.createElement("label",{htmlFor:"product-key",className:"easel-pro-sign-up-row__activate-title"},"Product key from your order:"),wt.default.createElement("input",{id:"product-key",className:"easel-pro__promo-code__input",value:f||"",placeholder:"XXXX-XXXX",onChange:Ce=>n(De.actions.setProductKey(Ce.target.value))})),l&&wt.default.createElement(Re,null))),x!=null&&at()))},T_=IZe;var wr=M(P("react"),1),$f=P("react-redux"),fue=P("react");var kl=M(P("react"),1),due=P("react-bootstrap"),mue=P("react-redux"),DZe=({children:e})=>{let t=(0,mue.useSelector)(qf.getPublicKey),[r,o]=(0,kl.useState)(!1),[i,n]=(0,kl.useState)(null);return(0,kl.useEffect)(()=>{if(t){let s=!0;return Ko.getStripeCustomerPortalConfiguration().then(a=>{s&&n(a)}),()=>{s=!1}}},[t]),(0,kl.useEffect)(()=>{let s=a=>{a.persisted&&r&&o(!1)};return window.addEventListener("pageshow",s),()=>{window.removeEventListener("pageshow",s)}},[r]),i?kl.default.createElement("div",{className:"stripe-customer-portal-link"},kl.default.createElement(due.Button,{className:"d-flex align-items-center btn btn-primary",onClick:async()=>{o(!0);try{let{url:s}=await Ko.createStripeCustomerPortalSession();window.location.href=s}catch(s){console.error(s),Ut("A problem occurred trying to load your subscription page. Please try again later."),o(!1)}},disabled:r},e,kl.default.createElement("span",{className:"ms-2"},r?kl.default.createElement(Re,{color:"white"}):kl.default.createElement("i",{className:"bi bi-box-arrow-up-right"}))),!i.update&&kl.default.createElement("p",{className:"stripe-customer-portal-link__update-instructions"},"For additional help with your subscription plan, please email ",kl.default.createElement("a",{href:"mailto:help@easel.com"},"help@easel.com"),".")):kl.default.createElement(Re,null)},E_=DZe;var NZe=()=>{let e=(0,$f.useDispatch)(),t=(0,$f.useSelector)(Jr.getCurrentlySelectedPlanName),r=(0,$f.useSelector)(Q.getEaselProInfo).subscription,[o,i]=(0,fue.useState)(!1),n=(0,$f.useSelector)(De.getActiveAccountManagementOption),s=(0,$f.useSelector)(Q.isPausedUser),a=(0,$f.useSelector)(Q.getResumeDate),l=()=>{i(!o)},c=(0,$f.useSelector)(Q.getSubscriptionSchedule),u=()=>{e(s?De.actions.setActiveAccountManagementOption("resume"):De.actions.setActiveAccountManagementOption("manage")),H.trackEvent(U.clickedManageSubscription,{"Plan Name":t})};return t&&r?wr.default.createElement(wr.default.Fragment,null,wr.default.createElement("dl",{className:"easel-pro-management__subscription-info"},wr.default.createElement("dt",null,"Current plan:"),wr.default.createElement("dd",null,s?`Paused (${t})`:t),wr.default.createElement("dt",null,"Renewal date:"),wr.default.createElement("dd",null,s?ai.formatDate(a):ai.formatDate(r.next_billing_date)),wr.default.createElement("dt",null,"Payment due:"),wr.default.createElement("dd",null,r.next_billing_period_tax!=null?hm.formatUSD(r.next_billing_period_total_excluding_tax+r.next_billing_period_tax):`${hm.formatUSD(r.next_billing_period_total_excluding_tax)} + tax`),r.card_type!=null&&wr.default.createElement(wr.default.Fragment,null,wr.default.createElement("dt",null,"To card"),wr.default.createElement("dd",null,`${r.card_type} ending in ${r.last_4}`)),c&&c.length>0&&wr.default.createElement("dt",null,wr.default.createElement(oe,{onClick:l},"Details ",wr.default.createElement("i",{className:o?"bi bi-caret-down-fill":"bi bi-caret-right-fill"}))),o&&wr.default.createElement("dd",null,c.map(p=>wr.default.createElement("div",{className:"card p-2 mb-2",key:p.start_date},wr.default.createElement("div",null,wr.default.createElement("label",{className:"me-2 fw-normal"},"Changes to"),wr.default.createElement("span",null,p.display_name)),wr.default.createElement("div",null,wr.default.createElement("label",{className:"me-2 fw-normal"},"At"),wr.default.createElement("span",null,`${hm.formatUSD(p.total_excluding_tax)}${p.total_excluding_tax>0?" + tax":""}`)),p.description&&wr.default.createElement("div",null,wr.default.createElement("label",{className:"me-2 fw-normal"},"Via"),wr.default.createElement("span",null,p.description)),wr.default.createElement("div",null,wr.default.createElement("label",{className:"me-2 fw-normal"},"On"),wr.default.createElement("span",null,ai.formatDate(p.start_date)))))),wr.default.createElement("div",{className:"easel-pro-management__links-row"},wr.default.createElement("div",{className:"easel-pro-management__links"},r.processor=="stripe"?wr.default.createElement(E_,null,"Edit billing info"):wr.default.createElement("button",{onClick:()=>e(De.actions.setActiveAccountManagementOption("updateBilling")),className:`btn ${n==="updateBilling"?"btn-secondary":"btn-light"}`},"Edit billing info"),wr.default.createElement("button",{onClick:u,className:`btn ${n!=="updateBilling"?"btn-secondary":"btn-light"}`},"Manage subscription"))))):wr.default.createElement(Re,null)},hue=NZe;var cs=M(P("react"),1);var M_=P("react-redux");var lU=M(t2(),1);var OZe=()=>{let e=(0,M_.useDispatch)(),[t,r]=(0,cs.useState)("1"),[o,i]=(0,cs.useState)(!1),n=p=>{r(p.target.value)},s=()=>bn.pauseSubscription(e,parseInt(t)),a=()=>{i(!0),s().then(()=>{H.trackEvent(U.pausedEaselPro,{"Pause Duration":t,source:"Easel Modal"}),e(De.actions.setActiveAccountManagementOption("resume")),i(!1)}).catch(()=>{i(!1)})},l=(0,M_.useSelector)(Q.getRenewDate),c=(0,lU.default)(l).format("M/D/YYYY"),u=(0,lU.default)(l).add(parseInt(t),"month").format("M/D/YYYY");return cs.default.createElement("div",{className:"easel-pro-pause-container"},cs.default.createElement("h3",{className:"easel-pro-pause-heading"},"Pause Subscription"),cs.default.createElement("p",null,"Access to all Easel Pro features will be restricted when your subscription is paused. Access to your account, projects, and the free functionality within Easel will not change. Your Easel Pro subscription and billing will automatically resume after the specified duration, and you can manually resume at any time."),cs.default.createElement("div",{className:"easel-pro-pause-container__form"},cs.default.createElement("div",{className:"form-group"},cs.default.createElement("label",{htmlFor:"pause-duration"},"Choose duration:"),cs.default.createElement("select",{id:"pause-duration",className:"form-select",value:t,onChange:n},cs.default.createElement("option",{value:"1"},"1 month"),cs.default.createElement("option",{value:"2"},"2 months"),cs.default.createElement("option",{value:"3"},"3 months")))),cs.default.createElement("ul",null,cs.default.createElement("li",null,`You will retain access to Easel Pro features until ${c}`),cs.default.createElement("li",null,`Your subscription will resume automatically on ${u}`),cs.default.createElement("li",null,"You can manually resume your subscription at any time by selecting Resume Subscription on the Manage Subscription page.")),cs.default.createElement("button",{className:"btn btn-primary",disabled:o,onClick:a},"Pause Subscription"),o&&cs.default.createElement(Re,null))},gue=OZe;var xue=M(t2(),1);var ed=M(P("react"),1),q3=P("react-redux");var LZe=()=>{let e=(0,q3.useDispatch)(),[t,r]=(0,ed.useState)(!1),o=(0,q3.useSelector)(c=>Q.isProExpired(Date.now(),c)),i=(0,q3.useSelector)(Q.getEaselProInfo).subscription,n=new Date(i.next_billing_date),s=(0,q3.useSelector)(Q.getResumeDate),a=()=>{r(!0),l().then(()=>{H.trackEvent(U.resumedEaselPro),e(De.actions.showResumedConfirmation()),r(!1)}).catch(()=>{r(!1)})},l=()=>bn.resumeSubscription(e);return ed.default.createElement("div",{className:"easel-pro-management__resume-easel"},ed.default.createElement("h3",null,"Resume Subscription"),ed.default.createElement("p",null,!o&&`Your Easel Pro subscription is paused and your access to pro features will expire on ${ai.formatDate(n)}.`,o&&`Your Easel Pro subscription has been paused and will automatically resume on ${ai.formatDate(s)}.
        Click below at any time to resume your subscription to access Easel Pro features such as Custom Bits and Materials, V-Carving, Pro Font Library, and more.`),ed.default.createElement("div",{className:"easel-pro-management__resume-easel__resume-button-container"},ed.default.createElement("button",{className:"btn btn-primary",disabled:t,onClick:a},"Resume subscription"),t&&ed.default.createElement(Re,null)),ed.default.createElement("div",{className:"easel-pro-management__resume-easel__cancel-button-container"},ed.default.createElement("button",{className:"btn btn-secondary",disabled:t,onClick:()=>e(De.actions.setActiveAccountManagementOption("cancel"))},"Cancel subscription")))},yue=LZe;var BZe=()=>{let e=(0,G5.useDispatch)(),r=(0,G5.useSelector)(Q.getEaselProInfo).subscription,o=(0,G5.useSelector)(Q.getRenewDate),i=(0,G5.useSelector)(Jr.getPlans),n=(0,G5.useSelector)(v=>Q.canUserPause(v,(0,xue.default)())),s=(...v)=>bn.migrateActiveSubscriptionToStripe(e,...v),a=(0,G5.useSelector)(De.getActiveAccountManagementOption),[l,c]=(0,on.useState)(!1),[u,p]=(0,on.useState)(!1);(0,on.useEffect)(()=>{i!=null&&i.length===0&&e(Jr.fetchStripePlans())},[i,e]);let m=v=>{e(De.actions.setActiveAccountManagementOption(v))},h=()=>{e(De.actions.hideAccountManagementOption())},f=()=>{c(!0),h()},x=async()=>{let v=i.find(b=>b.id===r.plan_id).billing_frequency;try{await s(v,null),p(!0),h()}catch(b){console.error(b),Ut(b.message??"A problem occurred trying to renew your subscription.")}};return on.default.createElement(on.default.Fragment,null,l&&on.default.createElement("p",{className:"notification notification-success"},"You have changed your plan! Details of the new plan are below."),u&&on.default.createElement("p",{className:"notification notification-success"},"You have changed your billing info! Details of your plan are below."),on.default.createElement(hue,null),a==="updateBilling"&&on.default.createElement(X3,{planId:r.plan_id,plans:i,onCompleteCallback:x}),a==="cancel"&&on.default.createElement(nue,null),a==="pause"&&on.default.createElement(gue,null),a==="resume"&&on.default.createElement(yue,null),a==="manage"&&o&&on.default.createElement(on.default.Fragment,null,on.default.createElement("div",{className:"easel-pro-update-plan"},on.default.createElement(T_,{title:"Change plan",callback:f,hidePlanId:r.plan_id,isChangePlan:!0})),on.default.createElement("hr",null),on.default.createElement("div",{className:"easel-pro-interrupt-subscription"},n&&on.default.createElement("button",{onClick:()=>m("pause"),className:"btn btn-primary"},"Pause subscription"),on.default.createElement("button",{onClick:()=>m("cancel"),className:"btn btn-light"},"Cancel subscription"))))},bue=BZe;var gm=M(P("react"),1),A_=P("react-redux");var FZe=()=>{let e=(0,A_.useDispatch)(),t=(0,A_.useSelector)(Jr.isLoading);return gm.default.createElement(gm.default.Fragment,null,t&&gm.default.createElement("div",{className:"easel-pro-management__cancelled-easel"},gm.default.createElement(Re,null)),!t&&gm.default.createElement("div",{className:"easel-pro-management__cancelled-easel"},gm.default.createElement("div",null,gm.default.createElement("img",{className:"easel-pro-management__cancelled-img",src:EASEL_ASSETS.images.sadEasel})),gm.default.createElement("p",null,"Sorry to see you go. If you want to sign up for Pro again you can do so in your Easel account."),gm.default.createElement("button",{className:"btn btn-primary",onClick:()=>e(De.actions.hideAccountManagementOption())},"Close")))},vue=FZe;var Sue=M(P("react"),1),I_=P("react-redux");var WZe=()=>{let e=(0,I_.useSelector)(Q.isPromoUser),t=(0,I_.useSelector)(Q.isCanceledUser),r=(0,I_.useSelector)(n=>Q.isProExpired(Date.now(),n)),o="Sign up now for Easel Pro",i=!1;return e?o="Auto-renew Easel Pro":t&&!r&&(o="Renew Easel Pro",i=!0),Sue.default.createElement(T_,{title:o,isRenew:i})},Cue=WZe;var H5=M(P("react"),1),D_=P("react-redux");var VZe=()=>{let e=(0,D_.useDispatch)(),t=(0,D_.useSelector)(Jr.isLoading);return H5.default.createElement(H5.default.Fragment,null,t&&H5.default.createElement("div",{className:"easel-pro-management__resumed-easel"},H5.default.createElement(Re,null)),!t&&H5.default.createElement("div",{className:"easel-pro-management__resumed-easel"},H5.default.createElement("p",null,"Your Easel Pro subscription has been resumed."),H5.default.createElement("button",{className:"btn btn-primary",onClick:e(De.actions.hideAccountManagementOption())},"Close")))},Pue=VZe;var li=M(P("react"),1),z5=P("react-redux");var us=M(P("react"),1);var wue=P("react-bootstrap"),UZe=({product:e,package:t,billingFrequency:r,onApplyPromoCode:o})=>{let[i,n]=(0,us.useState)(""),[s,a]=(0,us.useState)(null),[l,c]=(0,us.useState)(""),[u,p]=(0,us.useState)(!1),[m,h]=(0,us.useState)(null),f=b=>{n(b),c(""),a(null)},x=async()=>{if(i.trim().length!==0){p(!0);try{let b=await Ko.getPromoCodeDetails(i.trim(),e,t,r);a(b),h(i.trim()),o(b)}catch{c("The promo code is not valid or cannot be applied to this plan."),o(null)}finally{p(!1)}}};return us.default.createElement("div",{className:"form-group promo-code-input"},us.default.createElement("label",{htmlFor:"promo-code"},"Promo code"),m?us.default.createElement("div",{className:"promo-code-input__applied-promo-code"},us.default.createElement("i",{className:"bi bi-tag-fill text-secondary"}),us.default.createElement("span",{className:"form-control-plaintext"},m),us.default.createElement(wue.Anchor,{role:"button",title:"Remove promo code",onClick:()=>{n(""),a(null),c(""),h(null),o(null)}},us.default.createElement("i",{className:"bi bi-x-lg"}))):us.default.createElement("div",{className:"d-flex gap-2"},us.default.createElement("input",{id:"promo-code",type:"text",className:"form-control",value:i,onChange:b=>f(b.target.value),onKeyDown:b=>b.key==="Enter"&&x(),placeholder:"Promo code",disabled:u}),us.default.createElement("button",{type:"button",className:"btn btn-secondary",onClick:x,disabled:u||i.trim().length===0},u?us.default.createElement(Re,{color:"white",className:"my-0"}):"Apply")),l&&us.default.createElement("div",{className:"text-danger"},l),s&&us.default.createElement("div",{className:"text-success"},s.description,s.amountOff?` ($${s.amountOff} off ${s.duration})`:null,s.percentOff?` (${s.percentOff}% off ${s.duration})`:null))},_ue=UZe;var RZe=()=>{let e=(0,z5.useDispatch)(),t=(0,z5.useSelector)(Jr.isLoading),r=(0,z5.useSelector)(De.getSelectedPlanId),o=(0,z5.useSelector)(Jr.getPlans),[i,n]=(0,li.useState)(!1),[s,a]=(0,li.useState)(null),l=(0,li.useRef)(null),c=(0,z5.useSelector)(Q.getEaselSubscriptionInfo).processorSubscriptionID,u=(0,z5.useSelector)(De.getProductKey),p=o.find(f=>f.id===r);(0,li.useEffect)(()=>{let f=x=>{x.persisted&&i&&n(!1)};return window.addEventListener("pageshow",f),()=>{window.removeEventListener("pageshow",f)}},[i]);let m=f=>{a(f),l.current=f?.code??null},h=(0,li.useCallback)(async()=>{let f=o.find(x=>x.id===r);try{n(!0),await bn.migrateActiveSubscriptionToStripe(e,f.billing_frequency,u,l.current),n(!1),e(Bt(U.purchasedSubscription,{Product:"Easel Pro",Package:"Easel Pro",Interval:f.billing_frequency,"Stripe Subscription Id":c,Amount:f.price,Origin:"Frontend"})),e(De.actions.hideAccountManagementOption())}catch(x){console.error(x),Ut(x.message??"A problem occurred trying to renew your subscription."),n(!1)}},[e,o,r,u,c]);return li.default.createElement(li.default.Fragment,null,t&&li.default.createElement("div",{className:"easel-pro-management__checkout"},li.default.createElement(Re,null)),!t&&li.default.createElement("div",{className:"easel-pro-management__checkout"},i&&li.default.createElement("div",{className:"easel-pro-management__checkout-loading"},li.default.createElement(Re,null)),!i&&li.default.createElement(li.default.Fragment,null,li.default.createElement("a",{role:"button",onClick:()=>e(De.actions.hideAccountManagementOption())},li.default.createElement("i",{className:"bi bi-arrow-left"})," Compare Plans"),li.default.createElement("div",{className:"easel-pro-management__checkout-row"},li.default.createElement("div",{className:"easel-pro-management__checkout-summary"},li.default.createElement(C_,{key:p.id,title:p.billing_description,description:p.description,price:p.plan_price,discountAmount:s?.amountOff??0,discountPercentage:s?.percentOff??0,price_description:p.price_description,price_description_2:p.price_description_2,clickable:!1}),li.default.createElement(_ue,{product:"easel_pro",package:"easel_pro",billingFrequency:p.billing_frequency,onApplyPromoCode:m})),li.default.createElement(X3,{planId:r,plans:o,onCompleteCallback:h})))))},kue=RZe;var jZe=()=>{let e=(0,ea.useDispatch)(),t=(0,ea.useSelector)(De.canceledConfirmationVisible),r=(0,ea.useSelector)(De.resumedConfirmationVisible),o=(0,ea.useSelector)(De.checkoutVisible),i=Date.now(),n=(0,ea.useSelector)(Q.getEaselProInfo),s=n.easel_pro_expiration_date!=null?new Date(n.easel_pro_expiration_date):void 0,a=(0,ea.useSelector)(E=>Q.isProExpired(i,E)),l=(0,ea.useSelector)(Q.isSubscriptionLoaded),c=(0,ea.useSelector)(Jr.isLoading),u=(0,ea.useSelector)(Q.getSubscriptionStatus),p=(0,ea.useSelector)(Q.canUserSignUp),m=(0,ea.useSelector)(Q.isPayingUser),h=(0,ea.useSelector)(Q.isPromoUser),f=(0,ea.useSelector)(Q.isAdminGrantedUser),x=(0,ea.useSelector)(Q.isEducatorGrantedUser),v=(0,ea.useSelector)(Q.isPausedUser),b=(0,ea.useSelector)(Q.isPaymentErrorUser),S=(0,ci.useCallback)(()=>bn.getEaselProSubscriptionWithPaymentDetails(e),[e]);(0,ci.useEffect)(()=>{l||S()},[l,S]);let w=()=>ci.default.createElement("p",null,a&&`Your canceled Easel Pro subscription expired on ${ai.formatDate(s)}.`,!a&&`Your Easel Pro subscription has been canceled and will expire on ${ai.formatDate(s)}.`),_=()=>ci.default.createElement("p",null,"Your Easel Pro Educator Account expired on ",ai.formatDate(s),".",ci.default.createElement("br",null),ci.default.createElement("br",null),"To reapply for an Educator Account please make a request on the Options tab.");return ci.default.createElement("div",{className:"setting-block container-fluid"},r&&ci.default.createElement(Pue,null),t&&ci.default.createElement(vue,null),o&&ci.default.createElement(kue,null),!t&&!r&&!o&&ci.default.createElement("div",null,!l&&ci.default.createElement("p",null,"Loading subscription information ",ci.default.createElement(Re,null)),l&&ci.default.createElement(ci.default.Fragment,null,(m||h&&!a||f||x&&!a)&&ci.default.createElement("h3",null,"You have Easel Pro"),v&&ci.default.createElement("h3",null,"Your Easel Pro subscription is paused"),b&&ci.default.createElement("h3",null,"Unable to process payment. Please double-check your payment info!"),h&&!a&&ci.default.createElement(eue,{formattedExpirationDate:ai.formatDate(s)}),h&&a||["user_canceled","admin_canceled"].includes(u)&&w(),f&&ci.default.createElement("p",null,"Your subscription requires no payment"),x&&!a&&ci.default.createElement("p",null,"Your Educator Account requires no payment and will expire on ",ai.formatDate(s),"."),x&&a&&_(),(m||b||v)&&ci.default.createElement(bue,{isLoading:c}),p&&ci.default.createElement(Cue,null))))},Tue=jZe;var rp=M(P("react"),1);var vn=M(P("react"),1);var Mue=P("react-redux");var GZe=e=>{switch(e){case"like":return"liked";case"copy":return"copied";case"comment":return"commented on";default:return e}},Eue=e=>new Date(e).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric"}),HZe=({notification:e})=>{let t=(0,Mue.useDispatch)(),[r,o]=(0,vn.useState)(e.reply?"replied":"idle"),[i,n]=(0,vn.useState)(""),s=GZe(e.activity_type),a=Eue(e.created_at),l=`?utm_source=easel&utm_medium=nav&utm_campaign=activity-tab&utm_content=${e.activity_type}`,c=async u=>{o("loading"),await Ca.replyTo(e,u).then(p=>{t(tn.actions.markNotificationRepliedTo({notificationId:e.id,comment:p})),o("success"),H.trackEvent(U.commentedInGallery,{source:e.source})}).catch(p=>{console.log("Comment reply failed:",p),o("idle")})};return vn.default.createElement("div",{className:"gallery-activity-row__container"},vn.default.createElement("div",{className:"gallery-activity-row__image-container"},vn.default.createElement("a",{href:`/gallery/${e.gallery_project.link_token}${l}`,target:"_blank",rel:"noreferrer"},vn.default.createElement("img",{className:"gallery-activity-row__image",src:e.gallery_project.thumbnail_image_urls.small}))),vn.default.createElement("div",{className:"gallery-activity-row__content"},vn.default.createElement("div",{className:"gallery-activity-row__header"},vn.default.createElement("div",{className:"gallery-activity-row__message"},vn.default.createElement("a",{href:`/gallery/profiles/${e.actor.link_token}${l}`,className:"gallery-activity-row__actor",target:"_blank",rel:"noreferrer"},e.actor.name)," ",s," your project: ",vn.default.createElement("a",{href:`/gallery/${e.gallery_project.link_token}${l}`,className:"gallery-activity-row__project",target:"_blank",rel:"noreferrer"},e.gallery_project.title)),vn.default.createElement("span",{className:"gallery-activity-row__timestamp"},a)),e.activity.message&&vn.default.createElement("div",{className:"gallery-activity-row__comment"},"\u201C",e.activity.message,"\u201D",vn.default.createElement("div",null,r==="loading"&&vn.default.createElement(Re,null),r==="success"&&vn.default.createElement("div",{className:"gallery-activity-row__reply-success"},"Your message has been sent"),r==="replied"&&e.reply&&vn.default.createElement("a",{className:"gallery-activity-row__replied-timestamp",href:`/gallery/${e.gallery_project.link_token}${l}-reply#comments`,target:"_blank",rel:"noreferrer"},`You replied on ${Eue(e.reply.created_at)}`),(r==="idle"||r==="replied")&&vn.default.createElement("form",{className:"gallery-activity-row__reply",onSubmit:u=>{u.preventDefault(),c(i),n("")}},vn.default.createElement("textarea",{name:"reply",placeholder:"Type your reply here...",className:"form-control gallery-activity-row__reply-input",value:i,onChange:u=>n(u.target.value)}),vn.default.createElement("button",{className:"btn gallery-activity-row__reply-button"},"Send"))))))},Aue=HZe;var sb=P("react-redux");var Iue=P("react");var nb=P("react"),rar=(0,nb.createContext)(null),oar=(0,nb.createContext)({context:"none",interactable:!1,editable:!1}),ym=(0,nb.createContext)(null),N_=(0,nb.createContext)(null);var X5=()=>{let e=(0,sb.useSelector)(tn.getNotifications),t=(0,sb.useSelector)(tn.getNotificationReadState),r=(0,sb.useDispatch)(),o=(0,Iue.useContext)(N_);if(o==null)throw Error("Gallery Notifications Context must be provided");let{markNotificationRead:i}=o;return{notifications:e,markRead:s=>{t||(i(s.id),r(tn.actions.markNotificationRead(s.id)))},readState:t}};var zZe=()=>{let{notifications:e,markRead:t}=X5();return(0,rp.useEffect)(()=>{e.forEach(o=>{t(o)})},[e,t]),rp.default.createElement("div",{className:"activity-tab__container scrollable-content"},e.length==0&&rp.default.createElement("div",{className:"activity-tab-empty"},rp.default.createElement("h3",{className:"activity-tab-empty__heading"},"Working on a project? Share it in the ",rp.default.createElement("a",{href:"/gallery?utm_source=easel&utm_medium=nav&utm_campaign=activity-tab&utm_content=notifications-empty"},"Easel Gallery!")),rp.default.createElement("div",{className:"activity-tab-empty__button-row"},"Share a project by clicking on the blue share button in the top right corner of the navigation bar: ",rp.default.createElement("div",{className:"fake-share-button"},rp.default.createElement("i",{className:"bi bi-share"}))),rp.default.createElement("div",{className:"activity-tab-empty__check-back"},"Check back here after sharing to see your project activity and connect with other makers!")),e.map(o=>rp.default.createElement(Aue,{key:`gallery-activity-${o.id}`,notification:o})))},Due=zZe;var cU=M(P("react"),1),XZe=({className:e="primary-nav__gallery-notification-dot",color:t="#ed6846"})=>cU.default.createElement("svg",{className:e,width:"0.75rem",viewBox:"0 0 16 16",fill:t,"aria-hidden":"true",style:{verticalAlign:"super"},"data-testid":"notification-dot"},cU.default.createElement("circle",{cx:"8",cy:"8",r:"6"})),O_=XZe;var $3=({onClick:e,tabName:t,dot:r=!1})=>{let o=(0,Zf.useSelector)(De.getUserModalActiveTab),i=t.charAt(0).toUpperCase()+t.slice(1);return so.default.createElement("li",{className:o===t?"active":""},so.default.createElement(oe,{onClick:e,className:"user-modal__tab-link"},i," ",r&&so.default.createElement(O_,{className:"user-modal__dot"})))},YZe=e=>{let t=(0,Zf.useDispatch)(),r=(0,Zf.useSelector)(De.getUserModalVisible),o=(0,Zf.useSelector)(De.getUserModalActiveTab),i=(0,Zf.useSelector)(qa.getSystemNotification),n=(0,Zf.useSelector)(h=>Q.isProEnabled(Date.now(),h)),s=!(0,Zf.useSelector)(De.checkoutVisible),{notifications:a,readState:l}=X5(),c=()=>{Gr.create().then(h=>{let f=new URL(`/projects/${h.link_token}`,window.location.origin);f.searchParams.set("newProject","true"),window.open(f.toString(),globalThis.EASEL_PROJECT_LINK_TOKEN?"_blank":"_self")}).then(()=>{H.trackEvent(U.openedNewProjectStartModal,{source:"User Modal New Project Button"})}).catch(h=>{console.error(h),Ut("Something went wrong trying to create a project.")})},u=()=>{globalThis.EASEL_PROJECT_LINK_TOKEN!==null&&(t(De.actions.hideUserModal()),t(At.actions.setStartPercentage(0)))};(0,so.useEffect)(()=>{let h=x=>{if(x)switch(x){case"#projects":t(De.actions.showUserModalProjectsTab());break;case"#account":t(De.actions.showUserModalAccountTab());break;case"#activity":t(De.actions.showUserModalActivityTab());break;case"#options":t(De.actions.showUserModalOptionsTab());break;case"#learn":t(De.actions.showUserModalLearnTab());break;case"#cabinetmaker":t(De.actions.showUserModalCabinetmakerTab());break;default:t(De.actions.showUserModalProjectsTab());break}};h(window.location.hash);let f=x=>{let v=new URL(x.newURL);h(v.hash)};return window.addEventListener("hashchange",f),()=>{window.removeEventListener("hashchange",f)}},[t]);let p=()=>{H.trackEvent(U.visitedLearnTab),t(De.actions.showUserModalLearnTab())},m=()=>{let h=ec(a.filter(f=>!f.read),f=>f.source);H.trackEvent(U.openedActivityTab,{"Existing Unread Notifications":h.load?.length??0,"New Unread Notifications":h.poll?.length??0}),t(De.actions.showUserModalActivityTab())};return so.default.createElement(L_.Modal,{className:"open-project-modal",show:r,onHide:u,size:"xl"},so.default.createElement(L_.Modal.Header,{closeButton:globalThis.EASEL_PROJECT_LINK_TOKEN!==null},so.default.createElement(Kce,null)),so.default.createElement(L_.Modal.Body,{className:i?"modal-body--user-notification":""},i?.message&&["easel",null].includes(i.app)&&so.default.createElement(Qce,null),s&&so.default.createElement("ul",{className:"nav nav-tabs"},so.default.createElement($3,{tabName:"projects",onClick:()=>t(De.actions.showUserModalProjectsTab())}),so.default.createElement($3,{tabName:"activity",onClick:m,dot:!l}),so.default.createElement($3,{tabName:"account",onClick:()=>t(De.actions.showUserModalAccountTab()),dot:i?.type==="update-payment"}),so.default.createElement($3,{tabName:"options",onClick:()=>t(De.actions.showUserModalOptionsTab())}),so.default.createElement($3,{tabName:"learning",onClick:p}),!it("cabinet_mvp")&&so.default.createElement($3,{tabName:"cabinetmaker",onClick:()=>t(De.actions.showUserModalCabinetmakerTab())}),it("cabinet_mvp")&&so.default.createElement("li",null,so.default.createElement(oe,{onClick:()=>window.location.href="/jobs"},"Cabinetmaker")),so.default.createElement("li",{key:"nav-tab-button",className:`nav-tabs-button ${o==="learning"?"invisible":""}`},so.default.createElement("button",{className:"btn btn-success",id:"new-project-btn",onClick:c},"New project"))),so.default.createElement("div",{className:`open-project-modal__content ${["account","options","cabinetmaker","learning"].includes(o)?"open-project-modal__content--scrollable":""} `},o==="projects"&&so.default.createElement(Jce,{...e,isProUser:n}),o==="activity"&&so.default.createElement(Due,null),o==="account"&&so.default.createElement("div",{className:"account-container"},so.default.createElement(c_,null),so.default.createElement(Tue,null)),o==="options"&&so.default.createElement(Uce,null),o==="learning"&&so.default.createElement(Ace,null),o==="cabinetmaker"&&so.default.createElement(Mce,null))))},B_=YZe;var R2=P("react-bootstrap"),td=M(P("react"),1),Nue=P("react-redux");var qZe=(0,Nue.connect)(()=>({}),{trackProjectEvent:(e,t)=>Bt(e,t)}),uU=class extends td.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1});y(this,"show",({title:r,message:o,detail:i,buttons:n,type:s})=>{this.setState({show:!0,title:r,message:o,buttons:n,detail:i,type:s})});y(this,"hide",()=>{this.setState({show:!1})});y(this,"onModalOpen",()=>{this.state.show&&this.alertModal["autofocus-button"]&&this.alertModal.focus()})}componentDidMount(){J.addListener("show-alert",this.show),J.addListener("hide-alert",this.hide)}render(){let{show:r,title:o,message:i,detail:n,buttons:s,type:a}=this.state,{trackProjectEvent:l}=this.props;if(!r)return null;let c=a==="danger"?"danger":"primary";return l(U.viewedErrorMessage,{title:o,message:i}),td.default.createElement(R2.Modal,{className:"alert-modal",size:"md",show:r,onHide:this.hide,onEnter:this.onModalOpen},td.default.createElement(R2.Modal.Header,{className:"alert-header justify-content-center"},td.default.createElement("i",{className:"bi bi-exclamation-circle-fill text-danger fs-2"}),td.default.createElement("h2",null,o)),td.default.createElement(R2.Modal.Body,{ref:u=>this.alertModal=u},td.default.createElement("h4",null,i),n&&td.default.createElement("div",{dangerouslySetInnerHTML:{__html:n}})),td.default.createElement(R2.Modal.Footer,{className:"buttons justify-content-center"},s.map((u,p)=>{let m=p===s.length-1;return td.default.createElement(R2.Button,{key:`alert-button-${p}`,size:"lg",variant:m?c:"default",onClick:u.action,ref:m&&"autofocus-button"},u.text)})))}},$Ze=qZe(uU),F_=$Ze;var Z3=M(P("react"),1),W_=P("react-redux");var V_=({children:e})=>{let t=(0,W_.useDispatch)(),r=(0,W_.useSelector)(tn.getNotifications),o=(0,Z3.useRef)(null);return(0,Z3.useEffect)(()=>{let i=async()=>{let n=r[0]?.id||0;try{let s=await Ca.getNotificationsSince(n);s.notifications.forEach(a=>{t(tn.actions.addGalleryNotification(a))}),s.read_state&&t(tn.actions.markAllRead())}catch(s){console.error("Polling failed:",s)}};return o.current=setInterval(i,3e4),()=>{o.current&&(clearInterval(o.current),o.current=null)}},[t,r]),Z3.default.createElement(N_.Provider,{value:{markNotificationRead:Ca.markNotificationRead}},e)};var pU=class extends ab.default.Component{render(){return ab.default.createElement(V_,null,ab.default.createElement(B_,null),ab.default.createElement(F_,null))}},Oue=pU;var dl=M(P("react"),1);var lb=M(P("react"),1);var dU=class extends lb.default.Component{constructor(){super(...arguments);y(this,"state",{message:null,flashMessage:null,flashTimeout:null});y(this,"updateStatus",r=>{clearTimeout(this.state.flashTimeout),this.setState({message:r,flashMessage:null,flashTimeout:null})});y(this,"flashStatus",r=>{clearTimeout(this.state.flashTimeout),this.setState({flashMessage:r,flashTimeout:setTimeout(()=>this.clearFlashStatus(),4e3)})});y(this,"clearFlashStatus",()=>{this.setState({flashMessage:null,flashTimeout:null})});y(this,"closeBanner",()=>{this.setState({message:null}),this.clearFlashStatus()})}componentDidMount(){J.addListener("set-project-status",this.updateStatus),J.addListener("flash-project-status",this.flashStatus)}componentWillUnmount(){clearTimeout(this.state.flashTimeout),J.removeListener("set-project-status",this.updateStatus),J.removeListener("flash-project-status",this.flashStatus)}render(){let r=this.state.flashMessage||this.state.message;return lb.default.createElement("div",{className:`project-status-banner ${r!=null?"show":"hide"}`},lb.default.createElement("div",null,r),this.state.message!=null&&lb.default.createElement("button",{className:"project-status-banner__close","aria-label":"Close",onClick:this.closeBanner},"\xD7"))}},Lue=dU;var ps=M(P("react"),1),J3=P("react-redux");var ZZe=({initialOnlineState:e=navigator?.onLine||!0})=>{let t=(0,J3.useSelector)(ko.isSaved),r=(0,J3.useSelector)(ko.isUnsaved),o=(0,J3.useSelector)(ko.isSaving),i=(0,J3.useSelector)(ko.getError),n=(0,J3.useSelector)(ge.getProjectLinkToken),s=i!=null,a=He(U.saveVersionMismatchError,{"Link Token":n}),[l,c]=(0,ps.useState)(e),[u,p]=(0,ps.useState)(!1),[m,h]=(0,ps.useState)(!1);(0,ps.useEffect)(()=>{let w=()=>{c(!0),h(!1)},_=()=>{c(!1),p(!0)};return window.addEventListener("online",w),window.addEventListener("offline",_),()=>{window.removeEventListener("online",w),window.removeEventListener("offline",_)}},[]),(0,ps.useEffect)(()=>{s&&!o&&i===Cf.saveVersionMismatchError&&a()},[s,o,i,n,a]),(0,ps.useEffect)(()=>{if(s&&l){h(!1);return}if(t){h(!1),l&&u&&p(!1);return}},[l,s,t,r,u]);let f=()=>{Li.scheduleAutosave()},x=()=>{window.location.reload()},v=()=>{h(!0)},b=null,S=null;return l?s&&i===Cf.saveVersionMismatchError||i===Cf.workpieceSaveVersionMismatchError?(b="This project has been modified by another instance of Easel. If you wish to keep the changes in this window, you can make a copy.",S=ps.default.createElement("div",{className:"save-toast__actions d-flex gap-2 ms-3"},ps.default.createElement("button",{onClick:x,className:"save-toast__button save-toast__button--primary"},"Reload"),ps.default.createElement("button",{onClick:()=>v2.duplicate(),className:"save-toast__button save-toast__button--secondary"},"Make a copy"))):u&&r?(b="You're back online. Your changes will be saved now.",S=ps.default.createElement("button",{onClick:f,className:"save-toast__button ms-3",disabled:o},o?"Saving...":"Save Now")):s&&(b=i||"Unable to save changes. Please reload the page.",S=ps.default.createElement("button",{onClick:x,className:"save-toast__button ms-3"},"Reload Page")):b="You're offline. Changes will be saved when your connection returns.",m||!b?null:ps.default.createElement("div",{className:"save-toast"},ps.default.createElement("div",{className:"save-toast__content d-flex align-items-center"},ps.default.createElement("div",{className:"save-toast__icon me-3"},ps.default.createElement("i",{className:"bi bi-exclamation-triangle-fill"})),ps.default.createElement("div",{className:"save-toast__message flex-grow-1"},b),S,ps.default.createElement("button",{onClick:v,className:"save-toast__close ms-3","aria-label":"Dismiss notification"},"\xD7")))},Bue=ZZe;var Lt=M(P("react"),1);var U_=P("react-bootstrap"),Jf=M(P("react"),1);var mU=class extends Jf.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1});y(this,"show",({title:r,message:o,buttons:i})=>{this.setState({show:!0,title:r,message:o,buttons:i})});y(this,"hide",()=>{this.setState({show:!1})});y(this,"modalContent",()=>{if(!this.state.show)return null;let r=this.state.buttons.map((o,i)=>Jf.default.createElement(U_.Button,{key:`alert-button-${i}`,onClick:o.action},o.text));return Jf.default.createElement("div",null,Jf.default.createElement("div",{className:"alert-header"},Jf.default.createElement("h3",null,this.state.title)),Jf.default.createElement("p",null,this.state.message),Jf.default.createElement("div",{className:"buttons d-flex justify-content-between"},r))})}componentDidMount(){J.addListener("show-action",this.show),J.addListener("hide-action",this.hide)}render(){return Jf.default.createElement(U_.Modal,{className:"alert-modal",show:this.state.show,onHide:this.hide},this.modalContent())}},Fue=mU;var mb=P("react-bootstrap"),j2=M(P("react"),1);var K3=P("react-bootstrap"),ao=M(P("react"),1);var cb=class extends ao.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1,callback:null,title:null,body:null});y(this,"showModal",(r,o,i)=>{this.setState({show:!0,title:r,body:i,callback:o})});y(this,"hideModal",()=>{this.setState({show:!1})});y(this,"import",()=>{this.hideModal(),this.state.callback()})}componentDidMount(){J.addListener("show-svg-error",this.showModal)}componentWillUnmount(){J.removeListener("show-svg-error")}render(){return this.state.show?ao.default.createElement(K3.Modal,{show:this.state.show,onHide:this.hideModal},ao.default.createElement(K3.Modal.Header,{closeButton:!0},ao.default.createElement(K3.Modal.Title,null,ao.default.createElement("h3",null,this.state.title))),ao.default.createElement(K3.Modal.Body,null,this.state.body),this.state.callback&&ao.default.createElement(K3.Modal.Footer,null,ao.default.createElement("button",{className:"btn btn-primary",onClick:this.import},"Import Anyway"),ao.default.createElement("button",{className:"btn",onClick:this.hideModal},"Cancel"))):null}};cb.showText=e=>{let t=ao.default.createElement("p",null,"Easel does not support importing SVG text. You can still import your text if you do the following:",ao.default.createElement("ul",null,ao.default.createElement("li",null,ao.default.createElement("h4",null,"Adobe Illustrator"),"Select all objects and select ",ao.default.createElement("em",null,"Object -> Expand")),ao.default.createElement("li",null,ao.default.createElement("h4",null,"Inkscape"),"Select all objects and use the keyboard command ",ao.default.createElement("em",null,"Ctrl+Shift+C")),ao.default.createElement("li",null,ao.default.createElement("h4",null,"Other programs"),"Convert your text into paths. If there is an equivalent to 'Create Outlines' or 'Expand', that is what you're looking for.")));J.emit("show-svg-error","Easel can't import SVG text",e,t)};cb.showGeneric=(e,t)=>{let r=ao.default.createElement("div",null,ao.default.createElement("p",null,e),ao.default.createElement("p",null,"Read our ",ao.default.createElement(oe,{href:"https://inventables.zendesk.com/hc/en-us/articles/360012642454-SVG-Import-Guide"},"SVG Import Guide")," for more help, or try the following steps:"),ao.default.createElement("ul",null,ao.default.createElement("li",null,ao.default.createElement("h4",null,"Remove Images"),"Only vectors are importable. Try to remove any raster or image objects from your SVG."),ao.default.createElement("li",null,ao.default.createElement("h4",null,"Remove Gradients and Clip Paths"),"Only solid stroke and fill colors are supported. Advanced effects like clipping paths and gradients will not import correctly."),ao.default.createElement("li",null,ao.default.createElement("h4",null,"Export using SVG \u201CTiny\u201D"),"To get the best results, select \u201CSVG Tiny\u201D or \u201CSVG Basic\u201D when exporting from your editor. Do not use \u201CSVG 2.0\u201D")));J.emit("show-svg-error","Easel can't import part of this SVG",t,r)};var ub=cb;var fU=null,Wue=function(e){fU=fabric.log,fabric.log=function(t){e(t),fU(t)}},Vue=()=>fabric.log=fU,JZe=e=>Wue(function(t){e(t),Vue()}),KZe={once:JZe,bind:Wue,unbind:Vue},hU=KZe;var QZe=function(e={}){e=le({pro:!1,name:"",minimumScale:!1,done:()=>{},cutType:"fill"},e);let t={NO_OBJECTS:"no-objects",TEXT:"text",IMAGE:"image",CLIP_PATH:"clip-path",UNKNOWN_SHAPE:"unknown-shape",FABRIC:"unknown"},r={rect:!0,ellipse:!0,circle:!0,path:!0,polygon:!0,polyline:!0,line:!0},o=null,i=!1,n=null,s=[],a=null,l=function(_,E){if(i)return;let T={type:_,svg:o},A=ub.showGeneric;switch(_){case t.NO_OBJECTS:A("The file does not contain any objects.",E);break;case t.TEXT:ub.showText(E);break;case t.IMAGE:A("The file contains embedded images.",E);break;case t.UNKNOWN_SHAPE:A("The file contains an invalid shape.",E);break;case t.CLIP_PATH:A("Cannot import shapes with clipping paths (clip-path attributes).",E);break;case t.FABRIC:A("An unknown error occurred.",E);break}H.trackEvent("SVG Import Error",T),i=!0},c=function(_){o=_,Jo.initialize(0),Jo.setText("Loading SVG Objects..."),n=Gw(o).detectPPI(),fabric.DPI=n,hU.once(function(){l(t.FABRIC),Jo.close()}),fabric.loadSVGFromString(o,p,u)},u=function(_){if(_.attributes.getNamedItem("clip-path")!=null)return a=a||t.CLIP_PATH},p=function(_){let E=function(){Jo.close(),hU.unbind()},T=_.length,A=nt("svg-import"),O=20;for(let L=0;L<_.length;L+=O){let R=_.slice(L,L+O);A.register("object",function(z){for(let I of R)h(I);z()})}T>0?(Jo.setText("Loading SVG Objects"),Jo.setTotal(T,!0),A.load({done(){a!=null?l(a,m):m()},always:E,serial:!0})):(l(t.NO_OBJECTS),E())},m=function(){f(s),v(s,function(){e.minimumScale&&(s=Sa.scaleToMinimumSize(s)),Sa.moveToOffset(s,Ku.importOffset(s)),b(s),e.done()})},h=_=>{if(Jo.increment(),!w(_))return!1;_=Sa.fixProperties(_),Sa.validateObject(_)&&s.push(Sa.normalizeObject(_))},f=_=>Sa.scaleObjects(_,1/n),x=function(_,E){let T=Me.getPreferredUnit(N.store.getState()),A=_*Ve.unitsPerInch(T),O=E*Ve.unitsPerInch(T);switch(T){case"in":return`${A.toFixed(2)}\u2033 \xD7 ${O.toFixed(2)}\u2033`;case"mm":return`${A.toFixed(0)}mm \xD7 ${O.toFixed(0)}mm`}},v=function(_,E){let{inchWidth:T,inchHeight:A}=Sa.getSizeProperties(_),O=Y.getWorkArea(N.store.getState()),L={x:O.x-Ku.machineShapeOffset().x,y:O.y-Ku.machineShapeOffset().y},R=T/L.x,z=A/L.y;if(R>1||z>1){let I=j=>H.trackEvent("Oversized SVG",{resolution:j}),F=function(){I("Scale down to fit"),Sa.scaleObjects(_,1/Math.max(R,z)),E()},B=function(){I("Leave original size"),E()};Fe("Design is larger than the work area",`The imported design is ${x(T,A)}. Do you want to scale down the design to fit your work area?`,[{text:"Scale down to fit",action:F},{text:"Leave original size",action:B}])}else E()},b=function(_){let E=_.map(T=>{let A=T.toJSON();A.pro=e.pro;let O=Hc.fabricJsonToVolume(A,{originY:0,pixelsPerInch:1,materialThickness:q.getMaterialThickness(N.store.getState())});return O.id=Tt(),e.pro&&(O.shape.icon={pro:e.pro,name:e.name}),O});N.store.dispatch(W.actions.volumesAdd(E)),N.store.dispatch(W.actions.selectVolumes(E.map(T=>T.id)))},S=_=>!r[_.type],w=function(_){return S(_)?([t.TEXT,t.IMAGE].includes(_.type)?a||(a=_.type):a||(a=t.UNKNOWN_SHAPE),!1):!0};return{load:c}},R_=QZe;var rd=M(P("prop-types"),1),fc=M(P("react"),1);var gU=M(P("prop-types"),1),Y5=M(P("react"),1);var j_=class extends Y5.default.Component{constructor(){super(...arguments);y(this,"errorState",()=>Y5.default.createElement("p",{className:"alert alert-danger"},this.props.output));y(this,"failedState",()=>Y5.default.createElement("p",{className:"alert alert-info"},this.props.output));y(this,"idleState",()=>Y5.default.createElement("div",null,Y5.default.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.output}})));y(this,"runningState",()=>Y5.default.createElement("p",{id:"app-preview-loading"},"Loading..."))}render(){let r=B5;switch(this.props.status){case r.ERROR:return this.errorState();case r.FAILED:return this.failedState();case r.IDLE:return this.idleState();case r.RUNNING:return Y5.default.createElement("div",null,this.runningState(),this.idleState());default:return null}}};y(j_,"propTypes",{output:gU.default.string.isRequired,status:gU.default.oneOf(Object.keys(B5)).isRequired});var Uue=j_;var o7=M(P("prop-types"),1),q5=M(P("react"),1);var Q3=M(P("prop-types"),1),yU=M(P("react"),1);var G_=class extends yU.default.Component{constructor(){super(...arguments);y(this,"onChange",r=>{let{onChange:o,property:{id:i}}=this.props;o(i,r.target.value)})}render(){let{inputId:r,property:{value:o}}=this.props;return yU.default.createElement("input",{id:r,defaultValue:o,onChange:this.onChange})}};y(G_,"propTypes",{inputId:Q3.default.string,property:Q3.default.shape({id:Q3.default.string.isRequired,value:Q3.default.string.isRequired}),onChange:Q3.default.func.isRequired});var Rue=G_;var e7=M(P("prop-types"),1),xU=M(P("react"),1);var H_=class extends xU.default.Component{constructor(){super(...arguments);y(this,"onChange",r=>{let{onChange:o,property:{id:i}}=this.props;o(i,r.target.checked)})}render(){let{inputId:r,property:{value:o}}=this.props;return xU.default.createElement("input",{id:r,type:"checkbox",defaultChecked:o,onChange:this.onChange})}};y(H_,"propTypes",{inputId:e7.default.string,property:e7.default.shape({id:e7.default.string.isRequired,value:e7.default.bool.isRequired}),onChange:e7.default.func.isRequired});var jue=H_;var pb=M(P("prop-types"),1),bU=M(P("react"),1);var eJe="temporary/",Gue=async e=>{let t=new URL("/file_picker",window.location.origin);e&&t.searchParams.set("handle",e);let r=await Wr(t.toString()),o={signature:r.signature,policy:r.policy};return{filestackClient:filestack.init(r.api_key,o),security:o}},tJe=function(e){e=e||{};let t=e.path||eJe,r=e.access||"private";return{accept:e.accept||"image/*",imageMax:[2048,1536],maxFiles:e.maxFiles||1,fromSources:["local_file_system","imagesearch","url","webcam"],disableTransformer:!0,storeTo:{location:"s3",path:t,access:r}}},rJe=function(e){let{handle:t}=e;return Gue(t).then(function({security:r}){return{url:`${e.url}?policy=${r.policy}&signature=${r.signature}`,mimetype:e.mimetype}})},Hue=e=>Gue().then(({filestackClient:t})=>{let r=tJe(e);return t.pick(r)}),oJe=e=>Hue(e).then(t=>{let r=t.filesUploaded[0];return rJe(r)}),iJe=e=>Hue(e).then(t=>t.filesUploaded.map(r=>({url:`https://s3.amazonaws.com/${r.container}/${encodeURIComponent(r.key)}`,mimetype:r.mimetype}))),nJe={pick:oJe,pickAndStore:iJe},zue=nJe;var z_=class extends bU.default.Component{constructor(){super(...arguments);y(this,"onFile",r=>{let{onChange:o,property:{id:i}}=this.props;o(i,r.url)});y(this,"onClick",()=>{let{property:{mimeTypes:r}}=this.props,o=r!==null?{accept:r}:{};zue.pick(o).then(this.onFile)})}render(){return bU.default.createElement("button",{className:"btn btn-primary",onClick:this.onClick},"Upload file")}};y(z_,"propTypes",{property:pb.default.shape({id:pb.default.string.isRequired,mimeTypes:pb.default.array}),onChange:pb.default.func.isRequired});var Xue=z_;var t7=M(P("prop-types"),1),X_=M(P("react"),1);var Y_=class extends X_.default.Component{constructor(){super(...arguments);y(this,"onChange",r=>{let{onChange:o,property:{id:i}}=this.props;o(i,r.target.value)})}render(){let{property:{value:r,options:o}}=this.props,i=o.map(n=>{let s,a;return typeof n=="string"?a=s=n:(a=n[0],s=n[1]),X_.default.createElement("option",{key:a,value:a},s)});return X_.default.createElement("select",{value:r,onChange:this.onChange},i)}};y(Y_,"propTypes",{property:t7.default.shape({id:t7.default.string.isRequired,value:t7.default.string.isRequired,options:t7.default.array.isRequired}),onChange:t7.default.func.isRequired});var Yue=Y_;var Kf=M(P("prop-types"),1),r7=M(P("react"),1);var mc=M(P("prop-types"),1),q_=M(P("react"),1);var $_=class extends q_.default.Component{constructor(){super(...arguments);y(this,"state",{value:this.props.initialValue,textInput:q_.default.createRef()});y(this,"UNSAFE_componentWillReceiveProps",r=>{this.props.initialValue!==r.initialValue&&this.setState({value:r.initialValue})});y(this,"onChange",r=>{this.setState({value:r.target.value}),this.props.onChange?.(r.target.value)});y(this,"onKeyDown",r=>{r.key==="Enter"?(r.preventDefault(),this.onBlur()):this.props.onKeyDown?.(r,this.state.value)});y(this,"onBlur",()=>{this.state.value!==this.props.initialValue?this.props.submit?.(this.state.value):this.props.onBlur?.()})}render(){let{disabled:r,size:o,id:i,placeholder:n,readonly:s,onFocus:a}=this.props;return q_.default.createElement("input",{className:`${this.props.className??""} form-control`,size:o,id:i,onKeyDown:this.onKeyDown,onChange:this.onChange,onBlur:this.onBlur,onFocus:a,placeholder:n,disabled:r??!1,readOnly:s??!1,value:this.state.value,autoComplete:"off",ref:l=>this.textInput=l})}};y($_,"propTypes",{id:mc.default.string,initialValue:mc.default.oneOfType([mc.default.string,mc.default.number]).isRequired,submit:mc.default.func,className:mc.default.string,readonly:mc.default.bool,placeholder:mc.default.string,onChange:mc.default.func,onKeyDown:mc.default.func,onFocus:mc.default.func,onBlur:mc.default.func,disabled:mc.default.bool});var Vn=$_;var db=class extends r7.default.Component{constructor(){super(...arguments);y(this,"rangeChange",r=>{this.submitChange(parseFloat(r.target.value))});y(this,"textChange",r=>{this.submitChange(parseFloat(r))});y(this,"submitChange",r=>{let{onChange:o,property:{id:i,value:n}}=this.props;r!==n&&o(i,r)})}render(){let{inputId:r,property:{min:o,max:i,step:n,value:s}}=this.props,a=s.toString(),l=a.length+1;return r7.default.createElement(r7.default.Fragment,null,r7.default.createElement("input",{type:"range",min:o,max:i,step:n,value:s,onChange:this.rangeChange}),r7.default.createElement(Vn,{id:r,initialValue:a,submit:this.textChange,size:l,className:"range-output"}))}};y(db,"propTypes",{inputId:Kf.default.string,property:Kf.default.shape({id:Kf.default.string.isRequired,value:Kf.default.number.isRequired,min:Kf.default.number,max:Kf.default.number,step:Kf.default.number}),onChange:Kf.default.func.isRequired}),y(db,"defaultProps",{min:0,max:100,step:1});var que=db;var Z_=class extends q5.default.Component{constructor(){super(...arguments);y(this,"componentForType",r=>({boolean:jue,range:que,"file-input":Xue,text:Rue,list:Yue})[r])}render(){let{properties:r}=this.props;if(r.length===0)return null;let o=r.map(i=>{let n=this.componentForType(i.type);return q5.default.createElement("div",{key:i.id,className:"form-group"},q5.default.createElement("label",{htmlFor:`app-property[${i.id}]`},i.id),q5.default.createElement("div",{className:"pull-right"},q5.default.createElement(n,{inputId:`app-property[${i.id}]`,property:i,onChange:this.props.onSetProperty})))});return q5.default.createElement("div",{className:"well"},q5.default.createElement("div",{className:"app-properties"},o))}};y(Z_,"propTypes",{properties:o7.default.arrayOf(o7.default.shape({id:o7.default.string.isRequired,type:o7.default.oneOf(["boolean","range","file-input","text","list"]).isRequired})).isRequired,onSetProperty:o7.default.func.isRequired});var $ue=Z_;var J_=M(P("prop-types"),1),Qf=M(P("react"),1);var K_=class extends Qf.default.Component{constructor(){super(...arguments);y(this,"errorState",()=>Qf.default.createElement("p",{className:"alert alert-danger"},this.props.output));y(this,"failedState",()=>Qf.default.createElement("p",{className:"alert alert-info"},this.props.output));y(this,"idleState",()=>{let{volumes:r,strokeBit:o,materialThickness:i}=this.props;if(r.length===0)return null;let n=Ee.boundingBox(r),s={left:n.minX,top:n.maxY,right:n.maxX,bottom:n.minY},a=s.right-s.left,l=s.top-s.bottom,c=rt(o).inchWidth(i),u=a*.01+c,p=l*.01+c,m=`${s.left-u} ${s.bottom-p} ${a+2*u} ${l+2*p}`,h=`translate(0 ${s.top+s.bottom})`;return Qf.default.createElement("svg",{width:"400px",height:"400px",viewBox:m,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},Qf.default.createElement("g",{transform:h},Qf.default.createElement(Kw,{volumes:r,strokeBit:o,materialThickness:i})))});y(this,"runningState",()=>Qf.default.createElement("p",{id:"app-preview-loading"},"Loading..."))}render(){let r=B5;switch(this.props.status){case r.ERROR:return this.errorState();case r.FAILED:return this.failedState();case r.IDLE:return this.idleState();case r.RUNNING:return Qf.default.createElement("div",null,this.runningState(),this.idleState());default:return null}}};y(K_,"propTypes",{volumes:J_.default.array.isRequired,output:J_.default.string.isRequired,status:J_.default.oneOf(Object.keys(B5)).isRequired});var sJe=ne({mapStateToProps:function(e){return{materialThickness:q.getMaterialThickness(e),strokeBit:re.strokeBit(e)}},component:K_}),Zue=sJe;var Q_=class extends fc.default.Component{constructor(){super(...arguments);y(this,"updateApp",r=>{setTimeout(r!==null?this.props.requestAppOutput:this.props.requestAppProperties,0)});y(this,"importDisabled",()=>this.props.status!==B5.IDLE);y(this,"setProperty",(r,o)=>{this.props.updateAppProperty(r,o)});y(this,"rawAppDescription",()=>({__html:this.props.formattedDescription}))}componentDidMount(){this.updateApp(this.props.properties)}componentDidUpdate(r){r.properties!==this.props.properties&&this.updateApp(this.props.properties)}render(){let{apiVersion:r,output:o,status:i,volumes:n,author:s,properties:a,onImport:l}=this.props;return fc.default.createElement("div",{className:"app-manager"},fc.default.createElement("div",{className:"app-manager__inputs"},fc.default.createElement("div",{className:"app-description",dangerouslySetInnerHTML:this.rawAppDescription()}),a&&fc.default.createElement($ue,{properties:a,onSetProperty:this.setProperty}),!a&&fc.default.createElement("p",null,"Loading..."),fc.default.createElement("div",{className:"form-group"},fc.default.createElement("button",{className:"btn btn-success",disabled:this.importDisabled(),onClick:l},"Import"))),fc.default.createElement("div",{className:"app-manager__outputs"},fc.default.createElement("div",{id:"output-preview","data-api-version":r},r==="1.0.0"&&fc.default.createElement(Uue,{output:o,status:i}),r==="2.0.0"&&fc.default.createElement(Zue,{volumes:n,status:i,output:o})),fc.default.createElement("p",{className:"app-attribution"},"App developed by ",s)))}};y(Q_,"propTypes",{name:rd.default.string.isRequired,status:rd.default.string.isRequired,output:rd.default.string.isRequired,author:rd.default.string.isRequired,formattedDescription:rd.default.string,properties:rd.default.array,onImport:rd.default.func.isRequired,apiVersion:rd.default.string.isRequired,volumes:rd.default.array,errorMessage:rd.default.string});var aJe=ne({component:Q_,mapStateToProps(){return{}},mapDispatchToProps:e=>({requestAppProperties(){return N2.getAppProperties()},requestAppOutput(){return N2.executeApp()},updateAppProperty(t,r){e(Hr.actions.updateAppProperty({id:t,value:r}))}})}),Jue=aJe;var vU=class extends j2.default.Component{constructor(){super(...arguments);y(this,"import",()=>{let r=Object.fromEntries(this.props.properties.map(i=>[i.id,i.value]));this.props.trackAppImport(this.props.activeApp.name,{"App Properties":r}),this.props.deactivate();let o={};if(this.props.activeApp.requiresSelectedVolume)for(let i of this.props.selectedVolumes){let n=Xe.proFeatures(i.shape);n.length>0&&(o[i.id]=n)}if(this.props.activeApp.apiVersion==="1.0.0")return this.props.importSvg(Object.keys(o).length>0,this.props.output);{this.props.beginUndoGroup(`Import from ${this.props.activeApp.name}`),this.props.removeVolumes(this.props.volumes.filter(n=>n.id!=null));let i=Dr.getShift(this.props.volumes,this.props.workArea.y,this.props.viewport,this.props.editorSize);return this.props.addVolumes(this.props.volumes.filter(n=>n.shape!=null).map(n=>le(n,{id:null,shape:{combinedProFeatures:o[n.id]}})),i),this.props.endUndoGroup()}});y(this,"appManager",()=>{let r=this.props.volumes.filter(o=>o.shape!==null&&typeof o.shape<"u"&&o.cut!==null&&typeof o.cut<"u");if(this.props.activeApp!=null)return j2.default.createElement(Jue,{author:this.props.activeApp.author,formattedDescription:this.props.activeApp.formattedDescription,name:this.props.activeApp.name,properties:this.props.properties,output:this.props.output,status:this.props.status,onImport:this.import,apiVersion:this.props.activeApp.apiVersion,volumes:r,errorMessage:this.props.errorMessage})})}render(){let r=this.props.activeApp!=null,o=this.props.activeApp!=null?this.props.activeApp.name:null;return j2.default.createElement(mb.Modal,{show:r,onHide:this.props.deactivate,size:"xl",id:"active-app",enforceFocus:!1},j2.default.createElement(mb.Modal.Header,{closeButton:!0},j2.default.createElement(mb.Modal.Title,null,o)),j2.default.createElement(mb.Modal.Body,null,this.appManager()))}},lJe=ne({mapStateToProps:e=>{let t=Hr.getAppState(e),r=Ie.selectedVolumeIds(e);return{activeApp:t.activeApp,properties:t.appProperties,output:t.appOutput,status:t.appStatus,volumes:t.appVolumes,errorMessage:t.errorMessage,workArea:Y.getWorkArea(e),viewport:St.getWorkpieceViewport(e),editorSize:St.getEditorSize(e),selectedVolumeIds:r,selectedVolumes:ye.getVolumes(e,r)}},mapDispatchToProps:e=>({deactivate(){return e(Hr.actions.deactivateApp())},addVolumes(t,r){e(W.actions.volumesAdd(t,r))},removeVolumes(t){let r=t.map(o=>o.id);e(W.actions.volumesRemove(r))},trackAppImport(t,r){return H.trackEvent("Importing from app",{name:t,...r})},importSvg(t,r){return R_({pro:t}).load(r)},beginUndoGroup(t){e(nr.actions.beginGroup(t))},endUndoGroup(){e(nr.actions.endGroup())}}),component:vU}),Kue=lJe;var Que=P("react-bootstrap"),epe=M(P("react"),1);var tpe=P("react-redux");var cJe=()=>{let e=(0,tpe.useSelector)(ie.getConnectionState);return epe.default.createElement(Que.Button,{variant:"default",disabled:!(e==="ready_idle"||e==="alarm_lock"),onClick:()=>{J.emit("hide-advanced-machine-panel"),J.emit("show-firmware-upload-walkthrough")}},"Upload Firmware")},rpe=cJe;var ek=M(P("react"),1),ope=P("react-redux"),ipe=P("react-bootstrap");var uJe=()=>{let e=(0,ope.useDispatch)(),t=(0,ek.useCallback)(()=>{J.emit("hide-advanced-machine-panel"),e(ie.actions.openInspector())},[e]);return ek.default.createElement(ipe.Button,{onClick:t,"data-dismiss":"modal",variant:"primary"},"Machine Inspector")},npe=uJe;var Ihe=M(P("prop-types"),1),fR=M(P("react"),1);var lh=M(P("react"),1);var Sn=M(P("react"),1);var op=M(P("react"),1),pJe=(0,op.forwardRef)((e,t)=>{let{onCommit:r,onChange:o,autoComplete:i="off",...n}=e,s=(0,op.useRef)(null);(0,op.useImperativeHandle)(t,()=>s.current),(0,op.useEffect)(()=>{let l=s.current;if(!l||!r)return;let c=()=>{r(l.value)};return l.addEventListener("change",c),()=>l.removeEventListener("change",c)},[s,r]);let a=(0,op.useMemo)(()=>r&&!o?()=>{}:o,[o,r]);return op.default.createElement("input",{ref:s,onChange:a,autoComplete:i,...n})}),spe=pJe;var dJe=(e,t)=>{let{displayUnit:r,valueUnit:o=r,value:i,step:n,min:s,max:a,onChange:l,onCommit:c,onBlur:u,onKeyDown:p,evaluator:m,formatter:h,converter:f,stepper:x=f,className:v="form-control",outOfRange:b="clamp",...S}=e,w=s!=null?f(s,o,r):-1/0,_=a!=null?f(a,o,r):1/0,E=n?x(n,o,r):void 0,[T,A]=(0,Sn.useState)(i!=null?h(i,o):""),[O,L]=(0,Sn.useState)(!1),R=i==null?null:{displayValue:f(i,o,r),value:i,formatted:T},[z,I]=(0,Sn.useState)(R);(0,Sn.useEffect)(()=>{if(!O){let fe=i!=null?h(i,o):"";A(fe),i!=null?I({displayValue:f(i,o,r),value:i,formatted:fe}):I(null)}},[o,i,O,r,h,f]);let F=(0,Sn.useCallback)(fe=>({displayValue:fe,formatted:h(fe,r),value:f(fe,r,o)}),[h,f,r,o]),B=(0,Sn.useCallback)(fe=>{let ce=m(fe,r);return ce!=null?F(ce):null},[F,m,r]),j=(0,Sn.useCallback)(fe=>{let ce=B(fe);return ce&&w<=ce.displayValue&&ce.displayValue<=_?ce:null},[B,w,_]),X=(0,Sn.useCallback)(fe=>{fe!==null&&(l?.(fe.value),I(fe))},[l]),te=(0,Sn.useCallback)(fe=>{L(!0),X(j(fe.target.value)),A(fe.target.value)},[X,j]),se=(0,Sn.useCallback)(fe=>{fe!==null&&(fe.value!==i&&c?.(fe.value),A(fe.formatted))},[c,i]),ue=(0,Sn.useCallback)(fe=>{let ce=B(fe);ce!==null&&(ce.displayValue<w||ce.displayValue>_?b==="clamp"&&(ce=F(Xt.clamp(ce.displayValue,w,_)),se(ce)):se(ce))},[se,B,F,w,_,b]),be=(0,Sn.useCallback)(fe=>{u?.(fe),L(!1),se(z)},[u,se,z]),ae=(0,Sn.useMemo)(()=>{if(E)return fe=>{let ce=fe.target.value,Se=B(ce);if(Se?.formatted!==ce)return;let It=Se.displayValue+E*(fe.key==="ArrowUp"?1:-1),at=F(Xt.clamp(It,w,_));X(at),fe.preventDefault()}},[X,B,F,E,w,_]),he=(0,Sn.useCallback)(fe=>{switch(p?.(fe),fe.key){case"Enter":ue(fe.target.value);break;case"ArrowUp":case"ArrowDown":ae?.(fe);break}},[p,ue,ae]);return Sn.default.createElement(spe,{ref:t,type:"text",className:v,value:T,onChange:te,onCommit:ue,onBlur:be,onKeyDown:he,min:w,max:_,step:E,...S})},mJe=(0,Sn.forwardRef)(dJe),tk=mJe;function ape(e,t){let{denominators:r=gJe,decimalPlaces:o,trailingZeros:i}=t,n;return t.kind==="vulgar"&&(n=fJe(e,r)),n??SU(e,o,i)}function SU(e,t,r){let o=e.toFixed(t);return r||(o=parseFloat(o).toString()),o}function fJe(e,t,r=1e-6){let o=hJe(e,t,r);if(o==null)return null;let{sign:i,whole:n,numerator:s,denominator:a}=o,l=i<0;return a===1?`${(n+s)*(l?-1:1)}`:`${l?"-":""}${n?n+" ":""}${s}/${a}`}function hJe(e,t,r=1e-6){if(2*r>t[t.length-1])throw new Error(`approxMixedRational: epsilon too large: ${2*r} > 1/${t[t.length-1]}`);let o=e<0?-1:1;e=Math.abs(e);let i=Math.floor(e),n=e-i,s=t.find(l=>Math.abs(l*n-Math.round(l*n))<=l*r);if(s==null)return null;let a=Math.round(s*n);return s===1?{sign:o,whole:i+a,numerator:0,denominator:s}:{sign:o,whole:i,numerator:a,denominator:s}}var gJe=[1,2,4,8,16,32,64];var lpe={ft:.08333333333333333,mm:25.4,cm:2.54,m:.0254};function eh(e,t,r){if(t===r)return e;let o=t==="in"?e:e/lpe[t];return r==="in"?o:o*lpe[r]}function upe(e,t,r){return t===r?e:r==="mm"?yJe(eh(e,t,"in")):eh(e,t,r)}function yJe(e){return e<1/64?.1:e<1/32?.5:e<=1/16?1:e<1/8?2.5:e<5/16?5:e<=5/8?10:e<7/8?20:e<1.5?25:e<3?50:e<=6?100:e<=12?250:e<=24?500:1e3}var cpe={rad:Math.PI/180};function fb(e,t,r){if(t===r)return e;let o=t==="deg"?e:e/cpe[t];return r==="deg"?o:o*cpe[r]}function CU(e,t,r){if(r.display.length===0)throw new Error("measurementString: empty display units");let o=[],i=e<0;for(let n=0;n<r.display.length;n++){let{unit:s,label:a}=r.display[n],l=eh(e,t,s);if(n<r.display.length-1){let c=Math.trunc(l);c!==0&&(o.push(`${Math.abs(c)}${a??s}`),e-=eh(c,s,t))}else(e!==0||o.length===0)&&o.push(`${ape(Math.abs(l),r.style)}${a??s}`)}return`${i?"-":""}${o.join(r.separator??"")}`}var ppe={display:[{unit:"in",label:" in"}],style:{kind:"vulgar",denominators:[1,2,4,8,16,32,64],decimalPlaces:3}};var $5=(e,t,r)=>({display:[{unit:e,label:` ${e}`}],style:{kind:"decimal",decimalPlaces:t,trailingZeros:r}}),PU=$5("in",3),dpe=$5("in",3,!0),wU=$5("mm",1),mpe=$5("mm",1,!0),fpe=$5("in",2),hpe=$5("mm",0),gpe=$5("in",5),_U=$5("mm",2),ype={display:[{unit:"in",label:""}],style:{kind:"decimal",decimalPlaces:3}},xpe={display:[{unit:"mm",label:""}],style:{kind:"decimal",decimalPlaces:0}};var bJe={in:{alts:["inch","inches",'"']},ft:{alts:["foot","feet","'"]},mm:{alts:["milli","millis","millimeter","millimeters","millimetre","millimetres"]},cm:{alts:["centi","centis","centimeter","centimeters","centimetre","centimetres"]},m:{alts:["meter","meters","metre","metres"]}},vJe={deg:{alts:["degs","degree","degrees","\xB0"]},rad:{alts:["radian","radians","rads"]}};function bpe(e){return Spe(e,bJe)}function vpe(e){return Spe(e,vJe)}function Spe(e,t){e=e.toLowerCase();for(let r in t)if(e===r||t[r].alts.some(o=>e===o))return r;return null}var SJe=typeof global=="object"&&global&&global.Object===Object&&global,rk=SJe;var CJe=typeof self=="object"&&self&&self.Object===Object&&self,PJe=rk||CJe||Function("return this")(),ds=PJe;var wJe=ds.Symbol,ta=wJe;var Cpe=Object.prototype,_Je=Cpe.hasOwnProperty,kJe=Cpe.toString,hb=ta?ta.toStringTag:void 0;function TJe(e){var t=_Je.call(e,hb),r=e[hb];try{e[hb]=void 0;var o=!0}catch{}var i=kJe.call(e);return o&&(t?e[hb]=r:delete e[hb]),i}var Ppe=TJe;var EJe=Object.prototype,MJe=EJe.toString;function AJe(e){return MJe.call(e)}var wpe=AJe;var IJe="[object Null]",DJe="[object Undefined]",_pe=ta?ta.toStringTag:void 0;function NJe(e){return e==null?e===void 0?DJe:IJe:_pe&&_pe in Object(e)?Ppe(e):wpe(e)}var Tl=NJe;function OJe(e){return e!=null&&typeof e=="object"}var Un=OJe;var LJe="[object Symbol]";function BJe(e){return typeof e=="symbol"||Un(e)&&Tl(e)==LJe}var Z5=BJe;function FJe(e,t){for(var r=-1,o=e==null?0:e.length,i=Array(o);++r<o;)i[r]=t(e[r],r,e);return i}var xm=FJe;var WJe=Array.isArray,gt=WJe;var VJe=1/0,kpe=ta?ta.prototype:void 0,Tpe=kpe?kpe.toString:void 0;function Epe(e){if(typeof e=="string")return e;if(gt(e))return xm(e,Epe)+"";if(Z5(e))return Tpe?Tpe.call(e):"";var t=e+"";return t=="0"&&1/e==-VJe?"-0":t}var Mpe=Epe;var UJe=/\s/;function RJe(e){for(var t=e.length;t--&&UJe.test(e.charAt(t)););return t}var Ape=RJe;var jJe=/^\s+/;function GJe(e){return e&&e.slice(0,Ape(e)+1).replace(jJe,"")}var Ipe=GJe;function HJe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var nn=HJe;var Dpe=NaN,zJe=/^[-+]0x[0-9a-f]+$/i,XJe=/^0b[01]+$/i,YJe=/^0o[0-7]+$/i,qJe=parseInt;function $Je(e){if(typeof e=="number")return e;if(Z5(e))return Dpe;if(nn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=nn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ipe(e);var r=XJe.test(e);return r||YJe.test(e)?qJe(e.slice(2),r?2:8):zJe.test(e)?Dpe:+e}var Npe=$Je;var Ope=1/0,ZJe=17976931348623157e292;function JJe(e){if(!e)return e===0?e:0;if(e=Npe(e),e===Ope||e===-Ope){var t=e<0?-1:1;return t*ZJe}return e===e?e:0}var Lpe=JJe;function KJe(e){var t=Lpe(e),r=t%1;return t===t?r?t-r:t:0}var bm=KJe;function QJe(e){return e}var ip=QJe;var eKe="[object AsyncFunction]",tKe="[object Function]",rKe="[object GeneratorFunction]",oKe="[object Proxy]";function iKe(e){if(!nn(e))return!1;var t=Tl(e);return t==tKe||t==rKe||t==eKe||t==oKe}var El=iKe;var nKe=ds["__core-js_shared__"],ok=nKe;var Bpe=function(){var e=/[^.]+$/.exec(ok&&ok.keys&&ok.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function sKe(e){return!!Bpe&&Bpe in e}var Fpe=sKe;var aKe=Function.prototype,lKe=aKe.toString;function cKe(e){if(e!=null){try{return lKe.call(e)}catch{}try{return e+""}catch{}}return""}var th=cKe;var uKe=/[\\^$.*+?()[\]{}|]/g,pKe=/^\[object .+?Constructor\]$/,dKe=Function.prototype,mKe=Object.prototype,fKe=dKe.toString,hKe=mKe.hasOwnProperty,gKe=RegExp("^"+fKe.call(hKe).replace(uKe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yKe(e){if(!nn(e)||Fpe(e))return!1;var t=El(e)?gKe:pKe;return t.test(th(e))}var Wpe=yKe;function xKe(e,t){return e?.[t]}var Vpe=xKe;function bKe(e,t){var r=Vpe(e,t);return Wpe(r)?r:void 0}var hc=bKe;var vKe=hc(ds,"WeakMap"),ik=vKe;var Upe=Object.create,SKe=function(){function e(){}return function(t){if(!nn(t))return{};if(Upe)return Upe(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Rpe=SKe;function CKe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var jpe=CKe;function PKe(){}var sn=PKe;function wKe(e,t){var r=-1,o=e.length;for(t||(t=Array(o));++r<o;)t[r]=e[r];return t}var Gpe=wKe;var _Ke=800,kKe=16,TKe=Date.now;function EKe(e){var t=0,r=0;return function(){var o=TKe(),i=kKe-(o-r);if(r=o,i>0){if(++t>=_Ke)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Hpe=EKe;function MKe(e){return function(){return e}}var zpe=MKe;var AKe=function(){try{var e=hc(Object,"defineProperty");return e({},"",{}),e}catch{}}(),i7=AKe;var IKe=i7?function(e,t){return i7(e,"toString",{configurable:!0,enumerable:!1,value:zpe(t),writable:!0})}:ip,Xpe=IKe;var DKe=Hpe(Xpe),Ype=DKe;function NKe(e,t){for(var r=-1,o=e==null?0:e.length;++r<o&&t(e[r],r,e)!==!1;);return e}var nk=NKe;function OKe(e,t,r,o){for(var i=e.length,n=r+(o?1:-1);o?n--:++n<i;)if(t(e[n],n,e))return n;return-1}var sk=OKe;function LKe(e){return e!==e}var qpe=LKe;function BKe(e,t,r){for(var o=r-1,i=e.length;++o<i;)if(e[o]===t)return o;return-1}var $pe=BKe;function FKe(e,t,r){return t===t?$pe(e,t,r):sk(e,qpe,r)}var n7=FKe;function WKe(e,t){var r=e==null?0:e.length;return!!r&&n7(e,t,0)>-1}var ak=WKe;var VKe=9007199254740991,UKe=/^(?:0|[1-9]\d*)$/;function RKe(e,t){var r=typeof e;return t=t??VKe,!!t&&(r=="number"||r!="symbol"&&UKe.test(e))&&e>-1&&e%1==0&&e<t}var J5=RKe;function jKe(e,t,r){t=="__proto__"&&i7?i7(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var s7=jKe;function GKe(e,t){return e===t||e!==e&&t!==t}var vm=GKe;var HKe=Object.prototype,zKe=HKe.hasOwnProperty;function XKe(e,t,r){var o=e[t];(!(zKe.call(e,t)&&vm(o,r))||r===void 0&&!(t in e))&&s7(e,t,r)}var K5=XKe;function YKe(e,t,r,o){var i=!r;r||(r={});for(var n=-1,s=t.length;++n<s;){var a=t[n],l=o?o(r[a],e[a],a,r,e):void 0;l===void 0&&(l=e[a]),i?s7(r,a,l):K5(r,a,l)}return r}var Sm=YKe;var Zpe=Math.max;function qKe(e,t,r){return t=Zpe(t===void 0?e.length-1:t,0),function(){for(var o=arguments,i=-1,n=Zpe(o.length-t,0),s=Array(n);++i<n;)s[i]=o[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=o[i];return a[t]=r(s),jpe(e,this,a)}}var Jpe=qKe;function $Ke(e,t){return Ype(Jpe(e,t,ip),e+"")}var a7=$Ke;var ZKe=9007199254740991;function JKe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ZKe}var l7=JKe;function KKe(e){return e!=null&&l7(e.length)&&!El(e)}var ms=KKe;function QKe(e,t,r){if(!nn(r))return!1;var o=typeof t;return(o=="number"?ms(r)&&J5(t,r.length):o=="string"&&t in r)?vm(r[t],e):!1}var Q5=QKe;function eQe(e){return a7(function(t,r){var o=-1,i=r.length,n=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(n=e.length>3&&typeof n=="function"?(i--,n):void 0,s&&Q5(r[0],r[1],s)&&(n=i<3?void 0:n,i=1),t=Object(t);++o<i;){var a=r[o];a&&e(t,a,o,n)}return t})}var Kpe=eQe;var tQe=Object.prototype;function rQe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||tQe;return e===r}var Cm=rQe;function oQe(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}var Qpe=oQe;var iQe="[object Arguments]";function nQe(e){return Un(e)&&Tl(e)==iQe}var kU=nQe;var ede=Object.prototype,sQe=ede.hasOwnProperty,aQe=ede.propertyIsEnumerable,lQe=kU(function(){return arguments}())?kU:function(e){return Un(e)&&sQe.call(e,"callee")&&!aQe.call(e,"callee")},e0=lQe;function cQe(){return!1}var tde=cQe;var ide=typeof exports=="object"&&exports&&!exports.nodeType&&exports,rde=ide&&typeof module=="object"&&module&&!module.nodeType&&module,uQe=rde&&rde.exports===ide,ode=uQe?ds.Buffer:void 0,pQe=ode?ode.isBuffer:void 0,dQe=pQe||tde,rh=dQe;var mQe="[object Arguments]",fQe="[object Array]",hQe="[object Boolean]",gQe="[object Date]",yQe="[object Error]",xQe="[object Function]",bQe="[object Map]",vQe="[object Number]",SQe="[object Object]",CQe="[object RegExp]",PQe="[object Set]",wQe="[object String]",_Qe="[object WeakMap]",kQe="[object ArrayBuffer]",TQe="[object DataView]",EQe="[object Float32Array]",MQe="[object Float64Array]",AQe="[object Int8Array]",IQe="[object Int16Array]",DQe="[object Int32Array]",NQe="[object Uint8Array]",OQe="[object Uint8ClampedArray]",LQe="[object Uint16Array]",BQe="[object Uint32Array]",wi={};wi[EQe]=wi[MQe]=wi[AQe]=wi[IQe]=wi[DQe]=wi[NQe]=wi[OQe]=wi[LQe]=wi[BQe]=!0;wi[mQe]=wi[fQe]=wi[kQe]=wi[hQe]=wi[TQe]=wi[gQe]=wi[yQe]=wi[xQe]=wi[bQe]=wi[vQe]=wi[SQe]=wi[CQe]=wi[PQe]=wi[wQe]=wi[_Qe]=!1;function FQe(e){return Un(e)&&l7(e.length)&&!!wi[Tl(e)]}var nde=FQe;function WQe(e){return function(t){return e(t)}}var Pm=WQe;var sde=typeof exports=="object"&&exports&&!exports.nodeType&&exports,gb=sde&&typeof module=="object"&&module&&!module.nodeType&&module,VQe=gb&&gb.exports===sde,TU=VQe&&rk.process,UQe=function(){try{var e=gb&&gb.require&&gb.require("util").types;return e||TU&&TU.binding&&TU.binding("util")}catch{}}(),np=UQe;var ade=np&&np.isTypedArray,RQe=ade?Pm(ade):nde,c7=RQe;var jQe=Object.prototype,GQe=jQe.hasOwnProperty;function HQe(e,t){var r=gt(e),o=!r&&e0(e),i=!r&&!o&&rh(e),n=!r&&!o&&!i&&c7(e),s=r||o||i||n,a=s?Qpe(e.length,String):[],l=a.length;for(var c in e)(t||GQe.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||n&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||J5(c,l)))&&a.push(c);return a}var lk=HQe;function zQe(e,t){return function(r){return e(t(r))}}var ck=zQe;var XQe=ck(Object.keys,Object),lde=XQe;var YQe=Object.prototype,qQe=YQe.hasOwnProperty;function $Qe(e){if(!Cm(e))return lde(e);var t=[];for(var r in Object(e))qQe.call(e,r)&&r!="constructor"&&t.push(r);return t}var uk=$Qe;function ZQe(e){return ms(e)?lk(e):uk(e)}var ui=ZQe;var JQe=Object.prototype,KQe=JQe.hasOwnProperty,QQe=Kpe(function(e,t){if(Cm(t)||ms(t)){Sm(t,ui(t),e);return}for(var r in t)KQe.call(t,r)&&K5(e,r,t[r])}),wa=QQe;function eet(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var cde=eet;var tet=Object.prototype,ret=tet.hasOwnProperty;function oet(e){if(!nn(e))return cde(e);var t=Cm(e),r=[];for(var o in e)o=="constructor"&&(t||!ret.call(e,o))||r.push(o);return r}var ude=oet;function iet(e){return ms(e)?lk(e,!0):ude(e)}var t0=iet;var net=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,set=/^\w*$/;function aet(e,t){if(gt(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Z5(e)?!0:set.test(e)||!net.test(e)||t!=null&&e in Object(t)}var u7=aet;var cet=hc(Object,"create"),oh=cet;function uet(){this.__data__=oh?oh(null):{},this.size=0}var pde=uet;function pet(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var dde=pet;var det="__lodash_hash_undefined__",met=Object.prototype,fet=met.hasOwnProperty;function het(e){var t=this.__data__;if(oh){var r=t[e];return r===det?void 0:r}return fet.call(t,e)?t[e]:void 0}var mde=het;var get=Object.prototype,yet=get.hasOwnProperty;function xet(e){var t=this.__data__;return oh?t[e]!==void 0:yet.call(t,e)}var fde=xet;var bet="__lodash_hash_undefined__";function vet(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=oh&&t===void 0?bet:t,this}var hde=vet;function p7(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}p7.prototype.clear=pde;p7.prototype.delete=dde;p7.prototype.get=mde;p7.prototype.has=fde;p7.prototype.set=hde;var EU=p7;function Cet(){this.__data__=[],this.size=0}var gde=Cet;function Pet(e,t){for(var r=e.length;r--;)if(vm(e[r][0],t))return r;return-1}var r0=Pet;var wet=Array.prototype,_et=wet.splice;function ket(e){var t=this.__data__,r=r0(t,e);if(r<0)return!1;var o=t.length-1;return r==o?t.pop():_et.call(t,r,1),--this.size,!0}var yde=ket;function Tet(e){var t=this.__data__,r=r0(t,e);return r<0?void 0:t[r][1]}var xde=Tet;function Eet(e){return r0(this.__data__,e)>-1}var bde=Eet;function Met(e,t){var r=this.__data__,o=r0(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}var vde=Met;function d7(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}d7.prototype.clear=gde;d7.prototype.delete=yde;d7.prototype.get=xde;d7.prototype.has=bde;d7.prototype.set=vde;var o0=d7;var Aet=hc(ds,"Map"),i0=Aet;function Iet(){this.size=0,this.__data__={hash:new EU,map:new(i0||o0),string:new EU}}var Sde=Iet;function Det(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Cde=Det;function Net(e,t){var r=e.__data__;return Cde(t)?r[typeof t=="string"?"string":"hash"]:r.map}var n0=Net;function Oet(e){var t=n0(this,e).delete(e);return this.size-=t?1:0,t}var Pde=Oet;function Let(e){return n0(this,e).get(e)}var wde=Let;function Bet(e){return n0(this,e).has(e)}var _de=Bet;function Fet(e,t){var r=n0(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}var kde=Fet;function m7(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}m7.prototype.clear=Sde;m7.prototype.delete=Pde;m7.prototype.get=wde;m7.prototype.has=_de;m7.prototype.set=kde;var G2=m7;var Wet="Expected a function";function MU(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Wet);var r=function(){var o=arguments,i=t?t.apply(this,o):o[0],n=r.cache;if(n.has(i))return n.get(i);var s=e.apply(this,o);return r.cache=n.set(i,s)||n,s};return r.cache=new(MU.Cache||G2),r}MU.Cache=G2;var Tde=MU;var Vet=500;function Uet(e){var t=Tde(e,function(o){return r.size===Vet&&r.clear(),o}),r=t.cache;return t}var Ede=Uet;var Ret=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jet=/\\(\\)?/g,Get=Ede(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ret,function(r,o,i,n){t.push(i?n.replace(jet,"$1"):o||r)}),t}),Mde=Get;function Het(e){return e==null?"":Mpe(e)}var Ade=Het;function zet(e,t){return gt(e)?e:u7(e,t)?[e]:Mde(Ade(e))}var s0=zet;var Xet=1/0;function Yet(e){if(typeof e=="string"||Z5(e))return e;var t=e+"";return t=="0"&&1/e==-Xet?"-0":t}var wm=Yet;function qet(e,t){t=s0(t,e);for(var r=0,o=t.length;e!=null&&r<o;)e=e[wm(t[r++])];return r&&r==o?e:void 0}var f7=qet;function $et(e,t,r){var o=e==null?void 0:f7(e,t);return o===void 0?r:o}var Ide=$et;function Zet(e,t){for(var r=-1,o=t.length,i=e.length;++r<o;)e[i+r]=t[r];return e}var h7=Zet;var Dde=ta?ta.isConcatSpreadable:void 0;function Jet(e){return gt(e)||e0(e)||!!(Dde&&e&&e[Dde])}var Nde=Jet;function Ode(e,t,r,o,i){var n=-1,s=e.length;for(r||(r=Nde),i||(i=[]);++n<s;){var a=e[n];t>0&&r(a)?t>1?Ode(a,t-1,r,o,i):h7(i,a):o||(i[i.length]=a)}return i}var g7=Ode;function Ket(e){var t=e==null?0:e.length;return t?g7(e,1):[]}var Is=Ket;var Qet=ck(Object.getPrototypeOf,Object),pk=Qet;function ett(e,t,r){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var n=Array(i);++o<i;)n[o]=e[o+t];return n}var dk=ett;function ttt(e,t,r,o){var i=-1,n=e==null?0:e.length;for(o&&n&&(r=e[++i]);++i<n;)r=t(r,e[i],i,e);return r}var Lde=ttt;function rtt(){this.__data__=new o0,this.size=0}var Bde=rtt;function ott(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Fde=ott;function itt(e){return this.__data__.get(e)}var Wde=itt;function ntt(e){return this.__data__.has(e)}var Vde=ntt;var stt=200;function att(e,t){var r=this.__data__;if(r instanceof o0){var o=r.__data__;if(!i0||o.length<stt-1)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new G2(o)}return r.set(e,t),this.size=r.size,this}var Ude=att;function y7(e){var t=this.__data__=new o0(e);this.size=t.size}y7.prototype.clear=Bde;y7.prototype.delete=Fde;y7.prototype.get=Wde;y7.prototype.has=Vde;y7.prototype.set=Ude;var a0=y7;function ltt(e,t){return e&&Sm(t,ui(t),e)}var Rde=ltt;function ctt(e,t){return e&&Sm(t,t0(t),e)}var jde=ctt;var Xde=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Gde=Xde&&typeof module=="object"&&module&&!module.nodeType&&module,utt=Gde&&Gde.exports===Xde,Hde=utt?ds.Buffer:void 0,zde=Hde?Hde.allocUnsafe:void 0;function ptt(e,t){if(t)return e.slice();var r=e.length,o=zde?zde(r):new e.constructor(r);return e.copy(o),o}var Yde=ptt;function dtt(e,t){for(var r=-1,o=e==null?0:e.length,i=0,n=[];++r<o;){var s=e[r];t(s,r,e)&&(n[i++]=s)}return n}var x7=dtt;function mtt(){return[]}var mk=mtt;var ftt=Object.prototype,htt=ftt.propertyIsEnumerable,qde=Object.getOwnPropertySymbols,gtt=qde?function(e){return e==null?[]:(e=Object(e),x7(qde(e),function(t){return htt.call(e,t)}))}:mk,b7=gtt;function ytt(e,t){return Sm(e,b7(e),t)}var $de=ytt;var xtt=Object.getOwnPropertySymbols,btt=xtt?function(e){for(var t=[];e;)h7(t,b7(e)),e=pk(e);return t}:mk,fk=btt;function vtt(e,t){return Sm(e,fk(e),t)}var Zde=vtt;function Stt(e,t,r){var o=t(e);return gt(e)?o:h7(o,r(e))}var hk=Stt;function Ctt(e){return hk(e,ui,b7)}var yb=Ctt;function Ptt(e){return hk(e,t0,fk)}var gk=Ptt;var wtt=hc(ds,"DataView"),yk=wtt;var _tt=hc(ds,"Promise"),xk=_tt;var ktt=hc(ds,"Set"),l0=ktt;var Jde="[object Map]",Ttt="[object Object]",Kde="[object Promise]",Qde="[object Set]",eme="[object WeakMap]",tme="[object DataView]",Ett=th(yk),Mtt=th(i0),Att=th(xk),Itt=th(l0),Dtt=th(ik),H2=Tl;(yk&&H2(new yk(new ArrayBuffer(1)))!=tme||i0&&H2(new i0)!=Jde||xk&&H2(xk.resolve())!=Kde||l0&&H2(new l0)!=Qde||ik&&H2(new ik)!=eme)&&(H2=function(e){var t=Tl(e),r=t==Ttt?e.constructor:void 0,o=r?th(r):"";if(o)switch(o){case Ett:return tme;case Mtt:return Jde;case Att:return Kde;case Itt:return Qde;case Dtt:return eme}return t});var od=H2;var Ntt=Object.prototype,Ott=Ntt.hasOwnProperty;function Ltt(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Ott.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var rme=Ltt;var Btt=ds.Uint8Array,v7=Btt;function Ftt(e){var t=new e.constructor(e.byteLength);return new v7(t).set(new v7(e)),t}var S7=Ftt;function Wtt(e,t){var r=t?S7(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var ome=Wtt;var Vtt=/\w*$/;function Utt(e){var t=new e.constructor(e.source,Vtt.exec(e));return t.lastIndex=e.lastIndex,t}var ime=Utt;var nme=ta?ta.prototype:void 0,sme=nme?nme.valueOf:void 0;function Rtt(e){return sme?Object(sme.call(e)):{}}var ame=Rtt;function jtt(e,t){var r=t?S7(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var lme=jtt;var Gtt="[object Boolean]",Htt="[object Date]",ztt="[object Map]",Xtt="[object Number]",Ytt="[object RegExp]",qtt="[object Set]",$tt="[object String]",Ztt="[object Symbol]",Jtt="[object ArrayBuffer]",Ktt="[object DataView]",Qtt="[object Float32Array]",ert="[object Float64Array]",trt="[object Int8Array]",rrt="[object Int16Array]",ort="[object Int32Array]",irt="[object Uint8Array]",nrt="[object Uint8ClampedArray]",srt="[object Uint16Array]",art="[object Uint32Array]";function lrt(e,t,r){var o=e.constructor;switch(t){case Jtt:return S7(e);case Gtt:case Htt:return new o(+e);case Ktt:return ome(e,r);case Qtt:case ert:case trt:case rrt:case ort:case irt:case nrt:case srt:case art:return lme(e,r);case ztt:return new o;case Xtt:case $tt:return new o(e);case Ytt:return ime(e);case qtt:return new o;case Ztt:return ame(e)}}var cme=lrt;function crt(e){return typeof e.constructor=="function"&&!Cm(e)?Rpe(pk(e)):{}}var ume=crt;var urt="[object Map]";function prt(e){return Un(e)&&od(e)==urt}var pme=prt;var dme=np&&np.isMap,drt=dme?Pm(dme):pme,mme=drt;var mrt="[object Set]";function frt(e){return Un(e)&&od(e)==mrt}var fme=frt;var hme=np&&np.isSet,hrt=hme?Pm(hme):fme,gme=hrt;var grt=1,yrt=2,xrt=4,yme="[object Arguments]",brt="[object Array]",vrt="[object Boolean]",Srt="[object Date]",Crt="[object Error]",xme="[object Function]",Prt="[object GeneratorFunction]",wrt="[object Map]",_rt="[object Number]",bme="[object Object]",krt="[object RegExp]",Trt="[object Set]",Ert="[object String]",Mrt="[object Symbol]",Art="[object WeakMap]",Irt="[object ArrayBuffer]",Drt="[object DataView]",Nrt="[object Float32Array]",Ort="[object Float64Array]",Lrt="[object Int8Array]",Brt="[object Int16Array]",Frt="[object Int32Array]",Wrt="[object Uint8Array]",Vrt="[object Uint8ClampedArray]",Urt="[object Uint16Array]",Rrt="[object Uint32Array]",pi={};pi[yme]=pi[brt]=pi[Irt]=pi[Drt]=pi[vrt]=pi[Srt]=pi[Nrt]=pi[Ort]=pi[Lrt]=pi[Brt]=pi[Frt]=pi[wrt]=pi[_rt]=pi[bme]=pi[krt]=pi[Trt]=pi[Ert]=pi[Mrt]=pi[Wrt]=pi[Vrt]=pi[Urt]=pi[Rrt]=!0;pi[Crt]=pi[xme]=pi[Art]=!1;function bk(e,t,r,o,i,n){var s,a=t&grt,l=t&yrt,c=t&xrt;if(r&&(s=i?r(e,o,i,n):r(e)),s!==void 0)return s;if(!nn(e))return e;var u=gt(e);if(u){if(s=rme(e),!a)return Gpe(e,s)}else{var p=od(e),m=p==xme||p==Prt;if(rh(e))return Yde(e,a);if(p==bme||p==yme||m&&!i){if(s=l||m?{}:ume(e),!a)return l?Zde(e,jde(s,e)):$de(e,Rde(s,e))}else{if(!pi[p])return i?e:{};s=cme(e,p,a)}}n||(n=new a0);var h=n.get(e);if(h)return h;n.set(e,s),gme(e)?e.forEach(function(v){s.add(bk(v,t,r,v,e,n))}):mme(e)&&e.forEach(function(v,b){s.set(b,bk(v,t,r,b,e,n))});var f=c?l?gk:yb:l?t0:ui,x=u?void 0:f(e);return nk(x||e,function(v,b){x&&(b=v,v=e[b]),K5(s,b,bk(v,t,r,b,e,n))}),s}var vme=bk;var jrt=4;function Grt(e){return vme(e,jrt)}var di=Grt;function Hrt(e){for(var t=-1,r=e==null?0:e.length,o=0,i=[];++t<r;){var n=e[t];n&&(i[o++]=n)}return i}var _m=Hrt;var zrt="__lodash_hash_undefined__";function Xrt(e){return this.__data__.set(e,zrt),this}var Sme=Xrt;function Yrt(e){return this.__data__.has(e)}var Cme=Yrt;function vk(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new G2;++t<r;)this.add(e[t])}vk.prototype.add=vk.prototype.push=Sme;vk.prototype.has=Cme;var C7=vk;function qrt(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}var Sk=qrt;function $rt(e,t){return e.has(t)}var P7=$rt;var Zrt=1,Jrt=2;function Krt(e,t,r,o,i,n){var s=r&Zrt,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=n.get(e),u=n.get(t);if(c&&u)return c==t&&u==e;var p=-1,m=!0,h=r&Jrt?new C7:void 0;for(n.set(e,t),n.set(t,e);++p<a;){var f=e[p],x=t[p];if(o)var v=s?o(x,f,p,t,e,n):o(f,x,p,e,t,n);if(v!==void 0){if(v)continue;m=!1;break}if(h){if(!Sk(t,function(b,S){if(!P7(h,S)&&(f===b||i(f,b,r,o,n)))return h.push(S)})){m=!1;break}}else if(!(f===x||i(f,x,r,o,n))){m=!1;break}}return n.delete(e),n.delete(t),m}var Ck=Krt;function Qrt(e){var t=-1,r=Array(e.size);return e.forEach(function(o,i){r[++t]=[i,o]}),r}var Pme=Qrt;function eot(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}var w7=eot;var tot=1,rot=2,oot="[object Boolean]",iot="[object Date]",not="[object Error]",sot="[object Map]",aot="[object Number]",lot="[object RegExp]",cot="[object Set]",uot="[object String]",pot="[object Symbol]",dot="[object ArrayBuffer]",mot="[object DataView]",wme=ta?ta.prototype:void 0,AU=wme?wme.valueOf:void 0;function fot(e,t,r,o,i,n,s){switch(r){case mot:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case dot:return!(e.byteLength!=t.byteLength||!n(new v7(e),new v7(t)));case oot:case iot:case aot:return vm(+e,+t);case not:return e.name==t.name&&e.message==t.message;case lot:case uot:return e==t+"";case sot:var a=Pme;case cot:var l=o&tot;if(a||(a=w7),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;o|=rot,s.set(e,t);var u=Ck(a(e),a(t),o,i,n,s);return s.delete(e),u;case pot:if(AU)return AU.call(e)==AU.call(t)}return!1}var _me=fot;var hot=1,got=Object.prototype,yot=got.hasOwnProperty;function xot(e,t,r,o,i,n){var s=r&hot,a=yb(e),l=a.length,c=yb(t),u=c.length;if(l!=u&&!s)return!1;for(var p=l;p--;){var m=a[p];if(!(s?m in t:yot.call(t,m)))return!1}var h=n.get(e),f=n.get(t);if(h&&f)return h==t&&f==e;var x=!0;n.set(e,t),n.set(t,e);for(var v=s;++p<l;){m=a[p];var b=e[m],S=t[m];if(o)var w=s?o(S,b,m,t,e,n):o(b,S,m,e,t,n);if(!(w===void 0?b===S||i(b,S,r,o,n):w)){x=!1;break}v||(v=m=="constructor")}if(x&&!v){var _=e.constructor,E=t.constructor;_!=E&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof E=="function"&&E instanceof E)&&(x=!1)}return n.delete(e),n.delete(t),x}var kme=xot;var bot=1,Tme="[object Arguments]",Eme="[object Array]",Pk="[object Object]",vot=Object.prototype,Mme=vot.hasOwnProperty;function Sot(e,t,r,o,i,n){var s=gt(e),a=gt(t),l=s?Eme:od(e),c=a?Eme:od(t);l=l==Tme?Pk:l,c=c==Tme?Pk:c;var u=l==Pk,p=c==Pk,m=l==c;if(m&&rh(e)){if(!rh(t))return!1;s=!0,u=!1}if(m&&!u)return n||(n=new a0),s||c7(e)?Ck(e,t,r,o,i,n):_me(e,t,l,r,o,i,n);if(!(r&bot)){var h=u&&Mme.call(e,"__wrapped__"),f=p&&Mme.call(t,"__wrapped__");if(h||f){var x=h?e.value():e,v=f?t.value():t;return n||(n=new a0),i(x,v,r,o,n)}}return m?(n||(n=new a0),kme(e,t,r,o,i,n)):!1}var Ame=Sot;function Ime(e,t,r,o,i){return e===t?!0:e==null||t==null||!Un(e)&&!Un(t)?e!==e&&t!==t:Ame(e,t,r,o,Ime,i)}var wk=Ime;var Cot=1,Pot=2;function wot(e,t,r,o){var i=r.length,n=i,s=!o;if(e==null)return!n;for(e=Object(e);i--;){var a=r[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<n;){a=r[i];var l=a[0],c=e[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in e))return!1}else{var p=new a0;if(o)var m=o(c,u,l,e,t,p);if(!(m===void 0?wk(u,c,Cot|Pot,o,p):m))return!1}}return!0}var Dme=wot;function _ot(e){return e===e&&!nn(e)}var _k=_ot;function kot(e){for(var t=ui(e),r=t.length;r--;){var o=t[r],i=e[o];t[r]=[o,i,_k(i)]}return t}var Nme=kot;function Tot(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var kk=Tot;function Eot(e){var t=Nme(e);return t.length==1&&t[0][2]?kk(t[0][0],t[0][1]):function(r){return r===e||Dme(r,e,t)}}var Ome=Eot;function Mot(e,t){return e!=null&&t in Object(e)}var Lme=Mot;function Aot(e,t,r){t=s0(t,e);for(var o=-1,i=t.length,n=!1;++o<i;){var s=wm(t[o]);if(!(n=e!=null&&r(e,s)))break;e=e[s]}return n||++o!=i?n:(i=e==null?0:e.length,!!i&&l7(i)&&J5(s,i)&&(gt(e)||e0(e)))}var Tk=Aot;function Iot(e,t){return e!=null&&Tk(e,t,Lme)}var Bme=Iot;var Dot=1,Not=2;function Oot(e,t){return u7(e)&&_k(t)?kk(wm(e),t):function(r){var o=Ide(r,e);return o===void 0&&o===t?Bme(r,e):wk(t,o,Dot|Not)}}var Fme=Oot;function Lot(e){return function(t){return t?.[e]}}var Wme=Lot;function Bot(e){return function(t){return f7(t,e)}}var Vme=Bot;function Fot(e){return u7(e)?Wme(wm(e)):Vme(e)}var Ume=Fot;function Wot(e){return typeof e=="function"?e:e==null?ip:typeof e=="object"?gt(e)?Fme(e[0],e[1]):Ome(e):Ume(e)}var fs=Wot;function Vot(e,t,r,o){for(var i=-1,n=e==null?0:e.length;++i<n;){var s=e[i];t(o,s,r(s),e)}return o}var Rme=Vot;function Uot(e){return function(t,r,o){for(var i=-1,n=Object(t),s=o(t),a=s.length;a--;){var l=s[e?a:++i];if(r(n[l],l,n)===!1)break}return t}}var jme=Uot;var Rot=jme(),Gme=Rot;function jot(e,t){return e&&Gme(e,t,ui)}var Hme=jot;function Got(e,t){return function(r,o){if(r==null)return r;if(!ms(r))return e(r,o);for(var i=r.length,n=t?i:-1,s=Object(r);(t?n--:++n<i)&&o(s[n],n,s)!==!1;);return r}}var zme=Got;var Hot=zme(Hme),gc=Hot;function zot(e,t,r,o){return gc(e,function(i,n,s){t(o,i,r(i),s)}),o}var Xme=zot;function Xot(e,t){return function(r,o){var i=gt(r)?Rme:Xme,n=t?t():{};return i(r,e,fs(o,2),n)}}var Yme=Xot;var qme=Object.prototype,Yot=qme.hasOwnProperty,qot=a7(function(e,t){e=Object(e);var r=-1,o=t.length,i=o>2?t[2]:void 0;for(i&&Q5(t[0],t[1],i)&&(o=1);++r<o;)for(var n=t[r],s=t0(n),a=-1,l=s.length;++a<l;){var c=s[a],u=e[c];(u===void 0||vm(u,qme[c])&&!Yot.call(e,c))&&(e[c]=n[c])}return e}),_7=qot;function $ot(e){return Un(e)&&ms(e)}var IU=$ot;function Zot(e,t,r){for(var o=-1,i=e==null?0:e.length;++o<i;)if(r(t,e[o]))return!0;return!1}var Ek=Zot;var Jot=200;function Kot(e,t,r,o){var i=-1,n=ak,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;r&&(t=xm(t,Pm(r))),o?(n=Ek,s=!1):t.length>=Jot&&(n=P7,s=!1,t=new C7(t));e:for(;++i<a;){var u=e[i],p=r==null?u:r(u);if(u=o||u!==0?u:0,s&&p===p){for(var m=c;m--;)if(t[m]===p)continue e;l.push(u)}else n(t,p,o)||l.push(u)}return l}var $me=Kot;var Qot=a7(function(e,t){return IU(e)?$me(e,g7(t,1,IU,!0)):[]}),c0=Qot;function eit(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var km=eit;function tit(e,t,r){var o=e==null?0:e.length;return o?(t=r||t===void 0?1:bm(t),dk(e,t<0?0:t,o)):[]}var Rn=tit;function rit(e,t,r){var o=e==null?0:e.length;return o?(t=r||t===void 0?1:bm(t),t=o-t,dk(e,0,t<0?0:t)):[]}var ih=rit;function oit(e){return typeof e=="function"?e:ip}var Zme=oit;function iit(e,t){var r=gt(e)?nk:gc;return r(e,Zme(t))}var st=iit;function nit(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(!t(e[r],r,e))return!1;return!0}var Jme=nit;function sit(e,t){var r=!0;return gc(e,function(o,i,n){return r=!!t(o,i,n),r}),r}var Kme=sit;function ait(e,t,r){var o=gt(e)?Jme:Kme;return r&&Q5(e,t,r)&&(t=void 0),o(e,fs(t,3))}var $a=ait;function lit(e,t){var r=[];return gc(e,function(o,i,n){t(o,i,n)&&r.push(o)}),r}var Mk=lit;function cit(e,t){var r=gt(e)?x7:Mk;return r(e,fs(t,3))}var Za=cit;function uit(e){return function(t,r,o){var i=Object(t);if(!ms(t)){var n=fs(r,3);t=ui(t),r=function(a){return n(i[a],a,i)}}var s=e(t,r,o);return s>-1?i[n?t[s]:s]:void 0}}var Qme=uit;var pit=Math.max;function dit(e,t,r){var o=e==null?0:e.length;if(!o)return-1;var i=r==null?0:bm(r);return i<0&&(i=pit(o+i,0)),sk(e,fs(t,3),i)}var efe=dit;var mit=Qme(efe),Tm=mit;function fit(e){return e&&e.length?e[0]:void 0}var ra=fit;function hit(e,t){var r=-1,o=ms(e)?Array(e.length):[];return gc(e,function(i,n,s){o[++r]=t(i,n,s)}),o}var tfe=hit;function git(e,t){var r=gt(e)?xm:tfe;return r(e,fs(t,3))}var Ke=git;function yit(e,t){return g7(Ke(e,t),1)}var Ml=yit;var xit=Object.prototype,bit=xit.hasOwnProperty,vit=Yme(function(e,t,r){bit.call(e,r)?e[r].push(t):s7(e,r,[t])}),DU=vit;var Sit=Object.prototype,Cit=Sit.hasOwnProperty;function Pit(e,t){return e!=null&&Cit.call(e,t)}var rfe=Pit;function wit(e,t){return e!=null&&Tk(e,t,rfe)}var dt=wit;var _it="[object String]";function kit(e){return typeof e=="string"||!gt(e)&&Un(e)&&Tl(e)==_it}var Ds=kit;function Tit(e,t){return xm(t,function(r){return e[r]})}var ofe=Tit;function Eit(e){return e==null?[]:ofe(e,ui(e))}var Ho=Eit;var Mit=Math.max;function Ait(e,t,r,o){e=ms(e)?e:Ho(e),r=r&&!o?bm(r):0;var i=e.length;return r<0&&(r=Mit(i+r,0)),Ds(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&n7(e,t,r)>-1}var Ri=Ait;var Iit=Math.max;function Dit(e,t,r){var o=e==null?0:e.length;if(!o)return-1;var i=r==null?0:bm(r);return i<0&&(i=Iit(o+i,0)),n7(e,t,i)}var Ak=Dit;var Nit="[object Map]",Oit="[object Set]",Lit=Object.prototype,Bit=Lit.hasOwnProperty;function Fit(e){if(e==null)return!0;if(ms(e)&&(gt(e)||typeof e=="string"||typeof e.splice=="function"||rh(e)||c7(e)||e0(e)))return!e.length;var t=od(e);if(t==Nit||t==Oit)return!e.size;if(Cm(e))return!uk(e).length;for(var r in e)if(Bit.call(e,r))return!1;return!0}var mr=Fit;var Wit="[object RegExp]";function Vit(e){return Un(e)&&Tl(e)==Wit}var ife=Vit;var nfe=np&&np.isRegExp,Uit=nfe?Pm(nfe):ife,sp=Uit;function Rit(e){return e===void 0}var Ja=Rit;var jit="Expected a function";function Git(e){if(typeof e!="function")throw new TypeError(jit);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var sfe=Git;function Hit(e,t,r,o){if(!nn(e))return e;t=s0(t,e);for(var i=-1,n=t.length,s=n-1,a=e;a!=null&&++i<n;){var l=wm(t[i]),c=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=s){var u=a[l];c=o?o(u,l,a):void 0,c===void 0&&(c=nn(u)?u:J5(t[i+1])?[]:{})}K5(a,l,c),a=a[l]}return e}var afe=Hit;function zit(e,t,r){for(var o=-1,i=t.length,n={};++o<i;){var s=t[o],a=f7(e,s);r(a,s)&&afe(n,s0(s,e),a)}return n}var lfe=zit;function Xit(e,t){if(e==null)return{};var r=xm(gk(e),function(o){return[o]});return t=fs(t),lfe(e,r,function(o,i){return t(o,i[0])})}var yc=Xit;function Yit(e,t,r,o,i){return i(e,function(n,s,a){r=o?(o=!1,n):t(r,n,s,a)}),r}var cfe=Yit;function qit(e,t,r){var o=gt(e)?Lde:cfe,i=arguments.length<3;return o(e,fs(t,4),r,i,gc)}var hs=qit;function $it(e,t){var r=gt(e)?x7:Mk;return r(e,sfe(fs(t,3)))}var u0=$it;function Zit(e,t){var r;return gc(e,function(o,i,n){return r=t(o,i,n),!r}),!!r}var ufe=Zit;function Jit(e,t,r){var o=gt(e)?Sk:ufe;return r&&Q5(e,t,r)&&(t=void 0),o(e,fs(t,3))}var xb=Jit;var Kit=1/0,Qit=l0&&1/w7(new l0([,-0]))[1]==Kit?function(e){return new l0(e)}:sn,pfe=Qit;var ent=200;function tnt(e,t,r){var o=-1,i=ak,n=e.length,s=!0,a=[],l=a;if(r)s=!1,i=Ek;else if(n>=ent){var c=t?null:pfe(e);if(c)return w7(c);s=!1,i=P7,l=new C7}else l=t?[]:a;e:for(;++o<n;){var u=e[o],p=t?t(u):u;if(u=r||u!==0?u:0,s&&p===p){for(var m=l.length;m--;)if(l[m]===p)continue e;t&&l.push(p),a.push(u)}else i(l,p,r)||(l!==a&&l.push(p),a.push(u))}return a}var dfe=tnt;function rnt(e){return e&&e.length?dfe(e):[]}var k7=rnt;function T7(e){console&&console.error&&console.error(`Error: ${e}`)}function bb(e){console&&console.warn&&console.warn(`Warning: ${e}`)}function vb(e){let t=new Date().getTime(),r=e();return{time:new Date().getTime()-t,value:r}}function Sb(e){function t(){}t.prototype=e;let r=new t;function o(){return typeof r.bar}return o(),o(),e;(0,eval)(e)}function ont(e){return int(e)?e.LABEL:e.name}function int(e){return Ds(e.LABEL)&&e.LABEL!==""}var ru=class{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this),st(this.definition,r=>{r.accept(t)})}},mi=class extends ru{constructor(t){super([]),this.idx=1,wa(this,yc(t,r=>r!==void 0))}set definition(t){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(t){t.visit(this)}},Al=class extends ru{constructor(t){super(t.definition),this.orgText="",wa(this,yc(t,r=>r!==void 0))}},fi=class extends ru{constructor(t){super(t.definition),this.ignoreAmbiguities=!1,wa(this,yc(t,r=>r!==void 0))}},_i=class extends ru{constructor(t){super(t.definition),this.idx=1,wa(this,yc(t,r=>r!==void 0))}},jn=class extends ru{constructor(t){super(t.definition),this.idx=1,wa(this,yc(t,r=>r!==void 0))}},Gn=class extends ru{constructor(t){super(t.definition),this.idx=1,wa(this,yc(t,r=>r!==void 0))}},bo=class extends ru{constructor(t){super(t.definition),this.idx=1,wa(this,yc(t,r=>r!==void 0))}},Cn=class extends ru{constructor(t){super(t.definition),this.idx=1,wa(this,yc(t,r=>r!==void 0))}},Pn=class extends ru{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,wa(this,yc(t,r=>r!==void 0))}},Lr=class{constructor(t){this.idx=1,wa(this,yc(t,r=>r!==void 0))}accept(t){t.visit(this)}};function Ik(e){return Ke(e,E7)}function E7(e){function t(r){return Ke(r,E7)}if(e instanceof mi){let r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return Ds(e.label)&&(r.label=e.label),r}else{if(e instanceof fi)return{type:"Alternative",definition:t(e.definition)};if(e instanceof _i)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof jn)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof Gn)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:E7(new Lr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Cn)return{type:"RepetitionWithSeparator",idx:e.idx,separator:E7(new Lr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof bo)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof Pn)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof Lr){let r={type:"Terminal",name:e.terminalType.name,label:ont(e.terminalType),idx:e.idx};Ds(e.label)&&(r.terminalLabel=e.label);let o=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=sp(o)?o.source:o),r}else{if(e instanceof Al)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}}var Il=class{visit(t){let r=t;switch(r.constructor){case mi:return this.visitNonTerminal(r);case fi:return this.visitAlternative(r);case _i:return this.visitOption(r);case jn:return this.visitRepetitionMandatory(r);case Gn:return this.visitRepetitionMandatoryWithSeparator(r);case Cn:return this.visitRepetitionWithSeparator(r);case bo:return this.visitRepetition(r);case Pn:return this.visitAlternation(r);case Lr:return this.visitTerminal(r);case Al:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}};function NU(e){return e instanceof fi||e instanceof _i||e instanceof bo||e instanceof jn||e instanceof Gn||e instanceof Cn||e instanceof Lr||e instanceof Al}function z2(e,t=[]){return e instanceof _i||e instanceof bo||e instanceof Cn?!0:e instanceof Pn?xb(e.definition,o=>z2(o,t)):e instanceof mi&&Ri(t,e)?!1:e instanceof ru?(e instanceof mi&&t.push(e),$a(e.definition,o=>z2(o,t))):!1}function OU(e){return e instanceof Pn}function xc(e){if(e instanceof mi)return"SUBRULE";if(e instanceof _i)return"OPTION";if(e instanceof Pn)return"OR";if(e instanceof jn)return"AT_LEAST_ONE";if(e instanceof Gn)return"AT_LEAST_ONE_SEP";if(e instanceof Cn)return"MANY_SEP";if(e instanceof bo)return"MANY";if(e instanceof Lr)return"CONSUME";throw Error("non exhaustive match")}var nh=class{walk(t,r=[]){st(t.definition,(o,i)=>{let n=Rn(t.definition,i+1);if(o instanceof mi)this.walkProdRef(o,n,r);else if(o instanceof Lr)this.walkTerminal(o,n,r);else if(o instanceof fi)this.walkFlat(o,n,r);else if(o instanceof _i)this.walkOption(o,n,r);else if(o instanceof jn)this.walkAtLeastOne(o,n,r);else if(o instanceof Gn)this.walkAtLeastOneSep(o,n,r);else if(o instanceof Cn)this.walkManySep(o,n,r);else if(o instanceof bo)this.walkMany(o,n,r);else if(o instanceof Pn)this.walkOr(o,n,r);else throw Error("non exhaustive match")})}walkTerminal(t,r,o){}walkProdRef(t,r,o){}walkFlat(t,r,o){let i=r.concat(o);this.walk(t,i)}walkOption(t,r,o){let i=r.concat(o);this.walk(t,i)}walkAtLeastOne(t,r,o){let i=[new _i({definition:t.definition})].concat(r,o);this.walk(t,i)}walkAtLeastOneSep(t,r,o){let i=mfe(t,r,o);this.walk(t,i)}walkMany(t,r,o){let i=[new _i({definition:t.definition})].concat(r,o);this.walk(t,i)}walkManySep(t,r,o){let i=mfe(t,r,o);this.walk(t,i)}walkOr(t,r,o){let i=r.concat(o);st(t.definition,n=>{let s=new fi({definition:[n]});this.walk(s,i)})}};function mfe(e,t,r){return[new _i({definition:[new Lr({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}function X2(e){if(e instanceof mi)return X2(e.referencedRule);if(e instanceof Lr)return ant(e);if(NU(e))return nnt(e);if(OU(e))return snt(e);throw Error("non exhaustive match")}function nnt(e){let t=[],r=e.definition,o=0,i=r.length>o,n,s=!0;for(;i&&s;)n=r[o],s=z2(n),t=t.concat(X2(n)),o=o+1,i=r.length>o;return k7(t)}function snt(e){let t=Ke(e.definition,r=>X2(r));return k7(Is(t))}function ant(e){return[e.terminalType]}var Dk="_~IN~_";var LU=class extends nh{constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,r,o){}walkProdRef(t,r,o){let i=lnt(t.referencedRule,t.idx)+this.topProd.name,n=r.concat(o),s=new fi({definition:n}),a=X2(s);this.follows[i]=a}};function ffe(e){let t={};return st(e,r=>{let o=new LU(r).startWalking();wa(t,o)}),t}function lnt(e,t){return e.name+t+Dk}function Ft(e){return e.charCodeAt(0)}function Nk(e,t){Array.isArray(e)?e.forEach(function(r){t.push(r)}):t.push(e)}function M7(e,t){if(e[t]===!0)throw"duplicate flag "+t;let r=e[t];e[t]=!0}function Y2(e){if(e===void 0)throw Error("Internal Error - Should never get here!");return!0}function Cb(){throw Error("Internal Error - Should never get here!")}function BU(e){return e.type==="Character"}var Pb=[];for(let e=Ft("0");e<=Ft("9");e++)Pb.push(e);var wb=[Ft("_")].concat(Pb);for(let e=Ft("a");e<=Ft("z");e++)wb.push(e);for(let e=Ft("A");e<=Ft("Z");e++)wb.push(e);var FU=[Ft(" "),Ft("\f"),Ft(`
`),Ft("\r"),Ft("	"),Ft("\v"),Ft("	"),Ft("\xA0"),Ft("\u1680"),Ft("\u2000"),Ft("\u2001"),Ft("\u2002"),Ft("\u2003"),Ft("\u2004"),Ft("\u2005"),Ft("\u2006"),Ft("\u2007"),Ft("\u2008"),Ft("\u2009"),Ft("\u200A"),Ft("\u2028"),Ft("\u2029"),Ft("\u202F"),Ft("\u205F"),Ft("\u3000"),Ft("\uFEFF")];var cnt=/[0-9a-fA-F]/,Ok=/[0-9]/,unt=/[1-9]/,_b=class{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(t){this.idx=t.idx,this.input=t.input,this.groupIdx=t.groupIdx}pattern(t){this.idx=0,this.input=t,this.groupIdx=0,this.consumeChar("/");let r=this.disjunction();this.consumeChar("/");let o={type:"Flags",loc:{begin:this.idx,end:t.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":M7(o,"global");break;case"i":M7(o,"ignoreCase");break;case"m":M7(o,"multiLine");break;case"u":M7(o,"unicode");break;case"y":M7(o,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:o,value:r,loc:this.loc(0)}}disjunction(){let t=[],r=this.idx;for(t.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),t.push(this.alternative());return{type:"Disjunction",value:t,loc:this.loc(r)}}alternative(){let t=[],r=this.idx;for(;this.isTerm();)t.push(this.term());return{type:"Alternative",value:t,loc:this.loc(r)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let t=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(t)};case"$":return{type:"EndAnchor",loc:this.loc(t)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(t)};case"B":return{type:"NonWordBoundary",loc:this.loc(t)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let r;switch(this.popChar()){case"=":r="Lookahead";break;case"!":r="NegativeLookahead";break}Y2(r);let o=this.disjunction();return this.consumeChar(")"),{type:r,value:o,loc:this.loc(t)}}return Cb()}quantifier(t=!1){let r,o=this.idx;switch(this.popChar()){case"*":r={atLeast:0,atMost:1/0};break;case"+":r={atLeast:1,atMost:1/0};break;case"?":r={atLeast:0,atMost:1};break;case"{":let i=this.integerIncludingZero();switch(this.popChar()){case"}":r={atLeast:i,atMost:i};break;case",":let n;this.isDigit()?(n=this.integerIncludingZero(),r={atLeast:i,atMost:n}):r={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(t===!0&&r===void 0)return;Y2(r);break}if(!(t===!0&&r===void 0)&&Y2(r))return this.peekChar(0)==="?"?(this.consumeChar("?"),r.greedy=!1):r.greedy=!0,r.type="Quantifier",r.loc=this.loc(o),r}atom(){let t,r=this.idx;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group();break}return t===void 0&&this.isPatternCharacter()&&(t=this.patternCharacter()),Y2(t)?(t.loc=this.loc(r),this.isQuantifier()&&(t.quantifier=this.quantifier()),t):Cb()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[Ft(`
`),Ft("\r"),Ft("\u2028"),Ft("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let t,r=!1;switch(this.popChar()){case"d":t=Pb;break;case"D":t=Pb,r=!0;break;case"s":t=FU;break;case"S":t=FU,r=!0;break;case"w":t=wb;break;case"W":t=wb,r=!0;break}return Y2(t)?{type:"Set",value:t,complement:r}:Cb()}controlEscapeAtom(){let t;switch(this.popChar()){case"f":t=Ft("\f");break;case"n":t=Ft(`
`);break;case"r":t=Ft("\r");break;case"t":t=Ft("	");break;case"v":t=Ft("\v");break}return Y2(t)?{type:"Character",value:t}:Cb()}controlLetterEscapeAtom(){this.consumeChar("c");let t=this.popChar();if(/[a-zA-Z]/.test(t)===!1)throw Error("Invalid ");return{type:"Character",value:t.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:Ft("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){let t=this.popChar();return{type:"Character",value:Ft(t)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:let t=this.popChar();return{type:"Character",value:Ft(t)}}}characterClass(){let t=[],r=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),r=!0);this.isClassAtom();){let o=this.classAtom(),i=o.type==="Character";if(BU(o)&&this.isRangeDash()){this.consumeChar("-");let n=this.classAtom(),s=n.type==="Character";if(BU(n)){if(n.value<o.value)throw Error("Range out of order in character class");t.push({from:o.value,to:n.value})}else Nk(o.value,t),t.push(Ft("-")),Nk(n.value,t)}else Nk(o.value,t)}return this.consumeChar("]"),{type:"Set",complement:r,value:t}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:Ft("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let t=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),t=!1;break;default:this.groupIdx++;break}let r=this.disjunction();this.consumeChar(")");let o={type:"Group",capturing:t,value:r};return t&&(o.idx=this.groupIdx),o}positiveInteger(){let t=this.popChar();if(unt.test(t)===!1)throw Error("Expecting a positive integer");for(;Ok.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}integerIncludingZero(){let t=this.popChar();if(Ok.test(t)===!1)throw Error("Expecting an integer");for(;Ok.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}patternCharacter(){let t=this.popChar();switch(t){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:Ft(t)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return Ok.test(this.peekChar(0))}isClassAtom(t=0){switch(this.peekChar(t)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){let t=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(t)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(t){let r="";for(let i=0;i<t;i++){let n=this.popChar();if(cnt.test(n)===!1)throw Error("Expecting a HexDecimal digits");r+=n}return{type:"Character",value:parseInt(r,16)}}peekChar(t=0){return this.input[this.idx+t]}popChar(){let t=this.peekChar(0);return this.consumeChar(void 0),t}consumeChar(t){if(t!==void 0&&this.input[this.idx]!==t)throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(t){return{begin:t,end:this.idx}}};var p0=class{visitChildren(t){for(let r in t){let o=t[r];t.hasOwnProperty(r)&&(o.type!==void 0?this.visit(o):Array.isArray(o)&&o.forEach(i=>{this.visit(i)},this))}}visit(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t);break}this.visitChildren(t)}visitPattern(t){}visitFlags(t){}visitDisjunction(t){}visitAlternative(t){}visitStartAnchor(t){}visitEndAnchor(t){}visitWordBoundary(t){}visitNonWordBoundary(t){}visitLookahead(t){}visitNegativeLookahead(t){}visitCharacter(t){}visitSet(t){}visitGroup(t){}visitGroupBackReference(t){}visitQuantifier(t){}};var Lk={},pnt=new _b;function A7(e){let t=e.toString();if(Lk.hasOwnProperty(t))return Lk[t];{let r=pnt.pattern(t);return Lk[t]=r,r}}function hfe(){Lk={}}var yfe="Complement Sets are not supported for first char optimization",kb=`Unable to use "first char" lexer optimizations:
`;function xfe(e,t=!1){try{let r=A7(e);return WU(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===yfe)t&&bb(`${kb}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let o="";t&&(o=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),T7(`${kb}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+o)}}return[]}function WU(e,t,r){switch(e.type){case"Disjunction":for(let i=0;i<e.value.length;i++)WU(e.value[i],t,r);break;case"Alternative":let o=e.value;for(let i=0;i<o.length;i++){let n=o[i];switch(n.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let s=n;switch(s.type){case"Character":Bk(s.value,t,r);break;case"Set":if(s.complement===!0)throw Error(yfe);st(s.value,l=>{if(typeof l=="number")Bk(l,t,r);else{let c=l;if(r===!0)for(let u=c.from;u<=c.to;u++)Bk(u,t,r);else{for(let u=c.from;u<=c.to&&u<I7;u++)Bk(u,t,r);if(c.to>=I7){let u=c.from>=I7?c.from:I7,p=c.to,m=Em(u),h=Em(p);for(let f=m;f<=h;f++)t[f]=f}}}});break;case"Group":WU(s.value,t,r);break;default:throw Error("Non Exhaustive Match")}let a=s.quantifier!==void 0&&s.quantifier.atLeast===0;if(s.type==="Group"&&VU(s)===!1||s.type!=="Group"&&a===!1)break}break;default:throw Error("non exhaustive match!")}return Ho(t)}function Bk(e,t,r){let o=Em(e);t[o]=o,r===!0&&dnt(e,t)}function dnt(e,t){let r=String.fromCharCode(e),o=r.toUpperCase();if(o!==r){let i=Em(o.charCodeAt(0));t[i]=i}else{let i=r.toLowerCase();if(i!==r){let n=Em(i.charCodeAt(0));t[n]=n}}}function gfe(e,t){return Tm(e.value,r=>{if(typeof r=="number")return Ri(t,r);{let o=r;return Tm(t,i=>o.from<=i&&i<=o.to)!==void 0}})}function VU(e){let t=e.quantifier;return t&&t.atLeast===0?!0:e.value?gt(e.value)?$a(e.value,VU):VU(e.value):!1}var UU=class extends p0{constructor(t){super(),this.targetCharCodes=t,this.found=!1}visitChildren(t){if(this.found!==!0){switch(t.type){case"Lookahead":this.visitLookahead(t);return;case"NegativeLookahead":this.visitNegativeLookahead(t);return}super.visitChildren(t)}}visitCharacter(t){Ri(this.targetCharCodes,t.value)&&(this.found=!0)}visitSet(t){t.complement?gfe(t,this.targetCharCodes)===void 0&&(this.found=!0):gfe(t,this.targetCharCodes)!==void 0&&(this.found=!0)}};function Fk(e,t){if(t instanceof RegExp){let r=A7(t),o=new UU(e);return o.visit(r),o.found}else return Tm(t,r=>Ri(e,r.charCodeAt(0)))!==void 0}var q2="PATTERN",D7="defaultMode",Wk="modes",jU=typeof new RegExp("(?:)").sticky=="boolean";function Sfe(e,t){t=_7(t,{useSticky:jU,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(S,w)=>w()});let r=t.tracer;r("initCharCodeToOptimizedIndexMap",()=>{Ant()});let o;r("Reject Lexer.NA",()=>{o=u0(e,S=>S[q2]===Hn.NA)});let i=!1,n;r("Transform Patterns",()=>{i=!1,n=Ke(o,S=>{let w=S[q2];if(sp(w)){let _=w.source;return _.length===1&&_!=="^"&&_!=="$"&&_!=="."&&!w.ignoreCase?_:_.length===2&&_[0]==="\\"&&!Ri(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],_[1])?_[1]:t.useSticky?vfe(w):bfe(w)}else{if(El(w))return i=!0,{exec:w};if(typeof w=="object")return i=!0,w;if(typeof w=="string"){if(w.length===1)return w;{let _=w.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),E=new RegExp(_);return t.useSticky?vfe(E):bfe(E)}}else throw Error("non exhaustive match")}})});let s,a,l,c,u;r("misc mapping",()=>{s=Ke(o,S=>S.tokenTypeIdx),a=Ke(o,S=>{let w=S.GROUP;if(w!==Hn.SKIPPED){if(Ds(w))return w;if(Ja(w))return!1;throw Error("non exhaustive match")}}),l=Ke(o,S=>{let w=S.LONGER_ALT;if(w)return gt(w)?Ke(w,E=>Ak(o,E)):[Ak(o,w)]}),c=Ke(o,S=>S.PUSH_MODE),u=Ke(o,S=>dt(S,"POP_MODE"))});let p;r("Line Terminator Handling",()=>{let S=Mfe(t.lineTerminatorCharacters);p=Ke(o,w=>!1),t.positionTracking!=="onlyOffset"&&(p=Ke(o,w=>dt(w,"LINE_BREAKS")?!!w.LINE_BREAKS:Efe(w,S)===!1&&Fk(S,w.PATTERN)))});let m,h,f,x;r("Misc Mapping #2",()=>{m=Ke(o,kfe),h=Ke(n,Ent),f=hs(o,(S,w)=>{let _=w.GROUP;return Ds(_)&&_!==Hn.SKIPPED&&(S[_]=[]),S},{}),x=Ke(n,(S,w)=>({pattern:n[w],longerAlt:l[w],canLineTerminator:p[w],isCustom:m[w],short:h[w],group:a[w],push:c[w],pop:u[w],tokenTypeIdx:s[w],tokenType:o[w]}))});let v=!0,b=[];return t.safeMode||r("First Char Optimization",()=>{b=hs(o,(S,w,_)=>{if(typeof w.PATTERN=="string"){let E=w.PATTERN.charCodeAt(0),T=Em(E);RU(S,T,x[_])}else if(gt(w.START_CHARS_HINT)){let E;st(w.START_CHARS_HINT,T=>{let A=typeof T=="string"?T.charCodeAt(0):T,O=Em(A);E!==O&&(E=O,RU(S,O,x[_]))})}else if(sp(w.PATTERN))if(w.PATTERN.unicode)v=!1,t.ensureOptimizations&&T7(`${kb}	Unable to analyze < ${w.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let E=xfe(w.PATTERN,t.ensureOptimizations);mr(E)&&(v=!1),st(E,T=>{RU(S,T,x[_])})}else t.ensureOptimizations&&T7(`${kb}	TokenType: <${w.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),v=!1;return S},[])}),{emptyGroups:f,patternIdxToConfig:x,charCodeToPatternIdxToConfig:b,hasCustom:i,canBeOptimized:v}}function Cfe(e,t){let r=[],o=fnt(e);r=r.concat(o.errors);let i=hnt(o.valid),n=i.valid;return r=r.concat(i.errors),r=r.concat(mnt(n)),r=r.concat(Pnt(n)),r=r.concat(wnt(n,t)),r=r.concat(_nt(n)),r}function mnt(e){let t=[],r=Za(e,o=>sp(o[q2]));return t=t.concat(ynt(r)),t=t.concat(vnt(r)),t=t.concat(Snt(r)),t=t.concat(Cnt(r)),t=t.concat(xnt(r)),t}function fnt(e){let t=Za(e,i=>!dt(i,q2)),r=Ke(t,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:ji.MISSING_PATTERN,tokenTypes:[i]})),o=c0(e,t);return{errors:r,valid:o}}function hnt(e){let t=Za(e,i=>{let n=i[q2];return!sp(n)&&!El(n)&&!dt(n,"exec")&&!Ds(n)}),r=Ke(t,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:ji.INVALID_PATTERN,tokenTypes:[i]})),o=c0(e,t);return{errors:r,valid:o}}var gnt=/[^\\][$]/;function ynt(e){class t extends p0{constructor(){super(...arguments),this.found=!1}visitEndAnchor(n){this.found=!0}}let r=Za(e,i=>{let n=i.PATTERN;try{let s=A7(n),a=new t;return a.visit(s),a.found}catch{return gnt.test(n.source)}});return Ke(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:ji.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function xnt(e){let t=Za(e,o=>o.PATTERN.test(""));return Ke(t,o=>({message:"Token Type: ->"+o.name+"<- static 'PATTERN' must not match an empty string",type:ji.EMPTY_MATCH_PATTERN,tokenTypes:[o]}))}var bnt=/[^\\[][\^]|^\^/;function vnt(e){class t extends p0{constructor(){super(...arguments),this.found=!1}visitStartAnchor(n){this.found=!0}}let r=Za(e,i=>{let n=i.PATTERN;try{let s=A7(n),a=new t;return a.visit(s),a.found}catch{return bnt.test(n.source)}});return Ke(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:ji.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function Snt(e){let t=Za(e,o=>{let i=o[q2];return i instanceof RegExp&&(i.multiline||i.global)});return Ke(t,o=>({message:"Token Type: ->"+o.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:ji.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[o]}))}function Cnt(e){let t=[],r=Ke(e,n=>hs(e,(s,a)=>(n.PATTERN.source===a.PATTERN.source&&!Ri(t,a)&&a.PATTERN!==Hn.NA&&(t.push(a),s.push(a)),s),[]));r=_m(r);let o=Za(r,n=>n.length>1);return Ke(o,n=>{let s=Ke(n,l=>l.name);return{message:`The same RegExp pattern ->${ra(n).PATTERN}<-has been used in all of the following Token Types: ${s.join(", ")} <-`,type:ji.DUPLICATE_PATTERNS_FOUND,tokenTypes:n}})}function Pnt(e){let t=Za(e,o=>{if(!dt(o,"GROUP"))return!1;let i=o.GROUP;return i!==Hn.SKIPPED&&i!==Hn.NA&&!Ds(i)});return Ke(t,o=>({message:"Token Type: ->"+o.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:ji.INVALID_GROUP_TYPE_FOUND,tokenTypes:[o]}))}function wnt(e,t){let r=Za(e,i=>i.PUSH_MODE!==void 0&&!Ri(t,i.PUSH_MODE));return Ke(r,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:ji.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function _nt(e){let t=[],r=hs(e,(o,i,n)=>{let s=i.PATTERN;return s===Hn.NA||(Ds(s)?o.push({str:s,idx:n,tokenType:i}):sp(s)&&Tnt(s)&&o.push({str:s.source,idx:n,tokenType:i})),o},[]);return st(e,(o,i)=>{st(r,({str:n,idx:s,tokenType:a})=>{if(i<s&&knt(n,o.PATTERN)){let l=`Token: ->${a.name}<- can never be matched.
Because it appears AFTER the Token Type ->${o.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:l,type:ji.UNREACHABLE_PATTERN,tokenTypes:[o,a]})}})}),t}function knt(e,t){if(sp(t)){let r=t.exec(e);return r!==null&&r.index===0}else{if(El(t))return t(e,0,[],{});if(dt(t,"exec"))return t.exec(e,0,[],{});if(typeof t=="string")return t===e;throw Error("non exhaustive match")}}function Tnt(e){return Tm([".","\\","[","]","|","^","$","(",")","?","*","+","{"],r=>e.source.indexOf(r)!==-1)===void 0}function bfe(e){let t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function vfe(e){let t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function Pfe(e,t,r){let o=[];return dt(e,D7)||o.push({message:"A MultiMode Lexer cannot be initialized without a <"+D7+`> property in its definition
`,type:ji.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),dt(e,Wk)||o.push({message:"A MultiMode Lexer cannot be initialized without a <"+Wk+`> property in its definition
`,type:ji.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),dt(e,Wk)&&dt(e,D7)&&!dt(e.modes,e.defaultMode)&&o.push({message:`A MultiMode Lexer cannot be initialized with a ${D7}: <${e.defaultMode}>which does not exist
`,type:ji.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),dt(e,Wk)&&st(e.modes,(i,n)=>{st(i,(s,a)=>{if(Ja(s))o.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${n}> at index: <${a}>
`,type:ji.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(dt(s,"LONGER_ALT")){let l=gt(s.LONGER_ALT)?s.LONGER_ALT:[s.LONGER_ALT];st(l,c=>{!Ja(c)&&!Ri(i,c)&&o.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${c.name}> on token <${s.name}> outside of mode <${n}>
`,type:ji.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),o}function wfe(e,t,r){let o=[],i=!1,n=_m(Is(Ho(e.modes))),s=u0(n,l=>l[q2]===Hn.NA),a=Mfe(r);return t&&st(s,l=>{let c=Efe(l,a);if(c!==!1){let p={message:Mnt(l,c),type:c.issue,tokenType:l};o.push(p)}else dt(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(i=!0):Fk(a,l.PATTERN)&&(i=!0)}),t&&!i&&o.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:ji.NO_LINE_BREAKS_FLAGS}),o}function _fe(e){let t={},r=ui(e);return st(r,o=>{let i=e[o];if(gt(i))t[o]=[];else throw Error("non exhaustive match")}),t}function kfe(e){let t=e.PATTERN;if(sp(t))return!1;if(El(t))return!0;if(dt(t,"exec"))return!0;if(Ds(t))return!1;throw Error("non exhaustive match")}function Ent(e){return Ds(e)&&e.length===1?e.charCodeAt(0):!1}var Tfe={test:function(e){let t=e.length;for(let r=this.lastIndex;r<t;r++){let o=e.charCodeAt(r);if(o===10)return this.lastIndex=r+1,!0;if(o===13)return e.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};function Efe(e,t){if(dt(e,"LINE_BREAKS"))return!1;if(sp(e.PATTERN)){try{Fk(t,e.PATTERN)}catch(r){return{issue:ji.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(Ds(e.PATTERN))return!1;if(kfe(e))return{issue:ji.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function Mnt(e,t){if(t.issue===ji.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===ji.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function Mfe(e){return Ke(e,r=>Ds(r)?r.charCodeAt(0):r)}function RU(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}var I7=256,Vk=[];function Em(e){return e<I7?e:Vk[e]}function Ant(){if(mr(Vk)){Vk=new Array(65536);for(let e=0;e<65536;e++)Vk[e]=e>255?255+~~(e/255):e}}function sh(e,t){let r=e.tokenTypeIdx;return r===t.tokenTypeIdx?!0:t.isParent===!0&&t.categoryMatchesMap[r]===!0}function N7(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}var Afe=1,Dfe={};function ah(e){let t=Int(e);Dnt(t),Ont(t),Nnt(t),st(t,r=>{r.isParent=r.categoryMatches.length>0})}function Int(e){let t=di(e),r=e,o=!0;for(;o;){r=_m(Is(Ke(r,n=>n.CATEGORIES)));let i=c0(r,t);t=t.concat(i),mr(i)?o=!1:r=i}return t}function Dnt(e){st(e,t=>{GU(t)||(Dfe[Afe]=t,t.tokenTypeIdx=Afe++),Ife(t)&&!gt(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),Ife(t)||(t.CATEGORIES=[]),Lnt(t)||(t.categoryMatches=[]),Bnt(t)||(t.categoryMatchesMap={})})}function Nnt(e){st(e,t=>{t.categoryMatches=[],st(t.categoryMatchesMap,(r,o)=>{t.categoryMatches.push(Dfe[o].tokenTypeIdx)})})}function Ont(e){st(e,t=>{Nfe([],t)})}function Nfe(e,t){st(e,r=>{t.categoryMatchesMap[r.tokenTypeIdx]=!0}),st(t.CATEGORIES,r=>{let o=e.concat(t);Ri(o,r)||Nfe(o,r)})}function GU(e){return dt(e,"tokenTypeIdx")}function Ife(e){return dt(e,"CATEGORIES")}function Lnt(e){return dt(e,"categoryMatches")}function Bnt(e){return dt(e,"categoryMatchesMap")}function Ofe(e){return dt(e,"tokenTypeIdx")}var HU={buildUnableToPopLexerModeMessage(e){return`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(e,t,r,o,i){return`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`}};var ji;(function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(ji||(ji={}));var Tb={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:HU,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Tb);var Hn=class{constructor(t,r=Tb){if(this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,n)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;let s=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${s}--> <${i}>`);let{time:a,value:l}=vb(n),c=a>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&c(`${s}<-- <${i}> time: ${a}ms`),this.traceInitIndent--,l}else return n()},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=wa({},Tb,r);let o=this.config.traceInitPerf;o===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof o=="number"&&(this.traceInitMaxIdent=o,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,n=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Tb.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Tfe;else if(this.config.lineTerminatorCharacters===Tb.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),gt(t)?i={modes:{defaultMode:di(t)},defaultMode:D7}:(n=!1,i=di(t))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Pfe(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(wfe(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},st(i.modes,(a,l)=>{i.modes[l]=u0(a,c=>Ja(c))});let s=ui(i.modes);if(st(i.modes,(a,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Cfe(a,s))}),mr(this.lexerDefinitionErrors)){ah(a);let c;this.TRACE_INIT("analyzeTokenTypes",()=>{c=Sfe(a,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=c.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=c.charCodeToPatternIdxToConfig,this.emptyGroups=wa({},this.emptyGroups,c.emptyGroups),this.hasCustom=c.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=c.canBeOptimized}})}),this.defaultMode=i.defaultMode,!mr(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let l=Ke(this.lexerDefinitionErrors,c=>c.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}st(this.lexerDefinitionWarning,a=>{bb(a.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(jU?(this.chopInput=ip,this.match=this.matchWithTest):(this.updateLastIndex=sn,this.match=this.matchWithExec),n&&(this.handleModes=sn),this.trackStartLines===!1&&(this.computeNewColumn=ip),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=sn),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let a=hs(this.canModeBeOptimized,(l,c,u)=>(c===!1&&l.push(u),l),[]);if(r.ensureOptimizations&&!mr(a))throw Error(`Lexer Modes: < ${a.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{hfe()}),this.TRACE_INIT("toFastProperties",()=>{Sb(this)})})}tokenize(t,r=this.defaultMode){if(!mr(this.lexerDefinitionErrors)){let i=Ke(this.lexerDefinitionErrors,n=>n.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(t,r)}tokenizeInternal(t,r){let o,i,n,s,a,l,c,u,p,m,h,f,x,v,b,S,w=t,_=w.length,E=0,T=0,A=this.hasCustom?0:Math.floor(t.length/10),O=new Array(A),L=[],R=this.trackStartLines?1:void 0,z=this.trackStartLines?1:void 0,I=_fe(this.emptyGroups),F=this.trackStartLines,B=this.config.lineTerminatorsPattern,j=0,X=[],te=[],se=[],ue=[];Object.freeze(ue);let be;function ae(){return X}function he(at){let Ce=Em(at),yt=te[Ce];return yt===void 0?ue:yt}let fe=at=>{if(se.length===1&&at.tokenType.PUSH_MODE===void 0){let Ce=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(at);L.push({offset:at.startOffset,line:at.startLine,column:at.startColumn,length:at.image.length,message:Ce})}else{se.pop();let Ce=km(se);X=this.patternIdxToConfig[Ce],te=this.charCodeToPatternIdxToConfig[Ce],j=X.length;let yt=this.canModeBeOptimized[Ce]&&this.config.safeMode===!1;te&&yt?be=he:be=ae}};function ce(at){se.push(at),te=this.charCodeToPatternIdxToConfig[at],X=this.patternIdxToConfig[at],j=X.length,j=X.length;let Ce=this.canModeBeOptimized[at]&&this.config.safeMode===!1;te&&Ce?be=he:be=ae}ce.call(this,r);let Se,It=this.config.recoveryEnabled;for(;E<_;){l=null;let at=w.charCodeAt(E),Ce=be(at),yt=Ce.length;for(o=0;o<yt;o++){Se=Ce[o];let Zt=Se.pattern;c=null;let Gt=Se.short;if(Gt!==!1?at===Gt&&(l=Zt):Se.isCustom===!0?(S=Zt.exec(w,E,O,I),S!==null?(l=S[0],S.payload!==void 0&&(c=S.payload)):l=null):(this.updateLastIndex(Zt,E),l=this.match(Zt,t,E)),l!==null){if(a=Se.longerAlt,a!==void 0){let oo=a.length;for(n=0;n<oo;n++){let On=X[a[n]],Gs=On.pattern;if(u=null,On.isCustom===!0?(S=Gs.exec(w,E,O,I),S!==null?(s=S[0],S.payload!==void 0&&(u=S.payload)):s=null):(this.updateLastIndex(Gs,E),s=this.match(Gs,t,E)),s&&s.length>l.length){l=s,c=u,Se=On;break}}}break}}if(l!==null){if(p=l.length,m=Se.group,m!==void 0&&(h=Se.tokenTypeIdx,f=this.createTokenInstance(l,E,h,Se.tokenType,R,z,p),this.handlePayload(f,c),m===!1?T=this.addToken(O,T,f):I[m].push(f)),t=this.chopInput(t,p),E=E+p,z=this.computeNewColumn(z,p),F===!0&&Se.canLineTerminator===!0){let Zt=0,Gt,oo;B.lastIndex=0;do Gt=B.test(l),Gt===!0&&(oo=B.lastIndex-1,Zt++);while(Gt===!0);Zt!==0&&(R=R+Zt,z=p-oo,this.updateTokenEndLineColumnLocation(f,m,oo,Zt,R,z,p))}this.handleModes(Se,fe,ce,f)}else{let Zt=E,Gt=R,oo=z,On=It===!1;for(;On===!1&&E<_;)for(t=this.chopInput(t,1),E++,i=0;i<j;i++){let Gs=X[i],io=Gs.pattern,Fr=Gs.short;if(Fr!==!1?w.charCodeAt(E)===Fr&&(On=!0):Gs.isCustom===!0?On=io.exec(w,E,O,I)!==null:(this.updateLastIndex(io,E),On=io.exec(t)!==null),On===!0)break}if(x=E-Zt,z=this.computeNewColumn(z,x),b=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(w,Zt,x,Gt,oo),L.push({offset:Zt,line:Gt,column:oo,length:x,message:b}),It===!1)break}}return this.hasCustom||(O.length=T),{tokens:O,groups:I,errors:L}}handleModes(t,r,o,i){if(t.pop===!0){let n=t.push;r(i),n!==void 0&&o.call(this,n)}else t.push!==void 0&&o.call(this,t.push)}chopInput(t,r){return t.substring(r)}updateLastIndex(t,r){t.lastIndex=r}updateTokenEndLineColumnLocation(t,r,o,i,n,s,a){let l,c;r!==void 0&&(l=o===a-1,c=l?-1:0,i===1&&l===!0||(t.endLine=n+c,t.endColumn=s-1+-c))}computeNewColumn(t,r){return t+r}createOffsetOnlyToken(t,r,o,i){return{image:t,startOffset:r,tokenTypeIdx:o,tokenType:i}}createStartOnlyToken(t,r,o,i,n,s){return{image:t,startOffset:r,startLine:n,startColumn:s,tokenTypeIdx:o,tokenType:i}}createFullToken(t,r,o,i,n,s,a){return{image:t,startOffset:r,endOffset:r+a-1,startLine:n,endLine:n,startColumn:s,endColumn:s+a-1,tokenTypeIdx:o,tokenType:i}}addTokenUsingPush(t,r,o){return t.push(o),r}addTokenUsingMemberAccess(t,r,o){return t[r]=o,r++,r}handlePayloadNoCustom(t,r){}handlePayloadWithCustom(t,r){r!==null&&(t.payload=r)}matchWithTest(t,r,o){return t.test(r)===!0?r.substring(o,t.lastIndex):null}matchWithExec(t,r){let o=t.exec(r);return o!==null?o[0]:null}};Hn.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";Hn.NA=/NOT_APPLICABLE/;function $2(e){return zU(e)?e.LABEL:e.name}function zU(e){return Ds(e.LABEL)&&e.LABEL!==""}var Fnt="parent",Lfe="categories",Bfe="label",Ffe="group",Wfe="push_mode",Vfe="pop_mode",Ufe="longer_alt",Rfe="line_breaks",jfe="start_chars_hint";function ap(e){return Wnt(e)}function Wnt(e){let t=e.pattern,r={};if(r.name=e.name,Ja(t)||(r.PATTERN=t),dt(e,Fnt))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return dt(e,Lfe)&&(r.CATEGORIES=e[Lfe]),ah([r]),dt(e,Bfe)&&(r.LABEL=e[Bfe]),dt(e,Ffe)&&(r.GROUP=e[Ffe]),dt(e,Vfe)&&(r.POP_MODE=e[Vfe]),dt(e,Wfe)&&(r.PUSH_MODE=e[Wfe]),dt(e,Ufe)&&(r.LONGER_ALT=e[Ufe]),dt(e,Rfe)&&(r.LINE_BREAKS=e[Rfe]),dt(e,jfe)&&(r.START_CHARS_HINT=e[jfe]),r}var id=ap({name:"EOF",pattern:Hn.NA});ah([id]);function Z2(e,t,r,o,i,n,s,a){return{image:t,startOffset:r,endOffset:o,startLine:i,endLine:n,startColumn:s,endColumn:a,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function XU(e,t){return sh(e,t)}var Uk={buildMismatchTokenMessage({expected:e,actual:t,previous:r,ruleName:o}){return`Expecting ${zU(e)?`--> ${$2(e)} <--`:`token of type --> ${e.name} <--`} but found --> '${t.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:e,ruleName:t}){return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:r,customUserDescription:o,ruleName:i}){let n="Expecting: ",a=`
but found: '`+ra(t).image+"'";if(o)return n+o+a;{let l=hs(e,(m,h)=>m.concat(h),[]),c=Ke(l,m=>`[${Ke(m,h=>$2(h)).join(", ")}]`),p=`one of these possible Token sequences:
${Ke(c,(m,h)=>`  ${h+1}. ${m}`).join(`
`)}`;return n+p+a}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r,ruleName:o}){let i="Expecting: ",s=`
but found: '`+ra(t).image+"'";if(r)return i+r+s;{let l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${Ke(e,c=>`[${Ke(c,u=>$2(u)).join(",")}]`).join(" ,")}>`;return i+l+s}}};Object.freeze(Uk);var Gfe={buildRuleNotFoundError(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-"}},nd={buildDuplicateFoundError(e,t){function r(u){return u instanceof Lr?u.terminalType.name:u instanceof mi?u.nonTerminalName:""}let o=e.name,i=ra(t),n=i.idx,s=xc(i),a=r(i),l=n>0,c=`->${s}${l?n:""}<- ${a?`with argument: ->${a}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${o}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,`
`),c},buildNamespaceConflictError(e){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(e){let t=Ke(e.prefixPath,i=>$2(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(e){let t=Ke(e.prefixPath,i=>$2(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx,o=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return o=o+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,o},buildEmptyRepetitionError(e){let t=xc(e.repetition);return e.repetition.idx!==0&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(e){return"deprecated"},buildEmptyAlternationError(e){return`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(e){return`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(e){let t=e.topLevelRule.name,r=Ke(e.leftRecursionPath,n=>n.name),o=`${t} --> ${r.concat([t]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${o}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(e){return"deprecated"},buildDuplicateRuleNameError(e){let t;return e.topLevelRule instanceof Al?t=e.topLevelRule.name:t=e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};function Hfe(e,t){let r=new YU(e,t);return r.resolveRefs(),r.errors}var YU=class extends Il{constructor(t,r){super(),this.nameToTopRule=t,this.errMsgProvider=r,this.errors=[]}resolveRefs(){st(Ho(this.nameToTopRule),t=>{this.currTopLevel=t,t.accept(this)})}visitNonTerminal(t){let r=this.nameToTopRule[t.nonTerminalName];if(r)t.referencedRule=r;else{let o=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:o,type:Ns.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}};var qU=class extends nh{constructor(t,r){super(),this.topProd=t,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=di(this.path.ruleStack).reverse(),this.occurrenceStack=di(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,r=[]){this.found||super.walk(t,r)}walkProdRef(t,r,o){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){let i=r.concat(o);this.updateExpectedNext(),this.walk(t.referencedRule,i)}}updateExpectedNext(){mr(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},Rk=class extends qU{constructor(t,r){super(t,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,r,o){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){let i=r.concat(o),n=new fi({definition:i});this.possibleTokTypes=X2(n),this.found=!0}}},O7=class extends nh{constructor(t,r){super(),this.topRule=t,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},jk=class extends O7{walkMany(t,r,o){if(t.idx===this.occurrence){let i=ra(r.concat(o));this.result.isEndOfRule=i===void 0,i instanceof Lr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(t,r,o)}},Eb=class extends O7{walkManySep(t,r,o){if(t.idx===this.occurrence){let i=ra(r.concat(o));this.result.isEndOfRule=i===void 0,i instanceof Lr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(t,r,o)}},Gk=class extends O7{walkAtLeastOne(t,r,o){if(t.idx===this.occurrence){let i=ra(r.concat(o));this.result.isEndOfRule=i===void 0,i instanceof Lr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(t,r,o)}},Mb=class extends O7{walkAtLeastOneSep(t,r,o){if(t.idx===this.occurrence){let i=ra(r.concat(o));this.result.isEndOfRule=i===void 0,i instanceof Lr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(t,r,o)}};function Hk(e,t,r=[]){r=di(r);let o=[],i=0;function n(a){return a.concat(Rn(e,i+1))}function s(a){let l=Hk(n(a),t,r);return o.concat(l)}for(;r.length<t&&i<e.length;){let a=e[i];if(a instanceof fi)return s(a.definition);if(a instanceof mi)return s(a.definition);if(a instanceof _i)o=s(a.definition);else if(a instanceof jn){let l=a.definition.concat([new bo({definition:a.definition})]);return s(l)}else if(a instanceof Gn){let l=[new fi({definition:a.definition}),new bo({definition:[new Lr({terminalType:a.separator})].concat(a.definition)})];return s(l)}else if(a instanceof Cn){let l=a.definition.concat([new bo({definition:[new Lr({terminalType:a.separator})].concat(a.definition)})]);o=s(l)}else if(a instanceof bo){let l=a.definition.concat([new bo({definition:a.definition})]);o=s(l)}else{if(a instanceof Pn)return st(a.definition,l=>{mr(l.definition)===!1&&(o=s(l.definition))}),o;if(a instanceof Lr)r.push(a.terminalType);else throw Error("non exhaustive match")}i++}return o.push({partialPath:r,suffixDef:Rn(e,i)}),o}function zk(e,t,r,o){let i="EXIT_NONE_TERMINAL",n=[i],s="EXIT_ALTERNATIVE",a=!1,l=t.length,c=l-o-1,u=[],p=[];for(p.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!mr(p);){let m=p.pop();if(m===s){a&&km(p).idx<=c&&p.pop();continue}let h=m.def,f=m.idx,x=m.ruleStack,v=m.occurrenceStack;if(mr(h))continue;let b=h[0];if(b===i){let S={idx:f,def:Rn(h),ruleStack:ih(x),occurrenceStack:ih(v)};p.push(S)}else if(b instanceof Lr)if(f<l-1){let S=f+1,w=t[S];if(r(w,b.terminalType)){let _={idx:S,def:Rn(h),ruleStack:x,occurrenceStack:v};p.push(_)}}else if(f===l-1)u.push({nextTokenType:b.terminalType,nextTokenOccurrence:b.idx,ruleStack:x,occurrenceStack:v}),a=!0;else throw Error("non exhaustive match");else if(b instanceof mi){let S=di(x);S.push(b.nonTerminalName);let w=di(v);w.push(b.idx);let _={idx:f,def:b.definition.concat(n,Rn(h)),ruleStack:S,occurrenceStack:w};p.push(_)}else if(b instanceof _i){let S={idx:f,def:Rn(h),ruleStack:x,occurrenceStack:v};p.push(S),p.push(s);let w={idx:f,def:b.definition.concat(Rn(h)),ruleStack:x,occurrenceStack:v};p.push(w)}else if(b instanceof jn){let S=new bo({definition:b.definition,idx:b.idx}),w=b.definition.concat([S],Rn(h)),_={idx:f,def:w,ruleStack:x,occurrenceStack:v};p.push(_)}else if(b instanceof Gn){let S=new Lr({terminalType:b.separator}),w=new bo({definition:[S].concat(b.definition),idx:b.idx}),_=b.definition.concat([w],Rn(h)),E={idx:f,def:_,ruleStack:x,occurrenceStack:v};p.push(E)}else if(b instanceof Cn){let S={idx:f,def:Rn(h),ruleStack:x,occurrenceStack:v};p.push(S),p.push(s);let w=new Lr({terminalType:b.separator}),_=new bo({definition:[w].concat(b.definition),idx:b.idx}),E=b.definition.concat([_],Rn(h)),T={idx:f,def:E,ruleStack:x,occurrenceStack:v};p.push(T)}else if(b instanceof bo){let S={idx:f,def:Rn(h),ruleStack:x,occurrenceStack:v};p.push(S),p.push(s);let w=new bo({definition:b.definition,idx:b.idx}),_=b.definition.concat([w],Rn(h)),E={idx:f,def:_,ruleStack:x,occurrenceStack:v};p.push(E)}else if(b instanceof Pn)for(let S=b.definition.length-1;S>=0;S--){let w=b.definition[S],_={idx:f,def:w.definition.concat(Rn(h)),ruleStack:x,occurrenceStack:v};p.push(_),p.push(s)}else if(b instanceof fi)p.push({idx:f,def:b.definition.concat(Rn(h)),ruleStack:x,occurrenceStack:v});else if(b instanceof Al)p.push(Vnt(b,f,x,v));else throw Error("non exhaustive match")}return u}function Vnt(e,t,r,o){let i=di(r);i.push(e.name);let n=di(o);return n.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:n}}var an;(function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"})(an||(an={}));function Yk(e){if(e instanceof _i||e==="Option")return an.OPTION;if(e instanceof bo||e==="Repetition")return an.REPETITION;if(e instanceof jn||e==="RepetitionMandatory")return an.REPETITION_MANDATORY;if(e instanceof Gn||e==="RepetitionMandatoryWithSeparator")return an.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof Cn||e==="RepetitionWithSeparator")return an.REPETITION_WITH_SEPARATOR;if(e instanceof Pn||e==="Alternation")return an.ALTERNATION;throw Error("non exhaustive match")}function Xfe(e,t,r,o,i,n){let s=Ab(e,t,r),a=Kfe(s)?N7:sh;return n(s,o,a,i)}function Yfe(e,t,r,o,i,n){let s=Ib(e,t,i,r),a=Kfe(s)?N7:sh;return n(s[0],a,o)}function qfe(e,t,r,o){let i=e.length,n=$a(e,s=>$a(s,a=>a.length===1));if(t)return function(s){let a=Ke(s,l=>l.GATE);for(let l=0;l<i;l++){let c=e[l],u=c.length,p=a[l];if(!(p!==void 0&&p.call(this)===!1))e:for(let m=0;m<u;m++){let h=c[m],f=h.length;for(let x=0;x<f;x++){let v=this.LA(x+1);if(r(v,h[x])===!1)continue e}return l}}};if(n&&!o){let s=Ke(e,l=>Is(l)),a=hs(s,(l,c,u)=>(st(c,p=>{dt(l,p.tokenTypeIdx)||(l[p.tokenTypeIdx]=u),st(p.categoryMatches,m=>{dt(l,m)||(l[m]=u)})}),l),{});return function(){let l=this.LA(1);return a[l.tokenTypeIdx]}}else return function(){for(let s=0;s<i;s++){let a=e[s],l=a.length;e:for(let c=0;c<l;c++){let u=a[c],p=u.length;for(let m=0;m<p;m++){let h=this.LA(m+1);if(r(h,u[m])===!1)continue e}return s}}}}function $fe(e,t,r){let o=$a(e,n=>n.length===1),i=e.length;if(o&&!r){let n=Is(e);if(n.length===1&&mr(n[0].categoryMatches)){let a=n[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}else{let s=hs(n,(a,l,c)=>(a[l.tokenTypeIdx]=!0,st(l.categoryMatches,u=>{a[u]=!0}),a),[]);return function(){let a=this.LA(1);return s[a.tokenTypeIdx]===!0}}}else return function(){e:for(let n=0;n<i;n++){let s=e[n],a=s.length;for(let l=0;l<a;l++){let c=this.LA(l+1);if(t(c,s[l])===!1)continue e}return!0}return!1}}var ZU=class extends nh{constructor(t,r,o){super(),this.topProd=t,this.targetOccurrence=r,this.targetProdType=o}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,r,o,i){return t.idx===this.targetOccurrence&&this.targetProdType===r?(this.restDef=o.concat(i),!0):!1}walkOption(t,r,o){this.checkIsTarget(t,an.OPTION,r,o)||super.walkOption(t,r,o)}walkAtLeastOne(t,r,o){this.checkIsTarget(t,an.REPETITION_MANDATORY,r,o)||super.walkOption(t,r,o)}walkAtLeastOneSep(t,r,o){this.checkIsTarget(t,an.REPETITION_MANDATORY_WITH_SEPARATOR,r,o)||super.walkOption(t,r,o)}walkMany(t,r,o){this.checkIsTarget(t,an.REPETITION,r,o)||super.walkOption(t,r,o)}walkManySep(t,r,o){this.checkIsTarget(t,an.REPETITION_WITH_SEPARATOR,r,o)||super.walkOption(t,r,o)}},Xk=class extends Il{constructor(t,r,o){super(),this.targetOccurrence=t,this.targetProdType=r,this.targetRef=o,this.result=[]}checkIsTarget(t,r){t.idx===this.targetOccurrence&&this.targetProdType===r&&(this.targetRef===void 0||t===this.targetRef)&&(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,an.OPTION)}visitRepetition(t){this.checkIsTarget(t,an.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,an.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,an.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,an.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,an.ALTERNATION)}};function zfe(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function $U(e){let t=[""];for(let r=0;r<e.length;r++){let o=e[r],i=[];for(let n=0;n<t.length;n++){let s=t[n];i.push(s+"_"+o.tokenTypeIdx);for(let a=0;a<o.categoryMatches.length;a++){let l="_"+o.categoryMatches[a];i.push(s+l)}}t=i}return t}function Unt(e,t,r){for(let o=0;o<e.length;o++){if(o===r)continue;let i=e[o];for(let n=0;n<t.length;n++){let s=t[n];if(i[s]===!0)return!1}}return!0}function Zfe(e,t){let r=Ke(e,s=>Hk([s],1)),o=zfe(r.length),i=Ke(r,s=>{let a={};return st(s,l=>{let c=$U(l.partialPath);st(c,u=>{a[u]=!0})}),a}),n=r;for(let s=1;s<=t;s++){let a=n;n=zfe(a.length);for(let l=0;l<a.length;l++){let c=a[l];for(let u=0;u<c.length;u++){let p=c[u].partialPath,m=c[u].suffixDef,h=$U(p);if(Unt(i,h,l)||mr(m)||p.length===t){let x=o[l];if(qk(x,p)===!1){x.push(p);for(let v=0;v<h.length;v++){let b=h[v];i[l][b]=!0}}}else{let x=Hk(m,s+1,p);n[l]=n[l].concat(x),st(x,v=>{let b=$U(v.partialPath);st(b,S=>{i[l][S]=!0})})}}}}return o}function Ab(e,t,r,o){let i=new Xk(e,an.ALTERNATION,o);return t.accept(i),Zfe(i.result,r)}function Ib(e,t,r,o){let i=new Xk(e,r);t.accept(i);let n=i.result,a=new ZU(t,e,r).startWalking(),l=new fi({definition:n}),c=new fi({definition:a});return Zfe([l,c],o)}function qk(e,t){e:for(let r=0;r<e.length;r++){let o=e[r];if(o.length===t.length){for(let i=0;i<o.length;i++){let n=t[i],s=o[i];if((n===s||s.categoryMatchesMap[n.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function Jfe(e,t){return e.length<t.length&&$a(e,(r,o)=>{let i=t[o];return r===i||i.categoryMatchesMap[r.tokenTypeIdx]})}function Kfe(e){return $a(e,t=>$a(t,r=>$a(r,o=>mr(o.categoryMatches))))}function Qfe(e){let t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return Ke(t,r=>Object.assign({type:Ns.CUSTOM_LOOKAHEAD_VALIDATION},r))}function ehe(e,t,r,o){let i=Ml(e,l=>Rnt(l,r)),n=Ynt(e,t,r),s=Ml(e,l=>Hnt(l,r)),a=Ml(e,l=>Gnt(l,e,o,r));return i.concat(n,s,a)}function Rnt(e,t){let r=new JU;e.accept(r);let o=r.allProductions,i=DU(o,jnt),n=yc(i,a=>a.length>1);return Ke(Ho(n),a=>{let l=ra(a),c=t.buildDuplicateFoundError(e,a),u=xc(l),p={message:c,type:Ns.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:u,occurrence:l.idx},m=the(l);return m&&(p.parameter=m),p})}function jnt(e){return`${xc(e)}_#_${e.idx}_#_${the(e)}`}function the(e){return e instanceof Lr?e.terminalType.name:e instanceof mi?e.nonTerminalName:""}var JU=class extends Il{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}};function Gnt(e,t,r,o){let i=[];if(hs(t,(s,a)=>a.name===e.name?s+1:s,0)>1){let s=o.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});i.push({message:s,type:Ns.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}function rhe(e,t,r){let o=[],i;return Ri(t,e)||(i=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,o.push({message:i,type:Ns.INVALID_RULE_OVERRIDE,ruleName:e})),o}function QU(e,t,r,o=[]){let i=[],n=$k(t.definition);if(mr(n))return[];{let s=e.name;Ri(n,e)&&i.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:o}),type:Ns.LEFT_RECURSION,ruleName:s});let l=c0(n,o.concat([e])),c=Ml(l,u=>{let p=di(o);return p.push(u),QU(e,u,r,p)});return i.concat(c)}}function $k(e){let t=[];if(mr(e))return t;let r=ra(e);if(r instanceof mi)t.push(r.referencedRule);else if(r instanceof fi||r instanceof _i||r instanceof jn||r instanceof Gn||r instanceof Cn||r instanceof bo)t=t.concat($k(r.definition));else if(r instanceof Pn)t=Is(Ke(r.definition,n=>$k(n.definition)));else if(!(r instanceof Lr))throw Error("non exhaustive match");let o=z2(r),i=e.length>1;if(o&&i){let n=Rn(e);return t.concat($k(n))}else return t}var Db=class extends Il{constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}};function ohe(e,t){let r=new Db;e.accept(r);let o=r.alternations;return Ml(o,n=>{let s=ih(n.definition);return Ml(s,(a,l)=>{let c=zk([a],[],sh,1);return mr(c)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:n,emptyChoiceIdx:l}),type:Ns.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:n.idx,alternative:l+1}]:[]})})}function ihe(e,t,r){let o=new Db;e.accept(o);let i=o.alternations;return i=u0(i,s=>s.ignoreAmbiguities===!0),Ml(i,s=>{let a=s.idx,l=s.maxLookahead||t,c=Ab(a,e,l,s),u=znt(c,s,e,r),p=Xnt(c,s,e,r);return u.concat(p)})}var KU=class extends Il{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}};function Hnt(e,t){let r=new Db;e.accept(r);let o=r.alternations;return Ml(o,n=>n.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:n}),type:Ns.TOO_MANY_ALTS,ruleName:e.name,occurrence:n.idx}]:[])}function nhe(e,t,r){let o=[];return st(e,i=>{let n=new KU;i.accept(n);let s=n.allProductions;st(s,a=>{let l=Yk(a),c=a.maxLookahead||t,u=a.idx,m=Ib(u,i,l,c)[0];if(mr(Is(m))){let h=r.buildEmptyRepetitionError({topLevelRule:i,repetition:a});o.push({message:h,type:Ns.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),o}function znt(e,t,r,o){let i=[],n=hs(e,(a,l,c)=>(t.definition[c].ignoreAmbiguities===!0||st(l,u=>{let p=[c];st(e,(m,h)=>{c!==h&&qk(m,u)&&t.definition[h].ignoreAmbiguities!==!0&&p.push(h)}),p.length>1&&!qk(i,u)&&(i.push(u),a.push({alts:p,path:u}))}),a),[]);return Ke(n,a=>{let l=Ke(a.alts,u=>u+1);return{message:o.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:l,prefixPath:a.path}),type:Ns.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:a.alts}})}function Xnt(e,t,r,o){let i=hs(e,(s,a,l)=>{let c=Ke(a,u=>({idx:l,path:u}));return s.concat(c)},[]);return _m(Ml(i,s=>{if(t.definition[s.idx].ignoreAmbiguities===!0)return[];let l=s.idx,c=s.path,u=Za(i,m=>t.definition[m.idx].ignoreAmbiguities!==!0&&m.idx<l&&Jfe(m.path,c));return Ke(u,m=>{let h=[m.idx+1,l+1],f=t.idx===0?"":t.idx;return{message:o.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:h,prefixPath:m.path}),type:Ns.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:f,alternatives:h}})}))}function Ynt(e,t,r){let o=[],i=Ke(t,n=>n.name);return st(e,n=>{let s=n.name;if(Ri(i,s)){let a=r.buildNamespaceConflictError(n);o.push({message:a,type:Ns.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:s})}}),o}function she(e){let t=_7(e,{errMsgProvider:Gfe}),r={};return st(e.rules,o=>{r[o.name]=o}),Hfe(r,t.errMsgProvider)}function ahe(e){return e=_7(e,{errMsgProvider:nd}),ehe(e.rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}var lhe="MismatchedTokenException",che="NoViableAltException",uhe="EarlyExitException",phe="NotAllInputParsedException",dhe=[lhe,che,uhe,phe];Object.freeze(dhe);function d0(e){return Ri(dhe,e.name)}var L7=class extends Error{constructor(t,r){super(t),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},J2=class extends L7{constructor(t,r,o){super(t,r),this.previousToken=o,this.name=lhe}},Nb=class extends L7{constructor(t,r,o){super(t,r),this.previousToken=o,this.name=che}},Ob=class extends L7{constructor(t,r){super(t,r),this.name=phe}},Lb=class extends L7{constructor(t,r,o){super(t,r),this.previousToken=o,this.name=uhe}};var eR={},rR="InRuleRecoveryException",tR=class extends Error{constructor(t){super(t),this.name=rR}},Zk=class{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=dt(t,"recoveryEnabled")?t.recoveryEnabled:Dl.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=qnt)}getTokenToInsert(t){let r=Z2(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,r,o,i){let n=this.findReSyncTokenType(),s=this.exportLexerState(),a=[],l=!1,c=this.LA(1),u=this.LA(1),p=()=>{let m=this.LA(0),h=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:c,previous:m,ruleName:this.getCurrRuleFullName()}),f=new J2(h,c,this.LA(0));f.resyncedTokens=ih(a),this.SAVE_ERROR(f)};for(;!l;)if(this.tokenMatcher(u,i)){p();return}else if(o.call(this)){p(),t.apply(this,r);return}else this.tokenMatcher(u,n)?l=!0:(u=this.SKIP_TOKEN(),this.addToResyncTokens(u,a));this.importLexerState(s)}shouldInRepetitionRecoveryBeTried(t,r,o){return!(o===!1||this.tokenMatcher(this.LA(1),t)||this.isBackTracking()||this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,r)))}getFollowsForInRuleRecovery(t,r){let o=this.getCurrentGrammarPath(t,r);return this.getNextPossibleTokenTypes(o)}tryInRuleRecovery(t,r){if(this.canRecoverWithSingleTokenInsertion(t,r))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){let o=this.SKIP_TOKEN();return this.consumeToken(),o}throw new tR("sad sad panda")}canPerformInRuleRecovery(t,r){return this.canRecoverWithSingleTokenInsertion(t,r)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,r){if(!this.canTokenTypeBeInsertedInRecovery(t)||mr(r))return!1;let o=this.LA(1);return Tm(r,n=>this.tokenMatcher(o,n))!==void 0}canRecoverWithSingleTokenDeletion(t){return this.canTokenTypeBeDeletedInRecovery(t)?this.tokenMatcher(this.LA(2),t):!1}isInCurrentRuleReSyncSet(t){let r=this.getCurrFollowKey(),o=this.getFollowSetFromFollowKey(r);return Ri(o,t)}findReSyncTokenType(){let t=this.flattenFollowSet(),r=this.LA(1),o=2;for(;;){let i=Tm(t,n=>XU(r,n));if(i!==void 0)return i;r=this.LA(o),o++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return eR;let t=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),o=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(o)}}buildFullFollowKeyStack(){let t=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return Ke(t,(o,i)=>i===0?eR:{ruleName:this.shortRuleNameToFullName(o),idxInCallingRule:r[i],inRule:this.shortRuleNameToFullName(t[i-1])})}flattenFollowSet(){let t=Ke(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return Is(t)}getFollowSetFromFollowKey(t){if(t===eR)return[id];let r=t.ruleName+t.idxInCallingRule+Dk+t.inRule;return this.resyncFollows[r]}addToResyncTokens(t,r){return this.tokenMatcher(t,id)||r.push(t),r}reSyncTo(t){let r=[],o=this.LA(1);for(;this.tokenMatcher(o,t)===!1;)o=this.SKIP_TOKEN(),this.addToResyncTokens(o,r);return ih(r)}attemptInRepetitionRecovery(t,r,o,i,n,s,a){}getCurrentGrammarPath(t,r){let o=this.getHumanReadableRuleStack(),i=di(this.RULE_OCCURRENCE_STACK);return{ruleStack:o,occurrenceStack:i,lastTok:t,lastTokOccurrence:r}}getHumanReadableRuleStack(){return Ke(this.RULE_STACK,t=>this.shortRuleNameToFullName(t))}};function qnt(e,t,r,o,i,n,s){let a=this.getKeyForAutomaticLookahead(o,i),l=this.firstAfterRepMap[a];if(l===void 0){let m=this.getCurrRuleFullName(),h=this.getGAstProductions()[m];l=new n(h,i).startWalking(),this.firstAfterRepMap[a]=l}let c=l.token,u=l.occurrence,p=l.isEndOfRule;this.RULE_STACK.length===1&&p&&c===void 0&&(c=id,u=1),!(c===void 0||u===void 0)&&this.shouldInRepetitionRecoveryBeTried(c,u,s)&&this.tryInRepetitionRecovery(e,t,r,c)}function Jk(e,t,r){return r|t|e}var Bb=class{constructor(t){var r;this.maxLookahead=(r=t?.maxLookahead)!==null&&r!==void 0?r:Dl.maxLookahead}validate(t){let r=this.validateNoLeftRecursion(t.rules);if(mr(r)){let o=this.validateEmptyOrAlternatives(t.rules),i=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),n=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return[...r,...o,...i,...n]}return r}validateNoLeftRecursion(t){return Ml(t,r=>QU(r,r,nd))}validateEmptyOrAlternatives(t){return Ml(t,r=>ohe(r,nd))}validateAmbiguousAlternationAlternatives(t,r){return Ml(t,o=>ihe(o,r,nd))}validateSomeNonEmptyLookaheadPath(t,r){return nhe(t,r,nd)}buildLookaheadForAlternation(t){return Xfe(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,qfe)}buildLookaheadForOptional(t){return Yfe(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,Yk(t.prodType),$fe)}};var Qk=class{initLooksAhead(t){this.dynamicTokensEnabled=dt(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:Dl.dynamicTokensEnabled,this.maxLookahead=dt(t,"maxLookahead")?t.maxLookahead:Dl.maxLookahead,this.lookaheadStrategy=dt(t,"lookaheadStrategy")?t.lookaheadStrategy:new Bb({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){st(t,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{let{alternation:o,repetition:i,option:n,repetitionMandatory:s,repetitionMandatoryWithSeparator:a,repetitionWithSeparator:l}=$nt(r);st(o,c=>{let u=c.idx===0?"":c.idx;this.TRACE_INIT(`${xc(c)}${u}`,()=>{let p=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:c.idx,rule:r,maxLookahead:c.maxLookahead||this.maxLookahead,hasPredicates:c.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),m=Jk(this.fullRuleNameToShort[r.name],256,c.idx);this.setLaFuncCache(m,p)})}),st(i,c=>{this.computeLookaheadFunc(r,c.idx,768,"Repetition",c.maxLookahead,xc(c))}),st(n,c=>{this.computeLookaheadFunc(r,c.idx,512,"Option",c.maxLookahead,xc(c))}),st(s,c=>{this.computeLookaheadFunc(r,c.idx,1024,"RepetitionMandatory",c.maxLookahead,xc(c))}),st(a,c=>{this.computeLookaheadFunc(r,c.idx,1536,"RepetitionMandatoryWithSeparator",c.maxLookahead,xc(c))}),st(l,c=>{this.computeLookaheadFunc(r,c.idx,1280,"RepetitionWithSeparator",c.maxLookahead,xc(c))})})})}computeLookaheadFunc(t,r,o,i,n,s){this.TRACE_INIT(`${s}${r===0?"":r}`,()=>{let a=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:t,maxLookahead:n||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),l=Jk(this.fullRuleNameToShort[t.name],o,r);this.setLaFuncCache(l,a)})}getKeyForAutomaticLookahead(t,r){let o=this.getLastExplicitRuleShortName();return Jk(o,t,r)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,r){this.lookAheadFuncsCache.set(t,r)}},oR=class extends Il{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}},Kk=new oR;function $nt(e){Kk.reset(),e.accept(Kk);let t=Kk.dslMethods;return Kk.reset(),t}function sR(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function aR(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function mhe(e,t,r){e.children[r]===void 0?e.children[r]=[t]:e.children[r].push(t)}function fhe(e,t,r){e.children[t]===void 0?e.children[t]=[r]:e.children[t].push(r)}var Znt="name";function lR(e,t){Object.defineProperty(e,Znt,{enumerable:!1,configurable:!0,writable:!1,value:t})}function Jnt(e,t){let r=ui(e),o=r.length;for(let i=0;i<o;i++){let n=r[i],s=e[n],a=s.length;for(let l=0;l<a;l++){let c=s[l];c.tokenTypeIdx===void 0&&this[c.name](c.children,t)}}}function hhe(e,t){let r=function(){};lR(r,e+"BaseSemantics");let o={visit:function(i,n){if(gt(i)&&(i=i[0]),!Ja(i))return this[i.name](i.children,n)},validateVisitor:function(){let i=Knt(this,t);if(!mr(i)){let n=Ke(i,s=>s.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${n.join(`

`).replace(/\n/g,`
	`)}`)}}};return r.prototype=o,r.prototype.constructor=r,r._RULE_NAMES=t,r}function ghe(e,t,r){let o=function(){};lR(o,e+"BaseSemanticsWithDefaults");let i=Object.create(r.prototype);return st(t,n=>{i[n]=Jnt}),o.prototype=i,o.prototype.constructor=o,o}var cR;(function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"})(cR||(cR={}));function Knt(e,t){return Qnt(e,t)}function Qnt(e,t){let r=Za(t,i=>El(e[i])===!1),o=Ke(r,i=>({msg:`Missing visitor method: <${i}> on ${e.constructor.name} CST Visitor.`,type:cR.MISSING_METHOD,methodName:i}));return _m(o)}var oT=class{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=dt(t,"nodeLocationTracking")?t.nodeLocationTracking:Dl.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=sn,this.cstFinallyStateUpdate=sn,this.cstPostTerminal=sn,this.cstPostNonTerminal=sn,this.cstPostRule=sn;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=aR,this.setNodeLocationFromNode=aR,this.cstPostRule=sn,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=sn,this.setNodeLocationFromNode=sn,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=sR,this.setNodeLocationFromNode=sR,this.cstPostRule=sn,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=sn,this.setNodeLocationFromNode=sn,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=sn,this.setNodeLocationFromNode=sn,this.cstPostRule=sn,this.setInitialNodeLocation=sn;else throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){let r=this.LA(1);t.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){let r={name:t,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){let r=this.LA(0),o=t.location;o.startOffset<=r.startOffset?(o.endOffset=r.endOffset,o.endLine=r.endLine,o.endColumn=r.endColumn):(o.startOffset=NaN,o.startLine=NaN,o.startColumn=NaN)}cstPostRuleOnlyOffset(t){let r=this.LA(0),o=t.location;o.startOffset<=r.startOffset?o.endOffset=r.endOffset:o.startOffset=NaN}cstPostTerminal(t,r){let o=this.CST_STACK[this.CST_STACK.length-1];mhe(o,r,t),this.setNodeLocationFromToken(o.location,r)}cstPostNonTerminal(t,r){let o=this.CST_STACK[this.CST_STACK.length-1];fhe(o,r,t),this.setNodeLocationFromNode(o.location,t.location)}getBaseCstVisitorConstructor(){if(Ja(this.baseCstVisitorConstructor)){let t=hhe(this.className,ui(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Ja(this.baseCstVisitorWithDefaultsConstructor)){let t=ghe(this.className,ui(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){let t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){let t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}};var iT=class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):B7}LA(t){let r=this.currIdx+t;return r<0||this.tokVectorLength<=r?B7:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}};var nT=class{ACTION(t){return t.call(this)}consume(t,r,o){return this.consumeInternal(r,t,o)}subrule(t,r,o){return this.subruleInternal(r,t,o)}option(t,r){return this.optionInternal(r,t)}or(t,r){return this.orInternal(r,t)}many(t,r){return this.manyInternal(t,r)}atLeastOne(t,r){return this.atLeastOneInternal(t,r)}CONSUME(t,r){return this.consumeInternal(t,0,r)}CONSUME1(t,r){return this.consumeInternal(t,1,r)}CONSUME2(t,r){return this.consumeInternal(t,2,r)}CONSUME3(t,r){return this.consumeInternal(t,3,r)}CONSUME4(t,r){return this.consumeInternal(t,4,r)}CONSUME5(t,r){return this.consumeInternal(t,5,r)}CONSUME6(t,r){return this.consumeInternal(t,6,r)}CONSUME7(t,r){return this.consumeInternal(t,7,r)}CONSUME8(t,r){return this.consumeInternal(t,8,r)}CONSUME9(t,r){return this.consumeInternal(t,9,r)}SUBRULE(t,r){return this.subruleInternal(t,0,r)}SUBRULE1(t,r){return this.subruleInternal(t,1,r)}SUBRULE2(t,r){return this.subruleInternal(t,2,r)}SUBRULE3(t,r){return this.subruleInternal(t,3,r)}SUBRULE4(t,r){return this.subruleInternal(t,4,r)}SUBRULE5(t,r){return this.subruleInternal(t,5,r)}SUBRULE6(t,r){return this.subruleInternal(t,6,r)}SUBRULE7(t,r){return this.subruleInternal(t,7,r)}SUBRULE8(t,r){return this.subruleInternal(t,8,r)}SUBRULE9(t,r){return this.subruleInternal(t,9,r)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,r,o=F7){if(Ri(this.definedRulesNames,t)){let s={message:nd.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:Ns.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(s)}this.definedRulesNames.push(t);let i=this.defineRule(t,r,o);return this[t]=i,i}OVERRIDE_RULE(t,r,o=F7){let i=rhe(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);let n=this.defineRule(t,r,o);return this[t]=n,n}BACKTRACK(t,r){return function(){this.isBackTrackingStack.push(1);let o=this.saveRecogState();try{return t.apply(this,r),!0}catch(i){if(d0(i))return!1;throw i}finally{this.reloadRecogState(o),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return Ik(Ho(this.gastProductionsCache))}};var sT=class{initRecognizerEngine(t,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=N7,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},dt(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(gt(t)){if(mr(t))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof t[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(gt(t))this.tokensMap=hs(t,(n,s)=>(n[s.name]=s,n),{});else if(dt(t,"modes")&&$a(Is(Ho(t.modes)),Ofe)){let n=Is(Ho(t.modes)),s=k7(n);this.tokensMap=hs(s,(a,l)=>(a[l.name]=l,a),{})}else if(nn(t))this.tokensMap=di(t);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=id;let o=dt(t,"modes")?Is(Ho(t.modes)):Ho(t),i=$a(o,n=>mr(n.categoryMatches));this.tokenMatcher=i?N7:sh,ah(Ho(this.tokensMap))}defineRule(t,r,o){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let i=dt(o,"resyncEnabled")?o.resyncEnabled:F7.resyncEnabled,n=dt(o,"recoveryValueFunc")?o.recoveryValueFunc:F7.recoveryValueFunc,s=this.ruleShortNameIdx<<12;this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=t,this.fullRuleNameToShort[t]=s;let a;return this.outputCst===!0?a=function(...u){try{this.ruleInvocationStateUpdate(s,t,this.subruleIdx),r.apply(this,u);let p=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(p),p}catch(p){return this.invokeRuleCatch(p,i,n)}finally{this.ruleFinallyStateUpdate()}}:a=function(...u){try{return this.ruleInvocationStateUpdate(s,t,this.subruleIdx),r.apply(this,u)}catch(p){return this.invokeRuleCatch(p,i,n)}finally{this.ruleFinallyStateUpdate()}},Object.assign(a,{ruleName:t,originalGrammarAction:r})}invokeRuleCatch(t,r,o){let i=this.RULE_STACK.length===1,n=r&&!this.isBackTracking()&&this.recoveryEnabled;if(d0(t)){let s=t;if(n){let a=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(a))if(s.resyncedTokens=this.reSyncTo(a),this.outputCst){let l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return o(t);else{if(this.outputCst){let l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,s.partialCstResult=l}throw s}}else{if(i)return this.moveToTerminatedState(),o(t);throw s}}else throw t}optionInternal(t,r){let o=this.getKeyForAutomaticLookahead(512,r);return this.optionInternalLogic(t,r,o)}optionInternalLogic(t,r,o){let i=this.getLaFuncFromCache(o),n;if(typeof t!="function"){n=t.DEF;let s=t.GATE;if(s!==void 0){let a=i;i=()=>s.call(this)&&a.call(this)}}else n=t;if(i.call(this)===!0)return n.call(this)}atLeastOneInternal(t,r){let o=this.getKeyForAutomaticLookahead(1024,t);return this.atLeastOneInternalLogic(t,r,o)}atLeastOneInternalLogic(t,r,o){let i=this.getLaFuncFromCache(o),n;if(typeof r!="function"){n=r.DEF;let s=r.GATE;if(s!==void 0){let a=i;i=()=>s.call(this)&&a.call(this)}}else n=r;if(i.call(this)===!0){let s=this.doSingleRepetition(n);for(;i.call(this)===!0&&s===!0;)s=this.doSingleRepetition(n)}else throw this.raiseEarlyExitException(t,an.REPETITION_MANDATORY,r.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,r],i,1024,t,Gk)}atLeastOneSepFirstInternal(t,r){let o=this.getKeyForAutomaticLookahead(1536,t);this.atLeastOneSepFirstInternalLogic(t,r,o)}atLeastOneSepFirstInternalLogic(t,r,o){let i=r.DEF,n=r.SEP;if(this.getLaFuncFromCache(o).call(this)===!0){i.call(this);let a=()=>this.tokenMatcher(this.LA(1),n);for(;this.tokenMatcher(this.LA(1),n)===!0;)this.CONSUME(n),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,n,a,i,Mb],a,1536,t,Mb)}else throw this.raiseEarlyExitException(t,an.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG)}manyInternal(t,r){let o=this.getKeyForAutomaticLookahead(768,t);return this.manyInternalLogic(t,r,o)}manyInternalLogic(t,r,o){let i=this.getLaFuncFromCache(o),n;if(typeof r!="function"){n=r.DEF;let a=r.GATE;if(a!==void 0){let l=i;i=()=>a.call(this)&&l.call(this)}}else n=r;let s=!0;for(;i.call(this)===!0&&s===!0;)s=this.doSingleRepetition(n);this.attemptInRepetitionRecovery(this.manyInternal,[t,r],i,768,t,jk,s)}manySepFirstInternal(t,r){let o=this.getKeyForAutomaticLookahead(1280,t);this.manySepFirstInternalLogic(t,r,o)}manySepFirstInternalLogic(t,r,o){let i=r.DEF,n=r.SEP;if(this.getLaFuncFromCache(o).call(this)===!0){i.call(this);let a=()=>this.tokenMatcher(this.LA(1),n);for(;this.tokenMatcher(this.LA(1),n)===!0;)this.CONSUME(n),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,n,a,i,Eb],a,1280,t,Eb)}}repetitionSepSecondInternal(t,r,o,i,n){for(;o();)this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,r,o,i,n],o,1536,t,n)}doSingleRepetition(t){let r=this.getLexerPosition();return t.call(this),this.getLexerPosition()>r}orInternal(t,r){let o=this.getKeyForAutomaticLookahead(256,r),i=gt(t)?t:t.DEF,s=this.getLaFuncFromCache(o).call(this,i);if(s!==void 0)return i[s].ALT.call(this);this.raiseNoAltException(r,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){let t=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Ob(r,t))}}subruleInternal(t,r,o){let i;try{let n=o!==void 0?o.ARGS:void 0;return this.subruleIdx=r,i=t.apply(this,n),this.cstPostNonTerminal(i,o!==void 0&&o.LABEL!==void 0?o.LABEL:t.ruleName),i}catch(n){throw this.subruleInternalError(n,o,t.ruleName)}}subruleInternalError(t,r,o){throw d0(t)&&t.partialCstResult!==void 0&&(this.cstPostNonTerminal(t.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:o),delete t.partialCstResult),t}consumeInternal(t,r,o){let i;try{let n=this.LA(1);this.tokenMatcher(n,t)===!0?(this.consumeToken(),i=n):this.consumeInternalError(t,n,o)}catch(n){i=this.consumeInternalRecovery(t,r,n)}return this.cstPostTerminal(o!==void 0&&o.LABEL!==void 0?o.LABEL:t.name,i),i}consumeInternalError(t,r,o){let i,n=this.LA(0);throw o!==void 0&&o.ERR_MSG?i=o.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:r,previous:n,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new J2(i,r,n))}consumeInternalRecovery(t,r,o){if(this.recoveryEnabled&&o.name==="MismatchedTokenException"&&!this.isBackTracking()){let i=this.getFollowsForInRuleRecovery(t,r);try{return this.tryInRuleRecovery(t,i)}catch(n){throw n.name===rR?o:n}}else throw o}saveRecogState(){let t=this.errors,r=di(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,r,o){this.RULE_OCCURRENCE_STACK.push(o),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(r)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){let t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),id)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}};var aT=class{initErrorHandler(t){this._errors=[],this.errorMessageProvider=dt(t,"errorMessageProvider")?t.errorMessageProvider:Dl.errorMessageProvider}SAVE_ERROR(t){if(d0(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:di(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return di(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,r,o){let i=this.getCurrRuleFullName(),n=this.getGAstProductions()[i],a=Ib(t,n,r,this.maxLookahead)[0],l=[];for(let u=1;u<=this.maxLookahead;u++)l.push(this.LA(u));let c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:l,previous:this.LA(0),customUserDescription:o,ruleName:i});throw this.SAVE_ERROR(new Lb(c,this.LA(1),this.LA(0)))}raiseNoAltException(t,r){let o=this.getCurrRuleFullName(),i=this.getGAstProductions()[o],n=Ab(t,i,this.maxLookahead),s=[];for(let c=1;c<=this.maxLookahead;c++)s.push(this.LA(c));let a=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:n,actual:s,previous:a,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Nb(l,this.LA(1),a))}};var lT=class{initContentAssist(){}computeContentAssist(t,r){let o=this.gastProductionsCache[t];if(Ja(o))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return zk([o],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){let r=ra(t.ruleStack),i=this.getGAstProductions()[r];return new Rk(i,t).startWalking()}};var pT={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(pT);var yhe=!0,xhe=Math.pow(2,8)-1,vhe=ap({name:"RECORDING_PHASE_TOKEN",pattern:Hn.NA});ah([vhe]);var She=Z2(vhe,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(She);var tst={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},cT=class{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let t=0;t<10;t++){let r=t>0?t:"";this[`CONSUME${r}`]=function(o,i){return this.consumeInternalRecord(o,t,i)},this[`SUBRULE${r}`]=function(o,i){return this.subruleInternalRecord(o,t,i)},this[`OPTION${r}`]=function(o){return this.optionInternalRecord(o,t)},this[`OR${r}`]=function(o){return this.orInternalRecord(o,t)},this[`MANY${r}`]=function(o){this.manyInternalRecord(t,o)},this[`MANY_SEP${r}`]=function(o){this.manySepFirstInternalRecord(t,o)},this[`AT_LEAST_ONE${r}`]=function(o){this.atLeastOneInternalRecord(t,o)},this[`AT_LEAST_ONE_SEP${r}`]=function(o){this.atLeastOneSepFirstInternalRecord(t,o)}}this.consume=function(t,r,o){return this.consumeInternalRecord(r,t,o)},this.subrule=function(t,r,o){return this.subruleInternalRecord(r,t,o)},this.option=function(t,r){return this.optionInternalRecord(r,t)},this.or=function(t,r){return this.orInternalRecord(r,t)},this.many=function(t,r){this.manyInternalRecord(t,r)},this.atLeastOne=function(t,r){this.atLeastOneInternalRecord(t,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let t=this;for(let r=0;r<10;r++){let o=r>0?r:"";delete t[`CONSUME${o}`],delete t[`SUBRULE${o}`],delete t[`OPTION${o}`],delete t[`OR${o}`],delete t[`MANY${o}`],delete t[`MANY_SEP${o}`],delete t[`AT_LEAST_ONE${o}`],delete t[`AT_LEAST_ONE_SEP${o}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})}ACTION_RECORD(t){}BACKTRACK_RECORD(t,r){return()=>!0}LA_RECORD(t){return B7}topLevelRuleRecord(t,r){try{let o=new Al({definition:[],name:t});return o.name=t,this.recordingProdStack.push(o),r.call(this),this.recordingProdStack.pop(),o}catch(o){if(o.KNOWN_RECORDER_ERROR!==!0)try{o.message=o.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw o}throw o}}optionInternalRecord(t,r){return Wb.call(this,_i,t,r)}atLeastOneInternalRecord(t,r){Wb.call(this,jn,r,t)}atLeastOneSepFirstInternalRecord(t,r){Wb.call(this,Gn,r,t,yhe)}manyInternalRecord(t,r){Wb.call(this,bo,r,t)}manySepFirstInternalRecord(t,r){Wb.call(this,Cn,r,t,yhe)}orInternalRecord(t,r){return rst.call(this,t,r)}subruleInternalRecord(t,r,o){if(uT(r),!t||dt(t,"ruleName")===!1){let a=new Error(`<SUBRULE${bhe(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}let i=km(this.recordingProdStack),n=t.ruleName,s=new mi({idx:r,nonTerminalName:n,label:o?.LABEL,referencedRule:void 0});return i.definition.push(s),this.outputCst?tst:pT}consumeInternalRecord(t,r,o){if(uT(r),!GU(t)){let s=new Error(`<CONSUME${bhe(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw s.KNOWN_RECORDER_ERROR=!0,s}let i=km(this.recordingProdStack),n=new Lr({idx:r,terminalType:t,label:o?.LABEL});return i.definition.push(n),She}};function Wb(e,t,r,o=!1){uT(r);let i=km(this.recordingProdStack),n=El(t)?t:t.DEF,s=new e({definition:[],idx:r});return o&&(s.separator=t.SEP),dt(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(s),n.call(this),i.definition.push(s),this.recordingProdStack.pop(),pT}function rst(e,t){uT(t);let r=km(this.recordingProdStack),o=gt(e)===!1,i=o===!1?e:e.DEF,n=new Pn({definition:[],idx:t,ignoreAmbiguities:o&&e.IGNORE_AMBIGUITIES===!0});dt(e,"MAX_LOOKAHEAD")&&(n.maxLookahead=e.MAX_LOOKAHEAD);let s=xb(i,a=>El(a.GATE));return n.hasPredicates=s,r.definition.push(n),st(i,a=>{let l=new fi({definition:[]});n.definition.push(l),dt(a,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=a.IGNORE_AMBIGUITIES:dt(a,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),a.ALT.call(this),this.recordingProdStack.pop()}),pT}function bhe(e){return e===0?"":`${e}`}function uT(e){if(e<0||e>xhe){let t=new Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than ${xhe+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}var dT=class{initPerformanceTracer(t){if(dt(t,"traceInitPerf")){let r=t.traceInitPerf,o=typeof r=="number";this.traceInitMaxIdent=o?r:1/0,this.traceInitPerf=o?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=Dl.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,r){if(this.traceInitPerf===!0){this.traceInitIndent++;let o=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${o}--> <${t}>`);let{time:i,value:n}=vb(r),s=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(`${o}<-- <${t}> time: ${i}ms`),this.traceInitIndent--,n}else return r()}};function Che(e,t){t.forEach(r=>{let o=r.prototype;Object.getOwnPropertyNames(o).forEach(i=>{if(i==="constructor")return;let n=Object.getOwnPropertyDescriptor(o,i);n&&(n.get||n.set)?Object.defineProperty(e.prototype,i,n):e.prototype[i]=r.prototype[i]})})}var B7=Z2(id,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(B7);var Dl=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Uk,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),F7=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0}),Ns;(function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(Ns||(Ns={}));var Vb=class e{static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let t;this.selfAnalysisDone=!0;let r=this.className;this.TRACE_INIT("toFastProps",()=>{Sb(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),st(this.definedRulesNames,i=>{let s=this[i].originalGrammarAction,a;this.TRACE_INIT(`${i} Rule`,()=>{a=this.topLevelRuleRecord(i,s)}),this.gastProductionsCache[i]=a})}finally{this.disableRecording()}});let o=[];if(this.TRACE_INIT("Grammar Resolving",()=>{o=she({rules:Ho(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(o)}),this.TRACE_INIT("Grammar Validations",()=>{if(mr(o)&&this.skipValidations===!1){let i=ahe({rules:Ho(this.gastProductionsCache),tokenTypes:Ho(this.tokensMap),errMsgProvider:nd,grammarName:r}),n=Qfe({lookaheadStrategy:this.lookaheadStrategy,rules:Ho(this.gastProductionsCache),tokenTypes:Ho(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(i,n)}}),mr(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{let i=ffe(Ho(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,n;(n=(i=this.lookaheadStrategy).initialize)===null||n===void 0||n.call(i,{rules:Ho(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Ho(this.gastProductionsCache))})),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!mr(this.definitionErrors))throw t=Ke(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${t.join(`
-------------------------------
`)}`)})}constructor(t,r){this.definitionErrors=[],this.selfAnalysisDone=!1;let o=this;if(o.initErrorHandler(r),o.initLexerAdapter(),o.initLooksAhead(r),o.initRecognizerEngine(t,r),o.initRecoverable(r),o.initTreeBuilder(r),o.initContentAssist(),o.initGastRecorder(r),o.initPerformanceTracer(r),dt(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=dt(r,"skipValidations")?r.skipValidations:Dl.skipValidations}};Vb.DEFER_DEFINITION_ERRORS_HANDLING=!1;Che(Vb,[Zk,Qk,oT,iT,sT,nT,aT,lT,cT,dT]);var Ub=class extends Vb{constructor(t,r=Dl){let o=di(r);o.outputCst=!0,super(t,o)}};var ist=ap({name:"WhiteSpace",pattern:/\s+/,group:Hn.SKIPPED}),Phe=ap({name:"DecimalLiteral",pattern:/\d+[.,]\d*|\d*[.,]\d+/}),whe=ap({name:"IntegerLiteral",pattern:/\d+/}),_he=ap({name:"Identifier",pattern:/[a-zA-Z]+/}),khe=ap({name:"UnitSymbol",pattern:/|'|"/}),pR=ap({name:"Slash",pattern:/[/]/}),dR=ap({name:"PlusMinus",pattern:/[+-]/}),The=[ist,Phe,whe,_he,khe,pR,dR],Ehe=new Hn(The),m0=class extends Ub{constructor(){super(The);y(this,"expression",this.RULE("expression",()=>{this.OPTION(()=>this.CONSUME(dR,{LABEL:"FirstTermSign"})),this.SUBRULE(this.term,{LABEL:"FirstTerm"}),this.MANY(()=>{this.CONSUME2(dR),this.SUBRULE2(this.term,{LABEL:"ExtraTerms"})})}));y(this,"term",this.RULE("term",()=>{this.OR({MAX_LOOKAHEAD:6,DEF:[{ALT:()=>this.SUBRULE(this.dualTerm)},{ALT:()=>this.SUBRULE(this.singleTerm)}]})}));y(this,"dualTerm",this.RULE("dualTerm",()=>{this.SUBRULE(this.numberLiteral,{LABEL:"FirstValue"}),this.SUBRULE(this.unitWord,{LABEL:"FirstUnit"}),this.SUBRULE2(this.numberLiteral,{LABEL:"SecondValue"}),this.SUBRULE2(this.unitWord,{LABEL:"SecondUnit"})}));y(this,"singleTerm",this.RULE("singleTerm",()=>{this.SUBRULE(this.numberLiteral),this.OPTION(()=>{this.SUBRULE(this.unitLiteral)})}));y(this,"numberLiteral",this.RULE("numberLiteral",()=>{this.OR([{ALT:()=>this.SUBRULE(this.decimalLiteral)},{ALT:()=>this.SUBRULE(this.fractionLiteral)},{ALT:()=>this.SUBRULE(this.integerLiteral)}])}));y(this,"decimalLiteral",this.RULE("decimalLiteral",()=>{this.CONSUME(Phe)}));y(this,"fractionLiteral",this.RULE("fractionLiteral",()=>{this.OR([{ALT:()=>{this.SUBRULE(this.integerLiteral,{LABEL:"Whole"}),this.SUBRULE(this.vulgarFraction)}},{ALT:()=>this.SUBRULE2(this.vulgarFraction)}])}));y(this,"vulgarFraction",this.RULE("vulgarFraction",()=>{this.SUBRULE(this.integerLiteral,{LABEL:"Numerator"}),this.CONSUME(pR),this.SUBRULE2(this.integerLiteral,{LABEL:"Denominator"})}));y(this,"integerLiteral",this.RULE("integerLiteral",()=>{this.CONSUME(whe)}));y(this,"unitLiteral",this.RULE("unitLiteral",()=>{this.OR([{ALT:()=>this.SUBRULE(this.unitRate)},{ALT:()=>this.SUBRULE(this.unitWord)}])}));y(this,"unitRate",this.RULE("unitRate",()=>{this.SUBRULE(this.unitWord,{LABEL:"NumeratorUnit"}),this.CONSUME(pR),this.SUBRULE2(this.unitWord,{LABEL:"DenominatorUnit"})}));y(this,"unitWord",this.RULE("unitWord",()=>{this.OR([{ALT:()=>this.CONSUME(_he)},{ALT:()=>this.CONSUME(khe)}])}));this.performSelfAnalysis()}};var nst=new m0,sst=nst.getBaseCstVisitorConstructor(),W7=class extends sst{constructor(r){super();this.classifyUnit=r}expression(r){let o=this.visit(r.FirstTerm);r.FirstTermSign?.[0].image==="-"&&o.forEach(n=>n.value=-n.value);let i=(r.ExtraTerms??[]).flatMap((n,s)=>{let a=this.visit(n);return r.PlusMinus[s].image==="-"&&a.forEach(l=>l.value=-l.value),a});return i.unshift(...o),i}term(r){if(r.dualTerm)return this.visit(r.dualTerm);if(r.singleTerm)return this.visit(r.singleTerm);throw new Error("term: no children")}dualTerm(r){let o=this.parseMeasurement(r.FirstValue,r.FirstUnit),i=this.parseMeasurement(r.SecondValue,r.SecondUnit);return[o,i]}singleTerm(r){return[this.parseMeasurement(r.numberLiteral,r.unitLiteral)]}numberLiteral(r){if(r.decimalLiteral)return this.visit(r.decimalLiteral);if(r.fractionLiteral)return this.visit(r.fractionLiteral);if(r.integerLiteral)return this.visit(r.integerLiteral);throw new Error("numberLiteral: no children")}decimalLiteral(r){let o=r.DecimalLiteral[0].image,i=parseFloat(o.replace(",","."));if(!isFinite(i))throw new Error(`numberLiteral: invalid decimal: ${o}`);return[{value:i,unit:""}]}fractionLiteral(r){let[o]=this.visit(r.vulgarFraction);return r.Whole&&(o.value+=this.visit(r.Whole)[0].value),[o]}vulgarFraction(r){let o=this.visit(r.Numerator)[0].value,i=this.visit(r.Denominator)[0].value;return[{value:o/i,unit:""}]}integerLiteral(r){return[{value:parseInt(r.IntegerLiteral[0].image),unit:""}]}unitLiteral(r){if(r.unitRate)return this.visit(r.unitRate);if(r.unitWord)return this.visit(r.unitWord);throw new Error("unitLiteral: no children")}unitRate(r){let[{unit:o}]=this.visit(r.NumeratorUnit),[{unit:i}]=this.visit(r.DenominatorUnit);return this.parseUnit(`${o}/${i}`)}unitWord(r){if(r.UnitSymbol)return this.parseUnit(r.UnitSymbol[0].image);if(r.Identifier)return this.parseUnit(r.Identifier[0].image);throw new Error("unitWord: no children")}parseMeasurement(r,o){let[i]=this.visit(r);return o&&(i.unit=this.visit(o)[0].unit),i}parseUnit(r){let o=this.classifyUnit(r);if(o!==null)return[{unit:o,value:0}];throw new Error(`invalid unit: ${r}`)}};function mT(e,t,r){let o=(n,s)=>{let a=i(n);return a.ok?a.measurements.reduce((l,c)=>c.unit===""||c.unit===s?l+c.value:l+r(c.value,c.unit,s),0):null},i=n=>{let s=Ehe.tokenize(n);if(s.errors.length>0)return{ok:!1,source:"lex",errors:s.errors};e.input=s.tokens;let a=e.expression();if(e.errors.length>0)return{ok:!1,source:"parse",errors:e.errors};try{return{ok:!0,measurements:t.visit(a)}}catch(l){return{ok:!1,source:"eval",errors:[l]}}};return{evalFunc:o,exprFunc:i}}var mR=class extends W7{constructor(){super(bpe),this.validateVisitor()}dualTerm(t){let[r,o]=super.dualTerm(t);if(r.unit==="ft"&&o.unit==="in")return[r,o];throw new Error("dualTerm: only feet-inches supported")}unitRate(){throw new Error("rates are not a length")}},ast=new m0,lst=new mR,{evalFunc:Mhe,exprFunc:p8r}=mT(ast,lst,eh);var Ahe=P("react-redux");var cst={"decimal-short":{mm:hpe,in:fpe},decimal:{mm:wU,in:PU},"decimal-long":{mm:_U,in:gpe},fraction:{mm:wU,in:ppe},"trailing-zeros":{mm:mpe,in:dpe},"millis-long":{mm:_U,in:PU},"no-label":{mm:xpe,in:ype}},ust=(0,lh.forwardRef)((e,t)=>{let{variant:r="decimal",valueUnit:o="in",label:i,id:n,...s}=e,a=(0,Ahe.useSelector)(Me.getPreferredUnit),l=cst[r][a],c=(0,lh.useCallback)((u,p)=>CU(u,p,l),[l]);return lh.default.createElement(lh.default.Fragment,null,i!=null&&lh.default.createElement("label",{htmlFor:n,className:"control-label"},i),lh.default.createElement(tk,{ref:t,id:n,displayUnit:a,valueUnit:o,evaluator:Mhe,converter:eh,stepper:upe,formatter:c,...s}))}),Yt=ust;var fT=class extends fR.default.Component{constructor(){super(...arguments);y(this,"setSafetyHeight",r=>{N.store.dispatch(Q.actions.setStartStopSafetyHeight(r)),H.trackEvent("Set Origin Safety Height",{"Height (in)":r}),Fn.updateStartStopSafetyHeight(r)})}render(){return fR.default.createElement(Yt,{id:this.props.id,value:this.props.safetyHeight,min:0,variant:"decimal-long",onCommit:this.setSafetyHeight})}};y(fT,"propTypes",{id:Ihe.default.string});var pst=ne({mapStateToProps:e=>({safetyHeight:Q.getStartStopSafetyHeight(e)}),component:fT}),Dhe=pst;var Nhe=M(P("react"),1),hT=P("react-redux"),Ohe=M(P("prop-types"),1);var Lhe=({id:e})=>{let t=(0,hT.useDispatch)(),r=(0,hT.useSelector)(Y.getAccessoriesEnabled);return Nhe.default.createElement("input",{id:e,type:"checkbox",onChange:i=>{t(Y.actions.setAccessoriesEnabled(i.target.checked))},checked:r})};Lhe.propTypes={id:Ohe.default.string};var Bhe=Lhe;var Fhe=M(P("react"),1);var gT=P("react-redux");var dst=({id:e})=>{let t=(0,gT.useDispatch)(),r=(0,gT.useSelector)(zt.getSafetyHeight);return Fhe.default.createElement(Yt,{variant:"decimal-long",id:e,value:r,min:0,onChange:o=>t(zu.actions.setSafetyHeight(o))})},Whe=dst;var xT=M(P("prop-types"),1),yR=M(P("react"),1),Vhe=P("react-redux");var hR=M(P("prop-types"),1),gR=M(P("react"),1);var yT=class extends gR.default.Component{render(){let{value:t,onSubmit:r,...o}=this.props;return gR.default.createElement(Vn,{...o,initialValue:`${(t*100).toFixed(0)} %`,submit:i=>{r(parseFloat(i)/100)}})}};y(yT,"propTypes",{value:hR.default.number,onSubmit:hR.default.func});var f0=yT;var bT=class extends yR.default.Component{render(){return yR.default.createElement(f0,{id:this.props.id,value:this.props.profileStepOver,onSubmit:this.props.setProfileStepOver})}};y(bT,"propTypes",{id:xT.default.string,profileStepOver:xT.default.number,setProfileStepOver:xT.default.func.isRequired});var mst=e=>({profileStepOver:Ge.getProfileStepOver(e)}),fst=e=>({setProfileStepOver:t=>{e(W.actions.setProfileStepOver(t))}}),hst=(0,Vhe.connect)(mst,fst)(bT),Uhe=hst;var vT=M(P("prop-types"),1),xR=M(P("react"),1),Rhe=P("react-redux");var ST=class extends xR.default.Component{render(){return xR.default.createElement(Vn,{id:this.props.id,initialValue:`${(this.props.vBitDetailStepOver*100).toFixed(0)} %`,submit:t=>this.props.setVBitDetailStepOver(parseFloat(t)/100)})}};y(ST,"propTypes",{id:vT.default.string,vBitDetailStepOver:vT.default.number,setVBitDetailStepOver:vT.default.func.isRequired});var gst=e=>({vBitDetailStepOver:Ge.getVBitDetailStepOver(e)}),yst=e=>({setVBitDetailStepOver:t=>{e(W.actions.setVBitDetailStepOver(t))}}),xst=(0,Rhe.connect)(gst,yst)(ST),jhe=xst;var Rb=M(P("prop-types"),1),bR=M(P("react"),1);var ou=M(P("prop-types"),1),K2=M(P("react"),1);var CT=class extends K2.default.Component{constructor(){super(...arguments);y(this,"state",{isValid:!0});y(this,"format",(r,o,i,n)=>(r!=null&&(i!=null&&(r=r.toFixed(i)),r=parseFloat(r).toString(),n&&(r+=` ${o}`)),r?.toString()));y(this,"stepValue",(r,o,i,n,s)=>{let a,l,c;if({value:o,unit:c}=f5.parseInput(o),!(o==null||o<=0)){if(c?c=Ve.normalizeUnitName(c):c=i,s!=null)l=o+s*r;else if(c==="mm")l=o+1*r;else for(let u=5;u>=2;u--){let p=1/Math.pow(2,u),m=1/Math.pow(2,u-1),h=1/Math.pow(2,u);if(a=o*Ve.inchesPerUnit(c),p<=a&&a<m&&r>0||p<a&&a<=m&&r<0){l=a=a+h*r;break}}a=l*Ve.inchesPerUnit(c),l!=null&&l>0&&n(l,c,a)}});y(this,"valid",(r,o)=>{let i=this.props.min??0,n=this.props.max??1/0;return o==="mm"&&(r=Ve.convertToUnit(r,"mm","in")),r!=null&&r>=i&&r<=n});y(this,"invalidFeedback",r=>{let o=this.props.min??0,i=this.props.max??1/0;return r!=="in"&&(o=Ve.convertToUnit(o,"in",r),i=Ve.convertToUnit(i,"in",r)),o===Number.NEGATIVE_INFINITY&&i===1/0?"Value must be a number":o===Number.NEGATIVE_INFINITY&&i!==1/0?`Value must be \u2264 ${i} ${r}`:i!==1/0?`Value must be between ${o} ${r} and ${i} ${r}`:`Value must be \u2265 ${o} ${r}`});y(this,"onSubmit",r=>{let o;if({value:r,unit:o}=f5.parseInput(r),o!=null?o=Ve.normalizeUnitName(o):o=this.props.displayUnit||this.props.unit,this.valid(r,o)){let i=r*Ve.inchesPerUnit(o);this.setState({isValid:!0}),this.props.onChange(r,o,i)}else this.setState({isValid:!1}),this.forceUpdate()});y(this,"onKeyDown",(r,o)=>{switch(r.which){case pt.up:return this.stepValue(1,o,this.props.unit,this.props.onChange,this.props.increment);case pt.down:return this.stepValue(-1,o,this.props.unit,this.props.onChange,this.props.increment)}})}render(){let{id:r,className:o,readonly:i,value:n,unit:s,displayUnit:a,showUnit:l,precision:c,property:u}=this.props,{isValid:p}=this.state,m={mm:2,in:5};a&&(n=Ve.convertToUnit(n,s,a),s=a);let h=this.format(n,s,c??m[s],l);if(!h)return null;let f=this.invalidFeedback(s);return K2.default.createElement(K2.default.Fragment,null,u&&K2.default.createElement("label",{htmlFor:r},`${u} `),K2.default.createElement(Vn,{id:r,className:`${o??""} ${p?"":"is-invaild"}`,initialValue:h,readonly:i,submit:this.onSubmit,onKeyDown:this.onKeyDown}),f&&!p&&K2.default.createElement("div",{className:"invalid-feedback"},f))}};y(CT,"propTypes",{value:ou.default.number.isRequired,unit:ou.default.string.isRequired,onChange:ou.default.func,precision:ou.default.number,displayUnit:ou.default.string,showUnit:ou.default.bool,readonly:ou.default.bool,increment:ou.default.number,id:ou.default.string,property:ou.default.string,min:ou.default.number,max:ou.default.number});var Eo=CT;var PT=class extends bR.default.Component{constructor(){super(...arguments);y(this,"handleSafetyHeightChange",(r,o,i)=>{this.props.setSafetyHeight(i)})}render(){return bR.default.createElement(Eo,{id:this.props.id,value:this.props.safetyHeight,unit:"in",displayUnit:this.props.unit,showUnit:!0,onChange:this.handleSafetyHeightChange})}};y(PT,"propTypes",{id:Rb.default.string,safetyHeight:Rb.default.number,unit:Rb.default.string,setSafetyHeight:Rb.default.func.isRequired});var bst=ne({mapStateToProps:e=>({unit:Me.getPreferredUnit(e),safetyHeight:Ge.getSafetyHeight(e)}),mapDispatchToProps:e=>({setSafetyHeight:t=>{e(W.actions.setSafetyHeight(t))}}),component:PT}),Ghe=bst;var V7=M(P("prop-types"),1),vR=M(P("react"),1),Hhe=P("react-redux");var wT=class extends vR.default.Component{render(){return vR.default.createElement(f0,{id:this.props.id,className:this.props.className,readonly:this.props.readonly,value:this.props.stepOver,onSubmit:this.props.setStepOver})}};y(wT,"propTypes",{id:V7.default.string,className:V7.default.string,readonly:V7.default.bool,stepOver:V7.default.number,setStepOver:V7.default.func.isRequired});var vst=e=>({stepOver:Ge.getStepOver(e)}),Sst=e=>({setStepOver:t=>{e(W.actions.setStepOver(t))}}),Cst=(0,Hhe.connect)(vst,Sst)(wT),_T=Cst;var kT=M(P("react"),1),Xhe=P("react-redux"),SR=P("react-bootstrap");var Pst={type:null},zhe=We({name:"xcpTesting",initialState:Pst,reducers:{openLinearTesting(e){e.type="linear"},openPcbTesting(e){e.type="pcb"},closeTesting(e){e.type=null}}}),wst={xcpTestingVisible:e=>e.xcpTesting.type!=null,xcpTestingPcbSelected:e=>e.xcpTesting.type==="pcb",xcpTestingLinearSelected:e=>e.xcpTesting.type==="linear"},_st={actions:{...zhe.actions},reducer:zhe.reducer,...wst},Mm=_st;var kst=()=>{let e=(0,Xhe.useDispatch)(),t=()=>{e(Mm.actions.openLinearTesting())},r=()=>{e(Mm.actions.openPcbTesting())};return kT.default.createElement("div",{className:"xcp-testing__buttons"},kT.default.createElement(SR.Button,{onClick:()=>t(),"data-dismiss":"modal",variant:"primary"},"Linear Accuracy"),kT.default.createElement(SR.Button,{onClick:()=>r(),"data-dismiss":"modal",variant:"primary"},"PCB Testing"))},Yhe=kst;var tt=M(P("react"),1),Gi=P("react-bootstrap");var CR=class extends tt.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1});y(this,"openMachineSettings",()=>{let r=this.props.profiles.find(o=>o.id===this.props.machineProfileId);r!=null&&(H.trackEvent(U.redirectedToMachineSettings),J.emit("open-machine-profile-modal",r),this.hide())});y(this,"toggleRepeatCarving",r=>{let o=r.target.checked;Fn.updateRepeatCarvingEnabled(o),N.store.dispatch(Q.actions.setRepeatCarvingEnabled(o))});y(this,"show",()=>{this.setState({show:!0})});y(this,"hide",()=>{this.setState({show:!1})})}componentDidMount(){J.addListener("show-advanced-machine-panel",this.show),J.addListener("hide-advanced-machine-panel",this.hide)}render(){let{repeatCarvingEnabled:r,isThreeD:o,isCabinetProject:i,machineType:n}=this.props,s=tt.default.createElement(Gi.Popover,{id:"start-stop-saftey-height-info"},tt.default.createElement(Gi.Popover.Body,null,tt.default.createElement("p",null,"Sets an alternative safety height for the first and last rapid movements without changing the normal safety height for the remainder of the carve."),tt.default.createElement("p",null,"Note, if this value is smaller than the standard safety height this setting will be ignored in favor of the larger value."))),a=tt.default.createElement(Gi.Popover,{id:"accessory-commands"},tt.default.createElement(Gi.Popover.Body,null,"Add accessories like a vacuum or coolant blast can improve the quality of your carves. Enabling this will send a M7 and M8 at the start of a carve, and a M9 at the end.")),l=tt.default.createElement(Gi.Popover,{id:"repeat-carving"},tt.default.createElement(Gi.Popover.Body,null,"Allows repeating the prior carve with one click. Make sure to follow all safety procedures."));return tt.default.createElement(Gi.Modal,{show:this.state.show,onHide:this.hide,size:"lg"},tt.default.createElement(Gi.Modal.Header,{closeButton:!0},tt.default.createElement(Gi.Modal.Title,null,"General Settings")),tt.default.createElement(Gi.Modal.Body,{className:"advanced-machine-panel"},tt.default.createElement(Gi.Row,null,tt.default.createElement(Gi.Col,{sm:13},tt.default.createElement("p",{className:"alert alert-danger"},tt.default.createElement("strong",null,"Hold up! ")," Only modify these settings if you know what they mean. They apply to all machines used with Easel."))),tt.default.createElement(Gi.Row,null,tt.default.createElement(Gi.Col,{sm:6},tt.default.createElement("div",{className:"settings-panel"},tt.default.createElement("div",{className:"settings-panel__item"},tt.default.createElement("label",{htmlFor:"safety-height"},"Safety Height"),tt.default.createElement("div",null,i?tt.default.createElement(Whe,{id:"safety-height"}):tt.default.createElement(Ghe,{id:"safety-height"}))),!o&&!i&&tt.default.createElement("div",{className:"settings-panel__item"},tt.default.createElement("label",{htmlFor:"step-over"},"Step Over"),tt.default.createElement("div",null,tt.default.createElement(_T,{id:"step-over"})))),it("profile_carving")&&tt.default.createElement("div",{className:"settings-panel__item"},tt.default.createElement("label",{htmlFor:"profile-step-over"},"Profile Step Over"),tt.default.createElement("div",null,tt.default.createElement(Uhe,{id:"profile-step-over"})))),tt.default.createElement(Gi.Col,{sm:6},tt.default.createElement("div",{className:"settings-panel__item"},tt.default.createElement("label",{htmlFor:"origin-safety-height"},"Origin Safety Height",tt.default.createElement(Gi.OverlayTrigger,{rootClose:!0,overlay:s,delayHide:1e3},tt.default.createElement("i",{className:"bi bi-question-circle-fill"}))),tt.default.createElement("div",null,tt.default.createElement(Dhe,{id:"origin-safety-height"}))),!o&&!i&&tt.default.createElement("div",{className:"settings-panel__item"},tt.default.createElement("label",{htmlFor:"v-bit-detail-step-over"},"V-Bit Detail Step Over"),tt.default.createElement("div",null,tt.default.createElement(jhe,{id:"v-bit-detail-step-over"}))),tt.default.createElement("div",{className:"settings-panel__item"},tt.default.createElement("label",{htmlFor:"accessory-commands"},"Accessory Commands",tt.default.createElement(Gi.OverlayTrigger,{rootClose:!0,overlay:a,delayHide:1e3},tt.default.createElement("i",{className:"bi bi-question-circle-fill"}))),tt.default.createElement("div",null,tt.default.createElement(Bhe,{id:"accessory-commands"}))))),tt.default.createElement("hr",null),tt.default.createElement("div",{className:"settings-panel__item"},tt.default.createElement("label",null,"Spindle Control"),tt.default.createElement("div",null,this.props.profiles&&this.props.profiles.length>0?tt.default.createElement(oe,{onClick:this.openMachineSettings},"Go to Machine Settings"):tt.default.createElement(oe,{href:"/setup/"},"Setup Machine"))),tt.default.createElement("div",{className:"settings-panel__item"},tt.default.createElement("label",null,"Enable Repeat Carving",tt.default.createElement(Gi.OverlayTrigger,{rootClose:!0,overlay:l,delayHide:1e3},tt.default.createElement("i",{className:"bi bi-question-circle-fill"}))),tt.default.createElement("div",{className:"settings-panel__toggler"},tt.default.createElement("input",{type:"checkbox",onChange:this.toggleRepeatCarving,checked:r})))),tt.default.createElement(Gi.Modal.Footer,{className:"advanced-machine-footer"},tt.default.createElement("div",null,tt.default.createElement(npe,null),(bt.currentIsInventablesMachine(n)||it("firmware_testing"))&&tt.default.createElement(rpe,null)),it("xcp_testing")&&tt.default.createElement(Yhe,null)))}},Tst=ne({component:CR,mapStateToProps(e){return{automaticSpindleControl:Y.getAutomaticSpindleControl(e),machineType:Y.getMachineType(e),spindleType:Y.getSpindleType(e),spindleRPM:Y.getSpindleRPM(e),repeatCarvingEnabled:Q.isRepeatCarvingEnabled(e),profiles:et.getMachineProfiles(e),isThreeD:Ue.isThreeD(e),isCabinetProject:zt.isCabinetProject(e),machineProfileId:et.getCurrentProfileId(e),useDetailBit:re.detailBitEnabled(e),useOutlineBit:re.outlineBitEnabled(e)}},mapDispatchToProps(e){return{setAutomaticSpindleControl(t){e(Y.actions.setAutomaticSpindleControl(t))},setSpindleRPM(t){e(Y.actions.setSpindleRPM(t))}}}}),qhe=Tst;var Wt=M(P("react"),1),gs=P("react-bootstrap"),ch=P("react-redux");var Est=e=>{switch(e){case"Allura":return .03;case"Baskerville":return .06;case"Bemio":return .2;case"Cinzel":return .03;case"Code_Pro":return .1;case"Josefin":return .06;case"Lavanderia_Sturdy":return .07;default:return .1}},TT=(e,t,r,o)=>lr([{x:e-r/2,y:t-o/2},{x:e+r/2,y:t-o/2},{x:e+r/2,y:t+o/2},{x:e-r/2,y:t+o/2}]),$he=(e,t)=>{let r=e.maxX-e.minX,o=e.maxY-e.minY,i={x:(e.maxX+e.minX)/2,y:(e.maxY+e.minY)/2},n=t,s=TT(i.x,i.y-o/2,r,n),a=TT(i.x,i.y+o/2,r,n);return fo([s,a])},Zhe=e=>{let t=ii.textShapeToPathShape(e);return Oe.pointsBoundingBox(t.points.flat())},Mst=(e,t,r,o)=>{let i=e.font,n=e.fontProvider,s=qr.getFont(i,n),a=Zhe(e),l={x:e.center.x,y:(a.maxY+a.minY)/2},c=e.text.charAt(0).toUpperCase(),u=ii.measure({text:c,font:s,fontSize:80}),p=Math.max(e.width,1),m=Math.max(e.height*4,p*(u.height/u.width)),h={type:"text",text:c,font:i,fontProvider:n,center:l,width:p,height:m,rotation:0,flipping:{},anchored:!1,isProportionLocked:!1},f=ii.textShapeToPathShape(h);if(!f||!f.points)throw new Error("Unable to create path from font");let x=gl.process(f),v=a.maxY-a.minY;switch(t){case"engraving":v+=r;break;case"cutout":v-=r;break}let b=TT(f.center.x,f.center.y,Math.max(a.maxX-a.minX,f.width),v),S=fo([b]),w=x.exclusion(S);if(o.includeBorders){let T=$he(b.boundingBox(),r);w=w.union(T).clean()}else w=w.clean();let _=w.all().map(T=>T.points),E=Oe.pathBoundingBox(_);return{...f,center:l,points:_,width:E.maxX-E.minX,height:E.maxY-E.minY}},Ast=(e,t,r,o)=>{let i=r/2,n=Math.max(i-o,.01),s=Xt.BEZIER_MAGIC_NUMBER,a=1,l=n/i,c=(m,h=!1)=>{let f=m,x=s*m,v=[{x:0,y:f,lh:{x:-x,y:0},rh:{x,y:0}},{x:f,y:0,lh:{x:0,y:x},rh:{x:0,y:-x}},{x:0,y:-f,lh:{x,y:0},rh:{x:-x,y:0}},{x:-f,y:0,lh:{x:0,y:-x},rh:{x:0,y:x}}];return h&&(v=v.reverse().map(b=>({x:b.x,y:b.y,lh:b.rh,rh:b.lh}))),v.push({...v[0]}),v},u=c(a,!1),p=c(l,!0);return{type:"path",center:{x:e,y:t},width:r,height:r,rotation:0,flipping:{},anchored:!1,isProportionLocked:!0,points:[u,p]}},Ist=(e,t)=>{let o=e.map(i=>gl.process(i).simplify()).reduce((i,n)=>i.union(n)).clean();return{shape:_o.pathPointsToShape(o.all().map(i=>i.points)),cut:{type:"outline",depth:t,outlineStyle:"outside"}}},Dst=(e,t)=>e.map(r=>({shape:r,cut:{type:"fill",depth:t,outlineStyle:"on-path"}})),Nst={getFontMinWidth:Est,getActualTextBoundingBox:Zhe,createRectPath:TT,createBackgroundLetterPath:Mst,createCircleRing:Ast,createYBorders:$he,createCutoutVolume:Ist,createEngravingVolumes:Dst},iu=Nst;var Ost={plain:{name:"plain"},circle:{name:"circle"},royal:{name:"royal",viewBox:{width:242.08168029785156,height:248.39540100097656},points:[[{x:3.603759765625,y:.00115966796875},{x:3.615386962890625,y:.007232666015625},{x:3.6278076171875,y:.017364501953125},{x:3.640380859375,y:.030120849609375},{x:3.66375732421875,y:.058197021484375},{x:3.680755615234375,y:.08056640625},{x:3.72247314453125,y:.136383056640625},{x:3.74041748046875,y:.164520263671875},{x:3.755157470703125,y:.193328857421875},{x:3.765777587890625,y:.223236083984375},{x:3.771392822265625,y:.25457763671875},{x:3.77105712890625,y:.287811279296875},{x:3.76385498046875,y:.32330322265625},{x:3.748992919921875,y:.36822509765625},{x:3.732147216796875,y:.413482666015625},{x:3.69769287109375,y:.505340576171875},{x:3.682830810546875,y:.552093505859375},{x:3.6712646484375,y:.59954833984375},{x:3.66436767578125,y:.647735595703125},{x:3.663482666015625,y:.696746826171875},{x:3.679840087890625,y:.64410400390625},{x:3.699005126953125,y:.593841552734375},{x:3.720855712890625,y:.546051025390625},{x:3.74530029296875,y:.500640869140625},{x:3.77215576171875,y:.457672119140625},{x:3.801361083984375,y:.417083740234375},{x:3.832763671875,y:.37890625},{x:3.86627197265625,y:.3431396484375},{x:3.901763916015625,y:.309722900390625},{x:3.9390869140625,y:.278717041015625},{x:3.9781494140625,y:.250091552734375},{x:4.01885986328125,y:.22381591796875},{x:4.06103515625,y:.19989013671875},{x:4.104583740234375,y:.1783447265625},{x:4.149383544921875,y:.15911865234375},{x:4.1953125,y:.142242431640625},{x:4.242279052734375,y:.127716064453125},{x:4.2901611328125,y:.115509033203125},{x:4.338775634765625,y:.10565185546875},{x:4.388092041015625,y:.09808349609375},{x:4.43792724609375,y:.09283447265625},{x:4.488189697265625,y:.089874267578125},{x:4.538726806640625,y:.0892333984375},{x:4.5894775390625,y:.09088134765625},{x:4.640289306640625,y:.09478759765625},{x:4.6910400390625,y:.100982666015625},{x:4.741607666015625,y:.109466552734375},{x:4.7918701171875,y:.120208740234375},{x:4.84173583984375,y:.133209228515625},{x:4.89105224609375,y:.148468017578125},{x:4.939697265625,y:.16595458984375},{x:4.98760986328125,y:.185699462890625},{x:5.0499267578125,y:.215423583984375},{x:5.1094970703125,y:.248565673828125},{x:5.166290283203125,y:.285003662109375},{x:5.220184326171875,y:.324615478515625},{x:5.271148681640625,y:.36724853515625},{x:5.319061279296875,y:.412811279296875},{x:5.3638916015625,y:.461151123046875},{x:5.405548095703125,y:.51214599609375},{x:5.4439697265625,y:.565673828125},{x:5.47906494140625,y:.621612548828125},{x:5.51080322265625,y:.6798095703125},{x:5.539031982421875,y:.74017333984375},{x:5.56378173828125,y:.80255126953125},{x:5.584869384765625,y:.8668212890625},{x:5.602325439453125,y:.932861328125},{x:5.615997314453125,y:1.00054931640625},{x:5.62384033203125,y:.997650146484375},{x:5.628326416015625,y:.992095947265625},{x:5.633270263671875,y:.97760009765625},{x:5.67230224609375,y:.868438720703125},{x:5.69134521484375,y:.82080078125},{x:5.71307373046875,y:.776947021484375},{x:5.73980712890625,y:.73626708984375},{x:5.77374267578125,y:.698089599609375},{x:5.79412841796875,y:.67974853515625},{x:5.81719970703125,y:.66180419921875},{x:5.8724365234375,y:.62677001953125},{x:5.90045166015625,y:.612518310546875},{x:5.9287109375,y:.60089111328125},{x:5.957122802734375,y:.591827392578125},{x:5.985595703125,y:.585235595703125},{x:6.014007568359375,y:.581024169921875},{x:6.042266845703125,y:.57916259765625},{x:6.070281982421875,y:.579498291015625},{x:6.09796142578125,y:.582000732421875},{x:6.125213623046875,y:.58660888671875},{x:6.151885986328125,y:.593170166015625},{x:6.203277587890625,y:.611968994140625},{x:6.251312255859375,y:.63775634765625},{x:6.295257568359375,y:.669891357421875},{x:6.334259033203125,y:.707733154296875},{x:6.367584228515625,y:.7506103515625},{x:6.381866455078125,y:.773773193359375},{x:6.394439697265625,y:.79791259765625},{x:6.405181884765625,y:.823028564453125},{x:6.414031982421875,y:.8489990234375},{x:6.42083740234375,y:.875732421875},{x:6.425567626953125,y:.903167724609375},{x:6.428070068359375,y:.931243896484375},{x:6.428253173828125,y:.9598388671875},{x:6.426055908203125,y:.9888916015625},{x:6.421356201171875,y:1.018310546875},{x:6.414031982421875,y:1.04803466796875},{x:6.404022216796875,y:1.077972412109375},{x:6.39227294921875,y:1.10430908203125},{x:6.3779296875,y:1.128509521484375},{x:6.3612060546875,y:1.1505126953125},{x:6.3424072265625,y:1.17022705078125},{x:6.32177734375,y:1.187530517578125},{x:6.29949951171875,y:1.202392578125},{x:6.275848388671875,y:1.214691162109375},{x:6.2510986328125,y:1.22430419921875},{x:6.2254638671875,y:1.231201171875},{x:6.199188232421875,y:1.235260009765625},{x:6.172515869140625,y:1.236419677734375},{x:6.145721435546875,y:1.23455810546875},{x:6.118988037109375,y:1.2296142578125},{x:6.092620849609375,y:1.221466064453125},{x:6.06683349609375,y:1.2100830078125},{x:6.0418701171875,y:1.1953125},{x:6.026763916015625,y:1.18341064453125},{x:6.0133056640625,y:1.169342041015625},{x:6.001617431640625,y:1.153472900390625},{x:5.99169921875,y:1.13616943359375},{x:5.983673095703125,y:1.117828369140625},{x:5.97760009765625,y:1.09881591796875},{x:5.97357177734375,y:1.07952880859375},{x:5.97161865234375,y:1.060333251953125},{x:5.971893310546875,y:1.0416259765625},{x:5.974395751953125,y:1.023773193359375},{x:5.979217529296875,y:1.007171630859375},{x:5.986480712890625,y:.9921875},{x:5.996185302734375,y:.979217529296875},{x:6.00848388671875,y:.9686279296875},{x:6.02337646484375,y:.9608154296875},{x:6.040985107421875,y:.956146240234375},{x:6.060272216796875,y:.95428466796875},{x:6.07733154296875,y:.95489501953125},{x:6.09222412109375,y:.95782470703125},{x:6.10504150390625,y:.962860107421875},{x:6.1158447265625,y:.96978759765625},{x:6.124755859375,y:.978424072265625},{x:6.131805419921875,y:.98858642578125},{x:6.1370849609375,y:1.000091552734375},{x:6.142669677734375,y:1.026275634765625},{x:6.142120361328125,y:1.055419921875},{x:6.136138916015625,y:1.085968017578125},{x:6.125274658203125,y:1.11639404296875},{x:6.15478515625,y:1.123291015625},{x:6.183624267578125,y:1.123016357421875},{x:6.211029052734375,y:1.11627197265625},{x:6.236236572265625,y:1.103729248046875},{x:6.258514404296875,y:1.08612060546875},{x:6.277099609375,y:1.064117431640625},{x:6.29119873046875,y:1.0384521484375},{x:6.300079345703125,y:1.009765625},{x:6.304595947265625,y:.98175048828125},{x:6.306640625,y:.954833984375},{x:6.30633544921875,y:.929046630859375},{x:6.3038330078125,y:.9044189453125},{x:6.2991943359375,y:.881011962890625},{x:6.292572021484375,y:.85882568359375},{x:6.284088134765625,y:.837921142578125},{x:6.273834228515625,y:.818328857421875},{x:6.261962890625,y:.800048828125},{x:6.24859619140625,y:.78314208984375},{x:6.217742919921875,y:.7535400390625},{x:6.1822509765625,y:.729827880859375},{x:6.14306640625,y:.712249755859375},{x:6.10113525390625,y:.7010498046875},{x:6.05743408203125,y:.696502685546875},{x:6.012847900390625,y:.69891357421875},{x:5.9683837890625,y:.708465576171875},{x:5.92498779296875,y:.725494384765625},{x:5.903961181640625,y:.73687744140625},{x:5.883544921875,y:.750244140625},{x:5.8638916015625,y:.765594482421875},{x:5.845062255859375,y:.782958984375},{x:5.827239990234375,y:.802398681640625},{x:5.81048583984375,y:.823944091796875},{x:5.79278564453125,y:.850341796875},{x:5.777069091796875,y:.87744140625},{x:5.75128173828125,y:.933380126953125},{x:5.732635498046875,y:.99139404296875},{x:5.720672607421875,y:1.05108642578125},{x:5.714935302734375,y:1.112030029296875},{x:5.714935302734375,y:1.173858642578125},{x:5.720184326171875,y:1.2362060546875},{x:5.73028564453125,y:1.29864501953125},{x:5.744720458984375,y:1.360809326171875},{x:5.763031005859375,y:1.422332763671875},{x:5.7847900390625,y:1.482757568359375},{x:5.809478759765625,y:1.541778564453125},{x:5.836639404296875,y:1.59893798828125},{x:5.8658447265625,y:1.65386962890625},{x:5.896575927734375,y:1.7061767578125},{x:5.92840576171875,y:1.7554931640625},{x:5.9681396484375,y:1.811126708984375},{x:6.01007080078125,y:1.8638916015625},{x:6.054290771484375,y:1.9139404296875},{x:6.10089111328125,y:1.9613037109375},{x:6.14996337890625,y:2.006103515625},{x:6.20159912109375,y:2.048431396484375},{x:6.255889892578125,y:2.088348388671875},{x:6.312896728515625,y:2.126007080078125},{x:6.289154052734375,y:2.077362060546875},{x:6.26324462890625,y:2.0299072265625},{x:6.23809814453125,y:1.981964111328125},{x:6.216705322265625,y:1.93182373046875},{x:6.20257568359375,y:1.88763427734375},{x:6.19158935546875,y:1.843017578125},{x:6.183929443359375,y:1.798248291015625},{x:6.179656982421875,y:1.75360107421875},{x:6.178924560546875,y:1.709442138671875},{x:6.18182373046875,y:1.666046142578125},{x:6.188446044921875,y:1.62371826171875},{x:6.198944091796875,y:1.582763671875},{x:6.213409423828125,y:1.54351806640625},{x:6.231964111328125,y:1.506256103515625},{x:6.254730224609375,y:1.4713134765625},{x:6.281829833984375,y:1.43896484375},{x:6.313323974609375,y:1.4095458984375},{x:6.349395751953125,y:1.383331298828125},{x:6.390106201171875,y:1.36065673828125},{x:6.43560791015625,y:1.341827392578125},{x:6.4788818359375,y:1.32977294921875},{x:6.52264404296875,y:1.323394775390625},{x:6.566375732421875,y:1.322509765625},{x:6.60955810546875,y:1.326812744140625},{x:6.65167236328125,y:1.3360595703125},{x:6.692230224609375,y:1.350006103515625},{x:6.730743408203125,y:1.36834716796875},{x:6.76666259765625,y:1.390899658203125},{x:6.79949951171875,y:1.4173583984375},{x:6.828765869140625,y:1.447479248046875},{x:6.853912353515625,y:1.480987548828125},{x:6.874481201171875,y:1.51763916015625},{x:6.889923095703125,y:1.55718994140625},{x:6.89971923828125,y:1.599365234375},{x:6.9034423828125,y:1.6439208984375},{x:6.900482177734375,y:1.690582275390625},{x:6.896331787109375,y:1.713653564453125},{x:6.890289306640625,y:1.735198974609375},{x:6.882568359375,y:1.7552490234375},{x:6.87322998046875,y:1.7738037109375},{x:6.850372314453125,y:1.80645751953125},{x:6.82281494140625,y:1.833251953125},{x:6.79156494140625,y:1.854248046875},{x:6.7576904296875,y:1.869476318359375},{x:6.7222900390625,y:1.8790283203125},{x:6.6864013671875,y:1.8829345703125},{x:6.651092529296875,y:1.88128662109375},{x:6.617401123046875,y:1.874176025390625},{x:6.58642578125,y:1.861602783203125},{x:6.5592041015625,y:1.843658447265625},{x:6.53680419921875,y:1.820404052734375},{x:6.527740478515625,y:1.80682373046875},{x:6.520294189453125,y:1.79193115234375},{x:6.51458740234375,y:1.775726318359375},{x:6.510711669921875,y:1.758270263671875},{x:6.508880615234375,y:1.739501953125},{x:6.5091552734375,y:1.719482421875},{x:6.512908935546875,y:1.69720458984375},{x:6.520416259765625,y:1.6787109375},{x:6.53106689453125,y:1.66387939453125},{x:6.54425048828125,y:1.652587890625},{x:6.559356689453125,y:1.644683837890625},{x:6.575775146484375,y:1.64013671875},{x:6.592926025390625,y:1.63873291015625},{x:6.610198974609375,y:1.64044189453125},{x:6.626953125,y:1.645111083984375},{x:6.64263916015625,y:1.652618408203125},{x:6.656585693359375,y:1.662841796875},{x:6.668212890625,y:1.67572021484375},{x:6.67694091796875,y:1.691070556640625},{x:6.68212890625,y:1.708831787109375},{x:6.683197021484375,y:1.728851318359375},{x:6.67950439453125,y:1.75103759765625},{x:6.69696044921875,y:1.74951171875},{x:6.712738037109375,y:1.745941162109375},{x:6.7269287109375,y:1.740478515625},{x:6.739471435546875,y:1.7332763671875},{x:6.75042724609375,y:1.724517822265625},{x:6.759796142578125,y:1.714324951171875},{x:6.773773193359375,y:1.6903076171875},{x:6.781494140625,y:1.66253662109375},{x:6.783050537109375,y:1.632232666015625},{x:6.77850341796875,y:1.60064697265625},{x:6.767974853515625,y:1.569061279296875},{x:6.749176025390625,y:1.534515380859375},{x:6.725921630859375,y:1.505523681640625},{x:6.698822021484375,y:1.48199462890625},{x:6.6685791015625,y:1.463775634765625},{x:6.6358642578125,y:1.450714111328125},{x:6.60137939453125,y:1.442657470703125},{x:6.565765380859375,y:1.439483642578125},{x:6.52972412109375,y:1.4410400390625},{x:6.493896484375,y:1.447174072265625},{x:6.458984375,y:1.457763671875},{x:6.425689697265625,y:1.472625732421875},{x:6.3946533203125,y:1.49163818359375},{x:6.366546630859375,y:1.5146484375},{x:6.342041015625,y:1.541534423828125},{x:6.321868896484375,y:1.5721435546875},{x:6.306640625,y:1.606292724609375},{x:6.29644775390625,y:1.640228271484375},{x:6.2894287109375,y:1.67388916015625},{x:6.2855224609375,y:1.707275390625},{x:6.2845458984375,y:1.740325927734375},{x:6.286346435546875,y:1.7730712890625},{x:6.290802001953125,y:1.80548095703125},{x:6.297760009765625,y:1.8375244140625},{x:6.307098388671875,y:1.86920166015625},{x:6.318634033203125,y:1.900482177734375},{x:6.332275390625,y:1.931365966796875},{x:6.365234375,y:1.991851806640625},{x:6.40478515625,y:2.050506591796875},{x:6.449859619140625,y:2.10723876953125},{x:6.499267578125,y:2.161865234375},{x:6.5518798828125,y:2.21429443359375},{x:6.606597900390625,y:2.264373779296875},{x:6.662261962890625,y:2.311981201171875},{x:6.7718505859375,y:2.399261474609375},{x:6.871612548828125,y:2.47503662109375},{x:6.824554443359375,y:2.325225830078125},{x:6.8184814453125,y:2.2919921875},{x:6.81524658203125,y:2.255157470703125},{x:6.8153076171875,y:2.21630859375},{x:6.819122314453125,y:2.176971435546875},{x:6.82708740234375,y:2.138702392578125},{x:6.839630126953125,y:2.103057861328125},{x:6.857208251953125,y:2.07159423828125},{x:6.868011474609375,y:2.05792236328125},{x:6.8802490234375,y:2.045867919921875},{x:6.898162841796875,y:2.032989501953125},{x:6.915435791015625,y:2.025238037109375},{x:6.93182373046875,y:2.02215576171875},{x:6.947174072265625,y:2.02325439453125},{x:6.9613037109375,y:2.02801513671875},{x:6.9739990234375,y:2.0360107421875},{x:6.985137939453125,y:2.04669189453125},{x:6.99444580078125,y:2.0595703125},{x:7.0018310546875,y:2.07421875},{x:7.00701904296875,y:2.090087890625},{x:7.0098876953125,y:2.106719970703125},{x:7.01025390625,y:2.123626708984375},{x:7.00787353515625,y:2.140289306640625},{x:7.00262451171875,y:2.15625},{x:6.994293212890625,y:2.170989990234375},{x:6.982696533203125,y:2.18408203125},{x:6.96966552734375,y:2.19195556640625},{x:6.952972412109375,y:2.198822021484375},{x:6.930877685546875,y:2.20819091796875},{x:6.927764892578125,y:2.22686767578125},{x:6.92816162109375,y:2.258331298828125},{x:6.933258056640625,y:2.31451416015625},{x:6.94171142578125,y:2.352508544921875},{x:6.95379638671875,y:2.3905029296875},{x:6.968963623046875,y:2.4285888671875},{x:6.986602783203125,y:2.466705322265625},{x:7.027313232421875,y:2.543243408203125},{x:7.071563720703125,y:2.620269775390625},{x:7.11492919921875,y:2.697906494140625},{x:7.153076171875,y:2.776336669921875},{x:7.168853759765625,y:2.815887451171875},{x:7.181640625,y:2.855682373046875},{x:7.190948486328125,y:2.895721435546875},{x:7.19622802734375,y:2.936065673828125},{x:7.19219970703125,y:3.0272216796875},{x:7.190093994140625,y:3.11932373046875},{x:7.1904296875,y:3.305816650390625},{x:7.19488525390625,y:3.494354248046875},{x:7.201141357421875,y:3.68377685546875},{x:7.20684814453125,y:3.872955322265625},{x:7.209625244140625,y:4.060699462890625},{x:7.207183837890625,y:4.245849609375},{x:7.2032470703125,y:4.33709716796875},{x:7.197113037109375,y:4.42724609375},{x:7.191619873046875,y:4.47052001953125},{x:7.182525634765625,y:4.5123291015625},{x:7.170318603515625,y:4.552886962890625},{x:7.15545654296875,y:4.59228515625},{x:7.138427734375,y:4.6307373046875},{x:7.119720458984375,y:4.66839599609375},{x:7.078948974609375,y:4.741973876953125},{x:7.036956787109375,y:4.814361572265625},{x:6.9974365234375,y:4.8868408203125},{x:6.979766845703125,y:4.923553466796875},{x:6.964111328125,y:4.960784912109375},{x:6.950927734375,y:4.998687744140625},{x:6.940704345703125,y:5.0374755859375},{x:6.93505859375,y:5.073883056640625},{x:6.931793212890625,y:5.11041259765625},{x:6.92791748046875,y:5.14666748046875},{x:6.920440673828125,y:5.182220458984375},{x:6.952178955078125,y:5.18829345703125},{x:6.976898193359375,y:5.199859619140625},{x:6.99505615234375,y:5.2158203125},{x:7.00714111328125,y:5.235076904296875},{x:7.013671875,y:5.256439208984375},{x:7.01507568359375,y:5.27886962890625},{x:7.011871337890625,y:5.301239013671875},{x:7.0045166015625,y:5.322418212890625},{x:6.993499755859375,y:5.34130859375},{x:6.979278564453125,y:5.356781005859375},{x:6.962371826171875,y:5.367706298828125},{x:6.9432373046875,y:5.373016357421875},{x:6.92236328125,y:5.37158203125},{x:6.90020751953125,y:5.362274169921875},{x:6.87725830078125,y:5.343994140625},{x:6.854034423828125,y:5.315643310546875},{x:6.83990478515625,y:5.291778564453125},{x:6.8292236328125,y:5.266571044921875},{x:6.821685791015625,y:5.24017333984375},{x:6.817108154296875,y:5.212860107421875},{x:6.815216064453125,y:5.18475341796875},{x:6.815765380859375,y:5.156097412109375},{x:6.8232421875,y:5.097930908203125},{x:6.837615966796875,y:5.0399169921875},{x:6.85693359375,y:4.98370361328125},{x:6.879241943359375,y:4.930816650390625},{x:6.902587890625,y:4.882904052734375},{x:6.88946533203125,y:4.878448486328125},{x:6.790313720703125,y:4.96197509765625},{x:6.68438720703125,y:5.04827880859375},{x:6.578704833984375,y:5.1390380859375},{x:6.528106689453125,y:5.186614990234375},{x:6.480194091796875,y:5.2359619140625},{x:6.435821533203125,y:5.287322998046875},{x:6.395843505859375,y:5.340850830078125},{x:6.361175537109375,y:5.396820068359375},{x:6.3326416015625,y:5.45538330078125},{x:6.320953369140625,y:5.485748291015625},{x:6.311126708984375,y:5.516815185546875},{x:6.303253173828125,y:5.548675537109375},{x:6.2974853515625,y:5.581329345703125},{x:6.293914794921875,y:5.614776611328125},{x:6.292633056640625,y:5.64910888671875},{x:6.29376220703125,y:5.684295654296875},{x:6.29742431640625,y:5.720367431640625},{x:6.305206298828125,y:5.756988525390625},{x:6.318084716796875,y:5.79132080078125},{x:6.33551025390625,y:5.823150634765625},{x:6.356964111328125,y:5.852142333984375},{x:6.38189697265625,y:5.878021240234375},{x:6.409820556640625,y:5.900543212890625},{x:6.440185546875,y:5.919403076171875},{x:6.472442626953125,y:5.934326171875},{x:6.506103515625,y:5.945037841796875},{x:6.5406494140625,y:5.95123291015625},{x:6.57550048828125,y:5.95263671875},{x:6.61016845703125,y:5.949005126953125},{x:6.644134521484375,y:5.940032958984375},{x:6.67681884765625,y:5.9254150390625},{x:6.707763671875,y:5.9049072265625},{x:6.73638916015625,y:5.87823486328125},{x:6.748046875,y:5.86370849609375},{x:6.758026123046875,y:5.847564697265625},{x:6.76629638671875,y:5.830047607421875},{x:6.7728271484375,y:5.811553955078125},{x:6.780303955078125,y:5.772796630859375},{x:6.78118896484375,y:5.75323486328125},{x:6.780059814453125,y:5.733917236328125},{x:6.776885986328125,y:5.715240478515625},{x:6.7716064453125,y:5.697509765625},{x:6.764190673828125,y:5.6810302734375},{x:6.7545166015625,y:5.6661376953125},{x:6.74261474609375,y:5.653167724609375},{x:6.72833251953125,y:5.642425537109375},{x:6.711700439453125,y:5.634246826171875},{x:6.692626953125,y:5.628936767578125},{x:6.685577392578125,y:5.628509521484375},{x:6.682037353515625,y:5.63031005859375},{x:6.681121826171875,y:5.634002685546875},{x:6.68206787109375,y:5.639190673828125},{x:6.68621826171875,y:5.652679443359375},{x:6.6878662109375,y:5.66796875},{x:6.68389892578125,y:5.686798095703125},{x:6.67724609375,y:5.702972412109375},{x:6.66827392578125,y:5.716522216796875},{x:6.657318115234375,y:5.7275390625},{x:6.644805908203125,y:5.736053466796875},{x:6.631072998046875,y:5.742156982421875},{x:6.616546630859375,y:5.74591064453125},{x:6.6015625,y:5.747406005859375},{x:6.586517333984375,y:5.746673583984375},{x:6.57177734375,y:5.743804931640625},{x:6.5577392578125,y:5.73883056640625},{x:6.5447998046875,y:5.73187255859375},{x:6.53326416015625,y:5.72296142578125},{x:6.523590087890625,y:5.712158203125},{x:6.51611328125,y:5.6995849609375},{x:6.51123046875,y:5.68524169921875},{x:6.506927490234375,y:5.651336669921875},{x:6.509674072265625,y:5.620513916015625},{x:6.5186767578125,y:5.59295654296875},{x:6.533233642578125,y:5.568817138671875},{x:6.552520751953125,y:5.548248291015625},{x:6.5758056640625,y:5.53143310546875},{x:6.602294921875,y:5.518524169921875},{x:6.631256103515625,y:5.509674072265625},{x:6.66192626953125,y:5.50506591796875},{x:6.6934814453125,y:5.50482177734375},{x:6.7252197265625,y:5.5091552734375},{x:6.756317138671875,y:5.518218994140625},{x:6.78607177734375,y:5.532135009765625},{x:6.813690185546875,y:5.551116943359375},{x:6.83837890625,y:5.575286865234375},{x:6.859405517578125,y:5.604827880859375},{x:6.881500244140625,y:5.649932861328125},{x:6.895355224609375,y:5.69482421875},{x:6.9014892578125,y:5.739105224609375},{x:6.900421142578125,y:5.7823486328125},{x:6.89263916015625,y:5.824127197265625},{x:6.878692626953125,y:5.864013671875},{x:6.859100341796875,y:5.901580810546875},{x:6.834381103515625,y:5.9364013671875},{x:6.8050537109375,y:5.96807861328125},{x:6.771636962890625,y:5.996185302734375},{x:6.734649658203125,y:6.020263671875},{x:6.69464111328125,y:6.0399169921875},{x:6.652099609375,y:6.05474853515625},{x:6.6075439453125,y:6.06427001953125},{x:6.5615234375,y:6.068115234375},{x:6.5145263671875,y:6.06585693359375},{x:6.463104248046875,y:6.0562744140625},{x:6.41558837890625,y:6.040252685546875},{x:6.3720703125,y:6.018341064453125},{x:6.332672119140625,y:5.991119384765625},{x:6.297454833984375,y:5.959136962890625},{x:6.26654052734375,y:5.923004150390625},{x:6.24005126953125,y:5.88323974609375},{x:6.218048095703125,y:5.840423583984375},{x:6.200653076171875,y:5.795166015625},{x:6.187957763671875,y:5.748016357421875},{x:6.180084228515625,y:5.69952392578125},{x:6.1771240234375,y:5.6502685546875},{x:6.179168701171875,y:5.600830078125},{x:6.18634033203125,y:5.551788330078125},{x:6.198699951171875,y:5.503692626953125},{x:6.216400146484375,y:5.45709228515625},{x:6.31707763671875,y:5.253692626953125},{x:6.259490966796875,y:5.294891357421875},{x:6.204193115234375,y:5.337890625},{x:6.1512451171875,y:5.3829345703125},{x:6.1005859375,y:5.430145263671875},{x:6.05224609375,y:5.479705810546875},{x:6.006195068359375,y:5.531768798828125},{x:5.962432861328125,y:5.5865478515625},{x:5.92095947265625,y:5.644134521484375},{x:5.8880615234375,y:5.69482421875},{x:5.85675048828125,y:5.748291015625},{x:5.82745361328125,y:5.804107666015625},{x:5.800628662109375,y:5.8619384765625},{x:5.7767333984375,y:5.92144775390625},{x:5.75616455078125,y:5.982208251953125},{x:5.739410400390625,y:6.043914794921875},{x:5.72686767578125,y:6.10614013671875},{x:5.718994140625,y:6.16851806640625},{x:5.71624755859375,y:6.230743408203125},{x:5.719024658203125,y:6.292388916015625},{x:5.727813720703125,y:6.35308837890625},{x:5.743011474609375,y:6.412506103515625},{x:5.765106201171875,y:6.470245361328125},{x:5.79449462890625,y:6.525970458984375},{x:5.81207275390625,y:6.552947998046875},{x:5.831634521484375,y:6.57928466796875},{x:5.84912109375,y:6.59967041015625},{x:5.867584228515625,y:6.617919921875},{x:5.886962890625,y:6.634124755859375},{x:5.907073974609375,y:6.648284912109375},{x:5.94915771484375,y:6.670684814453125},{x:5.99285888671875,y:6.68548583984375},{x:6.037261962890625,y:6.69293212890625},{x:6.0814208984375,y:6.69342041015625},{x:6.124420166015625,y:6.687225341796875},{x:6.165283203125,y:6.674713134765625},{x:6.203094482421875,y:6.656158447265625},{x:6.236907958984375,y:6.63189697265625},{x:6.265777587890625,y:6.602294921875},{x:6.278045654296875,y:6.585540771484375},{x:6.28875732421875,y:6.567596435546875},{x:6.2977294921875,y:6.5484619140625},{x:6.304901123046875,y:6.5281982421875},{x:6.310150146484375,y:6.506805419921875},{x:6.313323974609375,y:6.484375},{x:6.314300537109375,y:6.460906982421875},{x:6.313018798828125,y:6.43646240234375},{x:6.309295654296875,y:6.411102294921875},{x:6.303070068359375,y:6.38482666015625},{x:6.293243408203125,y:6.35833740234375},{x:6.27911376953125,y:6.333221435546875},{x:6.261199951171875,y:6.31060791015625},{x:6.240081787109375,y:6.29156494140625},{x:6.216278076171875,y:6.277191162109375},{x:6.190338134765625,y:6.268585205078125},{x:6.16278076171875,y:6.266876220703125},{x:6.148590087890625,y:6.268951416015625},{x:6.13421630859375,y:6.27313232421875},{x:6.14404296875,y:6.300079345703125},{x:6.148529052734375,y:6.32562255859375},{x:6.14825439453125,y:6.3494873046875},{x:6.143829345703125,y:6.371337890625},{x:6.135772705078125,y:6.390899658203125},{x:6.12469482421875,y:6.407867431640625},{x:6.11114501953125,y:6.421905517578125},{x:6.095703125,y:6.432708740234375},{x:6.078948974609375,y:6.440032958984375},{x:6.06146240234375,y:6.443511962890625},{x:6.04376220703125,y:6.442840576171875},{x:6.0264892578125,y:6.437774658203125},{x:6.010162353515625,y:6.42791748046875},{x:5.99542236328125,y:6.413055419921875},{x:5.982757568359375,y:6.392822265625},{x:5.9727783203125,y:6.366943359375},{x:5.968170166015625,y:6.34747314453125},{x:5.9658203125,y:6.328826904296875},{x:5.965667724609375,y:6.311065673828125},{x:5.96759033203125,y:6.294158935546875},{x:5.971405029296875,y:6.27813720703125},{x:5.977081298828125,y:6.2630615234375},{x:5.993377685546875,y:6.235687255859375},{x:6.01556396484375,y:6.212249755859375},{x:6.04266357421875,y:6.192840576171875},{x:6.07373046875,y:6.17767333984375},{x:6.10784912109375,y:6.1668701171875},{x:6.14404296875,y:6.16064453125},{x:6.181427001953125,y:6.159088134765625},{x:6.218994140625,y:6.16241455078125},{x:6.255828857421875,y:6.1707763671875},{x:6.290985107421875,y:6.184295654296875},{x:6.323516845703125,y:6.20318603515625},{x:6.35247802734375,y:6.227569580078125},{x:6.376922607421875,y:6.25762939453125},{x:6.396636962890625,y:6.290771484375},{x:6.41204833984375,y:6.324127197265625},{x:6.423370361328125,y:6.35760498046875},{x:6.4307861328125,y:6.391021728515625},{x:6.4344482421875,y:6.424224853515625},{x:6.43450927734375,y:6.45703125},{x:6.43121337890625,y:6.48931884765625},{x:6.4246826171875,y:6.52093505859375},{x:6.415130615234375,y:6.551727294921875},{x:6.402679443359375,y:6.58148193359375},{x:6.3875732421875,y:6.610137939453125},{x:6.369903564453125,y:6.637451171875},{x:6.34991455078125,y:6.663299560546875},{x:6.327789306640625,y:6.68756103515625},{x:6.30364990234375,y:6.71002197265625},{x:6.277679443359375,y:6.7305908203125},{x:6.250091552734375,y:6.749053955078125},{x:6.221038818359375,y:6.7652587890625},{x:6.190673828125,y:6.779083251953125},{x:6.15924072265625,y:6.790374755859375},{x:6.1268310546875,y:6.7989501953125},{x:6.09368896484375,y:6.804656982421875},{x:6.0599365234375,y:6.807342529296875},{x:6.025787353515625,y:6.806854248046875},{x:5.991424560546875,y:6.803070068359375},{x:5.95697021484375,y:6.7957763671875},{x:5.92266845703125,y:6.784820556640625},{x:5.888641357421875,y:6.770111083984375},{x:5.855072021484375,y:6.751434326171875},{x:5.8221435546875,y:6.7286376953125},{x:5.790069580078125,y:6.70159912109375},{x:5.758941650390625,y:6.670135498046875},{x:5.7327880859375,y:6.638580322265625},{x:5.711395263671875,y:6.607177734375},{x:5.69384765625,y:6.5755615234375},{x:5.679290771484375,y:6.543365478515625},{x:5.655670166015625,y:6.475921630859375},{x:5.633575439453125,y:6.402099609375},{x:5.63201904296875,y:6.38983154296875},{x:5.62786865234375,y:6.388153076171875},{x:5.615692138671875,y:6.38897705078125},{x:5.59674072265625,y:6.469818115234375},{x:5.57293701171875,y:6.548492431640625},{x:5.544403076171875,y:6.624755859375},{x:5.51123046875,y:6.6983642578125},{x:5.4735107421875,y:6.769073486328125},{x:5.431365966796875,y:6.836578369140625},{x:5.384857177734375,y:6.900634765625},{x:5.3341064453125,y:6.961029052734375},{x:5.279205322265625,y:7.017425537109375},{x:5.22021484375,y:7.06964111328125},{x:5.157257080078125,y:7.117340087890625},{x:5.090423583984375,y:7.16033935546875},{x:5.01983642578125,y:7.198333740234375},{x:4.945526123046875,y:7.2310791015625},{x:4.867645263671875,y:7.25830078125},{x:4.786285400390625,y:7.279754638671875},{x:4.707366943359375,y:7.294281005859375},{x:4.6280517578125,y:7.302947998046875},{x:4.548797607421875,y:7.305755615234375},{x:4.470001220703125,y:7.302703857421875},{x:4.392059326171875,y:7.293853759765625},{x:4.31549072265625,y:7.2791748046875},{x:4.240631103515625,y:7.258758544921875},{x:4.16796875,y:7.2325439453125},{x:4.097900390625,y:7.20062255859375},{x:4.0308837890625,y:7.1629638671875},{x:3.967315673828125,y:7.11962890625},{x:3.90765380859375,y:7.07061767578125},{x:3.852325439453125,y:7.01593017578125},{x:3.801727294921875,y:6.955596923828125},{x:3.756317138671875,y:6.889678955078125},{x:3.716522216796875,y:6.818145751953125},{x:3.705535888671875,y:6.789947509765625},{x:3.696380615234375,y:6.760589599609375},{x:3.685150146484375,y:6.733123779296875},{x:3.67755126953125,y:6.7210693359375},{x:3.66796875,y:6.71063232421875},{x:3.667083740234375,y:6.709747314453125},{x:3.671539306640625,y:6.73419189453125},{x:3.674041748046875,y:6.759063720703125},{x:3.676239013671875,y:6.78399658203125},{x:3.67987060546875,y:6.80859375},{x:3.691253662109375,y:6.852447509765625},{x:3.70703125,y:6.899322509765625},{x:3.742279052734375,y:6.997772216796875},{x:3.756988525390625,y:7.047210693359375},{x:3.766571044921875,y:7.095367431640625},{x:3.768707275390625,y:7.118621826171875},{x:3.7686767578125,y:7.14117431640625},{x:3.766143798828125,y:7.162872314453125},{x:3.760894775390625,y:7.183563232421875},{x:3.74957275390625,y:7.208221435546875},{x:3.732391357421875,y:7.2349853515625},{x:3.687164306640625,y:7.2918701171875},{x:3.638580322265625,y:7.348114013671875},{x:3.617218017578125,y:7.374114990234375},{x:3.600067138671875,y:7.397705078125},{x:3.591033935546875,y:7.390625},{x:3.574310302734375,y:7.37176513671875},{x:3.528106689453125,y:7.31298828125},{x:3.481842041015625,y:7.25006103515625},{x:3.455902099609375,y:7.2115478515625},{x:3.446044921875,y:7.18975830078125},{x:3.439453125,y:7.16796875},{x:3.435791015625,y:7.14617919921875},{x:3.434814453125,y:7.124359130859375},{x:3.4361572265625,y:7.102569580078125},{x:3.439483642578125,y:7.080810546875},{x:3.45098876953125,y:7.037322998046875},{x:3.466796875,y:6.994049072265625},{x:3.484405517578125,y:6.95098876953125},{x:3.501251220703125,y:6.908203125},{x:3.514892578125,y:6.86578369140625},{x:3.524322509765625,y:6.82421875},{x:3.530914306640625,y:6.783660888671875},{x:3.54229736328125,y:6.70111083984375},{x:3.438934326171875,y:6.9149169921875},{x:3.405914306640625,y:6.960113525390625},{x:3.37091064453125,y:7.00244140625},{x:3.333984375,y:7.041900634765625},{x:3.295257568359375,y:7.07855224609375},{x:3.2548828125,y:7.11236572265625},{x:3.21295166015625,y:7.1434326171875},{x:3.169586181640625,y:7.17169189453125},{x:3.124908447265625,y:7.197235107421875},{x:3.07904052734375,y:7.220062255859375},{x:3.03204345703125,y:7.24017333984375},{x:2.984100341796875,y:7.257598876953125},{x:2.935302734375,y:7.272369384765625},{x:2.8857421875,y:7.28448486328125},{x:2.8355712890625,y:7.29400634765625},{x:2.784881591796875,y:7.3009033203125},{x:2.7337646484375,y:7.30523681640625},{x:2.682403564453125,y:7.306976318359375},{x:2.630859375,y:7.30621337890625},{x:2.57928466796875,y:7.302947998046875},{x:2.52777099609375,y:7.297149658203125},{x:2.4764404296875,y:7.28887939453125},{x:2.425384521484375,y:7.278167724609375},{x:2.374755859375,y:7.265045166015625},{x:2.32464599609375,y:7.249481201171875},{x:2.27520751953125,y:7.231536865234375},{x:2.22650146484375,y:7.211212158203125},{x:2.178680419921875,y:7.18853759765625},{x:2.1318359375,y:7.16351318359375},{x:2.086090087890625,y:7.136199951171875},{x:2.041595458984375,y:7.106597900390625},{x:1.9984130859375,y:7.074737548828125},{x:1.956695556640625,y:7.040618896484375},{x:1.92181396484375,y:7.009033203125},{x:1.888641357421875,y:6.975860595703125},{x:1.857177734375,y:6.94122314453125},{x:1.827392578125,y:6.905181884765625},{x:1.799285888671875,y:6.867828369140625},{x:1.772796630859375,y:6.82928466796875},{x:1.724700927734375,y:6.748931884765625},{x:1.682952880859375,y:6.66485595703125},{x:1.647430419921875,y:6.577789306640625},{x:1.618011474609375,y:6.48846435546875},{x:1.59454345703125,y:6.397613525390625},{x:1.587921142578125,y:6.3980712890625},{x:1.584503173828125,y:6.40228271484375},{x:1.581146240234375,y:6.415191650390625},{x:1.5653076171875,y:6.462738037109375},{x:1.547088623046875,y:6.508941650390625},{x:1.526458740234375,y:6.553375244140625},{x:1.503387451171875,y:6.59564208984375},{x:1.477813720703125,y:6.63531494140625},{x:1.44976806640625,y:6.6719970703125},{x:1.419219970703125,y:6.705230712890625},{x:1.3861083984375,y:6.734649658203125},{x:1.350433349609375,y:6.759796142578125},{x:1.312164306640625,y:6.7802734375},{x:1.27130126953125,y:6.795654296875},{x:1.227783203125,y:6.805572509765625},{x:1.181610107421875,y:6.809539794921875},{x:1.13275146484375,y:6.80718994140625},{x:1.081207275390625,y:6.798065185546875},{x:1.02691650390625,y:6.78179931640625},{x:.99334716796875,y:6.768096923828125},{x:.962371826171875,y:6.75213623046875},{x:.9339599609375,y:6.734130859375},{x:.9080810546875,y:6.714202880859375},{x:.8846435546875,y:6.692596435546875},{x:.86370849609375,y:6.66949462890625},{x:.845184326171875,y:6.64508056640625},{x:.829071044921875,y:6.619537353515625},{x:.815338134765625,y:6.593048095703125},{x:.803955078125,y:6.5657958984375},{x:.79486083984375,y:6.537994384765625},{x:.788055419921875,y:6.50982666015625},{x:.783538818359375,y:6.481475830078125},{x:.781219482421875,y:6.453125},{x:.7811279296875,y:6.424957275390625},{x:.783172607421875,y:6.397186279296875},{x:.787384033203125,y:6.369964599609375},{x:.793670654296875,y:6.343505859375},{x:.80206298828125,y:6.3179931640625},{x:.812530517578125,y:6.293609619140625},{x:.824981689453125,y:6.27056884765625},{x:.839447021484375,y:6.2490234375},{x:.85589599609375,y:6.22918701171875},{x:.874237060546875,y:6.211212158203125},{x:.89453125,y:6.195343017578125},{x:.916656494140625,y:6.181732177734375},{x:.940673828125,y:6.170562744140625},{x:.96649169921875,y:6.16204833984375},{x:.99407958984375,y:6.1563720703125},{x:1.023468017578125,y:6.1536865234375},{x:1.0545654296875,y:6.15423583984375},{x:1.087371826171875,y:6.158172607421875},{x:1.115142822265625,y:6.1654052734375},{x:1.14215087890625,y:6.177215576171875},{x:1.1676025390625,y:6.19305419921875},{x:1.190704345703125,y:6.21240234375},{x:1.210662841796875,y:6.23480224609375},{x:1.22674560546875,y:6.259735107421875},{x:1.23809814453125,y:6.28668212890625},{x:1.2440185546875,y:6.31512451171875},{x:1.24444580078125,y:6.34906005859375},{x:1.238983154296875,y:6.377227783203125},{x:1.228607177734375,y:6.399871826171875},{x:1.214263916015625,y:6.417144775390625},{x:1.196929931640625,y:6.429229736328125},{x:1.177581787109375,y:6.436309814453125},{x:1.157196044921875,y:6.4385986328125},{x:1.136688232421875,y:6.43621826171875},{x:1.1170654296875,y:6.429412841796875},{x:1.0992431640625,y:6.4183349609375},{x:1.084259033203125,y:6.403167724609375},{x:1.072998046875,y:6.38409423828125},{x:1.066497802734375,y:6.361328125},{x:1.065673828125,y:6.33502197265625},{x:1.071533203125,y:6.30535888671875},{x:1.0849609375,y:6.27252197265625},{x:1.06756591796875,y:6.267303466796875},{x:1.05047607421875,y:6.2646484375},{x:1.0338134765625,y:6.26446533203125},{x:1.01763916015625,y:6.26654052734375},{x:1.0020751953125,y:6.270721435546875},{x:.9871826171875,y:6.276885986328125},{x:.95989990234375,y:6.29443359375},{x:.9365234375,y:6.317901611328125},{x:.91778564453125,y:6.34600830078125},{x:.90447998046875,y:6.377471923828125},{x:.8973388671875,y:6.4110107421875},{x:.895538330078125,y:6.436920166015625},{x:.89581298828125,y:6.46173095703125},{x:.89813232421875,y:6.485382080078125},{x:.902313232421875,y:6.5079345703125},{x:.9083251953125,y:6.529296875},{x:.916015625,y:6.54949951171875},{x:.936126708984375,y:6.58624267578125},{x:.961822509765625,y:6.61798095703125},{x:.99224853515625,y:6.64459228515625},{x:1.02667236328125,y:6.665863037109375},{x:1.064208984375,y:6.681640625},{x:1.10406494140625,y:6.691741943359375},{x:1.14544677734375,y:6.696014404296875},{x:1.1875,y:6.69427490234375},{x:1.229461669921875,y:6.6864013671875},{x:1.270477294921875,y:6.672149658203125},{x:1.30975341796875,y:6.651397705078125},{x:1.346466064453125,y:6.623992919921875},{x:1.37982177734375,y:6.5897216796875},{x:1.404144287109375,y:6.5577392578125},{x:1.42523193359375,y:6.5244140625},{x:1.443267822265625,y:6.48980712890625},{x:1.458343505859375,y:6.454132080078125},{x:1.470611572265625,y:6.41748046875},{x:1.480194091796875,y:6.38006591796875},{x:1.48724365234375,y:6.341949462890625},{x:1.49188232421875,y:6.3033447265625},{x:1.49420166015625,y:6.264404296875},{x:1.494415283203125,y:6.2252197265625},{x:1.488861083984375,y:6.14678955078125},{x:1.476348876953125,y:6.069244384765625},{x:1.457855224609375,y:5.9937744140625},{x:1.440399169921875,y:5.93829345703125},{x:1.419830322265625,y:5.883331298828125},{x:1.396331787109375,y:5.82904052734375},{x:1.3699951171875,y:5.77557373046875},{x:1.341033935546875,y:5.72308349609375},{x:1.309539794921875,y:5.67169189453125},{x:1.27569580078125,y:5.621612548828125},{x:1.2396240234375,y:5.572967529296875},{x:1.20147705078125,y:5.52587890625},{x:1.161407470703125,y:5.4805908203125},{x:1.119537353515625,y:5.437164306640625},{x:1.0760498046875,y:5.39581298828125},{x:1.031097412109375,y:5.356658935546875},{x:.984771728515625,y:5.319854736328125},{x:.937255859375,y:5.28558349609375},{x:.888702392578125,y:5.253997802734375},{x:.984893798828125,y:5.439239501953125},{x:1.007659912109375,y:5.508331298828125},{x:1.01617431640625,y:5.543792724609375},{x:1.022613525390625,y:5.579681396484375},{x:1.026885986328125,y:5.615753173828125},{x:1.02886962890625,y:5.65185546875},{x:1.0284423828125,y:5.687774658203125},{x:1.025482177734375,y:5.723358154296875},{x:1.0198974609375,y:5.758392333984375},{x:1.0115966796875,y:5.792755126953125},{x:1.000396728515625,y:5.826171875},{x:.986236572265625,y:5.858551025390625},{x:.969024658203125,y:5.8896484375},{x:.948577880859375,y:5.919281005859375},{x:.924835205078125,y:5.94732666015625},{x:.89764404296875,y:5.9735107421875},{x:.867584228515625,y:5.99749755859375},{x:.8369140625,y:6.017730712890625},{x:.8057861328125,y:6.034332275390625},{x:.77435302734375,y:6.0474853515625},{x:.742767333984375,y:6.057281494140625},{x:.711151123046875,y:6.06390380859375},{x:.679656982421875,y:6.06744384765625},{x:.6484375,y:6.068084716796875},{x:.61767578125,y:6.065948486328125},{x:.58746337890625,y:6.061187744140625},{x:.5579833984375,y:6.053955078125},{x:.52935791015625,y:6.04437255859375},{x:.50177001953125,y:6.032562255859375},{x:.475311279296875,y:6.0186767578125},{x:.4501953125,y:6.002899169921875},{x:.426544189453125,y:5.985321044921875},{x:.40447998046875,y:5.966094970703125},{x:.3841552734375,y:5.94537353515625},{x:.365753173828125,y:5.923309326171875},{x:.349395751953125,y:5.899993896484375},{x:.335235595703125,y:5.8756103515625},{x:.32342529296875,y:5.850311279296875},{x:.314117431640625,y:5.824188232421875},{x:.30743408203125,y:5.79742431640625},{x:.30352783203125,y:5.7701416015625},{x:.30255126953125,y:5.742462158203125},{x:.304656982421875,y:5.714569091796875},{x:.310028076171875,y:5.68658447265625},{x:.3187255859375,y:5.65863037109375},{x:.33099365234375,y:5.630889892578125},{x:.346893310546875,y:5.603485107421875},{x:.36663818359375,y:5.5765380859375},{x:.38812255859375,y:5.554168701171875},{x:.412445068359375,y:5.53607177734375},{x:.438934326171875,y:5.522125244140625},{x:.467010498046875,y:5.51226806640625},{x:.49603271484375,y:5.506378173828125},{x:.525360107421875,y:5.50439453125},{x:.554412841796875,y:5.506195068359375},{x:.582550048828125,y:5.511688232421875},{x:.609161376953125,y:5.520782470703125},{x:.63360595703125,y:5.533416748046875},{x:.6552734375,y:5.5494384765625},{x:.673553466796875,y:5.568817138671875},{x:.687774658203125,y:5.5914306640625},{x:.6973876953125,y:5.6171875},{x:.70172119140625,y:5.646026611328125},{x:.7001953125,y:5.67779541015625},{x:.6962890625,y:5.694366455078125},{x:.689788818359375,y:5.708587646484375},{x:.68109130859375,y:5.72052001953125},{x:.670501708984375,y:5.730224609375},{x:.658416748046875,y:5.737762451171875},{x:.6451416015625,y:5.7431640625},{x:.631072998046875,y:5.746490478515625},{x:.616546630859375,y:5.747802734375},{x:.587493896484375,y:5.744598388671875},{x:.573699951171875,y:5.74017333984375},{x:.56085205078125,y:5.73394775390625},{x:.54931640625,y:5.725982666015625},{x:.539398193359375,y:5.71630859375},{x:.531494140625,y:5.704986572265625},{x:.525970458984375,y:5.69207763671875},{x:.52374267578125,y:5.677490234375},{x:.524749755859375,y:5.6629638671875},{x:.528656005859375,y:5.63848876953125},{x:.5277099609375,y:5.630645751953125},{x:.52227783203125,y:5.627166748046875},{x:.51043701171875,y:5.629119873046875},{x:.490234375,y:5.6375732421875},{x:.46832275390625,y:5.650634765625},{x:.450958251953125,y:5.666046142578125},{x:.4378662109375,y:5.6834716796875},{x:.4288330078125,y:5.70257568359375},{x:.423583984375,y:5.722930908203125},{x:.42193603515625,y:5.7442626953125},{x:.423614501953125,y:5.76611328125},{x:.4283447265625,y:5.7882080078125},{x:.43597412109375,y:5.81011962890625},{x:.446197509765625,y:5.831512451171875},{x:.45880126953125,y:5.852020263671875},{x:.47357177734375,y:5.87127685546875},{x:.490203857421875,y:5.888916015625},{x:.508514404296875,y:5.90460205078125},{x:.52825927734375,y:5.917938232421875},{x:.5491943359375,y:5.928558349609375},{x:.5904541015625,y:5.94287109375},{x:.630462646484375,y:5.950408935546875},{x:.6689453125,y:5.951568603515625},{x:.70562744140625,y:5.94683837890625},{x:.7403564453125,y:5.936676025390625},{x:.772796630859375,y:5.9215087890625},{x:.802764892578125,y:5.901763916015625},{x:.83001708984375,y:5.8779296875},{x:.854248046875,y:5.850433349609375},{x:.87530517578125,y:5.819732666015625},{x:.89288330078125,y:5.7862548828125},{x:.90673828125,y:5.75048828125},{x:.916656494140625,y:5.71282958984375},{x:.922393798828125,y:5.67376708984375},{x:.923675537109375,y:5.633758544921875},{x:.9202880859375,y:5.59320068359375},{x:.908172607421875,y:5.53350830078125},{x:.889739990234375,y:5.47674560546875},{x:.8656005859375,y:5.422698974609375},{x:.836395263671875,y:5.3712158203125},{x:.802734375,y:5.321990966796875},{x:.76519775390625,y:5.27484130859375},{x:.724395751953125,y:5.229583740234375},{x:.68096923828125,y:5.185943603515625},{x:.635528564453125,y:5.14373779296875},{x:.58868408203125,y:5.10272216796875},{x:.493194580078125,y:5.023468017578125},{x:.39935302734375,y:4.9464111328125},{x:.3121337890625,y:4.86981201171875},{x:.38568115234375,y:5.0821533203125},{x:.39117431640625,y:5.1151123046875},{x:.393280029296875,y:5.153076171875},{x:.391571044921875,y:5.193817138671875},{x:.3856201171875,y:5.23504638671875},{x:.375,y:5.2745361328125},{x:.35931396484375,y:5.310028076171875},{x:.34942626953125,y:5.3255615234375},{x:.338104248046875,y:5.339263916015625},{x:.325286865234375,y:5.350830078125},{x:.310943603515625,y:5.360015869140625},{x:.293121337890625,y:5.36749267578125},{x:.27667236328125,y:5.370849609375},{x:.26165771484375,y:5.370513916015625},{x:.248138427734375,y:5.366851806640625},{x:.23614501953125,y:5.360260009765625},{x:.22576904296875,y:5.351165771484375},{x:.217041015625,y:5.3399658203125},{x:.210052490234375,y:5.3270263671875},{x:.204833984375,y:5.312774658203125},{x:.20147705078125,y:5.297607421875},{x:.200469970703125,y:5.26611328125},{x:.20294189453125,y:5.250579833984375},{x:.20751953125,y:5.2357177734375},{x:.214202880859375,y:5.221923828125},{x:.22308349609375,y:5.209625244140625},{x:.23760986328125,y:5.19891357421875},{x:.255859375,y:5.19085693359375},{x:.273162841796875,y:5.1832275390625},{x:.2850341796875,y:5.17388916015625},{x:.288787841796875,y:5.15948486328125},{x:.287811279296875,y:5.1368408203125},{x:.283233642578125,y:5.1085205078125},{x:.276092529296875,y:5.0771484375},{x:.258575439453125,y:5.01580810546875},{x:.243927001953125,y:4.9737548828125},{x:.214569091796875,y:4.909393310546875},{x:.181121826171875,y:4.846405029296875},{x:.110443115234375,y:4.72149658203125},{x:.077484130859375,y:4.657928466796875},{x:.04901123046875,y:4.592529296875},{x:.037109375,y:4.558929443359375},{x:.02716064453125,y:4.524566650390625},{x:.01934814453125,y:4.48931884765625},{x:.014007568359375,y:4.453155517578125},{x:.018218994140625,y:4.3604736328125},{x:.020416259765625,y:4.266754150390625},{x:.02008056640625,y:4.076934814453125},{x:.015411376953125,y:3.884918212890625},{x:.008880615234375,y:3.691925048828125},{x:.0029296875,y:3.499237060546875},{x:30517578125e-15,y:3.30804443359375},{x:.002593994140625,y:3.11962890625},{x:.0067138671875,y:3.026824951171875},{x:.01312255859375,y:2.9351806640625},{x:.02008056640625,y:2.88531494140625},{x:.031982421875,y:2.837127685546875},{x:.04803466796875,y:2.790313720703125},{x:.06744384765625,y:2.74468994140625},{x:.089447021484375,y:2.699981689453125},{x:.11328125,y:2.655914306640625},{x:.163299560546875,y:2.568817138671875},{x:.211273193359375,y:2.481414794921875},{x:.232574462890625,y:2.43701171875},{x:.251007080078125,y:2.391754150390625},{x:.265838623046875,y:2.345458984375},{x:.276275634765625,y:2.297882080078125},{x:.28155517578125,y:2.24871826171875},{x:.280853271484375,y:2.197784423828125},{x:.26019287109375,y:2.197906494140625},{x:.242462158203125,y:2.19305419921875},{x:.2276611328125,y:2.18402099609375},{x:.21575927734375,y:2.171539306640625},{x:.206756591796875,y:2.156341552734375},{x:.200592041015625,y:2.13916015625},{x:.197265625,y:2.120758056640625},{x:.19671630859375,y:2.10186767578125},{x:.198974609375,y:2.083251953125},{x:.2039794921875,y:2.065643310546875},{x:.211700439453125,y:2.0498046875},{x:.222137451171875,y:2.03643798828125},{x:.235260009765625,y:2.026336669921875},{x:.251007080078125,y:2.020233154296875},{x:.2694091796875,y:2.01885986328125},{x:.2904052734375,y:2.02294921875},{x:.305084228515625,y:2.02911376953125},{x:.31854248046875,y:2.037689208984375},{x:.330810546875,y:2.0484619140625},{x:.34185791015625,y:2.06109619140625},{x:.360504150390625,y:2.09100341796875},{x:.374542236328125,y:2.125335693359375},{x:.38409423828125,y:2.161895751953125},{x:.389312744140625,y:2.1986083984375},{x:.39031982421875,y:2.233306884765625},{x:.387176513671875,y:2.263885498046875},{x:.3121337890625,y:2.501556396484375},{x:.408111572265625,y:2.422149658203125},{x:.514007568359375,y:2.3355712890625},{x:.621917724609375,y:2.241668701171875},{x:.67413330078125,y:2.191986083984375},{x:.723876953125,y:2.140411376953125},{x:.7701416015625,y:2.086944580078125},{x:.811920166015625,y:2.0316162109375},{x:.848236083984375,y:1.974395751953125},{x:.87811279296875,y:1.915252685546875},{x:.89031982421875,y:1.88494873046875},{x:.900543212890625,y:1.85418701171875},{x:.90863037109375,y:1.82293701171875},{x:.91448974609375,y:1.79119873046875},{x:.917999267578125,y:1.758941650390625},{x:.919036865234375,y:1.726226806640625},{x:.917449951171875,y:1.693023681640625},{x:.91314697265625,y:1.6593017578125},{x:.9058837890625,y:1.6280517578125},{x:.89508056640625,y:1.59857177734375},{x:.8809814453125,y:1.571014404296875},{x:.8638916015625,y:1.54559326171875},{x:.844146728515625,y:1.522430419921875},{x:.821990966796875,y:1.501708984375},{x:.797760009765625,y:1.48358154296875},{x:.771697998046875,y:1.46820068359375},{x:.744171142578125,y:1.455718994140625},{x:.71539306640625,y:1.4462890625},{x:.68572998046875,y:1.44012451171875},{x:.65545654296875,y:1.437347412109375},{x:.62481689453125,y:1.4381103515625},{x:.59417724609375,y:1.442596435546875},{x:.563812255859375,y:1.450958251953125},{x:.53399658203125,y:1.463348388671875},{x:.512481689453125,y:1.4759521484375},{x:.49267578125,y:1.491455078125},{x:.474822998046875,y:1.5093994140625},{x:.459136962890625,y:1.529266357421875},{x:.445892333984375,y:1.5506591796875},{x:.43524169921875,y:1.573089599609375},{x:.427459716796875,y:1.5960693359375},{x:.4227294921875,y:1.619140625},{x:.421295166015625,y:1.641845703125},{x:.42340087890625,y:1.6636962890625},{x:.42919921875,y:1.68426513671875},{x:.438995361328125,y:1.703033447265625},{x:.45294189453125,y:1.719573974609375},{x:.471282958984375,y:1.7333984375},{x:.4942626953125,y:1.744049072265625},{x:.5220947265625,y:1.75103759765625},{x:.522064208984375,y:1.72357177734375},{x:.526611328125,y:1.69989013671875},{x:.53509521484375,y:1.680023193359375},{x:.546875,y:1.663909912109375},{x:.56121826171875,y:1.651580810546875},{x:.577545166015625,y:1.643035888671875},{x:.5950927734375,y:1.638275146484375},{x:.61328125,y:1.637237548828125},{x:.631378173828125,y:1.63995361328125},{x:.64874267578125,y:1.64642333984375},{x:.664703369140625,y:1.656646728515625},{x:.678619384765625,y:1.67059326171875},{x:.68975830078125,y:1.688262939453125},{x:.697540283203125,y:1.70965576171875},{x:.70123291015625,y:1.7347412109375},{x:.7001953125,y:1.7635498046875},{x:.69720458984375,y:1.78057861328125},{x:.69244384765625,y:1.796234130859375},{x:.67822265625,y:1.82354736328125},{x:.658416748046875,y:1.845611572265625},{x:.633941650390625,y:1.862518310546875},{x:.605743408203125,y:1.87445068359375},{x:.57470703125,y:1.8814697265625},{x:.541748046875,y:1.88372802734375},{x:.5078125,y:1.88128662109375},{x:.4737548828125,y:1.874359130859375},{x:.4405517578125,y:1.86297607421875},{x:.409088134765625,y:1.8472900390625},{x:.38031005859375,y:1.827423095703125},{x:.3551025390625,y:1.803466796875},{x:.3343505859375,y:1.775604248046875},{x:.31903076171875,y:1.743896484375},{x:.31005859375,y:1.708465576171875},{x:.30621337890625,y:1.660247802734375},{x:.30889892578125,y:1.613983154296875},{x:.317657470703125,y:1.569976806640625},{x:.332000732421875,y:1.528533935546875},{x:.35150146484375,y:1.489990234375},{x:.37567138671875,y:1.454620361328125},{x:.404052734375,y:1.422760009765625},{x:.436187744140625,y:1.39471435546875},{x:.471588134765625,y:1.370758056640625},{x:.509796142578125,y:1.35125732421875},{x:.550384521484375,y:1.33648681640625},{x:.59283447265625,y:1.326751708984375},{x:.63671875,y:1.3223876953125},{x:.681549072265625,y:1.32366943359375},{x:.726898193359375,y:1.330963134765625},{x:.77227783203125,y:1.344512939453125},{x:.817108154296875,y:1.3641357421875},{x:.857269287109375,y:1.3875732421875},{x:.892791748046875,y:1.414520263671875},{x:.923828125,y:1.444671630859375},{x:.95050048828125,y:1.47772216796875},{x:.972869873046875,y:1.5133056640625},{x:.991058349609375,y:1.551177978515625},{x:1.00518798828125,y:1.590972900390625},{x:1.015380859375,y:1.63238525390625},{x:1.02166748046875,y:1.675079345703125},{x:1.024261474609375,y:1.718780517578125},{x:1.023162841796875,y:1.763153076171875},{x:1.0185546875,y:1.807891845703125},{x:1.010528564453125,y:1.8526611328125},{x:.999176025390625,y:1.89715576171875},{x:.984619140625,y:1.9410400390625},{x:.89288330078125,y:2.12628173828125},{x:.967926025390625,y:2.076507568359375},{x:1.0390625,y:2.021453857421875},{x:1.106109619140625,y:1.96142578125},{x:1.16900634765625,y:1.896820068359375},{x:1.2275390625,y:1.827972412109375},{x:1.281585693359375,y:1.755218505859375},{x:1.33099365234375,y:1.678924560546875},{x:1.375640869140625,y:1.599456787109375},{x:1.4149169921875,y:1.515625},{x:1.43206787109375,y:1.471832275390625},{x:1.4473876953125,y:1.427032470703125},{x:1.460693359375,y:1.381378173828125},{x:1.471832275390625,y:1.3350830078125},{x:1.48065185546875,y:1.288299560546875},{x:1.48699951171875,y:1.2412109375},{x:1.490692138671875,y:1.194000244140625},{x:1.4915771484375,y:1.1468505859375},{x:1.489501953125,y:1.099945068359375},{x:1.48431396484375,y:1.053436279296875},{x:1.475860595703125,y:1.007537841796875},{x:1.4639892578125,y:.96240234375},{x:1.448486328125,y:.918212890625},{x:1.42926025390625,y:.875152587890625},{x:1.410308837890625,y:.84222412109375},{x:1.387969970703125,y:.812164306640625},{x:1.362579345703125,y:.78515625},{x:1.334625244140625,y:.761383056640625},{x:1.304473876953125,y:.740997314453125},{x:1.272552490234375,y:.7242431640625},{x:1.239288330078125,y:.711273193359375},{x:1.205078125,y:.7022705078125},{x:1.17034912109375,y:.697418212890625},{x:1.135498046875,y:.696929931640625},{x:1.100982666015625,y:.700958251953125},{x:1.067138671875,y:.709716796875},{x:1.03448486328125,y:.723388671875},{x:1.00335693359375,y:.74212646484375},{x:.97418212890625,y:.766143798828125},{x:.9473876953125,y:.795623779296875},{x:.929901123046875,y:.82122802734375},{x:.91583251953125,y:.84881591796875},{x:.905181884765625,y:.8778076171875},{x:.89801025390625,y:.907623291015625},{x:.894317626953125,y:.937652587890625},{x:.894073486328125,y:.96734619140625},{x:.8973388671875,y:.996124267578125},{x:.904083251953125,y:1.023345947265625},{x:.914337158203125,y:1.048492431640625},{x:.928131103515625,y:1.070953369140625},{x:.9454345703125,y:1.090118408203125},{x:.966278076171875,y:1.105438232421875},{x:.99066162109375,y:1.116302490234375},{x:1.01861572265625,y:1.12213134765625},{x:1.0501708984375,y:1.12237548828125},{x:1.08526611328125,y:1.11639404296875},{x:1.071441650390625,y:1.08343505859375},{x:1.0648193359375,y:1.053985595703125},{x:1.064544677734375,y:1.02813720703125},{x:1.06976318359375,y:1.006011962890625},{x:1.07952880859375,y:.9876708984375},{x:1.093017578125,y:.973236083984375},{x:1.10931396484375,y:.96282958984375},{x:1.127532958984375,y:.95654296875},{x:1.14678955078125,y:.954437255859375},{x:1.16619873046875,y:.9566650390625},{x:1.184906005859375,y:.963287353515625},{x:1.201995849609375,y:.97442626953125},{x:1.216583251953125,y:.990142822265625},{x:1.227813720703125,y:1.0106201171875},{x:1.234771728515625,y:1.035888671875},{x:1.236572265625,y:1.066070556640625},{x:1.232421875,y:1.099334716796875},{x:1.222747802734375,y:1.128936767578125},{x:1.20819091796875,y:1.154876708984375},{x:1.189300537109375,y:1.177154541015625},{x:1.16668701171875,y:1.195770263671875},{x:1.141021728515625,y:1.21075439453125},{x:1.11285400390625,y:1.222076416015625},{x:1.08282470703125,y:1.22979736328125},{x:1.051513671875,y:1.233856201171875},{x:1.019561767578125,y:1.234344482421875},{x:.987579345703125,y:1.231201171875},{x:.956146240234375,y:1.224456787109375},{x:.925872802734375,y:1.214111328125},{x:.89739990234375,y:1.2001953125},{x:.871307373046875,y:1.182708740234375},{x:.84820556640625,y:1.161651611328125},{x:.821044921875,y:1.127471923828125},{x:.80035400390625,y:1.09051513671875},{x:.785858154296875,y:1.0513916015625},{x:.7772216796875,y:1.010650634765625},{x:.774169921875,y:.968841552734375},{x:.776397705078125,y:.926605224609375},{x:.78363037109375,y:.88446044921875},{x:.795562744140625,y:.842987060546875},{x:.811920166015625,y:.80279541015625},{x:.832366943359375,y:.764404296875},{x:.85662841796875,y:.728424072265625},{x:.8843994140625,y:.6954345703125},{x:.9154052734375,y:.665985107421875},{x:.9493408203125,y:.64068603515625},{x:.98590087890625,y:.62005615234375},{x:1.024810791015625,y:.604736328125},{x:1.06695556640625,y:.59375},{x:1.108673095703125,y:.587188720703125},{x:1.1497802734375,y:.584869384765625},{x:1.19012451171875,y:.586669921875},{x:1.22955322265625,y:.5924072265625},{x:1.267822265625,y:.601959228515625},{x:1.304779052734375,y:.615142822265625},{x:1.340240478515625,y:.631805419921875},{x:1.374053955078125,y:.65179443359375},{x:1.405975341796875,y:.67498779296875},{x:1.4359130859375,y:.701171875},{x:1.463592529296875,y:.730255126953125},{x:1.488922119140625,y:.762054443359375},{x:1.51165771484375,y:.79638671875},{x:1.5316162109375,y:.833160400390625},{x:1.548675537109375,y:.872161865234375},{x:1.59454345703125,y:1.00946044921875},{x:1.604461669921875,y:.954071044921875},{x:1.6171875,y:.899505615234375},{x:1.632659912109375,y:.84588623046875},{x:1.650848388671875,y:.793304443359375},{x:1.671661376953125,y:.741851806640625},{x:1.69500732421875,y:.691619873046875},{x:1.72088623046875,y:.6427001953125},{x:1.749237060546875,y:.595245361328125},{x:1.779937744140625,y:.549285888671875},{x:1.812957763671875,y:.504974365234375},{x:1.8482666015625,y:.462371826171875},{x:1.8857421875,y:.421600341796875},{x:1.925384521484375,y:.382720947265625},{x:1.967071533203125,y:.34588623046875},{x:2.01080322265625,y:.3111572265625},{x:2.05645751953125,y:.27862548828125},{x:2.09918212890625,y:.251220703125},{x:2.14300537109375,y:.225860595703125},{x:2.187774658203125,y:.202545166015625},{x:2.233428955078125,y:.18133544921875},{x:2.27984619140625,y:.162200927734375},{x:2.326934814453125,y:.14520263671875},{x:2.37457275390625,y:.13031005859375},{x:2.422698974609375,y:.117584228515625},{x:2.47119140625,y:.107025146484375},{x:2.519927978515625,y:.0986328125},{x:2.56884765625,y:.09246826171875},{x:2.617828369140625,y:.088531494140625},{x:2.666748046875,y:.0867919921875},{x:2.715545654296875,y:.08734130859375},{x:2.76409912109375,y:.090179443359375},{x:2.81231689453125,y:.09527587890625},{x:2.860107421875,y:.102691650390625},{x:2.907318115234375,y:.1124267578125},{x:2.95391845703125,y:.124542236328125},{x:2.999755859375,y:.13897705078125},{x:3.04473876953125,y:.15582275390625},{x:3.088775634765625,y:.175048828125},{x:3.131744384765625,y:.19671630859375},{x:3.173583984375,y:.220794677734375},{x:3.21417236328125,y:.247314453125},{x:3.25341796875,y:.27630615234375},{x:3.29119873046875,y:.30780029296875},{x:3.327423095703125,y:.341796875},{x:3.361968994140625,y:.378326416015625},{x:3.394775390625,y:.417388916015625},{x:3.42572021484375,y:.458984375},{x:3.4547119140625,y:.503173828125},{x:3.533660888671875,y:.669952392578125},{x:3.53643798828125,y:.642120361328125},{x:3.535919189453125,y:.613616943359375},{x:3.5325927734375,y:.5845947265625},{x:3.526885986328125,y:.555145263671875},{x:3.51031494140625,y:.49542236328125},{x:3.48992919921875,y:.43536376953125},{x:3.469482421875,y:.375885009765625},{x:3.45263671875,y:.317901611328125},{x:3.44677734375,y:.289764404296875},{x:3.443206787109375,y:.262359619140625},{x:3.44244384765625,y:.235748291015625},{x:3.44488525390625,y:.210113525390625},{x:3.451873779296875,y:.19476318359375},{x:3.467987060546875,y:.16827392578125},{x:3.515960693359375,y:.0980224609375},{x:3.5655517578125,y:.031402587890625},{x:3.58367919921875,y:.009490966796875},{x:3.593505859375,y:.000457763671875},{x:3.603759765625,y:.00115966796875}],[{x:3.5960693359375,y:6.985260009765625},{x:3.58843994140625,y:7.001983642578125},{x:3.569122314453125,y:7.05322265625},{x:3.551666259765625,y:7.105987548828125},{x:3.544677734375,y:7.133544921875},{x:3.554168701171875,y:7.15289306640625},{x:3.574462890625,y:7.184539794921875},{x:3.597198486328125,y:7.2122802734375},{x:3.60687255859375,y:7.2196044921875},{x:3.61083984375,y:7.22076416015625},{x:3.614044189453125,y:7.21990966796875},{x:3.65814208984375,y:7.13531494140625},{x:3.6009521484375,y:6.978973388671875},{x:3.5960693359375,y:6.985260009765625}],[{x:1.014404296875,y:4.564849853515625},{x:1.01593017578125,y:4.6275634765625},{x:1.014129638671875,y:4.656829833984375},{x:1.010009765625,y:4.68499755859375},{x:1.0030517578125,y:4.71240234375},{x:.992767333984375,y:4.73931884765625},{x:.978759765625,y:4.765960693359375},{x:.960479736328125,y:4.79266357421875},{x:.942413330078125,y:4.81402587890625},{x:.9224853515625,y:4.8333740234375},{x:.90087890625,y:4.850738525390625},{x:.877777099609375,y:4.8662109375},{x:.85333251953125,y:4.879852294921875},{x:.827789306640625,y:4.8917236328125},{x:.774017333984375,y:4.910430908203125},{x:.717864990234375,y:4.92279052734375},{x:.66082763671875,y:4.9293212890625},{x:.60430908203125,y:4.930572509765625},{x:.5498046875,y:4.926971435546875},{x:.643463134765625,y:4.98760986328125},{x:.751556396484375,y:5.0526123046875},{x:.809722900390625,y:5.084808349609375},{x:.86993408203125,y:5.115814208984375},{x:.93170166015625,y:5.144775390625},{x:.9945068359375,y:5.1710205078125},{x:1.057830810546875,y:5.193695068359375},{x:1.121185302734375,y:5.212066650390625},{x:1.18402099609375,y:5.225372314453125},{x:1.245849609375,y:5.23284912109375},{x:1.30615234375,y:5.233673095703125},{x:1.3355712890625,y:5.23138427734375},{x:1.364410400390625,y:5.22711181640625},{x:1.392608642578125,y:5.2208251953125},{x:1.42010498046875,y:5.21240234375},{x:1.44683837890625,y:5.201751708984375},{x:1.472747802734375,y:5.18878173828125},{x:1.493804931640625,y:5.175689697265625},{x:1.51348876953125,y:5.160797119140625},{x:1.531646728515625,y:5.144256591796875},{x:1.548126220703125,y:5.126251220703125},{x:1.562774658203125,y:5.106964111328125},{x:1.575469970703125,y:5.086578369140625},{x:1.5860595703125,y:5.06524658203125},{x:1.594390869140625,y:5.043182373046875},{x:1.600341796875,y:5.0205078125},{x:1.603790283203125,y:4.9974365234375},{x:1.60455322265625,y:4.97412109375},{x:1.60247802734375,y:4.950775146484375},{x:1.59747314453125,y:4.927520751953125},{x:1.58935546875,y:4.904571533203125},{x:1.5780029296875,y:4.882110595703125},{x:1.563262939453125,y:4.860260009765625},{x:1.551666259765625,y:4.847259521484375},{x:1.538299560546875,y:4.835845947265625},{x:1.5234375,y:4.826080322265625},{x:1.50738525390625,y:4.818023681640625},{x:1.472869873046875,y:4.807342529296875},{x:1.437042236328125,y:4.80426025390625},{x:1.419342041015625,y:4.805694580078125},{x:1.4022216796875,y:4.809234619140625},{x:1.38592529296875,y:4.814910888671875},{x:1.370758056640625,y:4.822784423828125},{x:1.35699462890625,y:4.83294677734375},{x:1.344940185546875,y:4.84539794921875},{x:1.334869384765625,y:4.860260009765625},{x:1.327117919921875,y:4.8775634765625},{x:1.355804443359375,y:4.883575439453125},{x:1.377838134765625,y:4.89337158203125},{x:1.3936767578125,y:4.906219482421875},{x:1.403778076171875,y:4.921295166015625},{x:1.408599853515625,y:4.937835693359375},{x:1.4085693359375,y:4.955078125},{x:1.4041748046875,y:4.97222900390625},{x:1.39581298828125,y:4.988525390625},{x:1.384002685546875,y:5.003173828125},{x:1.369140625,y:5.015380859375},{x:1.3516845703125,y:5.0244140625},{x:1.332122802734375,y:5.029449462890625},{x:1.310882568359375,y:5.02972412109375},{x:1.288421630859375,y:5.024505615234375},{x:1.26519775390625,y:5.012939453125},{x:1.24163818359375,y:4.994293212890625},{x:1.229736328125,y:4.981231689453125},{x:1.220001220703125,y:4.9669189453125},{x:1.21234130859375,y:4.951507568359375},{x:1.206695556640625,y:4.935211181640625},{x:1.201171875,y:4.90081787109375},{x:1.202789306640625,y:4.865264892578125},{x:1.210968017578125,y:4.8302001953125},{x:1.22509765625,y:4.797210693359375},{x:1.244537353515625,y:4.76788330078125},{x:1.26873779296875,y:4.74383544921875},{x:1.29168701171875,y:4.727783203125},{x:1.315765380859375,y:4.71484375},{x:1.34075927734375,y:4.7049560546875},{x:1.366455078125,y:4.697998046875},{x:1.392608642578125,y:4.693878173828125},{x:1.419036865234375,y:4.692474365234375},{x:1.445556640625,y:4.693695068359375},{x:1.471923828125,y:4.697479248046875},{x:1.4979248046875,y:4.703704833984375},{x:1.523345947265625,y:4.712249755859375},{x:1.54803466796875,y:4.723052978515625},{x:1.571685791015625,y:4.735992431640625},{x:1.59417724609375,y:4.7509765625},{x:1.615234375,y:4.767913818359375},{x:1.63470458984375,y:4.786712646484375},{x:1.652313232421875,y:4.8072509765625},{x:1.678680419921875,y:4.846160888671875},{x:1.69830322265625,y:4.885894775390625},{x:1.7115478515625,y:4.92608642578125},{x:1.718658447265625,y:4.966400146484375},{x:1.720001220703125,y:5.0064697265625},{x:1.715850830078125,y:5.045928955078125},{x:1.70654296875,y:5.08441162109375},{x:1.6923828125,y:5.12158203125},{x:1.67364501953125,y:5.15704345703125},{x:1.65069580078125,y:5.1904296875},{x:1.623779296875,y:5.221435546875},{x:1.59326171875,y:5.249664306640625},{x:1.5594482421875,y:5.27471923828125},{x:1.522613525390625,y:5.29632568359375},{x:1.483062744140625,y:5.314056396484375},{x:1.441162109375,y:5.327545166015625},{x:1.407623291015625,y:5.334869384765625},{x:1.3743896484375,y:5.33953857421875},{x:1.308380126953125,y:5.342742919921875},{x:1.2421875,y:5.341033935546875},{x:1.1749267578125,y:5.338287353515625},{x:1.23211669921875,y:5.384002685546875},{x:1.291168212890625,y:5.427734375},{x:1.350189208984375,y:5.471405029296875},{x:1.4072265625,y:5.5169677734375},{x:1.49945068359375,y:5.6005859375},{x:1.5894775390625,y:5.687103271484375},{x:1.680084228515625,y:5.770965576171875},{x:1.7264404296875,y:5.810150146484375},{x:1.77398681640625,y:5.846588134765625},{x:1.82305908203125,y:5.879547119140625},{x:1.873992919921875,y:5.90838623046875},{x:1.9271240234375,y:5.932342529296875},{x:1.982818603515625,y:5.950775146484375},{x:2.04144287109375,y:5.96295166015625},{x:2.103302001953125,y:5.96820068359375},{x:2.168731689453125,y:5.965789794921875},{x:2.202911376953125,y:5.961517333984375},{x:2.238128662109375,y:5.955047607421875},{x:2.287109375,y:5.942230224609375},{x:2.332489013671875,y:5.92547607421875},{x:2.374237060546875,y:5.905059814453125},{x:2.41241455078125,y:5.88128662109375},{x:2.447052001953125,y:5.85443115234375},{x:2.478179931640625,y:5.8248291015625},{x:2.505828857421875,y:5.79278564453125},{x:2.530029296875,y:5.758544921875},{x:2.55078125,y:5.722442626953125},{x:2.56817626953125,y:5.684783935546875},{x:2.582183837890625,y:5.64581298828125},{x:2.592864990234375,y:5.605865478515625},{x:2.600250244140625,y:5.56524658203125},{x:2.6043701171875,y:5.52423095703125},{x:2.605224609375,y:5.483123779296875},{x:2.602874755859375,y:5.44219970703125},{x:2.59735107421875,y:5.40179443359375},{x:2.58868408203125,y:5.3621826171875},{x:2.576904296875,y:5.32366943359375},{x:2.56201171875,y:5.286529541015625},{x:2.5440673828125,y:5.2510986328125},{x:2.523101806640625,y:5.217620849609375},{x:2.499114990234375,y:5.186431884765625},{x:2.47216796875,y:5.157806396484375},{x:2.4422607421875,y:5.132080078125},{x:2.40948486328125,y:5.1094970703125},{x:2.373809814453125,y:5.09039306640625},{x:2.33526611328125,y:5.07501220703125},{x:2.293914794921875,y:5.063720703125},{x:2.249786376953125,y:5.056793212890625},{x:2.202880859375,y:5.054473876953125},{x:2.15325927734375,y:5.05712890625},{x:2.12872314453125,y:5.06103515625},{x:2.10400390625,y:5.067626953125},{x:2.07928466796875,y:5.076690673828125},{x:2.0548095703125,y:5.08807373046875},{x:2.03082275390625,y:5.101593017578125},{x:2.007537841796875,y:5.117034912109375},{x:1.963958740234375,y:5.153076171875},{x:1.944122314453125,y:5.17327880859375},{x:1.925872802734375,y:5.194671630859375},{x:1.90948486328125,y:5.217132568359375},{x:1.8951416015625,y:5.240447998046875},{x:1.883087158203125,y:5.264434814453125},{x:1.87353515625,y:5.28887939453125},{x:1.866729736328125,y:5.31365966796875},{x:1.862884521484375,y:5.33856201171875},{x:1.861724853515625,y:5.36663818359375},{x:1.86328125,y:5.394317626953125},{x:1.86749267578125,y:5.421356201171875},{x:1.87420654296875,y:5.447509765625},{x:1.883392333984375,y:5.47259521484375},{x:1.8948974609375,y:5.496337890625},{x:1.90863037109375,y:5.518524169921875},{x:1.924530029296875,y:5.5389404296875},{x:1.94244384765625,y:5.55731201171875},{x:1.962310791015625,y:5.573455810546875},{x:1.9840087890625,y:5.587127685546875},{x:2.0074462890625,y:5.598052978515625},{x:2.03253173828125,y:5.6060791015625},{x:2.05914306640625,y:5.610931396484375},{x:2.08721923828125,y:5.61236572265625},{x:2.116607666015625,y:5.610198974609375},{x:2.143035888671875,y:5.603424072265625},{x:2.168212890625,y:5.59100341796875},{x:2.1905517578125,y:5.574005126953125},{x:2.20843505859375,y:5.553558349609375},{x:2.220184326171875,y:5.53076171875},{x:2.223236083984375,y:5.518829345703125},{x:2.22418212890625,y:5.506683349609375},{x:2.222747802734375,y:5.494537353515625},{x:2.218780517578125,y:5.48248291015625},{x:2.212066650390625,y:5.47064208984375},{x:2.202392578125,y:5.459197998046875},{x:2.198944091796875,y:5.469085693359375},{x:2.193939208984375,y:5.47735595703125},{x:2.17999267578125,y:5.4892578125},{x:2.162353515625,y:5.495269775390625},{x:2.142791748046875,y:5.49578857421875},{x:2.12310791015625,y:5.4912109375},{x:2.1051025390625,y:5.48193359375},{x:2.090545654296875,y:5.468353271484375},{x:2.0811767578125,y:5.450836181640625},{x:2.075347900390625,y:5.4224853515625},{x:2.076416015625,y:5.397491455078125},{x:2.083526611328125,y:5.37591552734375},{x:2.095794677734375,y:5.35791015625},{x:2.112396240234375,y:5.343536376953125},{x:2.1324462890625,y:5.332916259765625},{x:2.155120849609375,y:5.326141357421875},{x:2.179534912109375,y:5.323333740234375},{x:2.204864501953125,y:5.3245849609375},{x:2.230224609375,y:5.33001708984375},{x:2.254791259765625,y:5.339691162109375},{x:2.277679443359375,y:5.353729248046875},{x:2.298065185546875,y:5.37225341796875},{x:2.3150634765625,y:5.39532470703125},{x:2.32781982421875,y:5.423095703125},{x:2.33551025390625,y:5.45562744140625},{x:2.3382568359375,y:5.49822998046875},{x:2.334625244140625,y:5.5374755859375},{x:2.325103759765625,y:5.5732421875},{x:2.310302734375,y:5.60546875},{x:2.290771484375,y:5.634033203125},{x:2.26702880859375,y:5.658843994140625},{x:2.23968505859375,y:5.679840087890625},{x:2.20928955078125,y:5.6968994140625},{x:2.176361083984375,y:5.709930419921875},{x:2.1414794921875,y:5.7188720703125},{x:2.105224609375,y:5.723602294921875},{x:2.068115234375,y:5.724029541015625},{x:2.030731201171875,y:5.7200927734375},{x:1.993621826171875,y:5.711669921875},{x:1.95733642578125,y:5.698699951171875},{x:1.922454833984375,y:5.681060791015625},{x:1.89459228515625,y:5.66265869140625},{x:1.869293212890625,y:5.641845703125},{x:1.84649658203125,y:5.618865966796875},{x:1.82623291015625,y:5.59393310546875},{x:1.808502197265625,y:5.567291259765625},{x:1.793365478515625,y:5.539154052734375},{x:1.78076171875,y:5.509735107421875},{x:1.770751953125,y:5.479248046875},{x:1.7633056640625,y:5.447967529296875},{x:1.75848388671875,y:5.416046142578125},{x:1.756256103515625,y:5.3837890625},{x:1.75665283203125,y:5.351348876953125},{x:1.7596435546875,y:5.3189697265625},{x:1.765289306640625,y:5.286895751953125},{x:1.773590087890625,y:5.255340576171875},{x:1.7845458984375,y:5.224517822265625},{x:1.797332763671875,y:5.195892333984375},{x:1.811767578125,y:5.168792724609375},{x:1.827789306640625,y:5.1431884765625},{x:1.845306396484375,y:5.119140625},{x:1.86419677734375,y:5.09661865234375},{x:1.884429931640625,y:5.075653076171875},{x:1.928375244140625,y:5.03839111328125},{x:1.976409912109375,y:5.007415771484375},{x:2.027801513671875,y:4.982818603515625},{x:2.081756591796875,y:4.96466064453125},{x:2.137542724609375,y:4.952972412109375},{x:2.194427490234375,y:4.9478759765625},{x:2.251617431640625,y:4.94940185546875},{x:2.30841064453125,y:4.957611083984375},{x:2.364013671875,y:4.972625732421875},{x:2.417724609375,y:4.994476318359375},{x:2.46875,y:5.02325439453125},{x:2.516357421875,y:5.05902099609375},{x:2.53863525390625,y:5.07952880859375},{x:2.559783935546875,y:5.101806640625},{x:2.56634521484375,y:5.071533203125},{x:2.574981689453125,y:5.042388916015625},{x:2.585601806640625,y:5.01446533203125},{x:2.598114013671875,y:4.98779296875},{x:2.612396240234375,y:4.962371826171875},{x:2.62835693359375,y:4.93829345703125},{x:2.645843505859375,y:4.915557861328125},{x:2.664764404296875,y:4.89422607421875},{x:2.70654296875,y:4.855926513671875},{x:2.752777099609375,y:4.823699951171875},{x:2.802642822265625,y:4.7978515625},{x:2.855224609375,y:4.778717041015625},{x:2.90966796875,y:4.7666015625},{x:2.965118408203125,y:4.7618408203125},{x:3.020721435546875,y:4.76470947265625},{x:3.048309326171875,y:4.769134521484375},{x:3.075592041015625,y:4.775604248046875},{x:3.10247802734375,y:4.78411865234375},{x:3.12884521484375,y:4.794769287109375},{x:3.15460205078125,y:4.80755615234375},{x:3.179656982421875,y:4.822540283203125},{x:3.203857421875,y:4.83978271484375},{x:3.22711181640625,y:4.859283447265625},{x:3.24932861328125,y:4.881072998046875},{x:3.2703857421875,y:4.905242919921875},{x:3.293426513671875,y:4.937103271484375},{x:3.312591552734375,y:4.9705810546875},{x:3.32781982421875,y:5.00518798828125},{x:3.339080810546875,y:5.040557861328125},{x:3.3463134765625,y:5.076263427734375},{x:3.349456787109375,y:5.11187744140625},{x:3.348480224609375,y:5.14697265625},{x:3.343353271484375,y:5.181182861328125},{x:3.333953857421875,y:5.214019775390625},{x:3.320281982421875,y:5.2451171875},{x:3.30230712890625,y:5.274017333984375},{x:3.279937744140625,y:5.30035400390625},{x:3.25311279296875,y:5.32366943359375},{x:3.221832275390625,y:5.343536376953125},{x:3.186004638671875,y:5.35955810546875},{x:3.145599365234375,y:5.371337890625},{x:3.109375,y:5.37554931640625},{x:3.071563720703125,y:5.373046875},{x:3.033782958984375,y:5.3641357421875},{x:2.9976806640625,y:5.349212646484375},{x:2.964935302734375,y:5.328643798828125},{x:2.9371337890625,y:5.302734375},{x:2.9256591796875,y:5.28790283203125},{x:2.916015625,y:5.271881103515625},{x:2.908447265625,y:5.25469970703125},{x:2.903167724609375,y:5.236419677734375},{x:2.898193359375,y:5.203399658203125},{x:2.89801025390625,y:5.174713134765625},{x:2.9019775390625,y:5.15032958984375},{x:2.90948486328125,y:5.13006591796875},{x:2.91986083984375,y:5.1138916015625},{x:2.9324951171875,y:5.1016845703125},{x:2.946746826171875,y:5.093353271484375},{x:2.961944580078125,y:5.08880615234375},{x:2.97747802734375,y:5.08795166015625},{x:2.992706298828125,y:5.090667724609375},{x:3.00701904296875,y:5.09686279296875},{x:3.01971435546875,y:5.106475830078125},{x:3.03021240234375,y:5.119354248046875},{x:3.037841796875,y:5.135467529296875},{x:3.041961669921875,y:5.1546630859375},{x:3.041961669921875,y:5.176849365234375},{x:3.03765869140625,y:5.193115234375},{x:3.031341552734375,y:5.210540771484375},{x:3.02874755859375,y:5.227569580078125},{x:3.030670166015625,y:5.2354736328125},{x:3.03570556640625,y:5.24267578125},{x:3.050048828125,y:5.25439453125},{x:3.065704345703125,y:5.2625732421875},{x:3.08233642578125,y:5.26739501953125},{x:3.099609375,y:5.26910400390625},{x:3.117279052734375,y:5.26788330078125},{x:3.135009765625,y:5.264007568359375},{x:3.152496337890625,y:5.25762939453125},{x:3.169403076171875,y:5.248992919921875},{x:3.18548583984375,y:5.23834228515625},{x:3.200408935546875,y:5.225830078125},{x:3.2138671875,y:5.211700439453125},{x:3.2255859375,y:5.196197509765625},{x:3.235198974609375,y:5.179473876953125},{x:3.242462158203125,y:5.16180419921875},{x:3.247039794921875,y:5.143402099609375},{x:3.248626708984375,y:5.12445068359375},{x:3.247467041015625,y:5.0987548828125},{x:3.243896484375,y:5.074371337890625},{x:3.23809814453125,y:5.05126953125},{x:3.230194091796875,y:5.029541015625},{x:3.22027587890625,y:5.0091552734375},{x:3.20855712890625,y:4.990142822265625},{x:3.195098876953125,y:4.9725341796875},{x:3.1800537109375,y:4.95635986328125},{x:3.145751953125,y:4.9283447265625},{x:3.106719970703125,y:4.90625},{x:3.06402587890625,y:4.8902587890625},{x:3.018707275390625,y:4.880523681640625},{x:2.97186279296875,y:4.877227783203125},{x:2.92449951171875,y:4.88055419921875},{x:2.877716064453125,y:4.890655517578125},{x:2.83258056640625,y:4.90765380859375},{x:2.7901611328125,y:4.931793212890625},{x:2.770263671875,y:4.946563720703125},{x:2.75146484375,y:4.96319580078125},{x:2.733856201171875,y:4.981689453125},{x:2.71759033203125,y:5.002044677734375},{x:2.70281982421875,y:5.024322509765625},{x:2.68963623046875,y:5.048492431640625},{x:2.678009033203125,y:5.074493408203125},{x:2.669342041015625,y:5.098785400390625},{x:2.663360595703125,y:5.12158203125},{x:2.6597900390625,y:5.14312744140625},{x:2.658843994140625,y:5.183380126953125},{x:2.6644287109375,y:5.2213134765625},{x:2.674407958984375,y:5.258697509765625},{x:2.6866455078125,y:5.29736328125},{x:2.6990966796875,y:5.33905029296875},{x:2.7095947265625,y:5.3856201171875},{x:2.71649169921875,y:5.437652587890625},{x:2.71881103515625,y:5.489471435546875},{x:2.71661376953125,y:5.54083251953125},{x:2.7100830078125,y:5.591400146484375},{x:2.699310302734375,y:5.64093017578125},{x:2.684417724609375,y:5.68914794921875},{x:2.66558837890625,y:5.73577880859375},{x:2.642913818359375,y:5.780548095703125},{x:2.61651611328125,y:5.823150634765625},{x:2.5865478515625,y:5.863311767578125},{x:2.553131103515625,y:5.900787353515625},{x:2.516387939453125,y:5.935272216796875},{x:2.4764404296875,y:5.96649169921875},{x:2.433441162109375,y:5.99420166015625},{x:2.38751220703125,y:6.01806640625},{x:2.33880615234375,y:6.037841796875},{x:2.27166748046875,y:6.057952880859375},{x:2.206573486328125,y:6.070556640625},{x:2.143402099609375,y:6.076080322265625},{x:2.082122802734375,y:6.074981689453125},{x:2.022613525390625,y:6.067718505859375},{x:1.964813232421875,y:6.05474853515625},{x:1.908599853515625,y:6.0364990234375},{x:1.853912353515625,y:6.013427734375},{x:1.8006591796875,y:5.985992431640625},{x:1.748748779296875,y:5.95465087890625},{x:1.6981201171875,y:5.919830322265625},{x:1.648651123046875,y:5.8819580078125},{x:1.60028076171875,y:5.841552734375},{x:1.552886962890625,y:5.79901123046875},{x:1.4608154296875,y:5.7093505859375},{x:1.707122802734375,y:6.173370361328125},{x:1.78009033203125,y:6.2752685546875},{x:1.82403564453125,y:6.33282470703125},{x:1.872283935546875,y:6.388427734375},{x:1.897918701171875,y:6.41400146484375},{x:1.9244384765625,y:6.437286376953125},{x:1.951812744140625,y:6.457672119140625},{x:1.97998046875,y:6.474609375},{x:2.008880615234375,y:6.487457275390625},{x:2.038421630859375,y:6.495635986328125},{x:2.068603515625,y:6.498565673828125},{x:2.099334716796875,y:6.49560546875},{x:2.1114501953125,y:6.492156982421875},{x:2.120941162109375,y:6.4873046875},{x:2.128021240234375,y:6.481231689453125},{x:2.13299560546875,y:6.47406005859375},{x:2.1375732421875,y:6.45721435546875},{x:2.136810302734375,y:6.4381103515625},{x:2.1273193359375,y:6.398590087890625},{x:2.122772216796875,y:6.380889892578125},{x:2.12109375,y:6.3663330078125},{x:2.123809814453125,y:6.346649169921875},{x:2.1300048828125,y:6.331085205078125},{x:2.139068603515625,y:6.31951904296875},{x:2.150482177734375,y:6.311737060546875},{x:2.163726806640625,y:6.30755615234375},{x:2.17828369140625,y:6.30682373046875},{x:2.193572998046875,y:6.309326171875},{x:2.20904541015625,y:6.31494140625},{x:2.2242431640625,y:6.32342529296875},{x:2.238555908203125,y:6.33465576171875},{x:2.25146484375,y:6.348419189453125},{x:2.262451171875,y:6.364532470703125},{x:2.27093505859375,y:6.38287353515625},{x:2.27642822265625,y:6.4031982421875},{x:2.27838134765625,y:6.425323486328125},{x:2.2762451171875,y:6.449127197265625},{x:2.268096923828125,y:6.480621337890625},{x:2.255462646484375,y:6.509429931640625},{x:2.23870849609375,y:6.535308837890625},{x:2.218231201171875,y:6.557891845703125},{x:2.1943359375,y:6.576904296875},{x:2.16741943359375,y:6.592071533203125},{x:2.1378173828125,y:6.60308837890625},{x:2.10589599609375,y:6.60968017578125},{x:2.077178955078125,y:6.6119384765625},{x:2.049407958984375,y:6.611419677734375},{x:2.022552490234375,y:6.6082763671875},{x:1.996612548828125,y:6.6026611328125},{x:1.971588134765625,y:6.59478759765625},{x:1.947418212890625,y:6.58477783203125},{x:1.92413330078125,y:6.57281494140625},{x:1.901702880859375,y:6.559112548828125},{x:1.85931396484375,y:6.52703857421875},{x:1.820159912109375,y:6.489959716796875},{x:1.7840576171875,y:6.449249267578125},{x:1.750885009765625,y:6.40625},{x:1.68389892578125,y:6.344024658203125},{x:1.70904541015625,y:6.439971923828125},{x:1.7412109375,y:6.5323486328125},{x:1.780120849609375,y:6.620697021484375},{x:1.82550048828125,y:6.70458984375},{x:1.8770751953125,y:6.783538818359375},{x:1.905120849609375,y:6.821044921875},{x:1.934600830078125,y:6.857147216796875},{x:1.96551513671875,y:6.89178466796875},{x:1.997802734375,y:6.9249267578125},{x:2.03143310546875,y:6.956512451171875},{x:2.06640625,y:6.986480712890625},{x:2.102630615234375,y:7.0147705078125},{x:2.14013671875,y:7.04132080078125},{x:2.1788330078125,y:7.06610107421875},{x:2.21875,y:7.08905029296875},{x:2.259765625,y:7.110076904296875},{x:2.30194091796875,y:7.129180908203125},{x:2.345184326171875,y:7.146240234375},{x:2.38946533203125,y:7.161285400390625},{x:2.43475341796875,y:7.174163818359375},{x:2.481048583984375,y:7.184906005859375},{x:2.528289794921875,y:7.19342041015625},{x:2.576416015625,y:7.199615478515625},{x:2.625457763671875,y:7.2034912109375},{x:2.675323486328125,y:7.204986572265625},{x:2.72601318359375,y:7.204010009765625},{x:2.777496337890625,y:7.200531005859375},{x:2.816650390625,y:7.19580078125},{x:2.855712890625,y:7.188812255859375},{x:2.89453125,y:7.179656982421875},{x:2.933013916015625,y:7.168426513671875},{x:2.97100830078125,y:7.15521240234375},{x:3.0084228515625,y:7.1400146484375},{x:3.0809326171875,y:7.1041259765625},{x:3.14959716796875,y:7.061370849609375},{x:3.182159423828125,y:7.037628173828125},{x:3.213409423828125,y:7.012359619140625},{x:3.243194580078125,y:6.985687255859375},{x:3.271392822265625,y:6.957672119140625},{x:3.297882080078125,y:6.928375244140625},{x:3.32257080078125,y:6.89788818359375},{x:3.34527587890625,y:6.86627197265625},{x:3.365936279296875,y:6.8336181640625},{x:3.3843994140625,y:6.79998779296875},{x:3.400543212890625,y:6.76544189453125},{x:3.41424560546875,y:6.7301025390625},{x:3.42535400390625,y:6.694000244140625},{x:3.433807373046875,y:6.657196044921875},{x:3.439453125,y:6.61981201171875},{x:3.442169189453125,y:6.5819091796875},{x:3.441802978515625,y:6.543548583984375},{x:3.438262939453125,y:6.504791259765625},{x:3.43145751953125,y:6.465728759765625},{x:3.42120361328125,y:6.42645263671875},{x:3.407379150390625,y:6.38702392578125},{x:3.389923095703125,y:6.347503662109375},{x:3.36865234375,y:6.3079833984375},{x:3.344024658203125,y:6.269927978515625},{x:3.317169189453125,y:6.235443115234375},{x:3.28826904296875,y:6.20452880859375},{x:3.257537841796875,y:6.17706298828125},{x:3.22515869140625,y:6.15301513671875},{x:3.19140625,y:6.132293701171875},{x:3.15643310546875,y:6.114898681640625},{x:3.1204833984375,y:6.1007080078125},{x:3.083770751953125,y:6.089691162109375},{x:3.046478271484375,y:6.081756591796875},{x:3.008819580078125,y:6.076904296875},{x:2.97100830078125,y:6.07501220703125},{x:2.933258056640625,y:6.0760498046875},{x:2.895782470703125,y:6.0799560546875},{x:2.858795166015625,y:6.086669921875},{x:2.822479248046875,y:6.096099853515625},{x:2.787078857421875,y:6.108245849609375},{x:2.7528076171875,y:6.12298583984375},{x:2.7198486328125,y:6.140289306640625},{x:2.68841552734375,y:6.16009521484375},{x:2.658721923828125,y:6.182342529296875},{x:2.630950927734375,y:6.20697021484375},{x:2.605377197265625,y:6.233917236328125},{x:2.582183837890625,y:6.26312255859375},{x:2.561553955078125,y:6.294525146484375},{x:2.543701171875,y:6.328033447265625},{x:2.52886962890625,y:6.3636474609375},{x:2.517242431640625,y:6.401275634765625},{x:2.509033203125,y:6.440826416015625},{x:2.504486083984375,y:6.4822998046875},{x:2.503753662109375,y:6.52557373046875},{x:2.507049560546875,y:6.570648193359375},{x:2.51434326171875,y:6.609619140625},{x:2.526458740234375,y:6.646636962890625},{x:2.542999267578125,y:6.681427001953125},{x:2.563507080078125,y:6.713623046875},{x:2.587554931640625,y:6.742919921875},{x:2.614654541015625,y:6.769012451171875},{x:2.6444091796875,y:6.791534423828125},{x:2.67633056640625,y:6.810211181640625},{x:2.71002197265625,y:6.824676513671875},{x:2.744964599609375,y:6.83465576171875},{x:2.780792236328125,y:6.83978271484375},{x:2.8170166015625,y:6.8397216796875},{x:2.85321044921875,y:6.834228515625},{x:2.888916015625,y:6.8228759765625},{x:2.923675537109375,y:6.805419921875},{x:2.957061767578125,y:6.781494140625},{x:2.976287841796875,y:6.7628173828125},{x:2.992431640625,y:6.74188232421875},{x:3.005523681640625,y:6.71923828125},{x:3.015472412109375,y:6.695404052734375},{x:3.022308349609375,y:6.670928955078125},{x:3.025970458984375,y:6.6463623046875},{x:3.02642822265625,y:6.622222900390625},{x:3.023681640625,y:6.59906005859375},{x:3.01763916015625,y:6.577423095703125},{x:3.00830078125,y:6.557830810546875},{x:2.99566650390625,y:6.54083251953125},{x:2.979644775390625,y:6.527008056640625},{x:2.960235595703125,y:6.516815185546875},{x:2.93743896484375,y:6.5108642578125},{x:2.911163330078125,y:6.509674072265625},{x:2.88140869140625,y:6.513763427734375},{x:2.8927001953125,y:6.5361328125},{x:2.898529052734375,y:6.556732177734375},{x:2.899505615234375,y:6.575439453125},{x:2.896209716796875,y:6.59210205078125},{x:2.88922119140625,y:6.606536865234375},{x:2.879150390625,y:6.61859130859375},{x:2.866546630859375,y:6.628143310546875},{x:2.852020263671875,y:6.634979248046875},{x:2.836151123046875,y:6.63897705078125},{x:2.819488525390625,y:6.63995361328125},{x:2.80267333984375,y:6.637786865234375},{x:2.7862548828125,y:6.632293701171875},{x:2.770843505859375,y:6.623321533203125},{x:2.75701904296875,y:6.610687255859375},{x:2.745330810546875,y:6.59429931640625},{x:2.73638916015625,y:6.57391357421875},{x:2.73138427734375,y:6.554840087890625},{x:2.72900390625,y:6.536376953125},{x:2.729095458984375,y:6.518585205078125},{x:2.73150634765625,y:6.501556396484375},{x:2.736083984375,y:6.48541259765625},{x:2.74267578125,y:6.47015380859375},{x:2.751129150390625,y:6.455902099609375},{x:2.76129150390625,y:6.44268798828125},{x:2.786102294921875,y:6.4197998046875},{x:2.81591796875,y:6.402099609375},{x:2.8494873046875,y:6.39013671875},{x:2.885589599609375,y:6.384521484375},{x:2.926177978515625,y:6.385162353515625},{x:2.963653564453125,y:6.391754150390625},{x:2.99786376953125,y:6.40374755859375},{x:3.0286865234375,y:6.420623779296875},{x:3.05596923828125,y:6.4417724609375},{x:3.079620361328125,y:6.466705322265625},{x:3.099456787109375,y:6.494873046875},{x:3.115386962890625,y:6.52569580078125},{x:3.12725830078125,y:6.558624267578125},{x:3.13494873046875,y:6.5931396484375},{x:3.138275146484375,y:6.628662109375},{x:3.137176513671875,y:6.664703369140625},{x:3.1314697265625,y:6.700653076171875},{x:3.12103271484375,y:6.735992431640625},{x:3.105712890625,y:6.770172119140625},{x:3.085418701171875,y:6.802642822265625},{x:3.067779541015625,y:6.825164794921875},{x:3.049072265625,y:6.845733642578125},{x:3.029388427734375,y:6.864349365234375},{x:3.008819580078125,y:6.881072998046875},{x:2.965362548828125,y:6.908935546875},{x:2.91937255859375,y:6.92950439453125},{x:2.87158203125,y:6.943023681640625},{x:2.822662353515625,y:6.94970703125},{x:2.7733154296875,y:6.94976806640625},{x:2.724212646484375,y:6.943450927734375},{x:2.676055908203125,y:6.93096923828125},{x:2.62957763671875,y:6.91253662109375},{x:2.585418701171875,y:6.888397216796875},{x:2.544281005859375,y:6.8587646484375},{x:2.50689697265625,y:6.823883056640625},{x:2.473907470703125,y:6.783935546875},{x:2.446044921875,y:6.7391357421875},{x:2.423980712890625,y:6.689788818359375},{x:2.405914306640625,y:6.63189697265625},{x:2.394500732421875,y:6.575347900390625},{x:2.389373779296875,y:6.52032470703125},{x:2.390228271484375,y:6.46697998046875},{x:2.39666748046875,y:6.41546630859375},{x:2.408447265625,y:6.365966796875},{x:2.4251708984375,y:6.318603515625},{x:2.446502685546875,y:6.2735595703125},{x:2.47216796875,y:6.230987548828125},{x:2.501800537109375,y:6.1910400390625},{x:2.5350341796875,y:6.153900146484375},{x:2.57159423828125,y:6.11968994140625},{x:2.611114501953125,y:6.088592529296875},{x:2.653289794921875,y:6.060791015625},{x:2.697723388671875,y:6.036407470703125},{x:2.744171142578125,y:6.015594482421875},{x:2.792236328125,y:5.99853515625},{x:2.84161376953125,y:5.985382080078125},{x:2.891937255859375,y:5.976287841796875},{x:2.94293212890625,y:5.971435546875},{x:2.994232177734375,y:5.970947265625},{x:3.045501708984375,y:5.975006103515625},{x:3.096405029296875,y:5.9837646484375},{x:3.146636962890625,y:5.997406005859375},{x:3.195831298828125,y:6.01605224609375},{x:3.24365234375,y:6.039886474609375},{x:3.289825439453125,y:6.06903076171875},{x:3.333953857421875,y:6.10369873046875},{x:3.375732421875,y:6.14404296875},{x:3.414825439453125,y:6.190155029296875},{x:3.450897216796875,y:6.242279052734375},{x:3.483612060546875,y:6.300537109375},{x:3.55181884765625,y:6.460174560546875},{x:3.55181884765625,y:6.277008056640625},{x:3.54986572265625,y:6.24188232421875},{x:3.54425048828125,y:6.204132080078125},{x:3.53515625,y:6.164276123046875},{x:3.522857666015625,y:6.12286376953125},{x:3.507598876953125,y:6.0804443359375},{x:3.4896240234375,y:6.03753662109375},{x:3.46917724609375,y:5.99468994140625},{x:3.446533203125,y:5.952484130859375},{x:3.421905517578125,y:5.91143798828125},{x:3.39556884765625,y:5.8720703125},{x:3.367767333984375,y:5.8349609375},{x:3.338714599609375,y:5.80059814453125},{x:3.3087158203125,y:5.76959228515625},{x:3.2779541015625,y:5.742431640625},{x:3.246734619140625,y:5.719696044921875},{x:3.21527099609375,y:5.701904296875},{x:3.1866455078125,y:5.688629150390625},{x:3.156707763671875,y:5.6766357421875},{x:3.12664794921875,y:5.66766357421875},{x:3.097625732421875,y:5.66357421875},{x:3.083892822265625,y:5.663909912109375},{x:3.07086181640625,y:5.6661376953125},{x:3.058685302734375,y:5.670501708984375},{x:3.047515869140625,y:5.677215576171875},{x:3.0374755859375,y:5.68646240234375},{x:3.02874755859375,y:5.69854736328125},{x:3.021453857421875,y:5.713653564453125},{x:3.0157470703125,y:5.73199462890625},{x:3.002471923828125,y:5.7379150390625},{x:2.989349365234375,y:5.73980712890625},{x:2.976593017578125,y:5.738128662109375},{x:2.96453857421875,y:5.733245849609375},{x:2.95343017578125,y:5.7255859375},{x:2.943511962890625,y:5.715545654296875},{x:2.935089111328125,y:5.7034912109375},{x:2.928436279296875,y:5.689849853515625},{x:2.923828125,y:5.675018310546875},{x:2.9215087890625,y:5.659423828125},{x:2.921783447265625,y:5.6434326171875},{x:2.924896240234375,y:5.627471923828125},{x:2.93115234375,y:5.611907958984375},{x:2.9407958984375,y:5.59716796875},{x:2.9541015625,y:5.583648681640625},{x:2.97137451171875,y:5.57177734375},{x:2.9927978515625,y:5.56170654296875},{x:3.0155029296875,y:5.55487060546875},{x:3.039276123046875,y:5.550994873046875},{x:3.063873291015625,y:5.54986572265625},{x:3.089111328125,y:5.55120849609375},{x:3.11474609375,y:5.554840087890625},{x:3.166412353515625,y:5.5679931640625},{x:3.217071533203125,y:5.58746337890625},{x:3.26507568359375,y:5.611328125},{x:3.308624267578125,y:5.6378173828125},{x:3.34600830078125,y:5.66497802734375},{x:3.345367431640625,y:5.631683349609375},{x:3.348541259765625,y:5.600189208984375},{x:3.355194091796875,y:5.570343017578125},{x:3.364959716796875,y:5.5419921875},{x:3.377532958984375,y:5.51495361328125},{x:3.392547607421875,y:5.4891357421875},{x:3.40966796875,y:5.464324951171875},{x:3.428558349609375,y:5.4404296875},{x:3.47021484375,y:5.394683837890625},{x:3.5147705078125,y:5.3507080078125},{x:3.5594482421875,y:5.307281494140625},{x:3.6015625,y:5.263214111328125},{x:3.770721435546875,y:5.441619873046875},{x:3.80517578125,y:5.48956298828125},{x:3.820037841796875,y:5.514892578125},{x:3.832794189453125,y:5.5411376953125},{x:3.8431396484375,y:5.568328857421875},{x:3.850616455078125,y:5.596527099609375},{x:3.854888916015625,y:5.625762939453125},{x:3.8555908203125,y:5.656036376953125},{x:3.88958740234375,y:5.6380615234375},{x:3.921478271484375,y:5.617889404296875},{x:3.95391845703125,y:5.597869873046875},{x:3.989593505859375,y:5.580413818359375},{x:4.018768310546875,y:5.569549560546875},{x:4.0487060546875,y:5.56048583984375},{x:4.07916259765625,y:5.5537109375},{x:4.10992431640625,y:5.549713134765625},{x:4.1407470703125,y:5.548980712890625},{x:4.171356201171875,y:5.551910400390625},{x:4.201568603515625,y:5.559051513671875},{x:4.23114013671875,y:5.57086181640625},{x:4.25018310546875,y:5.582366943359375},{x:4.26470947265625,y:5.5955810546875},{x:4.275115966796875,y:5.610076904296875},{x:4.281707763671875,y:5.62548828125},{x:4.2847900390625,y:5.641387939453125},{x:4.284759521484375,y:5.657379150390625},{x:4.28192138671875,y:5.673065185546875},{x:4.276641845703125,y:5.68798828125},{x:4.269195556640625,y:5.7017822265625},{x:4.259979248046875,y:5.71405029296875},{x:4.249298095703125,y:5.724334716796875},{x:4.237518310546875,y:5.732269287109375},{x:4.22491455078125,y:5.737457275390625},{x:4.2119140625,y:5.73944091796875},{x:4.198760986328125,y:5.73785400390625},{x:4.185882568359375,y:5.7322998046875},{x:4.18011474609375,y:5.7147216796875},{x:4.1727294921875,y:5.700225830078125},{x:4.163909912109375,y:5.6885986328125},{x:4.15380859375,y:5.679595947265625},{x:4.142547607421875,y:5.67303466796875},{x:4.130279541015625,y:5.668701171875},{x:4.103363037109375,y:5.665863037109375},{x:4.07427978515625,y:5.66949462890625},{x:4.044219970703125,y:5.6778564453125},{x:4.014404296875,y:5.689300537109375},{x:3.98602294921875,y:5.70220947265625},{x:3.961029052734375,y:5.715545654296875},{x:3.937164306640625,y:5.730926513671875},{x:3.914398193359375,y:5.748138427734375},{x:3.89276123046875,y:5.76702880859375},{x:3.852691650390625,y:5.80914306640625},{x:3.816802978515625,y:5.85595703125},{x:3.78497314453125,y:5.906097412109375},{x:3.75701904296875,y:5.95819091796875},{x:3.732879638671875,y:6.010894775390625},{x:3.71234130859375,y:6.0628662109375},{x:3.6815185546875,y:6.151123046875},{x:3.66558837890625,y:6.201690673828125},{x:3.658721923828125,y:6.23291015625},{x:3.658721923828125,y:6.46075439453125},{x:3.752532958984375,y:6.254974365234375},{x:3.78082275390625,y:6.209564208984375},{x:3.81195068359375,y:6.168304443359375},{x:3.845733642578125,y:6.131134033203125},{x:3.881866455078125,y:6.097991943359375},{x:3.92010498046875,y:6.068817138671875},{x:3.960174560546875,y:6.043548583984375},{x:4.001861572265625,y:6.02215576171875},{x:4.044891357421875,y:6.0045166015625},{x:4.0889892578125,y:5.9906005859375},{x:4.133880615234375,y:5.980377197265625},{x:4.17938232421875,y:5.9737548828125},{x:4.225189208984375,y:5.970703125},{x:4.271026611328125,y:5.97113037109375},{x:4.316680908203125,y:5.9749755859375},{x:4.36187744140625,y:5.982208251953125},{x:4.4063720703125,y:5.99273681640625},{x:4.44989013671875,y:6.00653076171875},{x:4.492156982421875,y:6.02349853515625},{x:4.532958984375,y:6.043609619140625},{x:4.572021484375,y:6.066802978515625},{x:4.60906982421875,y:6.093017578125},{x:4.643890380859375,y:6.1221923828125},{x:4.676177978515625,y:6.15423583984375},{x:4.705718994140625,y:6.189117431640625},{x:4.732208251953125,y:6.226806640625},{x:4.75543212890625,y:6.267181396484375},{x:4.775146484375,y:6.310211181640625},{x:4.791046142578125,y:6.355865478515625},{x:4.802886962890625,y:6.404052734375},{x:4.8104248046875,y:6.454681396484375},{x:4.81341552734375,y:6.507781982421875},{x:4.81158447265625,y:6.563201904296875},{x:4.806854248046875,y:6.60308837890625},{x:4.798919677734375,y:6.6417236328125},{x:4.787872314453125,y:6.678955078125},{x:4.773834228515625,y:6.714630126953125},{x:4.756927490234375,y:6.748504638671875},{x:4.737274169921875,y:6.780426025390625},{x:4.7149658203125,y:6.81024169921875},{x:4.69012451171875,y:6.83770751953125},{x:4.662872314453125,y:6.86273193359375},{x:4.633331298828125,y:6.885040283203125},{x:4.601593017578125,y:6.904510498046875},{x:4.56781005859375,y:6.92095947265625},{x:4.532073974609375,y:6.934173583984375},{x:4.494476318359375,y:6.944000244140625},{x:4.4552001953125,y:6.95025634765625},{x:4.414306640625,y:6.9527587890625},{x:4.374847412109375,y:6.950897216796875},{x:4.33624267578125,y:6.944366455078125},{x:4.298828125,y:6.93353271484375},{x:4.26300048828125,y:6.91864013671875},{x:4.229095458984375,y:6.899993896484375},{x:4.197509765625,y:6.8779296875},{x:4.16851806640625,y:6.85272216796875},{x:4.142578125,y:6.824676513671875},{x:4.1199951171875,y:6.79412841796875},{x:4.10113525390625,y:6.7613525390625},{x:4.08636474609375,y:6.726654052734375},{x:4.076019287109375,y:6.690338134765625},{x:4.07049560546875,y:6.652679443359375},{x:4.070159912109375,y:6.614044189453125},{x:4.075347900390625,y:6.574676513671875},{x:4.086395263671875,y:6.534912109375},{x:4.10260009765625,y:6.49957275390625},{x:4.1239013671875,y:6.46917724609375},{x:4.149383544921875,y:6.443634033203125},{x:4.178253173828125,y:6.422882080078125},{x:4.20965576171875,y:6.406890869140625},{x:4.242767333984375,y:6.395599365234375},{x:4.276702880859375,y:6.388916015625},{x:4.3106689453125,y:6.386810302734375},{x:4.343780517578125,y:6.389251708984375},{x:4.375213623046875,y:6.3961181640625},{x:4.40411376953125,y:6.407379150390625},{x:4.429656982421875,y:6.423004150390625},{x:4.45098876953125,y:6.442901611328125},{x:4.46728515625,y:6.467041015625},{x:4.4776611328125,y:6.495361328125},{x:4.4813232421875,y:6.52777099609375},{x:4.4798583984375,y:6.54498291015625},{x:4.475677490234375,y:6.561309814453125},{x:4.469146728515625,y:6.576507568359375},{x:4.460540771484375,y:6.590484619140625},{x:4.450225830078125,y:6.60302734375},{x:4.438507080078125,y:6.614044189453125},{x:4.41217041015625,y:6.6307373046875},{x:4.398223876953125,y:6.6361083984375},{x:4.3841552734375,y:6.639312744140625},{x:4.370330810546875,y:6.640167236328125},{x:4.3570556640625,y:6.63848876953125},{x:4.34466552734375,y:6.634185791015625},{x:4.333465576171875,y:6.627044677734375},{x:4.323822021484375,y:6.616943359375},{x:4.316009521484375,y:6.60369873046875},{x:4.311767578125,y:6.585479736328125},{x:4.31182861328125,y:6.564727783203125},{x:4.313446044921875,y:6.54376220703125},{x:4.31378173828125,y:6.52490234375},{x:4.31005859375,y:6.51043701171875},{x:4.3057861328125,y:6.50555419921875},{x:4.2994384765625,y:6.502655029296875},{x:4.290679931640625,y:6.50201416015625},{x:4.27911376953125,y:6.503875732421875},{x:4.246337890625,y:6.516448974609375},{x:4.228057861328125,y:6.527313232421875},{x:4.213165283203125,y:6.540679931640625},{x:4.201507568359375,y:6.55621337890625},{x:4.19287109375,y:6.57354736328125},{x:4.187164306640625,y:6.592376708984375},{x:4.1842041015625,y:6.612335205078125},{x:4.183837890625,y:6.633056640625},{x:4.185943603515625,y:6.654266357421875},{x:4.190338134765625,y:6.675567626953125},{x:4.196868896484375,y:6.696624755859375},{x:4.20538330078125,y:6.71710205078125},{x:4.21575927734375,y:6.736663818359375},{x:4.227813720703125,y:6.75494384765625},{x:4.24139404296875,y:6.771636962890625},{x:4.25634765625,y:6.786346435546875},{x:4.27252197265625,y:6.79876708984375},{x:4.308258056640625,y:6.8189697265625},{x:4.34442138671875,y:6.832794189453125},{x:4.380645751953125,y:6.840545654296875},{x:4.416595458984375,y:6.8426513671875},{x:4.45196533203125,y:6.83941650390625},{x:4.486358642578125,y:6.831207275390625},{x:4.519500732421875,y:6.818359375},{x:4.550994873046875,y:6.80126953125},{x:4.580535888671875,y:6.7802734375},{x:4.607757568359375,y:6.755706787109375},{x:4.63232421875,y:6.727935791015625},{x:4.653900146484375,y:6.697296142578125},{x:4.672149658203125,y:6.6641845703125},{x:4.686737060546875,y:6.62890625},{x:4.697265625,y:6.59185791015625},{x:4.7034912109375,y:6.553375244140625},{x:4.705902099609375,y:6.509185791015625},{x:4.704376220703125,y:6.466796875},{x:4.699066162109375,y:6.42626953125},{x:4.69024658203125,y:6.38763427734375},{x:4.678070068359375,y:6.350982666015625},{x:4.66278076171875,y:6.31634521484375},{x:4.644561767578125,y:6.283782958984375},{x:4.62359619140625,y:6.253326416015625},{x:4.600128173828125,y:6.225067138671875},{x:4.574371337890625,y:6.199066162109375},{x:4.546478271484375,y:6.17535400390625},{x:4.516693115234375,y:6.153961181640625},{x:4.4852294921875,y:6.135009765625},{x:4.4522705078125,y:6.1185302734375},{x:4.41802978515625,y:6.10455322265625},{x:4.382720947265625,y:6.0931396484375},{x:4.3465576171875,y:6.0843505859375},{x:4.3096923828125,y:6.078277587890625},{x:4.27239990234375,y:6.074920654296875},{x:4.23486328125,y:6.074371337890625},{x:4.197265625,y:6.07666015625},{x:4.159820556640625,y:6.08184814453125},{x:4.12274169921875,y:6.09002685546875},{x:4.08624267578125,y:6.1011962890625},{x:4.050506591796875,y:6.115447998046875},{x:4.015777587890625,y:6.1328125},{x:3.98223876953125,y:6.15338134765625},{x:3.9500732421875,y:6.17718505859375},{x:3.919525146484375,y:6.20428466796875},{x:3.890777587890625,y:6.2347412109375},{x:3.864013671875,y:6.268585205078125},{x:3.839508056640625,y:6.305877685546875},{x:3.818084716796875,y:6.34490966796875},{x:3.800384521484375,y:6.38385009765625},{x:3.78631591796875,y:6.422607421875},{x:3.775726318359375,y:6.461151123046875},{x:3.7685546875,y:6.4993896484375},{x:3.76458740234375,y:6.537261962890625},{x:3.7637939453125,y:6.574737548828125},{x:3.7659912109375,y:6.611724853515625},{x:3.771087646484375,y:6.648193359375},{x:3.7789306640625,y:6.68402099609375},{x:3.7894287109375,y:6.719207763671875},{x:3.802459716796875,y:6.753631591796875},{x:3.817901611328125,y:6.78729248046875},{x:3.835601806640625,y:6.820068359375},{x:3.855499267578125,y:6.851959228515625},{x:3.877410888671875,y:6.882843017578125},{x:3.9012451171875,y:6.912689208984375},{x:3.9268798828125,y:6.94140625},{x:3.9830322265625,y:6.995330810546875},{x:4.044921875,y:7.044036865234375},{x:4.111572265625,y:7.087066650390625},{x:4.1820068359375,y:7.123870849609375},{x:4.255218505859375,y:7.154022216796875},{x:4.330322265625,y:7.176971435546875},{x:4.40625,y:7.19219970703125},{x:4.45770263671875,y:7.19842529296875},{x:4.508544921875,y:7.201904296875},{x:4.558746337890625,y:7.202728271484375},{x:4.608245849609375,y:7.200897216796875},{x:4.65704345703125,y:7.196563720703125},{x:4.705047607421875,y:7.189697265625},{x:4.752227783203125,y:7.180450439453125},{x:4.798492431640625,y:7.168792724609375},{x:4.843841552734375,y:7.154876708984375},{x:4.88824462890625,y:7.13873291015625},{x:4.93157958984375,y:7.12042236328125},{x:4.973846435546875,y:7.100006103515625},{x:5.014984130859375,y:7.077545166015625},{x:5.054962158203125,y:7.0531005859375},{x:5.093719482421875,y:7.026763916015625},{x:5.131195068359375,y:6.998565673828125},{x:5.167327880859375,y:6.9686279296875},{x:5.202117919921875,y:6.936920166015625},{x:5.2354736328125,y:6.903594970703125},{x:5.267364501953125,y:6.868682861328125},{x:5.297760009765625,y:6.83221435546875},{x:5.326568603515625,y:6.7943115234375},{x:5.353759765625,y:6.7550048828125},{x:5.3792724609375,y:6.714385986328125},{x:5.403076171875,y:6.6724853515625},{x:5.425140380859375,y:6.629364013671875},{x:5.44537353515625,y:6.58514404296875},{x:5.463775634765625,y:6.539825439453125},{x:5.480255126953125,y:6.49346923828125},{x:5.4947509765625,y:6.446197509765625},{x:5.50726318359375,y:6.398040771484375},{x:5.517730712890625,y:6.34906005859375},{x:5.3970947265625,y:6.487548828125},{x:5.380096435546875,y:6.509124755859375},{x:5.36029052734375,y:6.5291748046875},{x:5.3380126953125,y:6.54754638671875},{x:5.313629150390625,y:6.564056396484375},{x:5.2874755859375,y:6.57855224609375},{x:5.25994873046875,y:6.59088134765625},{x:5.231353759765625,y:6.600860595703125},{x:5.202117919921875,y:6.608367919921875},{x:5.172515869140625,y:6.613189697265625},{x:5.1429443359375,y:6.615203857421875},{x:5.11376953125,y:6.61419677734375},{x:5.0853271484375,y:6.61004638671875},{x:5.058013916015625,y:6.60260009765625},{x:5.0321044921875,y:6.5916748046875},{x:5.008026123046875,y:6.577117919921875},{x:4.986114501953125,y:6.558746337890625},{x:4.969451904296875,y:6.5391845703125},{x:4.95660400390625,y:6.51763916015625},{x:4.947357177734375,y:6.494659423828125},{x:4.941558837890625,y:6.47076416015625},{x:4.938934326171875,y:6.446533203125},{x:4.939300537109375,y:6.4224853515625},{x:4.94244384765625,y:6.399200439453125},{x:4.948150634765625,y:6.377227783203125},{x:4.956207275390625,y:6.3570556640625},{x:4.9664306640625,y:6.33929443359375},{x:4.97857666015625,y:6.324493408203125},{x:4.99249267578125,y:6.313140869140625},{x:5.007904052734375,y:6.30584716796875},{x:5.024627685546875,y:6.303131103515625},{x:5.042449951171875,y:6.3055419921875},{x:5.0611572265625,y:6.313629150390625},{x:5.0762939453125,y:6.32427978515625},{x:5.086669921875,y:6.335540771484375},{x:5.09295654296875,y:6.3472900390625},{x:5.09576416015625,y:6.359375},{x:5.0958251953125,y:6.371734619140625},{x:5.093780517578125,y:6.384246826171875},{x:5.086029052734375,y:6.4093017578125},{x:5.077911376953125,y:6.43365478515625},{x:5.07537841796875,y:6.4453125},{x:5.074737548828125,y:6.456451416015625},{x:5.076690673828125,y:6.46697998046875},{x:5.08184814453125,y:6.476776123046875},{x:5.090972900390625,y:6.48577880859375},{x:5.104644775390625,y:6.493804931640625},{x:5.12481689453125,y:6.500823974609375},{x:5.145416259765625,y:6.503570556640625},{x:5.166351318359375,y:6.50250244140625},{x:5.187469482421875,y:6.497955322265625},{x:5.2086181640625,y:6.490386962890625},{x:5.2296142578125,y:6.48016357421875},{x:5.270721435546875,y:6.45343017578125},{x:5.309600830078125,y:6.420989990234375},{x:5.3450927734375,y:6.38604736328125},{x:5.37603759765625,y:6.35186767578125},{x:5.401275634765625,y:6.321685791015625},{x:5.45343017578125,y:6.2520751953125},{x:5.500732421875,y:6.1795654296875},{x:5.54443359375,y:6.104827880859375},{x:5.585693359375,y:6.02862548828125},{x:5.665618896484375,y:5.874542236328125},{x:5.7066650390625,y:5.798126220703125},{x:5.750030517578125,y:5.723052978515625},{x:5.74658203125,y:5.718994140625},{x:5.743072509765625,y:5.71746826171875},{x:5.735931396484375,y:5.719818115234375},{x:5.72320556640625,y:5.73199462890625},{x:5.606170654296875,y:5.834503173828125},{x:5.549163818359375,y:5.8836669921875},{x:5.49102783203125,y:5.929931640625},{x:5.430084228515625,y:5.972137451171875},{x:5.36468505859375,y:6.009124755859375},{x:5.329803466796875,y:6.025299072265625},{x:5.293182373046875,y:6.03973388671875},{x:5.254638671875,y:6.05230712890625},{x:5.213958740234375,y:6.0628662109375},{x:5.1795654296875,y:6.069610595703125},{x:5.145172119140625,y:6.074188232421875},{x:5.11090087890625,y:6.07672119140625},{x:5.076751708984375,y:6.077178955078125},{x:5.00927734375,y:6.072235107421875},{x:4.943328857421875,y:6.05975341796875},{x:4.879547119140625,y:6.040191650390625},{x:4.8184814453125,y:6.013885498046875},{x:4.7607421875,y:5.9813232421875},{x:4.706939697265625,y:5.942840576171875},{x:4.65765380859375,y:5.89892578125},{x:4.613525390625,y:5.84991455078125},{x:4.5750732421875,y:5.7962646484375},{x:4.54296875,y:5.738372802734375},{x:4.52947998046875,y:5.707977294921875},{x:4.51776123046875,y:5.676666259765625},{x:4.507965087890625,y:5.64447021484375},{x:4.500091552734375,y:5.61151123046875},{x:4.4942626953125,y:5.577789306640625},{x:4.490509033203125,y:5.543365478515625},{x:4.48895263671875,y:5.508270263671875},{x:4.489654541015625,y:5.47259521484375},{x:4.492401123046875,y:5.44024658203125},{x:4.49700927734375,y:5.409423828125},{x:4.509918212890625,y:5.35150146484375},{x:4.5245361328125,y:5.2969970703125},{x:4.537139892578125,y:5.244232177734375},{x:4.54150390625,y:5.21795654296875},{x:4.5439453125,y:5.191436767578125},{x:4.543975830078125,y:5.16448974609375},{x:4.541168212890625,y:5.136871337890625},{x:4.535003662109375,y:5.108367919921875},{x:4.5250244140625,y:5.07879638671875},{x:4.5107421875,y:5.047882080078125},{x:4.491729736328125,y:5.01544189453125},{x:4.4757080078125,y:4.9927978515625},{x:4.458404541015625,y:4.972320556640625},{x:4.439971923828125,y:4.95391845703125},{x:4.420501708984375,y:4.93756103515625},{x:4.400177001953125,y:4.9232177734375},{x:4.379058837890625,y:4.910888671875},{x:4.335052490234375,y:4.891937255859375},{x:4.28948974609375,y:4.880462646484375},{x:4.243408203125,y:4.876129150390625},{x:4.19775390625,y:4.87860107421875},{x:4.153594970703125,y:4.88763427734375},{x:4.111907958984375,y:4.90289306640625},{x:4.073699951171875,y:4.924041748046875},{x:4.03997802734375,y:4.950836181640625},{x:4.011749267578125,y:4.98291015625},{x:4,y:5.000823974609375},{x:3.989990234375,y:5.01995849609375},{x:3.98187255859375,y:5.040283203125},{x:3.97576904296875,y:5.061737060546875},{x:3.971771240234375,y:5.084259033203125},{x:3.97003173828125,y:5.107879638671875},{x:3.970672607421875,y:5.13250732421875},{x:3.97381591796875,y:5.1580810546875},{x:3.97833251953125,y:5.1761474609375},{x:3.9853515625,y:5.19293212890625},{x:3.994537353515625,y:5.20831298828125},{x:4.005645751953125,y:5.22216796875},{x:4.01837158203125,y:5.234375},{x:4.032470703125,y:5.24481201171875},{x:4.047607421875,y:5.25335693359375},{x:4.06353759765625,y:5.2598876953125},{x:4.0799560546875,y:5.264251708984375},{x:4.096588134765625,y:5.266357421875},{x:4.1131591796875,y:5.266082763671875},{x:4.129364013671875,y:5.2633056640625},{x:4.144927978515625,y:5.25787353515625},{x:4.159576416015625,y:5.249664306640625},{x:4.17303466796875,y:5.23858642578125},{x:4.184967041015625,y:5.224517822265625},{x:4.172821044921875,y:5.200775146484375},{x:4.166290283203125,y:5.178863525390625},{x:4.164764404296875,y:5.158935546875},{x:4.1676025390625,y:5.141204833984375},{x:4.17413330078125,y:5.1258544921875},{x:4.18377685546875,y:5.11309814453125},{x:4.195892333984375,y:5.10308837890625},{x:4.209808349609375,y:5.0960693359375},{x:4.22491455078125,y:5.09222412109375},{x:4.240570068359375,y:5.091705322265625},{x:4.256134033203125,y:5.094757080078125},{x:4.270965576171875,y:5.101531982421875},{x:4.284423828125,y:5.112274169921875},{x:4.295928955078125,y:5.12713623046875},{x:4.304779052734375,y:5.14630126953125},{x:4.31036376953125,y:5.170013427734375},{x:4.312408447265625,y:5.204254150390625},{x:4.30877685546875,y:5.23553466796875},{x:4.299957275390625,y:5.263824462890625},{x:4.28656005859375,y:5.2890625},{x:4.269073486328125,y:5.3111572265625},{x:4.248046875,y:5.330047607421875},{x:4.22406005859375,y:5.345672607421875},{x:4.1976318359375,y:5.358001708984375},{x:4.1693115234375,y:5.366943359375},{x:4.139617919921875,y:5.3724365234375},{x:4.109100341796875,y:5.3743896484375},{x:4.078338623046875,y:5.372802734375},{x:4.0478515625,y:5.3675537109375},{x:4.018157958984375,y:5.358612060546875},{x:3.989837646484375,y:5.34588623046875},{x:3.963409423828125,y:5.329345703125},{x:3.934783935546875,y:5.305389404296875},{x:3.9111328125,y:5.279144287109375},{x:3.89227294921875,y:5.251007080078125},{x:3.877960205078125,y:5.221221923828125},{x:3.868011474609375,y:5.190185546875},{x:3.862213134765625,y:5.158172607421875},{x:3.860382080078125,y:5.125518798828125},{x:3.862335205078125,y:5.092529296875},{x:3.867828369140625,y:5.0595703125},{x:3.876708984375,y:5.026947021484375},{x:3.88873291015625,y:4.9949951171875},{x:3.903717041015625,y:4.964019775390625},{x:3.921478271484375,y:4.934326171875},{x:3.941802978515625,y:4.90631103515625},{x:3.9644775390625,y:4.880218505859375},{x:3.98931884765625,y:4.856414794921875},{x:4.01214599609375,y:4.837860107421875},{x:4.03564453125,y:4.821502685546875},{x:4.059722900390625,y:4.8072509765625},{x:4.084320068359375,y:4.795074462890625},{x:4.109344482421875,y:4.784942626953125},{x:4.134674072265625,y:4.776763916015625},{x:4.18603515625,y:4.766204833984375},{x:4.237762451171875,y:4.76300048828125},{x:4.2891845703125,y:4.766815185546875},{x:4.33966064453125,y:4.777313232421875},{x:4.38848876953125,y:4.794097900390625},{x:4.43505859375,y:4.8167724609375},{x:4.47869873046875,y:4.84503173828125},{x:4.518707275390625,y:4.878509521484375},{x:4.55450439453125,y:4.91680908203125},{x:4.585357666015625,y:4.959564208984375},{x:4.610626220703125,y:5.006439208984375},{x:4.629669189453125,y:5.057037353515625},{x:4.641845703125,y:5.111053466796875},{x:4.67498779296875,y:5.080291748046875},{x:4.709991455078125,y:5.052490234375},{x:4.746612548828125,y:5.0277099609375},{x:4.784698486328125,y:5.006103515625},{x:4.823974609375,y:4.98773193359375},{x:4.864288330078125,y:4.9727783203125},{x:4.9053955078125,y:4.9613037109375},{x:4.94708251953125,y:4.95343017578125},{x:4.98919677734375,y:4.94927978515625},{x:5.031463623046875,y:4.948944091796875},{x:5.07373046875,y:4.95257568359375},{x:5.115753173828125,y:4.96026611328125},{x:5.1573486328125,y:4.972137451171875},{x:5.198272705078125,y:4.98828125},{x:5.238372802734375,y:5.00885009765625},{x:5.277374267578125,y:5.033905029296875},{x:5.31396484375,y:5.063201904296875},{x:5.3468017578125,y:5.0960693359375},{x:5.375701904296875,y:5.131988525390625},{x:5.4005126953125,y:5.170501708984375},{x:5.42108154296875,y:5.21112060546875},{x:5.437225341796875,y:5.253387451171875},{x:5.44879150390625,y:5.29681396484375},{x:5.45562744140625,y:5.34088134765625},{x:5.457550048828125,y:5.385162353515625},{x:5.454437255859375,y:5.42913818359375},{x:5.446075439453125,y:5.472320556640625},{x:5.432342529296875,y:5.5142822265625},{x:5.413055419921875,y:5.55450439453125},{x:5.3880615234375,y:5.592498779296875},{x:5.357177734375,y:5.6278076171875},{x:5.32025146484375,y:5.659912109375},{x:5.29559326171875,y:5.6768798828125},{x:5.2694091796875,y:5.691375732421875},{x:5.242034912109375,y:5.703399658203125},{x:5.2137451171875,y:5.712860107421875},{x:5.184814453125,y:5.719696044921875},{x:5.155517578125,y:5.723846435546875},{x:5.126129150390625,y:5.725250244140625},{x:5.096923828125,y:5.723846435546875},{x:5.0682373046875,y:5.71954345703125},{x:5.040283203125,y:5.71234130859375},{x:5.01336669921875,y:5.702117919921875},{x:4.987762451171875,y:5.688873291015625},{x:4.963775634765625,y:5.672454833984375},{x:4.941680908203125,y:5.65289306640625},{x:4.921722412109375,y:5.63006591796875},{x:4.904205322265625,y:5.60394287109375},{x:4.8929443359375,y:5.581512451171875},{x:4.884490966796875,y:5.558074951171875},{x:4.8787841796875,y:5.533966064453125},{x:4.87579345703125,y:5.50958251953125},{x:4.87548828125,y:5.4852294921875},{x:4.87786865234375,y:5.461334228515625},{x:4.882843017578125,y:5.438201904296875},{x:4.890411376953125,y:5.416229248046875},{x:4.9005126953125,y:5.395782470703125},{x:4.913116455078125,y:5.377197265625},{x:4.928192138671875,y:5.36083984375},{x:4.945709228515625,y:5.34710693359375},{x:4.96563720703125,y:5.336334228515625},{x:4.9879150390625,y:5.32891845703125},{x:5.01251220703125,y:5.325164794921875},{x:5.0394287109375,y:5.325469970703125},{x:5.062164306640625,y:5.32958984375},{x:5.081695556640625,y:5.337188720703125},{x:5.098052978515625,y:5.34771728515625},{x:5.111328125,y:5.360595703125},{x:5.12152099609375,y:5.375274658203125},{x:5.128662109375,y:5.39117431640625},{x:5.132781982421875,y:5.40771484375},{x:5.13397216796875,y:5.42437744140625},{x:5.132232666015625,y:5.4405517578125},{x:5.12762451171875,y:5.455718994140625},{x:5.12017822265625,y:5.469268798828125},{x:5.109954833984375,y:5.48065185546875},{x:5.096954345703125,y:5.489288330078125},{x:5.08123779296875,y:5.49462890625},{x:5.062835693359375,y:5.49609375},{x:5.04180908203125,y:5.493133544921875},{x:5.032501220703125,y:5.489776611328125},{x:5.02532958984375,y:5.48504638671875},{x:5.014801025390625,y:5.473663330078125},{x:5.004913330078125,y:5.46368408203125},{x:4.998504638671875,y:5.460693359375},{x:4.99029541015625,y:5.45977783203125},{x:4.990264892578125,y:5.4984130859375},{x:4.996612548828125,y:5.531158447265625},{x:5.008575439453125,y:5.558258056640625},{x:5.025390625,y:5.57989501953125},{x:5.046295166015625,y:5.59625244140625},{x:5.070526123046875,y:5.60748291015625},{x:5.09735107421875,y:5.61383056640625},{x:5.1259765625,y:5.615447998046875},{x:5.1556396484375,y:5.612518310546875},{x:5.18560791015625,y:5.605255126953125},{x:5.215118408203125,y:5.59381103515625},{x:5.243377685546875,y:5.57843017578125},{x:5.2696533203125,y:5.55926513671875},{x:5.29315185546875,y:5.5364990234375},{x:5.31317138671875,y:5.51031494140625},{x:5.328887939453125,y:5.480926513671875},{x:5.340362548828125,y:5.45025634765625},{x:5.34820556640625,y:5.4200439453125},{x:5.35260009765625,y:5.390380859375},{x:5.353729248046875,y:5.361358642578125},{x:5.351715087890625,y:5.33306884765625},{x:5.34674072265625,y:5.305633544921875},{x:5.338958740234375,y:5.27911376953125},{x:5.328521728515625,y:5.253631591796875},{x:5.31561279296875,y:5.229278564453125},{x:5.300384521484375,y:5.2061767578125},{x:5.282989501953125,y:5.184356689453125},{x:5.26361083984375,y:5.16400146484375},{x:5.24237060546875,y:5.1451416015625},{x:5.219451904296875,y:5.127899169921875},{x:5.195037841796875,y:5.11236572265625},{x:5.169281005859375,y:5.0986328125},{x:5.142303466796875,y:5.086822509765625},{x:5.114288330078125,y:5.0770263671875},{x:5.085418701171875,y:5.0693359375},{x:5.05584716796875,y:5.063812255859375},{x:5.025726318359375,y:5.06060791015625},{x:4.99517822265625,y:5.059814453125},{x:4.964447021484375,y:5.061492919921875},{x:4.933624267578125,y:5.065765380859375},{x:4.902923583984375,y:5.072723388671875},{x:4.8724365234375,y:5.08245849609375},{x:4.8424072265625,y:5.0950927734375},{x:4.81292724609375,y:5.110687255859375},{x:4.784210205078125,y:5.129364013671875},{x:4.756378173828125,y:5.1512451171875},{x:4.7296142578125,y:5.176361083984375},{x:4.704071044921875,y:5.204864501953125},{x:4.6846923828125,y:5.2301025390625},{x:4.667388916015625,y:5.256134033203125},{x:4.652130126953125,y:5.2828369140625},{x:4.638885498046875,y:5.31011962890625},{x:4.61834716796875,y:5.3660888671875},{x:4.60552978515625,y:5.42333984375},{x:4.60015869140625,y:5.481201171875},{x:4.60198974609375,y:5.538970947265625},{x:4.610809326171875,y:5.59588623046875},{x:4.6263427734375,y:5.65130615234375},{x:4.64837646484375,y:5.70452880859375},{x:4.676605224609375,y:5.75482177734375},{x:4.710845947265625,y:5.801483154296875},{x:4.750823974609375,y:5.843841552734375},{x:4.796295166015625,y:5.88116455078125},{x:4.84698486328125,y:5.912750244140625},{x:4.874237060546875,y:5.926177978515625},{x:4.9027099609375,y:5.93792724609375},{x:4.932373046875,y:5.9478759765625},{x:4.963165283203125,y:5.955963134765625},{x:4.998321533203125,y:5.962860107421875},{x:5.032562255859375,y:5.96746826171875},{x:5.065948486328125,y:5.9698486328125},{x:5.0985107421875,y:5.970123291015625},{x:5.130279541015625,y:5.968353271484375},{x:5.161285400390625,y:5.964691162109375},{x:5.22119140625,y:5.951904296875},{x:5.278472900390625,y:5.932586669921875},{x:5.333465576171875,y:5.907440185546875},{x:5.386383056640625,y:5.87725830078125},{x:5.43756103515625,y:5.842803955078125},{x:5.48724365234375,y:5.804840087890625},{x:5.535736083984375,y:5.764129638671875},{x:5.630218505859375,y:5.677490234375},{x:5.723236083984375,y:5.5889892578125},{x:5.8170166015625,y:5.5047607421875},{x:5.87310791015625,y:5.46026611328125},{x:5.9307861328125,y:5.4176025390625},{x:5.988494873046875,y:5.3748779296875},{x:6.0445556640625,y:5.330230712890625},{x:5.970489501953125,y:5.337799072265625},{x:5.895599365234375,y:5.33935546875},{x:5.8583984375,y:5.33740234375},{x:5.821685791015625,y:5.333404541015625},{x:5.785675048828125,y:5.327117919921875},{x:5.750579833984375,y:5.31842041015625},{x:5.716644287109375,y:5.307098388671875},{x:5.68408203125,y:5.29296875},{x:5.65313720703125,y:5.27581787109375},{x:5.6240234375,y:5.255462646484375},{x:5.59698486328125,y:5.23175048828125},{x:5.572235107421875,y:5.2044677734375},{x:5.550018310546875,y:5.173431396484375},{x:5.530517578125,y:5.138427734375},{x:5.513916015625,y:5.09759521484375},{x:5.503387451171875,y:5.05633544921875},{x:5.49859619140625,y:5.015167236328125},{x:5.499267578125,y:4.974517822265625},{x:5.505157470703125,y:4.934906005859375},{x:5.515960693359375,y:4.89678955078125},{x:5.531402587890625,y:4.86065673828125},{x:5.551177978515625,y:4.82696533203125},{x:5.575042724609375,y:4.796173095703125},{x:5.60272216796875,y:4.768798828125},{x:5.633880615234375,y:4.74530029296875},{x:5.66827392578125,y:4.72613525390625},{x:5.70562744140625,y:4.7117919921875},{x:5.745635986328125,y:4.702728271484375},{x:5.78802490234375,y:4.699462890625},{x:5.83251953125,y:4.702423095703125},{x:5.8670654296875,y:4.710235595703125},{x:5.8980712890625,y:4.72314453125},{x:5.925445556640625,y:4.74041748046875},{x:5.949066162109375,y:4.76129150390625},{x:5.96881103515625,y:4.78509521484375},{x:5.984649658203125,y:4.81103515625},{x:5.996429443359375,y:4.83843994140625},{x:6.004058837890625,y:4.86651611328125},{x:6.0074462890625,y:4.89459228515625},{x:6.006500244140625,y:4.921905517578125},{x:6.0010986328125,y:4.947723388671875},{x:5.99114990234375,y:4.9713134765625},{x:5.976593017578125,y:4.991943359375},{x:5.957244873046875,y:5.0089111328125},{x:5.93310546875,y:5.021453857421875},{x:5.90399169921875,y:5.028839111328125},{x:5.88079833984375,y:5.0303955078125},{x:5.860687255859375,y:5.0281982421875},{x:5.843597412109375,y:5.02276611328125},{x:5.829498291015625,y:5.01458740234375},{x:5.81842041015625,y:5.004150390625},{x:5.81024169921875,y:4.991912841796875},{x:5.805023193359375,y:4.9783935546875},{x:5.80267333984375,y:4.96405029296875},{x:5.80316162109375,y:4.94940185546875},{x:5.806488037109375,y:4.9349365234375},{x:5.812591552734375,y:4.92108154296875},{x:5.82147216796875,y:4.90838623046875},{x:5.833099365234375,y:4.897308349609375},{x:5.847412109375,y:4.88836669921875},{x:5.864410400390625,y:4.88201904296875},{x:5.884033203125,y:4.878753662109375},{x:5.87506103515625,y:4.858306884765625},{x:5.86346435546875,y:4.841461181640625},{x:5.849639892578125,y:4.828033447265625},{x:5.83392333984375,y:4.81793212890625},{x:5.81671142578125,y:4.811004638671875},{x:5.79833984375,y:4.807037353515625},{x:5.77923583984375,y:4.80596923828125},{x:5.75970458984375,y:4.807586669921875},{x:5.740142822265625,y:4.811798095703125},{x:5.720947265625,y:4.818450927734375},{x:5.702423095703125,y:4.827362060546875},{x:5.685028076171875,y:4.838409423828125},{x:5.6690673828125,y:4.8514404296875},{x:5.6549072265625,y:4.8663330078125},{x:5.642974853515625,y:4.8829345703125},{x:5.633575439453125,y:4.90106201171875},{x:5.62109375,y:4.93902587890625},{x:5.615447998046875,y:4.977020263671875},{x:5.616363525390625,y:5.014404296875},{x:5.623626708984375,y:5.0506591796875},{x:5.636993408203125,y:5.08514404296875},{x:5.656219482421875,y:5.117279052734375},{x:5.68109130859375,y:5.146453857421875},{x:5.7113037109375,y:5.172088623046875},{x:5.73663330078125,y:5.188629150390625},{x:5.763031005859375,y:5.202545166015625},{x:5.790374755859375,y:5.213958740234375},{x:5.818603515625,y:5.222991943359375},{x:5.847625732421875,y:5.229705810546875},{x:5.87738037109375,y:5.2342529296875},{x:5.907806396484375,y:5.2366943359375},{x:5.938812255859375,y:5.237152099609375},{x:6.002197265625,y:5.232513427734375},{x:6.06695556640625,y:5.221221923828125},{x:6.1324462890625,y:5.204071044921875},{x:6.19805908203125,y:5.181884765625},{x:6.263153076171875,y:5.155517578125},{x:6.327117919921875,y:5.125762939453125},{x:6.38934326171875,y:5.093505859375},{x:6.449188232421875,y:5.0595703125},{x:6.50604248046875,y:5.024749755859375},{x:6.559295654296875,y:4.989898681640625},{x:6.65240478515625,y:4.92340087890625},{x:6.611602783203125,y:4.92236328125},{x:6.569305419921875,y:4.923980712890625},{x:6.52728271484375,y:4.92529296875},{x:6.48712158203125,y:4.92340087890625},{x:6.48773193359375,y:4.922210693359375},{x:6.456634521484375,y:4.916961669921875},{x:6.42645263671875,y:4.9088134765625},{x:6.39727783203125,y:4.897918701171875},{x:6.36932373046875,y:4.88446044921875},{x:6.342803955078125,y:4.868560791015625},{x:6.317840576171875,y:4.850372314453125},{x:6.294677734375,y:4.830108642578125},{x:6.273468017578125,y:4.807891845703125},{x:6.25439453125,y:4.783905029296875},{x:6.237640380859375,y:4.758270263671875},{x:6.223419189453125,y:4.731201171875},{x:6.21185302734375,y:4.70281982421875},{x:6.203155517578125,y:4.67327880859375},{x:6.197540283203125,y:4.64276123046875},{x:6.19512939453125,y:4.611419677734375},{x:6.1961669921875,y:4.579437255859375},{x:6.175018310546875,y:4.564849853515625},{x:1.014404296875,y:4.564849853515625}],[{x:3.57293701171875,y:5.485015869140625},{x:3.538177490234375,y:5.519378662109375},{x:3.5048828125,y:5.554046630859375},{x:3.490966796875,y:5.5714111328125},{x:3.48004150390625,y:5.5887451171875},{x:3.469512939453125,y:5.61480712890625},{x:3.46429443359375,y:5.6422119140625},{x:3.46380615234375,y:5.6707763671875},{x:3.467437744140625,y:5.7003173828125},{x:3.474517822265625,y:5.730682373046875},{x:3.484466552734375,y:5.76165771484375},{x:3.510467529296875,y:5.82476806640625},{x:3.569610595703125,y:5.95074462890625},{x:3.592926025390625,y:6.01080322265625},{x:3.600830078125,y:6.03948974609375},{x:3.60540771484375,y:6.067047119140625},{x:3.727813720703125,y:5.7471923828125},{x:3.734649658203125,y:5.72552490234375},{x:3.73876953125,y:5.703948974609375},{x:3.740264892578125,y:5.68255615234375},{x:3.7393798828125,y:5.661346435546875},{x:3.73626708984375,y:5.64044189453125},{x:3.7310791015625,y:5.61993408203125},{x:3.715118408203125,y:5.580291748046875},{x:3.69293212890625,y:5.542999267578125},{x:3.665802001953125,y:5.5086669921875},{x:3.635101318359375,y:5.47784423828125},{x:3.602142333984375,y:5.451141357421875},{x:3.57293701171875,y:5.485015869140625}],[{x:6.553680419921875,y:2.552947998046875},{x:6.5263671875,y:2.55743408203125},{x:6.49957275390625,y:2.563873291015625},{x:6.473358154296875,y:2.5723876953125},{x:6.44781494140625,y:2.58294677734375},{x:6.423095703125,y:2.595672607421875},{x:6.399261474609375,y:2.61053466796875},{x:6.38226318359375,y:2.62347412109375},{x:6.367462158203125,y:2.6373291015625},{x:6.354827880859375,y:2.65191650390625},{x:6.344268798828125,y:2.66717529296875},{x:6.329010009765625,y:2.6990966796875},{x:6.32110595703125,y:2.732086181640625},{x:6.31988525390625,y:2.76513671875},{x:6.324798583984375,y:2.7972412109375},{x:6.335174560546875,y:2.827392578125},{x:6.350372314453125,y:2.8546142578125},{x:6.369842529296875,y:2.87786865234375},{x:6.39288330078125,y:2.89617919921875},{x:6.418914794921875,y:2.908538818359375},{x:6.447296142578125,y:2.9139404296875},{x:6.462188720703125,y:2.9136962890625},{x:6.4774169921875,y:2.911346435546875},{x:6.492950439453125,y:2.906768798828125},{x:6.5086669921875,y:2.899810791015625},{x:6.524505615234375,y:2.890380859375},{x:6.5404052734375,y:2.8782958984375},{x:6.556243896484375,y:2.863494873046875},{x:6.571990966796875,y:2.8458251953125},{x:6.572174072265625,y:2.83880615234375},{x:6.566558837890625,y:2.834503173828125},{x:6.556732177734375,y:2.832305908203125},{x:6.544189453125,y:2.831573486328125},{x:6.517181396484375,y:2.83203125},{x:6.497833251953125,y:2.8309326171875},{x:6.488800048828125,y:2.826812744140625},{x:6.481475830078125,y:2.820709228515625},{x:6.475830078125,y:2.812896728515625},{x:6.471893310546875,y:2.803680419921875},{x:6.46917724609375,y:2.782379150390625},{x:6.4732666015625,y:2.75927734375},{x:6.4842529296875,y:2.73681640625},{x:6.4923095703125,y:2.726593017578125},{x:6.502105712890625,y:2.71746826171875},{x:6.513641357421875,y:2.709747314453125},{x:6.526885986328125,y:2.703765869140625},{x:6.5418701171875,y:2.69976806640625},{x:6.55859375,y:2.6981201171875},{x:6.59454345703125,y:2.700897216796875},{x:6.624908447265625,y:2.710235595703125},{x:6.6497802734375,y:2.725250244140625},{x:6.669219970703125,y:2.745025634765625},{x:6.68328857421875,y:2.7686767578125},{x:6.69207763671875,y:2.795318603515625},{x:6.695648193359375,y:2.824066162109375},{x:6.694061279296875,y:2.853973388671875},{x:6.68743896484375,y:2.88421630859375},{x:6.67578125,y:2.913848876953125},{x:6.659210205078125,y:2.941986083984375},{x:6.637786865234375,y:2.9677734375},{x:6.611602783203125,y:2.99029541015625},{x:6.580657958984375,y:3.008636474609375},{x:6.54510498046875,y:3.021942138671875},{x:6.5050048828125,y:3.029266357421875},{x:6.462890625,y:3.030731201171875},{x:6.42376708984375,y:3.027008056640625},{x:6.387237548828125,y:3.018341064453125},{x:6.352996826171875,y:3.00494384765625},{x:6.320709228515625,y:2.987030029296875},{x:6.29010009765625,y:2.964874267578125},{x:6.26080322265625,y:2.93865966796875},{x:6.23248291015625,y:2.908660888671875},{x:.9691162109375,y:2.908660888671875},{x:.950408935546875,y:2.93267822265625},{x:.929168701171875,y:2.954620361328125},{x:.90570068359375,y:2.974334716796875},{x:.88031005859375,y:2.991607666015625},{x:.8533935546875,y:3.006317138671875},{x:.825225830078125,y:3.018310546875},{x:.796173095703125,y:3.027435302734375},{x:.766571044921875,y:3.033477783203125},{x:.736724853515625,y:3.036346435546875},{x:.707000732421875,y:3.03582763671875},{x:.677703857421875,y:3.031768798828125},{x:.649200439453125,y:3.0240478515625},{x:.621795654296875,y:3.012481689453125},{x:.595794677734375,y:2.99688720703125},{x:.57159423828125,y:2.97711181640625},{x:.54949951171875,y:2.953033447265625},{x:.536956787109375,y:2.93511962890625},{x:.526763916015625,y:2.91607666015625},{x:.518951416015625,y:2.896209716796875},{x:.513519287109375,y:2.875823974609375},{x:.51043701171875,y:2.855194091796875},{x:.509765625,y:2.834625244140625},{x:.511474609375,y:2.814422607421875},{x:.515533447265625,y:2.794891357421875},{x:.522003173828125,y:2.776336669921875},{x:.5308837890625,y:2.759033203125},{x:.542144775390625,y:2.7432861328125},{x:.5557861328125,y:2.729400634765625},{x:.57183837890625,y:2.7176513671875},{x:.59027099609375,y:2.708404541015625},{x:.611114501953125,y:2.701873779296875},{x:.634368896484375,y:2.698394775390625},{x:.656402587890625,y:2.698760986328125},{x:.676177978515625,y:2.702850341796875},{x:.69354248046875,y:2.710174560546875},{x:.708404541015625,y:2.7200927734375},{x:.720611572265625,y:2.732025146484375},{x:.730010986328125,y:2.745452880859375},{x:.736480712890625,y:2.759796142578125},{x:.73992919921875,y:2.7744140625},{x:.740142822265625,y:2.788787841796875},{x:.737091064453125,y:2.802337646484375},{x:.730560302734375,y:2.814483642578125},{x:.720428466796875,y:2.82464599609375},{x:.70660400390625,y:2.83221435546875},{x:.688934326171875,y:2.836700439453125},{x:.66729736328125,y:2.837432861328125},{x:.641510009765625,y:2.83392333984375},{x:.633087158203125,y:2.8338623046875},{x:.6297607421875,y:2.837677001953125},{x:.630523681640625,y:2.84429931640625},{x:.634185791015625,y:2.8526611328125},{x:.64593505859375,y:2.870361328125},{x:.6561279296875,y:2.882171630859375},{x:.67828369140625,y:2.89898681640625},{x:.701629638671875,y:2.909759521484375},{x:.72564697265625,y:2.914886474609375},{x:.74981689453125,y:2.914825439453125},{x:.773651123046875,y:2.910003662109375},{x:.79656982421875,y:2.90087890625},{x:.818115234375,y:2.8878173828125},{x:.837738037109375,y:2.87127685546875},{x:.854949951171875,y:2.851715087890625},{x:.86920166015625,y:2.82952880859375},{x:.879974365234375,y:2.80517578125},{x:.886749267578125,y:2.779052734375},{x:.8890380859375,y:2.751617431640625},{x:.88629150390625,y:2.7232666015625},{x:.878021240234375,y:2.694488525390625},{x:.86370849609375,y:2.6656494140625},{x:.8397216796875,y:2.633636474609375},{x:.81103515625,y:2.607513427734375},{x:.7781982421875,y:2.58697509765625},{x:.741912841796875,y:2.5716552734375},{x:.7027587890625,y:2.561248779296875},{x:.661376953125,y:2.555419921875},{x:.618377685546875,y:2.5538330078125},{x:.574432373046875,y:2.55615234375},{x:.5301513671875,y:2.56207275390625},{x:.48614501953125,y:2.57122802734375},{x:.44305419921875,y:2.58331298828125},{x:.4014892578125,y:2.597991943359375},{x:.36212158203125,y:2.614959716796875},{x:.325531005859375,y:2.633819580078125},{x:.292388916015625,y:2.654327392578125},{x:.2633056640625,y:2.676055908203125},{x:.227325439453125,y:2.70904541015625},{x:.197723388671875,y:2.742523193359375},{x:.173919677734375,y:2.776580810546875},{x:.1552734375,y:2.81121826171875},{x:.141204833984375,y:2.84649658203125},{x:.131072998046875,y:2.882415771484375},{x:.12432861328125,y:2.919036865234375},{x:.120330810546875,y:2.956390380859375},{x:.118194580078125,y:3.03338623046875},{x:.11981201171875,y:3.11370849609375},{x:.120361328125,y:3.1976318359375},{x:.11871337890625,y:3.24102783203125},{x:.114990234375,y:3.285400390625},{x:.1201171875,y:3.35723876953125},{x:.123260498046875,y:3.430145263671875},{x:.124603271484375,y:3.5784912109375},{x:.1214599609375,y:3.7291259765625},{x:.116119384765625,y:3.880828857421875},{x:.11102294921875,y:4.032257080078125},{x:.108489990234375,y:4.182159423828125},{x:.11090087890625,y:4.329254150390625},{x:.114715576171875,y:4.40130615234375},{x:.120635986328125,y:4.47222900390625},{x:.12493896484375,y:4.500030517578125},{x:.132049560546875,y:4.527069091796875},{x:.14178466796875,y:4.553314208984375},{x:.154022216796875,y:4.57867431640625},{x:.1685791015625,y:4.60308837890625},{x:.185333251953125,y:4.626556396484375},{x:.204071044921875,y:4.64898681640625},{x:.224639892578125,y:4.670318603515625},{x:.270751953125,y:4.709503173828125},{x:.322357177734375,y:4.74365234375},{x:.378204345703125,y:4.772369384765625},{x:.437042236328125,y:4.795196533203125},{x:.49755859375,y:4.81170654296875},{x:.558502197265625,y:4.821441650390625},{x:.61859130859375,y:4.824005126953125},{x:.64794921875,y:4.822418212890625},{x:.676605224609375,y:4.81890869140625},{x:.70440673828125,y:4.8133544921875},{x:.731231689453125,y:4.805755615234375},{x:.75689697265625,y:4.795989990234375},{x:.781219482421875,y:4.7840576171875},{x:.8040771484375,y:4.7698974609375},{x:.8253173828125,y:4.753448486328125},{x:.8447265625,y:4.734649658203125},{x:.862213134765625,y:4.71343994140625},{x:.880401611328125,y:4.68231201171875},{x:.89068603515625,y:4.650604248046875},{x:.893768310546875,y:4.6190185546875},{x:.890472412109375,y:4.5882568359375},{x:.881561279296875,y:4.55902099609375},{x:.86785888671875,y:4.532012939453125},{x:.850128173828125,y:4.507965087890625},{x:.82916259765625,y:4.487518310546875},{x:.80572509765625,y:4.471405029296875},{x:.780609130859375,y:4.460357666015625},{x:.754608154296875,y:4.455047607421875},{x:.728515625,y:4.4561767578125},{x:.703125,y:4.464447021484375},{x:.69091796875,y:4.47149658203125},{x:.679168701171875,y:4.4805908203125},{x:.667999267578125,y:4.4918212890625},{x:.657501220703125,y:4.505279541015625},{x:.63885498046875,y:4.539215087890625},{x:.665618896484375,y:4.537445068359375},{x:.688446044921875,y:4.539794921875},{x:.7071533203125,y:4.545867919921875},{x:.72186279296875,y:4.5550537109375},{x:.732635498046875,y:4.566741943359375},{x:.73956298828125,y:4.580291748046875},{x:.7427978515625,y:4.595062255859375},{x:.74237060546875,y:4.610443115234375},{x:.738433837890625,y:4.625762939453125},{x:.731048583984375,y:4.64044189453125},{x:.720367431640625,y:4.653778076171875},{x:.7064208984375,y:4.66522216796875},{x:.689361572265625,y:4.674072265625},{x:.669281005859375,y:4.679718017578125},{x:.646240234375,y:4.681549072265625},{x:.620391845703125,y:4.67889404296875},{x:.594940185546875,y:4.672027587890625},{x:.573089599609375,y:4.661865234375},{x:.554718017578125,y:4.648773193359375},{x:.539764404296875,y:4.63311767578125},{x:.528076171875,y:4.6153564453125},{x:.519622802734375,y:4.5958251953125},{x:.514251708984375,y:4.574920654296875},{x:.511932373046875,y:4.55303955078125},{x:.512542724609375,y:4.53057861328125},{x:.515960693359375,y:4.507904052734375},{x:.522125244140625,y:4.48541259765625},{x:.530975341796875,y:4.4635009765625},{x:.542327880859375,y:4.44256591796875},{x:.556182861328125,y:4.4229736328125},{x:.5723876953125,y:4.405120849609375},{x:.59088134765625,y:4.389434814453125},{x:.61474609375,y:4.373779296875},{x:.639617919921875,y:4.361297607421875},{x:.665283203125,y:4.3519287109375},{x:.691497802734375,y:4.345550537109375},{x:.718048095703125,y:4.342071533203125},{x:.744720458984375,y:4.3414306640625},{x:.77130126953125,y:4.34356689453125},{x:.79754638671875,y:4.348358154296875},{x:.8232421875,y:4.355743408203125},{x:.848175048828125,y:4.365631103515625},{x:.872100830078125,y:4.3779296875},{x:.89483642578125,y:4.392578125},{x:.916107177734375,y:4.409454345703125},{x:.93572998046875,y:4.42852783203125},{x:.9534912109375,y:4.449676513671875},{x:.9691162109375,y:4.472808837890625},{x:6.241729736328125,y:4.472808837890625},{x:6.259674072265625,y:4.447540283203125},{x:6.280914306640625,y:4.4249267578125},{x:6.305023193359375,y:4.405120849609375},{x:6.33154296875,y:4.388153076171875},{x:6.360015869140625,y:4.3741455078125},{x:6.389984130859375,y:4.363189697265625},{x:6.421051025390625,y:4.355377197265625},{x:6.452728271484375,y:4.350830078125},{x:6.48455810546875,y:4.349578857421875},{x:6.51611328125,y:4.351776123046875},{x:6.54693603515625,y:4.35748291015625},{x:6.57659912109375,y:4.3668212890625},{x:6.6046142578125,y:4.379852294921875},{x:6.630584716796875,y:4.39666748046875},{x:6.65399169921875,y:4.41741943359375},{x:6.6744384765625,y:4.442138671875},{x:6.691680908203125,y:4.47222900390625},{x:6.7027587890625,y:4.5042724609375},{x:6.707427978515625,y:4.537078857421875},{x:6.705474853515625,y:4.569366455078125},{x:6.696563720703125,y:4.5999755859375},{x:6.689453125,y:4.6142578125},{x:6.680511474609375,y:4.627655029296875},{x:6.66973876953125,y:4.640045166015625},{x:6.65704345703125,y:4.651214599609375},{x:6.6424560546875,y:4.661041259765625},{x:6.62591552734375,y:4.66937255859375},{x:6.60809326171875,y:4.675567626953125},{x:6.5899658203125,y:4.679168701171875},{x:6.571929931640625,y:4.680389404296875},{x:6.55426025390625,y:4.6793212890625},{x:6.53741455078125,y:4.676177978515625},{x:6.521697998046875,y:4.671112060546875},{x:6.507476806640625,y:4.664276123046875},{x:6.4951171875,y:4.655853271484375},{x:6.485015869140625,y:4.64599609375},{x:6.47747802734375,y:4.634857177734375},{x:6.472900390625,y:4.62261962890625},{x:6.471649169921875,y:4.60943603515625},{x:6.474090576171875,y:4.595489501953125},{x:6.480560302734375,y:4.580902099609375},{x:6.491424560546875,y:4.56585693359375},{x:6.507080078125,y:4.550537109375},{x:6.571990966796875,y:4.544281005859375},{x:6.556427001953125,y:4.518096923828125},{x:6.538482666015625,y:4.49749755859375},{x:6.51873779296875,y:4.482208251953125},{x:6.49761962890625,y:4.472015380859375},{x:6.4757080078125,y:4.46661376953125},{x:6.4534912109375,y:4.46575927734375},{x:6.43145751953125,y:4.469146728515625},{x:6.410125732421875,y:4.476531982421875},{x:6.3900146484375,y:4.487640380859375},{x:6.37164306640625,y:4.502227783203125},{x:6.355499267578125,y:4.519989013671875},{x:6.342071533203125,y:4.540679931640625},{x:6.3319091796875,y:4.56402587890625},{x:6.32550048828125,y:4.58978271484375},{x:6.3233642578125,y:4.61761474609375},{x:6.32598876953125,y:4.6473388671875},{x:6.33050537109375,y:4.667724609375},{x:6.3367919921875,y:4.686798095703125},{x:6.344757080078125,y:4.70458984375},{x:6.35430908203125,y:4.721099853515625},{x:6.377655029296875,y:4.75030517578125},{x:6.405914306640625,y:4.7745361328125},{x:6.438262939453125,y:4.7939453125},{x:6.473785400390625,y:4.808624267578125},{x:6.511627197265625,y:4.81866455078125},{x:6.55084228515625,y:4.824249267578125},{x:6.595123291015625,y:4.82611083984375},{x:6.639617919921875,y:4.8243408203125},{x:6.6839599609375,y:4.819061279296875},{x:6.72784423828125,y:4.810333251953125},{x:6.7708740234375,y:4.7982177734375},{x:6.812713623046875,y:4.78277587890625},{x:6.85302734375,y:4.76409912109375},{x:6.891448974609375,y:4.74224853515625},{x:6.927642822265625,y:4.71734619140625},{x:6.961273193359375,y:4.68939208984375},{x:6.991973876953125,y:4.658477783203125},{x:7.019378662109375,y:4.624725341796875},{x:7.043182373046875,y:4.588165283203125},{x:7.06298828125,y:4.548858642578125},{x:7.0784912109375,y:4.506927490234375},{x:7.089324951171875,y:4.46240234375},{x:7.08392333984375,y:4.277252197265625},{x:7.084259033203125,y:4.089599609375},{x:7.0882568359375,y:3.900390625},{x:7.093841552734375,y:3.710479736328125},{x:7.098968505859375,y:3.520751953125},{x:7.101531982421875,y:3.332122802734375},{x:7.099517822265625,y:3.14544677734375},{x:7.09613037109375,y:3.05316162109375},{x:7.090789794921875,y:2.961669921875},{x:7.087615966796875,y:2.932830810546875},{x:7.082183837890625,y:2.904632568359375},{x:7.07464599609375,y:2.877105712890625},{x:7.0650634765625,y:2.850311279296875},{x:7.053558349609375,y:2.8243408203125},{x:7.040252685546875,y:2.7991943359375},{x:7.008575439453125,y:2.75164794921875},{x:6.970916748046875,y:2.708099365234375},{x:6.9281005859375,y:2.6689453125},{x:6.88092041015625,y:2.634613037109375},{x:6.83026123046875,y:2.60552978515625},{x:6.77691650390625,y:2.582061767578125},{x:6.72174072265625,y:2.564666748046875},{x:6.66558837890625,y:2.553741455078125},{x:6.609283447265625,y:2.5496826171875},{x:6.553680419921875,y:2.552947998046875}],[{x:2.62725830078125,y:.192108154296875},{x:2.576416015625,y:.1964111328125},{x:2.52606201171875,y:.203460693359375},{x:2.47625732421875,y:.213165283203125},{x:2.427093505859375,y:.2254638671875},{x:2.378662109375,y:.24029541015625},{x:2.331085205078125,y:.257537841796875},{x:2.284454345703125,y:.277191162109375},{x:2.23883056640625,y:.299102783203125},{x:2.1943359375,y:.323272705078125},{x:2.15106201171875,y:.349578857421875},{x:2.109100341796875,y:.3779296875},{x:2.06854248046875,y:.4083251953125},{x:2.02947998046875,y:.44061279296875},{x:1.99200439453125,y:.474761962890625},{x:1.95623779296875,y:.510711669921875},{x:1.922210693359375,y:.54833984375},{x:1.890106201171875,y:.58758544921875},{x:1.859954833984375,y:.62841796875},{x:1.83184814453125,y:.67071533203125},{x:1.805938720703125,y:.71441650390625},{x:1.782257080078125,y:.75946044921875},{x:1.76092529296875,y:.805755615234375},{x:1.742034912109375,y:.853240966796875},{x:1.7257080078125,y:.901824951171875},{x:1.71197509765625,y:.95147705078125},{x:1.70098876953125,y:1.0020751953125},{x:1.692840576171875,y:1.053558349609375},{x:1.75115966796875,y:.9853515625},{x:1.80963134765625,y:.916168212890625},{x:1.84088134765625,y:.883819580078125},{x:1.87451171875,y:.854278564453125},{x:1.9112548828125,y:.82861328125},{x:1.951934814453125,y:.807861328125},{x:1.97869873046875,y:.79827880859375},{x:2.006622314453125,y:.791412353515625},{x:2.035308837890625,y:.787200927734375},{x:2.06427001953125,y:.78570556640625},{x:2.093109130859375,y:.786956787109375},{x:2.121307373046875,y:.790924072265625},{x:2.14849853515625,y:.79766845703125},{x:2.174163818359375,y:.807220458984375},{x:2.19793701171875,y:.819549560546875},{x:2.21929931640625,y:.834716796875},{x:2.23785400390625,y:.852691650390625},{x:2.253143310546875,y:.873565673828125},{x:2.26470947265625,y:.89727783203125},{x:2.272125244140625,y:.923919677734375},{x:2.274932861328125,y:.953460693359375},{x:2.272674560546875,y:.985931396484375},{x:2.26678466796875,y:1.007080078125},{x:2.25555419921875,y:1.028533935546875},{x:2.240142822265625,y:1.048675537109375},{x:2.221527099609375,y:1.065826416015625},{x:2.200836181640625,y:1.078399658203125},{x:2.179107666015625,y:1.084686279296875},{x:2.168212890625,y:1.084991455078125},{x:2.157440185546875,y:1.0831298828125},{x:2.146942138671875,y:1.078857421875},{x:2.136871337890625,y:1.072021484375},{x:2.12945556640625,y:1.063140869140625},{x:2.1251220703125,y:1.052032470703125},{x:2.12322998046875,y:1.039093017578125},{x:2.123138427734375,y:1.0247802734375},{x:2.12579345703125,y:.9937744140625},{x:2.12799072265625,y:.96246337890625},{x:2.127288818359375,y:.947784423828125},{x:2.124603271484375,y:.934326171875},{x:2.11920166015625,y:.922576904296875},{x:2.11053466796875,y:.91290283203125},{x:2.097900390625,y:.905792236328125},{x:2.0806884765625,y:.901641845703125},{x:2.058258056640625,y:.900909423828125},{x:2.02996826171875,y:.904052734375},{x:2.006622314453125,y:.910064697265625},{x:1.98309326171875,y:.920166015625},{x:1.95947265625,y:.933868408203125},{x:1.935882568359375,y:.95074462890625},{x:1.889404296875,y:.992218017578125},{x:1.8446044921875,y:1.041046142578125},{x:1.80255126953125,y:1.093658447265625},{x:1.764312744140625,y:1.14654541015625},{x:1.7032470703125,y:1.238800048828125},{x:1.642578125,y:1.3365478515625},{x:1.5816650390625,y:1.440338134765625},{x:1.467681884765625,y:1.64678955078125},{x:1.456146240234375,y:1.666748046875},{x:1.45208740234375,y:1.677215576171875},{x:1.4512939453125,y:1.688507080078125},{x:1.538726806640625,y:1.6046142578125},{x:1.6302490234375,y:1.523712158203125},{x:1.677703857421875,y:1.485687255859375},{x:1.726318359375,y:1.45001220703125},{x:1.776214599609375,y:1.417144775390625},{x:1.827392578125,y:1.387664794921875},{x:1.87994384765625,y:1.362060546875},{x:1.933929443359375,y:1.34088134765625},{x:1.9893798828125,y:1.32464599609375},{x:2.04638671875,y:1.313873291015625},{x:2.104949951171875,y:1.30908203125},{x:2.165191650390625,y:1.310821533203125},{x:2.227142333984375,y:1.319549560546875},{x:2.29083251953125,y:1.33587646484375},{x:2.340362548828125,y:1.353515625},{x:2.387420654296875,y:1.374542236328125},{x:2.431915283203125,y:1.3988037109375},{x:2.473663330078125,y:1.4261474609375},{x:2.51251220703125,y:1.456451416015625},{x:2.54840087890625,y:1.48956298828125},{x:2.58111572265625,y:1.52532958984375},{x:2.610565185546875,y:1.5635986328125},{x:2.636566162109375,y:1.604248046875},{x:2.659027099609375,y:1.64715576171875},{x:2.67779541015625,y:1.692138671875},{x:2.6927490234375,y:1.73907470703125},{x:2.703704833984375,y:1.787811279296875},{x:2.710540771484375,y:1.83819580078125},{x:2.713134765625,y:1.89013671875},{x:2.71136474609375,y:1.94342041015625},{x:2.704345703125,y:1.997894287109375},{x:2.693511962890625,y:2.046112060546875},{x:2.67059326171875,y:2.132781982421875},{x:2.663665771484375,y:2.175628662109375},{x:2.662445068359375,y:2.197906494140625},{x:2.663177490234375,y:2.221099853515625},{x:2.6661376953125,y:2.245513916015625},{x:2.671661376953125,y:2.27142333984375},{x:2.680084228515625,y:2.299102783203125},{x:2.69171142578125,y:2.32879638671875},{x:2.70477294921875,y:2.355743408203125},{x:2.719573974609375,y:2.3804931640625},{x:2.7359619140625,y:2.403076171875},{x:2.753814697265625,y:2.423553466796875},{x:2.77294921875,y:2.441925048828125},{x:2.793212890625,y:2.458221435546875},{x:2.814483642578125,y:2.47247314453125},{x:2.83660888671875,y:2.484710693359375},{x:2.85943603515625,y:2.494964599609375},{x:2.882843017578125,y:2.50323486328125},{x:2.930694580078125,y:2.514068603515625},{x:2.978973388671875,y:2.51739501953125},{x:3.026519775390625,y:2.513427734375},{x:3.072174072265625,y:2.502410888671875},{x:3.114715576171875,y:2.48455810546875},{x:3.134429931640625,y:2.47314453125},{x:3.1529541015625,y:2.460113525390625},{x:3.17010498046875,y:2.44549560546875},{x:3.18572998046875,y:2.429290771484375},{x:3.19970703125,y:2.411529541015625},{x:3.21185302734375,y:2.392303466796875},{x:3.222076416015625,y:2.371551513671875},{x:3.23016357421875,y:2.349365234375},{x:3.235992431640625,y:2.32574462890625},{x:3.23944091796875,y:2.30072021484375},{x:3.240325927734375,y:2.27435302734375},{x:3.238494873046875,y:2.246612548828125},{x:3.23480224609375,y:2.226165771484375},{x:3.228515625,y:2.20703125},{x:3.219940185546875,y:2.189361572265625},{x:3.2093505859375,y:2.173309326171875},{x:3.19696044921875,y:2.159088134765625},{x:3.18304443359375,y:2.14678955078125},{x:3.167877197265625,y:2.1365966796875},{x:3.1517333984375,y:2.128662109375},{x:3.13482666015625,y:2.123199462890625},{x:3.117462158203125,y:2.12030029296875},{x:3.099884033203125,y:2.120147705078125},{x:3.08233642578125,y:2.122894287109375},{x:3.065093994140625,y:2.12872314453125},{x:3.048431396484375,y:2.137786865234375},{x:3.0325927734375,y:2.15020751953125},{x:3.017822265625,y:2.16619873046875},{x:3.030853271484375,y:2.19952392578125},{x:3.03668212890625,y:2.228485107421875},{x:3.036224365234375,y:2.253021240234375},{x:3.030426025390625,y:2.27313232421875},{x:3.020263671875,y:2.2886962890625},{x:3.0067138671875,y:2.29974365234375},{x:2.99072265625,y:2.306243896484375},{x:2.973236083984375,y:2.30810546875},{x:2.9552001953125,y:2.305328369140625},{x:2.93756103515625,y:2.297882080078125},{x:2.92132568359375,y:2.285675048828125},{x:2.907440185546875,y:2.26873779296875},{x:2.89678955078125,y:2.246978759765625},{x:2.89044189453125,y:2.220367431640625},{x:2.889251708984375,y:2.18890380859375},{x:2.89422607421875,y:2.152496337890625},{x:2.901123046875,y:2.12939453125},{x:2.9112548828125,y:2.1082763671875},{x:2.924285888671875,y:2.0892333984375},{x:2.939849853515625,y:2.072235107421875},{x:2.957672119140625,y:2.05731201171875},{x:2.9774169921875,y:2.044464111328125},{x:2.998748779296875,y:2.03375244140625},{x:3.0213623046875,y:2.025146484375},{x:3.044921875,y:2.018707275390625},{x:3.069091796875,y:2.014404296875},{x:3.09356689453125,y:2.012298583984375},{x:3.118011474609375,y:2.012420654296875},{x:3.14208984375,y:2.014739990234375},{x:3.165496826171875,y:2.019287109375},{x:3.18792724609375,y:2.026092529296875},{x:3.209014892578125,y:2.03515625},{x:3.2418212890625,y:2.05462646484375},{x:3.2698974609375,y:2.07733154296875},{x:3.293365478515625,y:2.102874755859375},{x:3.312347412109375,y:2.130889892578125},{x:3.327056884765625,y:2.160980224609375},{x:3.337615966796875,y:2.192718505859375},{x:3.344146728515625,y:2.225738525390625},{x:3.346832275390625,y:2.2596435546875},{x:3.3458251953125,y:2.29400634765625},{x:3.34124755859375,y:2.3284912109375},{x:3.333251953125,y:2.362640380859375},{x:3.322021484375,y:2.396087646484375},{x:3.30767822265625,y:2.428436279296875},{x:3.29034423828125,y:2.45928955078125},{x:3.270233154296875,y:2.488250732421875},{x:3.2474365234375,y:2.51495361328125},{x:3.22509765625,y:2.536865234375},{x:3.201934814453125,y:2.556427001953125},{x:3.17803955078125,y:2.573699951171875},{x:3.15350341796875,y:2.588714599609375},{x:3.12841796875,y:2.60150146484375},{x:3.102874755859375,y:2.61212158203125},{x:3.076995849609375,y:2.62066650390625},{x:3.050811767578125,y:2.627105712890625},{x:2.9979248046875,y:2.634002685546875},{x:2.94500732421875,y:2.633209228515625},{x:2.892730712890625,y:2.6251220703125},{x:2.841827392578125,y:2.610107421875},{x:2.79296875,y:2.58856201171875},{x:2.74688720703125,y:2.56085205078125},{x:2.70428466796875,y:2.52740478515625},{x:2.6658935546875,y:2.488555908203125},{x:2.63238525390625,y:2.444732666015625},{x:2.6044921875,y:2.39630126953125},{x:2.58294677734375,y:2.3436279296875},{x:2.57476806640625,y:2.315826416015625},{x:2.56842041015625,y:2.287109375},{x:2.556610107421875,y:2.286407470703125},{x:2.549957275390625,y:2.293060302734375},{x:2.505279541015625,y:2.331695556640625},{x:2.45745849609375,y:2.364776611328125},{x:2.4071044921875,y:2.392181396484375},{x:2.354766845703125,y:2.41387939453125},{x:2.301055908203125,y:2.42974853515625},{x:2.246551513671875,y:2.439697265625},{x:2.19189453125,y:2.44366455078125},{x:2.137603759765625,y:2.4415283203125},{x:2.0843505859375,y:2.4332275390625},{x:2.03271484375,y:2.418701171875},{x:1.983245849609375,y:2.397796630859375},{x:1.936553955078125,y:2.370452880859375},{x:1.893280029296875,y:2.33660888671875},{x:1.85394287109375,y:2.296173095703125},{x:1.835968017578125,y:2.2734375},{x:1.8192138671875,y:2.2490234375},{x:1.8037109375,y:2.222900390625},{x:1.78961181640625,y:2.195098876953125},{x:1.77069091796875,y:2.1473388671875},{x:1.758056640625,y:2.098968505859375},{x:1.75146484375,y:2.050567626953125},{x:1.750732421875,y:2.00262451171875},{x:1.75567626953125,y:1.95574951171875},{x:1.76605224609375,y:1.9105224609375},{x:1.781707763671875,y:1.867462158203125},{x:1.80242919921875,y:1.8271484375},{x:1.8280029296875,y:1.790130615234375},{x:1.85821533203125,y:1.756988525390625},{x:1.892913818359375,y:1.728302001953125},{x:1.931854248046875,y:1.70458984375},{x:1.974853515625,y:1.686431884765625},{x:2.021697998046875,y:1.674407958984375},{x:2.07220458984375,y:1.669036865234375},{x:2.12615966796875,y:1.670928955078125},{x:2.148590087890625,y:1.6741943359375},{x:2.169769287109375,y:1.67926025390625},{x:2.2083740234375,y:1.694244384765625},{x:2.241912841796875,y:1.714874267578125},{x:2.27032470703125,y:1.740264892578125},{x:2.293609619140625,y:1.7694091796875},{x:2.311676025390625,y:1.801361083984375},{x:2.32452392578125,y:1.83514404296875},{x:2.33209228515625,y:1.869842529296875},{x:2.3343505859375,y:1.904449462890625},{x:2.33123779296875,y:1.938018798828125},{x:2.322723388671875,y:1.9696044921875},{x:2.308746337890625,y:1.99822998046875},{x:2.289306640625,y:2.02294921875},{x:2.26434326171875,y:2.04278564453125},{x:2.249755859375,y:2.05059814453125},{x:2.233795166015625,y:2.05682373046875},{x:2.216400146484375,y:2.06134033203125},{x:2.1976318359375,y:2.064056396484375},{x:2.16571044921875,y:2.063934326171875},{x:2.138946533203125,y:2.057861328125},{x:2.1171875,y:2.046905517578125},{x:2.100250244140625,y:2.0321044921875},{x:2.087982177734375,y:2.01446533203125},{x:2.080169677734375,y:1.995025634765625},{x:2.076690673828125,y:1.974853515625},{x:2.077362060546875,y:1.954925537109375},{x:2.08197021484375,y:1.93634033203125},{x:2.09039306640625,y:1.92010498046875},{x:2.1024169921875,y:1.907257080078125},{x:2.117919921875,y:1.898834228515625},{x:2.13671875,y:1.895843505859375},{x:2.158599853515625,y:1.899383544921875},{x:2.183441162109375,y:1.910430908203125},{x:2.211029052734375,y:1.930023193359375},{x:2.2158203125,y:1.90057373046875},{x:2.215576171875,y:1.87445068359375},{x:2.21075439453125,y:1.85162353515625},{x:2.201812744140625,y:1.83203125},{x:2.189239501953125,y:1.815582275390625},{x:2.17352294921875,y:1.80218505859375},{x:2.155120849609375,y:1.79180908203125},{x:2.134521484375,y:1.784393310546875},{x:2.112213134765625,y:1.77984619140625},{x:2.088623046875,y:1.778106689453125},{x:2.06427001953125,y:1.77911376953125},{x:2.03961181640625,y:1.78277587890625},{x:2.01513671875,y:1.7890625},{x:1.991302490234375,y:1.7978515625},{x:1.96856689453125,y:1.80914306640625},{x:1.94744873046875,y:1.82281494140625},{x:1.927825927734375,y:1.83868408203125},{x:1.910614013671875,y:1.855499267578125},{x:1.895721435546875,y:1.873138427734375},{x:1.883087158203125,y:1.891510009765625},{x:1.8726806640625,y:1.9105224609375},{x:1.8643798828125,y:1.93011474609375},{x:1.858154296875,y:1.9501953125},{x:1.853912353515625,y:1.97064208984375},{x:1.85113525390625,y:2.012298583984375},{x:1.855499267578125,y:2.054443359375},{x:1.866455078125,y:2.096282958984375},{x:1.8834228515625,y:2.137115478515625},{x:1.905914306640625,y:2.176239013671875},{x:1.933319091796875,y:2.21295166015625},{x:1.965118408203125,y:2.2464599609375},{x:2.000732421875,y:2.276092529296875},{x:2.039642333984375,y:2.301116943359375},{x:2.081268310546875,y:2.32080078125},{x:2.125091552734375,y:2.334442138671875},{x:2.1705322265625,y:2.34130859375},{x:2.213226318359375,y:2.342254638671875},{x:2.253936767578125,y:2.339080810546875},{x:2.2926025390625,y:2.33203125},{x:2.329193115234375,y:2.321380615234375},{x:2.3636474609375,y:2.307281494140625},{x:2.39593505859375,y:2.2900390625},{x:2.426025390625,y:2.269805908203125},{x:2.453857421875,y:2.246856689453125},{x:2.47943115234375,y:2.221435546875},{x:2.502655029296875,y:2.1937255859375},{x:2.523529052734375,y:2.1639404296875},{x:2.542022705078125,y:2.13238525390625},{x:2.55804443359375,y:2.099212646484375},{x:2.57159423828125,y:2.064697265625},{x:2.582611083984375,y:2.029022216796875},{x:2.591094970703125,y:1.992462158203125},{x:2.596954345703125,y:1.9552001953125},{x:2.60015869140625,y:1.917510986328125},{x:2.6007080078125,y:1.87957763671875},{x:2.5985107421875,y:1.8416748046875},{x:2.59356689453125,y:1.803985595703125},{x:2.5858154296875,y:1.766754150390625},{x:2.575225830078125,y:1.730194091796875},{x:2.561737060546875,y:1.694549560546875},{x:2.54534912109375,y:1.660064697265625},{x:2.525970458984375,y:1.626922607421875},{x:2.50360107421875,y:1.59539794921875},{x:2.47821044921875,y:1.565673828125},{x:2.44970703125,y:1.53802490234375},{x:2.4180908203125,y:1.51263427734375},{x:2.383331298828125,y:1.48974609375},{x:2.3453369140625,y:1.4696044921875},{x:2.303619384765625,y:1.451873779296875},{x:2.262420654296875,y:1.438232421875},{x:2.22174072265625,y:1.42852783203125},{x:2.181610107421875,y:1.42254638671875},{x:2.141998291015625,y:1.420135498046875},{x:2.10284423828125,y:1.421051025390625},{x:2.064208984375,y:1.425140380859375},{x:2.026031494140625,y:1.4322509765625},{x:1.98828125,y:1.442108154296875},{x:1.95098876953125,y:1.454620361328125},{x:1.914154052734375,y:1.469512939453125},{x:1.877685546875,y:1.486663818359375},{x:1.805999755859375,y:1.52691650390625},{x:1.73577880859375,y:1.573883056640625},{x:1.666961669921875,y:1.626007080078125},{x:1.59942626953125,y:1.681854248046875},{x:1.4677734375,y:1.79864501953125},{x:1.3399658203125,y:1.91229248046875},{x:1.2772216796875,y:1.964141845703125},{x:1.215118408203125,y:2.0107421875},{x:1.18145751953125,y:2.029052734375},{x:1.174652099609375,y:2.0345458984375},{x:1.1722412109375,y:2.03955078125},{x:1.176055908203125,y:2.043670654296875},{x:1.188018798828125,y:2.046478271484375},{x:1.213531494140625,y:2.046875},{x:1.242919921875,y:2.044097900390625},{x:1.273834228515625,y:2.040863037109375},{x:1.303863525390625,y:2.0399169921875},{x:1.366668701171875,y:2.045684814453125},{x:1.428619384765625,y:2.058197021484375},{x:1.488250732421875,y:2.0777587890625},{x:1.51678466796875,y:2.090301513671875},{x:1.544189453125,y:2.104705810546875},{x:1.570281982421875,y:2.12103271484375},{x:1.594940185546875,y:2.1392822265625},{x:1.617950439453125,y:2.1595458984375},{x:1.639129638671875,y:2.18182373046875},{x:1.6583251953125,y:2.206146240234375},{x:1.675323486328125,y:2.232574462890625},{x:1.68994140625,y:2.261138916015625},{x:1.702056884765625,y:2.2918701171875},{x:1.713043212890625,y:2.33575439453125},{x:1.716644287109375,y:2.379486083984375},{x:1.713409423828125,y:2.42242431640625},{x:1.703857421875,y:2.46405029296875},{x:1.688568115234375,y:2.50372314453125},{x:1.668060302734375,y:2.5408935546875},{x:1.642852783203125,y:2.574951171875},{x:1.613525390625,y:2.6053466796875},{x:1.580596923828125,y:2.631439208984375},{x:1.544647216796875,y:2.652679443359375},{x:1.506134033203125,y:2.668487548828125},{x:1.465667724609375,y:2.67828369140625},{x:1.423797607421875,y:2.681427001953125},{x:1.381011962890625,y:2.677398681640625},{x:1.337890625,y:2.66558837890625},{x:1.31634521484375,y:2.65655517578125},{x:1.294952392578125,y:2.6453857421875},{x:1.27490234375,y:2.631744384765625},{x:1.25701904296875,y:2.615325927734375},{x:1.24139404296875,y:2.596588134765625},{x:1.22808837890625,y:2.57598876953125},{x:1.21728515625,y:2.553955078125},{x:1.20904541015625,y:2.530975341796875},{x:1.2034912109375,y:2.50750732421875},{x:1.200714111328125,y:2.48394775390625},{x:1.20086669921875,y:2.46075439453125},{x:1.204010009765625,y:2.438446044921875},{x:1.2103271484375,y:2.417388916015625},{x:1.2198486328125,y:2.3980712890625},{x:1.23272705078125,y:2.3809814453125},{x:1.249053955078125,y:2.366485595703125},{x:1.26898193359375,y:2.3551025390625},{x:1.29254150390625,y:2.3472900390625},{x:1.316741943359375,y:2.343780517578125},{x:1.338287353515625,y:2.3447265625},{x:1.357147216796875,y:2.349517822265625},{x:1.373199462890625,y:2.3575439453125},{x:1.386383056640625,y:2.3682861328125},{x:1.396575927734375,y:2.381072998046875},{x:1.403778076171875,y:2.395355224609375},{x:1.407806396484375,y:2.4105224609375},{x:1.408660888671875,y:2.425994873046875},{x:1.40618896484375,y:2.441192626953125},{x:1.400360107421875,y:2.45550537109375},{x:1.39105224609375,y:2.468353271484375},{x:1.378204345703125,y:2.4791259765625},{x:1.36175537109375,y:2.487274169921875},{x:1.341552734375,y:2.492156982421875},{x:1.31756591796875,y:2.493194580078125},{x:1.32366943359375,y:2.509552001953125},{x:1.334503173828125,y:2.524505615234375},{x:1.348968505859375,y:2.537811279296875},{x:1.36602783203125,y:2.549285888671875},{x:1.38458251953125,y:2.558624267578125},{x:1.40350341796875,y:2.565673828125},{x:1.4217529296875,y:2.57012939453125},{x:1.438201904296875,y:2.57183837890625},{x:1.464599609375,y:2.5692138671875},{x:1.490081787109375,y:2.5611572265625},{x:1.5140380859375,y:2.54840087890625},{x:1.535888671875,y:2.531707763671875},{x:1.5550537109375,y:2.51177978515625},{x:1.570953369140625,y:2.489410400390625},{x:1.5830078125,y:2.465301513671875},{x:1.590667724609375,y:2.440185546875},{x:1.594573974609375,y:2.412567138671875},{x:1.594818115234375,y:2.385711669921875},{x:1.591644287109375,y:2.3597412109375},{x:1.585296630859375,y:2.334747314453125},{x:1.57598876953125,y:2.3109130859375},{x:1.563995361328125,y:2.28826904296875},{x:1.549530029296875,y:2.266998291015625},{x:1.5328369140625,y:2.247161865234375},{x:1.514129638671875,y:2.228912353515625},{x:1.49371337890625,y:2.212371826171875},{x:1.47174072265625,y:2.197601318359375},{x:1.448516845703125,y:2.18475341796875},{x:1.42425537109375,y:2.1739501953125},{x:1.399200439453125,y:2.165313720703125},{x:1.37359619140625,y:2.158905029296875},{x:1.34765625,y:2.154876708984375},{x:1.292205810546875,y:2.15118408203125},{x:1.237823486328125,y:2.151947021484375},{x:1.184478759765625,y:2.156829833984375},{x:1.132080078125,y:2.16546630859375},{x:1.08056640625,y:2.1776123046875},{x:1.029937744140625,y:2.192840576171875},{x:.9801025390625,y:2.21087646484375},{x:.930999755859375,y:2.23138427734375},{x:.882598876953125,y:2.2540283203125},{x:.834808349609375,y:2.278472900390625},{x:.740875244140625,y:2.3314208984375},{x:.6488037109375,y:2.387603759765625},{x:.558135986328125,y:2.444366455078125},{x:.7564697265625,y:2.469085693359375},{x:.797943115234375,y:2.484222412109375},{x:.83917236328125,y:2.50439453125},{x:.8787841796875,y:2.529296875},{x:.9154052734375,y:2.558563232421875},{x:.9476318359375,y:2.591949462890625},{x:.97406005859375,y:2.629058837890625},{x:.984649658203125,y:2.64892578125},{x:.9932861328125,y:2.66961669921875},{x:.999786376953125,y:2.69110107421875},{x:1.00396728515625,y:2.713287353515625},{x:1.004302978515625,y:2.76556396484375},{x:1.00543212890625,y:2.79345703125},{x:1.007232666015625,y:2.802490234375},{x:1.010223388671875,y:2.80621337890625},{x:6.1881103515625,y:2.80621337890625},{x:6.1865234375,y:2.759246826171875},{x:6.19140625,y:2.715362548828125},{x:6.20233154296875,y:2.67462158203125},{x:6.218719482421875,y:2.637054443359375},{x:6.240081787109375,y:2.602752685546875},{x:6.26593017578125,y:2.571746826171875},{x:6.29571533203125,y:2.544158935546875},{x:6.328948974609375,y:2.51995849609375},{x:6.365081787109375,y:2.499298095703125},{x:6.403656005859375,y:2.482177734375},{x:6.44415283203125,y:2.46868896484375},{x:6.48602294921875,y:2.458892822265625},{x:6.52874755859375,y:2.452850341796875},{x:6.571868896484375,y:2.450592041015625},{x:6.6148681640625,y:2.45220947265625},{x:6.65716552734375,y:2.457763671875},{x:6.661651611328125,y:2.439910888671875},{x:6.4759521484375,y:2.332489013671875},{x:6.38037109375,y:2.28021240234375},{x:6.2825927734375,y:2.232940673828125},{x:6.232757568359375,y:2.212158203125},{x:6.1822509765625,y:2.1937255859375},{x:6.13104248046875,y:2.1781005859375},{x:6.079071044921875,y:2.165618896484375},{x:6.02630615234375,y:2.15667724609375},{x:5.97271728515625,y:2.151641845703125},{x:5.91827392578125,y:2.15093994140625},{x:5.862884521484375,y:2.154876708984375},{x:5.8333740234375,y:2.1600341796875},{x:5.803985595703125,y:2.168548583984375},{x:5.775146484375,y:2.180145263671875},{x:5.747283935546875,y:2.194610595703125},{x:5.720855712890625,y:2.211669921875},{x:5.6962890625,y:2.231109619140625},{x:5.67401123046875,y:2.252655029296875},{x:5.654449462890625,y:2.276092529296875},{x:5.6380615234375,y:2.301177978515625},{x:5.625244140625,y:2.327606201171875},{x:5.616485595703125,y:2.355224609375},{x:5.612152099609375,y:2.38372802734375},{x:5.61273193359375,y:2.412872314453125},{x:5.618621826171875,y:2.44244384765625},{x:5.63031005859375,y:2.472198486328125},{x:5.648162841796875,y:2.5018310546875},{x:5.65948486328125,y:2.515350341796875},{x:5.672943115234375,y:2.527435302734375},{x:5.6881103515625,y:2.53802490234375},{x:5.7047119140625,y:2.5469970703125},{x:5.74066162109375,y:2.5596923828125},{x:5.777984619140625,y:2.564788818359375},{x:5.7962646484375,y:2.564239501953125},{x:5.813812255859375,y:2.561492919921875},{x:5.830322265625,y:2.55645751953125},{x:5.845367431640625,y:2.549041748046875},{x:5.858673095703125,y:2.53912353515625},{x:5.86981201171875,y:2.526641845703125},{x:5.878509521484375,y:2.511474609375},{x:5.88433837890625,y:2.493499755859375},{x:5.868377685546875,y:2.494354248046875},{x:5.854034423828125,y:2.492034912109375},{x:5.84136962890625,y:2.4869384765625},{x:5.830413818359375,y:2.479461669921875},{x:5.821197509765625,y:2.469970703125},{x:5.81378173828125,y:2.458892822265625},{x:5.808197021484375,y:2.44659423828125},{x:5.80450439453125,y:2.433441162109375},{x:5.802947998046875,y:2.406280517578125},{x:5.80517578125,y:2.39300537109375},{x:5.8094482421875,y:2.380462646484375},{x:5.815826416015625,y:2.369049072265625},{x:5.8243408203125,y:2.359161376953125},{x:5.835052490234375,y:2.351165771484375},{x:5.847991943359375,y:2.345489501953125},{x:5.87725830078125,y:2.3394775390625},{x:5.90435791015625,y:2.340118408203125},{x:5.928955078125,y:2.3466796875},{x:5.9508056640625,y:2.35845947265625},{x:5.969573974609375,y:2.37469482421875},{x:5.985015869140625,y:2.394744873046875},{x:5.996795654296875,y:2.417877197265625},{x:6.004608154296875,y:2.443359375},{x:6.008209228515625,y:2.470489501953125},{x:6.007293701171875,y:2.498565673828125},{x:6.001556396484375,y:2.52685546875},{x:5.990692138671875,y:2.5546875},{x:5.97442626953125,y:2.581298828125},{x:5.952484130859375,y:2.60601806640625},{x:5.924530029296875,y:2.62811279296875},{x:5.890289306640625,y:2.646881103515625},{x:5.86444091796875,y:2.6572265625},{x:5.838897705078125,y:2.6649169921875},{x:5.813720703125,y:2.6700439453125},{x:5.78900146484375,y:2.672760009765625},{x:5.7647705078125,y:2.673126220703125},{x:5.74114990234375,y:2.6712646484375},{x:5.718170166015625,y:2.66729736328125},{x:5.6959228515625,y:2.66131591796875},{x:5.674468994140625,y:2.653411865234375},{x:5.65386962890625,y:2.64373779296875},{x:5.615631103515625,y:2.619384765625},{x:5.581756591796875,y:2.589080810546875},{x:5.55279541015625,y:2.553741455078125},{x:5.529327392578125,y:2.51416015625},{x:5.511962890625,y:2.471221923828125},{x:5.501251220703125,y:2.425750732421875},{x:5.497772216796875,y:2.37860107421875},{x:5.498931884765625,y:2.354644775390625},{x:5.502105712890625,y:2.33062744140625},{x:5.50738525390625,y:2.306610107421875},{x:5.51483154296875,y:2.282684326171875},{x:5.5245361328125,y:2.259002685546875},{x:5.536529541015625,y:2.23565673828125},{x:5.5509033203125,y:2.21270751953125},{x:5.5677490234375,y:2.190338134765625},{x:5.5894775390625,y:2.166015625},{x:5.612640380859375,y:2.14434814453125},{x:5.637054443359375,y:2.125213623046875},{x:5.662689208984375,y:2.10845947265625},{x:5.68939208984375,y:2.093994140625},{x:5.717041015625,y:2.081634521484375},{x:5.74554443359375,y:2.0712890625},{x:5.774810791015625,y:2.06280517578125},{x:5.835113525390625,y:2.05096435546875},{x:5.8970947265625,y:2.0450439453125},{x:5.959869384765625,y:2.043975830078125},{x:6.02252197265625,y:2.046783447265625},{x:6.0269775390625,y:2.028900146484375},{x:5.9725341796875,y:1.995758056640625},{x:5.919036865234375,y:1.95794677734375},{x:5.867095947265625,y:1.917572021484375},{x:5.81732177734375,y:1.876708984375},{x:5.769073486328125,y:1.834991455078125},{x:5.72161865234375,y:1.7916259765625},{x:5.627716064453125,y:1.7030029296875},{x:5.533050537109375,y:1.61688232421875},{x:5.484619140625,y:1.57666015625},{x:5.43499755859375,y:1.53936767578125},{x:5.383880615234375,y:1.5057373046875},{x:5.3309326171875,y:1.47650146484375},{x:5.275848388671875,y:1.452484130859375},{x:5.21826171875,y:1.43438720703125},{x:5.157867431640625,y:1.4229736328125},{x:5.12652587890625,y:1.420013427734375},{x:5.0943603515625,y:1.419036865234375},{x:5.06134033203125,y:1.42010498046875},{x:5.027374267578125,y:1.423309326171875},{x:4.99249267578125,y:1.428741455078125},{x:4.956634521484375,y:1.436553955078125},{x:4.9219970703125,y:1.44647216796875},{x:4.888946533203125,y:1.458709716796875},{x:4.8575439453125,y:1.473052978515625},{x:4.827789306640625,y:1.48944091796875},{x:4.799713134765625,y:1.507720947265625},{x:4.77337646484375,y:1.52777099609375},{x:4.748779296875,y:1.549468994140625},{x:4.7259521484375,y:1.572662353515625},{x:4.704925537109375,y:1.5972900390625},{x:4.68572998046875,y:1.6231689453125},{x:4.66839599609375,y:1.650238037109375},{x:4.652984619140625,y:1.67828369140625},{x:4.63946533203125,y:1.707244873046875},{x:4.6279296875,y:1.73699951171875},{x:4.61834716796875,y:1.76739501953125},{x:4.61077880859375,y:1.798309326171875},{x:4.605255126953125,y:1.82965087890625},{x:4.601806640625,y:1.861236572265625},{x:4.6004638671875,y:1.89300537109375},{x:4.601226806640625,y:1.9248046875},{x:4.604156494140625,y:1.95648193359375},{x:4.609283447265625,y:1.98797607421875},{x:4.616607666015625,y:2.01910400390625},{x:4.626190185546875,y:2.049774169921875},{x:4.638031005859375,y:2.079833984375},{x:4.652191162109375,y:2.10919189453125},{x:4.668701171875,y:2.1376953125},{x:4.687530517578125,y:2.165252685546875},{x:4.70880126953125,y:2.19171142578125},{x:4.732452392578125,y:2.216949462890625},{x:4.758575439453125,y:2.2408447265625},{x:4.78717041015625,y:2.263275146484375},{x:4.815673828125,y:2.2822265625},{x:4.84466552734375,y:2.29815673828125},{x:4.8740234375,y:2.31121826171875},{x:4.903656005859375,y:2.32147216796875},{x:4.933380126953125,y:2.32904052734375},{x:4.963104248046875,y:2.333984375},{x:4.99267578125,y:2.336456298828125},{x:5.022003173828125,y:2.3365478515625},{x:5.050933837890625,y:2.334320068359375},{x:5.079345703125,y:2.32989501953125},{x:5.10711669921875,y:2.323394775390625},{x:5.13409423828125,y:2.31488037109375},{x:5.160186767578125,y:2.304473876953125},{x:5.185211181640625,y:2.29229736328125},{x:5.2091064453125,y:2.278411865234375},{x:5.231689453125,y:2.262908935546875},{x:5.25286865234375,y:2.245941162109375},{x:5.27252197265625,y:2.227569580078125},{x:5.290496826171875,y:2.2078857421875},{x:5.306640625,y:2.18701171875},{x:5.320892333984375,y:2.165069580078125},{x:5.33306884765625,y:2.14208984375},{x:5.34307861328125,y:2.118255615234375},{x:5.35076904296875,y:2.093597412109375},{x:5.35601806640625,y:2.0682373046875},{x:5.35870361328125,y:2.04229736328125},{x:5.358673095703125,y:2.015869140625},{x:5.3558349609375,y:1.989013671875},{x:5.350067138671875,y:1.961883544921875},{x:5.3411865234375,y:1.934539794921875},{x:5.329132080078125,y:1.907135009765625},{x:5.313720703125,y:1.87969970703125},{x:5.296539306640625,y:1.856658935546875},{x:5.27569580078125,y:1.836181640625},{x:5.251922607421875,y:1.818389892578125},{x:5.225921630859375,y:1.803558349609375},{x:5.198394775390625,y:1.791778564453125},{x:5.170013427734375,y:1.7833251953125},{x:5.141510009765625,y:1.778350830078125},{x:5.11358642578125,y:1.777069091796875},{x:5.0869140625,y:1.779632568359375},{x:5.062225341796875,y:1.7862548828125},{x:5.040191650390625,y:1.797088623046875},{x:5.02154541015625,y:1.812408447265625},{x:5.006988525390625,y:1.832305908203125},{x:4.9971923828125,y:1.857025146484375},{x:4.992889404296875,y:1.88677978515625},{x:4.9947509765625,y:1.92169189453125},{x:5.0006103515625,y:1.925445556640625},{x:5.004852294921875,y:1.9259033203125},{x:5.011566162109375,y:1.92010498046875},{x:5.021209716796875,y:1.9107666015625},{x:5.029083251953125,y:1.90679931640625},{x:5.040008544921875,y:1.9044189453125},{x:5.069183349609375,y:1.90411376953125},{x:5.092376708984375,y:1.909149169921875},{x:5.109893798828125,y:1.918670654296875},{x:5.122039794921875,y:1.931793212890625},{x:5.12908935546875,y:1.947601318359375},{x:5.13140869140625,y:1.9652099609375},{x:5.1292724609375,y:1.9837646484375},{x:5.12298583984375,y:2.0023193359375},{x:5.112884521484375,y:2.020050048828125},{x:5.0992431640625,y:2.0360107421875},{x:5.082366943359375,y:2.04931640625},{x:5.062591552734375,y:2.059112548828125},{x:5.04022216796875,y:2.06451416015625},{x:5.015533447265625,y:2.064605712890625},{x:4.988861083984375,y:2.0584716796875},{x:4.96051025390625,y:2.0452880859375},{x:4.9337158203125,y:2.026458740234375},{x:4.9119873046875,y:2.004669189453125},{x:4.895172119140625,y:1.980438232421875},{x:4.883087158203125,y:1.954315185546875},{x:4.875579833984375,y:1.9267578125},{x:4.8724365234375,y:1.898345947265625},{x:4.873565673828125,y:1.8695068359375},{x:4.87872314453125,y:1.8408203125},{x:4.88775634765625,y:1.812774658203125},{x:4.900543212890625,y:1.785888671875},{x:4.9168701171875,y:1.76068115234375},{x:4.93658447265625,y:1.737640380859375},{x:4.95953369140625,y:1.71728515625},{x:4.985504150390625,y:1.70013427734375},{x:5.014373779296875,y:1.686676025390625},{x:5.04595947265625,y:1.677490234375},{x:5.0784912109375,y:1.671966552734375},{x:5.109954833984375,y:1.669189453125},{x:5.140350341796875,y:1.669036865234375},{x:5.16961669921875,y:1.67138671875},{x:5.19769287109375,y:1.6761474609375},{x:5.224609375,y:1.68316650390625},{x:5.250244140625,y:1.69232177734375},{x:5.274627685546875,y:1.703521728515625},{x:5.29766845703125,y:1.71661376953125},{x:5.319366455078125,y:1.731536865234375},{x:5.33966064453125,y:1.74810791015625},{x:5.3585205078125,y:1.766265869140625},{x:5.37591552734375,y:1.78582763671875},{x:5.39178466796875,y:1.806732177734375},{x:5.418853759765625,y:1.85205078125},{x:5.439361572265625,y:1.901214599609375},{x:5.45306396484375,y:1.95330810546875},{x:5.45965576171875,y:2.00738525390625},{x:5.458740234375,y:2.0625},{x:5.450103759765625,y:2.11767578125},{x:5.442779541015625,y:2.14501953125},{x:5.433380126953125,y:2.172027587890625},{x:5.421875,y:2.19854736328125},{x:5.40826416015625,y:2.22454833984375},{x:5.392486572265625,y:2.24981689453125},{x:5.374481201171875,y:2.274322509765625},{x:5.34759521484375,y:2.304901123046875},{x:5.318267822265625,y:2.332489013671875},{x:5.2867431640625,y:2.357025146484375},{x:5.253265380859375,y:2.37847900390625},{x:5.2181396484375,y:2.396881103515625},{x:5.18157958984375,y:2.41217041015625},{x:5.143829345703125,y:2.42437744140625},{x:5.10516357421875,y:2.43341064453125},{x:5.06585693359375,y:2.4393310546875},{x:5.026123046875,y:2.44207763671875},{x:4.986236572265625,y:2.441619873046875},{x:4.946441650390625,y:2.43798828125},{x:4.907012939453125,y:2.431121826171875},{x:4.868194580078125,y:2.4210205078125},{x:4.83026123046875,y:2.407684326171875},{x:4.793426513671875,y:2.39105224609375},{x:4.641845703125,y:2.279083251953125},{x:4.636474609375,y:2.30816650390625},{x:4.62908935546875,y:2.33636474609375},{x:4.619781494140625,y:2.36358642578125},{x:4.608673095703125,y:2.38983154296875},{x:4.5814208984375,y:2.439056396484375},{x:4.54803466796875,y:2.483642578125},{x:4.509368896484375,y:2.52325439453125},{x:4.466156005859375,y:2.557464599609375},{x:4.419189453125,y:2.58587646484375},{x:4.3692626953125,y:2.608123779296875},{x:4.317138671875,y:2.623809814453125},{x:4.26361083984375,y:2.632537841796875},{x:4.209503173828125,y:2.6339111328125},{x:4.18243408203125,y:2.631744384765625},{x:4.155517578125,y:2.6275634765625},{x:4.128814697265625,y:2.621368408203125},{x:4.10247802734375,y:2.61309814453125},{x:4.076568603515625,y:2.602691650390625},{x:4.051177978515625,y:2.590087890625},{x:4.026397705078125,y:2.575286865234375},{x:4.002349853515625,y:2.5582275390625},{x:3.979156494140625,y:2.538818359375},{x:3.95684814453125,y:2.51702880859375},{x:3.93365478515625,y:2.490509033203125},{x:3.91387939453125,y:2.463531494140625},{x:3.89739990234375,y:2.43621826171875},{x:3.884033203125,y:2.40875244140625},{x:3.87371826171875,y:2.381195068359375},{x:3.86627197265625,y:2.35369873046875},{x:3.861602783203125,y:2.326385498046875},{x:3.85955810546875,y:2.29937744140625},{x:3.86004638671875,y:2.2728271484375},{x:3.862884521484375,y:2.246795654296875},{x:3.867950439453125,y:2.221466064453125},{x:3.875152587890625,y:2.19696044921875},{x:3.884307861328125,y:2.17333984375},{x:3.895355224609375,y:2.15081787109375},{x:3.908111572265625,y:2.12945556640625},{x:3.922454833984375,y:2.109405517578125},{x:3.938262939453125,y:2.09075927734375},{x:3.955413818359375,y:2.073699951171875},{x:3.973785400390625,y:2.05828857421875},{x:3.99322509765625,y:2.044708251953125},{x:4.01361083984375,y:2.033050537109375},{x:4.0347900390625,y:2.0234375},{x:4.05670166015625,y:2.0159912109375},{x:4.079132080078125,y:2.0108642578125},{x:4.102020263671875,y:2.008148193359375},{x:4.12518310546875,y:2.00799560546875},{x:4.1485595703125,y:2.010528564453125},{x:4.17193603515625,y:2.015838623046875},{x:4.195220947265625,y:2.024078369140625},{x:4.21832275390625,y:2.035369873046875},{x:4.241058349609375,y:2.04986572265625},{x:4.2633056640625,y:2.067626953125},{x:4.27655029296875,y:2.0810546875},{x:4.2884521484375,y:2.0965576171875},{x:4.29876708984375,y:2.11370849609375},{x:4.307220458984375,y:2.132049560546875},{x:4.313629150390625,y:2.1512451171875},{x:4.3177490234375,y:2.170867919921875},{x:4.319305419921875,y:2.190460205078125},{x:4.318115234375,y:2.209686279296875},{x:4.3131103515625,y:2.232391357421875},{x:4.305328369140625,y:2.252197265625},{x:4.2952880859375,y:2.26910400390625},{x:4.28338623046875,y:2.283050537109375},{x:4.2701416015625,y:2.293975830078125},{x:4.256011962890625,y:2.301849365234375},{x:4.241455078125,y:2.306640625},{x:4.2269287109375,y:2.30828857421875},{x:4.212921142578125,y:2.3067626953125},{x:4.199920654296875,y:2.302032470703125},{x:4.188323974609375,y:2.29400634765625},{x:4.178680419921875,y:2.282684326171875},{x:4.171417236328125,y:2.26800537109375},{x:4.1669921875,y:2.24993896484375},{x:4.1658935546875,y:2.228424072265625},{x:4.168609619140625,y:2.20343017578125},{x:4.172149658203125,y:2.191497802734375},{x:4.17706298828125,y:2.18109130859375},{x:4.18170166015625,y:2.171844482421875},{x:4.18438720703125,y:2.163360595703125},{x:4.183502197265625,y:2.155303955078125},{x:4.177398681640625,y:2.147216796875},{x:4.1644287109375,y:2.138763427734375},{x:4.142974853515625,y:2.12957763671875},{x:4.11468505859375,y:2.12213134765625},{x:4.0885009765625,y:2.121246337890625},{x:4.064605712890625,y:2.126190185546875},{x:4.04315185546875,y:2.13641357421875},{x:4.024261474609375,y:2.1512451171875},{x:4.00811767578125,y:2.1700439453125},{x:3.994873046875,y:2.192230224609375},{x:3.984649658203125,y:2.217132568359375},{x:3.977630615234375,y:2.244110107421875},{x:3.973968505859375,y:2.2725830078125},{x:3.973785400390625,y:2.301849365234375},{x:3.977264404296875,y:2.33135986328125},{x:3.984527587890625,y:2.36041259765625},{x:3.995758056640625,y:2.388397216796875},{x:4.0111083984375,y:2.41473388671875},{x:4.03070068359375,y:2.438720703125},{x:4.0595703125,y:2.464813232421875},{x:4.090728759765625,y:2.48577880859375},{x:4.123687744140625,y:2.501739501953125},{x:4.158050537109375,y:2.512847900390625},{x:4.193389892578125,y:2.519287109375},{x:4.22918701171875,y:2.521240234375},{x:4.265106201171875,y:2.51885986328125},{x:4.30059814453125,y:2.512298583984375},{x:4.335296630859375,y:2.501739501953125},{x:4.368743896484375,y:2.487335205078125},{x:4.400482177734375,y:2.469268798828125},{x:4.430084228515625,y:2.447723388671875},{x:4.45709228515625,y:2.42279052734375},{x:4.4810791015625,y:2.39471435546875},{x:4.501617431640625,y:2.363616943359375},{x:4.51824951171875,y:2.3297119140625},{x:4.5281982421875,y:2.302459716796875},{x:4.53533935546875,y:2.2764892578125},{x:4.539947509765625,y:2.251708984375},{x:4.54229736328125,y:2.227874755859375},{x:4.541412353515625,y:2.182403564453125},{x:4.534942626953125,y:2.138702392578125},{x:4.514251708984375,y:2.0509033203125},{x:4.504547119140625,y:2.0040283203125},{x:4.498291015625,y:1.9532470703125},{x:4.496185302734375,y:1.896148681640625},{x:4.498260498046875,y:1.84130859375},{x:4.504425048828125,y:1.788818359375},{x:4.51458740234375,y:1.7386474609375},{x:4.528717041015625,y:1.69091796875},{x:4.546722412109375,y:1.64556884765625},{x:4.56854248046875,y:1.60272216796875},{x:4.5941162109375,y:1.5623779296875},{x:4.62335205078125,y:1.524566650390625},{x:4.656219482421875,y:1.48931884765625},{x:4.692596435546875,y:1.456695556640625},{x:4.73248291015625,y:1.426727294921875},{x:4.7757568359375,y:1.399444580078125},{x:4.8223876953125,y:1.3748779296875},{x:4.87225341796875,y:1.35308837890625},{x:4.92535400390625,y:1.3341064453125},{x:4.987701416015625,y:1.3177490234375},{x:5.048492431640625,y:1.30902099609375},{x:5.107818603515625,y:1.30731201171875},{x:5.16571044921875,y:1.312164306640625},{x:5.22216796875,y:1.32293701171875},{x:5.2772216796875,y:1.33917236328125},{x:5.330902099609375,y:1.36029052734375},{x:5.38330078125,y:1.3857421875},{x:5.43438720703125,y:1.41497802734375},{x:5.48419189453125,y:1.44744873046875},{x:5.53277587890625,y:1.482635498046875},{x:5.580169677734375,y:1.519989013671875},{x:5.671478271484375,y:1.599029541015625},{x:5.75836181640625,y:1.680145263671875},{x:5.581146240234375,y:1.352569580078125},{x:5.542449951171875,y:1.29351806640625},{x:5.4974365234375,y:1.22149658203125},{x:5.446563720703125,y:1.143402099609375},{x:5.390289306640625,y:1.066131591796875},{x:5.360260009765625,y:1.02996826171875},{x:5.329071044921875,y:.996612548828125},{x:5.296722412109375,y:.966888427734375},{x:5.263336181640625,y:.94171142578125},{x:5.228912353515625,y:.921905517578125},{x:5.19354248046875,y:.908355712890625},{x:5.157257080078125,y:.90191650390625},{x:5.1387939453125,y:.901641845703125},{x:5.1201171875,y:.9034423828125},{x:5.104278564453125,y:.906890869140625},{x:5.092010498046875,y:.91168212890625},{x:5.08294677734375,y:.917633056640625},{x:5.076751708984375,y:.924591064453125},{x:5.073089599609375,y:.932342529296875},{x:5.071563720703125,y:.94073486328125},{x:5.0736083984375,y:.95880126953125},{x:5.08001708984375,y:.9774169921875},{x:5.08795166015625,y:.995208740234375},{x:5.094635009765625,y:1.01080322265625},{x:5.097198486328125,y:1.022857666015625},{x:5.094940185546875,y:1.03802490234375},{x:5.09002685546875,y:1.050994873046875},{x:5.082794189453125,y:1.06170654296875},{x:5.073577880859375,y:1.0701904296875},{x:5.06280517578125,y:1.076416015625},{x:5.050811767578125,y:1.080322265625},{x:5.037994384765625,y:1.0819091796875},{x:5.024688720703125,y:1.0811767578125},{x:5.011260986328125,y:1.07806396484375},{x:4.998077392578125,y:1.072540283203125},{x:4.98553466796875,y:1.06463623046875},{x:4.9739990234375,y:1.054290771484375},{x:4.963775634765625,y:1.041473388671875},{x:4.955322265625,y:1.02618408203125},{x:4.948944091796875,y:1.00836181640625},{x:4.94500732421875,y:.988037109375},{x:4.943634033203125,y:.949737548828125},{x:4.9486083984375,y:.915802001953125},{x:4.959381103515625,y:.886138916015625},{x:4.9752197265625,y:.860626220703125},{x:4.995513916015625,y:.83917236328125},{x:5.0196533203125,y:.821685791015625},{x:5.04693603515625,y:.80810546875},{x:5.076751708984375,y:.798309326171875},{x:5.10845947265625,y:.792236328125},{x:5.141387939453125,y:.78973388671875},{x:5.1749267578125,y:.790771484375},{x:5.208404541015625,y:.795196533203125},{x:5.241180419921875,y:.802978515625},{x:5.272613525390625,y:.813995361328125},{x:5.30206298828125,y:.828155517578125},{x:5.328887939453125,y:.845367431640625},{x:5.517120361328125,y:1.045806884765625},{x:5.508148193359375,y:.99761962890625},{x:5.497039794921875,y:.950347900390625},{x:5.483917236328125,y:.904052734375},{x:5.46875,y:.8587646484375},{x:5.451629638671875,y:.814544677734375},{x:5.4326171875,y:.771453857421875},{x:5.411773681640625,y:.729522705078125},{x:5.389129638671875,y:.68878173828125},{x:5.36474609375,y:.649322509765625},{x:5.33868408203125,y:.61114501953125},{x:5.311004638671875,y:.574310302734375},{x:5.28173828125,y:.53887939453125},{x:5.250946044921875,y:.504913330078125},{x:5.21868896484375,y:.472412109375},{x:5.185028076171875,y:.44146728515625},{x:5.1500244140625,y:.412109375},{x:5.11370849609375,y:.3843994140625},{x:5.076141357421875,y:.358367919921875},{x:5.037384033203125,y:.33404541015625},{x:4.997467041015625,y:.3115234375},{x:4.95648193359375,y:.290802001953125},{x:4.914459228515625,y:.27197265625},{x:4.871490478515625,y:.255035400390625},{x:4.827545166015625,y:.2401123046875},{x:4.78277587890625,y:.2271728515625},{x:4.737152099609375,y:.21630859375},{x:4.6907958984375,y:.20751953125},{x:4.643707275390625,y:.200927734375},{x:4.59600830078125,y:.196533203125},{x:4.54766845703125,y:.194366455078125},{x:4.498809814453125,y:.19451904296875},{x:4.449432373046875,y:.197021484375},{x:4.3714599609375,y:.20672607421875},{x:4.29449462890625,y:.22381591796875},{x:4.2193603515625,y:.24798583984375},{x:4.146942138671875,y:.278839111328125},{x:4.078125,y:.31597900390625},{x:4.013763427734375,y:.359100341796875},{x:3.9547119140625,y:.407806396484375},{x:3.927459716796875,y:.434112548828125},{x:3.90185546875,y:.461700439453125},{x:3.878021240234375,y:.490509033203125},{x:3.8560791015625,y:.520477294921875},{x:3.836090087890625,y:.551544189453125},{x:3.818206787109375,y:.583709716796875},{x:3.802520751953125,y:.616912841796875},{x:3.789154052734375,y:.651092529296875},{x:3.7781982421875,y:.686187744140625},{x:3.769744873046875,y:.722198486328125},{x:3.763946533203125,y:.759063720703125},{x:3.760894775390625,y:.796722412109375},{x:3.76068115234375,y:.835113525390625},{x:3.763427734375,y:.874237060546875},{x:3.76922607421875,y:.91400146484375},{x:3.778228759765625,y:.95440673828125},{x:3.790496826171875,y:.995361328125},{x:3.80615234375,y:1.036865234375},{x:3.827606201171875,y:1.082672119140625},{x:3.851837158203125,y:1.124267578125},{x:3.878662109375,y:1.161773681640625},{x:3.90777587890625,y:1.195220947265625},{x:3.938995361328125,y:1.224761962890625},{x:3.972076416015625,y:1.25042724609375},{x:4.006744384765625,y:1.272308349609375},{x:4.042755126953125,y:1.290496826171875},{x:4.079925537109375,y:1.3050537109375},{x:4.11798095703125,y:1.316070556640625},{x:4.15667724609375,y:1.323638916015625},{x:4.195770263671875,y:1.32781982421875},{x:4.23504638671875,y:1.328704833984375},{x:4.274261474609375,y:1.32635498046875},{x:4.313140869140625,y:1.320892333984375},{x:4.35150146484375,y:1.3123779296875},{x:4.389068603515625,y:1.3009033203125},{x:4.42559814453125,y:1.286529541015625},{x:4.460845947265625,y:1.269317626953125},{x:4.494598388671875,y:1.249420166015625},{x:4.526611328125,y:1.226837158203125},{x:4.556640625,y:1.201690673828125},{x:4.58447265625,y:1.174072265625},{x:4.60980224609375,y:1.14404296875},{x:4.6324462890625,y:1.1116943359375},{x:4.652130126953125,y:1.07708740234375},{x:4.668670654296875,y:1.040313720703125},{x:4.6817626953125,y:1.001495361328125},{x:4.691192626953125,y:.96063232421875},{x:4.69671630859375,y:.917877197265625},{x:4.6981201171875,y:.873260498046875},{x:4.69512939453125,y:.826904296875},{x:4.68853759765625,y:.790374755859375},{x:4.67724609375,y:.75537109375},{x:4.66168212890625,y:.722198486328125},{x:4.64227294921875,y:.69122314453125},{x:4.619415283203125,y:.662750244140625},{x:4.59356689453125,y:.637115478515625},{x:4.565155029296875,y:.6146240234375},{x:4.5345458984375,y:.595611572265625},{x:4.502197265625,y:.580413818359375},{x:4.468505859375,y:.5693359375},{x:4.43389892578125,y:.562744140625},{x:4.3988037109375,y:.5609130859375},{x:4.363616943359375,y:.564208984375},{x:4.32879638671875,y:.57293701171875},{x:4.294708251953125,y:.587432861328125},{x:4.261810302734375,y:.608001708984375},{x:4.239776611328125,y:.626556396484375},{x:4.220977783203125,y:.64703369140625},{x:4.2054443359375,y:.669036865234375},{x:4.193206787109375,y:.69207763671875},{x:4.184295654296875,y:.715789794921875},{x:4.178802490234375,y:.73968505859375},{x:4.1767578125,y:.76336669921875},{x:4.17816162109375,y:.786376953125},{x:4.18310546875,y:.808258056640625},{x:4.19158935546875,y:.82861328125},{x:4.203704833984375,y:.84698486328125},{x:4.219482421875,y:.862945556640625},{x:4.238922119140625,y:.87603759765625},{x:4.262115478515625,y:.8858642578125},{x:4.289093017578125,y:.8919677734375},{x:4.31988525390625,y:.8939208984375},{x:4.308837890625,y:.86181640625},{x:4.3048095703125,y:.834381103515625},{x:4.30694580078125,y:.811492919921875},{x:4.314300537109375,y:.793121337890625},{x:4.325897216796875,y:.779144287109375},{x:4.3408203125,y:.76953125},{x:4.358123779296875,y:.76416015625},{x:4.376922607421875,y:.76300048828125},{x:4.396240234375,y:.765899658203125},{x:4.4151611328125,y:.772857666015625},{x:4.4327392578125,y:.783721923828125},{x:4.44805908203125,y:.7984619140625},{x:4.46014404296875,y:.816986083984375},{x:4.468109130859375,y:.8392333984375},{x:4.47100830078125,y:.8651123046875},{x:4.4678955078125,y:.894500732421875},{x:4.45880126953125,y:.92333984375},{x:4.444732666015625,y:.94757080078125},{x:4.426361083984375,y:.96734619140625},{x:4.40435791015625,y:.9827880859375},{x:4.379364013671875,y:.994049072265625},{x:4.35198974609375,y:1.001190185546875},{x:4.32293701171875,y:1.00439453125},{x:4.292816162109375,y:1.0037841796875},{x:4.262298583984375,y:.99945068359375},{x:4.2320556640625,y:.991546630859375},{x:4.20269775390625,y:.980194091796875},{x:4.17486572265625,y:.96551513671875},{x:4.14923095703125,y:.9476318359375},{x:4.12646484375,y:.926666259765625},{x:4.107177734375,y:.90277099609375},{x:4.092071533203125,y:.87603759765625},{x:4.081787109375,y:.850555419921875},{x:4.07421875,y:.825225830078125},{x:4.06927490234375,y:.80010986328125},{x:4.06683349609375,y:.775299072265625},{x:4.066802978515625,y:.7508544921875},{x:4.06903076171875,y:.72686767578125},{x:4.073486328125,y:.703369140625},{x:4.079986572265625,y:.68048095703125},{x:4.088470458984375,y:.658233642578125},{x:4.09881591796875,y:.63671875},{x:4.124664306640625,y:.59619140625},{x:4.156707763671875,y:.559417724609375},{x:4.194061279296875,y:.527008056640625},{x:4.235870361328125,y:.49951171875},{x:4.28131103515625,y:.4775390625},{x:4.329498291015625,y:.461639404296875},{x:4.379608154296875,y:.452392578125},{x:4.430755615234375,y:.450347900390625},{x:4.456451416015625,y:.45220947265625},{x:4.48211669921875,y:.45611572265625},{x:4.507598876953125,y:.46209716796875},{x:4.532806396484375,y:.47027587890625},{x:4.5576171875,y:.48065185546875},{x:4.58197021484375,y:.49334716796875},{x:4.620941162109375,y:.51812744140625},{x:4.6558837890625,y:.545013427734375},{x:4.686920166015625,y:.5738525390625},{x:4.714080810546875,y:.604461669921875},{x:4.737548828125,y:.63665771484375},{x:4.757354736328125,y:.67022705078125},{x:4.773590087890625,y:.704986572265625},{x:4.786407470703125,y:.740814208984375},{x:4.79583740234375,y:.777435302734375},{x:4.802032470703125,y:.81475830078125},{x:4.8050537109375,y:.852508544921875},{x:4.805023193359375,y:.890594482421875},{x:4.802001953125,y:.92877197265625},{x:4.79608154296875,y:.96685791015625},{x:4.78741455078125,y:1.00469970703125},{x:4.776031494140625,y:1.042083740234375},{x:4.7620849609375,y:1.078857421875},{x:4.74560546875,y:1.11480712890625},{x:4.72674560546875,y:1.149749755859375},{x:4.705596923828125,y:1.18353271484375},{x:4.682220458984375,y:1.2159423828125},{x:4.656707763671875,y:1.246795654296875},{x:4.62921142578125,y:1.27593994140625},{x:4.599761962890625,y:1.30316162109375},{x:4.568511962890625,y:1.328277587890625},{x:4.5355224609375,y:1.35113525390625},{x:4.500885009765625,y:1.371490478515625},{x:4.464691162109375,y:1.38922119140625},{x:4.427093505859375,y:1.404144287109375},{x:4.388092041015625,y:1.416015625},{x:4.347869873046875,y:1.4246826171875},{x:4.306488037109375,y:1.42999267578125},{x:4.240997314453125,y:1.433135986328125},{x:4.17999267578125,y:1.4312744140625},{x:4.123260498046875,y:1.424530029296875},{x:4.070587158203125,y:1.4130859375},{x:4.021759033203125,y:1.397064208984375},{x:3.9765625,y:1.376617431640625},{x:3.934783935546875,y:1.35186767578125},{x:3.896209716796875,y:1.322967529296875},{x:3.860626220703125,y:1.290069580078125},{x:3.827850341796875,y:1.2532958984375},{x:3.797637939453125,y:1.21282958984375},{x:3.769775390625,y:1.168792724609375},{x:3.74407958984375,y:1.121307373046875},{x:3.7203369140625,y:1.070526123046875},{x:3.69830322265625,y:1.016632080078125},{x:3.67779541015625,y:.959747314453125},{x:3.672943115234375,y:.94134521484375},{x:3.668060302734375,y:.933837890625},{x:3.658721923828125,y:.929656982421875},{x:3.658721923828125,y:1.139617919921875},{x:3.660919189453125,y:1.156494140625},{x:3.666778564453125,y:1.182037353515625},{x:3.685577392578125,y:1.2479248046875},{x:3.723358154296875,y:1.36090087890625},{x:3.747833251953125,y:1.416412353515625},{x:3.779266357421875,y:1.475433349609375},{x:3.817138671875,y:1.5347900390625},{x:3.860870361328125,y:1.59124755859375},{x:3.884765625,y:1.617431640625},{x:3.909881591796875,y:1.6417236328125},{x:3.936187744140625,y:1.6636962890625},{x:3.963592529296875,y:1.682952880859375},{x:3.992034912109375,y:1.699127197265625},{x:4.02142333984375,y:1.711822509765625},{x:4.051727294921875,y:1.720611572265625},{x:4.08282470703125,y:1.725128173828125},{x:4.11639404296875,y:1.725677490234375},{x:4.138427734375,y:1.7222900390625},{x:4.15179443359375,y:1.7156982421875},{x:4.159393310546875,y:1.706695556640625},{x:4.168792724609375,y:1.684478759765625},{x:4.1763916015625,y:1.672760009765625},{x:4.189727783203125,y:1.66168212890625},{x:4.2091064453125,y:1.654052734375},{x:4.227325439453125,y:1.654388427734375},{x:4.243896484375,y:1.66131591796875},{x:4.25836181640625,y:1.6734619140625},{x:4.270172119140625,y:1.689453125},{x:4.27880859375,y:1.707916259765625},{x:4.283843994140625,y:1.7275390625},{x:4.284759521484375,y:1.746856689453125},{x:4.280975341796875,y:1.766754150390625},{x:4.2730712890625,y:1.78369140625},{x:4.261566162109375,y:1.797821044921875},{x:4.24688720703125,y:1.809326171875},{x:4.22955322265625,y:1.81842041015625},{x:4.209991455078125,y:1.825225830078125},{x:4.188690185546875,y:1.829986572265625},{x:4.166168212890625,y:1.832855224609375},{x:4.119293212890625,y:1.833648681640625},{x:4.0731201171875,y:1.82904052734375},{x:4.031494140625,y:1.820465087890625},{x:3.99822998046875,y:1.809417724609375},{x:3.85528564453125,y:1.73345947265625},{x:3.855438232421875,y:1.765045166015625},{x:3.851654052734375,y:1.7950439453125},{x:3.8443603515625,y:1.823638916015625},{x:3.833953857421875,y:1.850982666015625},{x:3.82080078125,y:1.877227783203125},{x:3.805328369140625,y:1.902496337890625},{x:3.768951416015625,y:1.9508056640625},{x:3.72802734375,y:1.9970703125},{x:3.68572998046875,y:2.04248046875},{x:3.645172119140625,y:2.088226318359375},{x:3.609588623046875,y:2.135528564453125},{x:3.568450927734375,y:2.08880615234375},{x:3.5250244140625,y:2.044281005859375},{x:3.481597900390625,y:2.000335693359375},{x:3.44049072265625,y:1.95538330078125},{x:3.404083251953125,y:1.9078369140625},{x:3.388336181640625,y:1.882568359375},{x:3.3746337890625,y:1.856048583984375},{x:3.36328125,y:1.828094482421875},{x:3.354522705078125,y:1.7984619140625},{x:3.348663330078125,y:1.766998291015625},{x:3.34600830078125,y:1.73345947265625},{x:3.220947265625,y:1.8001708984375},{x:3.190704345703125,y:1.811370849609375},{x:3.15875244140625,y:1.82080078125},{x:3.12567138671875,y:1.827911376953125},{x:3.092041015625,y:1.832061767578125},{x:3.05853271484375,y:1.832611083984375},{x:3.02569580078125,y:1.829010009765625},{x:2.994140625,y:1.820587158203125},{x:2.964508056640625,y:1.806732177734375},{x:2.9482421875,y:1.79510498046875},{x:2.936004638671875,y:1.78204345703125},{x:2.927459716796875,y:1.7679443359375},{x:2.92236328125,y:1.753173828125},{x:2.920379638671875,y:1.73809814453125},{x:2.92120361328125,y:1.72314453125},{x:2.924560546875,y:1.708648681640625},{x:2.930145263671875,y:1.69500732421875},{x:2.93768310546875,y:1.6826171875},{x:2.946807861328125,y:1.671844482421875},{x:2.957305908203125,y:1.663055419921875},{x:2.968841552734375,y:1.65667724609375},{x:2.9810791015625,y:1.653045654296875},{x:2.9937744140625,y:1.652557373046875},{x:3.006622314453125,y:1.6556396484375},{x:3.019317626953125,y:1.66259765625},{x:3.0274658203125,y:1.6707763671875},{x:3.03338623046875,y:1.680633544921875},{x:3.044036865234375,y:1.701751708984375},{x:3.051513671875,y:1.711181640625},{x:3.062286376953125,y:1.7186279296875},{x:3.07769775390625,y:1.723175048828125},{x:3.09912109375,y:1.72393798828125},{x:3.12677001953125,y:1.720855712890625},{x:3.153961181640625,y:1.71490478515625},{x:3.18060302734375,y:1.706268310546875},{x:3.20660400390625,y:1.695220947265625},{x:3.23193359375,y:1.681915283203125},{x:3.256500244140625,y:1.666595458984375},{x:3.302978515625,y:1.630828857421875},{x:3.34552001953125,y:1.589630126953125},{x:3.383514404296875,y:1.54473876953125},{x:3.41632080078125,y:1.497894287109375},{x:3.44342041015625,y:1.450836181640625},{x:3.471771240234375,y:1.386993408203125},{x:3.507781982421875,y:1.293914794921875},{x:3.5386962890625,y:1.20135498046875},{x:3.54827880859375,y:1.16455078125},{x:3.55181884765625,y:1.139007568359375},{x:3.55181884765625,y:.929046630859375},{x:3.550933837890625,y:.928466796875},{x:3.537109375,y:.928131103515625},{x:3.53424072265625,y:.929840087890625},{x:3.533172607421875,y:.93255615234375},{x:3.53363037109375,y:.9404296875},{x:3.533050537109375,y:.95050048828125},{x:3.51483154296875,y:1.011016845703125},{x:3.49365234375,y:1.068878173828125},{x:3.468841552734375,y:1.123870849609375},{x:3.439788818359375,y:1.175689697265625},{x:3.40582275390625,y:1.22412109375},{x:3.366241455078125,y:1.2689208984375},{x:3.3204345703125,y:1.309844970703125},{x:3.2677001953125,y:1.346588134765625},{x:3.229827880859375,y:1.368011474609375},{x:3.19140625,y:1.38616943359375},{x:3.15252685546875,y:1.401214599609375},{x:3.113372802734375,y:1.413177490234375},{x:3.07403564453125,y:1.422149658203125},{x:3.034637451171875,y:1.42822265625},{x:2.995330810546875,y:1.431427001953125},{x:2.9561767578125,y:1.431884765625},{x:2.917388916015625,y:1.429656982421875},{x:2.878997802734375,y:1.4248046875},{x:2.841217041015625,y:1.417388916015625},{x:2.804107666015625,y:1.40753173828125},{x:2.767822265625,y:1.395294189453125},{x:2.732452392578125,y:1.3807373046875},{x:2.69818115234375,y:1.363922119140625},{x:2.66510009765625,y:1.344970703125},{x:2.633331298828125,y:1.32391357421875},{x:2.602996826171875,y:1.30084228515625},{x:2.57421875,y:1.275848388671875},{x:2.547149658203125,y:1.248992919921875},{x:2.52191162109375,y:1.220367431640625},{x:2.498565673828125,y:1.19000244140625},{x:2.477325439453125,y:1.15802001953125},{x:2.458251953125,y:1.12445068359375},{x:2.4415283203125,y:1.089447021484375},{x:2.427215576171875,y:1.053009033203125},{x:2.41546630859375,y:1.015228271484375},{x:2.406402587890625,y:.9761962890625},{x:2.400146484375,y:.936004638671875},{x:2.3968505859375,y:.894683837890625},{x:2.3966064453125,y:.852325439453125},{x:2.3995361328125,y:.809051513671875},{x:2.408355712890625,y:.75860595703125},{x:2.423553466796875,y:.71075439453125},{x:2.444580078125,y:.665802001953125},{x:2.470916748046875,y:.624114990234375},{x:2.501953125,y:.586029052734375},{x:2.53717041015625,y:.55194091796875},{x:2.57598876953125,y:.522125244140625},{x:2.617889404296875,y:.4969482421875},{x:2.66229248046875,y:.476806640625},{x:2.7086181640625,y:.462005615234375},{x:2.75634765625,y:.452880859375},{x:2.804901123046875,y:.4498291015625},{x:2.853759765625,y:.453155517578125},{x:2.902313232421875,y:.463226318359375},{x:2.950042724609375,y:.480377197265625},{x:2.996368408203125,y:.504974365234375},{x:3.0179443359375,y:.51971435546875},{x:3.037628173828125,y:.5357666015625},{x:3.055419921875,y:.553009033203125},{x:3.07135009765625,y:.571319580078125},{x:3.097747802734375,y:.610595703125},{x:3.116912841796875,y:.652587890625},{x:3.1290283203125,y:.6962890625},{x:3.13427734375,y:.74066162109375},{x:3.132781982421875,y:.78466796875},{x:3.124755859375,y:.827362060546875},{x:3.11029052734375,y:.867645263671875},{x:3.089569091796875,y:.904571533203125},{x:3.062774658203125,y:.93707275390625},{x:3.047149658203125,y:.95135498046875},{x:3.030059814453125,y:.964141845703125},{x:3.011505126953125,y:.975341796875},{x:2.991546630859375,y:.984771728515625},{x:2.970184326171875,y:.99237060546875},{x:2.94744873046875,y:.997955322265625},{x:2.92333984375,y:1.001434326171875},{x:2.897857666015625,y:1.002655029296875},{x:2.87109375,y:1.001495361328125},{x:2.843017578125,y:.99786376953125},{x:2.8260498046875,y:.993804931640625},{x:2.809967041015625,y:.98785400390625},{x:2.781036376953125,y:.9708251953125},{x:2.75732421875,y:.948150634765625},{x:2.739959716796875,y:.921234130859375},{x:2.733978271484375,y:.9066162109375},{x:2.730010986328125,y:.891448974609375},{x:2.7281494140625,y:.875885009765625},{x:2.72857666015625,y:.860137939453125},{x:2.731414794921875,y:.844390869140625},{x:2.736785888671875,y:.8287353515625},{x:2.744873046875,y:.813446044921875},{x:2.7557373046875,y:.798614501953125},{x:2.770599365234375,y:.783447265625},{x:2.785736083984375,y:.772125244140625},{x:2.8009033203125,y:.764404296875},{x:2.81585693359375,y:.760101318359375},{x:2.830352783203125,y:.758941650390625},{x:2.844146728515625,y:.7607421875},{x:2.857025146484375,y:.7652587890625},{x:2.868682861328125,y:.772308349609375},{x:2.878936767578125,y:.7816162109375},{x:2.88751220703125,y:.79302978515625},{x:2.8941650390625,y:.806304931640625},{x:2.898651123046875,y:.821197509765625},{x:2.900726318359375,y:.837493896484375},{x:2.900146484375,y:.855010986328125},{x:2.89666748046875,y:.87347412109375},{x:2.890045166015625,y:.892730712890625},{x:2.92034912109375,y:.8892822265625},{x:2.946563720703125,y:.881866455078125},{x:2.96881103515625,y:.870880126953125},{x:2.987152099609375,y:.85675048828125},{x:3.001708984375,y:.839935302734375},{x:3.012542724609375,y:.820892333984375},{x:3.01971435546875,y:.800018310546875},{x:3.023345947265625,y:.77777099609375},{x:3.023468017578125,y:.75457763671875},{x:3.020233154296875,y:.730926513671875},{x:3.013671875,y:.707183837890625},{x:3.00390625,y:.683837890625},{x:2.990966796875,y:.661285400390625},{x:2.9749755859375,y:.6400146484375},{x:2.95599365234375,y:.62042236328125},{x:2.93414306640625,y:.602935791015625},{x:2.899169921875,y:.58245849609375},{x:2.863525390625,y:.568695068359375},{x:2.827606201171875,y:.561279296875},{x:2.791778564453125,y:.559783935546875},{x:2.756439208984375,y:.56378173828125},{x:2.721923828125,y:.5728759765625},{x:2.6885986328125,y:.586669921875},{x:2.656890869140625,y:.604705810546875},{x:2.627166748046875,y:.6265869140625},{x:2.59979248046875,y:.65191650390625},{x:2.57513427734375,y:.680267333984375},{x:2.553558349609375,y:.711212158203125},{x:2.535491943359375,y:.744354248046875},{x:2.521270751953125,y:.779296875},{x:2.511260986328125,y:.815582275390625},{x:2.505859375,y:.852813720703125},{x:2.504547119140625,y:.8963623046875},{x:2.507354736328125,y:.938323974609375},{x:2.514068603515625,y:.9786376953125},{x:2.52447509765625,y:1.017181396484375},{x:2.538330078125,y:1.053924560546875},{x:2.555389404296875,y:1.088714599609375},{x:2.575469970703125,y:1.12152099609375},{x:2.59832763671875,y:1.152252197265625},{x:2.62371826171875,y:1.180816650390625},{x:2.65142822265625,y:1.207122802734375},{x:2.681243896484375,y:1.231109619140625},{x:2.712921142578125,y:1.252685546875},{x:2.7462158203125,y:1.271728515625},{x:2.78094482421875,y:1.2882080078125},{x:2.816864013671875,y:1.302032470703125},{x:2.853729248046875,y:1.3131103515625},{x:2.891326904296875,y:1.321319580078125},{x:2.929443359375,y:1.326629638671875},{x:2.96783447265625,y:1.328948974609375},{x:3.006256103515625,y:1.32818603515625},{x:3.044525146484375,y:1.324249267578125},{x:3.0823974609375,y:1.317047119140625},{x:3.11962890625,y:1.3065185546875},{x:3.156036376953125,y:1.292572021484375},{x:3.19134521484375,y:1.275115966796875},{x:3.225341796875,y:1.25408935546875},{x:3.2578125,y:1.2293701171875},{x:3.28851318359375,y:1.200927734375},{x:3.317230224609375,y:1.16864013671875},{x:3.34375,y:1.132415771484375},{x:3.3677978515625,y:1.092193603515625},{x:3.389190673828125,y:1.047882080078125},{x:3.40374755859375,y:1.011199951171875},{x:3.415618896484375,y:.974761962890625},{x:3.42486572265625,y:.93865966796875},{x:3.431640625,y:.90289306640625},{x:3.435943603515625,y:.867523193359375},{x:3.4378662109375,y:.832611083984375},{x:3.437469482421875,y:.798187255859375},{x:3.434844970703125,y:.7642822265625},{x:3.4300537109375,y:.730926513671875},{x:3.423187255859375,y:.69818115234375},{x:3.414276123046875,y:.66607666015625},{x:3.403411865234375,y:.634674072265625},{x:3.3760986328125,y:.574066162109375},{x:3.341827392578125,y:.5167236328125},{x:3.3011474609375,y:.46295166015625},{x:3.254638671875,y:.4130859375},{x:3.202880859375,y:.367431640625},{x:3.14642333984375,y:.32635498046875},{x:3.085845947265625,y:.290191650390625},{x:3.021697998046875,y:.25921630859375},{x:2.954559326171875,y:.23382568359375},{x:2.885009765625,y:.21429443359375},{x:2.833282470703125,y:.20379638671875},{x:2.78155517578125,y:.196380615234375},{x:2.72991943359375,y:.1920166015625},{x:2.678436279296875,y:.19061279296875},{x:2.62725830078125,y:.192108154296875}],[{x:3.600341796875,y:1.33428955078125},{x:3.5966796875,y:1.34075927734375},{x:3.594451904296875,y:1.349395751953125},{x:3.591949462890625,y:1.370025634765625},{x:3.588134765625,y:1.3897705078125},{x:3.556182861328125,y:1.468414306640625},{x:3.513641357421875,y:1.567291259765625},{x:3.4935302734375,y:1.617431640625},{x:3.47686767578125,y:1.66436767578125},{x:3.465728759765625,y:1.705352783203125},{x:3.462158203125,y:1.737640380859375},{x:3.46380615234375,y:1.75494384765625},{x:3.46746826171875,y:1.771209716796875},{x:3.47991943359375,y:1.80096435546875},{x:3.497894287109375,y:1.82781982421875},{x:3.519622802734375,y:1.852569580078125},{x:3.5675048828125,y:1.899169921875},{x:3.590240478515625,y:1.9227294921875},{x:3.609893798828125,y:1.947601318359375},{x:3.64642333984375,y:1.910552978515625},{x:3.68621826171875,y:1.868011474609375},{x:3.7047119140625,y:1.845458984375},{x:3.720947265625,y:1.82244873046875},{x:3.733856201171875,y:1.79931640625},{x:3.742431640625,y:1.7763671875},{x:3.746826171875,y:1.750762939453125},{x:3.7471923828125,y:1.724395751953125},{x:3.7440185546875,y:1.697357177734375},{x:3.73785400390625,y:1.669769287109375},{x:3.718505859375,y:1.61328125},{x:3.6932373046875,y:1.555755615234375},{x:3.666107177734375,y:1.497955322265625},{x:3.641204833984375,y:1.44073486328125},{x:3.622589111328125,y:1.38482666015625},{x:3.616912841796875,y:1.357666015625},{x:3.614349365234375,y:1.33111572265625},{x:3.606048583984375,y:1.330810546875},{x:3.600341796875,y:1.33428955078125}],[{x:3.56982421875,y:.21673583984375},{x:3.5538330078125,y:.239288330078125},{x:3.54644775390625,y:.254486083984375},{x:3.548004150390625,y:.26580810546875},{x:3.553375244140625,y:.284423828125},{x:3.571929931640625,y:.33367919921875},{x:3.594696044921875,y:.3824462890625},{x:3.605377197265625,y:.400421142578125},{x:3.614349365234375,y:.410858154296875},{x:3.658447265625,y:.263427734375},{x:3.650787353515625,y:.241973876953125},{x:3.635528564453125,y:.212738037109375},{x:3.617431640625,y:.1876220703125},{x:3.608795166015625,y:.18035888671875},{x:3.60125732421875,y:.178558349609375},{x:3.56982421875,y:.21673583984375}]],nameArea:{x1:30.00002670288086,y1:96.20497131347656,x2:212.00352478027344,y2:153.20606994628906,width:182.00349807739258,height:57.0010986328125}},floral:{name:"floral",viewBox:{width:204.69520568847656,height:197.11577987670898},points:[[{x:.118194580078125,y:.9976806640625},{x:.135589599609375,y:1.001220703125},{x:.15093994140625,y:1.00738525390625},{x:.164215087890625,y:1.0157470703125},{x:.1754150390625,y:1.026031494140625},{x:.18450927734375,y:1.03778076171875},{x:.19146728515625,y:1.050689697265625},{x:.1962890625,y:1.06439208984375},{x:.19891357421875,y:1.0784912109375},{x:.199371337890625,y:1.0926513671875},{x:.197601318359375,y:1.10650634765625},{x:.193572998046875,y:1.119659423828125},{x:.187286376953125,y:1.131805419921875},{x:.1787109375,y:1.14251708984375},{x:.167816162109375,y:1.15142822265625},{x:.152923583984375,y:1.1590576171875},{x:.137298583984375,y:1.163177490234375},{x:.121551513671875,y:1.163909912109375},{x:.106292724609375,y:1.161346435546875},{x:.092132568359375,y:1.155609130859375},{x:.079742431640625,y:1.1468505859375},{x:.069732666015625,y:1.1351318359375},{x:.062713623046875,y:1.12060546875},{x:.0606689453125,y:1.109039306640625},{x:.06158447265625,y:1.0963134765625},{x:.06536865234375,y:1.0836181640625},{x:.072021484375,y:1.072052001953125},{x:.08135986328125,y:1.06280517578125},{x:.093414306640625,y:1.0570068359375},{x:.108062744140625,y:1.0557861328125},{x:.125213623046875,y:1.060302734375},{x:.131378173828125,y:1.067840576171875},{x:.131988525390625,y:1.076995849609375},{x:.1280517578125,y:1.08404541015625},{x:.124725341796875,y:1.085601806640625},{x:.120635986328125,y:1.085205078125},{x:.1085205078125,y:1.08441162109375},{x:.09881591796875,y:1.086456298828125},{x:.09234619140625,y:1.092742919921875},{x:.08990478515625,y:1.10467529296875},{x:.09222412109375,y:1.113922119140625},{x:.0970458984375,y:1.1212158203125},{x:.10382080078125,y:1.1265869140625},{x:.111968994140625,y:1.129974365234375},{x:.12091064453125,y:1.131378173828125},{x:.130096435546875,y:1.130767822265625},{x:.13897705078125,y:1.128143310546875},{x:.14697265625,y:1.1234130859375},{x:.155975341796875,y:1.115264892578125},{x:.1624755859375,y:1.106842041015625},{x:.16668701171875,y:1.0982666015625},{x:.168792724609375,y:1.089691162109375},{x:.1673583984375,y:1.07293701171875},{x:.159698486328125,y:1.0574951171875},{x:.147216796875,y:1.04437255859375},{x:.131439208984375,y:1.034454345703125},{x:.11383056640625,y:1.028778076171875},{x:.0958251953125,y:1.028228759765625},{x:.074127197265625,y:1.034637451171875},{x:.05743408203125,y:1.04644775390625},{x:.045440673828125,y:1.062225341796875},{x:.0377197265625,y:1.08050537109375},{x:.033935546875,y:1.09991455078125},{x:.033660888671875,y:1.118988037109375},{x:.036529541015625,y:1.13629150390625},{x:.04217529296875,y:1.150390625},{x:.0518798828125,y:1.163970947265625},{x:.06561279296875,y:1.175445556640625},{x:.08282470703125,y:1.18499755859375},{x:.103057861328125,y:1.192779541015625},{x:.150390625,y:1.203704833984375},{x:.203460693359375,y:1.2095947265625},{x:.258056640625,y:1.2117919921875},{x:.310028076171875,y:1.211700439453125},{x:.389495849609375,y:1.209869384765625},{x:1.73260498046875,y:1.20947265625},{x:1.8275146484375,y:1.21160888671875},{x:1.879180908203125,y:1.211669921875},{x:1.93048095703125,y:1.209625244140625},{x:1.979095458984375,y:1.204315185546875},{x:2.022674560546875,y:1.194671630859375},{x:2.041839599609375,y:1.1878662109375},{x:2.058868408203125,y:1.1795654296875},{x:2.073455810546875,y:1.16961669921875},{x:2.0853271484375,y:1.15789794921875},{x:2.09326171875,y:1.143951416015625},{x:2.097747802734375,y:1.1258544921875},{x:2.0985107421875,y:1.10540771484375},{x:2.09521484375,y:1.08428955078125},{x:2.087615966796875,y:1.06427001953125},{x:2.075469970703125,y:1.047088623046875},{x:2.0584716796875,y:1.034454345703125},{x:2.048065185546875,y:1.0303955078125},{x:2.036346435546875,y:1.028106689453125},{x:2.016082763671875,y:1.02899169921875},{x:1.997711181640625,y:1.035308837890625},{x:1.9822998046875,y:1.045928955078125},{x:1.970855712890625,y:1.0596923828125},{x:1.96441650390625,y:1.075469970703125},{x:1.963958740234375,y:1.09210205078125},{x:1.970550537109375,y:1.108428955078125},{x:1.985198974609375,y:1.123321533203125},{x:1.993896484375,y:1.12811279296875},{x:2.003143310546875,y:1.13067626953125},{x:2.01251220703125,y:1.131103515625},{x:2.02142333984375,y:1.129486083984375},{x:2.02935791015625,y:1.125946044921875},{x:2.03582763671875,y:1.12054443359375},{x:2.040313720703125,y:1.113372802734375},{x:2.04229736328125,y:1.10455322265625},{x:2.039886474609375,y:1.092681884765625},{x:2.033416748046875,y:1.08642578125},{x:2.023681640625,y:1.084381103515625},{x:2.011566162109375,y:1.0850830078125},{x:2.007476806640625,y:1.08551025390625},{x:2.004150390625,y:1.083984375},{x:2.000213623046875,y:1.076995849609375},{x:2.000823974609375,y:1.067840576171875},{x:2.006988525390625,y:1.060302734375},{x:2.023529052734375,y:1.055877685546875},{x:2.038055419921875,y:1.05694580078125},{x:2.050323486328125,y:1.062530517578125},{x:2.060028076171875,y:1.071624755859375},{x:2.06695556640625,y:1.083282470703125},{x:2.070831298828125,y:1.09649658203125},{x:2.071380615234375,y:1.110321044921875},{x:2.068328857421875,y:1.123748779296875},{x:2.06097412109375,y:1.137542724609375},{x:2.05096435546875,y:1.148529052734375},{x:2.038818359375,y:1.156585693359375},{x:2.02508544921875,y:1.1617431640625},{x:2.0103759765625,y:1.163970947265625},{x:1.9952392578125,y:1.1632080078125},{x:1.980194091796875,y:1.159423828125},{x:1.9658203125,y:1.152587890625},{x:1.95452880859375,y:1.143890380859375},{x:1.945587158203125,y:1.1331787109375},{x:1.93902587890625,y:1.120849609375},{x:1.934814453125,y:1.10736083984375},{x:1.932952880859375,y:1.09307861328125},{x:1.93341064453125,y:1.07843017578125},{x:1.936187744140625,y:1.063812255859375},{x:1.941253662109375,y:1.049652099609375},{x:1.948638916015625,y:1.036376953125},{x:1.95831298828125,y:1.024383544921875},{x:1.970245361328125,y:1.014068603515625},{x:1.984466552734375,y:1.005859375},{x:2.00091552734375,y:1.000152587890625},{x:2.01959228515625,y:.997406005859375},{x:2.04052734375,y:.997955322265625},{x:2.06365966796875,y:1.002288818359375},{x:2.077789306640625,y:1.00830078125},{x:2.09014892578125,y:1.016082763671875},{x:2.100799560546875,y:1.025421142578125},{x:2.109771728515625,y:1.036041259765625},{x:2.12298583984375,y:1.060302734375},{x:2.130279541015625,y:1.08697509765625},{x:2.1322021484375,y:1.114166259765625},{x:2.12921142578125,y:1.140045166015625},{x:2.121826171875,y:1.162750244140625},{x:2.11053466796875,y:1.180389404296875},{x:2.097564697265625,y:1.193572998046875},{x:2.082275390625,y:1.204437255859375},{x:2.06451416015625,y:1.213653564453125},{x:2.044525146484375,y:1.221343994140625},{x:1.999053955078125,y:1.232635498046875},{x:1.947998046875,y:1.239288330078125},{x:1.893585205078125,y:1.2423095703125},{x:1.83795166015625,y:1.242706298828125},{x:1.731781005859375,y:1.239471435546875},{x:1.524078369140625,y:1.239471435546875},{x:1.534576416015625,y:1.248626708984375},{x:1.559478759765625,y:1.2689208984375},{x:1.584686279296875,y:1.2882080078125},{x:1.602996826171875,y:1.29864501953125},{x:1.619140625,y:1.304229736328125},{x:1.6337890625,y:1.30596923828125},{x:1.647735595703125,y:1.304931640625},{x:1.676300048828125,y:1.29833984375},{x:1.71063232421875,y:1.29248046875},{x:1.73907470703125,y:1.292449951171875},{x:1.766143798828125,y:1.29638671875},{x:1.791839599609375,y:1.303955078125},{x:1.81610107421875,y:1.31494140625},{x:1.838958740234375,y:1.3289794921875},{x:1.860382080078125,y:1.3458251953125},{x:1.880340576171875,y:1.36517333984375},{x:1.89886474609375,y:1.386749267578125},{x:1.907379150390625,y:1.40081787109375},{x:1.90911865234375,y:1.411956787109375},{x:1.90533447265625,y:1.420501708984375},{x:1.89727783203125,y:1.42681884765625},{x:1.886199951171875,y:1.431243896484375},{x:1.873321533203125,y:1.434112548828125},{x:1.847198486328125,y:1.4366455078125},{x:1.82666015625,y:1.43658447265625},{x:1.806549072265625,y:1.43450927734375},{x:1.7674560546875,y:1.425323486328125},{x:1.729736328125,y:1.410980224609375},{x:1.693115234375,y:1.393310546875},{x:1.688629150390625,y:1.389190673828125},{x:1.686553955078125,y:1.38916015625},{x:1.683349609375,y:1.392578125},{x:1.7034912109375,y:1.4124755859375},{x:1.72198486328125,y:1.433685302734375},{x:1.75531005859375,y:1.478912353515625},{x:1.81793212890625,y:1.572601318359375},{x:1.837493896484375,y:1.58282470703125},{x:1.85784912109375,y:1.590850830078125},{x:1.89990234375,y:1.60308837890625},{x:1.94219970703125,y:1.615081787109375},{x:1.96282958984375,y:1.622772216796875},{x:1.982818603515625,y:1.632598876953125},{x:2.019134521484375,y:1.657440185546875},{x:2.04901123046875,y:1.6864013671875},{x:2.073028564453125,y:1.718994140625},{x:2.09173583984375,y:1.754669189453125},{x:2.105743408203125,y:1.792816162109375},{x:2.115570068359375,y:1.832977294921875},{x:2.121856689453125,y:1.87451171875},{x:2.125091552734375,y:1.916961669921875},{x:2.1197509765625,y:1.92645263671875},{x:2.110382080078125,y:1.9307861328125},{x:2.09814453125,y:1.9310302734375},{x:2.084197998046875,y:1.92822265625},{x:2.05596923828125,y:1.917724609375},{x:2.03509521484375,y:1.907684326171875},{x:1.999603271484375,y:1.88775634765625},{x:1.966583251953125,y:1.8642578125},{x:1.936248779296875,y:1.8372802734375},{x:1.908843994140625,y:1.806854248046875},{x:1.894866943359375,y:1.784393310546875},{x:1.880950927734375,y:1.762176513671875},{x:1.897491455078125,y:1.86322021484375},{x:1.902130126953125,y:1.913330078125},{x:1.902191162109375,y:1.961456298828125},{x:1.900177001953125,y:1.96734619140625},{x:1.895416259765625,y:1.97222900390625},{x:1.88140869140625,y:1.9774169921875},{x:1.8740234375,y:1.9769287109375},{x:1.86761474609375,y:1.973907470703125},{x:1.863067626953125,y:1.967926025390625},{x:1.861358642578125,y:1.9586181640625},{x:1.859466552734375,y:1.898712158203125},{x:1.8536376953125,y:1.837890625},{x:1.843658447265625,y:1.776947021484375},{x:1.829193115234375,y:1.716583251953125},{x:1.80999755859375,y:1.657470703125},{x:1.785797119140625,y:1.600372314453125},{x:1.756317138671875,y:1.54595947265625},{x:1.72125244140625,y:1.4949951171875},{x:1.753448486328125,y:1.5894775390625},{x:1.758575439453125,y:1.6182861328125},{x:1.76007080078125,y:1.64727783203125},{x:1.758026123046875,y:1.676055908203125},{x:1.752471923828125,y:1.704315185546875},{x:1.743499755859375,y:1.731689453125},{x:1.731170654296875,y:1.757843017578125},{x:1.715545654296875,y:1.78240966796875},{x:1.6966552734375,y:1.805084228515625},{x:1.68646240234375,y:1.814361572265625},{x:1.677734375,y:1.81781005859375},{x:1.66937255859375,y:1.814666748046875},{x:1.66021728515625,y:1.80426025390625},{x:1.644195556640625,y:1.773162841796875},{x:1.6312255859375,y:1.73358154296875},{x:1.623199462890625,y:1.692718505859375},{x:1.6220703125,y:1.657684326171875},{x:1.626678466796875,y:1.63287353515625},{x:1.634490966796875,y:1.610595703125},{x:1.65496826171875,y:1.570526123046875},{x:1.665252685546875,y:1.551116943359375},{x:1.6739501953125,y:1.531097412109375},{x:1.679840087890625,y:1.509613037109375},{x:1.6817626953125,y:1.485931396484375},{x:1.64373779296875,y:1.503326416015625},{x:1.60675048828125,y:1.525604248046875},{x:1.5714111328125,y:1.55194091796875},{x:1.53826904296875,y:1.5814208984375},{x:1.50799560546875,y:1.61328125},{x:1.48114013671875,y:1.6466064453125},{x:1.45831298828125,y:1.680572509765625},{x:1.440093994140625,y:1.71435546875},{x:1.456573486328125,y:1.71173095703125},{x:1.4722900390625,y:1.711944580078125},{x:1.48712158203125,y:1.7147216796875},{x:1.500885009765625,y:1.7198486328125},{x:1.51336669921875,y:1.727081298828125},{x:1.524444580078125,y:1.736114501953125},{x:1.53387451171875,y:1.746734619140625},{x:1.54156494140625,y:1.758697509765625},{x:1.5472412109375,y:1.771728515625},{x:1.550811767578125,y:1.785552978515625},{x:1.55206298828125,y:1.799957275390625},{x:1.550811767578125,y:1.814666748046875},{x:1.546875,y:1.829437255859375},{x:1.54010009765625,y:1.843994140625},{x:1.530303955078125,y:1.858123779296875},{x:1.517303466796875,y:1.871551513671875},{x:1.5313720703125,y:1.890625},{x:1.53802490234375,y:1.904144287109375},{x:1.538787841796875,y:1.9185791015625},{x:1.537811279296875,y:1.9267578125},{x:1.531005859375,y:1.9466552734375},{x:1.52105712890625,y:1.96356201171875},{x:1.508392333984375,y:1.97723388671875},{x:1.493438720703125,y:1.987457275390625},{x:1.47662353515625,y:1.9940185546875},{x:1.458343505859375,y:1.996673583984375},{x:1.438995361328125,y:1.995208740234375},{x:1.4190673828125,y:1.989349365234375},{x:1.414093017578125,y:2.005615234375},{x:1.406951904296875,y:2.0194091796875},{x:1.39788818359375,y:2.03076171875},{x:1.38726806640625,y:2.039764404296875},{x:1.375396728515625,y:2.046417236328125},{x:1.36260986328125,y:2.05084228515625},{x:1.349212646484375,y:2.053009033203125},{x:1.335540771484375,y:2.05303955078125},{x:1.3218994140625,y:2.050933837890625},{x:1.308624267578125,y:2.046783447265625},{x:1.2960205078125,y:2.040618896484375},{x:1.284423828125,y:2.032501220703125},{x:1.274139404296875,y:2.022491455078125},{x:1.265472412109375,y:2.0106201171875},{x:1.2587890625,y:1.9969482421875},{x:1.254364013671875,y:1.981536865234375},{x:1.227752685546875,y:1.983795166015625},{x:1.203277587890625,y:1.97955322265625},{x:1.181884765625,y:1.9696044921875},{x:1.16448974609375,y:1.95477294921875},{x:1.15203857421875,y:1.93585205078125},{x:1.14544677734375,y:1.9136962890625},{x:1.14569091796875,y:1.889129638671875},{x:1.153656005859375,y:1.8629150390625},{x:1.156707763671875,y:1.856597900390625},{x:1.1640625,y:1.845306396484375},{x:1.1790771484375,y:1.82623291015625},{x:1.17138671875,y:1.811859130859375},{x:1.1619873046875,y:1.78924560546875},{x:1.160552978515625,y:1.768951416015625},{x:1.164276123046875,y:1.74908447265625},{x:1.17266845703125,y:1.730712890625},{x:1.18505859375,y:1.71502685546875},{x:1.200958251953125,y:1.703125},{x:1.219757080078125,y:1.69610595703125},{x:1.240936279296875,y:1.69512939453125},{x:1.26385498046875,y:1.701324462890625},{x:1.2723388671875,y:1.68548583984375},{x:1.28167724609375,y:1.669464111328125},{x:1.29736328125,y:1.65435791015625},{x:1.31524658203125,y:1.64501953125},{x:1.334228515625,y:1.64105224609375},{x:1.3533935546875,y:1.64202880859375},{x:1.371673583984375,y:1.647552490234375},{x:1.388092041015625,y:1.6572265625},{x:1.40167236328125,y:1.670623779296875},{x:1.411346435546875,y:1.6873779296875},{x:1.42449951171875,y:1.66314697265625},{x:1.44268798828125,y:1.634063720703125},{x:1.4661865234375,y:1.601776123046875},{x:1.495391845703125,y:1.567901611328125},{x:1.530609130859375,y:1.534027099609375},{x:1.572174072265625,y:1.50177001953125},{x:1.620391845703125,y:1.4727783203125},{x:1.647125244140625,y:1.459991455078125},{x:1.675628662109375,y:1.448638916015625},{x:1.665924072265625,y:1.425628662109375},{x:1.653656005859375,y:1.4061279296875},{x:1.62042236328125,y:1.36956787109375},{x:1.5836181640625,y:1.33544921875},{x:1.50677490234375,y:1.2718505859375},{x:1.48651123046875,y:1.255279541015625},{x:1.47479248046875,y:1.2392578125},{x:.649261474609375,y:1.23956298828125},{x:.6461181640625,y:1.24658203125},{x:.640350341796875,y:1.25433349609375},{x:.618865966796875,y:1.2718505859375},{x:.542022705078125,y:1.33538818359375},{x:.50518798828125,y:1.369537353515625},{x:.47198486328125,y:1.4061279296875},{x:.460906982421875,y:1.42327880859375},{x:.4517822265625,y:1.4437255859375},{x:.483062744140625,y:1.45501708984375},{x:.51226806640625,y:1.467987060546875},{x:.53948974609375,y:1.482391357421875},{x:.56475830078125,y:1.49798583984375},{x:.609619140625,y:1.531768798828125},{x:.647247314453125,y:1.56744384765625},{x:.678070068359375,y:1.60308837890625},{x:.702423095703125,y:1.636749267578125},{x:.72076416015625,y:1.66650390625},{x:.733428955078125,y:1.690399169921875},{x:.744171142578125,y:1.671844482421875},{x:.759429931640625,y:1.657806396484375},{x:.77783203125,y:1.64849853515625},{x:.79803466796875,y:1.644287109375},{x:.818695068359375,y:1.645416259765625},{x:.8385009765625,y:1.652191162109375},{x:.8560791015625,y:1.66485595703125},{x:.8701171875,y:1.683746337890625},{x:.876434326171875,y:1.701141357421875},{x:.881988525390625,y:1.71820068359375},{x:.905670166015625,y:1.71612548828125},{x:.92633056640625,y:1.7208251953125},{x:.943603515625,y:1.73101806640625},{x:.9571533203125,y:1.745574951171875},{x:.966583251953125,y:1.763214111328125},{x:.971588134765625,y:1.78277587890625},{x:.971771240234375,y:1.803009033203125},{x:.966766357421875,y:1.82269287109375},{x:.95355224609375,y:1.843231201171875},{x:.943450927734375,y:1.85601806640625},{x:.95489501953125,y:1.87738037109375},{x:.960174560546875,y:1.889801025390625},{x:.96209716796875,y:1.89654541015625},{x:.965301513671875,y:1.923797607421875},{x:.961181640625,y:1.94805908203125},{x:.950775146484375,y:1.96868896484375},{x:.935211181640625,y:1.985076904296875},{x:.91546630859375,y:1.996612548828125},{x:.89263916015625,y:2.002593994140625},{x:.8677978515625,y:2.00244140625},{x:.84197998046875,y:1.995513916015625},{x:.83489990234375,y:2.0098876953125},{x:.825897216796875,y:2.02215576171875},{x:.815277099609375,y:2.032318115234375},{x:.80340576171875,y:2.04034423828125},{x:.79052734375,y:2.0462646484375},{x:.77703857421875,y:2.05010986328125},{x:.76324462890625,y:2.051849365234375},{x:.74945068359375,y:2.051483154296875},{x:.735992431640625,y:2.049072265625},{x:.72320556640625,y:2.044525146484375},{x:.711395263671875,y:2.037933349609375},{x:.700897216796875,y:2.029296875},{x:.692047119140625,y:2.0185546875},{x:.685150146484375,y:2.005767822265625},{x:.6805419921875,y:1.990936279296875},{x:.678558349609375,y:1.97406005859375},{x:.65789794921875,y:1.976226806640625},{x:.63861083984375,y:1.974273681640625},{x:.62109375,y:1.968414306640625},{x:.60565185546875,y:1.958984375},{x:.592742919921875,y:1.9462890625},{x:.58270263671875,y:1.93060302734375},{x:.575897216796875,y:1.9122314453125},{x:.572723388671875,y:1.891448974609375},{x:.57318115234375,y:1.88323974609375},{x:.576446533203125,y:1.869140625},{x:.58538818359375,y:1.85699462890625},{x:.60260009765625,y:1.840728759765625},{x:.592620849609375,y:1.82598876953125},{x:.585601806640625,y:1.8111572265625},{x:.581390380859375,y:1.79638671875},{x:.5797119140625,y:1.7818603515625},{x:.580474853515625,y:1.76776123046875},{x:.58343505859375,y:1.7542724609375},{x:.58843994140625,y:1.741607666015625},{x:.59527587890625,y:1.729949951171875},{x:.603759765625,y:1.719451904296875},{x:.61370849609375,y:1.710357666015625},{x:.62493896484375,y:1.702789306640625},{x:.637237548828125,y:1.69696044921875},{x:.65045166015625,y:1.693084716796875},{x:.664398193359375,y:1.691314697265625},{x:.678863525390625,y:1.691864013671875},{x:.693634033203125,y:1.69488525390625},{x:.673309326171875,y:1.661407470703125},{x:.648712158203125,y:1.62823486328125},{x:.62042236328125,y:1.596160888671875},{x:.58905029296875,y:1.56597900390625},{x:.55511474609375,y:1.5384521484375},{x:.519256591796875,y:1.514404296875},{x:.48199462890625,y:1.49462890625},{x:.4439697265625,y:1.479888916015625},{x:.44488525390625,y:1.504852294921875},{x:.450286865234375,y:1.52728271484375},{x:.458892822265625,y:1.548065185546875},{x:.469329833984375,y:1.56805419921875},{x:.4906005859375,y:1.609100341796875},{x:.498748779296875,y:1.63189697265625},{x:.5035400390625,y:1.657379150390625},{x:.50238037109375,y:1.6923828125},{x:.494354248046875,y:1.7332763671875},{x:.481414794921875,y:1.772857666015625},{x:.465423583984375,y:1.803955078125},{x:.456298828125,y:1.814361572265625},{x:.44793701171875,y:1.817474365234375},{x:.439178466796875,y:1.814056396484375},{x:.428955078125,y:1.804779052734375},{x:.41009521484375,y:1.782073974609375},{x:.39447021484375,y:1.757476806640625},{x:.382110595703125,y:1.731292724609375},{x:.373138427734375,y:1.70391845703125},{x:.36761474609375,y:1.6756591796875},{x:.365570068359375,y:1.646881103515625},{x:.3670654296875,y:1.617950439453125},{x:.3721923828125,y:1.589141845703125},{x:.404388427734375,y:1.494659423828125},{x:.36932373046875,y:1.545654296875},{x:.33984375,y:1.60003662109375},{x:.31561279296875,y:1.65716552734375},{x:.29644775390625,y:1.71624755859375},{x:.281982421875,y:1.776641845703125},{x:.27197265625,y:1.83758544921875},{x:.26617431640625,y:1.89837646484375},{x:.2642822265625,y:1.95831298828125},{x:.262542724609375,y:1.967620849609375},{x:.258026123046875,y:1.973602294921875},{x:.2515869140625,y:1.97662353515625},{x:.24420166015625,y:1.97711181640625},{x:.230224609375,y:1.971923828125},{x:.2254638671875,y:1.967041015625},{x:.22344970703125,y:1.96112060546875},{x:.2235107421875,y:1.91302490234375},{x:.228118896484375,y:1.8629150390625},{x:.24468994140625,y:1.761871337890625},{x:.23077392578125,y:1.7841796875},{x:.216766357421875,y:1.806549072265625},{x:.189361572265625,y:1.836944580078125},{x:.159027099609375,y:1.863922119140625},{x:.126007080078125,y:1.887420654296875},{x:.09051513671875,y:1.907379150390625},{x:.06964111328125,y:1.917388916015625},{x:.041412353515625,y:1.92791748046875},{x:.027496337890625,y:1.93072509765625},{x:.0152587890625,y:1.93048095703125},{x:.005859375,y:1.9261474609375},{x:.000518798828125,y:1.916656494140625},{x:.0037841796875,y:1.874237060546875},{x:.01007080078125,y:1.83270263671875},{x:.019927978515625,y:1.7926025390625},{x:.033935546875,y:1.754425048828125},{x:.052642822265625,y:1.718780517578125},{x:.07666015625,y:1.6861572265625},{x:.106536865234375,y:1.657135009765625},{x:.142822265625,y:1.63226318359375},{x:.16278076171875,y:1.6224365234375},{x:.183441162109375,y:1.614715576171875},{x:.225738525390625,y:1.602691650390625},{x:.267791748046875,y:1.590484619140625},{x:.28814697265625,y:1.582489013671875},{x:.307708740234375,y:1.572265625},{x:.37030029296875,y:1.478607177734375},{x:.403656005859375,y:1.433380126953125},{x:.422119140625,y:1.41217041015625},{x:.442291259765625,y:1.39227294921875},{x:.43902587890625,y:1.38885498046875},{x:.436981201171875,y:1.388885498046875},{x:.4324951171875,y:1.39300537109375},{x:.395904541015625,y:1.41064453125},{x:.358154296875,y:1.42498779296875},{x:.319091796875,y:1.434173583984375},{x:.298980712890625,y:1.436248779296875},{x:.2784423828125,y:1.43634033203125},{x:.252288818359375,y:1.433746337890625},{x:.239410400390625,y:1.43084716796875},{x:.228302001953125,y:1.426422119140625},{x:.220245361328125,y:1.420135498046875},{x:.21649169921875,y:1.411590576171875},{x:.218231201171875,y:1.400482177734375},{x:.226776123046875,y:1.386444091796875},{x:.245269775390625,y:1.3648681640625},{x:.2652587890625,y:1.34552001953125},{x:.28668212890625,y:1.32867431640625},{x:.30950927734375,y:1.314605712890625},{x:.33380126953125,y:1.30364990234375},{x:.359466552734375,y:1.296051025390625},{x:.38653564453125,y:1.292144775390625},{x:.415008544921875,y:1.29217529296875},{x:.4493408203125,y:1.29803466796875},{x:.4779052734375,y:1.304656982421875},{x:.4918212890625,y:1.30572509765625},{x:.506500244140625,y:1.303955078125},{x:.522613525390625,y:1.29833984375},{x:.54095458984375,y:1.28790283203125},{x:.566162109375,y:1.268646240234375},{x:.591033935546875,y:1.248321533203125},{x:.601348876953125,y:1.23956298828125},{x:.391448974609375,y:1.23956298828125},{x:.278717041015625,y:1.24169921875},{x:.220977783203125,y:1.240753173828125},{x:.16546630859375,y:1.236785888671875},{x:.114471435546875,y:1.228607177734375},{x:.0914306640625,y:1.2225341796875},{x:.07037353515625,y:1.21490478515625},{x:.0516357421875,y:1.20562744140625},{x:.035491943359375,y:1.19451904296875},{x:.022247314453125,y:1.181396484375},{x:.012176513671875,y:1.1661376953125},{x:.004791259765625,y:1.149139404296875},{x:.000640869140625,y:1.127166748046875},{x:.000396728515625,y:1.102142333984375},{x:.004608154296875,y:1.0760498046875},{x:.013824462890625,y:1.050811767578125},{x:.02862548828125,y:1.028411865234375},{x:.038330078125,y:1.01885986328125},{x:.049652099609375,y:1.010772705078125},{x:.062652587890625,y:1.004364013671875},{x:.077392578125,y:.9998779296875},{x:.098785400390625,y:.99713134765625},{x:.118194580078125,y:.9976806640625}],[{x:1.326141357421875,y:1.9046630859375},{x:1.313507080078125,y:1.920806884765625},{x:1.30303955078125,y:1.9378662109375},{x:1.296661376953125,y:1.956390380859375},{x:1.2962646484375,y:1.97686767578125},{x:1.30230712890625,y:1.9945068359375},{x:1.3133544921875,y:2.007293701171875},{x:1.32757568359375,y:2.015045166015625},{x:1.343048095703125,y:2.01763916015625},{x:1.35791015625,y:2.01495361328125},{x:1.37030029296875,y:2.00677490234375},{x:1.37835693359375,y:1.9930419921875},{x:1.380218505859375,y:1.973541259765625},{x:1.3707275390625,y:1.938629150390625},{x:1.3634033203125,y:1.9183349609375},{x:1.357696533203125,y:1.9075927734375},{x:1.351959228515625,y:1.90509033203125},{x:1.34478759765625,y:1.90411376953125},{x:1.3309326171875,y:1.90216064453125},{x:1.326141357421875,y:1.9046630859375}],[{x:.7529296875,y:1.904571533203125},{x:.745391845703125,y:1.91412353515625},{x:.734649658203125,y:1.93280029296875},{x:.71917724609375,y:1.96551513671875},{x:.717529296875,y:1.98504638671875},{x:.723052978515625,y:2.000030517578125},{x:.73382568359375,y:2.01025390625},{x:.74798583984375,y:2.015533447265625},{x:.763671875,y:2.015716552734375},{x:.779022216796875,y:2.010589599609375},{x:.79217529296875,y:1.99993896484375},{x:.801239013671875,y:1.983642578125},{x:.804351806640625,y:1.96337890625},{x:.80133056640625,y:1.944000244140625},{x:.7940673828125,y:1.925384521484375},{x:.78448486328125,y:1.90728759765625},{x:.78021240234375,y:1.9039306640625},{x:.766265869140625,y:1.90338134765625},{x:.759033203125,y:1.90313720703125},{x:.7529296875,y:1.904571533203125}],[{x:.8175048828125,y:1.88916015625},{x:.828125,y:1.906097412109375},{x:.839019775390625,y:1.927398681640625},{x:.85040283203125,y:1.94732666015625},{x:.856353759765625,y:1.95501708984375},{x:.86248779296875,y:1.960205078125},{x:.871673583984375,y:1.964202880859375},{x:.881378173828125,y:1.9659423828125},{x:.8912353515625,y:1.96551513671875},{x:.900787353515625,y:1.963104248046875},{x:.909637451171875,y:1.95880126953125},{x:.917388916015625,y:1.952789306640625},{x:.923583984375,y:1.94512939453125},{x:.927825927734375,y:1.93603515625},{x:.930328369140625,y:1.9180908203125},{x:.925933837890625,y:1.904144287109375},{x:.916168212890625,y:1.893463134765625},{x:.902557373046875,y:1.8853759765625},{x:.869720458984375,y:1.874114990234375},{x:.8394775390625,y:1.864776611328125},{x:.8175048828125,y:1.88916015625}],[{x:1.39501953125,y:1.8758544921875},{x:1.38995361328125,y:1.88232421875},{x:1.387603759765625,y:1.890380859375},{x:1.3885498046875,y:1.89874267578125},{x:1.395904541015625,y:1.914276123046875},{x:1.406951904296875,y:1.9293212890625},{x:1.42071533203125,y:1.94268798828125},{x:1.4361572265625,y:1.95294189453125},{x:1.452239990234375,y:1.958770751953125},{x:1.467987060546875,y:1.95880126953125},{x:1.475433349609375,y:1.956207275390625},{x:1.482391357421875,y:1.95166015625},{x:1.488739013671875,y:1.94500732421875},{x:1.494384765625,y:1.93603515625},{x:1.49835205078125,y:1.921722412109375},{x:1.496429443359375,y:1.9075927734375},{x:1.4892578125,y:1.8951416015625},{x:1.47760009765625,y:1.88580322265625},{x:1.439727783203125,y:1.87725830078125},{x:1.40228271484375,y:1.87237548828125},{x:1.39501953125,y:1.8758544921875}],[{x:1.248077392578125,y:1.85687255859375},{x:1.2137451171875,y:1.8621826171875},{x:1.19891357421875,y:1.86773681640625},{x:1.187408447265625,y:1.87652587890625},{x:1.18060302734375,y:1.889495849609375},{x:1.179901123046875,y:1.9075927734375},{x:1.1824951171875,y:1.91729736328125},{x:1.187225341796875,y:1.9259033203125},{x:1.19378662109375,y:1.933197021484375},{x:1.20172119140625,y:1.938995361328125},{x:1.210693359375,y:1.94305419921875},{x:1.220306396484375,y:1.945220947265625},{x:1.23016357421875,y:1.945220947265625},{x:1.239898681640625,y:1.942901611328125},{x:1.246826171875,y:1.938873291015625},{x:1.253997802734375,y:1.932373046875},{x:1.26873779296875,y:1.914764404296875},{x:1.28326416015625,y:1.895721435546875},{x:1.296661376953125,y:1.88092041015625},{x:1.279388427734375,y:1.853118896484375},{x:1.248077392578125,y:1.85687255859375}],[{x:.638641357421875,y:1.861968994140625},{x:.625579833984375,y:1.869110107421875},{x:.6163330078125,y:1.880126953125},{x:.6119384765625,y:1.8936767578125},{x:.61334228515625,y:1.908416748046875},{x:.617279052734375,y:1.918243408203125},{x:.62237548828125,y:1.925933837890625},{x:.628387451171875,y:1.931640625},{x:.63525390625,y:1.93548583984375},{x:.6507568359375,y:1.938232421875},{x:.667633056640625,y:1.935333251953125},{x:.684661865234375,y:1.927947998046875},{x:.7005615234375,y:1.917236328125},{x:.714111328125,y:1.904388427734375},{x:.72406005859375,y:1.8905029296875},{x:.726470947265625,y:1.882415771484375},{x:.725616455078125,y:1.874053955078125},{x:.721771240234375,y:1.8668212890625},{x:.7152099609375,y:1.862060546875},{x:.677520751953125,y:1.8602294921875},{x:.638641357421875,y:1.861968994140625}],[{x:.22882080078125,y:1.631866455078125},{x:.224273681640625,y:1.635284423828125},{x:.196807861328125,y:1.646209716796875},{x:.171478271484375,y:1.65850830078125},{x:.14825439453125,y:1.6724853515625},{x:.127166748046875,y:1.6884765625},{x:.108154296875,y:1.706756591796875},{x:.0911865234375,y:1.727691650390625},{x:.076263427734375,y:1.7515869140625},{x:.063323974609375,y:1.77874755859375},{x:.0472412109375,y:1.829559326171875},{x:.0408935546875,y:1.85845947265625},{x:.038848876953125,y:1.88092041015625},{x:.038848876953125,y:1.885009765625},{x:.043121337890625,y:1.88519287109375},{x:.05548095703125,y:1.882110595703125},{x:.0703125,y:1.875946044921875},{x:.103729248046875,y:1.8572998046875},{x:.13580322265625,y:1.83551025390625},{x:.158966064453125,y:1.816741943359375},{x:.185791015625,y:1.786895751953125},{x:.214447021484375,y:1.746826171875},{x:.2386474609375,y:1.704315185546875},{x:.247161865234375,y:1.684539794921875},{x:.252197265625,y:1.66705322265625},{x:.253753662109375,y:1.663360595703125},{x:.24993896484375,y:1.6593017578125},{x:.153533935546875,y:1.75946044921875},{x:.148284912109375,y:1.761810302734375},{x:.142822265625,y:1.762237548828125},{x:.133209228515625,y:1.75823974609375},{x:.128143310546875,y:1.74945068359375},{x:.12841796875,y:1.743865966796875},{x:.131134033203125,y:1.73779296875},{x:.14654541015625,y:1.7188720703125},{x:.168792724609375,y:1.695648193359375},{x:.21124267578125,y:1.65435791015625},{x:.223175048828125,y:1.64544677734375},{x:.23406982421875,y:1.635284423828125},{x:.23089599609375,y:1.631866455078125},{x:.22882080078125,y:1.631866455078125}],[{x:1.89410400390625,y:1.631866455078125},{x:1.89093017578125,y:1.635284423828125},{x:1.901885986328125,y:1.64544677734375},{x:1.91375732421875,y:1.65435791015625},{x:1.956268310546875,y:1.69573974609375},{x:1.978515625,y:1.718902587890625},{x:1.993865966796875,y:1.73779296875},{x:1.996551513671875,y:1.743865966796875},{x:1.996826171875,y:1.74945068359375},{x:1.99176025390625,y:1.75823974609375},{x:1.982147216796875,y:1.762237548828125},{x:1.976715087890625,y:1.761810302734375},{x:1.971466064453125,y:1.75946044921875},{x:1.875,y:1.65924072265625},{x:1.871246337890625,y:1.663330078125},{x:1.872711181640625,y:1.66705322265625},{x:1.87786865234375,y:1.6845703125},{x:1.8863525390625,y:1.704345703125},{x:1.910614013671875,y:1.74688720703125},{x:1.93927001953125,y:1.786895751953125},{x:1.966033935546875,y:1.816741943359375},{x:1.989227294921875,y:1.83551025390625},{x:2.02130126953125,y:1.8572998046875},{x:2.0546875,y:1.875946044921875},{x:2.06951904296875,y:1.882110595703125},{x:2.081878662109375,y:1.88519287109375},{x:2.086151123046875,y:1.885009765625},{x:2.086151123046875,y:1.88092041015625},{x:2.084136962890625,y:1.85845947265625},{x:2.077789306640625,y:1.829559326171875},{x:2.061676025390625,y:1.77874755859375},{x:2.04876708984375,y:1.75152587890625},{x:2.0338134765625,y:1.727630615234375},{x:2.016876220703125,y:1.706695556640625},{x:1.997833251953125,y:1.688385009765625},{x:1.97674560546875,y:1.67242431640625},{x:1.953521728515625,y:1.658447265625},{x:1.928192138671875,y:1.64617919921875},{x:1.900726318359375,y:1.635284423828125},{x:1.89617919921875,y:1.631866455078125},{x:1.89410400390625,y:1.631866455078125}],[{x:.77325439453125,y:1.821044921875},{x:.7666015625,y:1.823577880859375},{x:.756317138671875,y:1.83355712890625},{x:.7537841796875,y:1.8399658203125},{x:.753662109375,y:1.846649169921875},{x:.758697509765625,y:1.859405517578125},{x:.766937255859375,y:1.86688232421875},{x:.776763916015625,y:1.86956787109375},{x:.78656005859375,y:1.86798095703125},{x:.794677734375,y:1.862640380859375},{x:.799560546875,y:1.85406494140625},{x:.799591064453125,y:1.842803955078125},{x:.793121337890625,y:1.829345703125},{x:.78704833984375,y:1.82342529296875},{x:.780242919921875,y:1.820831298828125},{x:.77325439453125,y:1.821044921875}],[{x:1.3385009765625,y:1.8216552734375},{x:1.331451416015625,y:1.826446533203125},{x:1.322723388671875,y:1.8385009765625},{x:1.320770263671875,y:1.849578857421875},{x:1.324066162109375,y:1.858856201171875},{x:1.331146240234375,y:1.86553955078125},{x:1.340484619140625,y:1.86883544921875},{x:1.35064697265625,y:1.867919921875},{x:1.360076904296875,y:1.862060546875},{x:1.367279052734375,y:1.85040283203125},{x:1.368316650390625,y:1.84381103515625},{x:1.366943359375,y:1.8370361328125},{x:1.35858154296875,y:1.825408935546875},{x:1.35247802734375,y:1.821746826171875},{x:1.34564208984375,y:1.8203125},{x:1.3385009765625,y:1.8216552734375}],[{x:1.451568603515625,y:1.75225830078125},{x:1.440460205078125,y:1.7567138671875},{x:1.430511474609375,y:1.763214111328125},{x:1.4215087890625,y:1.771331787109375},{x:1.405609130859375,y:1.790496826171875},{x:1.391143798828125,y:1.810394287109375},{x:1.405731201171875,y:1.83331298828125},{x:1.429046630859375,y:1.83612060546875},{x:1.45758056640625,y:1.840728759765625},{x:1.48480224609375,y:1.84136962890625},{x:1.495819091796875,y:1.83837890625},{x:1.504058837890625,y:1.832275390625},{x:1.511810302734375,y:1.819427490234375},{x:1.51519775390625,y:1.8056640625},{x:1.5145263671875,y:1.79180908203125},{x:1.510223388671875,y:1.778717041015625},{x:1.502655029296875,y:1.7672119140625},{x:1.4921875,y:1.758087158203125},{x:1.479217529296875,y:1.752197265625},{x:1.46405029296875,y:1.750396728515625},{x:1.451568603515625,y:1.75225830078125}],[{x:.899749755859375,y:1.75347900390625},{x:.8902587890625,y:1.756378173828125},{x:.8800048828125,y:1.761871337890625},{x:.854766845703125,y:1.786956787109375},{x:.8330078125,y:1.81341552734375},{x:.83416748046875,y:1.8226318359375},{x:.83709716796875,y:1.832489013671875},{x:.8583984375,y:1.83209228515625},{x:.882568359375,y:1.835540771484375},{x:.90625,y:1.837432861328125},{x:.916900634765625,y:1.836151123046875},{x:.9261474609375,y:1.832489013671875},{x:.936981201171875,y:1.82159423828125},{x:.94232177734375,y:1.80694580078125},{x:.94256591796875,y:1.790740966796875},{x:.93804931640625,y:1.775146484375},{x:.92913818359375,y:1.762298583984375},{x:.916259765625,y:1.754364013671875},{x:.908447265625,y:1.752899169921875},{x:.899749755859375,y:1.75347900390625}],[{x:.64691162109375,y:1.733673095703125},{x:.634979248046875,y:1.74078369140625},{x:.62548828125,y:1.75079345703125},{x:.61895751953125,y:1.762908935546875},{x:.6158447265625,y:1.776397705078125},{x:.616729736328125,y:1.790557861328125},{x:.6220703125,y:1.8045654296875},{x:.629119873046875,y:1.81207275390625},{x:.639495849609375,y:1.81695556640625},{x:.6663818359375,y:1.821136474609375},{x:.6953125,y:1.8216552734375},{x:.71875,y:1.822998046875},{x:.7371826171875,y:1.803009033203125},{x:.7264404296875,y:1.7808837890625},{x:.714202880859375,y:1.75921630859375},{x:.706787109375,y:1.7496337890625},{x:.69818115234375,y:1.741455078125},{x:.688018798828125,y:1.73516845703125},{x:.676055908203125,y:1.73114013671875},{x:.660736083984375,y:1.730224609375},{x:.64691162109375,y:1.733673095703125}],[{x:1.223358154296875,y:1.730712890625},{x:1.20928955078125,y:1.73626708984375},{x:1.1982421875,y:1.747344970703125},{x:1.1910400390625,y:1.76190185546875},{x:1.18841552734375,y:1.77789306640625},{x:1.191131591796875,y:1.79327392578125},{x:1.19989013671875,y:1.805908203125},{x:1.2083740234375,y:1.811187744140625},{x:1.218597412109375,y:1.814361572265625},{x:1.242279052734375,y:1.816680908203125},{x:1.26666259765625,y:1.817596435546875},{x:1.28759765625,y:1.821746826171875},{x:1.292266845703125,y:1.812591552734375},{x:1.295013427734375,y:1.803741455078125},{x:1.278289794921875,y:1.773834228515625},{x:1.2578125,y:1.74456787109375},{x:1.24859619140625,y:1.737274169921875},{x:1.23974609375,y:1.732757568359375},{x:1.2313232421875,y:1.73065185546875},{x:1.223358154296875,y:1.730712890625}],[{x:.785003662109375,y:1.68438720703125},{x:.777618408203125,y:1.688751220703125},{x:.766876220703125,y:1.702178955078125},{x:.761260986328125,y:1.719879150390625},{x:.760528564453125,y:1.739471435546875},{x:.764404296875,y:1.758636474609375},{x:.77264404296875,y:1.774993896484375},{x:.78497314453125,y:1.78619384765625},{x:.7926025390625,y:1.78912353515625},{x:.8011474609375,y:1.789886474609375},{x:.808502197265625,y:1.785430908203125},{x:.8173828125,y:1.77545166015625},{x:.83135986328125,y:1.7554931640625},{x:.8408203125,y:1.735687255859375},{x:.844024658203125,y:1.7158203125},{x:.84234619140625,y:1.706573486328125},{x:.83795166015625,y:1.698089599609375},{x:.83050537109375,y:1.690704345703125},{x:.819580078125,y:1.684661865234375},{x:.79376220703125,y:1.681976318359375},{x:.785003662109375,y:1.68438720703125}],[{x:1.319000244140625,y:1.6832275390625},{x:1.31036376953125,y:1.689178466796875},{x:1.3045654296875,y:1.69671630859375},{x:1.30126953125,y:1.70556640625},{x:1.300933837890625,y:1.725677490234375},{x:1.3067626953125,y:1.746856689453125},{x:1.316986083984375,y:1.769073486328125},{x:1.323974609375,y:1.780426025390625},{x:1.330413818359375,y:1.786041259765625},{x:1.338958740234375,y:1.78680419921875},{x:1.34698486328125,y:1.7852783203125},{x:1.361114501953125,y:1.776458740234375},{x:1.37213134765625,y:1.761810302734375},{x:1.37933349609375,y:1.743621826171875},{x:1.382080078125,y:1.72418212890625},{x:1.379669189453125,y:1.705780029296875},{x:1.3714599609375,y:1.690643310546875},{x:1.364959716796875,y:1.68505859375},{x:1.356781005859375,y:1.681121826171875},{x:1.330841064453125,y:1.67926025390625},{x:1.319000244140625,y:1.6832275390625}],[{x:.40802001953125,y:1.5867919921875},{x:.401763916015625,y:1.612762451171875},{x:.3994140625,y:1.6387939453125},{x:.400848388671875,y:1.664642333984375},{x:.405975341796875,y:1.69012451171875},{x:.41461181640625,y:1.714935302734375},{x:.426666259765625,y:1.7388916015625},{x:.441986083984375,y:1.761749267578125},{x:.454376220703125,y:1.73681640625},{x:.462158203125,y:1.7108154296875},{x:.465423583984375,y:1.684295654296875},{x:.464324951171875,y:1.657745361328125},{x:.458953857421875,y:1.631622314453125},{x:.449432373046875,y:1.60650634765625},{x:.43585205078125,y:1.58282470703125},{x:.4183349609375,y:1.561126708984375},{x:.40802001953125,y:1.5867919921875}],[{x:1.689239501953125,y:1.58282470703125},{x:1.6756591796875,y:1.60650634765625},{x:1.6661376953125,y:1.63165283203125},{x:1.6607666015625,y:1.65777587890625},{x:1.65966796875,y:1.684356689453125},{x:1.6629638671875,y:1.71087646484375},{x:1.670745849609375,y:1.736846923828125},{x:1.683135986328125,y:1.761749267578125},{x:1.69842529296875,y:1.7388916015625},{x:1.71044921875,y:1.714935302734375},{x:1.719085693359375,y:1.690093994140625},{x:1.724212646484375,y:1.66461181640625},{x:1.725677490234375,y:1.63873291015625},{x:1.72332763671875,y:1.612701416015625},{x:1.717071533203125,y:1.586761474609375},{x:1.706787109375,y:1.561126708984375},{x:1.689239501953125,y:1.58282470703125}],[{x:1.704345703125,y:1.3309326171875},{x:1.68292236328125,y:1.33294677734375},{x:1.676025390625,y:1.33477783203125},{x:1.673431396484375,y:1.3372802734375},{x:1.71533203125,y:1.362823486328125},{x:1.75982666015625,y:1.384674072265625},{x:1.782958984375,y:1.392547607421875},{x:1.806671142578125,y:1.397491455078125},{x:1.8309326171875,y:1.398834228515625},{x:1.855743408203125,y:1.39593505859375},{x:1.832489013671875,y:1.369873046875},{x:1.80560302734375,y:1.350616455078125},{x:1.77508544921875,y:1.337738037109375},{x:1.740936279296875,y:1.3309326171875},{x:1.704345703125,y:1.3309326171875}],[{x:.350128173828125,y:1.337646484375},{x:.319610595703125,y:1.350494384765625},{x:.292724609375,y:1.369781494140625},{x:.26947021484375,y:1.39581298828125},{x:.2943115234375,y:1.39874267578125},{x:.318572998046875,y:1.39739990234375},{x:.34228515625,y:1.3924560546875},{x:.36541748046875,y:1.38458251953125},{x:.409881591796875,y:1.36273193359375},{x:.4517822265625,y:1.337158203125},{x:.449188232421875,y:1.334686279296875},{x:.442291259765625,y:1.332855224609375},{x:.420867919921875,y:1.330841064453125},{x:.38427734375,y:1.330810546875},{x:.350128173828125,y:1.337646484375}],[{x:1.086181640625,y:.00128173828125},{x:1.1007080078125,y:.004638671875},{x:1.114532470703125,y:.010101318359375},{x:1.127349853515625,y:.0177001953125},{x:1.138824462890625,y:.0274658203125},{x:1.148651123046875,y:.03936767578125},{x:1.15655517578125,y:.053466796875},{x:1.162200927734375,y:.06976318359375},{x:1.177581787109375,y:.063140869140625},{x:1.192901611328125,y:.0592041015625},{x:1.2080078125,y:.05780029296875},{x:1.2227783203125,y:.05877685546875},{x:1.237030029296875,y:.061920166015625},{x:1.25067138671875,y:.06707763671875},{x:1.275482177734375,y:.082733154296875},{x:1.296142578125,y:.1043701171875},{x:1.311492919921875,y:.130584716796875},{x:1.32049560546875,y:.160003662109375},{x:1.322235107421875,y:.17547607421875},{x:1.321990966796875,y:.19122314453125},{x:1.399688720703125,y:.219970703125},{x:1.42388916015625,y:.232818603515625},{x:1.446990966796875,y:.24456787109375},{x:1.46221923828125,y:.247161865234375},{x:1.480255126953125,y:.246337890625},{x:1.52154541015625,y:.2381591796875},{x:1.56439208984375,y:.2271728515625},{x:1.602294921875,y:.22052001953125},{x:1.6253662109375,y:.22003173828125},{x:1.64703369140625,y:.221466064453125},{x:1.68670654296875,y:.229522705078125},{x:1.72247314453125,y:.24346923828125},{x:1.755523681640625,y:.26202392578125},{x:1.78704833984375,y:.2840576171875},{x:1.8182373046875,y:.30828857421875},{x:1.884368896484375,y:.358642578125},{x:1.88616943359375,y:.36907958984375},{x:1.883758544921875,y:.37725830078125},{x:1.8780517578125,y:.38348388671875},{x:1.869873046875,y:.388031005859375},{x:1.8497314453125,y:.393280029296875},{x:1.830322265625,y:.395416259765625},{x:1.799530029296875,y:.39703369140625},{x:1.77166748046875,y:.396484375},{x:1.721343994140625,y:.389862060546875},{x:1.672515869140625,y:.377349853515625},{x:1.618438720703125,y:.360595703125},{x:1.6123046875,y:.358123779296875},{x:1.609222412109375,y:.3577880859375},{x:1.60699462890625,y:.35955810546875},{x:1.66265869140625,y:.40411376953125},{x:1.713958740234375,y:.452728271484375},{x:1.762176513671875,y:.505950927734375},{x:1.80853271484375,y:.56427001953125},{x:1.826995849609375,y:.591766357421875},{x:1.841033935546875,y:.6236572265625},{x:1.85015869140625,y:.657806396484375},{x:1.853668212890625,y:.6932373046875},{x:1.850921630859375,y:.729095458984375},{x:1.8411865234375,y:.764434814453125},{x:1.83349609375,y:.781646728515625},{x:1.823822021484375,y:.79840087890625},{x:1.812042236328125,y:.8145751953125},{x:1.798126220703125,y:.830078125},{x:1.781951904296875,y:.844757080078125},{x:1.763427734375,y:.8585205078125},{x:1.739959716796875,y:.8719482421875},{x:1.715179443359375,y:.88165283203125},{x:1.689697265625,y:.887481689453125},{x:1.664154052734375,y:.889251708984375},{x:.46697998046875,y:.88946533203125},{x:.441131591796875,y:.8876953125},{x:.41522216796875,y:.881927490234375},{x:.3900146484375,y:.87213134765625},{x:.36614990234375,y:.8585205078125},{x:.347625732421875,y:.8447265625},{x:.331451416015625,y:.830047607421875},{x:.317535400390625,y:.814544677734375},{x:.305755615234375,y:.798370361328125},{x:.29608154296875,y:.7816162109375},{x:.28839111328125,y:.764404296875},{x:.2786865234375,y:.729034423828125},{x:.275909423828125,y:.693206787109375},{x:.2794189453125,y:.65777587890625},{x:.288543701171875,y:.6236572265625},{x:.3026123046875,y:.591766357421875},{x:.316680908203125,y:.56976318359375},{x:.36285400390625,y:.5113525390625},{x:.41107177734375,y:.4581298828125},{x:.462493896484375,y:.409576416015625},{x:.518218994140625,y:.365081787109375},{x:.51593017578125,y:.363311767578125},{x:.5128173828125,y:.363616943359375},{x:.50677490234375,y:.366119384765625},{x:.45269775390625,y:.38287353515625},{x:.40386962890625,y:.3953857421875},{x:.353546142578125,y:.4019775390625},{x:.32568359375,y:.402557373046875},{x:.294891357421875,y:.401031494140625},{x:.275482177734375,y:.398895263671875},{x:.255340576171875,y:.39361572265625},{x:.247161865234375,y:.389068603515625},{x:.241455078125,y:.382843017578125},{x:.239044189453125,y:.374664306640625},{x:.2408447265625,y:.3642578125},{x:.3070068359375,y:.31390380859375},{x:.33819580078125,y:.2896728515625},{x:.369720458984375,y:.26763916015625},{x:.40277099609375,y:.24908447265625},{x:.438507080078125,y:.23516845703125},{x:.478179931640625,y:.22711181640625},{x:.499847412109375,y:.22564697265625},{x:.522918701171875,y:.22613525390625},{x:.560882568359375,y:.2327880859375},{x:.603729248046875,y:.243743896484375},{x:.64501953125,y:.251922607421875},{x:.66302490234375,y:.25274658203125},{x:.67822265625,y:.25018310546875},{x:.70135498046875,y:.238525390625},{x:.72552490234375,y:.225616455078125},{x:.8074951171875,y:.195098876953125},{x:.809661865234375,y:.159454345703125},{x:.81268310546875,y:.142669677734375},{x:.818756103515625,y:.125},{x:.83038330078125,y:.104461669921875},{x:.8455810546875,y:.087188720703125},{x:.863677978515625,y:.0733642578125},{x:.884033203125,y:.063201904296875},{x:.905975341796875,y:.056915283203125},{x:.928802490234375,y:.05474853515625},{x:.95184326171875,y:.056884765625},{x:.9744873046875,y:.06353759765625},{x:.98150634765625,y:.048583984375},{x:.990570068359375,y:.035614013671875},{x:1.001434326171875,y:.024627685546875},{x:1.01373291015625,y:.015625},{x:1.02716064453125,y:.0086669921875},{x:1.04144287109375,y:.00372314453125},{x:1.056243896484375,y:.000823974609375},{x:1.071258544921875,y:0},{x:1.086181640625,y:.00128173828125}],[{x:.47589111328125,y:.4505615234375},{x:.435821533203125,y:.4886474609375},{x:.397918701171875,y:.529144287109375},{x:.35260009765625,y:.583953857421875},{x:.33740234375,y:.606658935546875},{x:.32525634765625,y:.633392333984375},{x:.31695556640625,y:.6619873046875},{x:.313140869140625,y:.691680908203125},{x:.314453125,y:.7216796875},{x:.321624755859375,y:.751220703125},{x:.335235595703125,y:.779541015625},{x:.35601806640625,y:.80584716796875},{x:.38458251953125,y:.829345703125},{x:.407440185546875,y:.842376708984375},{x:.43096923828125,y:.851287841796875},{x:.4544677734375,y:.855712890625},{x:.477264404296875,y:.855255126953125},{x:.4986572265625,y:.849456787109375},{x:.517974853515625,y:.83795166015625},{x:.534515380859375,y:.8203125},{x:.547607421875,y:.796142578125},{x:.55126953125,y:.78350830078125},{x:.552276611328125,y:.77105712890625},{x:.55084228515625,y:.75897216796875},{x:.5472412109375,y:.7474365234375},{x:.5345458984375,y:.72686767578125},{x:.516204833984375,y:.710906982421875},{x:.494293212890625,y:.701202392578125},{x:.482635498046875,y:.69915771484375},{x:.4708251953125,y:.69927978515625},{x:.45916748046875,y:.7017822265625},{x:.447845458984375,y:.706787109375},{x:.43719482421875,y:.714569091796875},{x:.427398681640625,y:.725311279296875},{x:.421234130859375,y:.73553466796875},{x:.417999267578125,y:.74560546875},{x:.417449951171875,y:.75518798828125},{x:.419219970703125,y:.763916015625},{x:.423095703125,y:.77154541015625},{x:.42877197265625,y:.7777099609375},{x:.4359130859375,y:.782073974609375},{x:.44427490234375,y:.78436279296875},{x:.45458984375,y:.783538818359375},{x:.458282470703125,y:.7789306640625},{x:.457977294921875,y:.77301025390625},{x:.45635986328125,y:.768218994140625},{x:.454315185546875,y:.7620849609375},{x:.453887939453125,y:.754425048828125},{x:.457427978515625,y:.74664306640625},{x:.46728515625,y:.74029541015625},{x:.47442626953125,y:.738677978515625},{x:.480133056640625,y:.739227294921875},{x:.487884521484375,y:.7445068359375},{x:.49169921875,y:.751251220703125},{x:.492706298828125,y:.75457763671875},{x:.4954833984375,y:.774810791015625},{x:.49346923828125,y:.790863037109375},{x:.487548828125,y:.803070068359375},{x:.47857666015625,y:.81170654296875},{x:.467498779296875,y:.817169189453125},{x:.455169677734375,y:.81976318359375},{x:.442474365234375,y:.81982421875},{x:.430328369140625,y:.81768798828125},{x:.41412353515625,y:.810302734375},{x:.4017333984375,y:.79864501953125},{x:.393096923828125,y:.783782958984375},{x:.38824462890625,y:.76678466796875},{x:.3870849609375,y:.748809814453125},{x:.3896484375,y:.730865478515625},{x:.395904541015625,y:.714111328125},{x:.40582275390625,y:.699554443359375},{x:.41717529296875,y:.688873291015625},{x:.429534912109375,y:.6806640625},{x:.44268798828125,y:.674774169921875},{x:.4564208984375,y:.671112060546875},{x:.47052001953125,y:.6695556640625},{x:.4847412109375,y:.6700439453125},{x:.5126953125,y:.676544189453125},{x:.499176025390625,y:.637603759765625},{x:.491546630859375,y:.59857177734375},{x:.48974609375,y:.55975341796875},{x:.493682861328125,y:.521514892578125},{x:.503265380859375,y:.484161376953125},{x:.5184326171875,y:.448028564453125},{x:.5390625,y:.4134521484375},{x:.565093994140625,y:.380706787109375},{x:.560516357421875,y:.379150390625},{x:.47589111328125,y:.4505615234375}],[{x:1.560211181640625,y:.37518310546875},{x:1.586944580078125,y:.408905029296875},{x:1.607940673828125,y:.444610595703125},{x:1.62310791015625,y:.481903076171875},{x:1.63238525390625,y:.52044677734375},{x:1.6356201171875,y:.559906005859375},{x:1.632781982421875,y:.59991455078125},{x:1.623748779296875,y:.64007568359375},{x:1.608428955078125,y:.680084228515625},{x:1.623046875,y:.674530029296875},{x:1.638153076171875,y:.67095947265625},{x:1.65350341796875,y:.6695556640625},{x:1.6688232421875,y:.67041015625},{x:1.683807373046875,y:.6737060546875},{x:1.698150634765625,y:.6795654296875},{x:1.711639404296875,y:.688140869140625},{x:1.723968505859375,y:.699554443359375},{x:1.73388671875,y:.714111328125},{x:1.740142822265625,y:.730865478515625},{x:1.742706298828125,y:.748809814453125},{x:1.7415771484375,y:.76678466796875},{x:1.7366943359375,y:.783782958984375},{x:1.728057861328125,y:.79864501953125},{x:1.715667724609375,y:.810302734375},{x:1.699493408203125,y:.81768798828125},{x:1.687347412109375,y:.81982421875},{x:1.6746826171875,y:.81976318359375},{x:1.662353515625,y:.817169189453125},{x:1.6512451171875,y:.81170654296875},{x:1.642303466796875,y:.803070068359375},{x:1.6363525390625,y:.790863037109375},{x:1.634307861328125,y:.774810791015625},{x:1.6370849609375,y:.75457763671875},{x:1.638092041015625,y:.751251220703125},{x:1.64190673828125,y:.7445068359375},{x:1.649658203125,y:.739227294921875},{x:1.655364990234375,y:.738677978515625},{x:1.662506103515625,y:.74029541015625},{x:1.67236328125,y:.74664306640625},{x:1.6759033203125,y:.754425048828125},{x:1.67547607421875,y:.7620849609375},{x:1.673431396484375,y:.768218994140625},{x:1.6717529296875,y:.7730712890625},{x:1.671478271484375,y:.77899169921875},{x:1.6751708984375,y:.783538818359375},{x:1.685516357421875,y:.78436279296875},{x:1.693878173828125,y:.78204345703125},{x:1.7010498046875,y:.77764892578125},{x:1.706695556640625,y:.771453857421875},{x:1.7105712890625,y:.76385498046875},{x:1.712371826171875,y:.755096435546875},{x:1.7117919921875,y:.74554443359375},{x:1.70855712890625,y:.735504150390625},{x:1.702392578125,y:.725311279296875},{x:1.692626953125,y:.714569091796875},{x:1.68194580078125,y:.706787109375},{x:1.670654296875,y:.7017822265625},{x:1.658966064453125,y:.69927978515625},{x:1.647186279296875,y:.69915771484375},{x:1.635528564453125,y:.701202392578125},{x:1.613616943359375,y:.710906982421875},{x:1.595306396484375,y:.72686767578125},{x:1.582611083984375,y:.7474365234375},{x:1.579010009765625,y:.75897216796875},{x:1.577545166015625,y:.77105712890625},{x:1.578521728515625,y:.78350830078125},{x:1.582183837890625,y:.796142578125},{x:1.59503173828125,y:.8203125},{x:1.611541748046875,y:.83795166015625},{x:1.630859375,y:.849456787109375},{x:1.652252197265625,y:.855255126953125},{x:1.675048828125,y:.855712890625},{x:1.69854736328125,y:.851287841796875},{x:1.72210693359375,y:.842376708984375},{x:1.7449951171875,y:.829345703125},{x:1.7735595703125,y:.80584716796875},{x:1.794342041015625,y:.779541015625},{x:1.807952880859375,y:.751220703125},{x:1.815093994140625,y:.7216796875},{x:1.81640625,y:.691680908203125},{x:1.812591552734375,y:.6619873046875},{x:1.804290771484375,y:.633392333984375},{x:1.79217529296875,y:.606658935546875},{x:1.772613525390625,y:.57843017578125},{x:1.727386474609375,y:.52362060546875},{x:1.689483642578125,y:.483154296875},{x:1.6494140625,y:.445068359375},{x:1.564788818359375,y:.373626708984375},{x:1.560211181640625,y:.37518310546875}],[{x:1.283966064453125,y:.263519287109375},{x:1.30267333984375,y:.27764892578125},{x:1.316864013671875,y:.29412841796875},{x:1.326751708984375,y:.312469482421875},{x:1.3326416015625,y:.332061767578125},{x:1.334716796875,y:.3524169921875},{x:1.333251953125,y:.3729248046875},{x:1.3284912109375,y:.39306640625},{x:1.320709228515625,y:.41229248046875},{x:1.310150146484375,y:.4300537109375},{x:1.29705810546875,y:.44580078125},{x:1.28167724609375,y:.458953857421875},{x:1.264251708984375,y:.468994140625},{x:1.24505615234375,y:.475341796875},{x:1.224334716796875,y:.47747802734375},{x:1.20233154296875,y:.474822998046875},{x:1.17926025390625,y:.46685791015625},{x:1.165802001953125,y:.49444580078125},{x:1.1497802734375,y:.517547607421875},{x:1.139984130859375,y:.527130126953125},{x:1.128631591796875,y:.535247802734375},{x:1.115325927734375,y:.541778564453125},{x:1.09979248046875,y:.546661376953125},{x:1.073577880859375,y:.550811767578125},{x:1.048553466796875,y:.550689697265625},{x:1.02508544921875,y:.546295166015625},{x:1.003662109375,y:.537689208984375},{x:.98468017578125,y:.52490234375},{x:.96856689453125,y:.507965087890625},{x:.95574951171875,y:.4869384765625},{x:.9466552734375,y:.46185302734375},{x:.923553466796875,y:.46697998046875},{x:.90155029296875,y:.46759033203125},{x:.88092041015625,y:.464141845703125},{x:.86187744140625,y:.45709228515625},{x:.84466552734375,y:.4468994140625},{x:.82952880859375,y:.433990478515625},{x:.816680908203125,y:.41888427734375},{x:.806396484375,y:.4019775390625},{x:.798858642578125,y:.38372802734375},{x:.794342041015625,y:.3646240234375},{x:.79302978515625,y:.345123291015625},{x:.79522705078125,y:.325653076171875},{x:.8011474609375,y:.30670166015625},{x:.81097412109375,y:.2886962890625},{x:.82501220703125,y:.2720947265625},{x:.84344482421875,y:.25738525390625},{x:.841949462890625,y:.25189208984375},{x:.834808349609375,y:.2445068359375},{x:.82537841796875,y:.238067626953125},{x:.81707763671875,y:.23541259765625},{x:.796051025390625,y:.2393798828125},{x:.767547607421875,y:.248382568359375},{x:.71832275390625,y:.268310546875},{x:.69122314453125,y:.285858154296875},{x:.681854248046875,y:.295135498046875},{x:.674957275390625,y:.30474853515625},{x:.67022705078125,y:.314727783203125},{x:.66741943359375,y:.32501220703125},{x:.666534423828125,y:.346649169921875},{x:.670166015625,y:.36962890625},{x:.67620849609375,y:.393951416015625},{x:.68255615234375,y:.419586181640625},{x:.68707275390625,y:.446533203125},{x:.68853759765625,y:.483917236328125},{x:.685150146484375,y:.52105712890625},{x:.67718505859375,y:.55743408203125},{x:.664794921875,y:.59259033203125},{x:.648284912109375,y:.6259765625},{x:.627838134765625,y:.6571044921875},{x:.603668212890625,y:.685455322265625},{x:.5760498046875,y:.71051025390625},{x:.56719970703125,y:.717071533203125},{x:.579193115234375,y:.73828125},{x:.585601806640625,y:.76220703125},{x:.585357666015625,y:.788299560546875},{x:.577392578125,y:.8160400390625},{x:.566619873046875,y:.836090087890625},{x:.5533447265625,y:.852783203125},{x:1.576141357421875,y:.852783203125},{x:1.562957763671875,y:.836090087890625},{x:1.552093505859375,y:.8160400390625},{x:1.546966552734375,y:.801666259765625},{x:1.54400634765625,y:.78765869140625},{x:1.544036865234375,y:.761016845703125},{x:1.55096435546875,y:.7366943359375},{x:1.56365966796875,y:.715301513671875},{x:1.549072265625,y:.704986572265625},{x:1.52142333984375,y:.679901123046875},{x:1.497283935546875,y:.65155029296875},{x:1.476837158203125,y:.62042236328125},{x:1.460296630859375,y:.5870361328125},{x:1.44793701171875,y:.5518798828125},{x:1.43994140625,y:.5155029296875},{x:1.43658447265625,y:.4783935546875},{x:1.438018798828125,y:.4410400390625},{x:1.442718505859375,y:.413848876953125},{x:1.44921875,y:.38787841796875},{x:1.4554443359375,y:.36322021484375},{x:1.459228515625,y:.33990478515625},{x:1.45843505859375,y:.318084716796875},{x:1.45562744140625,y:.3077392578125},{x:1.45086669921875,y:.2978515625},{x:1.443878173828125,y:.28839111328125},{x:1.434417724609375,y:.27935791015625},{x:1.422149658203125,y:.270782470703125},{x:1.406890869140625,y:.2626953125},{x:1.35333251953125,y:.24395751953125},{x:1.309478759765625,y:.229766845703125},{x:1.283966064453125,y:.263519287109375}],[{x:.5809326171875,y:.41497802734375},{x:.55877685546875,y:.4478759765625},{x:.542449951171875,y:.48345947265625},{x:.532073974609375,y:.521026611328125},{x:.52777099609375,y:.559783935546875},{x:.529693603515625,y:.59906005859375},{x:.53790283203125,y:.638092041015625},{x:.5526123046875,y:.676116943359375},{x:.57232666015625,y:.660858154296875},{x:.590118408203125,y:.64337158203125},{x:.60595703125,y:.62396240234375},{x:.61968994140625,y:.6029052734375},{x:.63128662109375,y:.58056640625},{x:.640625,y:.557159423828125},{x:.647613525390625,y:.533050537109375},{x:.652191162109375,y:.508514404296875},{x:.654815673828125,y:.481536865234375},{x:.654541015625,y:.452606201171875},{x:.6492919921875,y:.424774169921875},{x:.6441650390625,y:.4122314453125},{x:.636993408203125,y:.401123046875},{x:.6295166015625,y:.429718017578125},{x:.619720458984375,y:.473876953125},{x:.60919189453125,y:.515655517578125},{x:.6041259765625,y:.53009033203125},{x:.5994873046875,y:.53717041015625},{x:.59100341796875,y:.53924560546875},{x:.583160400390625,y:.536376953125},{x:.577362060546875,y:.529998779296875},{x:.57489013671875,y:.521636962890625},{x:.577911376953125,y:.501220703125},{x:.58282470703125,y:.479888916015625},{x:.59527587890625,y:.432586669921875},{x:.6087646484375,y:.385498046875},{x:.5809326171875,y:.41497802734375}],[{x:1.52984619140625,y:.426971435546875},{x:1.54229736328125,y:.474365234375},{x:1.5472412109375,y:.49578857421875},{x:1.550201416015625,y:.516143798828125},{x:1.547760009765625,y:.52447509765625},{x:1.541900634765625,y:.530853271484375},{x:1.5340576171875,y:.53375244140625},{x:1.525634765625,y:.531646728515625},{x:1.521026611328125,y:.52459716796875},{x:1.515960693359375,y:.51019287109375},{x:1.50543212890625,y:.46844482421875},{x:1.49560546875,y:.42425537109375},{x:1.488128662109375,y:.395599365234375},{x:1.48095703125,y:.406768798828125},{x:1.475799560546875,y:.4193115234375},{x:1.470550537109375,y:.447174072265625},{x:1.470306396484375,y:.47607421875},{x:1.472930908203125,y:.50299072265625},{x:1.47747802734375,y:.52752685546875},{x:1.484466552734375,y:.5516357421875},{x:1.493804931640625,y:.575042724609375},{x:1.505401611328125,y:.597381591796875},{x:1.5191650390625,y:.618438720703125},{x:1.53497314453125,y:.637847900390625},{x:1.55279541015625,y:.65533447265625},{x:1.572509765625,y:.670623779296875},{x:1.587188720703125,y:.632568359375},{x:1.595428466796875,y:.593536376953125},{x:1.597320556640625,y:.55426025390625},{x:1.593017578125,y:.51544189453125},{x:1.5826416015625,y:.4779052734375},{x:1.566314697265625,y:.442291259765625},{x:1.544189453125,y:.409423828125},{x:1.516357421875,y:.379974365234375},{x:1.52984619140625,y:.426971435546875}],[{x:1.03082275390625,y:.361846923828125},{x:1.02099609375,y:.373077392578125},{x:1.0076904296875,y:.39471435546875},{x:.989166259765625,y:.432891845703125},{x:.98687744140625,y:.452178955078125},{x:.9896240234375,y:.46893310546875},{x:.996612548828125,y:.483062744140625},{x:1.007080078125,y:.49456787109375},{x:1.020294189453125,y:.503448486328125},{x:1.035491943359375,y:.5096435546875},{x:1.05194091796875,y:.51312255859375},{x:1.06884765625,y:.513916015625},{x:1.085479736328125,y:.511932373046875},{x:1.101043701171875,y:.507171630859375},{x:1.114837646484375,y:.499603271484375},{x:1.126068115234375,y:.48919677734375},{x:1.13397216796875,y:.475921630859375},{x:1.1378173828125,y:.45977783203125},{x:1.136871337890625,y:.44073486328125},{x:1.13031005859375,y:.418731689453125},{x:1.115081787109375,y:.390899658203125},{x:1.098236083984375,y:.366455078125},{x:1.0892333984375,y:.36328125},{x:1.0810546875,y:.36383056640625},{x:1.07843017578125,y:.373626708984375},{x:1.0765380859375,y:.390045166015625},{x:1.074493408203125,y:.398223876953125},{x:1.07098388671875,y:.405029296875},{x:1.065460205078125,y:.409423828125},{x:1.057403564453125,y:.410400390625},{x:1.05029296875,y:.4075927734375},{x:1.047027587890625,y:.40185546875},{x:1.04693603515625,y:.385528564453125},{x:1.04718017578125,y:.369232177734375},{x:1.0443115234375,y:.363555908203125},{x:1.037811279296875,y:.360809326171875},{x:1.03082275390625,y:.361846923828125}],[{x:1.1773681640625,y:.28875732421875},{x:1.1527099609375,y:.294769287109375},{x:1.156280517578125,y:.30224609375},{x:1.1627197265625,y:.308197021484375},{x:1.179229736328125,y:.317840576171875},{x:1.1868896484375,y:.32269287109375},{x:1.192535400390625,y:.328338623046875},{x:1.1949462890625,y:.33538818359375},{x:1.19293212890625,y:.3443603515625},{x:1.186431884765625,y:.34619140625},{x:1.178253173828125,y:.345458984375},{x:1.159027099609375,y:.34002685546875},{x:1.13970947265625,y:.335723876953125},{x:1.131378173828125,y:.336334228515625},{x:1.12469482421875,y:.340087890625},{x:1.13702392578125,y:.356536865234375},{x:1.149078369140625,y:.375518798828125},{x:1.161468505859375,y:.3951416015625},{x:1.1748046875,y:.413421630859375},{x:1.189666748046875,y:.4283447265625},{x:1.206634521484375,y:.43798828125},{x:1.21612548828125,y:.440216064453125},{x:1.226348876953125,y:.44036865234375},{x:1.2374267578125,y:.438232421875},{x:1.2493896484375,y:.43353271484375},{x:1.26904296875,y:.420166015625},{x:1.28424072265625,y:.402252197265625},{x:1.294464111328125,y:.38140869140625},{x:1.29913330078125,y:.359283447265625},{x:1.29779052734375,y:.3375244140625},{x:1.28985595703125,y:.317718505859375},{x:1.28326416015625,y:.30908203125},{x:1.27484130859375,y:.301544189453125},{x:1.264495849609375,y:.295318603515625},{x:1.252197265625,y:.290618896484375},{x:1.2271728515625,y:.28582763671875},{x:1.20220947265625,y:.285491943359375},{x:1.1773681640625,y:.28875732421875}],[{x:.891876220703125,y:.277252197265625},{x:.878265380859375,y:.280853271484375},{x:.86566162109375,y:.286376953125},{x:.854461669921875,y:.294158935546875},{x:.8450927734375,y:.304473876953125},{x:.8369140625,y:.318817138671875},{x:.832122802734375,y:.33367919921875},{x:.83050537109375,y:.348724365234375},{x:.83172607421875,y:.363525390625},{x:.835540771484375,y:.377716064453125},{x:.841705322265625,y:.390960693359375},{x:.849853515625,y:.402862548828125},{x:.85980224609375,y:.4130859375},{x:.8712158203125,y:.421173095703125},{x:.88385009765625,y:.426849365234375},{x:.897430419921875,y:.429656982421875},{x:.911651611328125,y:.429290771484375},{x:.92626953125,y:.425323486328125},{x:.94097900390625,y:.417449951171875},{x:.95550537109375,y:.40521240234375},{x:.969573974609375,y:.3883056640625},{x:.9892578125,y:.356475830078125},{x:.998504638671875,y:.337371826171875},{x:1.00042724609375,y:.330322265625},{x:.99957275390625,y:.326141357421875},{x:.988006591796875,y:.32635498046875},{x:.973846435546875,y:.3302001953125},{x:.9609375,y:.331451416015625},{x:.956146240234375,y:.329193115234375},{x:.953125,y:.323944091796875},{x:.95281982421875,y:.31793212890625},{x:.955108642578125,y:.3126220703125},{x:.96484375,y:.30377197265625},{x:.987091064453125,y:.290191650390625},{x:.986358642578125,y:.286865234375},{x:.98297119140625,y:.284027099609375},{x:.97113037109375,y:.27978515625},{x:.9481201171875,y:.276031494140625},{x:.92047119140625,y:.27459716796875},{x:.891876220703125,y:.277252197265625}],[{x:.447509765625,y:.26934814453125},{x:.42730712890625,y:.27618408203125},{x:.407867431640625,y:.28546142578125},{x:.37091064453125,y:.30926513671875},{x:.3026123046875,y:.363525390625},{x:.343475341796875,y:.367401123046875},{x:.383514404296875,y:.36572265625},{x:.422760009765625,y:.35931396484375},{x:.46124267578125,y:.3489990234375},{x:.499053955078125,y:.335601806640625},{x:.53619384765625,y:.319976806640625},{x:.608856201171875,y:.285400390625},{x:.607208251953125,y:.281951904296875},{x:.60260009765625,y:.28082275390625},{x:.56524658203125,y:.270172119140625},{x:.525634765625,y:.264007568359375},{x:.4857177734375,y:.26336669921875},{x:.447509765625,y:.26934814453125}],[{x:1.599578857421875,y:.258514404296875},{x:1.5599365234375,y:.26470947265625},{x:1.522613525390625,y:.275299072265625},{x:1.51800537109375,y:.27642822265625},{x:1.516357421875,y:.279876708984375},{x:1.589019775390625,y:.314483642578125},{x:1.62615966796875,y:.330078125},{x:1.663970947265625,y:.343475341796875},{x:1.70245361328125,y:.353790283203125},{x:1.74169921875,y:.360198974609375},{x:1.78173828125,y:.361907958984375},{x:1.822601318359375,y:.358001708984375},{x:1.754302978515625,y:.3037109375},{x:1.71734619140625,y:.279876708984375},{x:1.697906494140625,y:.2706298828125},{x:1.677703857421875,y:.263824462890625},{x:1.639495849609375,y:.257843017578125},{x:1.599578857421875,y:.258514404296875}],[{x:1.0623779296875,y:.2330322265625},{x:1.051422119140625,y:.236236572265625},{x:1.0411376953125,y:.241455078125},{x:1.032318115234375,y:.24835205078125},{x:1.02569580078125,y:.256622314453125},{x:1.0220947265625,y:.26593017578125},{x:1.023651123046875,y:.282928466796875},{x:1.031890869140625,y:.3026123046875},{x:1.044219970703125,y:.319580078125},{x:1.05108642578125,y:.325408935546875},{x:1.058013916015625,y:.328521728515625},{x:1.0770263671875,y:.329620361328125},{x:1.09210205078125,y:.32427978515625},{x:1.103118896484375,y:.313995361328125},{x:1.109893798828125,y:.3001708984375},{x:1.1123046875,y:.284271240234375},{x:1.110198974609375,y:.267730712890625},{x:1.1033935546875,y:.25201416015625},{x:1.091766357421875,y:.238525390625},{x:1.083343505859375,y:.233856201171875},{x:1.073272705078125,y:.23211669921875},{x:1.0623779296875,y:.2330322265625}],[{x:1.202239990234375,y:.0948486328125},{x:1.19122314453125,y:.09735107421875},{x:1.180511474609375,y:.102294921875},{x:1.1702880859375,y:.10980224609375},{x:1.160736083984375,y:.120086669921875},{x:1.134613037109375,y:.166412353515625},{x:1.120025634765625,y:.19573974609375},{x:1.115203857421875,y:.21038818359375},{x:1.124603271484375,y:.208160400390625},{x:1.142181396484375,y:.2005615234375},{x:1.160797119140625,y:.1947021484375},{x:1.168243408203125,y:.19464111328125},{x:1.1732177734375,y:.19769287109375},{x:1.17474365234375,y:.206573486328125},{x:1.173095703125,y:.213714599609375},{x:1.16900634765625,y:.21954345703125},{x:1.1632080078125,y:.2244873046875},{x:1.1494140625,y:.23333740234375},{x:1.13751220703125,y:.243621826171875},{x:1.145416259765625,y:.2606201171875},{x:1.186859130859375,y:.255401611328125},{x:1.209197998046875,y:.251678466796875},{x:1.230926513671875,y:.246124267578125},{x:1.250762939453125,y:.2379150390625},{x:1.267425537109375,y:.22625732421875},{x:1.279693603515625,y:.210357666015625},{x:1.2862548828125,y:.189361572265625},{x:1.28692626953125,y:.176513671875},{x:1.28558349609375,y:.16400146484375},{x:1.277496337890625,y:.140625},{x:1.2635498046875,y:.12060546875},{x:1.245330810546875,y:.105377197265625},{x:1.224365234375,y:.096343994140625},{x:1.213348388671875,y:.09454345703125},{x:1.202239990234375,y:.0948486328125}],[{x:.901580810546875,y:.096038818359375},{x:.879547119140625,y:.106719970703125},{x:.861358642578125,y:.1231689453125},{x:.84881591796875,y:.144134521484375},{x:.845245361328125,y:.15594482421875},{x:.843780517578125,y:.168426513671875},{x:.844635009765625,y:.181427001953125},{x:.8480224609375,y:.19476318359375},{x:.857177734375,y:.210784912109375},{x:.871002197265625,y:.222900390625},{x:.88836669921875,y:.231719970703125},{x:.908050537109375,y:.23785400390625},{x:.949859619140625,y:.24456787109375},{x:.987091064453125,y:.247894287109375},{x:.98760986328125,y:.243682861328125},{x:.984100341796875,y:.237152099609375},{x:.97119140625,y:.219482421875},{x:.964752197265625,y:.20953369140625},{x:.960357666015625,y:.1995849609375},{x:.95947265625,y:.190277099609375},{x:.963653564453125,y:.182159423828125},{x:.969329833984375,y:.1790771484375},{x:.975738525390625,y:.17974853515625},{x:.98944091796875,y:.188873291015625},{x:1.01092529296875,y:.213226318359375},{x:1.02166748046875,y:.208740234375},{x:1.024688720703125,y:.20269775390625},{x:1.023223876953125,y:.19403076171875},{x:1.01885986328125,y:.18243408203125},{x:1.00445556640625,y:.154693603515625},{x:.98724365234375,y:.1279296875},{x:.972930908203125,y:.110595703125},{x:.961669921875,y:.102508544921875},{x:.949981689453125,y:.0968017578125},{x:.93792724609375,y:.093475341796875},{x:.9256591796875,y:.092315673828125},{x:.901580810546875,y:.096038818359375}],[{x:1.056915283203125,y:.039031982421875},{x:1.041259765625,y:.04296875},{x:1.027740478515625,y:.049774169921875},{x:1.01763916015625,y:.059295654296875},{x:1.012298583984375,y:.071441650390625},{x:1.0120849609375,y:.08642578125},{x:1.01611328125,y:.10247802734375},{x:1.032318115234375,y:.1363525390625},{x:1.0518798828125,y:.170013427734375},{x:1.060089111328125,y:.185821533203125},{x:1.06573486328125,y:.200408935546875},{x:1.077301025390625,y:.200714111328125},{x:1.0938720703125,y:.166900634765625},{x:1.1131591796875,y:.127593994140625},{x:1.1202392578125,y:.10760498046875},{x:1.123626708984375,y:.0882568359375},{x:1.121917724609375,y:.07025146484375},{x:1.1136474609375,y:.05426025390625},{x:1.102935791015625,y:.0455322265625},{x:1.089080810546875,y:.040191650390625},{x:1.073272705078125,y:.038055419921875},{x:1.056915283203125,y:.039031982421875}]],nameArea:{x1:29.00109100341797,y1:83.92452621459961,x2:175.006591796875,y2:115.92573165893555,width:146.00550079345703,height:32.00120544433594}},english:{name:"english",viewBox:{width:240.39335250854492,height:225.76990509033203},points:[[{x:1.265777587890625,y:2.075439453125},{x:1.278533935546875,y:2.102020263671875},{x:1.304779052734375,y:2.151458740234375},{x:1.31512451171875,y:2.176422119140625},{x:1.321533203125,y:2.20294189453125},{x:1.322418212890625,y:2.2320556640625},{x:1.31622314453125,y:2.26483154296875},{x:1.306793212890625,y:2.28765869140625},{x:1.290283203125,y:2.3170166015625},{x:1.280517578125,y:2.330780029296875},{x:1.270294189453125,y:2.342041015625},{x:1.260101318359375,y:2.3494873046875},{x:1.250396728515625,y:2.351715087890625},{x:1.242889404296875,y:2.34832763671875},{x:1.23419189453125,y:2.340179443359375},{x:1.2154541015625,y:2.315032958984375},{x:1.19891357421875,y:2.286956787109375},{x:1.1893310546875,y:2.2666015625},{x:1.181915283203125,y:2.240264892578125},{x:1.180084228515625,y:2.21734619140625},{x:1.183624267578125,y:2.194580078125},{x:1.192352294921875,y:2.168701171875},{x:1.25537109375,y:2.04620361328125},{x:1.265777587890625,y:2.075439453125}],[{x:1.222564697265625,y:2.195770263671875},{x:1.21820068359375,y:2.20867919921875},{x:1.216461181640625,y:2.220062255859375},{x:1.217376708984375,y:2.231536865234375},{x:1.221099853515625,y:2.2447509765625},{x:1.234039306640625,y:2.268768310546875},{x:1.243408203125,y:2.281341552734375},{x:1.25152587890625,y:2.287139892578125},{x:1.256378173828125,y:2.286041259765625},{x:1.261474609375,y:2.282318115234375},{x:1.271453857421875,y:2.26983642578125},{x:1.284454345703125,y:2.243804931640625},{x:1.28753662109375,y:2.2274169921875},{x:1.287078857421875,y:2.212890625},{x:1.28387451171875,y:2.19964599609375},{x:1.2786865234375,y:2.187164306640625},{x:1.26556396484375,y:2.162445068359375},{x:1.2540283203125,y:2.134521484375},{x:1.222564697265625,y:2.195770263671875}],[{x:.12310791015625,y:1.4599609375},{x:.14263916015625,y:1.46990966796875},{x:.15936279296875,y:1.484100341796875},{x:.17218017578125,y:1.500518798828125},{x:.18011474609375,y:1.51727294921875},{x:.182037353515625,y:1.5323486328125},{x:.180419921875,y:1.538665771484375},{x:.17694091796875,y:1.543792724609375},{x:.17138671875,y:1.54754638671875},{x:.163726806640625,y:1.54962158203125},{x:.155426025390625,y:1.549072265625},{x:.149444580078125,y:1.545379638671875},{x:.1409912109375,y:1.532135009765625},{x:.1314697265625,y:1.516815185546875},{x:.124176025390625,y:1.51055908203125},{x:.114013671875,y:1.50640869140625},{x:.100555419921875,y:1.507080078125},{x:.088836669921875,y:1.509613037109375},{x:.078826904296875,y:1.513824462890625},{x:.0704345703125,y:1.519500732421875},{x:.05828857421875,y:1.53466796875},{x:.051971435546875,y:1.553619384765625},{x:.051025390625,y:1.574920654296875},{x:.054962158203125,y:1.597137451171875},{x:.0633544921875,y:1.618804931640625},{x:.07568359375,y:1.63848876953125},{x:.09918212890625,y:1.66314697265625},{x:.125244140625,y:1.68096923828125},{x:.153594970703125,y:1.692657470703125},{x:.183837890625,y:1.698822021484375},{x:.21563720703125,y:1.7001953125},{x:.24871826171875,y:1.6973876953125},{x:.28265380859375,y:1.69110107421875},{x:.317169189453125,y:1.6820068359375},{x:.386505126953125,y:1.657928466796875},{x:.453948974609375,y:1.63055419921875},{x:.516845703125,y:1.605194091796875},{x:.572479248046875,y:1.587127685546875},{x:.612762451171875,y:1.57861328125},{x:.654052734375,y:1.572723388671875},{x:.696075439453125,y:1.5694580078125},{x:.738555908203125,y:1.56890869140625},{x:.7811279296875,y:1.571044921875},{x:.823577880859375,y:1.575958251953125},{x:.865570068359375,y:1.583648681640625},{x:.9068603515625,y:1.594146728515625},{x:.947113037109375,y:1.607513427734375},{x:.98602294921875,y:1.623809814453125},{x:1.023345947265625,y:1.64300537109375},{x:1.05877685546875,y:1.6651611328125},{x:1.092010498046875,y:1.690338134765625},{x:1.122772216796875,y:1.718536376953125},{x:1.1507568359375,y:1.74981689453125},{x:1.175689697265625,y:1.784210205078125},{x:1.18963623046875,y:1.80767822265625},{x:1.2012939453125,y:1.831390380859375},{x:1.210723876953125,y:1.855224609375},{x:1.217987060546875,y:1.87908935546875},{x:1.226287841796875,y:1.926666259765625},{x:1.226806640625,y:1.973419189453125},{x:1.220062255859375,y:2.01861572265625},{x:1.20660400390625,y:2.06158447265625},{x:1.187042236328125,y:2.10162353515625},{x:1.16192626953125,y:2.1380615234375},{x:1.13177490234375,y:2.170166015625},{x:1.09716796875,y:2.197296142578125},{x:1.058685302734375,y:2.21868896484375},{x:1.016845703125,y:2.23370361328125},{x:.97222900390625,y:2.24163818359375},{x:.949066162109375,y:2.242706298828125},{x:.9254150390625,y:2.24176025390625},{x:.901336669921875,y:2.238677978515625},{x:.876953125,y:2.2333984375},{x:.852264404296875,y:2.225830078125},{x:.827362060546875,y:2.21588134765625},{x:.7957763671875,y:2.199127197265625},{x:.764617919921875,y:2.17840576171875},{x:.73388671875,y:2.154205322265625},{x:.70355224609375,y:2.12713623046875},{x:.6439208984375,y:2.067138671875},{x:.585540771484375,y:2.00372314453125},{x:.5281982421875,y:1.942230224609375},{x:.4716796875,y:1.887939453125},{x:.44366455078125,y:1.865142822265625},{x:.415771484375,y:1.846160888671875},{x:.387969970703125,y:1.831634521484375},{x:.36029052734375,y:1.822235107421875},{x:.328369140625,y:1.817779541015625},{x:.297027587890625,y:1.819366455078125},{x:.26763916015625,y:1.826873779296875},{x:.241546630859375,y:1.840118408203125},{x:.22015380859375,y:1.858856201171875},{x:.211639404296875,y:1.8702392578125},{x:.204803466796875,y:1.8829345703125},{x:.199859619140625,y:1.896942138671875},{x:.196929931640625,y:1.912200927734375},{x:.19622802734375,y:1.928680419921875},{x:.1978759765625,y:1.9464111328125},{x:.201812744140625,y:1.961090087890625},{x:.2083740234375,y:1.97418212890625},{x:.217193603515625,y:1.985595703125},{x:.227813720703125,y:1.995269775390625},{x:.23980712890625,y:2.00311279296875},{x:.252777099609375,y:2.009002685546875},{x:.266265869140625,y:2.01287841796875},{x:.2799072265625,y:2.0146484375},{x:.293243408203125,y:2.01422119140625},{x:.30584716796875,y:2.011474609375},{x:.31732177734375,y:2.006378173828125},{x:.32720947265625,y:1.998809814453125},{x:.33514404296875,y:1.988677978515625},{x:.34063720703125,y:1.97589111328125},{x:.34332275390625,y:1.96038818359375},{x:.3427734375,y:1.9420166015625},{x:.3370361328125,y:1.9337158203125},{x:.329010009765625,y:1.92950439453125},{x:.3194580078125,y:1.92816162109375},{x:.3092041015625,y:1.9285888671875},{x:.289703369140625,y:1.929962158203125},{x:.282012939453125,y:1.928558349609375},{x:.2767333984375,y:1.924224853515625},{x:.27252197265625,y:1.91522216796875},{x:.271148681640625,y:1.907257080078125},{x:.2723388671875,y:1.90032958984375},{x:.275787353515625,y:1.89447021484375},{x:.288177490234375,y:1.885894775390625},{x:.305877685546875,y:1.881622314453125},{x:.326416015625,y:1.881805419921875},{x:.34735107421875,y:1.886474609375},{x:.366180419921875,y:1.895751953125},{x:.3804931640625,y:1.90972900390625},{x:.387420654296875,y:1.921905517578125},{x:.3919677734375,y:1.9344482421875},{x:.394287109375,y:1.947235107421875},{x:.394561767578125,y:1.960052490234375},{x:.389373779296875,y:1.9853515625},{x:.377655029296875,y:2.009002685546875},{x:.36053466796875,y:2.02978515625},{x:.339202880859375,y:2.046417236328125},{x:.314788818359375,y:2.05767822265625},{x:.28851318359375,y:2.062225341796875},{x:.2591552734375,y:2.06060791015625},{x:.23321533203125,y:2.05419921875},{x:.210662841796875,y:2.043548583984375},{x:.19158935546875,y:2.029296875},{x:.175994873046875,y:2.011993408203125},{x:.163909912109375,y:1.992218017578125},{x:.1553955078125,y:1.9705810546875},{x:.15045166015625,y:1.9476318359375},{x:.149169921875,y:1.9239501953125},{x:.15155029296875,y:1.900115966796875},{x:.157623291015625,y:1.876739501953125},{x:.16741943359375,y:1.854400634765625},{x:.180999755859375,y:1.833648681640625},{x:.198394775390625,y:1.8150634765625},{x:.219635009765625,y:1.799285888671875},{x:.2447509765625,y:1.786834716796875},{x:.2724609375,y:1.777801513671875},{x:.299224853515625,y:1.77264404296875},{x:.32501220703125,y:1.77105712890625},{x:.34991455078125,y:1.772735595703125},{x:.37396240234375,y:1.777435302734375},{x:.397216796875,y:1.78485107421875},{x:.419677734375,y:1.794677734375},{x:.441436767578125,y:1.806671142578125},{x:.482940673828125,y:1.8359375},{x:.52203369140625,y:1.870361328125},{x:.55908203125,y:1.90765380859375},{x:.594451904296875,y:1.945587158203125},{x:.638519287109375,y:1.99774169921875},{x:.661224365234375,y:2.023223876953125},{x:.686309814453125,y:2.046295166015625},{x:.681671142578125,y:2.00628662109375},{x:.681884765625,y:1.96697998046875},{x:.687347412109375,y:1.929168701171875},{x:.698333740234375,y:1.8935546875},{x:.7152099609375,y:1.86090087890625},{x:.73828125,y:1.8319091796875},{x:.752227783203125,y:1.81903076171875},{x:.76788330078125,y:1.80731201171875},{x:.78521728515625,y:1.796905517578125},{x:.804351806640625,y:1.787872314453125},{x:.827911376953125,y:1.77960205078125},{x:.851898193359375,y:1.774169921875},{x:.8759765625,y:1.771453857421875},{x:.89984130859375,y:1.77142333984375},{x:.923187255859375,y:1.77398681640625},{x:.94573974609375,y:1.779083251953125},{x:.967193603515625,y:1.786651611328125},{x:.98724365234375,y:1.796600341796875},{x:1.00555419921875,y:1.808868408203125},{x:1.0218505859375,y:1.823394775390625},{x:1.035858154296875,y:1.840087890625},{x:1.0472412109375,y:1.858917236328125},{x:1.055694580078125,y:1.8797607421875},{x:1.060943603515625,y:1.902587890625},{x:1.06268310546875,y:1.927337646484375},{x:1.060577392578125,y:1.95391845703125},{x:1.055206298828125,y:1.97625732421875},{x:1.046478271484375,y:1.99591064453125},{x:1.034912109375,y:2.0128173828125},{x:1.02099609375,y:2.027008056640625},{x:1.0052490234375,y:2.038421630859375},{x:.9881591796875,y:2.04705810546875},{x:.970245361328125,y:2.052947998046875},{x:.95196533203125,y:2.055999755859375},{x:.933837890625,y:2.0562744140625},{x:.916351318359375,y:2.053680419921875},{x:.9000244140625,y:2.04827880859375},{x:.885345458984375,y:2.0400390625},{x:.872833251953125,y:2.028900146484375},{x:.862945556640625,y:2.014892578125},{x:.856201171875,y:1.99798583984375},{x:.85308837890625,y:1.978179931640625},{x:.853546142578125,y:1.967864990234375},{x:.855865478515625,y:1.958343505859375},{x:.865081787109375,y:1.941986083984375},{x:.878692626953125,y:1.9295654296875},{x:.8946533203125,y:1.92156982421875},{x:.910858154296875,y:1.918426513671875},{x:.925262451171875,y:1.920654296875},{x:.93115234375,y:1.9239501953125},{x:.935821533203125,y:1.9287109375},{x:.93902587890625,y:1.935089111328125},{x:.94049072265625,y:1.943084716796875},{x:.939727783203125,y:1.950286865234375},{x:.936798095703125,y:1.95550537109375},{x:.92657470703125,y:1.961883544921875},{x:.9141845703125,y:1.96624755859375},{x:.9039306640625,y:1.97265625},{x:.90032958984375,y:1.97930908203125},{x:.90008544921875,y:1.986846923828125},{x:.9029541015625,y:1.994476318359375},{x:.908782958984375,y:2.001495361328125},{x:.917388916015625,y:2.007049560546875},{x:.928558349609375,y:2.0103759765625},{x:.942108154296875,y:2.0107421875},{x:.9578857421875,y:2.007354736328125},{x:.976959228515625,y:1.99755859375},{x:.991912841796875,y:1.9830322265625},{x:1.002716064453125,y:1.9649658203125},{x:1.009368896484375,y:1.944549560546875},{x:1.011962890625,y:1.923065185546875},{x:1.01043701171875,y:1.90167236328125},{x:1.00482177734375,y:1.881622314453125},{x:.99517822265625,y:1.864105224609375},{x:.981109619140625,y:1.848052978515625},{x:.965362548828125,y:1.835296630859375},{x:.9482421875,y:1.82574462890625},{x:.9300537109375,y:1.8192138671875},{x:.911102294921875,y:1.81561279296875},{x:.89166259765625,y:1.814788818359375},{x:.872039794921875,y:1.81658935546875},{x:.852569580078125,y:1.8209228515625},{x:.833526611328125,y:1.82757568359375},{x:.815185546875,y:1.83648681640625},{x:.79791259765625,y:1.847503662109375},{x:.781951904296875,y:1.860443115234375},{x:.76763916015625,y:1.875213623046875},{x:.7552490234375,y:1.891693115234375},{x:.745086669921875,y:1.909698486328125},{x:.737457275390625,y:1.929107666015625},{x:.729034423828125,y:1.96673583984375},{x:.727325439453125,y:2.002655029296875},{x:.731719970703125,y:2.036529541015625},{x:.74163818359375,y:2.068084716796875},{x:.756591796875,y:2.096923828125},{x:.775909423828125,y:2.122772216796875},{x:.799102783203125,y:2.145263671875},{x:.825592041015625,y:2.164093017578125},{x:.854766845703125,y:2.178924560546875},{x:.886077880859375,y:2.189453125},{x:.9189453125,y:2.1953125},{x:.952850341796875,y:2.196197509765625},{x:.987152099609375,y:2.1917724609375},{x:1.0213623046875,y:2.181732177734375},{x:1.054840087890625,y:2.16571044921875},{x:1.0870361328125,y:2.14337158203125},{x:1.116943359375,y:2.11566162109375},{x:1.140869140625,y:2.086395263671875},{x:1.15911865234375,y:2.05584716796875},{x:1.171966552734375,y:2.02435302734375},{x:1.179656982421875,y:1.9921875},{x:1.1824951171875,y:1.95965576171875},{x:1.180694580078125,y:1.92706298828125},{x:1.174591064453125,y:1.89471435546875},{x:1.1644287109375,y:1.862884521484375},{x:1.150482177734375,y:1.831878662109375},{x:1.13299560546875,y:1.802001953125},{x:1.11224365234375,y:1.773590087890625},{x:1.088531494140625,y:1.74688720703125},{x:1.06207275390625,y:1.722198486328125},{x:1.033203125,y:1.699859619140625},{x:1.002166748046875,y:1.680145263671875},{x:.96044921875,y:1.659698486328125},{x:.91070556640625,y:1.6412353515625},{x:.855621337890625,y:1.626220703125},{x:.7979736328125,y:1.616058349609375},{x:.740478515625,y:1.612213134765625},{x:.712646484375,y:1.61309814453125},{x:.685882568359375,y:1.6160888671875},{x:.660552978515625,y:1.621368408203125},{x:.636962890625,y:1.629119873046875},{x:.615478515625,y:1.6395263671875},{x:.596435546875,y:1.65277099609375},{x:.58087158203125,y:1.669769287109375},{x:.567901611328125,y:1.69281005859375},{x:.564697265625,y:1.70465087890625},{x:.564849853515625,y:1.7156982421875},{x:.56927490234375,y:1.725128173828125},{x:.57891845703125,y:1.73223876953125},{x:.587432861328125,y:1.7347412109375},{x:.596954345703125,y:1.7352294921875},{x:.617828369140625,y:1.730804443359375},{x:.639190673828125,y:1.72039794921875},{x:.6588134765625,y:1.705474853515625},{x:.6688232421875,y:1.69366455078125},{x:.676971435546875,y:1.68109130859375},{x:.684417724609375,y:1.670684814453125},{x:.692352294921875,y:1.665374755859375},{x:.706451416015625,y:1.66558837890625},{x:.711212158203125,y:1.66827392578125},{x:.71453857421875,y:1.67236328125},{x:.717376708984375,y:1.68414306640625},{x:.71563720703125,y:1.69927978515625},{x:.71002197265625,y:1.7161865234375},{x:.701263427734375,y:1.7332763671875},{x:.690032958984375,y:1.74896240234375},{x:.67706298828125,y:1.761627197265625},{x:.658599853515625,y:1.773956298828125},{x:.63995361328125,y:1.782684326171875},{x:.6214599609375,y:1.78802490234375},{x:.603424072265625,y:1.790130615234375},{x:.586181640625,y:1.78924560546875},{x:.570098876953125,y:1.78558349609375},{x:.555450439453125,y:1.779296875},{x:.5426025390625,y:1.770660400390625},{x:.531890869140625,y:1.75982666015625},{x:.52362060546875,y:1.747039794921875},{x:.51812744140625,y:1.73248291015625},{x:.5157470703125,y:1.716339111328125},{x:.516815185546875,y:1.6988525390625},{x:.52166748046875,y:1.680206298828125},{x:.5306396484375,y:1.660614013671875},{x:.544036865234375,y:1.6402587890625},{x:.4903564453125,y:1.66094970703125},{x:.4368896484375,y:1.68389892578125},{x:.38336181640625,y:1.706512451171875},{x:.329498291015625,y:1.7261962890625},{x:.275054931640625,y:1.740264892578125},{x:.247528076171875,y:1.744415283203125},{x:.219757080078125,y:1.746185302734375},{x:.19171142578125,y:1.7452392578125},{x:.163360595703125,y:1.74127197265625},{x:.134674072265625,y:1.733978271484375},{x:.1055908203125,y:1.72296142578125},{x:.08001708984375,y:1.70953369140625},{x:.05755615234375,y:1.69329833984375},{x:.038482666015625,y:1.674468994140625},{x:.022979736328125,y:1.6531982421875},{x:.011260986328125,y:1.62969970703125},{x:.00360107421875,y:1.604156494140625},{x:.000152587890625,y:1.576751708984375},{x:.001220703125,y:1.54766845703125},{x:.005523681640625,y:1.528778076171875},{x:.01361083984375,y:1.511383056640625},{x:.024749755859375,y:1.495819091796875},{x:.038238525390625,y:1.482391357421875},{x:.05340576171875,y:1.471405029296875},{x:.069549560546875,y:1.463165283203125},{x:.085906982421875,y:1.457977294921875},{x:.101837158203125,y:1.456207275390625},{x:.12310791015625,y:1.4599609375}],[{x:2.418182373046875,y:1.457794189453125},{x:2.434539794921875,y:1.46295166015625},{x:2.450653076171875,y:1.47119140625},{x:2.4658203125,y:1.482177734375},{x:2.47930908203125,y:1.495635986328125},{x:2.490447998046875,y:1.51116943359375},{x:2.49853515625,y:1.528564453125},{x:2.50286865234375,y:1.547454833984375},{x:2.503936767578125,y:1.5765380859375},{x:2.500518798828125,y:1.603973388671875},{x:2.492828369140625,y:1.6295166015625},{x:2.481109619140625,y:1.652984619140625},{x:2.465606689453125,y:1.67425537109375},{x:2.446533203125,y:1.693084716796875},{x:2.424072265625,y:1.709320068359375},{x:2.39849853515625,y:1.722747802734375},{x:2.369415283203125,y:1.733978271484375},{x:2.340728759765625,y:1.74127197265625},{x:2.3123779296875,y:1.7452392578125},{x:2.284332275390625,y:1.746185302734375},{x:2.256561279296875,y:1.744415283203125},{x:2.229034423828125,y:1.740264892578125},{x:2.174591064453125,y:1.7261962890625},{x:2.120758056640625,y:1.706512451171875},{x:2.067230224609375,y:1.68389892578125},{x:2.01373291015625,y:1.66094970703125},{x:1.9600830078125,y:1.6402587890625},{x:1.97344970703125,y:1.660614013671875},{x:1.982421875,y:1.680206298828125},{x:1.987274169921875,y:1.6988525390625},{x:1.98834228515625,y:1.716339111328125},{x:1.9859619140625,y:1.73248291015625},{x:1.98046875,y:1.747039794921875},{x:1.972198486328125,y:1.75982666015625},{x:1.96148681640625,y:1.770660400390625},{x:1.948638916015625,y:1.779296875},{x:1.933990478515625,y:1.78558349609375},{x:1.91790771484375,y:1.78924560546875},{x:1.900665283203125,y:1.790130615234375},{x:1.88262939453125,y:1.78802490234375},{x:1.8641357421875,y:1.782684326171875},{x:1.845489501953125,y:1.773956298828125},{x:1.827056884765625,y:1.761627197265625},{x:1.8140869140625,y:1.74896240234375},{x:1.802886962890625,y:1.7332763671875},{x:1.79412841796875,y:1.7161865234375},{x:1.788543701171875,y:1.69927978515625},{x:1.78680419921875,y:1.68414306640625},{x:1.78961181640625,y:1.67236328125},{x:1.792938232421875,y:1.66827392578125},{x:1.797698974609375,y:1.66558837890625},{x:1.811737060546875,y:1.665374755859375},{x:1.8197021484375,y:1.670654296875},{x:1.8271484375,y:1.6810302734375},{x:1.83526611328125,y:1.693603515625},{x:1.84527587890625,y:1.705474853515625},{x:1.864898681640625,y:1.720367431640625},{x:1.88629150390625,y:1.73077392578125},{x:1.907135009765625,y:1.7352294921875},{x:1.916656494140625,y:1.7347412109375},{x:1.9251708984375,y:1.73223876953125},{x:1.934783935546875,y:1.72509765625},{x:1.939208984375,y:1.71563720703125},{x:1.9393310546875,y:1.704620361328125},{x:1.93609619140625,y:1.692779541015625},{x:1.923187255859375,y:1.669769287109375},{x:1.907684326171875,y:1.65277099609375},{x:1.88861083984375,y:1.6395263671875},{x:1.86712646484375,y:1.629119873046875},{x:1.843536376953125,y:1.621368408203125},{x:1.818206787109375,y:1.6160888671875},{x:1.79144287109375,y:1.61309814453125},{x:1.76361083984375,y:1.612213134765625},{x:1.706146240234375,y:1.616058349609375},{x:1.64849853515625,y:1.626220703125},{x:1.593414306640625,y:1.6412353515625},{x:1.54364013671875,y:1.659698486328125},{x:1.501953125,y:1.680145263671875},{x:1.470916748046875,y:1.699859619140625},{x:1.442047119140625,y:1.722198486328125},{x:1.415618896484375,y:1.74688720703125},{x:1.39190673828125,y:1.773590087890625},{x:1.37115478515625,y:1.802001953125},{x:1.353668212890625,y:1.831878662109375},{x:1.3397216796875,y:1.862884521484375},{x:1.32952880859375,y:1.89471435546875},{x:1.32342529296875,y:1.92706298828125},{x:1.3216552734375,y:1.95965576171875},{x:1.324462890625,y:1.9921875},{x:1.3321533203125,y:2.02435302734375},{x:1.345001220703125,y:2.05584716796875},{x:1.363250732421875,y:2.086395263671875},{x:1.387176513671875,y:2.11566162109375},{x:1.41705322265625,y:2.14337158203125},{x:1.44927978515625,y:2.16571044921875},{x:1.4827880859375,y:2.181732177734375},{x:1.5169677734375,y:2.1917724609375},{x:1.551300048828125,y:2.196197509765625},{x:1.585205078125,y:2.1953125},{x:1.618072509765625,y:2.189453125},{x:1.649383544921875,y:2.178924560546875},{x:1.678558349609375,y:2.164093017578125},{x:1.70501708984375,y:2.145263671875},{x:1.72821044921875,y:2.122772216796875},{x:1.747528076171875,y:2.096923828125},{x:1.762451171875,y:2.068084716796875},{x:1.77239990234375,y:2.036529541015625},{x:1.77679443359375,y:2.002655029296875},{x:1.775054931640625,y:1.96673583984375},{x:1.766632080078125,y:1.929107666015625},{x:1.759002685546875,y:1.909698486328125},{x:1.748870849609375,y:1.891693115234375},{x:1.736480712890625,y:1.875213623046875},{x:1.722137451171875,y:1.860443115234375},{x:1.7061767578125,y:1.847503662109375},{x:1.68890380859375,y:1.83648681640625},{x:1.67059326171875,y:1.82757568359375},{x:1.651519775390625,y:1.8209228515625},{x:1.632049560546875,y:1.81658935546875},{x:1.6124267578125,y:1.814788818359375},{x:1.592987060546875,y:1.81561279296875},{x:1.57403564453125,y:1.8192138671875},{x:1.55584716796875,y:1.82574462890625},{x:1.538726806640625,y:1.835296630859375},{x:1.522979736328125,y:1.848052978515625},{x:1.5089111328125,y:1.864105224609375},{x:1.499267578125,y:1.881622314453125},{x:1.493682861328125,y:1.90167236328125},{x:1.4921875,y:1.923065185546875},{x:1.4947509765625,y:1.944549560546875},{x:1.501434326171875,y:1.9649658203125},{x:1.512237548828125,y:1.9830322265625},{x:1.52716064453125,y:1.99755859375},{x:1.54620361328125,y:2.007354736328125},{x:1.561981201171875,y:2.0107421875},{x:1.575531005859375,y:2.0103759765625},{x:1.586669921875,y:2.007049560546875},{x:1.59527587890625,y:2.001495361328125},{x:1.601104736328125,y:1.994476318359375},{x:1.603973388671875,y:1.986846923828125},{x:1.603729248046875,y:1.97930908203125},{x:1.60015869140625,y:1.97265625},{x:1.58990478515625,y:1.96624755859375},{x:1.5775146484375,y:1.961883544921875},{x:1.567291259765625,y:1.95550537109375},{x:1.564361572265625,y:1.950286865234375},{x:1.5635986328125,y:1.943084716796875},{x:1.5650634765625,y:1.935089111328125},{x:1.568267822265625,y:1.9287109375},{x:1.57293701171875,y:1.9239501953125},{x:1.578826904296875,y:1.920654296875},{x:1.59326171875,y:1.918426513671875},{x:1.609466552734375,y:1.92156982421875},{x:1.625396728515625,y:1.9295654296875},{x:1.639007568359375,y:1.941986083984375},{x:1.648223876953125,y:1.958343505859375},{x:1.650543212890625,y:1.967864990234375},{x:1.6510009765625,y:1.978179931640625},{x:1.647918701171875,y:1.99798583984375},{x:1.64117431640625,y:2.014892578125},{x:1.631256103515625,y:2.028900146484375},{x:1.618743896484375,y:2.0400390625},{x:1.604034423828125,y:2.048309326171875},{x:1.58770751953125,y:2.0537109375},{x:1.570220947265625,y:2.056304931640625},{x:1.552093505859375,y:2.0560302734375},{x:1.5338134765625,y:2.052978515625},{x:1.515869140625,y:2.047119140625},{x:1.498779296875,y:2.0384521484375},{x:1.483062744140625,y:2.02703857421875},{x:1.469146728515625,y:2.01287841796875},{x:1.45758056640625,y:1.995941162109375},{x:1.448883056640625,y:1.976287841796875},{x:1.443511962890625,y:1.95391845703125},{x:1.44140625,y:1.927337646484375},{x:1.443145751953125,y:1.902587890625},{x:1.448394775390625,y:1.8797607421875},{x:1.45684814453125,y:1.85888671875},{x:1.468231201171875,y:1.840057373046875},{x:1.48223876953125,y:1.8233642578125},{x:1.49853515625,y:1.808837890625},{x:1.516876220703125,y:1.796539306640625},{x:1.536895751953125,y:1.786590576171875},{x:1.558349609375,y:1.779022216796875},{x:1.580902099609375,y:1.77392578125},{x:1.604248046875,y:1.7713623046875},{x:1.62811279296875,y:1.77142333984375},{x:1.652191162109375,y:1.774139404296875},{x:1.676177978515625,y:1.77960205078125},{x:1.69976806640625,y:1.787872314453125},{x:1.7188720703125,y:1.796905517578125},{x:1.736236572265625,y:1.807342529296875},{x:1.75189208984375,y:1.819061279296875},{x:1.765869140625,y:1.831939697265625},{x:1.7889404296875,y:1.8609619140625},{x:1.8057861328125,y:1.89361572265625},{x:1.8167724609375,y:1.92919921875},{x:1.82220458984375,y:1.967010498046875},{x:1.82244873046875,y:2.00628662109375},{x:1.817779541015625,y:2.046295166015625},{x:1.8428955078125,y:2.023223876953125},{x:1.8656005859375,y:1.99774169921875},{x:1.90966796875,y:1.945587158203125},{x:1.94500732421875,y:1.90765380859375},{x:1.9820556640625,y:1.870361328125},{x:2.02117919921875,y:1.8359375},{x:2.062652587890625,y:1.806671142578125},{x:2.08441162109375,y:1.794677734375},{x:2.10687255859375,y:1.78485107421875},{x:2.130126953125,y:1.777435302734375},{x:2.1541748046875,y:1.772735595703125},{x:2.1790771484375,y:1.77105712890625},{x:2.20489501953125,y:1.77264404296875},{x:2.23162841796875,y:1.777801513671875},{x:2.25933837890625,y:1.786834716796875},{x:2.28448486328125,y:1.799285888671875},{x:2.30572509765625,y:1.8150634765625},{x:2.3231201171875,y:1.833648681640625},{x:2.33673095703125,y:1.854400634765625},{x:2.346527099609375,y:1.876739501953125},{x:2.35260009765625,y:1.900115966796875},{x:2.35498046875,y:1.9239501953125},{x:2.353668212890625,y:1.9476318359375},{x:2.3487548828125,y:1.9705810546875},{x:2.3402099609375,y:1.992218017578125},{x:2.328125,y:2.011993408203125},{x:2.312530517578125,y:2.029296875},{x:2.293426513671875,y:2.043548583984375},{x:2.2708740234375,y:2.05419921875},{x:2.24493408203125,y:2.06060791015625},{x:2.215576171875,y:2.062225341796875},{x:2.189300537109375,y:2.05767822265625},{x:2.1649169921875,y:2.046417236328125},{x:2.1435546875,y:2.02978515625},{x:2.126434326171875,y:2.009002685546875},{x:2.114715576171875,y:1.9853515625},{x:2.10955810546875,y:1.960052490234375},{x:2.10980224609375,y:1.947235107421875},{x:2.11212158203125,y:1.9344482421875},{x:2.116668701171875,y:1.921905517578125},{x:2.12359619140625,y:1.90972900390625},{x:2.137908935546875,y:1.895782470703125},{x:2.156768798828125,y:1.88653564453125},{x:2.17767333984375,y:1.881866455078125},{x:2.198211669921875,y:1.8817138671875},{x:2.215911865234375,y:1.885955810546875},{x:2.22833251953125,y:1.89453125},{x:2.23175048828125,y:1.900390625},{x:2.232940673828125,y:1.907318115234375},{x:2.231597900390625,y:1.915252685546875},{x:2.22735595703125,y:1.924224853515625},{x:2.22210693359375,y:1.9285888671875},{x:2.214385986328125,y:1.930023193359375},{x:2.194854736328125,y:1.928680419921875},{x:2.184600830078125,y:1.928253173828125},{x:2.175048828125,y:1.9295654296875},{x:2.167022705078125,y:1.933746337890625},{x:2.16131591796875,y:1.9420166015625},{x:2.160736083984375,y:1.96038818359375},{x:2.163421630859375,y:1.97589111328125},{x:2.168914794921875,y:1.988677978515625},{x:2.176849365234375,y:1.998809814453125},{x:2.186737060546875,y:2.006378173828125},{x:2.198211669921875,y:2.011474609375},{x:2.2108154296875,y:2.01422119140625},{x:2.224151611328125,y:2.0146484375},{x:2.23779296875,y:2.01287841796875},{x:2.251312255859375,y:2.009002685546875},{x:2.2642822265625,y:2.00311279296875},{x:2.276275634765625,y:1.995269775390625},{x:2.286895751953125,y:1.985595703125},{x:2.29571533203125,y:1.97418212890625},{x:2.302276611328125,y:1.961090087890625},{x:2.30621337890625,y:1.9464111328125},{x:2.307891845703125,y:1.928680419921875},{x:2.307159423828125,y:1.91217041015625},{x:2.304229736328125,y:1.89691162109375},{x:2.299285888671875,y:1.8829345703125},{x:2.292449951171875,y:1.870208740234375},{x:2.283966064453125,y:1.85882568359375},{x:2.262542724609375,y:1.840057373046875},{x:2.2364501953125,y:1.82684326171875},{x:2.207061767578125,y:1.8193359375},{x:2.17572021484375,y:1.8177490234375},{x:2.143829345703125,y:1.822235107421875},{x:2.116119384765625,y:1.831634521484375},{x:2.08831787109375,y:1.846160888671875},{x:2.060455322265625,y:1.865142822265625},{x:2.032440185546875,y:1.887939453125},{x:1.975921630859375,y:1.942230224609375},{x:1.918548583984375,y:2.00372314453125},{x:1.86016845703125,y:2.067138671875},{x:1.800537109375,y:2.12713623046875},{x:1.77020263671875,y:2.154205322265625},{x:1.739471435546875,y:2.17840576171875},{x:1.70831298828125,y:2.199127197265625},{x:1.676727294921875,y:2.215667724609375},{x:1.65185546875,y:2.22564697265625},{x:1.627166748046875,y:2.23321533203125},{x:1.602752685546875,y:2.238494873046875},{x:1.57867431640625,y:2.2415771484375},{x:1.555023193359375,y:2.242523193359375},{x:1.5318603515625,y:2.241455078125},{x:1.48724365234375,y:2.233551025390625},{x:1.4454345703125,y:2.218536376953125},{x:1.40692138671875,y:2.197113037109375},{x:1.372314453125,y:2.170013427734375},{x:1.342193603515625,y:2.13787841796875},{x:1.317047119140625,y:2.1014404296875},{x:1.2974853515625,y:2.0614013671875},{x:1.2840576171875,y:2.0184326171875},{x:1.277313232421875,y:1.97320556640625},{x:1.277801513671875,y:1.926483154296875},{x:1.2861328125,y:1.87890625},{x:1.293365478515625,y:1.855010986328125},{x:1.30279541015625,y:1.8311767578125},{x:1.314453125,y:1.8074951171875},{x:1.328399658203125,y:1.78399658203125},{x:1.353363037109375,y:1.7496337890625},{x:1.38134765625,y:1.71832275390625},{x:1.412109375,y:1.69012451171875},{x:1.44537353515625,y:1.664947509765625},{x:1.480804443359375,y:1.642791748046875},{x:1.51812744140625,y:1.62359619140625},{x:1.557037353515625,y:1.607330322265625},{x:1.5972900390625,y:1.59393310546875},{x:1.6385498046875,y:1.58343505859375},{x:1.6805419921875,y:1.57574462890625},{x:1.722991943359375,y:1.570831298828125},{x:1.76556396484375,y:1.568695068359375},{x:1.808013916015625,y:1.56927490234375},{x:1.85003662109375,y:1.572509765625},{x:1.891357421875,y:1.57843017578125},{x:1.931640625,y:1.5869140625},{x:1.987213134765625,y:1.60498046875},{x:2.050079345703125,y:1.63037109375},{x:2.1175537109375,y:1.657745361328125},{x:2.1868896484375,y:1.681793212890625},{x:2.221405029296875,y:1.690887451171875},{x:2.25537109375,y:1.697174072265625},{x:2.288421630859375,y:1.699981689453125},{x:2.32025146484375,y:1.6986083984375},{x:2.350494384765625,y:1.69244384765625},{x:2.37884521484375,y:1.680755615234375},{x:2.4049072265625,y:1.662933349609375},{x:2.42840576171875,y:1.638275146484375},{x:2.440765380859375,y:1.61859130859375},{x:2.449127197265625,y:1.596954345703125},{x:2.45306396484375,y:1.574737548828125},{x:2.452117919921875,y:1.553436279296875},{x:2.44580078125,y:1.534515380859375},{x:2.433685302734375,y:1.51934814453125},{x:2.42529296875,y:1.513641357421875},{x:2.415252685546875,y:1.509429931640625},{x:2.403533935546875,y:1.50689697265625},{x:2.39007568359375,y:1.506195068359375},{x:2.37994384765625,y:1.510345458984375},{x:2.372650146484375,y:1.5166015625},{x:2.3631591796875,y:1.53192138671875},{x:2.354705810546875,y:1.545166015625},{x:2.34869384765625,y:1.548858642578125},{x:2.34039306640625,y:1.5494384765625},{x:2.33270263671875,y:1.547332763671875},{x:2.327178955078125,y:1.5435791015625},{x:2.32366943359375,y:1.5384521484375},{x:2.322052001953125,y:1.532135009765625},{x:2.323974609375,y:1.517059326171875},{x:2.3319091796875,y:1.500335693359375},{x:2.344757080078125,y:1.48388671875},{x:2.3614501953125,y:1.469696044921875},{x:2.3809814453125,y:1.459747314453125},{x:2.402252197265625,y:1.45599365234375},{x:2.418182373046875,y:1.457794189453125}],[{x:1.285003662109375,y:1.5833740234375},{x:1.304840087890625,y:1.593475341796875},{x:1.312896728515625,y:1.600616455078125},{x:1.3193359375,y:1.609222412109375},{x:1.3245849609375,y:1.6201171875},{x:1.327392578125,y:1.63079833984375},{x:1.328033447265625,y:1.6412353515625},{x:1.32672119140625,y:1.6514892578125},{x:1.3193359375,y:1.671356201171875},{x:1.307373046875,y:1.690460205078125},{x:1.276519775390625,y:1.72265625},{x:1.24871826171875,y:1.754638671875},{x:1.228729248046875,y:1.726898193359375},{x:1.20477294921875,y:1.697418212890625},{x:1.193878173828125,y:1.681976318359375},{x:1.185028076171875,y:1.666046142578125},{x:1.17926025390625,y:1.649658203125},{x:1.177581787109375,y:1.63275146484375},{x:1.17926025390625,y:1.621917724609375},{x:1.18316650390625,y:1.61224365234375},{x:1.18902587890625,y:1.603729248046875},{x:1.19659423828125,y:1.596435546875},{x:1.2156982421875,y:1.585479736328125},{x:1.238250732421875,y:1.57952880859375},{x:1.2620849609375,y:1.57879638671875},{x:1.285003662109375,y:1.5833740234375}],[{x:1.24560546875,y:1.612823486328125},{x:1.234344482421875,y:1.61578369140625},{x:1.22479248046875,y:1.62127685546875},{x:1.21807861328125,y:1.629180908203125},{x:1.21527099609375,y:1.639434814453125},{x:1.21612548828125,y:1.647857666015625},{x:1.218994140625,y:1.65606689453125},{x:1.228851318359375,y:1.671722412109375},{x:1.240814208984375,y:1.686492919921875},{x:1.25079345703125,y:1.70037841796875},{x:1.2647705078125,y:1.684417724609375},{x:1.280181884765625,y:1.66827392578125},{x:1.286163330078125,y:1.658721923828125},{x:1.289825439453125,y:1.6488037109375},{x:1.2901611328125,y:1.63848876953125},{x:1.286102294921875,y:1.62774658203125},{x:1.27886962890625,y:1.619781494140625},{x:1.26898193359375,y:1.61474609375},{x:1.257537841796875,y:1.612457275390625},{x:1.24560546875,y:1.612823486328125}],[{x:.97222900390625,y:.11041259765625},{x:1.016845703125,y:.11834716796875},{x:1.058685302734375,y:.133331298828125},{x:1.09716796875,y:.154754638671875},{x:1.13177490234375,y:.181854248046875},{x:1.16192626953125,y:.2139892578125},{x:1.187042236328125,y:.25042724609375},{x:1.20660400390625,y:.29046630859375},{x:1.220062255859375,y:.333465576171875},{x:1.226806640625,y:.378662109375},{x:1.226287841796875,y:.425384521484375},{x:1.217987060546875,y:.47296142578125},{x:1.210723876953125,y:.496856689453125},{x:1.2012939453125,y:.52069091796875},{x:1.18963623046875,y:.544403076171875},{x:1.175689697265625,y:.56787109375},{x:1.1507568359375,y:.60205078125},{x:1.12274169921875,y:.633331298828125},{x:1.09197998046875,y:.661529541015625},{x:1.058746337890625,y:.68670654296875},{x:1.0233154296875,y:.7088623046875},{x:.985992431640625,y:.72808837890625},{x:.947052001953125,y:.744354248046875},{x:.90679931640625,y:.757720947265625},{x:.86553955078125,y:.76824951171875},{x:.82354736328125,y:.77593994140625},{x:.7811279296875,y:.78082275390625},{x:.738525390625,y:.782958984375},{x:.696075439453125,y:.78240966796875},{x:.654052734375,y:.779144287109375},{x:.612762451171875,y:.77325439453125},{x:.572479248046875,y:.764739990234375},{x:.516876220703125,y:.746673583984375},{x:.454010009765625,y:.7213134765625},{x:.38653564453125,y:.693939208984375},{x:.31719970703125,y:.669891357421875},{x:.282684326171875,y:.6607666015625},{x:.24871826171875,y:.65447998046875},{x:.215667724609375,y:.65167236328125},{x:.183837890625,y:.653045654296875},{x:.153594970703125,y:.65924072265625},{x:.125244140625,y:.6708984375},{x:.09918212890625,y:.688720703125},{x:.07568359375,y:.71337890625},{x:.0633544921875,y:.733062744140625},{x:.054962158203125,y:.754730224609375},{x:.051025390625,y:.77691650390625},{x:.051971435546875,y:.7982177734375},{x:.05828857421875,y:.817169189453125},{x:.0704345703125,y:.832305908203125},{x:.078826904296875,y:.8380126953125},{x:.088836669921875,y:.84222412109375},{x:.100555419921875,y:.84478759765625},{x:.114013671875,y:.845458984375},{x:.1241455078125,y:.84130859375},{x:.131439208984375,y:.835052490234375},{x:.14093017578125,y:.81976318359375},{x:.1494140625,y:.806488037109375},{x:.1553955078125,y:.80279541015625},{x:.163726806640625,y:.80224609375},{x:.17138671875,y:.8043212890625},{x:.17694091796875,y:.808074951171875},{x:.180419921875,y:.813232421875},{x:.182037353515625,y:.81951904296875},{x:.18011474609375,y:.8345947265625},{x:.17218017578125,y:.851348876953125},{x:.15936279296875,y:.8677978515625},{x:.14263916015625,y:.8819580078125},{x:.12310791015625,y:.891937255859375},{x:.101837158203125,y:.89569091796875},{x:.085906982421875,y:.893890380859375},{x:.069549560546875,y:.888702392578125},{x:.053436279296875,y:.880462646484375},{x:.038299560546875,y:.869476318359375},{x:.0247802734375,y:.856048583984375},{x:.013641357421875,y:.840484619140625},{x:.00555419921875,y:.823089599609375},{x:.001220703125,y:.804229736328125},{x:.000152587890625,y:.775115966796875},{x:.00360107421875,y:.747711181640625},{x:.011260986328125,y:.72216796875},{x:.022979736328125,y:.69866943359375},{x:.038482666015625,y:.67742919921875},{x:.05755615234375,y:.6585693359375},{x:.08001708984375,y:.642364501953125},{x:.1055908203125,y:.62890625},{x:.134674072265625,y:.617919921875},{x:.163360595703125,y:.610595703125},{x:.19171142578125,y:.60662841796875},{x:.219757080078125,y:.605682373046875},{x:.247528076171875,y:.607452392578125},{x:.275054931640625,y:.611602783203125},{x:.329498291015625,y:.625701904296875},{x:.38336181640625,y:.645355224609375},{x:.4368896484375,y:.66796875},{x:.4903564453125,y:.69091796875},{x:.544036865234375,y:.71160888671875},{x:.5306396484375,y:.6912841796875},{x:.52166748046875,y:.67169189453125},{x:.516815185546875,y:.653045654296875},{x:.5157470703125,y:.635528564453125},{x:.51812744140625,y:.619415283203125},{x:.52362060546875,y:.604827880859375},{x:.531890869140625,y:.592041015625},{x:.5426025390625,y:.581207275390625},{x:.555450439453125,y:.57257080078125},{x:.570098876953125,y:.566314697265625},{x:.586181640625,y:.5626220703125},{x:.603424072265625,y:.561737060546875},{x:.6214599609375,y:.563873291015625},{x:.63995361328125,y:.569183349609375},{x:.658599853515625,y:.577911376953125},{x:.67706298828125,y:.59027099609375},{x:.69000244140625,y:.602935791015625},{x:.701202392578125,y:.61859130859375},{x:.7099609375,y:.63568115234375},{x:.715576171875,y:.652618408203125},{x:.717315673828125,y:.667724609375},{x:.7144775390625,y:.67950439453125},{x:.711151123046875,y:.683624267578125},{x:.7064208984375,y:.686279296875},{x:.692352294921875,y:.6865234375},{x:.684417724609375,y:.68121337890625},{x:.676971435546875,y:.67083740234375},{x:.6688232421875,y:.65826416015625},{x:.6588134765625,y:.646392822265625},{x:.639190673828125,y:.631500244140625},{x:.617828369140625,y:.62109375},{x:.596954345703125,y:.616668701171875},{x:.587432861328125,y:.61712646484375},{x:.57891845703125,y:.61962890625},{x:.569305419921875,y:.62677001953125},{x:.564910888671875,y:.63623046875},{x:.56475830078125,y:.64727783203125},{x:.5679931640625,y:.659088134765625},{x:.580902099609375,y:.682098388671875},{x:.596435546875,y:.699127197265625},{x:.615478515625,y:.71234130859375},{x:.636962890625,y:.722747802734375},{x:.660552978515625,y:.730499267578125},{x:.685882568359375,y:.73577880859375},{x:.712646484375,y:.73876953125},{x:.740478515625,y:.739654541015625},{x:.7979736328125,y:.735809326171875},{x:.855621337890625,y:.72564697265625},{x:.91070556640625,y:.71063232421875},{x:.96044921875,y:.692169189453125},{x:1.002166748046875,y:.671722412109375},{x:1.033203125,y:.652008056640625},{x:1.062042236328125,y:.629669189453125},{x:1.088470458984375,y:.60498046875},{x:1.112213134765625,y:.578277587890625},{x:1.1329345703125,y:.54986572265625},{x:1.150421142578125,y:.519989013671875},{x:1.164398193359375,y:.489013671875},{x:1.174560546875,y:.457183837890625},{x:1.1806640625,y:.4248046875},{x:1.182464599609375,y:.3922119140625},{x:1.17962646484375,y:.35968017578125},{x:1.17193603515625,y:.3275146484375},{x:1.15911865234375,y:.2960205078125},{x:1.140869140625,y:.265472412109375},{x:1.116943359375,y:.2362060546875},{x:1.0870361328125,y:.20849609375},{x:1.0548095703125,y:.186187744140625},{x:1.021331787109375,y:.170166015625},{x:.98712158203125,y:.16009521484375},{x:.952789306640625,y:.155670166015625},{x:.918914794921875,y:.15655517578125},{x:.886016845703125,y:.16241455078125},{x:.854705810546875,y:.172943115234375},{x:.825531005859375,y:.187774658203125},{x:.799072265625,y:.20660400390625},{x:.775909423828125,y:.229095458984375},{x:.756561279296875,y:.25494384765625},{x:.74163818359375,y:.283782958984375},{x:.731689453125,y:.315338134765625},{x:.727325439453125,y:.349212646484375},{x:.729034423828125,y:.3851318359375},{x:.737457275390625,y:.422760009765625},{x:.745086669921875,y:.442169189453125},{x:.7552490234375,y:.460174560546875},{x:.76763916015625,y:.476654052734375},{x:.781951904296875,y:.491424560546875},{x:.79791259765625,y:.504364013671875},{x:.815185546875,y:.515380859375},{x:.833526611328125,y:.5242919921875},{x:.852569580078125,y:.530975341796875},{x:.872039794921875,y:.5352783203125},{x:.89166259765625,y:.537078857421875},{x:.911102294921875,y:.5362548828125},{x:.9300537109375,y:.53265380859375},{x:.9482421875,y:.526123046875},{x:.965362548828125,y:.516571044921875},{x:.981109619140625,y:.503814697265625},{x:.99517822265625,y:.487762451171875},{x:1.00482177734375,y:.470245361328125},{x:1.010406494140625,y:.4501953125},{x:1.011932373046875,y:.4288330078125},{x:1.00933837890625,y:.407318115234375},{x:1.002655029296875,y:.386932373046875},{x:.991851806640625,y:.36883544921875},{x:.9769287109375,y:.35430908203125},{x:.9578857421875,y:.34454345703125},{x:.942138671875,y:.34112548828125},{x:.9285888671875,y:.34149169921875},{x:.91741943359375,y:.344818115234375},{x:.908843994140625,y:.35040283203125},{x:.90301513671875,y:.357391357421875},{x:.900115966796875,y:.36505126953125},{x:.900360107421875,y:.372589111328125},{x:.9039306640625,y:.37921142578125},{x:.9141845703125,y:.3856201171875},{x:.92657470703125,y:.389984130859375},{x:.936798095703125,y:.3963623046875},{x:.939727783203125,y:.401580810546875},{x:.94049072265625,y:.4088134765625},{x:.93902587890625,y:.416778564453125},{x:.935821533203125,y:.42315673828125},{x:.93115234375,y:.427947998046875},{x:.925262451171875,y:.43121337890625},{x:.910858154296875,y:.433441162109375},{x:.8946533203125,y:.4302978515625},{x:.878692626953125,y:.42230224609375},{x:.865081787109375,y:.409881591796875},{x:.855865478515625,y:.393524169921875},{x:.853546142578125,y:.384002685546875},{x:.85308837890625,y:.373687744140625},{x:.856201171875,y:.3538818359375},{x:.862945556640625,y:.33697509765625},{x:.872833251953125,y:.322967529296875},{x:.8853759765625,y:.31182861328125},{x:.900054931640625,y:.303558349609375},{x:.9163818359375,y:.29815673828125},{x:.933868408203125,y:.29559326171875},{x:.951995849609375,y:.29583740234375},{x:.97027587890625,y:.29888916015625},{x:.98822021484375,y:.30474853515625},{x:1.00531005859375,y:.31341552734375},{x:1.02105712890625,y:.3248291015625},{x:1.034942626953125,y:.339019775390625},{x:1.0465087890625,y:.355926513671875},{x:1.055206298828125,y:.375579833984375},{x:1.060577392578125,y:.397979736328125},{x:1.06268310546875,y:.424530029296875},{x:1.060943603515625,y:.44927978515625},{x:1.055694580078125,y:.47210693359375},{x:1.0472412109375,y:.49298095703125},{x:1.035858154296875,y:.511810302734375},{x:1.0218505859375,y:.52850341796875},{x:1.00555419921875,y:.543060302734375},{x:.98724365234375,y:.555328369140625},{x:.967193603515625,y:.565277099609375},{x:.94573974609375,y:.572845458984375},{x:.923187255859375,y:.57794189453125},{x:.89984130859375,y:.58050537109375},{x:.8759765625,y:.580474853515625},{x:.851898193359375,y:.5777587890625},{x:.827911376953125,y:.572296142578125},{x:.804351806640625,y:.563995361328125},{x:.78521728515625,y:.554962158203125},{x:.767852783203125,y:.544525146484375},{x:.752197265625,y:.532806396484375},{x:.73822021484375,y:.519927978515625},{x:.71514892578125,y:.490936279296875},{x:.69830322265625,y:.458282470703125},{x:.68731689453125,y:.42266845703125},{x:.681884765625,y:.3848876953125},{x:.681671142578125,y:.345611572265625},{x:.686309814453125,y:.305572509765625},{x:.661224365234375,y:.32867431640625},{x:.638519287109375,y:.3541259765625},{x:.594451904296875,y:.40631103515625},{x:.55908203125,y:.4442138671875},{x:.52203369140625,y:.481536865234375},{x:.482940673828125,y:.515960693359375},{x:.441436767578125,y:.545196533203125},{x:.419677734375,y:.55718994140625},{x:.397216796875,y:.5670166015625},{x:.37396240234375,y:.574432373046875},{x:.34991455078125,y:.579132080078125},{x:.32501220703125,y:.580810546875},{x:.299224853515625,y:.5792236328125},{x:.2724609375,y:.574066162109375},{x:.2447509765625,y:.5650634765625},{x:.219635009765625,y:.5526123046875},{x:.1983642578125,y:.53680419921875},{x:.18096923828125,y:.518218994140625},{x:.167388916015625,y:.497467041015625},{x:.157562255859375,y:.475128173828125},{x:.1514892578125,y:.451751708984375},{x:.14910888671875,y:.427947998046875},{x:.150421142578125,y:.404266357421875},{x:.155364990234375,y:.38128662109375},{x:.16387939453125,y:.359649658203125},{x:.17596435546875,y:.339874267578125},{x:.191558837890625,y:.32257080078125},{x:.210662841796875,y:.308319091796875},{x:.23321533203125,y:.297698974609375},{x:.2591552734375,y:.291259765625},{x:.28851318359375,y:.289642333984375},{x:.314788818359375,y:.294219970703125},{x:.339202880859375,y:.305450439453125},{x:.36053466796875,y:.32208251953125},{x:.377655029296875,y:.342864990234375},{x:.389373779296875,y:.366546630859375},{x:.394561767578125,y:.391815185546875},{x:.394287109375,y:.4046630859375},{x:.3919677734375,y:.41741943359375},{x:.387420654296875,y:.429962158203125},{x:.3804931640625,y:.442138671875},{x:.366180419921875,y:.456085205078125},{x:.34735107421875,y:.46533203125},{x:.326416015625,y:.470001220703125},{x:.305877685546875,y:.47015380859375},{x:.288177490234375,y:.465911865234375},{x:.275787353515625,y:.457366943359375},{x:.2723388671875,y:.45147705078125},{x:.271148681640625,y:.444580078125},{x:.27252197265625,y:.436614990234375},{x:.2767333984375,y:.427642822265625},{x:.282012939453125,y:.42327880859375},{x:.289703369140625,y:.421844482421875},{x:.309234619140625,y:.4232177734375},{x:.31951904296875,y:.423614501953125},{x:.32904052734375,y:.422332763671875},{x:.337066650390625,y:.418121337890625},{x:.3427734375,y:.40985107421875},{x:.343353271484375,y:.391510009765625},{x:.340667724609375,y:.3759765625},{x:.335174560546875,y:.363189697265625},{x:.3272705078125,y:.353057861328125},{x:.317352294921875,y:.345489501953125},{x:.305877685546875,y:.34039306640625},{x:.29327392578125,y:.337677001953125},{x:.279937744140625,y:.33721923828125},{x:.26629638671875,y:.3389892578125},{x:.252777099609375,y:.342864990234375},{x:.23980712890625,y:.3487548828125},{x:.227813720703125,y:.356597900390625},{x:.217193603515625,y:.36627197265625},{x:.2083740234375,y:.377716064453125},{x:.201812744140625,y:.39080810546875},{x:.1978759765625,y:.40545654296875},{x:.19622802734375,y:.423187255859375},{x:.196929931640625,y:.439697265625},{x:.199859619140625,y:.4549560546875},{x:.204803466796875,y:.46893310546875},{x:.211639404296875,y:.48162841796875},{x:.22015380859375,y:.493011474609375},{x:.241546630859375,y:.51177978515625},{x:.26763916015625,y:.524993896484375},{x:.297027587890625,y:.532501220703125},{x:.328369140625,y:.53411865234375},{x:.36029052734375,y:.529632568359375},{x:.387969970703125,y:.520233154296875},{x:.415771484375,y:.505706787109375},{x:.44366455078125,y:.486724853515625},{x:.4716796875,y:.46392822265625},{x:.5281982421875,y:.40966796875},{x:.585540771484375,y:.34814453125},{x:.6439208984375,y:.28472900390625},{x:.70355224609375,y:.2247314453125},{x:.73388671875,y:.19769287109375},{x:.764617919921875,y:.1734619140625},{x:.7957763671875,y:.152740478515625},{x:.827362060546875,y:.136199951171875},{x:.852264404296875,y:.126220703125},{x:.876953125,y:.11865234375},{x:.901336669921875,y:.113372802734375},{x:.9254150390625,y:.11029052734375},{x:.949066162109375,y:.109344482421875},{x:.97222900390625,y:.11041259765625}],[{x:1.57867431640625,y:.110015869140625},{x:1.602752685546875,y:.11309814453125},{x:1.627166748046875,y:.11834716796875},{x:1.65185546875,y:.125946044921875},{x:1.676727294921875,y:.135894775390625},{x:1.70831298828125,y:.152435302734375},{x:1.739471435546875,y:.17315673828125},{x:1.77020263671875,y:.197357177734375},{x:1.800537109375,y:.22442626953125},{x:1.86016845703125,y:.284423828125},{x:1.918548583984375,y:.34783935546875},{x:1.975921630859375,y:.409332275390625},{x:2.032440185546875,y:.463623046875},{x:2.060455322265625,y:.486419677734375},{x:2.08831787109375,y:.505401611328125},{x:2.116119384765625,y:.519927978515625},{x:2.143829345703125,y:.529327392578125},{x:2.17572021484375,y:.533782958984375},{x:2.207061767578125,y:.532196044921875},{x:2.2364501953125,y:.524688720703125},{x:2.262542724609375,y:.511444091796875},{x:2.283966064453125,y:.492706298828125},{x:2.292449951171875,y:.4813232421875},{x:2.299285888671875,y:.4686279296875},{x:2.304229736328125,y:.454620361328125},{x:2.307159423828125,y:.439361572265625},{x:2.307891845703125,y:.422882080078125},{x:2.30621337890625,y:.4051513671875},{x:2.302276611328125,y:.390472412109375},{x:2.29571533203125,y:.37738037109375},{x:2.286895751953125,y:.365966796875},{x:2.27630615234375,y:.356292724609375},{x:2.2642822265625,y:.34844970703125},{x:2.2513427734375,y:.342559814453125},{x:2.237823486328125,y:.33868408203125},{x:2.22418212890625,y:.3369140625},{x:2.21087646484375,y:.33734130859375},{x:2.1982421875,y:.340087890625},{x:2.186798095703125,y:.345184326171875},{x:2.1768798828125,y:.352752685546875},{x:2.168975830078125,y:.362884521484375},{x:2.1634521484375,y:.37567138671875},{x:2.1607666015625,y:.39117431640625},{x:2.16131591796875,y:.4095458984375},{x:2.16705322265625,y:.4178466796875},{x:2.17510986328125,y:.42205810546875},{x:2.18463134765625,y:.42340087890625},{x:2.19488525390625,y:.4229736328125},{x:2.21441650390625,y:.421600341796875},{x:2.22210693359375,y:.423004150390625},{x:2.22735595703125,y:.427337646484375},{x:2.231597900390625,y:.43634033203125},{x:2.232940673828125,y:.444305419921875},{x:2.23175048828125,y:.45123291015625},{x:2.22833251953125,y:.45709228515625},{x:2.215911865234375,y:.465667724609375},{x:2.198211669921875,y:.469940185546875},{x:2.17767333984375,y:.469757080078125},{x:2.156768798828125,y:.465087890625},{x:2.137908935546875,y:.455810546875},{x:2.12359619140625,y:.44183349609375},{x:2.116668701171875,y:.429656982421875},{x:2.11212158203125,y:.4171142578125},{x:2.10980224609375,y:.404327392578125},{x:2.10955810546875,y:.391510009765625},{x:2.114715576171875,y:.3662109375},{x:2.126434326171875,y:.342559814453125},{x:2.1435546875,y:.32177734375},{x:2.1649169921875,y:.305145263671875},{x:2.189300537109375,y:.29388427734375},{x:2.215576171875,y:.289337158203125},{x:2.24493408203125,y:.29095458984375},{x:2.2708740234375,y:.29736328125},{x:2.293426513671875,y:.308013916015625},{x:2.3125,y:.322265625},{x:2.328125,y:.339569091796875},{x:2.340179443359375,y:.359344482421875},{x:2.348724365234375,y:.3809814453125},{x:2.3536376953125,y:.4039306640625},{x:2.35491943359375,y:.4276123046875},{x:2.352569580078125,y:.451446533203125},{x:2.34649658203125,y:.474822998046875},{x:2.336669921875,y:.497161865234375},{x:2.323089599609375,y:.517913818359375},{x:2.305694580078125,y:.5364990234375},{x:2.284454345703125,y:.552276611328125},{x:2.25933837890625,y:.564727783203125},{x:2.23162841796875,y:.573760986328125},{x:2.20489501953125,y:.57891845703125},{x:2.1790771484375,y:.58050537109375},{x:2.1541748046875,y:.57879638671875},{x:2.130126953125,y:.574127197265625},{x:2.10687255859375,y:.56671142578125},{x:2.08441162109375,y:.556884765625},{x:2.062652587890625,y:.544891357421875},{x:2.02117919921875,y:.515625},{x:1.9820556640625,y:.481201171875},{x:1.94500732421875,y:.44390869140625},{x:1.90966796875,y:.405975341796875},{x:1.8656005859375,y:.3538818359375},{x:1.8428955078125,y:.328399658203125},{x:1.817779541015625,y:.305267333984375},{x:1.82244873046875,y:.34527587890625},{x:1.82220458984375,y:.38458251953125},{x:1.816741943359375,y:.422393798828125},{x:1.805755615234375,y:.4580078125},{x:1.78887939453125,y:.49066162109375},{x:1.76580810546875,y:.5196533203125},{x:1.751861572265625,y:.53253173828125},{x:1.7362060546875,y:.54425048828125},{x:1.7188720703125,y:.554656982421875},{x:1.69976806640625,y:.563690185546875},{x:1.676177978515625,y:.57196044921875},{x:1.652191162109375,y:.577392578125},{x:1.62811279296875,y:.580108642578125},{x:1.604248046875,y:.58013916015625},{x:1.580902099609375,y:.57757568359375},{x:1.558349609375,y:.572479248046875},{x:1.536895751953125,y:.564910888671875},{x:1.516876220703125,y:.554962158203125},{x:1.49853515625,y:.542694091796875},{x:1.48223876953125,y:.528167724609375},{x:1.468231201171875,y:.511474609375},{x:1.45684814453125,y:.492645263671875},{x:1.448394775390625,y:.4718017578125},{x:1.443145751953125,y:.448944091796875},{x:1.44140625,y:.424224853515625},{x:1.443511962890625,y:.39764404296875},{x:1.448883056640625,y:.37530517578125},{x:1.457611083984375,y:.35565185546875},{x:1.46917724609375,y:.3387451171875},{x:1.48309326171875,y:.324554443359375},{x:1.49884033203125,y:.313140869140625},{x:1.51593017578125,y:.30450439453125},{x:1.53387451171875,y:.298614501953125},{x:1.552154541015625,y:.295562744140625},{x:1.57025146484375,y:.2952880859375},{x:1.587738037109375,y:.297882080078125},{x:1.60406494140625,y:.30328369140625},{x:1.618743896484375,y:.3115234375},{x:1.63128662109375,y:.322662353515625},{x:1.64117431640625,y:.336669921875},{x:1.647918701171875,y:.35357666015625},{x:1.6510009765625,y:.373382568359375},{x:1.650543212890625,y:.383697509765625},{x:1.648223876953125,y:.393218994140625},{x:1.639007568359375,y:.409576416015625},{x:1.625396728515625,y:.4219970703125},{x:1.609466552734375,y:.42999267578125},{x:1.59326171875,y:.433135986328125},{x:1.578826904296875,y:.430908203125},{x:1.57293701171875,y:.4276123046875},{x:1.568267822265625,y:.4228515625},{x:1.5650634765625,y:.416473388671875},{x:1.5635986328125,y:.408477783203125},{x:1.564361572265625,y:.401275634765625},{x:1.567291259765625,y:.39605712890625},{x:1.5775146484375,y:.389678955078125},{x:1.58990478515625,y:.38531494140625},{x:1.60015869140625,y:.37890625},{x:1.603759765625,y:.37225341796875},{x:1.60400390625,y:.364715576171875},{x:1.60113525390625,y:.357086181640625},{x:1.595306396484375,y:.350067138671875},{x:1.586700439453125,y:.344512939453125},{x:1.575531005859375,y:.3411865234375},{x:1.561981201171875,y:.3408203125},{x:1.54620361328125,y:.344207763671875},{x:1.527130126953125,y:.35400390625},{x:1.512176513671875,y:.3685302734375},{x:1.50140380859375,y:.3865966796875},{x:1.494720458984375,y:.407012939453125},{x:1.492156982421875,y:.428497314453125},{x:1.493682861328125,y:.44989013671875},{x:1.499267578125,y:.469940185546875},{x:1.5089111328125,y:.487457275390625},{x:1.522979736328125,y:.503509521484375},{x:1.538726806640625,y:.516265869140625},{x:1.55584716796875,y:.52581787109375},{x:1.57403564453125,y:.5323486328125},{x:1.592987060546875,y:.53594970703125},{x:1.6124267578125,y:.536773681640625},{x:1.632049560546875,y:.53497314453125},{x:1.651519775390625,y:.5306396484375},{x:1.67059326171875,y:.52398681640625},{x:1.68890380859375,y:.51507568359375},{x:1.7061767578125,y:.504058837890625},{x:1.722137451171875,y:.491119384765625},{x:1.736480712890625,y:.476318359375},{x:1.748870849609375,y:.459869384765625},{x:1.759002685546875,y:.441864013671875},{x:1.766632080078125,y:.422454833984375},{x:1.775054931640625,y:.38482666015625},{x:1.77679443359375,y:.348907470703125},{x:1.77239990234375,y:.315032958984375},{x:1.762451171875,y:.283477783203125},{x:1.747528076171875,y:.254638671875},{x:1.728179931640625,y:.228790283203125},{x:1.704986572265625,y:.206298828125},{x:1.67852783203125,y:.187469482421875},{x:1.64935302734375,y:.172637939453125},{x:1.6180419921875,y:.162109375},{x:1.58514404296875,y:.15625},{x:1.55126953125,y:.155364990234375},{x:1.516937255859375,y:.1597900390625},{x:1.482757568359375,y:.169830322265625},{x:1.449249267578125,y:.18585205078125},{x:1.41705322265625,y:.20819091796875},{x:1.387176513671875,y:.23590087890625},{x:1.36322021484375,y:.265167236328125},{x:1.344970703125,y:.29571533203125},{x:1.3321533203125,y:.32720947265625},{x:1.324432373046875,y:.359375},{x:1.321624755859375,y:.39190673828125},{x:1.323394775390625,y:.42449951171875},{x:1.329498291015625,y:.45684814453125},{x:1.33966064453125,y:.488677978515625},{x:1.3536376953125,y:.519683837890625},{x:1.371124267578125,y:.549530029296875},{x:1.391845703125,y:.577972412109375},{x:1.41558837890625,y:.60467529296875},{x:1.4420166015625,y:.62933349609375},{x:1.47088623046875,y:.651702880859375},{x:1.501953125,y:.671417236328125},{x:1.54364013671875,y:.691864013671875},{x:1.593414306640625,y:.7103271484375},{x:1.64849853515625,y:.725341796875},{x:1.706146240234375,y:.735504150390625},{x:1.76361083984375,y:.739349365234375},{x:1.79144287109375,y:.73846435546875},{x:1.818206787109375,y:.7354736328125},{x:1.843536376953125,y:.730194091796875},{x:1.86712646484375,y:.722442626953125},{x:1.88861083984375,y:.7120361328125},{x:1.907684326171875,y:.69879150390625},{x:1.923248291015625,y:.681793212890625},{x:1.936187744140625,y:.65875244140625},{x:1.939422607421875,y:.64691162109375},{x:1.93927001953125,y:.6358642578125},{x:1.934814453125,y:.626434326171875},{x:1.9251708984375,y:.61932373046875},{x:1.916656494140625,y:.6168212890625},{x:1.907135009765625,y:.6163330078125},{x:1.88629150390625,y:.620758056640625},{x:1.864898681640625,y:.63116455078125},{x:1.84527587890625,y:.646087646484375},{x:1.83526611328125,y:.65789794921875},{x:1.8271484375,y:.67047119140625},{x:1.8197021484375,y:.680877685546875},{x:1.811737060546875,y:.686187744140625},{x:1.79766845703125,y:.68597412109375},{x:1.79290771484375,y:.68328857421875},{x:1.78955078125,y:.67919921875},{x:1.786712646484375,y:.66741943359375},{x:1.7884521484375,y:.65228271484375},{x:1.7940673828125,y:.6353759765625},{x:1.802825927734375,y:.6182861328125},{x:1.814056396484375,y:.60260009765625},{x:1.827056884765625,y:.589935302734375},{x:1.845489501953125,y:.577606201171875},{x:1.8641357421875,y:.568878173828125},{x:1.88262939453125,y:.56353759765625},{x:1.900665283203125,y:.561431884765625},{x:1.91790771484375,y:.56231689453125},{x:1.933990478515625,y:.56597900390625},{x:1.948638916015625,y:.572265625},{x:1.96148681640625,y:.580902099609375},{x:1.972198486328125,y:.59173583984375},{x:1.98046875,y:.604522705078125},{x:1.9859619140625,y:.61907958984375},{x:1.98834228515625,y:.635223388671875},{x:1.987274169921875,y:.6527099609375},{x:1.982421875,y:.671356201171875},{x:1.97344970703125,y:.690948486328125},{x:1.9600830078125,y:.7113037109375},{x:2.01373291015625,y:.69061279296875},{x:2.067230224609375,y:.66766357421875},{x:2.120758056640625,y:.645050048828125},{x:2.174591064453125,y:.6253662109375},{x:2.229034423828125,y:.611297607421875},{x:2.256561279296875,y:.607147216796875},{x:2.284332275390625,y:.605377197265625},{x:2.3123779296875,y:.6063232421875},{x:2.340728759765625,y:.61029052734375},{x:2.369415283203125,y:.617584228515625},{x:2.39849853515625,y:.62860107421875},{x:2.424072265625,y:.64202880859375},{x:2.446533203125,y:.65826416015625},{x:2.465606689453125,y:.677093505859375},{x:2.481109619140625,y:.6983642578125},{x:2.492828369140625,y:.72186279296875},{x:2.500518798828125,y:.747406005859375},{x:2.503936767578125,y:.774810791015625},{x:2.50286865234375,y:.80389404296875},{x:2.498565673828125,y:.822998046875},{x:2.490509033203125,y:.840362548828125},{x:2.4793701171875,y:.855926513671875},{x:2.465850830078125,y:.869384765625},{x:2.45068359375,y:.88037109375},{x:2.4345703125,y:.88861083984375},{x:2.418182373046875,y:.893768310546875},{x:2.402252197265625,y:.89556884765625},{x:2.3809814453125,y:.891815185546875},{x:2.3614501953125,y:.881866455078125},{x:2.344757080078125,y:.86767578125},{x:2.3319091796875,y:.851226806640625},{x:2.323974609375,y:.834503173828125},{x:2.322052001953125,y:.819427490234375},{x:2.32366943359375,y:.8131103515625},{x:2.327178955078125,y:.8079833984375},{x:2.33270263671875,y:.804229736328125},{x:2.34039306640625,y:.8021240234375},{x:2.348663330078125,y:.802703857421875},{x:2.354644775390625,y:.806396484375},{x:2.363128662109375,y:.81964111328125},{x:2.372650146484375,y:.8349609375},{x:2.37994384765625,y:.841217041015625},{x:2.39007568359375,y:.845367431640625},{x:2.403533935546875,y:.844696044921875},{x:2.415252685546875,y:.8421630859375},{x:2.42529296875,y:.83795166015625},{x:2.433685302734375,y:.832244873046875},{x:2.44580078125,y:.817108154296875},{x:2.452117919921875,y:.79815673828125},{x:2.45306396484375,y:.77685546875},{x:2.449127197265625,y:.754638671875},{x:2.440765380859375,y:.73297119140625},{x:2.42840576171875,y:.713287353515625},{x:2.4049072265625,y:.688629150390625},{x:2.37884521484375,y:.670806884765625},{x:2.35052490234375,y:.65911865234375},{x:2.320281982421875,y:.6529541015625},{x:2.2884521484375,y:.651580810546875},{x:2.255401611328125,y:.654388427734375},{x:2.221435546875,y:.660675048828125},{x:2.186920166015625,y:.669769287109375},{x:2.11761474609375,y:.693817138671875},{x:2.050140380859375,y:.72119140625},{x:1.98724365234375,y:.74658203125},{x:1.931640625,y:.7646484375},{x:1.891326904296875,y:.77313232421875},{x:1.85003662109375,y:.779052734375},{x:1.808013916015625,y:.78228759765625},{x:1.76556396484375,y:.782867431640625},{x:1.72296142578125,y:.780731201171875},{x:1.680511474609375,y:.77581787109375},{x:1.638519287109375,y:.76812744140625},{x:1.59722900390625,y:.75762939453125},{x:1.5570068359375,y:.744232177734375},{x:1.51806640625,y:.72796630859375},{x:1.480743408203125,y:.708770751953125},{x:1.4453125,y:.686614990234375},{x:1.412078857421875,y:.66143798828125},{x:1.381317138671875,y:.633209228515625},{x:1.35333251953125,y:.6019287109375},{x:1.328399658203125,y:.56756591796875},{x:1.314453125,y:.5440673828125},{x:1.30279541015625,y:.5203857421875},{x:1.293365478515625,y:.496551513671875},{x:1.2861328125,y:.47265625},{x:1.277801513671875,y:.425079345703125},{x:1.277313232421875,y:.37835693359375},{x:1.2840576171875,y:.333160400390625},{x:1.2974853515625,y:.290191650390625},{x:1.317047119140625,y:.250152587890625},{x:1.342193603515625,y:.213714599609375},{x:1.372314453125,y:.18157958984375},{x:1.40692138671875,y:.15447998046875},{x:1.4454345703125,y:.133087158203125},{x:1.48724365234375,y:.118072509765625},{x:1.5318603515625,y:.110137939453125},{x:1.555023193359375,y:.10906982421875},{x:1.57867431640625,y:.110015869140625}],[{x:1.2767333984375,y:.629119873046875},{x:1.307464599609375,y:.66131591796875},{x:1.3194580078125,y:.68035888671875},{x:1.326812744140625,y:.70025634765625},{x:1.328125,y:.71051025390625},{x:1.3275146484375,y:.720977783203125},{x:1.32470703125,y:.731658935546875},{x:1.3194580078125,y:.7425537109375},{x:1.31298828125,y:.751129150390625},{x:1.304931640625,y:.75830078125},{x:1.285125732421875,y:.768402099609375},{x:1.26220703125,y:.772979736328125},{x:1.238372802734375,y:.772216796875},{x:1.215789794921875,y:.76629638671875},{x:1.19671630859375,y:.755340576171875},{x:1.18914794921875,y:.748016357421875},{x:1.183258056640625,y:.739532470703125},{x:1.179351806640625,y:.7298583984375},{x:1.17767333984375,y:.719024658203125},{x:1.179351806640625,y:.702117919921875},{x:1.18511962890625,y:.685699462890625},{x:1.1939697265625,y:.669769287109375},{x:1.20489501953125,y:.654327392578125},{x:1.22882080078125,y:.62481689453125},{x:1.248809814453125,y:.597137451171875},{x:1.2767333984375,y:.629119873046875}],[{x:1.240692138671875,y:.665374755859375},{x:1.228759765625,y:.68011474609375},{x:1.218902587890625,y:.695770263671875},{x:1.21600341796875,y:.7039794921875},{x:1.215179443359375,y:.712432861328125},{x:1.21795654296875,y:.72271728515625},{x:1.224700927734375,y:.7305908203125},{x:1.234222412109375,y:.736083984375},{x:1.245513916015625,y:.739044189453125},{x:1.257415771484375,y:.739410400390625},{x:1.26885986328125,y:.73712158203125},{x:1.278778076171875,y:.732086181640625},{x:1.2860107421875,y:.724212646484375},{x:1.2900390625,y:.71331787109375},{x:1.2896728515625,y:.7030029296875},{x:1.2860107421875,y:.693084716796875},{x:1.280059814453125,y:.68359375},{x:1.2646484375,y:.667449951171875},{x:1.250701904296875,y:.651519775390625},{x:1.240692138671875,y:.665374755859375}],[{x:1.260101318359375,y:.002288818359375},{x:1.270294189453125,y:.009735107421875},{x:1.280517578125,y:.02099609375},{x:1.290283203125,y:.03472900390625},{x:1.306793212890625,y:.064117431640625},{x:1.31622314453125,y:.0869140625},{x:1.322418212890625,y:.119720458984375},{x:1.321533203125,y:.148834228515625},{x:1.315093994140625,y:.17535400390625},{x:1.30474853515625,y:.2003173828125},{x:1.27850341796875,y:.249755859375},{x:1.2657470703125,y:.276336669921875},{x:1.25537109375,y:.305572509765625},{x:1.192352294921875,y:.183074951171875},{x:1.183685302734375,y:.157196044921875},{x:1.18011474609375,y:.134429931640625},{x:1.181915283203125,y:.11151123046875},{x:1.1893310546875,y:.08514404296875},{x:1.19891357421875,y:.064849853515625},{x:1.2154541015625,y:.036773681640625},{x:1.23419189453125,y:.011627197265625},{x:1.242889404296875,y:.00347900390625},{x:1.250396728515625,y:6103515625e-14},{x:1.260101318359375,y:.002288818359375}],[{x:1.243408203125,y:.0704345703125},{x:1.234039306640625,y:.0830078125},{x:1.22100830078125,y:.107147216796875},{x:1.21728515625,y:.120269775390625},{x:1.21636962890625,y:.131744384765625},{x:1.2181396484375,y:.14312744140625},{x:1.22247314453125,y:.156097412109375},{x:1.253936767578125,y:.21734619140625},{x:1.265472412109375,y:.189453125},{x:1.278594970703125,y:.16473388671875},{x:1.28375244140625,y:.152252197265625},{x:1.286956787109375,y:.139007568359375},{x:1.28741455078125,y:.12445068359375},{x:1.284332275390625,y:.108062744140625},{x:1.271514892578125,y:.08203125},{x:1.261505126953125,y:.069488525390625},{x:1.25640869140625,y:.065765380859375},{x:1.25152587890625,y:.06463623046875},{x:1.243408203125,y:.0704345703125}]],nameArea:{x1:14.999375343322754,y1:75.5795669555664,x2:224.0033264160156,y2:147.58092498779297,width:209.00395107269287,height:72.00135803222656}}},U7=Ost;var Khe={royal:U7.royal,english:U7.english,floral:U7.floral,plain:U7.plain,circle:U7.circle};function Jhe(e){return"nameArea"in e&&e.nameArea!=null}var jb=.08,Gb=class{constructor({style:t,name:r,cutOption:o,font:i,fontFamily:n,fontProvider:s,center:a,bitWidth:l}){y(this,"cutOption");y(this,"bitWidth");y(this,"textShape");y(this,"textPathShape");y(this,"style");y(this,"font");y(this,"fontFamily");y(this,"fontProvider");y(this,"center");y(this,"name");this.name=r,this.cutOption=o,this.font=i,this.fontFamily=n,this.fontProvider=s,this.center=a,this.bitWidth=l,this.style={...t},this.textShape=this.generateTextShape(),this.cutOption==="cutout"?this.textPathShape=this.alignLettersToBaseLine(this.textShape):this.textPathShape=ii.textShapeToPathShape(this.textShape),Jhe(this.style)&&(this.style.nameArea=this.processedNameArea())}processedNameArea(){let t=this.style,r=Oe.pathBoundingBox(t.points),o=t.viewBox.width,i=(r.maxX-r.minX)/o;return{x1:t.nameArea.x1*i,y1:t.nameArea.y1*i,x2:t.nameArea.x2*i,y2:t.nameArea.y2*i,width:t.nameArea.width*i,height:t.nameArea.height*i}}alignLettersToBaseLine(t){let r=ii.textShapeToCharPaths(t);if(!r||r.length===0)return null;let o=r.map(a=>Oe.pathBoundingBox(a)),i=1/0;o.forEach(a=>{a.minY<i&&(i=a.minY)});let n=r.map((a,l)=>{let c=o[l],u=i-c.minY,p=ct().translatedBy(0,u);return Oe.transformedPath(a,p)});return _o.pathPointsToShape(n.flat())}getActualTextBoundingBox(){return Oe.pointsBoundingBox(this.textPathShape.points.flat())}getActualTextBboxData(){let t=this.getActualTextBoundingBox();return{width:t.maxX-t.minX,height:t.maxY-t.minY,center:{x:(t.maxX+t.minX)/2,y:(t.maxY+t.minY)/2}}}generateTextShape(){let t=ii.measure({text:this.name,font:this.font,fontSize:1}),r=(this.bitWidth+jb)*t.height/iu.getFontMinWidth(this.font.name),o=Math.max(2,r);return{type:"text",text:this.name,font:this.fontFamily,fontProvider:this.fontProvider,center:{x:this.center.x,y:this.center.y},width:o*(t.width/t.height),height:o,rotation:0,flipping:{},anchored:!1,isProportionLocked:!1}}styleToShape(){let t=this.style,r=this.getActualTextBboxData(),o=fo(t.points.map(l=>lr(l))),i=fo(o.all()),n={x:(t.nameArea.x1+t.nameArea.x2)/2,y:(t.nameArea.y1+t.nameArea.y2)/2},s=r.height/t.nameArea.height,a=ct().translatedBy(-n.x,-n.y).scaledBy(s,s).translatedBy(r.center.x,r.center.y);return i=i.transform(a),this.bitWidth&&(i=i.offset(this.bitWidth/3).clean()),_o.pathPointsToShape(i.all().map(l=>l.points))}toShapes(){let t=[],r=this.getActualTextBoundingBox(),o=this.getActualTextBboxData();switch(this.style.name){case"plain":{let n=iu.createBackgroundLetterPath(this.textShape,this.cutOption,this.bitWidth+jb,{includeBorders:!0});t.push(n);break}case"circle":{let n=this.getActualTextBboxData(),s=Math.hypot(n.width,n.height),a=Math.max(iu.getFontMinWidth(this.font.name)*2,this.bitWidth+jb),l=this.cutOption==="engraving"?a*2:0,c=iu.createCircleRing(n.center.x,n.center.y,s+l,a);if(t.push(c),this.cutOption==="cutout"){let u=iu.createYBorders(r,Math.max(this.bitWidth,iu.getFontMinWidth(this.font.name))+jb),p=_o.pathPointsToShape(u.all().map(m=>m.points));t.push(p)}break}case"royal":{t.push(this.styleToShape());break}case"floral":{let n=iu.createBackgroundLetterPath(this.textShape,this.cutOption,this.bitWidth,{includeBorders:!1}),s=this.styleToShape();t.push(n,s);break}case"english":{let n=this.styleToShape();if(this.cutOption==="cutout"){let s=iu.createYBorders(r,Math.max(this.bitWidth,iu.getFontMinWidth(this.font.name))+jb),a=_o.pathPointsToShape(s.all().map(l=>l.points));t.push(a)}t.push(n);break}}let i=this.cutOption==="engraving"?this.textShape:this.textPathShape;if(Jhe(this.style)){let n=o.height/this.style.nameArea.height;i.width=Math.min(o.width,this.style.nameArea.width*n)}return t.push(i),t}};var Lst=()=>{let e=[{name:"Allura",displayName:"Allura",provider:"googlefonts"},{name:"Baskerville",displayName:"Baskerville",provider:"easel"},{name:"Bemio",displayName:"Bemio",provider:"easel"},{name:"Cinzel",displayName:"Cinzel",provider:"easel"},{name:"Code_Pro",displayName:"Code Pro",provider:"easel"},{name:"Josefin",displayName:"Josefin",provider:"easel"},{name:"Lavanderia_Sturdy",displayName:"Lavanderia",provider:"easel"}],t=(0,ch.useDispatch)(),r=(0,ch.useSelector)(vt.monogramModalVisible),o=(0,ch.useSelector)(q.getMaterialDimensions),i=(0,ch.useSelector)(Y.getWorkArea),n=(0,ch.useSelector)(St.getWorkpieceViewport),s=(0,ch.useSelector)(St.getEditorSize),a=(0,ch.useSelector)(re.strokeBit),l=a?.type==="V"?0:a?.width||.0625,[c,u]=(0,Wt.useState)("Name"),[p,m]=(0,Wt.useState)(""),[h,f]=(0,Wt.useState)("Plain"),[x,v]=(0,Wt.useState)("engraving"),[b,S]=(0,Wt.useState)(""),[w,_]=(0,Wt.useState)([]),E=Ee.boundingBoxWidth(w).toFixed(2),T=Ee.boundingBoxHeight(w).toFixed(2),A=()=>{t(vt.actions.hideMonogramModal())},O=(0,Wt.useCallback)((j,X,te)=>{let se=[],ue=ot.defaultShapePlacementDepth(o.z),be={x:o.x/2,y:o.y/2},ae=[],he=new Gb({style:Khe[h.toLowerCase()],name:c,cutOption:x,font:j,fontFamily:X,fontProvider:te,center:be,bitWidth:l});return ae.push(...he.toShapes()),x==="cutout"?se.push(iu.createCutoutVolume(ae,o.z)):se.push(...iu.createEngravingVolumes(ae,ue)),se},[h,o,l,x,c]),L=()=>{if(!c||!p)return;let j=w,X=Dr.getShift(j,i.y,n,s);for(let te of j)t(Dr.addAndSelectVolume(te,X));t(vt.actions.hideMonogramModal())},R=(0,Wt.useCallback)(()=>{if(!c||!p){S("");return}try{let[j,X]=p.split("|"),te=qr.getFont(j,X),se=O(te,j,X);_(se);let ue={width:o.x,height:o.y},ae=new U5(300,300,se,ue).render().getElement().toDataURL();S(ae)}catch(j){console.error("Error rendering preview:",j),S("")}},[c,p,o,O]);(0,Wt.useEffect)(()=>{r&&R()},[c,p,h,r,R]);let z=j=>{u(j.target.value)},I=j=>{m(j.target.value)},F=j=>{f(j.target.value)},B=j=>{v(j.target.value)};return Wt.default.createElement(gs.Modal,{show:r,onHide:A,size:"xl"},Wt.default.createElement(gs.Modal.Header,{closeButton:!0},Wt.default.createElement(gs.Modal.Title,null,"Monogram")),Wt.default.createElement(gs.Modal.Body,null,Wt.default.createElement("div",{className:"container-fluid"},Wt.default.createElement("div",{className:"row"},Wt.default.createElement("div",{className:"col-md-6"},Wt.default.createElement(gs.Form,null,Wt.default.createElement(gs.Form.Group,{className:"mb-3"},Wt.default.createElement(gs.Form.Label,{htmlFor:"monogram-text"},"Text"),Wt.default.createElement(gs.Form.Control,{id:"monogram-text",type:"text",value:c,onChange:z,placeholder:"Enter text..."})),Wt.default.createElement(gs.Form.Group,{className:"mb-3"},Wt.default.createElement(gs.Form.Label,{htmlFor:"monogram-font"},"Font"),Wt.default.createElement(gs.Form.Select,{id:"monogram-font",value:p,onChange:I},Wt.default.createElement("option",{value:""},"Select a font..."),e.map(j=>Wt.default.createElement("option",{key:`${j.name}-${j.provider}`,value:`${j.name}|${j.provider}`},j.displayName)))),Wt.default.createElement(gs.Form.Group,{className:"mb-3"},Wt.default.createElement(gs.Form.Label,{htmlFor:"monogram-style"},"Style"),Wt.default.createElement(gs.Form.Select,{id:"monogram-style",value:h,onChange:F},Wt.default.createElement("option",{value:"Plain"},"Plain"),Wt.default.createElement("option",{value:"Circle"},"Circle"),Wt.default.createElement("option",{value:"Royal"},"Royal"),Wt.default.createElement("option",{value:"Floral"},"Floral"),Wt.default.createElement("option",{value:"English"},"English"))),Wt.default.createElement(gs.Form.Group,{className:"mb-3"},Wt.default.createElement(gs.Form.Label,{htmlFor:"monogram-cut-options"},"Cut Options"),Wt.default.createElement(gs.Form.Select,{id:"monogram-cut-options",value:x,onChange:B},Wt.default.createElement("option",{key:"engraving",value:"engraving"},"Engraving"),Wt.default.createElement("option",{key:"cutout",value:"cutout"},"Cut Out"))))),Wt.default.createElement("div",{className:"col-md-6"},Wt.default.createElement("div",{className:"d-flex flex-column align-items-center"},b&&Wt.default.createElement("img",{style:{maxWidth:"100%"},src:b}),!b&&Wt.default.createElement("div",{className:"text-muted"},"Enter text and select a font to see preview"),a&&Wt.default.createElement("p",{className:"text-center"},"Scaled for your current ",rt(a).longDescription()," Bit"),b&&Wt.default.createElement("p",{className:"text-center"},"Monogram size: ",E,"\u201C x ",T,"\u201C")))))),Wt.default.createElement(gs.Modal.Footer,{className:"border border-0"},Wt.default.createElement("button",{className:"btn btn-primary rounded-3",onClick:L,disabled:!c||!p},"Generate")))},Qhe=Lst;var Hb=P("react-bootstrap"),Mo=M(P("react"),1);var h0=M(P("prop-types"),1),Am=M(P("react"),1);var ET=class extends Am.default.Component{constructor(){super(...arguments);y(this,"state",{useAltImage:!1});y(this,"onMouseEnter",()=>{this.setState({useAltImage:!0})});y(this,"onMouseLeave",()=>{this.setState({useAltImage:!1})});y(this,"handleClick",r=>{r.preventDefault(),this.props.disabled||(this.props.activateApp(this.props.id,this.props.name),this.props.afterClick())})}render(){let r=this.state.useAltImage&&this.props.altThumbnail?this.props.altThumbnail:this.props.thumbnail;return Am.default.createElement("div",{className:"app-thumbnail-container",onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},Am.default.createElement("div",{className:`app-thumbnail ${this.props.disabled?"disabled":""}`},Am.default.createElement("div",{className:"app-thumbnail-image-container",style:{backgroundImage:`url(${r})`}}),Am.default.createElement("div",{className:"app-thumbnail-caption"},Am.default.createElement(oe,null,this.props.name),Am.default.createElement("br",null),Am.default.createElement("p",{className:"app-attribution app-attribution-thumbnail"},this.props.author)),!this.props.publiclyVisible&&Am.default.createElement("span",{className:"thumbnail-tag"},"Private")))}};y(ET,"propTypes",{afterClick:h0.default.func.isRequired,id:h0.default.number.isRequired,name:h0.default.string.isRequired,thumbnail:h0.default.string.isRequired,altThumbnail:h0.default.string,publiclyVisible:h0.default.bool.isRequired,author:h0.default.string});var e5e=ET;var PR=class extends Mo.default.PureComponent{constructor(){super(...arguments);y(this,"filteredApps",()=>this.state.searchText.length?this.props.apps.filter(function(r){return r.name.toUpperCase().includes(this.state.searchText.toUpperCase())||(r.description!=null?r.description.toUpperCase().includes(this.state.searchText.toUpperCase()):void 0)},this):this.props.apps);y(this,"appCategories",()=>{let r={};for(let s of this.filteredApps()){let a=s.categories;s.publiclyVisible?s.categories.length===0&&(a=["Other"]):a=["Private"];for(let l of a)r[l]=r[l]||[],r[l].push(s)}let o=(()=>{let s=[];for(let a in r)s.push(a);return s})(),i="General category",n=["Featured",i,"Other","Beta","Private"];return o.sort(function(s,a){let[l,c]=[s,a].map(function(u){let p=n.indexOf(u);return p>-1?p:n.indexOf(i)});return l!==c?l-c:s.localeCompare(a)}),{categoryTitles:o,appsByCategory:r}});y(this,"closeAppList",()=>{this.props.closeAppList(),this.hideExplanation(),this.setState({searchText:""})});y(this,"showExplanation",()=>{this.setState({showExplanation:!0})});y(this,"hideExplanation",()=>{this.setState({showExplanation:!1})});y(this,"errorHtml",()=>Mo.default.createElement("div",{className:"alert alert-warning"},`Failed to load the app library: ${this.props.errorMessage}`));y(this,"scrollToRef",r=>{let o=$(this.appList),s=$(this["category_"+r]).offset().top-o.offset().top+o.scrollTop();return o.animate({scrollTop:s})});y(this,"trackAndActivateApp",(r,o)=>{H.trackEvent(U.activateApp,{name:o}),this.props.activateApp(r,o)});y(this,"appComponent",r=>Mo.default.createElement(e5e,{key:r.id,author:r.author,name:r.name,id:r.id,thumbnail:r.thumbnail,altThumbnail:r.altThumbnail,publiclyVisible:r.publiclyVisible,disabled:r.requiresSelectedVolume&&!this.props.isVolumeSelected,afterClick:this.closeAppList,activateApp:this.trackAndActivateApp}));y(this,"appCategoryComponent",(r,o,i)=>(o=o.map(n=>this.appComponent(n)),Mo.default.createElement("div",{className:`app-list__main-panel__list ${i?"big-apps":"normal-apps"}`,ref:n=>this["category_"+r]=n,key:r},Mo.default.createElement("div",{className:"app-list__main-panel__list__title"},r),r==="Beta"&&Mo.default.createElement("p",{className:"alert alert-warning"},"These apps are in early development. They may not have full functionality or behave as intended in all circumstances."),Mo.default.createElement("div",{className:"app-list__main-panel__list__apps"},o))));y(this,"state",{searchText:""})}componentDidMount(){J.addListener("show-apps-explanation",this.showExplanation),this.props.fetchApps()}componentWillUnmount(){J.removeListener("show-apps-explanation",this.showExplanation)}render(){let{appsByCategory:r,categoryTitles:o}=this.appCategories(),i=o.length===1?this.appCategoryComponent("",r[o[0]],!1):o.map(n=>this.appCategoryComponent(n,r[n],n==="Featured"));return Mo.default.createElement(Hb.Modal,{show:this.props.appListOpen,onHide:this.closeAppList,size:"xl"},Mo.default.createElement(Hb.Modal.Header,{closeButton:!0},Mo.default.createElement(Hb.Modal.Title,null,"App Library")),Mo.default.createElement(Hb.Modal.Body,null,this.props.apps.length===0&&Mo.default.createElement("div",{className:"center-text"},Mo.default.createElement(Re,{size:25}),Mo.default.createElement("p",null,"Loading Apps")),this.state.showExplanation&&this.props.apps.length>0&&Mo.default.createElement("div",{className:"empty-walkthrough-banner"},"Here is a list of apps that you can use. You can get started with an app like the",Mo.default.createElement("i",null,"Maze Generator")," or ",Mo.default.createElement("i",null,"Box Maker"),". Some apps, such as the ",Mo.default.createElement("i",null,"Offsetter")," require that you selected a shape before you can use them."),this.props.errorMessage&&this.errorHtml(),Mo.default.createElement("div",{className:"app-list row"},Mo.default.createElement("div",{className:"col-sm-2"},Mo.default.createElement("div",{className:"app-list__left-bar"},o.map(n=>Mo.default.createElement("div",{key:`category-${n}`,className:"app-list__left-bar__item",onClick:()=>this.scrollToRef(n)},Mo.default.createElement("a",{className:"app-list__left-bar-category"},n))))),Mo.default.createElement("div",{className:"col-sm-10 app-list__main-panel scrollable-content",ref:n=>this.appList=n},Mo.default.createElement("div",{className:"app-list__search"},Mo.default.createElement("i",{className:"bi bi-search"}),Mo.default.createElement("label",{htmlFor:"app-search",style:{display:"none"}},"App Search"),Mo.default.createElement("input",{id:"app-search",className:"app-list__search-input",type:"input",value:this.state.searchText,placeholder:"Search Apps",autoFocus:!0,onChange:n=>this.setState({searchText:n.target.value})})),i))))}},Bst=ne({mapStateToProps:function(e){let t=Hr.getAppState(e);return{apps:t.apps,errorMessage:t.errorMessage,appListOpen:t.appListOpen,isVolumeSelected:Ie.selectedVolumeIds(e).length>0}},mapDispatchToProps:e=>({fetchApps(){e(Hr.actions.fetchApps())},closeAppList(){e(Hr.actions.closeAppList())},activateApp(t,r){e(Hr.actions.activateAppById({id:t,name:r}))}}),component:PR}),t5e=Bst;var uh=M(P("react"),1),MT=P("react-redux"),Q2=P("react-bootstrap");var Fst=()=>{let e=(0,MT.useDispatch)(),t=(0,MT.useSelector)(re.showBitSizeError),r=()=>{e(W.actions.clearBitSizeError())};return uh.default.createElement(Q2.Modal,{className:"alert-modal bit-size-error-modal",show:t,onHide:r},uh.default.createElement(Q2.Modal.Header,{className:"alert-header justify-content-center"},uh.default.createElement("i",{className:"bi bi-exclamation-circle-fill text-danger fs-2"}),uh.default.createElement("h2",null,"Error setting bit size")),uh.default.createElement(Q2.Modal.Body,null,uh.default.createElement("h3",null,"Detail/finishing bit needs to be smaller than roughing bit.")),uh.default.createElement(Q2.Modal.Footer,{className:"buttons justify-content-center"},uh.default.createElement(Q2.Button,{size:"lg",variant:"default",onClick:r},"OK")))},r5e=Fst;var nu=P("react-bootstrap"),ei=M(P("react"),1);var wR=class extends ei.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1,activeIndex:Math.floor(Math.random()*4),direction:"next",authenticityToken:my()});y(this,"hide",()=>{this.setState({show:!1})});y(this,"show",()=>{this.setState({show:!0})});y(this,"editThisProject",r=>{r.preventDefault(),H.trackEvent("Carvey Walkthrough - Edit Current"),this.hide()});y(this,"handleSelect",(r,o)=>{this.setState({activeIndex:r,direction:o})});y(this,"trackProjectInstructions",r=>{H.trackEvent("Carvey Walkthrough - Opened Project Instructions",{project:r.target.href})});y(this,"trackProjectBrowsing",()=>{H.trackEvent("Carvey Walkthrough - Opened Projects")});y(this,"trackStartNewProject",()=>{H.trackEvent("Carvey Walkthrough - Start New")});y(this,"carousel",()=>{let r=[{name:"Corian and Bamboo Vase",img:EASEL_ASSETS.projects.vase,url:"https://easel.com/gallery/C8a3zQEi"},{name:"Poker Card Box",img:EASEL_ASSETS.projects.cardBox,url:"https://easel.com/gallery/nmC9pI58"},{name:"Jewelery Dish",img:EASEL_ASSETS.projects.dish,url:"https://easel.com/gallery/Ch22Sklb"},{name:"Number Puzzle",img:EASEL_ASSETS.projects.puzzle,url:"https://easel.com/gallery/qG_X_jlj"}],o=r.map((s,a)=>ei.default.createElement(nu.CarouselItem,{key:`post-walkthrough-carousel-${a}`},ei.default.createElement("div",{className:"post-walkthrough-carousel-caption"},ei.default.createElement("h3",null,s.name)),ei.default.createElement("img",{style:{margin:0},src:s.img}))),i=ei.default.createElement("i",{className:"bi bi-chevron-double-right"}),n=ei.default.createElement("i",{className:"bi bi-chevron-double-left"});return ei.default.createElement("div",{className:"bordered-carousel"},ei.default.createElement(nu.Carousel,{activeIndex:this.state.activeIndex,direction:this.state.direction,onSelect:this.handleSelect,indicators:!1,nextIcon:i,prevIcon:n},o),ei.default.createElement("a",{className:"carousel-footer carousel-footer-primary",href:r[this.state.activeIndex].url,target:"_blank",rel:"noreferrer",onClick:this.trackProjectInstructions},"View instructions"),ei.default.createElement("a",{className:"carousel-footer",href:"https://easel.com/gallery",target:"_blank",rel:"noreferrer",onClick:this.trackProjectBrowsing},"Find more projects"))})}componentDidMount(){J.addListener("show-carvey-first-job-walkthrough",()=>{J.addListener("job-completed-success",this.show)})}render(){return ei.default.createElement(nu.Modal,{show:this.state.show,onHide:this.hide},ei.default.createElement(nu.Modal.Body,{className:"walkthrough-step-container"},ei.default.createElement("div",{className:"step walkthrough-step"},ei.default.createElement("div",null,ei.default.createElement("h1",{className:"walkthrough-step-header"},"What's next?"),ei.default.createElement(nu.Row,null,ei.default.createElement(nu.Col,{sm:12},ei.default.createElement("h5",null,"Explore"),this.carousel())),ei.default.createElement(nu.Row,null,ei.default.createElement(nu.Col,{sm:12},ei.default.createElement("h5",null,"Create"),ei.default.createElement("form",{style:{display:"inline-block"},method:"POST",action:"/projects",target:"_blank"},ei.default.createElement("input",{name:"authenticity_token",type:"hidden",value:this.state.authenticityToken}),ei.default.createElement("button",{className:"btn btn-confirm btn-confirm-duo",onClick:this.trackStartNewProject},"Start a new project")),ei.default.createElement("a",{style:{display:"inline-block"},className:"btn btn-confirm btn-confirm-duo",href:"#",onClick:this.editThisProject},"Edit current project")))))))}},o5e=wR;var i5e=P("react-bootstrap"),bc=M(P("react"),1);var ph=M(P("prop-types"),1),_R=P("react-bootstrap"),dh=M(P("react"),1);var AT=class extends dh.default.Component{render(){let{title:t,nextCallback:r,nextText:o,nextWarning:i,altText:n,altAction:s,disableNext:a,notice:l}=this.props,c=r!=null&&o!=null&&dh.default.createElement(_R.Button,{variant:"primary",size:"lg",className:"confirm",onClick:r,disabled:a},o),u=s!=null&&n!=null&&dh.default.createElement(_R.Button,{variant:"default",size:"lg",className:"confirm secondary",onClick:s},n);l=l!=null&&l();let p="step walkthrough-step";return this.props.className&&(p+=" "+this.props.className),dh.default.createElement("div",{className:p},dh.default.createElement("div",null,l,dh.default.createElement("h1",{className:"walkthrough-step-header"},t),this.props.children),dh.default.createElement("div",{className:"button-container"},c,u),i&&dh.default.createElement("div",null,i))}};y(AT,"propTypes",{title:ph.default.string.isRequired,nextCallback:ph.default.func,nextText:ph.default.string,nextWarning:ph.default.object,altText:ph.default.string,altAction:ph.default.func,disableNext:ph.default.bool,notice:ph.default.func});var mt=AT;var kR=class extends bc.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1});y(this,"show",()=>{this.setState({show:!0})});y(this,"hide",()=>{this.setState({show:!1}),J.emit("show-carvey-first-job-walkthrough")})}componentDidMount(){J.addListener("show-carvey-welcome",this.show)}render(){return bc.default.createElement(i5e.Modal,{show:this.state.show,size:"xl",className:"walkthrough-modal",onHide:this.hide},bc.default.createElement("div",null,bc.default.createElement(mt,{title:"Test carving",nextCallback:this.hide,nextText:"Get Started!",backCallback:this.hide},bc.default.createElement("div",{className:"diagram"},bc.default.createElement("img",{src:EASEL_ASSETS.images.firstProject,id:"carvey-first-job-splash-img"})),bc.default.createElement("div",{className:"explanation"},bc.default.createElement("p",null,"Let's get your Carvey up and running! As a test carving, we'll engrave the Easel logo in a piece of sample material."),bc.default.createElement("p",null,"This project will walk you through the basics of how Carvey works."),bc.default.createElement("p",{className:"alert"},bc.default.createElement("b",null,bc.default.createElement("i",{className:"bi bi-exclamation-circle-fill alert"}))," Before using Carvey, make sure you've read and understand the ",bc.default.createElement("a",{href:"http://carvey-instructions.inventables.com/safetymanual/",target:"_blank",rel:"noreferrer"},"safety manual"),".")))))}},n5e=kR;var R7=P("react-bootstrap"),zn=M(P("react"),1);function Wst(e,t){t||(t=N.store.getState());let r=ye.getVolumesForWorkpiece(t,e),o=q.getMaterialThickness(t),i=re.strokeBit(t);return Qw.svgForVolumes(r,o,i)}function Vst(e,t=null){let r=N.store.getState();return s5e(e,r,t)}function s5e(e,t,r=null){let o,i=q.getActiveMaterial(t,e),n=q.getMaterialDimensions(t),s=`Material type: ${i.name}
`,a=Me.getPreferredUnit(t),l=Me.preferredUnitsPerInch(t);if(s+=`Material dimensions: ${n.x*l} ${a}`,s+=` x ${n.y*l} ${a}`,s+=` x ${n.z*l} ${a}
`,re.detailBitEnabled(t,e)?(o=re.bit(t,e),s+=`Roughing bit: ${o.width} ${o.unit}, ${o.type}
`,o=re.detailBit(t,e),r?s+=`Finishing bit: ${o.width} ${o.unit}, ${o.type}
`:s+=`Detail bit: ${o.width} ${o.unit}, ${o.type}
`):(o=re.bit(t,e),s+=`Bit: ${o.width} ${o.unit}, ${o.type}

`),r){let c=Ue.getCutStyle(t,e),u=Ue.getTransform(t,e);c.relief==="None"?s+=`Cut style: Full Depth Cutout with Auto Tabs
`:c.relief==="Rectangle"?(s+=`Cut style: Rectangle Relief
`,s+=`  Depth: ${c.depth} ${a}
`,s+=`  Padding:
`,s+=`	Front: ${c.padding.front} ${a}
`,s+=`	Left: ${c.padding.left} ${a}
`,s+=`	Back: ${c.padding.back} ${a}
`,s+=`	Right: ${c.padding.right} ${a}
`):c.relief==="Model"&&(s+=`Cut style: Model Relief
`,s+=`  Depth: ${c.depth} ${a}
`,s+=`  Padding: ${c.padding.front} ${a}
`),s+=`Transform:
`,s+=`  Orientation: ${u.orientation}
`,s+=`  Position:
`,s+=`	x: ${u.position.x} ${a}
`,s+=`	y: ${u.position.y} ${a}
`,s+=`	z: ${u.position.z} ${a}
`,s+=`  Size:
`,s+=`	x: ${u.size.x} ${a}
`,s+=`	y: ${u.size.y} ${a}
`,s+=`	z: ${u.size.z} ${a}
`,s+=`  Rotation: ${u.rotation.z}\xB0
`}return s}var TR={svgString:Wst,settingsString:Vst,settingsStringEx:s5e};var a5e=M(P("file-saver"),1);var ER=class extends zn.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1,includeAllWorkpieces:!0,downloading:!1});y(this,"showModal",()=>{this.setState({show:!0})});y(this,"hideModal",()=>{this.setState({show:!1})});y(this,"allWorkpieces",()=>{this.setState({includeAllWorkpieces:!0})});y(this,"activeWorkpiece",()=>{this.setState({includeAllWorkpieces:!1})});y(this,"addWorkpieceToZip",(r,o,i)=>{let n=`Workpiece ${o+1}`,s=n;if(r.name!=null&&r.name!==""){let p=vr.truncate(r.name,255-n.length-1);s+=` (${p})`}s=vr.sanitize(s),s===`${n} ()`&&(s=n);let a=N.store.getState(),l=W.getExternalGcode(a,r.id),c=Ue.isThreeD(a,r.id),u=new TextEncoder;l?i[`${s}/imported_gcode.nc`]=u.encode(l):c||(i[`${s}/design.svg`]=u.encode(TR.svgString(r.id,a))),i[`${s}/settings.txt`]=u.encode(TR.settingsString(r.id,c)),r.note!=null&&(i[`${s}/notes.txt`]=u.encode(r.note))});y(this,"download",()=>{if(this.state.downloading)return;let r=vr.sanitize(this.props.projectName);r.length===0&&(r="Project");let o={};if(this.state.includeAllWorkpieces){let n=this.props.workpieces;for(let s=0;s<n.length;s++){let a=n[s];this.addWorkpieceToZip(a,s,o)}}else this.addWorkpieceToZip(this.props.activeWorkpiece,0,o);let i={};Object.keys(o).forEach(n=>{i[`${r}/${n}`]=o[n]}),this.setState({downloading:!0}),this.props.trackProjectEvent(U.downloadProjectZip,{"Easel Pro Content":Array.from(this.props.inUseProFeatures).map(n=>n.label)}),globalThis.fflate.zip(i,{level:6},(n,s)=>{if(n){Ut("There was a problem downloading your project"),this.setState({downloading:!1});return}let a=new Blob([s],{type:"application/zip"});(0,a5e.default)(a,`${r}.zip`),this.setState({downloading:!1}),this.hideModal()})})}componentDidMount(){J.addListener("show-download-zip",this.showModal),J.addListener("hide-download-zip",this.hideModal)}componentWillUnmount(){J.removeListener("show-download-zip"),J.removeListener("hide-download-zip")}render(){if(!this.state.show)return null;let{show:r,downloading:o,includeAllWorkpieces:i}=this.state;return zn.default.createElement(R7.Modal,{show:r,onHide:this.hideModal,id:"download-zip-modal"},zn.default.createElement(R7.Modal.Header,{closeButton:!0},zn.default.createElement(R7.Modal.Title,null,"Download Project")),zn.default.createElement(R7.Modal.Body,null,zn.default.createElement("p",null,"Download an archive of your project as a ",zn.default.createElement("code",null,".zip")," file."),zn.default.createElement("p",null,zn.default.createElement("em",null,"STL files are not included in project downloads.")),zn.default.createElement("div",{className:"form-check"},zn.default.createElement("input",{id:"download-all-workpieces",className:"form-check-input",type:"radio",name:"workpiece-download",value:"all",checked:i,onChange:this.allWorkpieces}),zn.default.createElement("label",{htmlFor:"download-zip-modalw"},"All workpieces")),zn.default.createElement("div",{className:"form-check"},zn.default.createElement("input",{id:"download-single-workpiece",className:"form-check-input",type:"radio",name:"workpiece-download",value:"active",checked:!i,onChange:this.activeWorkpiece}),zn.default.createElement("label",{htmlFor:"download-single-workpiece"},"Current workpiece"))),zn.default.createElement(R7.Modal.Footer,null,zn.default.createElement("button",{className:"btn btn-default",onClick:this.hideModal},"Cancel"),zn.default.createElement("button",{className:"btn btn-primary",onClick:this.download,disabled:o},o?zn.default.createElement("span",null,"Processing... ",zn.default.createElement(Re,{color:"white"})):"Download ZIP file")))}},Ust=ne({mapStateToProps:e=>({inUseProFeatures:xo.getInUseProFeatures(e),projectName:ge.getProjectName(e),workpieces:W.getWorkpieces(e),activeWorkpiece:W.getActiveWorkpiece(e)}),mapDispatchToProps:e=>({trackProjectEvent:(t,r)=>e(Bt(t,r))}),component:ER}),l5e=Ust;var eg=P("react-bootstrap"),cp=M(P("react"),1);var IT=M(P("react"),1),c5e=P("react-redux");var Rst=()=>{let e=(0,c5e.useSelector)(jo.getCurrentVersionInfo),t=()=>[{operatingSystem:"Windows",url:e.windowsLink,primary:Qc.isWindows()},{operatingSystem:"Mac",url:e.macLink,primary:Qc.isMac()},{operatingSystem:"Linux",url:e.linuxLink,primary:Qc.isLinux()}];return e===void 0?IT.default.createElement("p",{className:"text-center"},"Finding download links\u2026"):IT.default.createElement("div",{className:"local-senders"},t().sort((r,o)=>o.primary-r.primary).map(r=>IT.default.createElement("a",{key:`download-option-${r.operatingSystem}`,href:r.url,className:r.primary?"btn btn-lg btn-success":"small"},"Download for ",r.operatingSystem)))},lp=Rst;var MR=class extends cp.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1});y(this,"UNSAFE_componentWillMount",()=>{J.addListener("show-driver-deprecated-modal",this.show),J.addListener("hide-driver-deprecated-modal",this.hide)});y(this,"show",()=>{this.setState({show:!0})});y(this,"hide",()=>{this.setState({show:!1})})}componentWillUnmount(){J.removeListener("show-driver-deprecated-modal",this.show),J.removeListener("hide-driver-deprecated-modal",this.hide)}render(){return cp.default.createElement(eg.Modal,{show:this.state.show,onHide:this.hide},cp.default.createElement(eg.Modal.Header,{closeButton:!0},cp.default.createElement(eg.Modal.Title,{className:"text-center"},"The Easel Driver is out of date")),cp.default.createElement(eg.Modal.Body,null,cp.default.createElement("p",null,"An updated version of the Easel Driver is available."),cp.default.createElement("p",null,"The version you have now will still work, but may be deactivated in the near future."),cp.default.createElement("p",null,"Would you like to update to the most recent version?")),cp.default.createElement("div",{className:"local-senders-container"},cp.default.createElement(lp,null),cp.default.createElement(eg.Button,{variant:"default",style:{width:250},onClick:this.hide},"Not now")))}},u5e=MR;var zb=P("react-bootstrap"),Nl=M(P("react"),1);var jst=function(e,t,r,o,i,n){let s=Ge.getSettings(N.store.getState()),a=m8(Vo.bitKeys.bit,e,t,o,i,n,s),l=m8(Vo.bitKeys.detailBit,e,r,o,i,n,s),c=ie.getSettings(N.store.getState()).join(`
`);return{project:vl.getCurrentData(),jobSettings:{bit:a.getSettings(),detailBit:l.getSettings()},gcode:"(Submitted via Help Menu)",machineSettings:c}},Gst={defaultErrorData:jst},DT=Gst;var Hst={fetchProblemSymptoms(){return Wr("/problem_symptoms")},fetchTroubleshootingFeedback(){return Wr("/troubleshooting_feedbacks")},postFeedback(e,t,r){return kt("/troubleshooting_feedbacks",JSON.stringify({problemSymptomId:e,troubleshootingPathId:t,helpful:r}))},postProblemSymptomMetric(e){return kt("/troubleshooting",JSON.stringify({problemSymptomId:e}))}},j7=Hst;var NT=Ht("troubleshooting/fetchProblemSymptoms",async()=>await j7.fetchProblemSymptoms(),{condition:(e,{getState:t})=>{let{troubleshooting:r}=t();if(r.loading||r.problemSymptoms.length>0)return!1}}),AR=Ht("troubleshooting/fetchUserFeedback",async()=>await j7.fetchTroubleshootingFeedback()),p5e=Ht("troubleshooting/postUserFeedback",async({problemSymptomId:e,troubleshootingPathId:t,helpful:r})=>await j7.postFeedback(e,t,r)),zst={isErrorReportFormVisible:!1,loading:!1,problemSymptoms:[],troubleshootingFeedback:[],errorMessage:null,selectedProblemSymptomID:null},g0=We({name:"troubleshooting",initialState:zst,reducers:{setSelectedProblemSymptomID(e,{payload:t}){e.selectedProblemSymptomID=t},setSelectedProblemSymptomLinkIdentifier(e,{payload:t}){e.selectedProblemSymptomID=e.problemSymptoms.find(r=>r.link_identifier===t)?.id||null},toggleErrorReportVisible(e){e.isErrorReportFormVisible=!e.isErrorReportFormVisible}},extraReducers:e=>{e.addCase(NT.pending,t=>{t.loading=!0}),e.addCase(NT.fulfilled,(t,{payload:r})=>{t.problemSymptoms=r,t.loading=!1,t.errorMessage=null}),e.addCase(NT.rejected,(t,{error:r})=>{t.errorMessage=r.message??"Could not load problem symptoms",t.loading=!1}),e.addCase(AR.fulfilled,(t,{payload:r})=>{t.troubleshootingFeedback=[...new Set(r)],t.errorMessage=null}),e.addCase(AR.rejected,(t,{error:r})=>{t.errorMessage=r.message??"Could not load user feedback"}),e.addCase(p5e.fulfilled,(t,{payload:r})=>(t.troubleshootingFeedback.includes(r)||t.troubleshootingFeedback.push(r),t))}}),Xst={getTroubleshootingFeedback:e=>e[g0.name].troubleshootingFeedback,getErrorMessage:e=>e[g0.name].errorMessage,isErrorReportFormVisible:e=>e[g0.name].isErrorReportFormVisible,getSelectedProblemSymptom:e=>e[g0.name].problemSymptoms.find(t=>t.id===e[g0.name].selectedProblemSymptomID)},Yst=_e([e=>e[g0.name],e=>Y.getMachineType(e)],(e,t)=>e.problemSymptoms.filter(r=>["all",t].includes(r.machine_type))),qst={actions:g0.actions,reducer:g0.reducer,...Xst,getProblemSymptoms:Yst,fetchProblemSymptoms:NT,fetchUserFeedback:AR,postUserFeedback:p5e},ys=qst;var IR=class extends Nl.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1});y(this,"UNSAFE_componentWillMount",()=>{J.addListener("show-driver-not-installed-modal",this.show),J.addListener("hide-driver-not-installed-modal",this.hide)});y(this,"show",()=>{this.setState({show:!0})});y(this,"hide",()=>{this.setState({show:!1})});y(this,"troubleshootDriver",()=>{this.hide();let{material:r,bit:o,detailBit:i,machineSettingsState:n,machineProfileId:s,isProEnabled:a,setSelectedProblemSymptomLinkIdentifier:l}=this.props,c=DT.defaultErrorData(r,o,i,n,s,a);l("driver_not_installed"),J.emit("show-troubleshooting-modal",c)})}componentDidMount(){this.props.fetchProblemSymptoms()}componentWillUnmount(){J.removeListener("show-driver-not-installed-modal",this.show),J.removeListener("hide-driver-not-installed-modal",this.hide)}render(){return Nl.default.createElement(zb.Modal,{show:this.state.show,onHide:this.hide},Nl.default.createElement(zb.Modal.Header,{closeButton:!0},Nl.default.createElement(zb.Modal.Title,{className:"text-center"},"Install the Easel Driver")),Nl.default.createElement(zb.Modal.Body,null,Nl.default.createElement("p",null,"Before you carve, you\u2019ll need to install the Easel Driver, a small program that allows the browser to communicate with your ",this.props.machineType,"."),Nl.default.createElement("p",null,"No need to worry about configuration\u2014just run the installer and you\u2019ll be ready to carve."),Nl.default.createElement("p",null,Nl.default.createElement("small",null,Nl.default.createElement("i",null,"Technical note: The Easel Driver will connect with Carvey, and Grbl versions 0.8c or newer."))),Nl.default.createElement("p",null,Nl.default.createElement("small",null,"Already installed the Easel Driver? ",Nl.default.createElement(oe,{onClick:this.troubleshootDriver},"View troubleshooting info")))),Nl.default.createElement(lp,null))}},$st=ne({mapDispatchToProps:e=>({fetchProblemSymptoms:()=>e(ys.fetchProblemSymptoms()),setSelectedProblemSymptomLinkIdentifier:t=>e(ys.actions.setSelectedProblemSymptomLinkIdentifier(t))}),mapStateToProps:e=>({machineType:bt.description(Y.getMachineType(e)),machineSettingsState:Y.getMachineSettingsState(e),machineProfileId:et.getCurrentProfileId(e),material:q.getActiveMaterial(e),bit:re.bit(e),detailBit:re.detailBit(e),isProEnabled:Q.isProEnabled(Date.now(),e)}),component:IR}),d5e=$st;var Xb=P("react-bootstrap"),mh=M(P("react"),1);var DR=class extends mh.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1});y(this,"UNSAFE_componentWillMount",()=>{J.addListener("show-driver-unsupported-modal",this.show),J.addListener("hide-driver-unsupported-modal",this.hide)});y(this,"show",()=>{this.setState({show:!0})});y(this,"hide",()=>{this.setState({show:!1})})}componentWillUnmount(){J.removeListener("show-driver-unsupported-modal",this.show),J.removeListener("hide-driver-unsupported-modal",this.hide)}render(){return mh.default.createElement(Xb.Modal,{show:this.state.show,onHide:this.hide},mh.default.createElement(Xb.Modal.Header,{closeButton:!0},mh.default.createElement(Xb.Modal.Title,{className:"text-center"},"The Easel Driver is out of date")),mh.default.createElement(Xb.Modal.Body,null,mh.default.createElement("p",null,"The version of the Easel Driver that\u2019s installed is no longer supported."),mh.default.createElement("p",null,"Please update to the most recent version.")),mh.default.createElement(lp,null))}},m5e=DR;var Kr=M(P("react"),1);var Zst=(e,t)=>{let r=JSON.stringify({feature_feedback:{details:e,product:t==="easel-cabinetmaker-feedback"?"ECM":"easel"}});return kt(`/features/${t}/feature_feedbacks`,r)},Jst={sendFeedback:Zst},OT=Jst;var f5e=We({name:"feedbackForm",initialState:{product:"easel",feedbackFormVisible:!1},reducers:{showFeedbackForm(e,{payload:t}){e.feedbackFormVisible=!0,e.product=t},hideFeedbackForm(e){e.feedbackFormVisible=!1}}}),Kst={feedbackFormVisible:e=>e.feedbackForm.feedbackFormVisible,product:e=>e.feedbackForm.product},Qst={actions:f5e.actions,reducer:f5e.reducer,...Kst},y0=Qst;var NR=class extends Kr.default.Component{constructor(){super(...arguments);y(this,"state",{isInvalid:!1,error:"",submitted:!1});y(this,"feedbackFormOptions",{easel:{feedbackLink:"easel-feedback",trackingEvent:U.submittedEaselFeedback,productName:"Easel",showScheduleCall:!1},ecm:{feedbackLink:"easel-cabinetmaker-feedback",trackingEvent:U.cabinetDesigner.submittedECMFeedback,productName:"Easel Cabinetmaker",showScheduleCall:!0}});y(this,"saveFeedback",()=>{let r=this.textInputContainer.value.trim();r.length===0?this.setState({isInvalid:!0,error:"Feedback cannot be empty."}):(this.setState({isInvalid:!1}),this.props.trackProjectEvent(this.feedbackFormOptions[this.props.product]?.trackingEvent),OT.sendFeedback(r,this.feedbackFormOptions[this.props.product]?.feedbackLink),this.setState({submitted:!0}))});y(this,"_nameChange",()=>{this.state.isInvalid&&this.setState({isInvalid:!1,error:""})});y(this,"close",()=>{this.props.hideFeedbackForm(),this.setState({submitted:!1})})}render(){if(!this.props.visible)return Kr.default.createElement(Kr.default.Fragment,null);let{isInvalid:r,error:o,submitted:i}=this.state;return i?Kr.default.createElement(Kr.default.Fragment,null,Kr.default.createElement("section",{className:"feedback-form__container"},Kr.default.createElement("div",{className:"feedback-form__submitted-contents"},Kr.default.createElement("button",{className:"feedback-form__close-button",onClick:()=>this.close()},Kr.default.createElement("strong",null,"x")),Kr.default.createElement("p",{className:"feedback-form-title"},Kr.default.createElement("strong",null,"Thank you!")),Kr.default.createElement("p",null,"We review all responses from our users. Our team reviews responses from all users."),this.feedbackFormOptions[this.props.product]?.showScheduleCall&&Kr.default.createElement(Kr.default.Fragment,null,Kr.default.createElement("p",null,Kr.default.createElement("strong",null,"Interested in chatting with our team?")),Kr.default.createElement("p",null,Kr.default.createElement("a",{href:"https://calendly.com/d/y4n-6gr-5vm/easel-cabinetmaker-beta-user-check-in?month=2024-01"},"Schedule a call")))))):Kr.default.createElement(Kr.default.Fragment,null,Kr.default.createElement("section",{className:"feedback-form__container"},Kr.default.createElement("div",{className:"feedback-form__contents"},Kr.default.createElement("button",{className:"feedback-form__close-button",onClick:()=>this.close()},Kr.default.createElement("strong",null,"x")),Kr.default.createElement("p",{className:"feedback-form-title"},Kr.default.createElement("strong",null,"Share your feedback")),Kr.default.createElement("p",null,"Have a question, comment, or suggestion about ",this.feedbackFormOptions[this.props.product]?.productName,"? Share it with our team!"),Kr.default.createElement("textarea",{ref:n=>this.textInputContainer=n,id:"feature-feedback",className:"form-control feature-feedback__input-text",onChange:this._nameChange,maxLength:1024,rows:5}),r&&Kr.default.createElement("p",{style:{color:"red"}}," ",`${o}`," "),Kr.default.createElement("div",{className:"feedback-form__btn-group"},Kr.default.createElement("button",{className:"btn btn-primary",onClick:this.saveFeedback},"Send")))))}},eat=ne({component:NR,mapDispatchToProps:{trackProjectEvent:Bt,hideFeedbackForm:y0.actions.hideFeedbackForm},mapStateToProps:e=>({visible:y0.feedbackFormVisible(e),product:y0.product(e)})}),h5e=eat;var G7=P("react-bootstrap"),Im=M(P("react"),1);var OR=class extends Im.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1});y(this,"UNSAFE_componentWillMount",()=>{J.addListener("show-firmware-mismatch-modal",this.show)});y(this,"show",()=>{this.setState({show:!0})});y(this,"hide",()=>{this.setState({show:!1})})}componentWillUnmount(){J.removeListener("show-firmware-mismatch-modal",this.show)}render(){return Im.default.createElement(G7.Modal,{show:this.state.show,onHide:this.hide},Im.default.createElement(G7.Modal.Header,{closeButton:!0},Im.default.createElement(G7.Modal.Title,{className:"text-center"},"The Easel Driver doesn\u2019t support your machine")),Im.default.createElement(G7.Modal.Body,null,Im.default.createElement("p",null,"The version of the Easel Driver that\u2019s installed doesn\u2019t support your machine."),Im.default.createElement("p",null,"Please update to the most recent version.")),Im.default.createElement(G7.Modal.Footer,null,Im.default.createElement(lp,null)))}},g5e=OR;var w5e=P("react-bootstrap"),qb=M(P("react"),1);var UR=M(P("prop-types"),1),RR=M(P("react"),1);var LR=M(P("prop-types"),1),sd=M(P("react"),1);var LT=class extends sd.default.Component{constructor(){super(...arguments);y(this,"state",{useCurrentFirmware:this.props.currentVersionNumberForMachine!=null,hasAttachedFile:!1});y(this,"handleFile",()=>{let r=this.firmware,o=new FileReader;o.onload=n=>{let s=n.target.result;return this.props.onReadHexData(s),this.setState({hasAttachedFile:!0})};let i=r.files[0];o.readAsText(i)});y(this,"useCustomFirmware",()=>{this.setState({useCurrentFirmware:!1})});y(this,"useCurrentFirmware",()=>{this.props.onUseCurrentFirmware(),this.setState({useCurrentFirmware:!0,hasAttachedFile:!1})})}render(){let{currentVersionNumberForMachine:r}=this.props;return sd.default.createElement(mt,{title:"Select a hex file",nextCallback:this.props.onNext,nextText:"Upload firmware",disableNext:!(this.state.useCurrentFirmware||this.state.hasAttachedFile)},sd.default.createElement("div",{className:"firmware-prompt-container"},r!=null&&sd.default.createElement("div",null,sd.default.createElement("label",null,sd.default.createElement("input",{type:"radio",name:"firmware-type",value:"current",checked:this.state.useCurrentFirmware,onChange:this.useCurrentFirmware}),` Version ${r}`)),it("firmware_testing")&&sd.default.createElement("div",null,sd.default.createElement("label",null,sd.default.createElement("input",{type:"radio",name:"firmware-type",value:"custom",checked:!this.state.useCurrentFirmware,onChange:this.useCustomFirmware})," Use custom firmware"),!this.state.useCurrentFirmware&&sd.default.createElement("input",{ref:o=>this.firmware=o,id:"firmware-file",type:"file",onChange:this.handleFile}))))}};y(LT,"propTypes",{onReadHexData:LR.default.func.isRequired,onUseCurrentFirmware:LR.default.func.isRequired});var tat=ne({mapStateToProps:e=>({currentVersionNumberForMachine:ac.getCurrentVersionNumberForMachine(e)}),component:LT}),y5e=tat;var tg=M(P("react"),1);var BR=class extends tg.default.Component{render(){return tg.default.createElement(mt,{title:"Firmware Upload",nextText:"Continue",nextCallback:this.props.onNext,altText:"Cancel",altAction:this.props.hide},tg.default.createElement("div",{className:"firmware-warning-container"},tg.default.createElement("img",{className:"firmware-warning-image",src:EASEL_ASSETS.images.warning}),tg.default.createElement("p",null,"Uploading firmware will reset your machine\u2019s settings."),tg.default.createElement("p",null,"When the upload completes, you will need to go through Easel Setup again before you carve.")))}},x5e=BR;var b5e=M(P("prop-types"),1),H7=M(P("react"),1);var BT=class extends H7.default.Component{componentDidMount(){if(this.props.needsToSetUp)return window.location.href="/setup"}render(){return H7.default.createElement(mt,{title:"Update successful",nextText:"Done",nextCallback:this.props.onNext},H7.default.createElement("div",{style:{textAlign:"center",marginTop:50,fontSize:22}},H7.default.createElement("p",null,"The firmware update was successful."),this.props.needsToSetUp&&H7.default.createElement("p",null,"Navigating to machine setup...")))}};y(BT,"propTypes",{needsToSetUp:b5e.default.bool.isRequired});var v5e=BT;var FR=M(P("react"),1);var Yb=M(P("prop-types"),1),su=M(P("react"),1);var FT=class extends su.default.Component{constructor(){super(...arguments);y(this,"state",{starting:!0});y(this,"UNSAFE_componentWillReceiveProps",r=>{this.state.starting&&0<r.firmwareUploadProgress&&r.firmwareUploadProgress<100?this.setState({starting:!1}):r.firmwareUploadProgress===100&&!r.firmwareIsUploading&&this.props.onNext()})}render(){let r=this.props.firmwareUploadProgress;return su.default.createElement(mt,{title:"Updating Firmware..."},su.default.createElement("div",{className:"explanation"},su.default.createElement("div",null,su.default.createElement("p",null,su.default.createElement("span",null,`Please do not disconnect or turn off your ${this.props.machineDescription}`))),this.state.starting?su.default.createElement("div",{className:"center-text"},su.default.createElement(Re,null),su.default.createElement("p",null,"Starting upload...")):su.default.createElement("div",{className:"progress firmware-upload-progress-bar"},su.default.createElement("div",{className:"progress-bar",id:"firmware-upload-progress",role:"progressbar","aria-valuenow":this.props.firmwareUploadProgress,"aria-valuemin":"0","aria-valuemax":"100",style:{width:`${r}%`}},su.default.createElement("span",null,`Upload in progress (${r}%)`)))))}};y(FT,"propTypes",{machineDescription:Yb.default.string.isRequired,firmwareUploadProgress:Yb.default.number,firmwareIsUploading:Yb.default.bool,onNext:Yb.default.func});var S5e=FT;var WR=class extends FR.default.Component{componentDidMount(){this.props.firmwareHex!=null?ke.updateFirmware(this.props.firmwareHex):fetch(this.props.hexFileURL,{headers:{"X-CSRF-Token":my()}}).then(t=>t.text()).then(t=>ke.updateFirmware(t))}render(){let t=bt.description(this.props.machineType);return FR.default.createElement(S5e,{firmwareUploadProgress:this.props.firmwareUploadProgress,firmwareIsUploading:this.props.firmwareIsUploading,machineDescription:t,onNext:this.props.onNext})}},rat=ne({mapStateToProps:e=>({hexFileURL:ac.getCurrentVersionHexFileURLForMachine(e),firmwareUploadProgress:ie.getFirmwareProgress(e),firmwareIsUploading:ie.isFirmwareUploading(e)}),component:WR}),WT=rat;var og=M(P("prop-types"),1),fh=M(P("react"),1);var VR=M(P("prop-types"),1),rg=M(P("react"),1);var VT=class extends rg.default.Component{render(){let t=`${1/this.props.titles.length*100}%`,r=this.props.titles.map((i,n)=>{let s="walkthrough-progress-step";return n===this.props.currentStepIndex&&(s+=" active"),n<this.props.currentStepIndex&&(s+=" complete"),rg.default.createElement("div",{className:s,key:`progress-step-${n}`,style:{width:t}},rg.default.createElement("span",{className:"step-title"},i))}),o=`${(this.props.currentStepIndex+.5)/this.props.titles.length*100}%`;return rg.default.createElement("div",{className:"walkthrough-progress clearfix"},rg.default.createElement("div",{className:"progress-bar"},rg.default.createElement("div",{className:"progress-bar-completed",style:{width:o}})),r)}};y(VT,"propTypes",{titles:VR.default.array.isRequired,currentStepIndex:VR.default.number.isRequired});var C5e=VT;var UT=class extends fh.default.Component{constructor(){super(...arguments);y(this,"state",{currentStep:this.props.steps[0]});y(this,"findCurrentStepIndex",()=>{let o=this.props.steps.map(i=>i.title).indexOf(this.state.currentStep.title);return o>=0?o:0});y(this,"onNext",()=>{let r=this.findCurrentStepIndex();r===this.props.steps.length-1?typeof this.props.onFinish=="function"&&this.props.onFinish():this.setState({currentStep:this.props.steps[r+1]})});y(this,"onBack",r=>{let o=this.findCurrentStepIndex();o===0?this.props.onHide():this.setState({currentStep:this.props.steps[o-1]}),r.preventDefault()})}render(){let r,o,i,n=this.findCurrentStepIndex(),s=this.props.steps[n],a=s.class;if(a==null)return null;let l=s.props||{},c=Array.from(this.props.steps).map(u=>u.title);return l=le(l,{onNext:this.onNext,onBack:this.onBack,onClose:this.props.onHide}),this.props.sidebarContents!=null&&(i=fh.default.createElement("div",{className:"walkthrough-sidebar"},this.props.sidebarContents)),this.props.showProgress&&(o=fh.default.createElement(C5e,{titles:c,currentStepIndex:n}),n>0&&!this.props.hideBackButton&&(r=fh.default.createElement(oe,{className:"navigable step-back",onClick:this.onBack},fh.default.createElement("i",{className:"bi bi-chevron-left"}),"Back"))),fh.default.createElement("div",null,o,r,fh.default.createElement("div",null,fh.default.createElement(a,l)),i)}};y(UT,"propTypes",{onFinish:og.default.func,onHide:og.default.func,steps:og.default.array.isRequired,showProgress:og.default.bool,sidebarContents:og.default.node,hideBackButton:og.default.bool});var vc=UT;var RT=class extends RR.default.Component{constructor(){super(...arguments);y(this,"onReadHexData",r=>{this.setState({hexData:r})});y(this,"onUseCurrentFirmware",()=>{this.setState({hexData:null})});y(this,"state",{hexData:null})}render(){let r=[],{currentVersionNumberForMachine:o,machineFeatures:i}=this.props,n=aw.featuresForFirmware(o),s=i?i.settingsVersion:null,a=n?n.settingsVersion:null,l=s!==a;return l&&r.push({class:x5e,title:"Warning",props:{hide:this.props.onHide}}),r.push({class:y5e,title:"Select firmware",props:{onReadHexData:this.onReadHexData,onUseCurrentFirmware:this.onUseCurrentFirmware}}),r.push({class:WT,title:"Update firmware",props:{firmwareHex:this.state.hexData}}),r.push({class:v5e,title:"Finish",props:{needsToSetUp:l}}),RR.default.createElement(vc,{onFinish:this.props.onFinish,onHide:this.props.onHide,steps:r,showProgress:!0,hideBackButton:!0})}};y(RT,"propTypes",{onHide:UR.default.func.isRequired,onFinish:UR.default.func.isRequired});var oat=ne({mapStateToProps:e=>({machineFeatures:ie.getFeatures(e),currentVersionNumberForMachine:ac.getCurrentVersionNumberForMachine(e)}),component:RT}),P5e=oat;var jR=class extends qb.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1});y(this,"show",()=>{this.setState({show:!0})});y(this,"hide",()=>{this.setState({show:!1})})}componentDidMount(){J.addListener("show-firmware-upload-walkthrough",this.show),J.addListener("hide-walkthrough",this.hide)}render(){return qb.default.createElement(w5e.Modal,{show:this.state.show,backdrop:"static",className:"firmware-upload-modal walkthrough-modal",onHide:this.hide},qb.default.createElement("div",{style:{right:10},className:"close-modal",onClick:this.hide},"\xD7"),qb.default.createElement(P5e,{onFinish:this.hide,onHide:this.hide}))}},_5e=jR;var x0=P("react-bootstrap"),Xn=M(P("react"),1);var GR=class extends Xn.default.Component{constructor(){super(...arguments);y(this,"fontsMissingFromLibrary",()=>this.props.errors.custom_fonts||[]);y(this,"fontsMissingFromVolumes",()=>this.props.errors.volume_fonts||[]);y(this,"fontsMissingFromVolumesWithoutFallback",()=>this.props.errors.volume_fonts_without_fallback||[]);y(this,"fontListContent",r=>Xn.default.createElement("ul",null,r.slice(0,11).map(o=>Xn.default.createElement("li",{key:o},o))));y(this,"missingFromLibraryContent",()=>{let r=this.fontsMissingFromLibrary();return r.length>0?Xn.default.createElement("div",{className:"panel panel-default"},Xn.default.createElement("div",{className:"panel-body"},Xn.default.createElement("p",null,"The following fonts could not be loaded from your user library. If this problems persists you can remove them from your Easel Pro font list:"),this.fontListContent(r))):null});y(this,"missingFromVolumesContent",()=>{let r=this.fontsMissingFromVolumes();return r.length>0?Xn.default.createElement("div",{className:"panel panel-default"},Xn.default.createElement("div",{className:"panel-body"},Xn.default.createElement("p",null,"Text elements using the following fonts have been converted to path elements."),this.fontListContent(r))):null});y(this,"missingFromVolumesWithoutFallbackContent",()=>{let r=this.fontsMissingFromVolumesWithoutFallback();return r.length>0?Xn.default.createElement("div",{className:"panel panel-default"},Xn.default.createElement("div",{className:"panel-body"},Xn.default.createElement("p",null,`Text elements using the following fonts have been updated to use the ${me.DEFAULT_FONT_NAME} font`),this.fontListContent(r))):null});y(this,"modalContent",()=>{if(!this.props.visible)return null;let r=Xn.default.createElement(x0.Button,{size:"lg",variant:"primary",onClick:this.onHide},"Continue"),o=this.missingFromLibraryContent(),i=this.missingFromVolumesContent(),n=this.missingFromVolumesWithoutFallbackContent();return!o&&!i&&!n?null:Xn.default.createElement("div",null,Xn.default.createElement(x0.Modal.Header,{closeButton:!0}),Xn.default.createElement(x0.Modal.Title,null,"Some fonts failed to load"),Xn.default.createElement(x0.Modal.Body,null,Xn.default.createElement("p",null,"We\u2019re sorry, but the following fonts have been revoked by the font owner or are temporarily unavailable."),o,i,n),Xn.default.createElement(x0.Modal.Footer,{className:"buttons"},r))});y(this,"onHide",()=>{this.props.hide()})}render(){return Xn.default.createElement(x0.Modal,{className:"font-error-modal",show:this.props.visible,onHide:this.onHide},this.modalContent())}},iat=ne({component:GR,mapStateToProps:e=>({errors:ft.getFontErrors(e),visible:ft.getFontErrorsModalVisible(e)}),mapDispatchToProps:e=>({hide(){return e(ft.actions.setFontErrorsVisible(!1))}})}),k5e=iat;var ng=P("react-bootstrap"),xs=M(P("react"),1);var T5e=P("react-bootstrap"),Ao=M(P("react"),1);var ln=M(P("react"),1);var ig=M(P("react"),1),jT=P("react-bootstrap"),nat=e=>{let{children:t,placement:r,delay:o=500,tooltipContent:i,id:n,display:s=!0}=e;return ig.default.createElement(jT.OverlayTrigger,{trigger:s?["hover","focus"]:[],placement:r??"top",delay:{show:o,hide:o},overlay:i?ig.default.createElement(jT.Tooltip,{id:n??"tooltip"},i):ig.default.createElement(ig.default.Fragment,null),rootClose:!0},({ref:a,...l})=>t?ig.default.cloneElement(t,{ref:a,...l}):ig.default.createElement("i",{ref:a,"data-testid":n??"tooltip",className:"bi bi-question-circle-fill ms-1",...l}))},je=nat;var sat=({title:e,children:t,...r})=>{let{id:o=null,accessory:i=null,error:n=null,tooltip:s=null,defaultOpen:a=!1,icon:l=null,onToggle:c=null,lockOpen:u=!1,bodyClassName:p=null,size:m=null}=r,[h,f]=(0,ln.useState)(a);(0,ln.useEffect)(()=>{n||a?f(!0):a||f(!1)},[n,a]);let x=()=>{u||f(v=>(c&&c(!v),!v))};return ln.default.createElement("div",{className:`collapsible-panel ${m?`collapsible-panel--${m}`:""}`,id:o},ln.default.createElement("div",{className:"collapsible-panel__header"},ln.default.createElement("div",{role:"button",className:"collapsible-panel__title justify-content-between",onClick:x},s&&ln.default.createElement(je,{placement:s.placement,tooltipContent:s.text},ln.default.createElement(ln.default.Fragment,null,ln.default.createElement("span",null,l&&ln.default.createElement("i",{className:`collapsible-panel__title__icon bi-${l}`}),e),ln.default.createElement("i",{className:`collapsible-panel__caret bi bi-chevron-${h?"down":"right"}`}))),!s&&ln.default.createElement(ln.default.Fragment,null,ln.default.createElement("span",null,l&&ln.default.createElement("i",{className:`collapsible-panel__title__icon bi-${l}`}),e),ln.default.createElement("i",{className:`collapsible-panel__caret bi bi-chevron-${h?"down":"right"}`})),n&&ln.default.createElement(je,{id:"collapsible-panel__tooltip",tooltipContent:n},ln.default.createElement("i",{className:"bi bi-exclamation-triangle collapsible-panel__error"}))),i&&ln.default.createElement("div",{className:"collapsible-panel__accessory"},i)),(h||u)&&ln.default.createElement("div",{className:p?`collapsible-panel__body ${p}`:"collapsible-panel__body"},t))},Ol=sat;var HR=class extends Ao.default.Component{render(){return Ao.default.createElement("div",null,Ao.default.createElement(T5e.Alert,{variant:"info"},"Toolpaths must be absolutely positioned inside the work area, away from the clamps. If you are using multiple bits, you also must export only one tool per file."),Ao.default.createElement(Ol,{defaultOpen:!1,title:"Autodesk Fusion 360"},Ao.default.createElement("p",null,"Download the ",Ao.default.createElement("a",{href:EASEL_ASSETS.postProcessors.fusion360,download:"Easel.cps"},"Easel post-processor for Fusion 360")),Ao.default.createElement("p",null,"For Windows"),Ao.default.createElement("ul",null,Ao.default.createElement("li",null,"In Fusion 360, open the Post Process dialog under CAM and set the configuration folder to a folder containing the downloaded Easel.cps"),Ao.default.createElement("li",null,"Select Easel.cps as the post configuration.")),Ao.default.createElement("p",null,"For Mac"),Ao.default.createElement("ul",null,Ao.default.createElement("li",null,"Follow ",Ao.default.createElement("a",{href:"https://inventables.zendesk.com/hc/en-us/articles/360012593133-Installing-Fusion-360-Post-Processor",target:"_blank",rel:"noreferrer"},"these directions")," to install the post processor."),Ao.default.createElement("li",null,"Select Easel.cps as the post configuration."))),Ao.default.createElement(Ol,{defaultOpen:!1,title:"MeshCAM"},Ao.default.createElement("p",null,"You do not need to download a post-processor for MeshCAM, you can use the built-in post-processor ",Ao.default.createElement("code",null,"Basic_Gcode-Inch"),"."),Ao.default.createElement("p",null,"There are a few important things to keep in mind using MeshCAM with Easel. ",Ao.default.createElement("a",{href:"https://inventables.zendesk.com/hc/en-us/articles/360012848173-Using-MeshCAM-with-Easel",target:"_blank",rel:"noreferrer"},"This guide has more details."))),Ao.default.createElement(Ol,{defaultOpen:!1,title:"Vectric V-Carve, Aspire, Cut2D"},Ao.default.createElement("ul",null,Ao.default.createElement("li",null,"Download the ",Ao.default.createElement("a",{href:EASEL_ASSETS.postProcessors.vectric,download:"Easel.pp"},"Easel post-processor for Vectric")),Ao.default.createElement("li",null,'Go to "File" -> "Open Application Data Folder..."'),Ao.default.createElement("li",null,"Copy the downloaded post-processor into the PostP folder."))),Ao.default.createElement(Ol,{defaultOpen:!1,title:"Other"},"For creating post-processors for other programs, check our ",Ao.default.createElement("a",{href:"https://site.inventables.com/support/customer/en/portal/articles/2258567-easel-g-code-spec",target:"_blank",rel:"noreferrer"},"Official G-code Spec")," for information about how to format g-code so that it can be imported. If you make a post-processor, get in touch and we can post it here!"))}},E5e=HR;var zR=class extends xs.default.Component{constructor(){super(...arguments);y(this,"state",{open:!1,contents:null,progress:0,error:null,filename:null});y(this,"fileFormRef",xs.default.createRef());y(this,"resetAndOpen",()=>this.setState({open:!0,contents:null,progress:0,error:null}));y(this,"close",()=>this.setState({open:!1}));y(this,"onGcodeValidated",r=>{try{JP(this.state.contents.split(`
`)),vl.workpieceForImport(this.state.filename).then(()=>{setTimeout(()=>{this.props.setExternalGcode(r),H.trackEvent("Imported G-code"),this.close()},100)})}catch(o){this.onValidationError(o)}});y(this,"onValidationError",r=>this.setState({error:r}));y(this,"onUpdate",(r,o,i)=>this.setState({progress:Math.floor(100*o/i)}));y(this,"initialPosition",()=>this.props.isCarvey?{x:20/25.4,y:20/25.4,z:20/25.4}:{x:0,y:0,z:this.props.safetyHeight});y(this,"onFileReaderLoad",r=>{let o=r.target.result;return this.fileFormRef.current.reset(),this.setState({contents:o}),V3.validate({gcodeString:o,keepInRects:this.props.keepInRects,keepOutRects:this.props.keepOutRects,initialPosition:this.initialPosition(),update:this.onUpdate,done:this.onGcodeValidated}).catch(i=>i.lineNumber!=null&&i.gcodeLine!=null&&i.message!=null?this.onValidationError(i):Promise.reject(i))});y(this,"onFileChange",r=>{let o=r.target.files[0],i=new FileReader;this.setState({filename:o.name}),i.onload=this.onFileReaderLoad,i.readAsText(o)})}componentDidMount(){return J.addListener("import-gcode",()=>this.resetAndOpen())}render(){let{open:r,contents:o,error:i}=this.state;return xs.default.createElement(ng.Modal,{show:r,onHide:this.close,size:"lg"},xs.default.createElement(ng.Modal.Header,{closeButton:!0},xs.default.createElement(ng.Modal.Title,null,"G-code Import")),xs.default.createElement(ng.Modal.Body,null,o&&!i&&xs.default.createElement("div",null,xs.default.createElement("h4",null,"Validating..."),xs.default.createElement(ng.ProgressBar,{now:this.state.progress})),i&&xs.default.createElement("div",{className:"alert alert-danger"},xs.default.createElement("h5",null,"Invalid G-code"),xs.default.createElement("pre",null,`Line ${i.lineNumber}: ${i.gcodeLine}
${i.message}`),xs.default.createElement("p",null,"You must use one of our official post-processors in order to import external gcode.")),!o&&xs.default.createElement("div",null,xs.default.createElement("form",{ref:this.fileFormRef,className:"well"},xs.default.createElement("input",{type:"file",onChange:this.onFileChange,id:"gcode-file",accept:".nc,.gcode"})),xs.default.createElement("hr",null),xs.default.createElement("p",null,"Follow the instructions below for exporting from your CAM program."),xs.default.createElement(E5e,null))))}},aat=ne({mapDispatchToProps:e=>({setExternalGcode:t=>e(W.actions.setExternalGcode(t))}),mapStateToProps:e=>({isCarvey:Y.isCarvey(e),keepInRects:Y.getKeepInRects(e),keepOutRects:Y.getKeepOutRects(e),safetyHeight:Ge.getSafetyHeight(e)}),component:zR}),M5e=aat;var hi=M(P("react"),1),z7=P("react-bootstrap");var X7=P("react-redux");var lat=()=>{let[e,t]=(0,hi.useState)(!1),[r,o]=(0,hi.useState)(""),[i,n]=(0,hi.useState)(!1),[s,a]=(0,hi.useState)(!1),l=hi.default.useRef(null),c=(0,X7.useSelector)(Y.getWorkArea),u=(0,X7.useSelector)(St.getWorkpieceViewport),p=(0,X7.useSelector)(St.getEditorSize),m=(0,X7.useDispatch)();(0,hi.useEffect)(()=>{let b=()=>t(!0);return J.addListener("show-import-project-modal",b),()=>{J.removeListener("show-import-project-modal",b)}},[]);let h=()=>{t(!1),o(""),n(!1)},f=b=>{o(b.target.value)},x=()=>{let{dimensions:b,volumes:S}=JSON.parse(r);m(W.actions.setMaterialDimensions({dimensions:b})),S.forEach(_=>{_.id=null});let w=Dr.getShift(S,c.y,u,p);m(W.actions.volumesAdd(S,w)),h()},v="copy(JSON.stringify({dimensions: _EASEL.Store.getState().materials.byWorkpieceId[_EASEL.Store.getState().workpieces.activeWorkpieceId].dimensions,volumes: Object.values(_EASEL.Store.getState().volumes.byWorkpieceId[_EASEL.Store.getState().workpieces.activeWorkpieceId].entities)}))";return hi.default.createElement(z7.Modal,{show:e,onHide:h},hi.default.createElement(z7.Modal.Header,{closeButton:!0},hi.default.createElement(z7.Modal.Title,null,"Import Project")),hi.default.createElement(z7.Modal.Body,null,hi.default.createElement("div",{className:"form-group"},hi.default.createElement("label",{htmlFor:"project-json",className:"d-flex align-items-center gap-2"},"Paste Project JSON",hi.default.createElement("i",{ref:l,className:"bi bi-question-circle",onClick:()=>n(!i),style:{cursor:"pointer"}})),i&&hi.default.createElement("div",null,hi.default.createElement("p",null,"To get the JSON for an Easel project, run the following command in the developer console of the project you want to import:"),hi.default.createElement("div",{className:"code-block"},hi.default.createElement("code",null,v),hi.default.createElement(je,{placement:"top",tooltipContent:s?"Copied!":"Copy command",delay:200},hi.default.createElement(oe,{onClick:()=>{navigator.clipboard.writeText(v),a(!0),setTimeout(()=>a(!1),1500)}},hi.default.createElement("i",{className:s?"bi bi-check":"bi bi-clipboard"}))))),hi.default.createElement("textarea",{id:"project-json",className:"form-control",value:r,onChange:f,rows:10,placeholder:"Paste project JSON here..."}))),hi.default.createElement(z7.Modal.Footer,null,hi.default.createElement("button",{className:"btn btn-primary",onClick:x,disabled:!r.trim()},"Import")))},A5e=lat;var Zb=P("react-bootstrap"),fr=M(P("react"),1),Jb=P("react-redux");var XR=M(P("react"),1),cat=({type:e,showWarning:t})=>{let r=`easel-pro-label ${e?`label-${e}`:""}`;return XR.default.createElement("span",{className:r},t&&XR.default.createElement("i",{className:"bi bi-exclamation-circle-fill"}),"Pro")},qt=cat;var wn=M(P("react"),1);var ad=M(P("prop-types"),1),au=M(P("react"),1),D5e=P("react-redux");var I5e=["I watched the storm, so beautiful yet terrific.","The spectacle before us was indeed sublime.","A shining crescent far beneath the flying vessel.","Mist enveloped the ship three hours out from port.","Then came the night of the first falling star."],N5e=({family:e,installFont:t,uninstallFont:r,failed:o,isNew:i,fontLoaded:n,previewText:s,installed:a,provider:l,category:c})=>{let u=(0,D5e.useDispatch)(),p=(b,S)=>qd.loadFont(b).then(w=>u(ft.actions.setFontData([{name:b,font:w}]))).catch(()=>{console.warn(`Font ${b} failed to load - removed from list!`),u(ft.actions.removeFontFromLibrary({name:b,category:S}))});(0,au.useEffect)(()=>{n||p(e,c)},[]);let m=b=>{let S=b.charCodeAt(0)+b.charCodeAt(b.length-1);return I5e[S%I5e.length]},h=b=>au.default.createElement("button",{onClick:()=>t(e,"googlefonts"),type:"button",className:`btn ${b} btn-xs pull-right`},"Install"),f=b=>{l==="uploaded"?As("Delete custom font?","The selected custom font will be removed. You can upload the file again to use this font.",()=>r(b,l)):r(b,l)},x=b=>au.default.createElement("button",{onClick:()=>f(e),type:"button",className:`btn ${b} btn-xs pull-right`},"Remove"),v;return n&&(a?v=o?h("btn-danger"):x("btn-default"):v=o?x("btn-danger"):h("btn-primary")),au.default.createElement("div",{className:"font-preview"},au.default.createElement("div",{className:"font-preview-header"},au.default.createElement("label",null,e,i&&au.default.createElement("span",{className:"badge text-bg-success"},"New"),l==="uploaded"&&au.default.createElement("span",{className:"badge text-bg-warning"},"Custom")),v),au.default.createElement("div",null,n&&au.default.createElement("h2",{style:{fontFamily:Bo(e,l)}},s.length>0?s:m(e)),!n&&au.default.createElement("img",{src:EASEL_ASSETS.images.spinner,alt:`Loading font ${e}`})))};N5e.propTypes={family:ad.default.string.isRequired,installFont:ad.default.func.isRequired,uninstallFont:ad.default.func.isRequired,failed:ad.default.bool,isNew:ad.default.bool,fontLoaded:ad.default.bool,previewText:ad.default.string,installed:ad.default.bool,provider:ad.default.string,category:ad.default.string};var O5e=N5e;var $b=P("react-redux"),uat=e=>{let t=(0,wn.useRef)(null),[r,o]=(0,wn.useState)(10),[i,n]=(0,wn.useState)(!1),s=(0,$b.useSelector)(ft.getFontLibrary),a=(0,$b.useSelector)(ft.getInstalledFonts),l=(0,$b.useSelector)(ft.getUserFonts),c=(0,$b.useSelector)(ft.getToolbarFonts),u=(0,wn.useMemo)(()=>c.map(T=>T.name),[c]),{category:p,installFont:m,uninstallFont:h,failedFonts:f,previewText:x,searchTerm:v}=e;(0,wn.useEffect)(()=>{o(10),n(!0)},[p]);let b=T=>{let A=s.find(L=>L.displayName===T)?.createdAt;if(!A)return!1;let O=typeof A=="string"?new Date(A).getTime():A;return me.EASEL_LOADED_TIMESTAMP.getTime()-O<me.FOUR_MONTHS},S=(0,wn.useMemo)(()=>{let T;if(p==="Added Fonts")T=a;else if(p==="New")T=s.filter(A=>{let O=typeof A.createdAt=="string"?new Date(A.createdAt).getTime():A.createdAt;return me.EASEL_LOADED_TIMESTAMP.getTime()-O<me.FOUR_MONTHS});else if(p==="All"){let A=new Set(s.map(L=>L.displayName)),O=a.filter(L=>!A.has(L.displayName));T=[...s,...O].sort((L,R)=>L.displayName.localeCompare(R.displayName))}else T=s.filter(A=>A.category===p);return T.filter(A=>A.displayName.toLowerCase().includes((v||"").toLowerCase()))},[p,s,a,v]),w=(0,wn.useMemo)(()=>S.slice(0,r),[S,r]);(0,wn.useEffect)(()=>{i&&w.every(A=>l[Bo(A.displayName,A.provider)]!=null)&&n(!1)},[i,w,l]);let _=(0,wn.useCallback)(()=>{r<S.length&&(o(T=>T+10),n(!0))},[r,S.length]),E=(0,wn.useCallback)(()=>{if(!t.current||i)return;let{scrollTop:T,scrollHeight:A,clientHeight:O}=t.current;A-T-O<200&&_()},[_,i]);return(0,wn.useEffect)(()=>{let T=t.current;return T&&(T.addEventListener("scroll",E),T.scrollHeight<=T.clientHeight&&!i&&_()),()=>{T&&T.removeEventListener("scroll",E)}},[E,_,i]),wn.default.createElement("div",{ref:t,className:"scrollable-content"},w.map(T=>wn.default.createElement(O5e,{key:Bo(T.displayName,T.provider),family:T.displayName,provider:T.provider,isNew:b(T.displayName),category:p,installFont:m,uninstallFont:h,failed:f[T.displayName],fontLoaded:l[Bo(T.displayName,T.provider)]!=null,installed:u.includes(T.displayName),previewText:x})),S.length===0&&wn.default.createElement("p",{className:"text-muted"},p==="Added Fonts"?"You have not yet installed any Easel Pro fonts. To install a font, use the categories on the left.":"This category is currently empty."),i&&w.length>0&&S.length>w.length&&wn.default.createElement("div",{className:"font-loading-indicator text-center p-2"},wn.default.createElement("span",null,"Loading more fonts...")))},L5e=uat;var Io=M(P("react"),1),U5e=P("react-redux"),R5e=M(P("opentype.js"),1);var Y7=M(P("react"),1),sg=P("react-redux");function pat(e){let t=(0,sg.useDispatch)(),r=(0,sg.useSelector)(q.getMaterialThickness),o=(0,sg.useSelector)(Y.getWorkArea),i=(0,sg.useSelector)(St.getWorkpieceViewport),n=(0,sg.useSelector)(St.getEditorSize);return Y7.default.createElement(Y7.default.Fragment,null,Y7.default.createElement("p",null,"Your font has been uploaded."),Y7.default.createElement("div",{className:"d-grid gap-2 col-6 mx-auto"},Y7.default.createElement("button",{className:"btn btn-primary fs-2",onClick:()=>{let{fontFamily:a}=e,c={shape:$r.buildText(a,"uploaded"),cut:{type:"fill",depth:ot.defaultShapePlacementDepth(r)}},u=Dr.getShift([c],o.y,i,n);t(Dr.addAndSelectVolume(c,u)),t(ft.actions.setFontListVisible(!1)),t(Bt(U.fontChanged,{"Font Name":zd(a)[0],"Font Type":"Custom"}))},style:{fontFamily:Bo(e.fontFamily,"uploaded")}},"Use ",e.fontFamily," now")))}var B5e=pat;var W5e=M(P("react"),1);var b0=P("react");function dat(e){let[t,r]=(0,b0.useState)(!1),o=(0,b0.useCallback)(l=>{l.dataTransfer.clearData()},[]),i=(0,b0.useCallback)(l=>{l.preventDefault(),l.stopPropagation(),l.dataTransfer.types.includes("Files")&&r(!0)},[]),n=(0,b0.useCallback)(l=>{l.preventDefault(),l.stopPropagation(),l.currentTarget.contains(l.relatedTarget)||r(!1)},[]),s=(0,b0.useCallback)(l=>{l.preventDefault(),l.stopPropagation()},[]),a=(0,b0.useCallback)(l=>{l.preventDefault(),l.stopPropagation(),r(!1),l.dataTransfer.files?.length>0&&e(l.dataTransfer.files)},[e]);return{isDragging:t,handleDragStart:o,handleDragEnter:i,handleDragLeave:n,handleDragOver:s,handleDrop:a}}var F5e=dat;var mat=({onDrop:e,children:t})=>{let{isDragging:r,handleDragStart:o,handleDragEnter:i,handleDragLeave:n,handleDragOver:s,handleDrop:a}=F5e(e);return W5e.default.createElement("div",{onDragStart:o,onDragEnter:i,onDragLeave:n,onDragOver:s,onDrop:a,className:`drag-and-drop-files ${r?"drag-and-drop-files--dragging":""} `},t)},V5e=mat;var fat=()=>{let[e,t]=(0,Io.useState)(null),[r,o]=(0,Io.useState)(""),[i,n]=(0,Io.useState)(null),[s,a]=(0,Io.useState)(!1),[l,c]=(0,Io.useState)(!1),[u,p]=(0,Io.useState)([]),m=(0,U5e.useDispatch)(),h=v=>{let b=v instanceof FileList?v[0]:v;p([]),t(b),o(b.name.split(".").slice(0,-1).join(".")),f(b)},f=async v=>{try{let b=await v.arrayBuffer();R5e.default.parse(b);let S=new FontFace("tempname",b);if(await S.load(),S.status==="error")throw new Error("Could not parse font face");n(S),document.fonts.add(S)}catch(b){i&&document.fonts.delete(i),p(["There was an issue uploading your font. Please select a different file and try again."]),o(""),t(null),n(null),H.trackEvent(U.fontUploadError,{"Error Message":b.toString()})}},x=()=>{if(r.match(/[^0-9a-z\-_]/i)){p(["Font name can only be letters and numbers, spaces and special characters are not allowed"]);return}a(!0),p([]),jf.upload(e,r).then(async v=>{v.errors?p(Object.values(v.errors).flat()):(await qr.loadFont(r,v.font.customFileUrl,"uploaded"),m(ft.actions.setFontData([{name:r,font:{baselineOffsetFraction:me.DEFAULT_FONT_BASELINE_OFFSET_FRACTION,displayName:r,opentypePath:v.font.customFileUrl,provider:"uploaded"}}])),m(ft.actions.addFontsToToolbar([{fontFamily:r,fontProvider:"uploaded"}])),H.trackEvent(U.proContent.customFontUploaded,{fontFamily:r,fontProvider:"uploaded"}),c(!0),i&&document.fonts.delete(i))}).catch(()=>a(!1)).finally(()=>a(!1))};return Io.default.createElement("div",{className:"p-2 d-grid gap-3"},l&&Io.default.createElement(B5e,{fontFamily:r}),!l&&Io.default.createElement(Io.default.Fragment,null,Io.default.createElement("p",null,"Easel supports TTF, OTF and WOFF files. See ",Io.default.createElement("a",{href:"https://inventables.zendesk.com/hc/en-us/articles/29448607953939-Easel-Pro-Feature-Custom-Fonts",target:"_blank",rel:"noreferrer"},"Support Center")," for more information."),u.map((v,b)=>Io.default.createElement("p",{key:`font-upload-error-${b}`,className:"alert alert-danger"},v)),(!e||u.length>0)&&Io.default.createElement(V5e,{onDrop:h},Io.default.createElement("label",{htmlFor:"font-file",className:"col-form-label"},!e&&"Click to upload a file, or drop it here",e&&"File attached, click Upload to continue"),Io.default.createElement("input",{className:"d-none",type:"file",id:"font-file",onChange:v=>h(v.target.files[0]),accept:".ttf,.otf,.woff"})),e&&Io.default.createElement("div",{className:"row"},Io.default.createElement("label",{className:"col-form-label col-2"},"Font name"),Io.default.createElement("div",{className:"col-10"},Io.default.createElement("input",{className:"form-control",id:"font-file-name",value:r,onChange:v=>o(v.target.value)}))),i&&Io.default.createElement("p",{className:"text-center fs-1",style:{fontFamily:"tempname"}},"ABCDEFGHIJKLMNOPQRSTUVWXYZ",Io.default.createElement("br",null),"0123456789"),e&&!s&&Io.default.createElement("div",{className:"d-grid col-6 mx-auto"},Io.default.createElement("button",{className:"btn btn-primary",type:"button",onClick:x},"Upload")),s&&Io.default.createElement("div",{className:"position-relative"},Io.default.createElement("div",{className:"position-absolute top-50 start-50 translate-middle"},Io.default.createElement(Re,null)))))},j5e=fat;var hat=()=>{let e=(0,Jb.useDispatch)(),t=(0,Jb.useSelector)(A=>ft.isFontListVisible(A)),r=(0,Jb.useSelector)(A=>ft.getFontLibrary(A)),o=()=>e(ft.actions.setFontListVisible(!1)),i=(A,O)=>e(ft.actions.addFontsToToolbar([{fontFamily:A,fontProvider:O}])),n=(A,O)=>e(ft.actions.removeFontFromToolbar({family:A,provider:O})),[s,a]=(0,fr.useState)("All"),[l,c]=(0,fr.useState)({}),[u,p]=(0,fr.useState)(""),[m,h]=(0,fr.useState)(""),[f,x]=(0,fr.useState)(1),v=(A,O)=>(H.trackEvent(U.fontInstalled,A),i(A,O),jf.create(A).catch(L=>{console.error(`There was a problem saving font '${A} to user account': ${L}`),Ut(`There was a problem saving '${A}' to your account for next time. Make sure you're connected to the Internet and try again.`),c(R=>xi(R,[A],!0))})),b=(A,O)=>(H.trackEvent(U.fontUninstalled,{fontFamily:A,fontProvider:O}),jf.destroy(A,O).then(()=>{n(A,O)}).catch(L=>{console.error(`There was a problem removing font '${A} from user account': ${L}`),Ut(`There was a problem removing '${A}' from your account for next time. Make sure you're connected to the Internet and try again.`),c(R=>xi(R,[A],!0))})),S=A=>{a(A),h(""),x(O=>O+1)},w=A=>{p(A)},_=A=>{h(A)},T=(()=>{let A=["All","New","Serif","Sans Serif","Cursive","Handwriting","Monospace","Slab","Stencil","Uppercase","Halloween"];return r.some(L=>me.EASEL_LOADED_TIMESTAMP.getTime()-Number(L.createdAt)<me.FOUR_MONTHS)||A.splice(A.findIndex(L=>L==="New"),1),A})();return t?fr.default.createElement(Zb.Modal,{show:t,onHide:o,size:"xl",dialogClassName:"library-fonts"},fr.default.createElement(Zb.Modal.Header,{closeButton:!0},fr.default.createElement(Zb.Modal.Title,null,"Font Library ",fr.default.createElement(qt,null))),fr.default.createElement(Zb.Modal.Body,null,fr.default.createElement("div",{className:"modal-columns"},fr.default.createElement("div",{className:"column-nav library-fonts__nav"},fr.default.createElement("ul",{className:"nav flex-column nav-pills"},fr.default.createElement("li",{className:"nav-item"},fr.default.createElement(oe,{className:`${s==="Upload Font"?"active":""} nav-link`,onClick:()=>S("Upload Font")},fr.default.createElement("i",{className:"bi bi-upload"})," Upload Font")),fr.default.createElement("li",{className:"nav-item"},fr.default.createElement(oe,{className:`${s==="Added Fonts"?"active":""} nav-link`,onClick:()=>S("Added Fonts")},"Added Fonts"))),fr.default.createElement("hr",null),fr.default.createElement("ul",{className:"nav flex-column nav-pills"},T.map(A=>fr.default.createElement("li",{key:`category-${A}`,className:"nav-item"},fr.default.createElement(oe,{className:`${A===s?"active":""} nav-link`,onClick:()=>S(A)},A))))),fr.default.createElement("div",{className:"column-content"},s&&s!=="Upload Font"&&fr.default.createElement(fr.default.Fragment,null,fr.default.createElement("div",{className:"library-fonts-filters"},fr.default.createElement("div",{className:"input-group"},fr.default.createElement(Vn,{id:"font-search-input",placeholder:"Search fonts",initialValue:m,onChange:_,submit:_,className:"form-control"}),fr.default.createElement("span",{className:"input-group-text"},fr.default.createElement("i",{className:"bi bi-search"}))),fr.default.createElement("div",{className:"input-group"},fr.default.createElement(Vn,{id:"font-preview-text",placeholder:"Type here to preview custom text",initialValue:u,onChange:w,submit:w,className:"form-control"}),fr.default.createElement("span",{className:"input-group-text"},fr.default.createElement("i",{className:"bi bi-fonts"})))),fr.default.createElement(L5e,{category:s,searchTerm:m,previewText:u,installFont:v,uninstallFont:b,failedFonts:l})),s==="Upload Font"&&fr.default.createElement(j5e,{key:f}))))):null},G5e=hat;var t9=P("react-bootstrap"),Bl=M(P("react"),1);var cg=M(P("prop-types"),1),Z5e=P("react-bootstrap"),lu=M(P("react"),1);var Ll=M(P("react"),1);var ag=M(P("prop-types"),1),hh=M(P("react"),1);var GT=class extends hh.default.Component{constructor(){super(...arguments);y(this,"onChange",r=>{this.props.onToggle(r.target.checked)})}render(){return hh.default.createElement("span",{className:"toggle-switch"},this.props.label!=null&&hh.default.createElement("label",{className:"toggle-switch__label",onClick:()=>this.props.onToggle(!this.props.enabled)},this.props.label),this.props.offLabel!=null&&hh.default.createElement("label",{className:"toggle-switch__off",htmlFor:this.props.id,onClick:()=>this.props.onToggle(!1)},this.props.offLabel),hh.default.createElement("label",{id:this.props.id,className:`toggle-switch__switch ${this.props.disabled?"disabled":""}`},hh.default.createElement("input",{id:this.props.id,type:"checkbox",checked:this.props.enabled,onChange:this.onChange,disabled:this.props.disabled}),hh.default.createElement("span",{className:"toggle-switch__slider"})),this.props.onLabel!=null&&hh.default.createElement("label",{className:"toggle-switch__on",htmlFor:this.props.id,onClick:()=>this.props.onToggle(!0)},this.props.onLabel))}};y(GT,"propTypes",{disabled:ag.default.bool,enabled:ag.default.bool.isRequired,label:ag.default.string,offLabel:ag.default.string,onLabel:ag.default.string,onToggle:ag.default.func.isRequired});var lg=GT;var YR=class extends Ll.default.Component{constructor(){super(...arguments);y(this,"idStepInput","");y(this,"UNSAFE_componentWillMount",()=>{this.idStepInput="step-interval-"+Math.random().toString(36).substr(2)});y(this,"updateUnit",r=>{this.props.setUnit(r?"mm":"in")})}render(){let{stepIntervalXY:r,stepIntervalZ:o,stepUnit:i,context:n,setInterval:s}=this.props,a=n==="planing"?{mm:[.01,.1,1],in:[.001,.01,.1,1]}:{mm:[.01,.1,1,10],in:[.001,.01,.1,1]},l=n==="planing"?{mm:[.01,.1,1],in:[.001,.01,.1,1]}:{mm:[.01,.1,1,10],in:[.001,.01,.1,1]};return Ll.default.createElement("div",{className:"step-interval"},Ll.default.createElement("div",{className:"step-interval__units"},Ll.default.createElement("label",null,"Interval"),Ll.default.createElement(lg,{offLabel:"in ",onLabel:" mm",enabled:i==="mm",onToggle:this.updateUnit})),Ll.default.createElement("div",{className:"step-interval__presets xy_presets"},Ll.default.createElement("label",null,"X Y"),a[i].map(c=>Ll.default.createElement("button",{key:c,className:`btn ${c===r?"btn-primary":"btn-default"}`,onClick:()=>s(c,i,"xy")},c))),Ll.default.createElement("div",{className:"step-interval__presets z_presets"},Ll.default.createElement("label",null,"Z"),l[i].map(c=>Ll.default.createElement("button",{key:c,className:`btn ${c===o?"btn-primary":"btn-default"}`,onClick:()=>s(c,i,"z")},c))),Ll.default.createElement("div",{className:"step-interval__custom"},Ll.default.createElement("label",{htmlFor:this.idStepInput},"Custom XY"),Ll.default.createElement(Eo,{id:this.idStepInput,value:r,unit:i,showUnit:!0,onChange:(c,u)=>s(c,u,"xy"),precision:4,increment:i==="mm"?1:.1})))}},H5e=YR;var Kb=M(P("react"),1);var gat=function(){return Kb.default.createElement(rn,{id:"machine-parking-warning",className:"easel-pro-popover",placement:"bottom",popoverTitle:"Park Machine",popoverContent:Kb.default.createElement("span",null,"Parking your machine requires an Easel Pro subscription. ",Kb.default.createElement(oe,{href:"https://inventables.zendesk.com/hc/en-us/articles/360012849133-Easel-Pro-FAQ-and-Overview",target:"_blank"},"Learn more."))},Kb.default.createElement(qt,null))},HT=gat;var q7=M(P("react"),1);var yat=()=>q7.default.createElement("div",{className:"d-flex justify-content-center mt-2"},q7.default.createElement("button",{className:"btn btn-outline-danger mx-1",onClick:ke.lockMotors},q7.default.createElement("i",{className:"bi bi-lock"})," Lock Motors"),q7.default.createElement("button",{className:"btn btn-outline-success mx-1",onClick:ke.unlockMotors},q7.default.createElement("i",{className:"bi bi-unlock2"})," Unlock Motors")),z5e=yat;var v0=M(P("prop-types"),1),Ka=M(P("react"),1);var Qb=class extends Ka.default.Component{constructor(){super(...arguments);y(this,"format",r=>Ve.convertToUnit(r,"mm",this.props.unit).toFixed(this.props.precision));y(this,"getPositionContent",(r,o,i)=>Ka.default.createElement("pre",{className:"react-pre"},Ka.default.createElement("table",null,Ka.default.createElement("tbody",null,Ka.default.createElement("tr",{className:"position-reporter__x-axis"},Ka.default.createElement("td",{className:"axis-label"},"X"),Ka.default.createElement("td",null,this.format(r))),Ka.default.createElement("tr",{className:"position-reporter__y-axis"},Ka.default.createElement("td",{className:"axis-label"},"Y"),Ka.default.createElement("td",null,this.format(o))),Ka.default.createElement("tr",{className:"position-reporter__z-axis"},Ka.default.createElement("td",{className:"axis-label"},"Z"),Ka.default.createElement("td",null,this.format(i)))))))}render(){let{isMachineHomed:r,disabled:o,disabledMessage:i,x:n,y:s,z:a}=this.props;return Ka.default.createElement("div",{className:`position-reporter ${r?"":"position-reporter--disabled"}`},o&&Ka.default.createElement(je,{placement:"top",id:"dro-warning",tooltipContent:i},this.getPositionContent(0,0,0)),!o&&this.getPositionContent(n,s,a))}};y(Qb,"propTypes",{x:v0.default.number.isRequired,y:v0.default.number.isRequired,z:v0.default.number.isRequired,unit:v0.default.string.isRequired,disabled:v0.default.bool.isRequired,disabledMessage:v0.default.string,precision:v0.default.number}),y(Qb,"defaultProps",{precision:3,disabled:!1});var e9=Qb;var ld=M(P("react"),1),xat=({homeMachine:e,workZero:t,isHomingEnabled:r})=>ld.default.createElement("div",{className:"jogging-controls__presets"},!r&&ld.default.createElement("span",null,ld.default.createElement("i",{className:"text-danger bi bi-exclamation-circle"})," Homing is not enabled on your machine. To use homing and work zero, set up your machine again."),r&&ld.default.createElement(ld.default.Fragment,null,ld.default.createElement("div",{className:"d-flex justify-content-center"},ld.default.createElement("button",{className:"btn btn-primary m-1",onClick:e},"Home"),ld.default.createElement("button",{className:"btn btn-primary m-1",onClick:t},"Work Zero *")),ld.default.createElement("div",null,ld.default.createElement("em",null,"* Homes the machine first to ensure correct origin")))),X5e=xat;var oa=M(P("react"),1),Y5e=`M 10 85
v -42
a 5 5 0 0 1 2 -5
l 30 -30
a 5 5 0 0 1 6 0
l 30 30
a 5 5 0 0 1 2 5
v 42
a 5 5 0 0 1 -5 5
h -60
a 5 5 0 0 1 -5 -5`,$7=function(e,t,r){let o={left:{amount:-1,transform:"translate(50 240) rotate(270)",symbolPath:"M 45 49 v 28"},right:{amount:1,transform:"translate(240 150) rotate(90)",symbolPath:"M 31 63 h 28 m -14 -14 v 28"},up:{amount:1,transform:"",symbolPath:"M 31 63 h 28 m -14 -14 v 28"},down:{amount:-1,transform:"translate(90 190) rotate(180)",symbolPath:"M 31 63 h 28"},zUp:{amount:1,transform:"",symbolText:{x:25,y:73,fontSize:32,transform:"",text:"UP"}},zDown:{amount:-1,transform:"translate(90 240) rotate(180)",symbolText:{x:105,y:430,fontSize:18,transform:"rotate(180) ",text:"DOWN"}}},{amount:i,transform:n,symbolPath:s,symbolText:a}=o[r];return oa.default.createElement("g",{id:`${e}-${r}`,className:"jog-buttons__arrow",tabIndex:0,onClick:function(){return t(e,i)},onKeyPress:function(l){switch(l.key){case"Enter":case" ":return t(e,i)}}},oa.default.createElement("path",{className:"jog-buttons__arrow__shadow",d:Y5e,transform:"translate(5 5) "+n}),oa.default.createElement("path",{className:"jog-buttons__arrow__button",d:Y5e,transform:n}),s&&oa.default.createElement("path",{className:"jog-buttons__arrow__symbol",d:s,transform:n}),a&&oa.default.createElement("text",{className:"jog-buttons__arrow__text",x:a.x,y:a.y,fontSize:a.fontSize,transform:a.transform+n},a.text))},bat=function(e){return oa.default.createElement("g",{id:"home-button",className:"jog-buttons__home",transform:"translate(17 168)",tabIndex:0,onClick:function(){return e()},onKeyPress:function(t){switch(t.key){case"Enter":case" ":return e()}}},oa.default.createElement("rect",{className:"jog-buttons__home__frame",width:"90",height:"90",rx:"10",ry:"10",transform:"rotate(45)"}),oa.default.createElement("path",{className:"jog-buttons__home__house",d:"M -20 78 v -17 l 20 -10 l 20 10 v 17 h -15 v -15 h -10 v 15 z"}),oa.default.createElement("rect",{className:"jog-buttons__home__house",width:"5",height:"10",x:"10",y:"40"}),oa.default.createElement("path",{className:"jog-buttons__home__roof",d:"M -25 57 l 25 -13 l 25 13"}))},zT=class extends oa.default.Component{render(){return oa.default.createElement("svg",{className:"jog-buttons jog-buttons__xy",viewBox:"-45 -30 305 330"},$7("y",this.props.jog,"up"),$7("y",this.props.jog,"down"),$7("x",this.props.jog,"left"),$7("x",this.props.jog,"right"),oa.default.createElement("text",{x:"0",y:"15",className:"jog-buttons__labels"},"Y"),oa.default.createElement("text",{x:"225",y:"260",className:"jog-buttons__labels"},"X"),this.props.homingEnabled&&bat(this.props.home))}},XT=class extends oa.default.Component{render(){return oa.default.createElement("svg",{className:"jog-buttons jog-buttons__z",viewBox:"0 -20 90 330"},$7("z",this.props.jog,"zUp"),oa.default.createElement("text",{stroke:"none",textAnchor:"middle",y:"140",x:"45",className:"jog-buttons__labels"},"Z"),$7("z",this.props.jog,"zDown"))}};var _n=M(P("react"),1);var qR=class extends _n.default.Component{constructor(){super(...arguments);y(this,"state",{keyboardControlsVisible:!1});y(this,"UNSAFE_componentWillMount",()=>{J.addListener("jog-machine",this.maybeJog),ut.use("walkthrough")});y(this,"onToggle",r=>{Fn.updateKeyboardControlEnabled(r),N.store.dispatch(Q.actions.setKeyboardControlEnabled(r))});y(this,"maybeJog",(r,o)=>{this.props.enabled&&this.props.jog(r,o)});y(this,"keyboardJogArrow",r=>_n.default.createElement("div",{className:"keyboard-jog__arrow","data-dir":r},_n.default.createElement("div",null)));y(this,"keyboardJogXY",()=>_n.default.createElement("div",{className:"keyboard-jog__xy"},"X & Y Axis",this.keyboardJogArrow("up"),_n.default.createElement("div",{style:{display:"flex"}},this.keyboardJogArrow("left"),this.keyboardJogArrow("down"),this.keyboardJogArrow("right"))));y(this,"keyboardJogZ",()=>_n.default.createElement("div",{className:"keyboard-jog__z"},"Z Axis",_n.default.createElement("div",{style:{display:"flex",alignItems:"center"}},_n.default.createElement("div",{className:"keyboard-jog__shift"},"shift"),_n.default.createElement("div",{style:{margin:"0 8px"}},"+"),_n.default.createElement("div",null,this.keyboardJogArrow("up"),this.keyboardJogArrow("down")))));y(this,"visibilityIndicator",()=>this.state.keyboardControlsVisible?_n.default.createElement("i",{className:"bi bi-caret-down"}):_n.default.createElement("i",{className:"bi bi-caret-up"}));y(this,"toggleVisibility",()=>{this.setState({keyboardControlsVisible:!this.state.keyboardControlsVisible})})}componentWillUnmount(){J.removeListener("jog-machine",this.maybeJog),ut.use("default")}render(){let{keyboardControlsVisible:r}=this.state,{enabled:o,hideXY:i}=this.props;return _n.default.createElement("div",{className:"keyboard-jog"},_n.default.createElement("div",{className:"keyboard-jog__spacer"},_n.default.createElement("div",{className:"keyboard-jog__container"+(r?" keyboard-jog__container--expanded":"")},_n.default.createElement("span",{onClick:this.toggleVisibility},_n.default.createElement("span",{className:"keyboard-jog__header"},"Keyboard Controls"),this.visibilityIndicator()),r&&_n.default.createElement("div",{className:"keyboard-jog__body"+(o?"":" keyboard-jog__body--off")},_n.default.createElement("div",{className:"keyboard-jog__keys"},!i&&this.keyboardJogXY(),this.keyboardJogZ()),_n.default.createElement("label",{className:"keyboard-jog__toggle",onClick:function(n){if((n.target!=null?n.target.tagName:void 0)==="INPUT")return n.target.blur()}},"Off",_n.default.createElement(lg,{enabled:o,onToggle:this.onToggle}),"On")))))}},vat=ne({mapStateToProps:e=>({enabled:Q.getKeyboardControlEnabled(e)}),component:qR}),q5e=vat;var $5e=Date.now(),Sat=100,qT=class extends lu.default.Component{constructor(r){super(r);y(this,"updateUnitState",r=>{this.setState({stepUnit:r,stepIntervalXY:r==="in"?.1:1,stepIntervalZ:r==="in"?.1:1})});y(this,"jog",(r,o)=>{if(H.trackEventOnce(`Jogged Machine - ${this.props.context}`),Date.now()-$5e>Sat){let i=r==="z"?this.state.stepIntervalZ:this.state.stepIntervalXY,n=o*i*Ve.inchesPerUnit(this.state.stepUnit);r==="z"&&i===1&&this.state.stepUnit==="in"&&H.trackEventOnce('Jogged Machine - 1" Z-Interval Used'),ke.jog(r,n),$5e=Date.now()}});y(this,"setInterval",(r,o,i)=>{o=o?Ve.normalizeUnitName(o):this.state.stepUnit,this.setState({...i!=="xy"&&{stepIntervalZ:parseFloat(r)},...i!=="z"&&{stepIntervalXY:parseFloat(r)},stepUnit:o})});y(this,"homeMachine",()=>{ke.home()});y(this,"workZero",()=>{ke.home(),ke.moveToWorkZeroXY()});y(this,"parkingHeader",()=>lu.default.createElement("span",null,"Park Machine",lu.default.createElement(HT,null)));y(this,"showLockButtons",()=>{let{useDetailBit:r,useOutlineBit:o,showLockButtons:i,context:n,machineType:s}=this.props;return bt.supportsMotorLocking(s)?n==="job_status"?i:r||o:!1});let{unit:o}=r;this.state={stepUnit:o,stepIntervalXY:o==="in"?.1:1,stepIntervalZ:o==="in"?.1:1}}render(){let{hideXY:r,hideKeyboard:o,context:i,machineParking:n,machineWorkPosition:s,isMachineHomed:a,isHomingEnabled:l}=this.props,{stepUnit:c,stepIntervalXY:u,stepIntervalZ:p}=this.state;return lu.default.createElement("div",{className:"jogging-controls new-machine-controls"},!o&&lu.default.createElement(q5e,{jog:this.jog,hideXY:r}),!r&&lu.default.createElement(zT,{jog:this.jog,homingEnabled:l,home:this.homeMachine}),lu.default.createElement(e9,{x:s.x,y:s.y,z:s.z,unit:c,disabled:!a,disabledMessage:"Home your machine to enable the Digital Readout"}),lu.default.createElement(XT,{jog:this.jog}),lu.default.createElement(H5e,{setInterval:this.setInterval,setUnit:this.updateUnitState,stepUnit:c,stepIntervalXY:u,stepIntervalZ:p,context:i}),this.showLockButtons()&&lu.default.createElement(z5e,null),lu.default.createElement(X5e,{isHomingEnabled:l,homeMachine:this.homeMachine,workZero:this.workZero}),n&&lu.default.createElement(Z5e.Card,{header:this.parkingHeader()},n))}};y(qT,"propTypes",{showLockButtons:cg.default.bool,machineParking:cg.default.element,hideXY:cg.default.bool,intervalOptionsXY:cg.default.object,intervalOptionsZ:cg.default.object,context:cg.default.oneOf(["walkthrough","dropdown","planing","job_status"])});var Cat=ne({mapStateToProps:e=>{let t=ie.getHomingEnabledRegister(e),r=ie.getSettings(e),o=Y.getMachineType(e);return{machineType:o,unit:Me.getPreferredUnit(e),useDetailBit:re.detailBitEnabled(e),useOutlineBit:re.outlineBitEnabled(e),machineWorkPosition:ie.getPosition(e).work,isMachineHomed:ie.isMachineKnownToBeHomed(e),machineSettings:r,isHomingEnabled:Zp.getValue(r,t)==="1"||o===ze.CARVEY}},mapDispatchToProps:e=>({setDefaults:t=>e(Q.actions.setDefaults(t))}),component:qT}),up=Cat;var $R=class extends Bl.default.Component{constructor(){super(...arguments);y(this,"showModal",()=>{this.setState({show:!0}),this.props.deselectAll(),setTimeout(function(){let r=document.getElementsByClassName("modal-backdrop")[0];(r!=null&&r.classList)?.add("machine-control-backdrop")},0)});y(this,"hideModal",()=>{let r=document.getElementsByClassName("modal-backdrop")[0];(r!=null&&r.classList)?.remove("machine-control-backdrop"),this.setState({show:!1})});y(this,"troubleshoot",()=>(this.hideModal(),this.props.isMachineConnected&&!this.props.isMachineSetupComplete?Ya.showMachineSetupAlert():this.props.isUnsupportedDriverConnected?Ya.showDriverUnsupportedModal():this.props.isSupportedDriverConnected?Ya.showMachineNotFoundModal():Ya.showDriverNotInstalledModal()));y(this,"state",{show:!1})}componentDidMount(){J.addListener("show-machine-controls",this.showModal)}componentWillUnmount(){J.removeListener("show-machine-controls",this.showModal)}render(){if(!this.state.show)return null;let{isMachineConnected:r,isMachineLocked:o}=this.props,i=!r||o?"machine-control-modal--disabled":"";return Bl.default.createElement(t9.Modal,{className:"machine-control-modal",show:!0,onHide:this.hideModal},!r&&Bl.default.createElement("div",{className:"machine-control-modal__overlay"},Bl.default.createElement("span",null,"Machine must be plugged in and turned on to jog"),Bl.default.createElement("div",null,Bl.default.createElement("button",{className:"btn btn-primary",onClick:this.troubleshoot},"Troubleshoot"))),o&&r&&Bl.default.createElement("div",{className:"machine-control-modal__overlay"},Bl.default.createElement("span",null,"Machine must be homed or unlocked to jog"),Bl.default.createElement("div",null,Bl.default.createElement("button",{className:"btn btn-primary",onClick:ke.unlock},"Unlock"))),Bl.default.createElement(t9.Modal.Header,{className:i},Bl.default.createElement(t9.Modal.Title,null,"Jog Machine")),Bl.default.createElement(t9.Modal.Body,{className:i},Bl.default.createElement(up,{context:"dropdown"})))}},Pat=ne({mapStateToProps:e=>({isMachineSetupComplete:Y.isMachineSetupComplete(e),isSupportedDriverConnected:jo.isSupportedDriverConnected(e),isUnsupportedDriverConnected:jo.isUnsupportedDriverConnected(e),isMachineConnected:ie.isMachineReadyOrLocked(e),isMachineLocked:ie.getState(e)==="alarm"}),mapDispatchToProps:{deselectAll:W.actions.deselectAllVolumes},component:$R}),J5e=Pat;var Sc=M(P("react"),1),ug=P("react-redux"),o9=P("react-bootstrap");var cd=M(P("react"),1);var $T=P("react-redux"),wat=()=>{let e=(0,$T.useSelector)(ie.getSettings),t=(0,$T.useDispatch)(),r=(0,cd.useCallback)(()=>{t(ie.actions.clearSettings()),ke.getMachineSettings()},[t]);return cd.default.createElement("div",null,cd.default.createElement("h4",null,"Settings",cd.default.createElement("a",{href:"#",onClick:r},cd.default.createElement("i",{className:"bi bi-arrow-clockwise"}))),cd.default.createElement("div",null,cd.default.createElement("pre",null,e.map((o,i)=>cd.default.createElement("span",{key:i,className:"machine-setting"},o,cd.default.createElement("br",null))))))},K5e=wat;var C0=P("react-bootstrap"),Os=M(P("react"),1);var r9=M(P("prop-types"),1),ki=M(P("react"),1);var Z7=M(P("prop-types"),1),J7=M(P("react"),1),Q5e=P("react-redux");var ZT=class extends J7.default.Component{componentDidMount(){Zp.startMonitorProbe(this.props.machineSettings),setTimeout(()=>{this.props.clearSettings(),ke.getMachineSettings()},100)}render(){let{disabled:t,probeStatus:r}=this.props,o,i="fa fa-2x";return t?(i+=" fa-circle-thin fa-grey",o="Not available"):r?(i+=" fa-circle fa-green",o="Contact"):(i+=" fa-circle-thin fa-grey",o="No contact"),J7.default.createElement("div",{className:"pin-state-container"},J7.default.createElement("div",{className:"pin-state"},J7.default.createElement("i",{className:i}),J7.default.createElement("p",null,o)))}};y(ZT,"propTypes",{probeStatus:Z7.default.bool,disabled:Z7.default.bool,machineSettings:Z7.default.arrayOf(Z7.default.string),clearSettings:Z7.default.func});var _at=e=>({machineSettings:ie.getSettings(e)}),kat=e=>({clearSettings:()=>e(ie.actions.clearSettings())}),S0=(0,Q5e.connect)(_at,kat)(ZT);var e0e=P("react-redux"),t0e=({statusMessage:e,machineType:t,probeStatus:r})=>{let o=(a,l,c)=>ki.default.createElement(je,{placement:"top",id:`pin-state-tooltip-${a}`,tooltipContent:c,key:a},ki.default.createElement("div",{className:"pin-state","data-active":l,"data-label":a},ki.default.createElement("i",{className:`bi ${l?"bi-circle-fill text-success":"bi-circle text-secondary"} fs-2`}),ki.default.createElement("p",null,a))),i=()=>{let a;if(e!=null&&(a=k3.machineSwitchStates(e,t)),a!=null){let l=[o("X",a.x,"X Axis Homing Switch"),o("Y",a.y,"Y Axis Homing Switch"),o("Z",a.z,"Z Axis Homing Switch")];return t===ze.CARVEY?l.push([o("Button",a.button,"Front Panel Button State"),o("Door",a.door,"Door Closed"),o("Clamp",a.clamp,"Clamp Status")]):t===ze.XCARVE&&l.push([o("Pause",a.hold,"X Controller Pause Button"),o("Run",a.button,"X Controller Run (Play) Button"),o("Soft Reset",a.soft_reset,"X Controller Soft Reset (Soft Stop) Button")]),ki.default.createElement("div",{className:"pin-state-container"},l)}else return ki.default.createElement("span",null,"No Switches Reporting")},s=!!(0,e0e.useSelector)(ie.getFeatures).zProbeSupported;return ki.default.createElement("div",null,ki.default.createElement("h4",null,"Homing Switches"),ki.default.createElement("p",null,ki.default.createElement("small",null,"Check the switches & buttons status below. ",ki.default.createElement("i",{className:"bi bi-circle-fill text-success"})," means switch or button is pressed, ",ki.default.createElement("i",{className:"bi bi-circle text-secondary"})," means switch or button is not pressed.")),i(),s&&ki.default.createElement("div",null,ki.default.createElement("h4",null,"Z-Probe Status"),ki.default.createElement("div",{className:"col-md-3"},ki.default.createElement(S0,{probeStatus:r})),ki.default.createElement("div",{className:"col-md-9"},ki.default.createElement("p",null,ki.default.createElement("small",null,"Easel reports ",ki.default.createElement("i",{className:"bi bi-circle-fill text-success"})," when the probe is not plugged in, ",ki.default.createElement("em",null,"or")," when the probe has been plugged in and the leads are touching.")),ki.default.createElement("p",null,ki.default.createElement("small",null,"When the probe is plugged in but leads are not touching, Easel reports ",ki.default.createElement("i",{className:"bi bi-circle text-secondary"}),".")))))};t0e.propTypes={statusMessage:r9.default.string,machineType:r9.default.string,probeStatus:r9.default.number,features:r9.default.object};var r0e=t0e;var ZR=M(P("prop-types"),1),JR=M(P("react"),1);var gh=M(P("prop-types"),1),Fl=M(P("react"),1);var JT=class extends Fl.default.Component{constructor(){super(...arguments);y(this,"logMessages",()=>{let r=[];for(let o=0;o<this.props.messages.length;o++){let i=this.props.messages[o],n="logger-entry";i.action!=="read"&&(n+=" logger-entry--alt"),r.push(Fl.default.createElement("li",{className:n,key:o},i.data||i.action))}return r})}render(){return Fl.default.createElement("div",null,this.props.showCommunicationWarning&&Fl.default.createElement("div",{className:"alert alert-danger",role:"alert"},Fl.default.createElement("span",{className:"bi bi-exclamation-circle-fill","aria-hidden":!0}),Fl.default.createElement("b",null," Detected errors communicating with the machine.")),Fl.default.createElement("div",{className:"logger-header"},Fl.default.createElement("div",{className:"logger-console"},Fl.default.createElement("input",{id:"console",name:"Console",className:"logger-console-input",type:"text",onKeyDown:this.props.onKeyDown,placeholder:"Press enter to send line"})),Fl.default.createElement("label",{className:"logger-filter"},Fl.default.createElement("input",{className:"logger-filter-input",type:"checkbox",value:this.props.showStatusMessages,onChange:this.props.onCheck}),Fl.default.createElement("span",{className:"logger-filter-name"},"Show status"))),Fl.default.createElement("div",{className:"logger-body"},Fl.default.createElement("ul",{className:"logger-list"},this.logMessages())))}};y(JT,"propTypes",{messages:gh.default.arrayOf(gh.default.shape({action:gh.default.string.isRequired,data:gh.default.string})),showCommunicationWarning:gh.default.bool.isRequired,showStatusMessages:gh.default.bool.isRequired,onCheck:gh.default.func.isRequired,onKeyDown:gh.default.func.isRequired});var o0e=JT;var KT=class extends JR.default.Component{constructor(){super(...arguments);y(this,"state",{showStatusMessages:!1});y(this,"onCheck",r=>this.setState({showStatusMessages:r.target.checked}));y(this,"onKeyDown",r=>{if(r.keyCode===13)return ke.sendLine(r.target.value),r.target.value=""})}render(){let r=a=>a.event==="echo"&&a.direction==="receive",o=a=>a.data[0],i=a=>!(a.data!=null&&a.data.match(/^\?$/)||a.data!=null&&a.data.match(/^<.*>$/)),n=this.props.websocketMessages.filter(r).map(o),s=this.state.showStatusMessages?n:n.filter(i);return JR.default.createElement(o0e,{messages:s.slice(-100).reverse(),showCommunicationWarning:this.props.detectedGarbledMessage,showStatusMessages:this.state.showStatusMessages,onCheck:this.onCheck,onKeyDown:this.onKeyDown})}};y(KT,"propTypes",{websocketMessages:ZR.default.array.isRequired,detectedGarbledMessage:ZR.default.bool.isRequired});var QT=KT;var eE=class extends Os.default.Component{constructor(){super(...arguments);y(this,"state",{messages:[]});y(this,"updateMessages",()=>{this.setState({messages:this.context.messages})})}componentDidMount(){this.context.addListener(this.updateMessages),this.updateMessages(),this.props.machineType===ze.CARVEY&&setTimeout(()=>ke.sendLine("$10=115"))}componentWillUnmount(){this.context.removeListener(this.updateMessages),this.props.machineType===ze.CARVEY&&setTimeout(()=>ke.sendLine("$10=3"))}render(){let{lastStatusMessage:r,machineType:o,unit:i,machineState:n,machinePosition:s,probeStatus:a}=this.props,{machine:l,work:c}=s;return Os.default.createElement("div",null,Os.default.createElement(C0.Row,null,Os.default.createElement(C0.Col,{md:4},Os.default.createElement("h4",null,"State"),Os.default.createElement("pre",null,n)),Os.default.createElement(C0.Col,{md:4},Os.default.createElement("h4",null,`Machine position (${i})`),Os.default.createElement(e9,{...l,unit:i})),Os.default.createElement(C0.Col,{md:4},Os.default.createElement("h4",null,`Work position (${i})`),Os.default.createElement(e9,{...c,unit:i}))),Os.default.createElement(r0e,{statusMessage:r,machineType:o,probeStatus:a}),Os.default.createElement(C0.Row,null,Os.default.createElement(C0.Col,{md:12},Os.default.createElement("hr",null),Os.default.createElement("h4",null,"Console"),Os.default.createElement(QT,{websocketMessages:this.state.messages,detectedGarbledMessage:this.props.detectedGarbledMessage}))))}};y(eE,"contextType",ym);var Tat=ne({mapStateToProps:e=>({machineType:Y.getMachineType(e),unit:Me.getPreferredUnit(e),machineState:ie.getState(e),machinePosition:ie.getPosition(e),probeStatus:ie.getProbeConnectionStatus(e),lastStatusMessage:ie.getLastStatusMessage(e),detectedGarbledMessage:ie.hasDetectedGarbledMessage(e)}),component:eE}),tE=Tat;var ud=M(P("react"),1);var rE=P("react-redux"),Eat=()=>{let e=(0,rE.useSelector)(ie.getEvents),t=(0,rE.useDispatch)(),r=(0,ud.useCallback)(()=>{t(ie.actions.clearEvents())},[t]);return ud.default.createElement("div",null,ud.default.createElement("h4",null,"Events",ud.default.createElement("a",{href:"#",onClick:r},ud.default.createElement("i",{className:"bi bi-trash"}))),ud.default.createElement("div",null,ud.default.createElement("pre",null,e.map((o,i)=>ud.default.createElement("span",{key:i},o.type," - ",o.message,ud.default.createElement("br",null))))))},oE=Eat;var Mat=()=>{let e=(0,ug.useDispatch)(),t=(0,ug.useSelector)(ie.getSerialNumber),r=(0,ug.useSelector)(ie.getFirmwareVersion),o=(0,ug.useSelector)(jo.getRunningVersionNumber),i=(0,ug.useSelector)(ie.getInspectorOpen);return Sc.default.createElement(o9.Modal,{id:"machine-inspector",show:i,onHide:()=>{e(ie.actions.closeInspector())},size:"xl"},Sc.default.createElement(o9.Modal.Header,{closeButton:!0},Sc.default.createElement(o9.Modal.Title,null,"Machine Inspector")),Sc.default.createElement(o9.Modal.Body,null,Sc.default.createElement("div",{id:"firmware-data"},t!=null&&Sc.default.createElement("span",null,`Serial Number: ${t}`),r!=null&&Sc.default.createElement("span",null,`Firmware Version: ${r}`),o!=null&&Sc.default.createElement("span",null,`Easel Driver Version: ${o}`)),Sc.default.createElement(tE,null),Sc.default.createElement("hr",null),Sc.default.createElement(oE,null),Sc.default.createElement("hr",null),Sc.default.createElement(K5e,null)))},i0e=Mat;var Cc=M(P("react"),1),P0=P("react-redux"),i9=P("react-bootstrap");var rr=M(P("react"),1);var KR=class extends rr.default.Component{constructor(){super(...arguments);y(this,"state",{axis:"X",feedRate:500,items:new Array(25).fill(0)});y(this,"sendGcode",r=>{let o=`$J = G53 ${r} F${this.state.feedRate}`;ke.sendLine(o)});y(this,"setValue",(r,o)=>{this.setState(i=>({items:{...i.items,[o]:r}}))});y(this,"getAxisInfo",r=>{switch(r){case"X":return[{label:0,offset:"X -919.273"},{label:45,offset:"X -874.273"},{label:98.455,offset:"X -820.818"},{label:150.909,offset:"X -768.364"},{label:207.364,offset:"X -711.909"},{label:256.818,offset:"X -662.455"},{label:306.273,offset:"X -613.000"},{label:367.727,offset:"X -551.545"},{label:431.182,offset:"X -488.091"},{label:485.636,offset:"X -433.636"},{label:528.091,offset:"X -391.182"},{label:586.545,offset:"X -332.727"},{label:0,offset:"X -287.727"}];case"Y24":return[{label:0,offset:"Y -562.000"},{label:45,offset:"Y -517.000"},{label:88,offset:"Y -474.000"},{label:130,offset:"Y -432.000"},{label:176,offset:"Y -386.000"},{label:215,offset:"Y -347.000"},{label:254,offset:"Y -308.000"},{label:305,offset:"Y -257.000"},{label:358,offset:"Y -204.000"},{label:402,offset:"Y -160.000"},{label:434,offset:"Y -128.000"},{label:482,offset:"Y -80.000"},{label:0,offset:"Y -35.000"}];case"Y48":return[{label:0,offset:"Y -919.273"},{label:45,offset:"Y  -874.273"},{label:98.455,offset:"Y -820.818"},{label:150.909,offset:"Y -768.364"},{label:207.364,offset:"Y -711.909"},{label:256.818,offset:"Y -662.455"},{label:306.273,offset:"Y -613.000"},{label:367.727,offset:"Y -551.545"},{label:431.182,offset:"Y -488.091"},{label:485.636,offset:"Y -433.636"},{label:528.091,offset:"Y -391.182"},{label:586.545,offset:"Y -332.727"},{label:0,offset:"Y -287.727"}];case"Z":return[{label:0,offset:"Z -24.354"},{label:15,offset:"Z -39.354"},{label:20.96951,offset:"Z -45.323"},{label:30.69235,offset:"Z -55.046"},{label:37.09257,offset:"Z -61.446"},{label:45.70787,offset:"Z -70.062"},{label:53.40022,offset:"Z -77.754"},{label:61.52328,offset:"Z -85.877"},{label:68.41574,offset:"Z -92.769"},{label:78.44623,offset:"Z -102.800"},{label:84.10809,offset:"Z -108.462"},{label:93.27716,offset:"Z -117.631"},{label:0,offset:"Z -132.631"}]}});y(this,"axisButtonColumn",r=>{let o=this.getAxisInfo(r);return o.map((i,n)=>{let s=n==0||n==o.length-1;return rr.default.createElement("div",{className:"linear-accuracy-test__button-row",key:n},rr.default.createElement("button",{className:"btn btn-primary",key:n,onClick:()=>this.sendGcode(i.offset)},n,s&&" - Space"),rr.default.createElement("input",{value:this.state.items[n]||"",onChange:a=>this.setValue(a.target.value,n),disabled:s}),rr.default.createElement("input",{value:this.state.items[n+o.length]||"",onChange:a=>this.setValue(a.target.value,n+o.length)}))})});y(this,"createTable",()=>{let r=[],o=[],i=this.getAxisInfo(this.state.axis),n=[],s=[],a=[];o.push(rr.default.createElement("th",{key:"header-column-1"},"i")),n.push(rr.default.createElement("th",{key:"header-column-2"},"Machine Position")),s.push(rr.default.createElement("td",{key:"header-column-3"},rr.default.createElement("i",{className:"fa fa-arrow-up"}))),a.push(rr.default.createElement("td",{key:"header-column-4"},rr.default.createElement("i",{className:"fa fa-arrow-down"})));for(let l=1;l<i.length-1;l++)o.push(rr.default.createElement("th",{key:l},l)),n.push(rr.default.createElement("th",{key:l},i[l].label)),s.push(rr.default.createElement("td",{key:l},this.state.items[l]||"")),a.push(rr.default.createElement("td",{key:l+i.length},this.state.items[l+i.length]||""));return r.push(rr.default.createElement("tr",{key:"head"},o),rr.default.createElement("tr",{key:"head2"},n),rr.default.createElement("tr",{key:"row1"},s),rr.default.createElement("tr",{key:"row2"},a)),r})}render(){let r=[500,2540,7620],o=["X","Y24","Y48","Z"];return rr.default.createElement("div",{className:"linear-accuracy-test"},rr.default.createElement("div",null,rr.default.createElement("div",{className:"linear-accuracy-test__button-head"},rr.default.createElement("h4",null,"Results"),rr.default.createElement("button",{className:"btn btn-danger",onClick:()=>this.setState({items:new Array(25).fill(0)})},"Clear results")),rr.default.createElement("table",{className:"linear-accuracy-test__results"},rr.default.createElement("tbody",null,this.createTable()))),rr.default.createElement("div",{className:"linear-accuracy-test__button-row"},rr.default.createElement("div",{key:"feed-rate",className:"linear-accuracy-test__button-column"},rr.default.createElement("h4",null,"Axis"),o.map(i=>rr.default.createElement("button",{key:i,className:`btn btn-primary ${i==this.state.axis&&"active"}`,onClick:()=>this.setState({axis:i})},i)),rr.default.createElement("h4",null,"Feed Rate"),r.map((i,n)=>rr.default.createElement("button",{className:`btn btn-primary ${i==this.state.feedRate&&"active"}`,key:n,onClick:()=>this.setState({feedRate:i})},i))),rr.default.createElement("div",{className:"linear-accuracy-test__button-column"},rr.default.createElement("h4",null,"Gcode"),rr.default.createElement("div",{className:"linear-accuracy-test__button-row"},rr.default.createElement("div",null),rr.default.createElement("div",null,rr.default.createElement("i",{className:"fa fa-arrow-up"})),rr.default.createElement("div",null,rr.default.createElement("i",{className:"fa fa-arrow-down"}))),this.axisButtonColumn(this.state.axis))))}},n0e=KR;var Ze=M(P("react"),1);var nE=P("react-bootstrap"),cn=M(P("react"),1);var iE=class extends cn.default.Component{constructor(){super(...arguments);y(this,"switchState",(r,o)=>cn.default.createElement("div",{key:r,className:"xcp-test__flex xcp-test__flex-column","data-active":o,"data-label":r},cn.default.createElement("i",{className:`fa fa-2x ${o?"fa-circle fa-green":"fa-circle-thin fa-grey"}`}),cn.default.createElement("p",null,r),cn.default.createElement("input",{className:"xcp-test__checkbox",type:"checkbox",name:r})))}render(){let r,o=[],i=[];return this.props.lastStatusMessage!=null&&(r=k3.machineSwitchStates(this.props.lastStatusMessage,this.props.machineType)),r!=null&&(o=[this.switchState("X",r.x),this.switchState("Y",r.y),this.switchState("Z",r.z)],i=[this.switchState("Enclo",r.door),this.switchState("Pause",r.hold),this.switchState("Run",r.button),this.switchState("Reset",r.soft_reset)]),cn.default.createElement("div",null,cn.default.createElement("div",{className:"xcp-test__flex xcp-test__flex-row"},cn.default.createElement("div",{className:"xcp-test__flex xcp-test__flex-column"},cn.default.createElement("h4",null,"State"),cn.default.createElement("pre",null,this.props.machineState)),cn.default.createElement("button",{className:"btn btn-primary",onClick:ke.unlock},"Unlock")),r!=null?cn.default.createElement("div",null,cn.default.createElement("div",{className:"pin-state-container"},i),cn.default.createElement("hr",null),cn.default.createElement("h4",null,"Homing Switches"),cn.default.createElement("div",{className:"pin-state-container"},o)):cn.default.createElement("span",null,"No Switches Reporting"),cn.default.createElement(nE.Row,null,cn.default.createElement(nE.Col,{md:12},cn.default.createElement("hr",null),cn.default.createElement("h4",null,"Console"),cn.default.createElement(QT,{websocketMessages:this.context.messages,detectedGarbledMessage:this.props.detectedGarbledMessage}))))}};y(iE,"contextType",ym);var Aat=ne({mapStateToProps:e=>({machineState:ie.getState(e),machineType:Y.getMachineType(e),lastStatusMessage:ie.getLastStatusMessage(e),detectedGarbledMessage:ie.hasDetectedGarbledMessage(e)}),component:iE}),s0e=Aat;var QR=class extends Ze.default.Component{constructor(){super(...arguments);y(this,"clearInputs",()=>{let r=document.querySelectorAll("input[type=checkbox].xcp-test__checkbox");for(let o=0;o<r.length;o++)r[o].checked=!1;r=document.querySelectorAll("input[type=text]");for(let o=0;o<r.length;o++)r[o].value=""});y(this,"buttonsAndInputs",(r,o,i)=>{let n=r==="Z"?[25,500,2540]:[25,500,7620],s=r==="Y"&&"Y1",a=i?"Clockwise":"Counterclockwise";return Ze.default.createElement("div",{className:""},Ze.default.createElement("div",{className:"xcp-test__flex xcp-test__flex-row"},Ze.default.createElement("h4",{className:"xcp-test__label"},r,"-Axis"),n.map(l=>Ze.default.createElement("button",{key:`button${l}`,className:"btn btn-primary",onClick:()=>this.sendJogCommand(r,l,o)},r,"-",l))),Ze.default.createElement("div",{className:"xcp-test__flex xcp-test__flex-row"},Ze.default.createElement("label",{className:"xcp-test__label"},s," ",a,"? "),n.map(l=>Ze.default.createElement("input",{key:`clock${l}`,className:"xcp-test__checkbox",type:"checkbox",name:`clock${l}`}))),Ze.default.createElement("div",{className:"xcp-test__flex xcp-test__flex-row"},Ze.default.createElement("label",{className:"xcp-test__label"}," ",s," Smooth?"),n.map(l=>Ze.default.createElement("input",{key:`smooth${l}`,className:"xcp-test__checkbox",type:"checkbox",name:`smooth${l}`}))),s&&Ze.default.createElement("div",{className:"xcp-test__flex xcp-test__flex-row"},Ze.default.createElement("label",{className:"xcp-test__label"},"Y2 ",a,"?"),n.map(l=>Ze.default.createElement("input",{key:`clock${l}`,className:"xcp-test__checkbox",type:"checkbox",name:`clock${l}`}))),s&&Ze.default.createElement("div",{className:"xcp-test__flex xcp-test__flex-row"},Ze.default.createElement("label",{className:"xcp-test__label"},"Y2 Smooth?"),n.map(l=>Ze.default.createElement("input",{key:`smooth${l}`,className:"xcp-test__checkbox",type:"checkbox",name:`smooth${l}`}))))});y(this,"sendJogCommand",(r,o,i)=>{let s=`G21G91 G1 ${r}${i===!0?10:-10} F${o}`;ke.sendLine(s)});y(this,"sendSpindleCommand",r=>{let o=`M3 S${r}`;ke.sendLine(o)});y(this,"spindleTest",()=>Ze.default.createElement("div",{className:""},[0,500,1e4,15e3,2e4,24e3].map(o=>Ze.default.createElement("div",{key:`button${o}`,className:"xcp-test__flex xcp-test__flex-row"},Ze.default.createElement("button",{className:"btn btn-primary xcp-test__spindle-button",onClick:()=>this.sendSpindleCommand(o)},"RPM ",o,o===0&&" (Stop)"),Ze.default.createElement("input",{className:"xcp-test__text",type:"text",name:`rpm${o}`}),"V"))))}render(){return Ze.default.createElement("div",{className:"xcp-test"},Ze.default.createElement("div",{className:"xcp-test__flex xcp-test__flex-row"},Ze.default.createElement("div",{className:"xcp-test__flex xcp-test__flex-column"},Ze.default.createElement("label",{htmlFor:"part"},"Part Number"),Ze.default.createElement("input",{className:"xcp-test__machine-text",type:"text",name:"part"})),Ze.default.createElement("div",{className:"xcp-test__flex xcp-test__flex-column"},Ze.default.createElement("label",{htmlFor:"rev"},"Revision Number"),Ze.default.createElement("input",{className:"xcp-test__machine-text",type:"text",name:"rev"})),Ze.default.createElement("div",{className:"xcp-test__flex xcp-test__flex-column"},Ze.default.createElement("label",{htmlFor:"dc"},"Date Code"),Ze.default.createElement("input",{className:"xcp-test__machine-text",type:"text",name:"dc"})),Ze.default.createElement("div",{className:"xcp-test__flex xcp-test__flex-column"},Ze.default.createElement("label",{htmlFor:"date"},"Test Date"),Ze.default.createElement("input",{type:"date",name:"date"})),Ze.default.createElement("div",{className:"xcp-test__flex xcp-test__flex-column"},Ze.default.createElement("label",{htmlFor:"testloc"},"Test Location"),Ze.default.createElement("input",{className:"xcp-test__machine-text",type:"text",name:"testloc"})),Ze.default.createElement("button",{className:"btn btn-danger",onClick:this.clearInputs},"Clear All")),Ze.default.createElement("hr",null),Ze.default.createElement("div",{className:"xcp-test__flex"},Ze.default.createElement("div",{className:"xcp-test__step"},Ze.default.createElement("div",null,Ze.default.createElement("strong",null,"Voltage via Multimeter"),Ze.default.createElement("div",{className:"xcp-test__flex xcp-test__flex-row"},Ze.default.createElement("div",null,Ze.default.createElement("label",null,"5V"),Ze.default.createElement("input",{className:"xcp-test__checkbox",type:"checkbox",name:"5v"})),Ze.default.createElement("div",null,Ze.default.createElement("label",null,"12V"),Ze.default.createElement("input",{className:"xcp-test__checkbox",type:"checkbox",name:"12v"})),Ze.default.createElement("div",null,Ze.default.createElement("label",null,"48V"),Ze.default.createElement("input",{className:"xcp-test__checkbox",type:"checkbox",name:"48v"})))),Ze.default.createElement("hr",null),Ze.default.createElement("div",null,Ze.default.createElement("strong",null,"Flood & Mist"),Ze.default.createElement("div",{className:"xcp-test__flex xcp-test__flex-row"},Ze.default.createElement("div",{className:"xcp-test__flex xcp-test__flex-column"},Ze.default.createElement("button",{className:"btn btn-primary",onClick:()=>ke.sendLine("M8")},"Flood"),Ze.default.createElement("input",{className:"xcp-test__checkbox",type:"checkbox",name:"flood"})),Ze.default.createElement("div",{className:"xcp-test__flex xcp-test__flex-column"},Ze.default.createElement("button",{className:"btn btn-primary",onClick:()=>ke.sendLine("M7")},"Mist"),Ze.default.createElement("input",{className:"xcp-test__checkbox",type:"checkbox",name:"mist"})),Ze.default.createElement("div",{className:"xcp-test__flex xcp-test__flex-column"},Ze.default.createElement("button",{className:"btn btn-primary",onClick:()=>ke.sendLine("M9")},"M9"),Ze.default.createElement("input",{className:"xcp-test__checkbox",type:"checkbox",name:"m9"})))),Ze.default.createElement("hr",null),Ze.default.createElement(s0e,null),Ze.default.createElement("hr",null)),Ze.default.createElement("div",{className:"xcp-test__step",id:"xcp-test--clockwise-stepper"},Ze.default.createElement("strong",null,"Clockwise Stepper Motor"),this.buttonsAndInputs("X",!0,!0),this.buttonsAndInputs("Y",!1,!0),this.buttonsAndInputs("Z",!1,!0)),Ze.default.createElement("div",{className:"xcp-test__step"},Ze.default.createElement("strong",null,"Counterclockwise Stepper Motor"),this.buttonsAndInputs("X",!1,!1),this.buttonsAndInputs("Y",!0,!1),this.buttonsAndInputs("Z",!0,!1)),Ze.default.createElement("div",{className:"xcp-test__step"},Ze.default.createElement("strong",null,"Spindle RPM/Voltage"),this.spindleTest(!0))))}},a0e=QR;var Iat=()=>{let e=(0,P0.useDispatch)(),t=(0,P0.useSelector)(ie.getSerialNumber),r=(0,P0.useSelector)(ie.getFirmwareVersion),o=(0,P0.useSelector)(Mm.xcpTestingVisible),i=(0,P0.useSelector)(Mm.xcpTestingLinearSelected),n=(0,P0.useSelector)(Mm.xcpTestingPcbSelected);return Cc.default.createElement(i9.Modal,{id:"machine-inspector-test",className:"linear-accuracy",show:o,onHide:()=>{e(Mm.actions.closeTesting())}},Cc.default.createElement(i9.Modal.Header,{closeButton:!0},Cc.default.createElement(i9.Modal.Title,null,i==="linear"?"Linear Accuracy":"PCB Test")),Cc.default.createElement(i9.Modal.Body,null,Cc.default.createElement("div",{className:"machine-inspector__info"},i&&Cc.default.createElement("div",{id:"firmware-data"},t!=null&&Cc.default.createElement("span",null,`Serial Number: ${t}`),r!=null&&Cc.default.createElement("span",null,`Firmware Version: ${r}`)),Cc.default.createElement(tE,null),Cc.default.createElement("hr",null),Cc.default.createElement(oE,null)),i&&Cc.default.createElement(n0e,null),n&&Cc.default.createElement(a0e,null)))},l0e=Iat;var yh=P("react-bootstrap"),_a=M(P("react"),1);var ej=M(P("prop-types"),1),pg=M(P("react"),1);var sE=class extends pg.default.Component{constructor(){super(...arguments);y(this,"setPortNumber",r=>{let o=r.target.value.replace(/\D/,"")||"";o!=null&&this.props.onSetPortNumber(o)})}render(){return pg.default.createElement("div",null,pg.default.createElement("div",{className:"input-group"},pg.default.createElement("label",{htmlFor:"com-port",className:"input-group-addon"},"COM"),pg.default.createElement("input",{id:"com-port",type:"number",size:"3",className:"form-control",onChange:this.setPortNumber,value:this.props.portNumber})),pg.default.createElement("p",{className:"help-block"},"To find the port, open the Device Manager. Under Ports look for your machine (Arduino Uno, X-Controller, or Carvey) and the port like \u201CCOM<number>\u201D"))}};y(sE,"propTypes",{portNumber:ej.default.number,onSetPortNumber:ej.default.func});var c0e=sE;var Ot=M(P("react"),1);var pp=M(P("react"),1);var tj=class extends pp.default.Component{constructor(){super(...arguments);y(this,"selectMachineProfile",r=>{let o=parseFloat(r.currentTarget.value),i=this.props.profiles.find(n=>n.id===o);if(this.props.setCurrentProfileId(o),this.requireNonProMachineProfileSelection()&&this.props.updateMachineProfileProRequired(o,i.name,!1).unwrap().catch(n=>console.error(n.responseText)),o!==this.props.machineProfileId){let n=Hs.toSettings(i);this.props.updateCurrentSettings(n)}});y(this,"requireNonProMachineProfileSelection",()=>!this.props.isProUser&&!this.props.profiles.some(r=>!r.proRequired));y(this,"requireUnpluggingMachine",()=>this.props.machineProfileId!=null&&(this.props.isMachineReadyOrLocked||this.props.isMachineCarving));y(this,"isDisabled",r=>!this.props.isProUser&&r.proRequired&&!this.requireNonProMachineProfileSelection()||this.requireUnpluggingMachine()&&r.id!==this.props.machineProfileId)}render(){let{machineProfileId:r,profiles:o}=this.props;return o.length===0?null:pp.default.createElement("div",null,pp.default.createElement("label",{htmlFor:"machine-profile-selector"},"Machine",pp.default.createElement(rn,{id:"machine-profile-pro-description",className:"machine-profile-selector__pro-machine-popover",placement:"right",popoverContent:pp.default.createElement("span",null,"An Easel Pro subscription is required to install and use more than one machine profile.")},pp.default.createElement(qt,null))),this.requireNonProMachineProfileSelection()&&pp.default.createElement("p",null,"Your Easel Pro subscription has expired. Please select one machine profile to use with your account."),this.requireUnpluggingMachine()&&(this.props.isProUser||this.requireNonProMachineProfileSelection())&&pp.default.createElement("p",null,"Please unplug your machine to select a different profile."),pp.default.createElement("select",{id:"machine-profile-selector",name:"machine-profile-selector",className:"form-select",value:o.find(i=>i.id===r)?.id||"blank",onChange:this.selectMachineProfile,disabled:this.requireUnpluggingMachine()},pp.default.createElement("option",{disabled:!0,value:"blank"},"- Select a machine profile -"),o.map(i=>pp.default.createElement("option",{key:i.id,value:i.id,disabled:this.isDisabled(i)},i.name))))}},Dat=ne({mapStateToProps:e=>({isMachineCarving:ie.isMachineCarving(e),profiles:et.getMachineProfiles(e),machineProfileId:et.getCurrentProfileId(e),isProUser:Q.isProEnabled(Date.now(),e),materialDimensions:q.getMaterialDimensions(e)}),mapDispatchToProps:e=>({updateCurrentSettings:t=>{e(Y.actions.setLoadedMachineConfiguration(t)),e(Y.actions.updateWorkArea(t.workArea))},setCurrentProfileId:t=>{e(et.actions.setCurrentProfileId(t))},updateMachineProfileProRequired:(t,r,o)=>{e(et.actions.updateMachineProfile({id:t,name:r,proRequired:o}))}}),component:tj}),aE=Dat;function Nat({isWindows:e,is3rdParty:t}){return Ot.default.createElement("div",null,Ot.default.createElement("ul",null,Ot.default.createElement("li",{className:"alert alert-info"},"Did you select the right machine profile?",Ot.default.createElement(aE,null)),e&&!t&&Ot.default.createElement(Ot.default.Fragment,null,Ot.default.createElement("li",null,"Make sure your machine is powered on and ",Ot.default.createElement("b",null,"the red emergency stop (e-stop) is disengaged.")," If the e-stop is engaged, the machine will not power on or connect to Easel. Please make sure your e-stop button is fully disengaged before reaching out for further assistance."),Ot.default.createElement("li",null,"Make sure your machine is connected to your USB port or try a different USB port on your computer."),Ot.default.createElement("li",null,"If we still aren't detecting your machine, you may need to manually assign the COM port. For detailed instructions, see our guide ",Ot.default.createElement("a",{href:"https://inventables.zendesk.com/hc/en-us/articles/360012726354",target:"_blank",rel:"noreferrer"},"here"),"."),Ot.default.createElement("ul",null,Ot.default.createElement("li",null,'To find the COM port, open the Device Manager by right-clicking the Windows Start button, select "Device Manager"'),Ot.default.createElement("li",null,'Scroll to "Ports" and look for your machine "COM<number>"'),Ot.default.createElement("li",null,'If you do not see "Ports" you will need to ',Ot.default.createElement("a",{href:"https://ftdichip.com/wp-content/uploads/2021/08/CDM212364_Setup.zip",target:"_blank",rel:"noreferrer"},"download")," the FDTI driver, extract and then ",Ot.default.createElement("b",null,"Install as Administrator. Detailed guide ",Ot.default.createElement("a",{href:"https://inventables.zendesk.com/hc/en-us/articles/360012793633-Installing-the-FTDI-Driver-Windows-only-",target:"_blank",rel:"noreferrer"},"here"),".")))),e&&t&&Ot.default.createElement(Ot.default.Fragment,null,Ot.default.createElement("li",null,"Make sure your machine is powered on and if you have a red emergency stop (e-stop), it is disengaged. If you have an offline controller, it must be disconnected. Please make sure your e-stop button is fully disengaged before reaching out for further assistance."),Ot.default.createElement("li",null,"Make sure your machine is connected to your USB port or try a different USB port on your computer."),Ot.default.createElement("li",null,"Check your cnc's manual to ensure all necessary drivers are installed."),Ot.default.createElement("li",null,"If we still aren't detecting your machine, you may need to manually assign the COM port. For detailed instructions, see our guide ",Ot.default.createElement("a",{href:"https://inventables.zendesk.com/hc/en-us/articles/360012726354",target:"_blank",rel:"noreferrer"},"here"),"."),Ot.default.createElement("ul",null,Ot.default.createElement("li",null,'To find the COM port, open the Device Manager by right-clicking the Windows Start button, select "Device Manager"'),Ot.default.createElement("li",null,'Scroll to "Ports" and look for your machine "COM<number>"'))),!e&&!t&&Ot.default.createElement(Ot.default.Fragment,null,Ot.default.createElement("li",null,"Make sure your machine is powered on and ",Ot.default.createElement("b",null,"the red emergency stop (e-stop) is disengaged.")," If the e-stop is engaged, the machine will not power on or connect to Easel. Please make sure your e-stop button is fully disengaged before reaching out for further assistance."),Ot.default.createElement("li",null,"Make sure your machine is connected to your USB port or try a different USB port on your computer."),Ot.default.createElement("li",null,"Try an alternate USB-A to USB-C adapter if your computer only has USB-C ports"),Ot.default.createElement("li",null,"If we still aren't detecting your machine, you may need to check that it's recognized by the computer."),Ot.default.createElement("ul",null,Ot.default.createElement("li",null,"Check System Report/Information by going to the Apple icon in the top left > About this Mac > More Info > System Report > USB."),Ot.default.createElement("li",null,"File > Refresh Information (CMD+R) will refresh the list"))),!e&&t&&Ot.default.createElement(Ot.default.Fragment,null,Ot.default.createElement("li",null,"Make sure your machine is powered on and if you have a red emergency stop (e-stop), it is disengaged. If you have an offline controller, it must be disconnected. Please make sure your e-stop button is fully disengaged before reaching out for further assistance."),Ot.default.createElement("li",null,"Make sure your machine is connected to your USB port or try a different USB port on your computer."),Ot.default.createElement("li",null,"Try an alternate USB-A to USB-C adapter if your computer only has USB-C ports"),Ot.default.createElement("li",null,"Check your cnc's manual to ensure all necessary drivers are installed."),Ot.default.createElement("li",null,"If we still aren't detecting your machine, you may need to check that it's recognized by the computer."),Ot.default.createElement("ul",null,Ot.default.createElement("li",null,"Check System Report/Information by going to the Apple icon in the top left > About this Mac > More Info > System Report > USB."),Ot.default.createElement("li",null,"File > Refresh Information (CMD+R) will refresh the list")))),!e&&!t&&Ot.default.createElement("div",{className:"my-3"},"If you do see the machine listed under USB but we still can't find your machine, then there may be an interfering driver. For detailed instructions, see our guide ",Ot.default.createElement("a",{href:"https://inventables.zendesk.com/hc/en-us/articles/360012726354",target:"_blank",rel:"noreferrer"},"here"),"."))}var u0e=Nat;var lE=class extends _a.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1});y(this,"UNSAFE_componentWillMount",()=>{J.addListener("show-machine-not-found-modal",this.show),J.addListener("hide-machine-not-found-modal",this.hide)});y(this,"show",()=>{this.setState({show:!0})});y(this,"hide",()=>{this.setState({show:!1})});y(this,"setPortNumber",r=>{this.props.setComPort(`COM${r}`)});y(this,"submitDiagnosticInfo",r=>{r.preventDefault();let o=this.context.messages.filter(({event:n,direction:s})=>n==="echo"&&s==="receive").map(({data:n})=>n[0]),i=JSON.stringify({easel_version:EASEL_VERSION,sender_version:this.props.runningVersionNumber,machine_type:this.props.machineType,devices:JSON.stringify(this.props.availablePorts),connection_log:JSON.stringify(o.slice(-100)),user_agent:navigator.userAgent});return kt("/connection_diagnostics",i).then(()=>{let{material:n,bit:s,detailBit:a,machineSettingsState:l,machineProfileId:c,isProEnabled:u}=this.props,p=DT.defaultErrorData(n,s,a,l,c,u);Fe("Submitted diagnostic info","While we're reviewing your info you can try to fix the issue yourself with our troubleshooter.",[{text:"OK"},{action(){J.emit("show-troubleshooting-modal",p)},text:"Open troubleshooter"}]),this.hide()}).catch(()=>{Fe("Could not submit diagnostic info","Your internet connection may be offline.")})});y(this,"manualConnectionInfo",()=>{let r=_a.default.createElement("label",null,_a.default.createElement("input",{type:"checkbox",checked:this.props.manualConnectionPreference,onClick:i=>this.props.setManualConnectionPreference(i.target.checked)},null)," Enter COM port manually"),o=this.props.manualConnectionPreference&&_a.default.createElement(c0e,{portNumber:this.props.comPort,onSetPortNumber:this.setPortNumber});if(Qc.isWindows())return _a.default.createElement("div",null,r,o)})}componentDidMount(){this.props.fetchProblemSymptoms()}render(){return _a.default.createElement(yh.Modal,{show:this.state.show,backdrop:!0,onHide:this.hide,size:"lg",id:"modal-machine-not-found"},_a.default.createElement(yh.Modal.Header,{closeButton:!0},_a.default.createElement(yh.Modal.Title,null,"We can\u2019t find your machine automatically")),_a.default.createElement(yh.Modal.Body,null,_a.default.createElement("img",{src:EASEL_ASSETS.images.sadEasel,className:"easel-face-icon"}),_a.default.createElement("p",null,"Try the following steps to help us out:"),_a.default.createElement(u0e,{isWindows:Qc.isWindows(),is3rdParty:this.props.machineType===ze.OTHER_GRBL}),this.manualConnectionInfo(),_a.default.createElement("p",null,"If we still aren't detecting your machine, submit an error report using the 'Help' menu. [Help > Troubleshooting > Submit Error Report]")),_a.default.createElement(yh.Modal.Footer,null,_a.default.createElement(yh.Button,{onClick:this.submitDiagnosticInfo,variant:"default"},"Submit diagnostic info"),_a.default.createElement(yh.Button,{onClick:this.hide,variant:"primary"},"Ok")))}};y(lE,"contextType",ym);var Oat=ne({mapDispatchToProps:e=>({fetchProblemSymptoms:()=>e(ys.fetchProblemSymptoms()),setSelectedProblemSymptomLinkIdentifier:t=>e(ys.actions.setSelectedProblemSymptomLinkIdentifier(t)),setComPort:t=>e(Y.actions.setComPort(t)),setManualConnectionPreference:t=>e(Y.actions.setManualConnectionPreference(t))}),mapStateToProps:function(e){let t=Y.getComPort(e),r=t?parseInt(t.replace("COM",""),10):"";return{availablePorts:ie.getAvailablePorts(e),comPort:r,manualConnectionPreference:Y.getManualConnectionPreference(e),machineType:Y.getMachineType(e),runningVersionNumber:jo.getRunningVersionNumber(e),machineSettingsState:Y.getMachineSettingsState(e),machineProfileId:et.getCurrentProfileId(e),material:q.getActiveMaterial(e),bit:re.bit(e),detailBit:re.detailBit(e),isProEnabled:Q.isProEnabled(Date.now(),e)}},component:lE}),p0e=Oat;var K7=P("react-bootstrap"),Qe=M(P("react"),1);var n9=M(P("prop-types"),1),xh=M(P("react"),1);var cE=class extends xh.default.Component{constructor(){super(...arguments);y(this,"state",{uninstall:!1});y(this,"uninstallMachine",()=>{this.setState({uninstall:!this.state.uninstall})});y(this,"deleteProfile",()=>{let r=this.props.profileId;H.trackEvent(U.machineProfileUninstalled),Hs.destroy(r).then(o=>{this.props.setProfileId(null),J.emit("close-machine-profile-modal"),this.props.deleteMachineProfile(o)}).catch(function(o){return console.error("todo: handle delete errors",o)})})}render(){return xh.default.createElement("div",null,this.state.uninstall?xh.default.createElement("div",null,xh.default.createElement("p",null,"Are you sure you want to uninstall ",this.props.profileName,"?"),xh.default.createElement("div",{className:"uninstall-machine__buttons"},xh.default.createElement("button",{className:"btn",onClick:this.uninstallMachine},"Cancel"),xh.default.createElement("button",{className:"btn btn-danger",onClick:this.deleteProfile},"Yes, uninstall"))):xh.default.createElement("button",{className:"btn btn-large btn-danger uninstall-machine",onClick:this.uninstallMachine},"Uninstall this machine"))}};y(cE,"propTypes",{profileId:n9.default.number.isRequired,profileName:n9.default.string.isRequired,setProfileId:n9.default.func.isRequired,deleteMachineProfile:n9.default.func.isRequired});var d0e=cE;var cu=M(P("react"),1),Lat=({editedSettings:e,onSetAccessory:t})=>cu.default.createElement("div",{key:"accessories",className:"machine-profile-modal__attribute"},cu.default.createElement("label",{htmlFor:"accessories"},"Accessories"),cu.default.createElement("div",null,cu.default.createElement("div",null,cu.default.createElement("input",{type:"checkbox",defaultChecked:e.hasDustShoe,onClick:r=>t(r),value:"hasDustShoe",id:"hasDustShoe"}),cu.default.createElement("label",{htmlFor:"hasDustShoe",className:"machine-profile-modal__accessories-label"},"Dust Shoe")),cu.default.createElement("div",null,cu.default.createElement("input",{type:"checkbox",defaultChecked:e.probeEnabled,onClick:r=>t(r),value:"probeEnabled",id:"probeEnabled"}),cu.default.createElement("label",{htmlFor:"probeEnabled",className:"machine-profile-modal__accessories-label"},"Z Probe")),cu.default.createElement("div",null,cu.default.createElement("input",{type:"checkbox",defaultChecked:e.accessoriesEnabled,onClick:r=>t(r),value:"accessoriesEnabled",id:"accessoriesEnabled"}),cu.default.createElement("label",{htmlFor:"accessoriesEnabled",className:"machine-profile-modal__accessories-label"},"Coolant")))),m0e=Lat;var vo=M(P("react"),1),mg=P("react-bootstrap");var h0e=P("react-bootstrap"),uu=M(P("react"),1);var Ti=M(P("react"),1),dg=P("react-bootstrap");var rj=class extends Ti.default.Component{constructor(){super(...arguments);y(this,"state",{retractWarning:!1,probingDistanceWarning:!1});y(this,"UNSAFE_componentWillReceiveProps",r=>{let{probePreferences:{probeRetractDistance:o,probeDistance:i,units:n}}=r,s=this.isSafeDistance(o,n),a=this.isSafeDistance(i,n);this.setState({retractWarning:!s,probingDistanceWarning:!a})});y(this,"isSafeDistance",(r,o)=>r<=Bc.probeLimits.probeDistance*Ve.unitsPerInch(o));y(this,"updateProbeThickness",r=>{this.props.setProbePreferences({...this.props.probePreferences,probeThickness:r})});y(this,"updateProbeRate",r=>{this.props.setProbePreferences({...this.props.probePreferences,probeRate:r})});y(this,"updateProbeRetract",r=>{this.props.setProbePreferences({...this.props.probePreferences,probeRetractDistance:r})});y(this,"updateProbeDistance",r=>{this.props.setProbePreferences({...this.props.probePreferences,probeDistance:r})});y(this,"updateUnits",r=>{let{probeThickness:o,probeRate:i,probeRetractDistance:n,probeDistance:s}=this.props.probePreferences,a=Ve.unitConversionMultiplyValue(r);r!==this.props.probePreferences.units&&this.props.setProbePreferences({probeThickness:o*a,probeRate:i*a,probeRetractDistance:n*a,probeDistance:s*a,units:r})});y(this,"useDefaults",()=>{this.props.setProbePreferences({...Bc.probeDefaults})});y(this,"testProbe",()=>(ke.unlock(),setTimeout(ke.sendProbeRoutine,100)))}shouldComponentUpdate(r){for(let o in r.probePreferences)if(this.props.probePreferences[o]!==r.probePreferences[o])return!0;return!1}render(){let r,o,{units:i}=this.props.probePreferences,n=i==="in"?"primary":"default",s=i==="mm"?"primary":"default",a=i==="in"?3:2,l=Ti.default.createElement(je,{id:"warning-text",placement:"right",tooltipContent:"These settings exceed the maximum Z Axis travel of the X-Carve!"},Ti.default.createElement("i",{style:{color:"red",paddingLeft:"5px",paddingRight:"5px",top:"35px"},className:"pull-right fa fa-exclamation-circle"}));return this.state.retractWarning&&(o=l),this.state.probingDistanceWarning&&(r=l),Ti.default.createElement("div",null,Ti.default.createElement("span",null,"Select Units "),Ti.default.createElement(dg.ButtonGroup,null,Ti.default.createElement(dg.Button,{onClick:this.updateUnits.bind(this,"in"),variant:n,active:i=="in"},"in"),Ti.default.createElement(dg.Button,{onClick:this.updateUnits.bind(this,"mm"),variant:s,active:i=="mm"},"mm")),Ti.default.createElement("hr",null),Ti.default.createElement("div",null,Ti.default.createElement("label",{htmlFor:"probe-block-thickness"},"Touch plate thickness"),Ti.default.createElement(Eo,{id:"probe-block-thickness",value:this.props.probePreferences.probeThickness,unit:this.props.probePreferences.units,onChange:this.updateProbeThickness,showUnit:!0,precision:a})),Ti.default.createElement("div",null,Ti.default.createElement("label",{htmlFor:"probe-rate"},"Probe rate"),Ti.default.createElement(Eo,{id:"probe-rate",value:this.props.probePreferences.probeRate,unit:this.props.probePreferences.units,displayUnit:i+" / min",onChange:this.updateProbeRate,showUnit:!0,precision:a})),Ti.default.createElement("div",null,Ti.default.createElement("label",{htmlFor:"probe-retract"},"Retract height"),o,Ti.default.createElement(Eo,{id:"probe-retract",value:this.props.probePreferences.probeRetractDistance,unit:this.props.probePreferences.units,onChange:this.updateProbeRetract,showUnit:!0,precision:a})),Ti.default.createElement("div",null,Ti.default.createElement("label",{htmlFor:"probe-distance"},"Maximum probing distance"),r,Ti.default.createElement(Eo,{id:"probe-distance",value:this.props.probePreferences.probeDistance,unit:this.props.probePreferences.units,onChange:this.updateProbeDistance,showUnit:!0,precision:a})),Ti.default.createElement("hr",null),Ti.default.createElement(dg.Button,{className:"pull-right",onClick:this.useDefaults},"Use Defaults"),Ti.default.createElement(dg.Button,{variant:"primary",className:"pull-left",onClick:this.testProbe},"Test probe sequence"))}},f0e=rj;var Bat=({probeStatus:e,probePreferences:t,onClickConfirmPreferences:r})=>{let[o,i]=(0,uu.useState)(t);return uu.default.createElement(uu.default.Fragment,null,uu.default.createElement("label",null,"Probe Settings"),uu.default.createElement("div",{className:"configure-z-probe__advanced-settings"},uu.default.createElement("div",{className:"configure-z-probe__advanced-step"},uu.default.createElement(f0e,{probePreferences:o,setProbePreferences:i})),uu.default.createElement("div",{className:"configure-z-probe__advanced-step center-text"},uu.default.createElement(S0,{probeStatus:e})),uu.default.createElement("div",{className:"configure-z-probe__advanced-step"},uu.default.createElement(h0e.Button,{className:"confirm center-block",variant:"primary",size:"lg",onClick:()=>{r(o)}},"OK"))))},g0e=Bat;var oj=class extends vo.default.Component{constructor(t){super(t),this.state={confirmedPluggedIn:!1,confirmedAttached:!1,probeVerified:!1,probePreferences:this.props.probePreferences},this.onClickConfirmAttached=this.onClickConfirmAttached.bind(this)}static getDerivedStateFromProps(t,r){let{isMachineConnected:o,probeStatus:i}=t;if(!o)return{confirmedPluggedIn:!1,confirmedAttached:!1,probeVerified:!1};let n={};return i===0&&!r.confirmedPluggedIn?n.confirmedPluggedIn=!0:i===1&&r.confirmedAttached&&(n.probeVerified=!0),Object.keys(n).length>0?n:null}onClickConfirmAttached(){this.setState({confirmedAttached:!0})}render(){let{confirmedPluggedIn:t,confirmedAttached:r,probeVerified:o}=this.state,{xcpSetup:i,isOpen:n,onClose:s,probePreferences:a,probeStatus:l}=this.props;return vo.default.createElement(mg.Modal,{show:n,onHide:s},vo.default.createElement(mg.Modal.Header,{closeButton:!0},vo.default.createElement(mg.Modal.Title,null,"Z Probe Configuration")),vo.default.createElement(mg.Modal.Body,null,o?vo.default.createElement(g0e,{probePreferences:a,onClickConfirmPreferences:s,probeStatus:l!==0,isProbeVerified:o}):vo.default.createElement(vo.default.Fragment,null,vo.default.createElement("label",null,"Verify Probe"),vo.default.createElement("div",{className:"configure-z-probe__verify-probe"},vo.default.createElement("div",{className:"configure-z-probe__verify-step"},vo.default.createElement("span",null,"Plug leads into ",i?" HMI":" carriage")),vo.default.createElement("div",{className:"configure-z-probe__verify-step"},t?vo.default.createElement("div",{className:"configure-z-probe__success center-text"},vo.default.createElement("span",{className:"bi bi-check-square checkmark configure-z-probe__icon"}),vo.default.createElement("span",null,"Probe connected")):vo.default.createElement("div",{className:"configure-z-probe__error center-text"},vo.default.createElement("span",{className:"bi bi-exclamation-triangle configure-z-probe__icon"}),vo.default.createElement("span",null,"Probe not connected"))),vo.default.createElement("div",{className:"configure-z-probe__verify-step"},vo.default.createElement("span",null,"Attach clip to collet")),vo.default.createElement("div",{className:"configure-z-probe__verify-step"},vo.default.createElement(mg.Button,{size:"lg",variant:r?"success":"primary",onClick:this.onClickConfirmAttached,className:"center-block",disabled:r||!t},r?"Attached":"Confirm")),vo.default.createElement("div",{className:"configure-z-probe__verify-step"},vo.default.createElement("span",null,"Touch collet with touch plate")),vo.default.createElement("div",{className:"configure-z-probe__verify-step center-text"},vo.default.createElement(S0,{probeStatus:l!==0,disabled:!r}))),vo.default.createElement("span",{className:"bi bi-exclamation-triangle configure-z-probe__icon configure-z-probe__error"}),vo.default.createElement("span",{className:"helper-text configure-z-probe__error center-text"},"Verify probe to continue"))))}},Fat=ne({mapStateToProps:e=>({isMachineConnected:ie.isMachineReadyOrLocked(e),probeStatus:ie.getProbeConnectionStatus(e)}),component:oj}),y0e=Fat;var x0e={error:null,isOpen:!1,existingSettings:null,editedSettings:null,unit:"in",profileName:"",isConfiguringProbe:!1,serialNumber:""},ij=class extends Qe.default.Component{constructor(){super(...arguments);y(this,"state",le(x0e));y(this,"onModalOpen",()=>{this.nameInput.focus(),this.nameInput.select()});y(this,"_setNameInputRef",r=>this.nameInput=r);y(this,"_open",r=>{let o=Hs.toSettings(r);this.setState({isOpen:!0,unit:this.props.unit,existingSettings:o,editedSettings:le(o),profileName:r.name,serialNumber:o.serialNumber})});y(this,"_close",()=>this.setState(le(x0e)));y(this,"_submit",()=>{let{editedSettings:r,profileName:o}=this.state;return this.props.updateMachineProfile(r.profileId,o,r).unwrap().then(i=>{let n=Hs.toSettings(i);return this.props.updateCurrentSettings(n),this.props.setCurrentProfileId(i.id),this._close(),i}).catch(i=>{let n=`Error saving machine profile: ${Qu.getErrorMessage(i)}.`;return i.readyState===0&&(n="Error establishing a network connection. Your changes will be applied temporarily but not saved.",this.props.updateCurrentSettings(this.state.editedSettings)),this.setState({error:n})})});y(this,"_onKeyPress",r=>{r.key==="Enter"&&(r.preventDefault(),this._submit())});y(this,"_nameChange",r=>{this.setState({profileName:r.target.value})});y(this,"_setAutomaticSpindleControl",r=>{let o=r.target.value==="true";this.setState(xi(this.state,["editedSettings","automaticSpindleControl"],o))});y(this,"_setSpindleType",r=>{this.setState(xi(this.state,["editedSettings","spindleType"],r.target.value))});y(this,"_setWorkAreaX",r=>{let o=Ve.convertToUnit(r,this.state.unit,"in");this.setState(xi(this.state,["editedSettings","workArea","x"],o))});y(this,"_setWorkAreaY",r=>{let o=Ve.convertToUnit(r,this.state.unit,"in");this.setState(xi(this.state,["editedSettings","workArea","y"],o))});y(this,"_setSerialNumber",r=>{this.setState({serialNumber:r.target.value}),this.setState(xi(this.state,["editedSettings","serialNumber"],r.target.value))});y(this,"_setAccessory",r=>{let o={...this.state.editedSettings,[r.currentTarget.value]:r.currentTarget.checked};r.currentTarget.value==="probeEnabled"&&r.currentTarget.checked&&(o.probePreferences??(o.probePreferences=Bc.probeDefaults)),this.setState({editedSettings:o})});y(this,"_setSpindleRPM",r=>{this.setState(xi(this.state,["editedSettings","spindleRPM"],parseFloat(r)))});y(this,"_machineDescription",r=>r==null?null:bt.defaultName(r));y(this,"handleConfigureProbe",()=>{this.setState({isConfiguringProbe:!0})});y(this,"handleCloseConfigureProbe",r=>{let o={isConfiguringProbe:!1};r&&(o.editedSettings={...this.state.editedSettings,probePreferences:r}),this.setState(o)})}componentDidMount(){J.addListener("open-machine-profile-modal",this._open),J.addListener("close-machine-profile-modal",this._close)}componentWillUnmount(){J.removeListener("open-machine-profile-modal",this._open),J.removeListener("close-machine-profile-modal",this._close)}render(){let{error:r,isOpen:o,isConfiguringProbe:i,editedSettings:n,existingSettings:s,profileName:a,unit:l,serialNumber:c}=this.state,u=n?n.probeEnabled&&!i:!1;if(!o)return null;if(i)return Qe.default.createElement(y0e,{isOpen:i,onClose:this.handleCloseConfigureProbe,probePreferences:n.probePreferences,xcpSetup:s.machineType===ze.XCARVE_PRO});{let p=!!c;return Qe.default.createElement(K7.Modal,{show:o,onHide:this._close,onEnter:this.onModalOpen},Qe.default.createElement(K7.Modal.Header,{closeButton:!0},Qe.default.createElement(K7.Modal.Title,null,"Machine Settings")),Qe.default.createElement(K7.Modal.Body,null,Qe.default.createElement("div",{className:"machine-profile-modal__attribute"},Qe.default.createElement("label",{htmlFor:"machine-profile-name"},"Name"),Qe.default.createElement("input",{ref:this._setNameInputRef,id:"machine-profile-name",className:"form-control",defaultValue:a,onChange:this._nameChange})),Qe.default.createElement("div",{className:"machine-profile-modal__attribute"},Qe.default.createElement("label",null," Machine "),Qe.default.createElement("div",null,Qe.default.createElement("span",{"data-machine-attr":"machine"},this._machineDescription(n)),Qe.default.createElement("span",{"data-machine-attr":"serial-number",className:"machine-profile-modal__serial-number"},c))),!p&&Qe.default.createElement("div",{className:"machine-profile-modal__attribute"},Qe.default.createElement("label",null," Serial Number "),Qe.default.createElement("input",{id:"machine-profile-serial-number",className:"form-control",onChange:this._setSerialNumber})),Qe.default.createElement("div",{className:"machine-profile-modal__attribute"},Qe.default.createElement("label",{htmlFor:"work-area"},"Work Area"),Qe.default.createElement("div",{className:"machine-profile-modal__work-area-container"},Qe.default.createElement("img",{src:EASEL_ASSETS.images.workArea,className:"machine-profile-modal__img"}),Qe.default.createElement("div",{className:"machine-profile-modal__work-area-input-container"},Qe.default.createElement("div",null,Qe.default.createElement("label",{htmlFor:"work-area-x",className:"machine-profile-modal__work-area-label"},"X"),Qe.default.createElement(Eo,{id:"work-area-x",className:"machine-profile-modal__work-area-input form-control",value:n.workArea.x,unit:"in",displayUnit:l,showUnit:!0,onChange:this._setWorkAreaX,precision:Ve.defaultPrecision[l]})),Qe.default.createElement("div",null,Qe.default.createElement("label",{htmlFor:"work-area-y",className:"machine-profile-modal__work-area-label"},"Y"),Qe.default.createElement(Eo,{id:"work-area-y",className:"machine-profile-modal__work-area-input form-control",value:n.workArea.y,unit:"in",displayUnit:l,showUnit:!0,onChange:this._setWorkAreaY,precision:Ve.defaultPrecision[l]}))))),s.machineType!==ze.CARVEY&&s.machineType!==ze.OTHER_FLUIDNC&&Qe.default.createElement(Qe.default.Fragment,null,Qe.default.createElement("div",{key:"spindle-control",className:"machine-profile-modal__attribute"},Qe.default.createElement("label",{htmlFor:"spindle-control"},"Spindle Controlled by"),Qe.default.createElement("div",{"data-machine-attr":"spindle-control"},Qe.default.createElement("select",{id:"spindle-control",className:"form-select",value:n.automaticSpindleControl,onChange:this._setAutomaticSpindleControl},Qe.default.createElement("option",{value:"true"},"Hardware"),Qe.default.createElement("option",{value:"false"},"Manual")))),Qe.default.createElement("div",{key:"spindle",className:"machine-profile-modal__attribute"},Qe.default.createElement("label",{htmlFor:"spindle"},"Spindle"),s.machineType!==ze.XCARVE_PRO?Qe.default.createElement("select",{id:"router-selector",className:"form-select",value:n.spindleType,onChange:this._setSpindleType},Qe.default.createElement("option",{value:"makita"},"Makita"),Qe.default.createElement("option",{value:"dewalt-611"},"DeWalt 611"),Qe.default.createElement("option",{value:"dewalt-660"},"DeWalt 660"),Qe.default.createElement("option",{value:"bosch-colt"},"Bosch Colt"),Qe.default.createElement("option",{value:"24v"},"24V DC Spindle"),Qe.default.createElement("option",{value:"other"},"Other")):Qe.default.createElement("div",null,Qe.default.createElement("span",{"data-machine-attr":"spindle"},"2hp with pre-programmed VFD"))),Qe.default.createElement("div",{key:"spindle-rpm"},bt.supportsSpindleSpeed(n.machineType,n.spindleType,n.automaticSpindleControl)&&Qe.default.createElement("div",{className:"machine-profile-modal__attribute"},Qe.default.createElement("label",{htmlFor:"default-spindle-rpm"},"Default Spindle Speed (RPM)"),Qe.default.createElement("div",null,Qe.default.createElement(Vn,{id:"default-spindle-rpm",initialValue:n.spindleRPM!=null?n.spindleRPM.toFixed():this.props.defaultSpindleRPM.toFixed(),submit:this._setSpindleRPM})))),Qe.default.createElement("div",{key:"belts"},n.belts&&Qe.default.createElement("div",{className:"machine-profile-modal__attribute"},Qe.default.createElement("label",null," Belts "),Qe.default.createElement("div",null,Qe.default.createElement("span",{"data-machine-attr":"belts"},n.belts)))),Qe.default.createElement(m0e,{editedSettings:n,onSetAccessory:this._setAccessory}),u&&Qe.default.createElement("button",{id:"configure-probe",className:"btn btn-default",onClick:this.handleConfigureProbe},"Configure Z Probe")),Qe.default.createElement("hr",null),Qe.default.createElement("div",{className:"text-center"},Qe.default.createElement(d0e,{profileId:s.profileId,profileName:a,setProfileId:this.props.setCurrentProfileId,deleteMachineProfile:this.props.deleteMachineProfile}))),Qe.default.createElement(K7.Modal.Footer,null,r!=null&&Qe.default.createElement("div",{className:"machine-profile-modal__error"},Qe.default.createElement("i",{className:"bi bi-exclamation-triangle"}),Qe.default.createElement("div",null,r),Qe.default.createElement("hr",null)),Qe.default.createElement("button",{className:"btn btn-default",onClick:this._close},"Cancel"),Qe.default.createElement("button",{className:"btn btn-primary",onClick:this._submit,disabled:a.length===0},"Save")))}}},Wat=ne({mapDispatchToProps(e){return{updateMachineProfile(t,r,o){return e(et.actions.updateMachineProfile({id:t,name:r,machineSettings:o}))},deleteMachineProfile(t){e(et.actions.deleteMachineProfile(t))},setCurrentProfileId(t){e(et.actions.setCurrentProfileId(t))},updateCurrentSettings(t){e(Y.actions.setLoadedMachineConfiguration(t)),e(Y.actions.updateWorkArea(t.workArea))},setSerialNumber(t){e(Y.actions.setSerialNumber(t))}}},mapStateToProps(e){return{unit:Me.getPreferredUnit(e),defaultSpindleRPM:Y.getSpindleRPM(e),materialDimensions:q.getMaterialDimensions(e)}},component:ij}),b0e=Wat;var pu=M(P("react"),1),fg=P("react-bootstrap"),uE=P("react-redux");var Vat=()=>{let e=(0,uE.useSelector)(Q.getSubscriptionStatus),[t,r]=(0,pu.useState)(e==="payment_error_inactive"),o=(0,uE.useDispatch)(),i="Don\u2019t lose out on Easel Pro!",n="We were unable to process your subscription payment. Please update your billing information to maintain your access to Easel Pro.",s="Update billing info";(0,pu.useEffect)(()=>{t&&H.trackEvent(U.viewedWarningMessage,{"Warning Message":{warningType:"update-payment",message:`${i} ${n} ${s}`}})},[t]);let a=()=>{o(De.actions.showUserModalAccountTab()),r(!1)};return pu.default.createElement(fg.Modal,{className:"past-due-modal",show:t,onHide:()=>r(!1)},pu.default.createElement(fg.Modal.Header,{closeButton:!0},pu.default.createElement(fg.Modal.Title,null,pu.default.createElement("i",{className:"fs-1 bi bi-exclamation-circle-fill"})," ",i)),pu.default.createElement(fg.Modal.Body,null,pu.default.createElement("p",null,n),pu.default.createElement("div",{className:"text-center mt-4"},pu.default.createElement(fg.Button,{className:"btn btn-warning",onClick:a},s))))},v0e=Vat;var vh=M(P("react"),1),hg=P("react-bootstrap"),s9=P("react-redux");var bh=M(P("react"),1),nj=P("react-redux"),Uat=()=>{let e=(0,nj.useSelector)(qf.getPublicKey),t=(0,nj.useSelector)(qf.getPricingTable),[r,o]=(0,bh.useState)(null);return(0,bh.useEffect)(()=>{e&&t&&Ko.createStripePricingTableSession().then(({clientSecret:i})=>{o(i)})},[e,t]),e&&t?r?bh.default.createElement("stripe-pricing-table",{"pricing-table-id":t,"publishable-key":e,"customer-session-client-secret":r}):bh.default.createElement("p",{className:"center-text"},bh.default.createElement(Re,{size:25})):bh.default.createElement("p",null,"Subscriptions are not currently available in this environment.")},S0e=Uat;var Rat=()=>{let e=(0,s9.useDispatch)(),t=(0,s9.useSelector)(Q.getPaywallOptions),r=(0,s9.useSelector)(Q.isPaywallVisible);return vh.default.createElement(hg.Modal,{className:"paywall-modal",show:r,onHide:()=>e(Q.actions.hideSubscriptionPaywall())},vh.default.createElement(hg.Modal.Header,{closeButton:!0},vh.default.createElement(hg.Modal.Title,null,t?.product)),vh.default.createElement(hg.Modal.Body,null,vh.default.createElement(hg.Alert,{variant:"warning"},t?.message),t?.showPricing?vh.default.createElement(S0e,null):vh.default.createElement("div",{className:"d-flex justify-content-center"},vh.default.createElement(E_,null,"Manage subscription"))))},C0e=Rat;var mj=M(P("prop-types"),1),M0e=P("react-bootstrap"),l9=M(P("react"),1);var a9=M(P("prop-types"),1),dj=M(P("react"),1);var P0e=M(P("prop-types"),1),Pc=M(P("react"),1);var pE=class extends Pc.default.Component{render(){return Pc.default.createElement(mt,{title:"Insert the bit",nextCallback:this.props.onNext,notice:this.props.notice,nextText:"Bit is secure"},Pc.default.createElement("div",{className:"diagram"},Pc.default.createElement("img",{src:EASEL_ASSETS.images.insertPlaningBit}),Pc.default.createElement("div",{className:"explanation"},Pc.default.createElement("p",null,"Insert the included ",Pc.default.createElement("strong",null,'1.125" planing bit')," you got with your machine and secure it using the ",Pc.default.createElement("strong",null,"17mm")," and ",Pc.default.createElement("strong",null,"22mm wrenches.")),Pc.default.createElement("p",null,"The small ",Pc.default.createElement("strong",null,"17mm")," wrench is used to ",Pc.default.createElement("strong",null,"hold the spindle shaft in place")," while the large ",Pc.default.createElement("strong",null,"22mm wrench")," is used to tighten the collet nut."))))}};y(pE,"propTypes",{onNext:P0e.default.func});var w0e=pE;var _0e=M(P("prop-types"),1),ka=M(P("react"),1);var dE=class extends ka.default.Component{constructor(){super(...arguments);y(this,"onNext",()=>{ke.setOrigin(),N.store.dispatch(At.actions.setUsingLastHome(!1)),this.props.onNext()})}render(){return ka.default.createElement(mt,{title:"Move machine to start position",disableNext:!0},ka.default.createElement("div",{className:"explanation"},ka.default.createElement("div",null,"With the machine homed, the X and Y axes are already in their start positions"),ka.default.createElement("b",null,"Now you will move the Z-axis to its start position"),ka.default.createElement("div",null,"Use the arrow buttons to move the bit so it's positioned just above the surface of the wasteboard.")),ka.default.createElement("div",{className:"d-flex flex-row justify-content-around"},ka.default.createElement("div",{className:"planing-work-zero__planing-diagram"},ka.default.createElement("img",{className:"planing-work-zero__planing-img",src:EASEL_ASSETS.images.lowerPlaningBit}),ka.default.createElement("p",{className:"alert alert-info explanation"},ka.default.createElement("strong",null,"NOTE:")," For the most accurate start position, adjust the move interval with the number below as you get closer to the wasteboard.")),ka.default.createElement("div",{className:"planing-work-zero__jog-container"},ka.default.createElement(up,{hideXY:!0,hideKeyboard:!0,context:"planing"}))),ka.default.createElement("div",{className:"clearfix"}),ka.default.createElement("div",{className:"explanation"},ka.default.createElement("button",{className:"btn-primary btn btn-lg",onClick:this.onNext},"Confirm")))}};y(dE,"propTypes",{onNext:_0e.default.func});var k0e=dE;var aj=M(P("react"),1);var sj=P("react-bootstrap"),Dm=M(P("react"),1);function jat(e){let{homing:t,onHome:r,onUnlock:o,onNext:i,notice:n}=e;return Dm.default.createElement(mt,{title:"Home Machine",nextCallback:i,notice:n},Dm.default.createElement("div",{className:"row"},Dm.default.createElement("div",{className:"centered icon-holder col-sm-5"},Dm.default.createElement("i",{className:"bi bi-house-door-fill"})),Dm.default.createElement("div",{className:"col-sm-5"},Dm.default.createElement("p",null,"Make sure the machine is clear of any obstructions."),Dm.default.createElement("div",null,Dm.default.createElement(sj.Button,{variant:"primary",onClick:r,disabled:t,className:"confirm smaller"},t?"Please wait\u2026":"Home the machine"),!t&&Dm.default.createElement(sj.Button,{variant:"default",onClick:o,className:"confirm smaller"},"Unlock without homing")))))}var mE=jat;var lj=class extends aj.default.Component{constructor(){super(...arguments);y(this,"state",{homing:!1});y(this,"home",()=>{this.state.homing||(ke.home(),this.setState({homing:!0}))});y(this,"unlock",()=>{ke.unlock()})}render(){return aj.default.createElement(mE,{homing:this.state.homing,onHome:this.home,onUnlock:this.unlock,onNext:this.props.onNext})}},Q7=lj;var uj=M(P("prop-types"),1),pj=M(P("react"),1);var Om=M(P("prop-types"),1),Ei=M(P("react"),1);var Nm=M(P("prop-types"),1),cj=P("react-bootstrap"),w0=M(P("react"),1);var fE=class extends w0.default.Component{render(){return w0.default.createElement("div",{className:"substep"},w0.default.createElement("div",{className:"substep-instruction"},this.props.instructionText),w0.default.createElement("div",{className:"walkthrough__substep__button-container"},w0.default.createElement(cj.Button,{variant:"primary",className:"confirm confirm-substep",onClick:this.props.buttonAction,disabled:this.props.disableButton},this.props.buttonText),this.props.buttonSubtext&&w0.default.createElement("p",null,this.props.buttonSubtext),this.props.skippable&&w0.default.createElement(cj.Button,{variant:"default",className:"skip-substep",onClick:this.props.skipAction,disabled:this.props.disableButton},"Skip")))}};y(fE,"propTypes",{instructionText:Nm.default.oneOfType([Nm.default.string.isRequired,Nm.default.object.isRequired]),buttonText:Nm.default.string.isRequired,buttonSubtext:Nm.default.string,buttonAction:Nm.default.func.isRequired,disableButton:Nm.default.bool.isRequired,skippable:Nm.default.bool,skipAction:Nm.default.func});var e6=fE;var hE=class extends Ei.default.Component{constructor(){super(...arguments);y(this,"state",{clickedRaiseButton:!1,spindleOn:!1,spindleConfirmed:!1,dustShoeConfirmed:!1,spindleRaisedForDustShoe:!1});y(this,"raiseBit",()=>{this.setState({clickedRaiseButton:!0}),this.props.onRaiseBit()});y(this,"handleRaiseBitForDustShoe",()=>{this.props.machinePosition.work.z<25.4&&ke.jogTo("z",1),this.setState({spindleRaisedForDustShoe:!0})});y(this,"turnOnSpindle",()=>{this.setState({spindleOn:!0}),this.props.onTurnOnSpindle()});y(this,"spindleConfirmed",()=>{this.setState({spindleConfirmed:!0})});y(this,"dustShoeConfirmed",r=>{this.props.setIsUsingDustShoe(r),this.setState({dustShoeConfirmed:!0})})}render(){let r=!this.props.usingLastHome&&Ei.default.createElement(e6,{instructionText:"To safely turn on the spindle, raise the bit slightly from the material.",buttonText:"Raise the bit",buttonAction:this.raiseBit,disableButton:this.state.clickedRaiseButton}),o=this.state.clickedRaiseButton||this.props.usingLastHome,i=!o||this.state.dustShoeConfirmed,n=Ei.default.createElement(je,{placement:"right",tooltipContent:"Bit will not raise if it is already 1 in or higher from the material. Skip this step if the dust shoe is already attached or is not being used."},Ei.default.createElement("i",{className:"bi bi-info-circle ms-1 substep-instruction__warning"})),s=this.props.hasDustShoe&&Ei.default.createElement(e6,{instructionText:Ei.default.createElement(Ei.default.Fragment,null,"Raise the bit to 1 in above the material to attach the dust shoe. ",n),buttonText:"Raise to attach dust shoe",skippable:!this.props.requireDustShoe,skipAction:()=>this.dustShoeConfirmed(!1),buttonAction:()=>this.handleRaiseBitForDustShoe(),disableButton:i||this.state.spindleRaisedForDustShoe}),a=this.props.hasDustShoe&&Ei.default.createElement(e6,{instructionText:"Confirm dust shoe is attached.",buttonText:"Attached",buttonAction:()=>this.dustShoeConfirmed(!0),disableButton:i||!this.state.spindleRaisedForDustShoe}),l=this.state.spindleOn||!o||this.props.hasDustShoe&&(!i||!this.state.dustShoeConfirmed),c=this.props.automaticSpindleControl&&Ei.default.createElement(e6,{instructionText:Ei.default.createElement(Ei.default.Fragment,null,"Verify automatic spindle control is working by turning it on now. ",Ei.default.createElement("br",null),Ei.default.createElement("p",{className:"substep-instruction__warning"},"Warning: Keep hands clear")),buttonText:"Turn on the spindle",buttonAction:this.turnOnSpindle,disableButton:l}),u=!o||this.props.automaticSpindleControl&&!this.state.spindleOn||this.state.spindleConfirmed,p=this.props.spindleType=="dewalt-611"||this.props.spindleType==="makita"?Ei.default.createElement(Ei.default.Fragment,null,Ei.default.createElement("br",null),Ei.default.createElement("p",{className:"substep-instruction__warning"},"Be sure your machine spindle dial is set to 1")):null,m=Ei.default.createElement(e6,{instructionText:Ei.default.createElement(Ei.default.Fragment,null,"Confirm that your spindle is on.",p),buttonText:"The spindle is on",buttonAction:this.spindleConfirmed,disableButton:u}),h=!this.state.spindleConfirmed;return Ei.default.createElement(mt,{title:"Almost ready to cut!",nextCallback:this.props.onNext,nextText:this.props.nextButtonText||"Carve!",nextWarning:Ei.default.createElement("div",{className:"substep substep--warning"},Ei.default.createElement("i",{className:"bi bi-exclamation-triangle fs-1 substep--warning__icon"}),Ei.default.createElement("p",{className:"substep--warning__text"},"Warning: Never leave the ",this.props.machineDescription," unattended while carving, always stay within sight of the machine and near the emergency stop button.")),disableNext:h},r,s,a,c,m)}};y(hE,"propTypes",{automaticSpindleControl:Om.default.bool,usingLastHome:Om.default.bool,hasDustShoe:Om.default.bool,requireDustShoe:Om.default.bool,onNext:Om.default.func,setIsUsingDustShoe:Om.default.func,nextButtonText:Om.default.string,spindleType:Om.default.string,machinePosition:Om.default.object});var T0e=hE;var gE=class extends pj.default.Component{constructor(){super(...arguments);y(this,"raiseBit",()=>{ke.raiseToSafety()});y(this,"turnOnSpindle",()=>{ke.startSpindle(this.props.spindleRPM),this.props.accessoriesEnabled&&ke.accessoriesOn()});y(this,"getMachineDescription",()=>this.props.thirdPartyModel||bt.description(this.props.machineType))}render(){return pj.default.createElement(T0e,{automaticSpindleControl:this.props.automaticSpindleControl,usingLastHome:this.props.usingLastHome,hasDustShoe:this.props.hasDustShoe,requireDustShoe:this.props.requireDustShoe,setIsUsingDustShoe:this.props.setIsUsingDustShoe,onRaiseBit:this.raiseBit,onTurnOnSpindle:this.turnOnSpindle,onNext:this.props.onNext,nextButtonText:this.props.nextButtonText,machineDescription:this.getMachineDescription(),spindleType:this.props.spindleType,machinePosition:this.props.machinePosition})}};y(gE,"propTypes",{onNext:uj.default.func,setIsUsingDustShoe:uj.default.func});var Gat=ne({mapStateToProps:function(e){let t=At.getPassType(e),r,o=Nt.getBitKeyForPassType(t);return o&&(r=ga(o,e)),{machinePosition:ie.getPosition(e),automaticSpindleControl:Y.getAutomaticSpindleControl(e),hasDustShoe:Y.getHasDustShoe(e),spindleRPM:r.getSettings().spindleSpeed||Y.getSpindleRPM(e),accessoriesEnabled:Y.getAccessoriesEnabled(e),machineType:Y.getMachineType(e),thirdPartyModel:Y.getThirdPartyModel(e),usingLastHome:At.getUsingLastHome(e),spindleType:Y.getSpindleType(e)}},component:gE}),_0=Gat;var yE=class extends dj.default.Component{constructor(){super(...arguments);y(this,"getMachineDescription",()=>this.props.thirdPartyModel||bt.description(this.props.machineType))}render(){let r=!0,{onFinish:o,onHide:i,setIsUsingDustShoe:n,isLocked:s}=this.props,a=[];return s&&(a.push({class:Q7,title:"Home machine"}),r=!1),a.push({class:w0e,title:"Insert bit"}),a.push({class:k0e,title:"Confirm work zero"}),a.push({class:_0,title:"Start planing",props:{nextButtonText:"Plane!",setIsUsingDustShoe:n,requireDustShoe:!0,machineDescription:this.getMachineDescription()}}),dj.default.createElement(vc,{onFinish:o,onHide:i,steps:a,showProgress:r})}};y(yE,"propTypes",{isExternalGcode:a9.default.bool,useDetailBit:a9.default.bool,onHide:a9.default.func,onFinish:a9.default.func.isRequired});var Hat=ne({mapStateToProps:e=>({isLocked:ie.isMachineLocked(e),machineType:Y.getMachineType(e),thirdPartyModel:Y.getThirdPartyModel(e)}),component:yE}),E0e=Hat;var xE=class extends l9.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1,isUsingDustShoe:!1});y(this,"show",()=>{H.trackEvent(U.startedPlaning),this.setState({show:!0})});y(this,"hide",()=>{this.setState({show:!1})});y(this,"onFinish",()=>{this.setState({show:!1}),this.startJob()});y(this,"setIsUsingDustShoe",r=>{this.setState({isUsingDustShoe:r})});y(this,"startJob",async()=>{let[r]=await Ms.safeProcess({style:"all"});if(r.error!=null){let{title:o,message:i}=Vi.alerts.invalidDepthError;Fe(o,i)}else ke.startJob(le(r,{isExternalGcode:!1,isUsingDustShoe:this.state.isUsingDustShoe,postCarveModal:"planing"}))})}componentDidMount(){J.addListener("show-planing-walkthrough",this.show),J.addListener("hide-walkthrough",this.hide)}render(){return l9.default.createElement(M0e.Modal,{show:this.state.show,size:"xl",backdrop:"static",className:"walkthrough-modal planing-walkthrough-modal",onHide:this.hide},l9.default.createElement("div",{className:"overflow-auto"},l9.default.createElement(E0e,{onFinish:this.onFinish,onHide:this.hide,setIsUsingDustShoe:this.setIsUsingDustShoe,...this.props})))}};y(xE,"propTypes",{machineType:mj.default.string,connectionState:mj.default.string});var zat=ne({mapStateToProps:e=>({hasDustShoe:Y.getHasDustShoe(e)}),component:xE}),A0e=zat;var I0e=P("react-bootstrap"),wc=M(P("react"),1);var fj=class extends wc.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1});y(this,"show",()=>{this.setState({show:!0})});y(this,"hide",()=>{this.setState({show:!1}),J.emit("show-planing-walkthrough")})}componentDidMount(){J.addListener("show-planing-welcome",this.show)}render(){return wc.default.createElement(I0e.Modal,{show:this.state.show,size:"xl",className:"walkthrough-modal",onHide:this.hide},wc.default.createElement("div",null,wc.default.createElement(mt,{title:"Easel Pro Planing Project",nextCallback:this.hide,nextText:"Get Started!",backCallback:this.hide},wc.default.createElement("div",{className:"explanation"},wc.default.createElement("p",null,"Let's plane your wasteboard."),wc.default.createElement("p",null,"This project will help level your wasteboard to provide a machined level flat surface for you to carve on.")),wc.default.createElement("div",{className:"planing-welcome__container row"},wc.default.createElement("div",{className:"col-lg-8"},wc.default.createElement("img",{className:"planing-welcome--full-width",src:EASEL_ASSETS.images.planingDrawing})),wc.default.createElement("div",{className:"col-lg-4"},wc.default.createElement("p",{className:"alert alert-info"},wc.default.createElement("strong",null,"Why?")," Planing your wasteboard is a required step for the best carving results, especially with V-bits and fine detailed carves. Although the MDF wasteboard is manufactured to be flat, it can expand and contract with fluctuations in temperature and humidity. To ensure it is 100% level, we made the planing project."))))))}},D0e=fj;var AE=M(P("react"),1);var bE=P("react-bootstrap"),gg=M(P("react"),1),hj=class extends gg.default.Component{render(){return gg.default.createElement(bE.Modal,{show:this.props.open,size:"xl",backdrop:"static",className:"walkthrough-modal",onHide:this.props.close},gg.default.createElement(bE.Modal.Header,{closeButton:!0},gg.default.createElement("h3",null,"Plane Complete")),gg.default.createElement(bE.Modal.Body,null,gg.default.createElement("p",{className:"explanation"},"Congrats! You finished planing your wasteboard!")))}},N0e=hj;var ME=P("react-bootstrap"),kn=M(P("react"),1);var Vt=M(P("react"),1),O0e=M(P("prop-types"),1);var c9=class extends Vt.default.Component{constructor(r){super(r);y(this,"onSaveCutSettings",()=>{this.state.selected!=null&&this.state.selected.title!=="Recommended Settings"&&(this.props.onSaveCutSettings(this.state.selected),this.setState({saving:!0}))});y(this,"showUserModal",()=>{H.trackEvent(U.showedAccountModal,{proRequired:!0,source:"Cut Settings Summary"}),this.props.showUserModalAccountTab()});y(this,"selectSetting",(r,o)=>{o.title=r,this.setState({selected:o})});y(this,"getCutSettingRowValues",r=>{let{preferredUnit:o}=this.props.jobSettings,i=`${o}/min`,n=o,s=[Vt.default.createElement("span",{className:"cut-settings-dialog__detail-item",key:"feedRate"},`${Ve.convertFromIn(r.feedRate,o)} ${i}`),Vt.default.createElement("span",{className:"cut-settings-dialog__detail-item",key:"plungeRate"},`${Ve.convertFromIn(r.plungeRate,o)} ${i}`),Vt.default.createElement("span",{className:"cut-settings-dialog__detail-item",key:"depthPerPass"},`${Ve.convertFromIn(r.depthPerPass,o)} ${n}`)];return this.props.showSpindleSpeed&&s.push(Vt.default.createElement("span",{className:"cut-settings-dialog__detail-item",key:"spindleSpeed"},`${r.spindleSpeed&&r.spindleSpeed.toFixed(0)||"-"} RPM`)),s});y(this,"getCutSettingsRow",(r,o)=>{let i=this.state.selected!=null&&this.state.selected.title===r,{isProUser:n}=this.props,s=r==="Current Settings";return s&&!n?Vt.default.createElement("div",{className:"cut-settings-dialog__not-pro",key:r},Vt.default.createElement(qt,null),Vt.default.createElement("span",null," Saving cut settings requires an active Easel Pro account. "),Vt.default.createElement(oe,{onClick:()=>this.showUserModal()},"Sign up now for Easel Pro!"),Vt.default.createElement("div",{className:"cut-settings-dialog__details cut-settings-dialog__button"},Vt.default.createElement("label",{className:"cut-settings-dialog__check-container","data-action":r},Vt.default.createElement("input",{className:"cut-settings-dialog__radio",type:"radio",name:r,defaultChecked:i}),Vt.default.createElement("img",{src:EASEL_ASSETS.images.greyCircleLight})),Vt.default.createElement("span",{className:"cut-settings-dialog__detail-item cut-settings-dialog__detail-item--main"},Vt.default.createElement("span",{className:"cut-settings-dialog__row-title"},`${r}:`)),this.getCutSettingRowValues(o))):Vt.default.createElement(oe,{className:`cut-settings-dialog__details cut-settings-dialog__button ${i?"cut-settings-dialog--selected":""}`,key:r,onClick:()=>this.selectSetting(r,o)},Vt.default.createElement("label",{className:"cut-settings-dialog__check-container","data-action":r},Vt.default.createElement("input",{className:"cut-settings-dialog__radio",type:"radio",name:r,defaultChecked:i}),Vt.default.createElement("img",{src:i?EASEL_ASSETS.images.blueRadioButton:EASEL_ASSETS.images.blueCircleLight})),Vt.default.createElement("span",{className:"cut-settings-dialog__detail-item cut-settings-dialog__detail-item--main"},!s&&Vt.default.createElement(qt,{type:"left"}),Vt.default.createElement("span",{className:"cut-settings-dialog__row-title"},`${r}:`)),this.getCutSettingRowValues(o))});y(this,"getNonSelectableCutSettingsRow",(r,o,{defaulted:i})=>Vt.default.createElement("div",{className:`cut-settings-dialog__details cut-settings-dialog__button ${i?"":"non-selectable"} `,key:r},Vt.default.createElement("label",{className:"cut-settings-dialog__check-container","data-action":r},Vt.default.createElement("span",null)),Vt.default.createElement("span",{className:"cut-settings-dialog__detail-item cut-settings-dialog__detail-item--main"},Vt.default.createElement("span",{className:"cut-settings-dialog__row-title"},`${r}:`)),this.getCutSettingRowValues(o)));let o=r.saveOptions?r.saveOptions:[],i=null;for(let n of o)n.defaulted&&(i=n.settings,i.title=n.title);this.state={saving:!1,selected:i,cutSettingsSaved:null}}render(){let{jobSettings:r,title:o,saveOptions:i,machineProfile:n}=this.props,s=Nt.getBitFromJobSettings(r);return Vt.default.createElement("div",{className:"cut-settings-dialog__summary"},Vt.default.createElement("p",{className:"cut-settings-dialog__info"},o),Vt.default.createElement("div",{className:"cut-settings-dialog__header"},Vt.default.createElement("span",{className:"cut-settings-dialog__header-item"},Vt.default.createElement("strong",null,"Machine: "),Vt.default.createElement("span",null,`${n?n.name:"N/A"}`)),Vt.default.createElement("span",{className:"cut-settings-dialog__header-item"},Vt.default.createElement("strong",null,"Material: "),Vt.default.createElement("span",null,`${r.material.displayName}`)),Vt.default.createElement("span",{className:"cut-settings-dialog__header-item"},Vt.default.createElement("strong",null,"Bit: "),Vt.default.createElement("span",null,Nt.descriptionForBit(s)))),Vt.default.createElement("div",{className:`cut-settings-dialog__details ${i?"cut-settings-dialog__details--heading":""}`},i!=null&&Vt.default.createElement("strong",{className:"cut-settings-dialog__detail-item cut-settings-dialog__detail-item--main"},"Settings"),Vt.default.createElement("strong",{className:"cut-settings-dialog__detail-item"},"Feed Rate"),Vt.default.createElement("strong",{className:"cut-settings-dialog__detail-item"},"Plunge Rate"),Vt.default.createElement("strong",{className:"cut-settings-dialog__detail-item"},"Depth Per Pass"),this.props.showSpindleSpeed&&Vt.default.createElement("strong",{className:"cut-settings-dialog__detail-item"},"Spindle Speed")),i!=null?Vt.default.createElement("div",null,i.map(a=>a.selectable?this.getCutSettingsRow(a.title,a.settings):this.getNonSelectableCutSettingsRow(a.title,a.settings,{defaulted:a.defaulted})),Vt.default.createElement("div",{className:"cut-settings-dialog__actions"},Vt.default.createElement("button",{className:"cut-settings-dialog__btn btn btn-primary",onClick:this.onSaveCutSettings,disabled:this.state.saving},"Save"))):Vt.default.createElement("div",{className:"cut-settings-dialog__details"},this.getCutSettingRowValues(r)))}};y(c9,"propTypes",{showUserModalAccountTab:O0e.default.func.isRequired});var L0e=ne({mapDispatchToProps:e=>({showUserModalAccountTab:()=>e(De.actions.showUserModalAccountTab())}),component:c9});L0e.unconnected=c9;var Lm=L0e;var Xat=function(){let e=vl.getCurrentData(),t=N.store.getState(),r={isUsingDustShoe:!1,project:e,jobSettings:Ge.getSettings(t),percentComplete:0,tile:null,timeEstimate:null},o=W.getExternalGcode(t);o&&(r.gcode=o,r.isExternalGcode=!0);let i=e.workpieces.find(n=>n.client_id===W.getActiveId(t));return e.cabinetry!=null?r.savedData=e.workpieces.map(n=>JSON.parse(n.saved_data||"{}")):r.savedData=[JSON.parse(i.saved_data||"{}")],r},B0e=e=>({project:e.project,jobSettings:e.jobSettings,tile:e.tile,gcode:e.gcode,gcodeMetadata:e.gcodeMetadata,parentGcode:e.parentGcode,timeEstimate:e.timeEstimate,percentComplete:e.percentComplete,isUsingDustShoe:e.isUsingDustShoe,isExternalGcode:e.isExternalGcode,savedData:e.savedData}),Yat=()=>B0e(Xat()),qat=function(){let e=ks.data(),t=[{}];if(e.project!=null&&e.project.workpieces!=null&&e.project.active_workpiece_position!=null)if(e.project.cabinetry!=null)t=e.project.workpieces.map(r=>JSON.parse(r.saved_data));else{let r=e.project.workpieces.find(o=>o.position===e.project.active_workpiece_position);r&&(t=[JSON.parse(r.saved_data)])}return B0e(le(ks.data(),{savedData:t}))},$at={getDataForCurrentProject:Yat,getDataForLastCarve:qat},u9=$at;var TE=M(P("prop-types"),1),Bm=M(P("react"),1);var vE=M(P("prop-types"),1),k0=M(P("react"),1);var SE=class extends k0.default.Component{constructor(){super(...arguments);y(this,"selectProblemSymptom",r=>{this.props.onSelect(r),this.props.trackProblemSymptomClick(r)})}render(){return k0.default.createElement("div",{className:"row overflow-auto"},this.props.problemSymptoms.map(r=>k0.default.createElement("div",{id:`problem-symptom-${r.id}`,key:`problem-symptom-${r.id}`,onClick:this.selectProblemSymptom.bind(this,r.id),className:"col-md-2 issue"},k0.default.createElement("div",{className:"problem-symptom-icon"},k0.default.createElement("img",{src:r.icon})),k0.default.createElement("div",{className:"caption"},k0.default.createElement("h5",null,r.title)))))}};y(SE,"propTypes",{problemSymptoms:vE.default.array.isRequired,onSelect:vE.default.func.isRequired,trackProblemSymptomClick:vE.default.func.isRequired});var F0e=SE;var dp=M(P("prop-types"),1),Ta=M(P("react"),1);var W0e={},gj=!1,Zat=function(e){if(!gj){gj=!0;let t=N.store.getState(),r={user_reported_error:e.userReported,easel_version:EASEL_VERSION,sender_version:jo.getRunningVersionNumber(t),firmware_version:ie.getFirmwareVersion(t),serial_number:ie.getSerialNumber(t),overrides:JSON.stringify(Ro.getOverridePercentages(t)),connection_log:JSON.stringify(e.connectionLog!=null?e.connectionLog:A5.messages),detected_garbled_message:e.detectedGarbledMessage!=null?e.detectedGarbledMessage:ie.hasDetectedGarbledMessage(t),build_info_string:ie.getBuildInfoString(t),user_agent_data:JSON.stringify(e.userAgentData),machine_type:Y.getMachineType(t),machine_third_party_type:Y.getThirdPartyModel(t),max_spindle_current:e.maxSpindleCurrent,user_notes:e.userNotes,media_blob_id:e.mediaBlob,media_mimetype:e.mediaMimetype,active_workpiece_id:W.getActiveWorkpiece(t)?.backendId,project_link_token:ge.getProjectLinkToken(t),job_link_token:ge.getJobLinkToken(t)};e.machineSettings&&(r.machine_settings=e.machineSettings),e.error&&(r.active_buffer=e.error.active_buffer,r.last_instruction=e.error.last_instruction,r.sender_note=e.error.sender_note),e.gcode&&(r.gcode=e.gcode),e.isExternalGcode!=null&&(r.is_external_gcode=e.isExternalGcode);let o={...e.jobSettings};bt.supportsSpindleSpeed(Y.getMachineType(t),Y.getSpindleType(t),Y.getAutomaticSpindleControl(t))||delete o.spindleSpeed,r.project_attributes={workpieces_attributes:e.savedData.map(s=>({saved_data:JSON.stringify({...s,job_settings:o})})),name:e.project?.name,cabinetry:e.project?.cabinetry};let n=kt("/error_reports",JSON.stringify({error_report:r}));return n.finally(()=>{gj=!1}),n}},Jat=e=>Zat(le(e,{userReported:!0}));W0e.submitUserReportedError=Jat;var Kat=W0e,V0e=Kat;var yg=M(P("react"),1),yj=class extends yg.default.Component{constructor(t){super(t),this.state={files:[]},this.onSelectFiles=this.onSelectFiles.bind(this)}onSelectFiles(t){let r=Array.from(t.target.files);this.setState({files:r.map(o=>({name:o.name,preview:o.type.indexOf("image")>=0?URL.createObjectURL(o):EASEL_ASSETS.images.video}))}),this.props.onSelectFiles(r)}render(){let{files:t}=this.state,{multiple:r,acceptedTypes:o}=this.props,i=[];return o.indexOf("image/")>=0&&i.push("picture"),o.indexOf("video/")>=0&&i.push("video"),yg.default.createElement("div",{className:"media-file-input"},yg.default.createElement("div",{className:"media-file-input__previews"},t.map(({name:n,preview:s},a)=>yg.default.createElement("img",{className:"media-file-input__preview",src:s,alt:n,key:`preview[${a}]`}))),yg.default.createElement("label",{className:"btn btn-default"},yg.default.createElement("input",{type:"file",accept:o,multiple:r,style:{display:"none"},onChange:this.onSelectFiles}),`${t.length>0?"Change":"Upload"} ${i.join(" or ")}`))}},U0e=yj;var CE=class extends Ta.default.Component{constructor(){super(...arguments);y(this,"state",{failedToSend:!1,sending:!1,notes:""});y(this,"close",()=>{this.props.onClose()});y(this,"hideForm",()=>{this.props.hideForm()});y(this,"handleNotesTextareaChange",r=>{this.setState({notes:r.target.value})});y(this,"handleSubmit",async r=>{r.preventDefault();let{mediaFile:o,notes:i}=this.state,n=$.ua,s={browser:{name:n.browser.name,version:n.browser.version},engine:n.engine,os:n.os};this.setState({sending:!0}),i.length>0||o?H.trackEvent(U.failedWithFeedback,{Feedback:i}):H.trackEvent(U.failedWithoutFeedback,{});try{let a=null;o&&(a=await Qh(o,"/error_report_image_direct_upload")),await V0e.submitUserReportedError({project:this.props.project,jobSettings:this.props.jobSettings,savedData:this.props.savedData,gcode:this.props.gcode,isExternalGcode:this.props.isExternalGcode,machineSettings:this.props.machineSettings,maxSpindleCurrent:this.props.maxSpindleCurrent,userNotes:i,mediaBlob:a?.signed_id,mediaMimetype:o?.type,error:this.props.error,connectionLog:this.props.connectionLog,detectedGarbledMessage:this.props.detectedGarbledMessage,userAgentData:s}),F2.flash("Thanks for your feedback."),this.close()}catch(a){console.warn(a),this.setState({failedToSend:!0})}finally{this.setState({sending:!1})}});y(this,"selectMediaFile",r=>{this.setState({mediaFile:r[0]})})}render(){let{failedToSend:r,sending:o,notes:i}=this.state,n=r&&Ta.default.createElement("p",{className:"error-report-form__error"},"Oops, there was a problem sending your feedback.");return Ta.default.createElement("div",{className:"error-report-form"},Ta.default.createElement("h3",null,"Get Help From Easel Support"),Ta.default.createElement("a",{href:"#",className:"back-btn",onClick:this.hideForm},Ta.default.createElement("i",{className:"bi bi-chevron-left"})),Ta.default.createElement("p",null,"Our Customer Success team wants to help you solve this issue.  Tell us more about your problem by submitting this error report. Our team will be able to review and respond within the next 1-2 business days."),n,Ta.default.createElement("form",{className:"center-text",onSubmit:this.handleSubmit},Ta.default.createElement("div",{className:"form-group"},Ta.default.createElement("textarea",{className:"form-control",name:"notes",onChange:this.handleNotesTextareaChange})),Ta.default.createElement("p",null,"Please attach a picture or video showing the problem, if possible."),Ta.default.createElement(U0e,{acceptedTypes:"image/*, video/*",onSelectFiles:this.selectMediaFile}),Ta.default.createElement("div",{className:"footer-buttons justify-content-center",role:"group"},Ta.default.createElement("button",{className:"btn btn-primary",type:"submit",disabled:i.length===0||o},o?"Sending....":"Send"),Ta.default.createElement("button",{className:"btn btn-default",type:"button",onClick:this.hideForm},"Cancel")),this.props.isSubscribed&&Ta.default.createElement("p",{className:"support-info mt-3"},"Technical support is available Monday-Friday 9 AM to 5 PM CT.")))}};y(CE,"propTypes",{project:dp.default.object,jobSettings:dp.default.object,savedData:dp.default.object,connectionLog:dp.default.array,detectedGarbledMessage:dp.default.bool,error:dp.default.object,gcode:dp.default.string,isExternalGcode:dp.default.bool,machineSettings:dp.default.string,onClose:dp.default.func.isRequired,hideForm:dp.default.func.isRequired});var Qat=ne({mapStateToProps:function(e){return{isSubscribed:Q.isSubscribed(e),maxSpindleCurrent:ie.getMaxSpindleCurrent(e)}},component:CE}),R0e=Qat;var t6=M(P("prop-types"),1),Hi=M(P("react"),1);var xj=M(P("prop-types"),1),xg=M(P("react"),1),_E=P("react-redux");var PE=M(P("prop-types"),1),p9=M(P("react"),1);var wE=class extends p9.default.Component{render(){return p9.default.createElement("p",{className:"feedback-prompt"},this.props.message,p9.default.createElement("button",{className:"btn-primary btn-xs",onClick:this.props.onClickYes},"Yes"),p9.default.createElement("button",{className:"btn-danger btn-xs",onClick:this.props.onClickNo},"No"))}};y(wE,"propTypes",{message:PE.default.string.isRequired,onClickYes:PE.default.func.isRequired,onClickNo:PE.default.func.isRequired});var j0e=wE;var G0e=({troubleshootingPaths:e,onSubmitFeedback:t})=>{let r=(0,_E.useDispatch)(),o=(0,_E.useSelector)(ys.getTroubleshootingFeedback),i=(s,a)=>{t(s,a)},n=s=>{i(s,!1),r(ys.actions.toggleErrorReportVisible())};return xg.default.createElement("div",{className:"troubleshooting-content"},e.map((s,a)=>xg.default.createElement("div",{id:`troubleshooting-path-${s.id}`,className:"troubleshooting-path",key:`troubleshooting-path-${a}`},xg.default.createElement("h4",{dangerouslySetInnerHTML:{__html:s.formatted_description}}),xg.default.createElement("ol",null,s.visible_action_steps.filter(l=>!l.hidden).map(l=>xg.default.createElement("li",{key:`action-step-${l.id}`,dangerouslySetInnerHTML:{__html:l.formatted_description}}))),!o.includes(s.id)&&xg.default.createElement(j0e,{message:"Was this helpful?",onClickYes:()=>i(s.id,!0),onClickNo:()=>n(s.id)}))))};G0e.propTypes={troubleshootingPaths:xj.default.array.isRequired,onSubmitFeedback:xj.default.func.isRequired};var H0e=G0e;var kE=class extends Hi.default.Component{constructor(){super(...arguments);y(this,"state",{selectedPossibleCause:this.props.possibleCauses[0]});y(this,"selectPossibleCause",r=>{let o=this.props.possibleCauses[r];this.setState({selectedPossibleCause:o})});y(this,"deselect",()=>{this.props.onDeselect()})}render(){return Hi.default.createElement("div",{className:"container-fluid problem-content"},Hi.default.createElement(oe,{"data-action":"Back",className:"back-btn",onClick:this.deselect},Hi.default.createElement("i",{className:"bi bi-arrow-left"})),Hi.default.createElement("div",{className:"row problem-header"},Hi.default.createElement("div",{className:"col-md-2 offset-md-1"},Hi.default.createElement("img",{src:this.props.icon})),Hi.default.createElement("div",{className:"col-md-9"},Hi.default.createElement("h3",null,this.props.title),Hi.default.createElement("p",{dangerouslySetInnerHTML:{__html:this.props.formattedDescription}}))),this.props.possibleCauses.length===0?Hi.default.createElement("div",{className:"row problem-body no-details"},Hi.default.createElement("p",null,"There are currently no troubleshooting details for this problem in our database."),Hi.default.createElement("p",null,"We recommend visiting our ",Hi.default.createElement("a",{href:"https://site.inventables.com/support"},"support center"),", or looking for help in ",Hi.default.createElement("a",{href:"https://site.inventables.com/forum"},"our forum"),".")):Hi.default.createElement("div",{className:"row problem-body"},Hi.default.createElement("div",{className:"col-md-4"},Hi.default.createElement("h3",null,"Potential Causes"),Hi.default.createElement("ol",{className:"possible-causes"},this.props.possibleCauses.map((r,o)=>{let i=`possible-cause-${r.id}`,n=r===this.state.selectedPossibleCause?"active":"";return Hi.default.createElement("li",{key:i,id:i,className:n,onClick:this.selectPossibleCause.bind(this,o)},r.description)}))),Hi.default.createElement("div",{className:"col-md-8"},Hi.default.createElement("h3",null,"Troubleshooting steps"),Hi.default.createElement(H0e,{troubleshootingPaths:this.state.selectedPossibleCause.visible_troubleshooting_paths,onSubmitFeedback:this.props.onSubmitFeedback}))))}};y(kE,"propTypes",{icon:t6.default.string.isRequired,title:t6.default.string.isRequired,formattedDescription:t6.default.string.isRequired,possibleCauses:t6.default.array.isRequired,onSubmitFeedback:t6.default.func.isRequired});var z0e=kE;var d9=class extends Bm.default.Component{constructor(r){super(r);y(this,"trackFeedback",(r,o)=>{this.props.postUserFeedback(this.props.selectedProblemSymptom.id,r,o)});y(this,"openSupportBot",()=>{H.trackEvent(U.answerbotOpened,{source:"troubleshooting-modal"}),C5.openSupportBot(),setTimeout(()=>this.props.close(),1e3)});this.state={small:!1,errorData:null}}componentDidMount(){this.props.fetchUserFeedback()}componentWillUnmount(){this.context.clear(),this.props.clearWebsocketMessages()}render(){let{problemSymptoms:r,troubleshootingFeedback:o,isErrorReportFormVisible:i,errorInfo:n,error:s,close:a,toggleErrorReportVisible:l,machineType:c,selectedProblemSymptom:u,selectProblemSymptom:p,trackProblemSymptomClick:m,machineSettings:h,detectedGarbledMessage:f}=this.props;if(r==null||o==null)return Bm.default.createElement(Re,null);if(i)return Bm.default.createElement(R0e,{key:i,project:n.project,jobSettings:n.jobSettings,savedData:n.savedData,error:s,isExternalGcode:n.isExternalGcode,gcode:n.gcode,machineSettings:h,onClose:a,hideForm:()=>l(),machineType:c,connectionLog:this.context.messages,detectedGarbledMessage:f});if(u!=null){let x=u.visible_possible_causes.slice().filter(v=>v.machine_types.indexOf("all")>-1||v.machine_types.indexOf(this.props.machineType)>-1);return Bm.default.createElement(z0e,{icon:u.icon,title:u.title,formattedDescription:u.formatted_description,possibleCauses:x,onDeselect:()=>p(null),onSubmitFeedback:this.trackFeedback})}else return Bm.default.createElement(Bm.default.Fragment,null,Bm.default.createElement(F0e,{problemSymptoms:r,onSelect:p,trackProblemSymptomClick:m}),Bm.default.createElement("button",{onClick:()=>this.openSupportBot(),className:"btn btn-primary btn-contact"},"Additional Solutions"),Bm.default.createElement("button",{id:"view-error-form",onClick:()=>l(),className:"btn btn-link btn-contact"},"Send an Error Report"))}};y(d9,"contextType",ym),y(d9,"propTypes",{error:TE.default.object,errorInfo:TE.default.object,close:TE.default.func});var elt=ne({component:d9,mapStateToProps(e){return{machineSettings:ie.getSettings(e).join(`
`),problemSymptoms:ys.getProblemSymptoms(e),troubleshootingFeedback:ys.getTroubleshootingFeedback(e),selectedProblemSymptom:ys.getSelectedProblemSymptom(e),machineType:Y.getMachineType(e),isErrorReportFormVisible:ys.isErrorReportFormVisible(e),detectedGarbledMessage:ie.hasDetectedGarbledMessage(e)}},mapDispatchToProps(e){return{postUserFeedback(t,r,o){e(ys.postUserFeedback({selectedProblemSymptomID:t,troubleshootingPathId:r,helpful:o}))},trackProblemSymptomClick(t){j7.postProblemSymptomMetric(t)},selectProblemSymptom(t){e(ys.actions.setSelectedProblemSymptomID(t))},toggleErrorReportVisible(){e(ys.actions.toggleErrorReportVisible())},fetchUserFeedback(){e(ys.fetchUserFeedback())},clearWebsocketMessages(){e(ie.actions.clearStatusMessage())}}}}),EE=elt;var Do=M(P("react"),1);var bj=class extends Do.default.Component{constructor(){super(...arguments);y(this,"parkingDistance",r=>r==="behind"&&ks.data().isUsingDustShoe?6:3);y(this,"formattedParkingDistance",r=>{let o=this.parkingDistance(r);return`${Ve.convertFromIn(o,this.props.unit).toFixed(0)} ${this.props.unit}`});y(this,"invalidRoomForParking",r=>{let{tile:o,workAreaY:i,lastCarveMaterial:n}=this.props;return o!=null?U4(o).getDimensions().y>i-this.parkingDistance(r):n!=null?n.dimensions.y>i-this.parkingDistance(r):!0});y(this,"parkBehind",()=>{let{lastCarveMaterial:r}=this.props;H.trackEvent("Park Machine",{direction:"behind"});let o=r.boundary?r.boundary.maxY:r.dimensions.y;ke.jog("Z",me.BIT_RAISE_HEIGHT),ke.jogTo("Y",o+this.parkingDistance("behind"))});y(this,"parkInFront",()=>{let{lastCarveMaterial:r}=this.props;H.trackEvent("Park Machine",{direction:"in-front"});let o=r.boundary?r.boundary.minY:0;ke.jog("Z",me.BIT_RAISE_HEIGHT),ke.jogTo("Y",o-this.parkingDistance("in-front"))});y(this,"isZeroCenter",()=>this.props.lastCarveMaterial&&this.props.lastCarveMaterial.xyZeroLocation==="center");y(this,"getParkButton",r=>{let o=r==="behind"?this.parkBehind:this.parkInFront;return this.invalidRoomForParking(r)?Do.default.createElement(je,{placement:"top",id:`disabled-parking-${r}-popover`,tooltipContent:`Easel needs ${this.formattedParkingDistance(r)} between the material and the edge of the machine's work area to park.`},Do.default.createElement("button",{className:"machine-parking__park-button machine-parking__park-button--invalid","data-id":`park-${r}`},"Park Here")):Do.default.createElement("button",{className:"machine-parking__park-button machine-parking__park-button--valid","data-id":`park-${r}`,disabled:!this.props.isProUser,onClick:o},"Park Here")})}render(){return Do.default.createElement("div",{className:"machine-parking"},Do.default.createElement("div",{className:"machine-parking__title"},Do.default.createElement("span",null,"Park Machine"),Do.default.createElement(HT,null)),Do.default.createElement("div",{className:"machine-parking__subtitle"},"Your machine will move along the Y axis past the edge of your material."),Do.default.createElement("div",{className:"machine-parking__buttons-container"},Do.default.createElement("div",{className:"machine-parking__axis-container"},Do.default.createElement("svg",{viewBox:"0 2 10 61",className:"machine-parking__y-axis"},Do.default.createElement("text",{x:"-40",y:"6",fill:"black",fontSize:"5px",transform:"rotate(270)"},"Y Axis"),Do.default.createElement("line",{x1:"8",y1:"5",x2:"8",y2:"60",strokeWidth:"0.5",stroke:"black"}),Do.default.createElement("polygon",{points:"6,5 8,2 10,5",fill:"black"}),Do.default.createElement("polygon",{points:"6,60 8,63 10,60",fill:"black"}))),Do.default.createElement("div",null,this.getParkButton("behind"),Do.default.createElement("div",{className:"machine-parking__image-container"},Do.default.createElement("svg",{viewBox:"0 0 106 110",className:"machine-parking__material-image"},Do.default.createElement("line",{x1:"40",y1:"2",x2:"60",y2:"2",stroke:"#eb6966"}),Do.default.createElement("line",{x1:"50",y1:"2",x2:"50",y2:"108",stroke:"#eb6966"}),Do.default.createElement("rect",{x:"3",y:"30",width:"98",height:"50",fill:"white"}),this.isZeroCenter()?Do.default.createElement("circle",{cx:"52",cy:"55",r:"3"}):Do.default.createElement("circle",{cx:"3",cy:"80",r:"3"}),Do.default.createElement("line",{x1:"40",y1:"108",x2:"60",y2:"108",stroke:"#eb6966"})),Do.default.createElement("span",{className:"machine-parking__distance-top"},this.formattedParkingDistance("behind")),Do.default.createElement("div",{className:`machine-parking__image-text ${this.isZeroCenter()?"machine-parking__image-text--bottom":""}`},"Material"),Do.default.createElement("span",{className:"machine-parking__distance-bottom"},this.formattedParkingDistance("in-front"))),this.getParkButton("in-front"))))}},tlt=ne({mapStateToProps:e=>({isProUser:Q.isProEnabled(Date.now(),e),workAreaY:Y.getWorkArea(e).y,unit:Me.getPreferredUnit(e)}),component:bj}),X0e=tlt;var pd=M(P("react"),1);var vj=class extends pd.default.Component{constructor(r){super(r);y(this,"onSaveCutSettings",r=>{if(this.state.saving)return;this.setState({saving:!0});let o={bitId:this.props.bit.id,materialId:this.props.material.id,feedRate:r.feedRate,plungeRate:r.plungeRate,depthPerPass:r.depthPerPass,preferredUnit:this.props.jobSettings.preferredUnit,machineProfileId:this.props.machineProfile?this.props.machineProfile.id:null};this.props.showSpindleSpeed&&r.spindleSpeed>1&&(o.spindleSpeed=r.spindleSpeed),this.state.previouslySaved!=null?(o.id=this.state.previouslySaved.id,this.props.updateCutSetting(o).then(i=>{i.error?this.setState({saving:!1,errors:[i.error.message]}):(this.props.trackProjectEvent("Modified saved cut settings",{Material:this.props.material.displayName,Bit:rt(this.props.bit).description(),"Easel Pro Content":[U.proContent.savedCutSettings]}),this.setState({saving:!1,errors:[]}),this.props.handleCutSettingsSaved({...this.props.jobSettings,...o}))})):this.props.addCutSetting(o).then(i=>{if(i.error)this.setState({saving:!1,errors:[i.error.message]});else return this.setState({saving:!1,errors:[]}),this.props.handleCutSettingsSaved({...this.props.jobSettings,...o}),i}).then(i=>{if(!i)return;let{feedRate:n,plungeRate:s,depthPerPass:a,spindleSpeed:l}=o;this.props.trackProjectEvent(U.addCutSetting,{Source:"Cut settings dialog",Material:this.props.material.displayName,Bit:rt(this.props.bit).description(),"Easel Pro Content":[U.proContent.savedCutSettings],"Cut Setting Identifier":i.payload.identifier,"Feed Rate":n,"Plunge Rate":s,"Depth Per Pass":a,"Spindle Speed":l})})});y(this,"produceCutSettingsSummary",()=>{let{overrideSettings:r,previouslySaved:o}=this.state,{currentFeedRate:i,currentSpindleSpeed:n,isProUser:s,jobSettings:a,showSpindleSpeed:l,machineProfile:c}=this.props;return a.useCustom?o?i!==100||n!==100?pd.default.createElement(Lm,{isProUser:s,jobSettings:r,showSpindleSpeed:l,machineProfile:c,title:"You carved with the following cut settings:"}):pd.default.createElement(Lm,{isProUser:s,jobSettings:a,showSpindleSpeed:l,machineProfile:c,title:"You carved with the following cut settings:"}):i!==100||n!==100?pd.default.createElement(Lm,{isProUser:s,jobSettings:a,saveOptions:[{settings:a,title:"Before Override",selectable:!0},{settings:r,title:"After Override",selectable:!0,defaulted:!0}],showSpindleSpeed:l,onSaveCutSettings:this.onSaveCutSettings,machineProfile:c,title:"Would you like to save your cut settings? Easel will automatically apply them to your next carve when using this bit and material combination."}):pd.default.createElement(Lm,{isProUser:s,jobSettings:a,saveOptions:[{settings:a,title:"Current Settings",selectable:!1,defaulted:!0}],showSpindleSpeed:l,onSaveCutSettings:this.onSaveCutSettings,machineProfile:c,title:"Would you like to save your cut settings? Easel will automatically apply them to your next carve when using this bit and material combination."}):o?pd.default.createElement(Lm,{isProUser:s,jobSettings:a,saveOptions:[{settings:o,title:"Previously Saved",selectable:!1},{settings:r,title:"After Override",selectable:!1,defaulted:!0}],showSpindleSpeed:l,onSaveCutSettings:this.onSaveCutSettings,machineProfile:c,title:"Would you like to save your overriden settings? Easel will automatically apply them to your next carve when using this bit and material combination."}):pd.default.createElement(Lm,{isProUser:s,jobSettings:a,saveOptions:[{settings:r,title:"After Override",selectable:!1,defaulted:!0}],showSpindleSpeed:l,onSaveCutSettings:this.onSaveCutSettings,machineProfile:c,title:"Would you like to save your overriden settings? Easel will automatically apply them to your next carve when using this bit and material combination."})});let o=le(r.jobSettings,{feedRate:r.jobSettings.feedRate*(r.currentFeedRate/100),spindleSpeed:r.jobSettings.spindleSpeed*(r.currentSpindleSpeed/100)}),i=Wo.findSavedCustomSettingsUsingGlobalRedux(r.material,r.bit,r.machineProfile?r.machineProfile.id:null);this.state={disabled:!1,saving:!1,errors:[],overrideSettings:o,previouslySaved:i}}render(){let{disabled:r,errors:o}=this.state;return pd.default.createElement("div",{className:"cut-settings-dialog"},r&&pd.default.createElement("div",{className:"cut-settings-dialog__overlay"}),o.map(i=>pd.default.createElement("p",{className:"alert alert-danger",key:i},i)),this.produceCutSettingsSummary())}},rlt=ne({mapStateToProps:e=>({isProUser:Q.isProEnabled(Date.now(),e)}),mapDispatchToProps:e=>({trackProjectEvent:(t,r)=>e(Bt(t,r)),updateCutSetting:t=>e(Wi.updateCutSetting(t)),addCutSetting:t=>e(Wi.addCutSetting(t))}),component:vj}),Y0e=rlt;var q0e={error:null,bit:null,open:!1,jobSettings:null,machineSettings:null,small:!1,cutSettingsSaved:null,material:null,tile:null,showSuccessfulCarveContent:!1,showUnsuccessfulCarveContent:!1},Sj=class extends kn.default.Component{constructor(){super(...arguments);y(this,"state",le(q0e));y(this,"carvingProjectEventData",()=>{let o=ks.data().project,i=this.state.material,n=this.state.bit;return{"Contains imported SVG":o?.contains_imported_svg,Material:i?.name,Bit:n!=null?`${n.width} ${n.unit}`:void 0}});y(this,"populateStateData",()=>{let r=ks.data(),o=r.jobSettings,i=Nt.getBitFromJobSettings(o),n=bt.supportsSpindleSpeed(this.props.machineType,this.props.spindleType,this.props.automaticSpindleControl),s=this.props.machineProfiles.find(a=>a.id===r.machineProfileId);this.setState(le(q0e,{material:r.jobSettings!=null?r.jobSettings.material:void 0,error:this.props.errorData,bit:i,jobSettings:r.jobSettings,currentFeedRate:this.props.currentFeedRate,currentSpindleSpeed:this.props.currentSpindleSpeed,tile:r.tile,showSpindleSpeed:n,machineProfile:s}))});y(this,"showCutSettingsData",()=>!((this.state.bit!=null?this.state.bit.source:void 0)===Js.USER_UNSAVED_INPUT)&&this.state.jobSettings!=null&&this.state.jobSettings.material!=null&&this.state.bit!=null);y(this,"handleSuccessfulJob",()=>{ke.sentFeedback(),H.trackEvent(U.completedSuccessfully,this.carvingProjectEventData()),P5.update({successful:!0}),J.emit("job-completed-success"),this.showCutSettingsData()?this.setState({showSuccessfulCarveContent:!0}):this.props.close()});y(this,"handleUnsuccessfulJob",()=>{ke.sentFeedback(),H.trackEvent(U.completedUnsuccessfully,this.carvingProjectEventData()),P5.update({successful:!1}),this.setState({showUnsuccessfulCarveContent:!0})});y(this,"handleCutSettingsSaved",r=>{this.setState({cutSettingsSaved:r})});y(this,"closeWithoutFeedback",()=>{this.props.close()});y(this,"getCutSettingsContent",()=>{let r=Wo.usingSavedCustomSettings(this.state.jobSettings,this.state.material,this.props.machineProfileId),o=!this.state.jobSettings.useCustom,i=this.state.currentFeedRate===100&&this.state.currentSpindleSpeed===100;return this.state.cutSettingsSaved!=null?kn.default.createElement(Lm,{showSpindleSpeed:this.state.showSpindleSpeed,jobSettings:this.state.cutSettingsSaved,title:"The following settings have been saved for this bit and material combination",machineProfile:this.state.machineProfile}):(r||o)&&i?kn.default.createElement(Lm,{showSpindleSpeed:this.state.showSpindleSpeed,jobSettings:this.state.jobSettings,title:"You carved with the following cut settings:",machineProfile:this.state.machineProfile}):kn.default.createElement(Y0e,{bit:this.state.bit,currentFeedRate:this.state.currentFeedRate,currentSpindleSpeed:this.state.currentSpindleSpeed,material:this.state.material,jobSettings:this.state.jobSettings,handleCutSettingsSaved:this.handleCutSettingsSaved,showSpindleSpeed:this.state.showSpindleSpeed,machineProfile:this.state.machineProfile})});y(this,"machineParking",()=>kn.default.createElement(X0e,{tile:this.state.tile,lastCarveMaterial:this.state.material}))}componentDidUpdate(r){this.props.open!==r.open&&this.props.open===!0&&this.populateStateData()}componentDidMount(){J.addListener("close-job-status-modal",this.closeWithoutFeedback),this.props.setStartPercentage(0)}componentWillUnmount(){J.removeListener("close-job-status-modal",this.closeWithoutFeedback),this.closeWithoutFeedback()}render(){let o=this.props.machineType!==ze.CARVEY;return kn.default.createElement(ME.Modal,{show:this.props.open,size:"xl",onHide:this.closeWithoutFeedback,id:"job-completed-modal",className:`walkthrough-modal ${o?"walkthrough-modal--has-sidebar":""}`,enforceFocus:!1},kn.default.createElement(ME.Modal.Header,{closeButton:!0},kn.default.createElement("h3",null,this.state.showUnsuccessfulCarveContent?"Troubleshoot Carve":"Carve Complete")),kn.default.createElement(ME.Modal.Body,null,!this.state.showSuccessfulCarveContent&&!this.state.showUnsuccessfulCarveContent&&kn.default.createElement("div",{className:"job-status"},"Let us know how your carve turned out:",kn.default.createElement("div",{className:"feedback-buttons"},kn.default.createElement("div",{className:"feedback-buttons__negative",onClick:this.handleUnsuccessfulJob},kn.default.createElement("img",{src:EASEL_ASSETS.images.sadEaselOrange}),kn.default.createElement("div",null,"Not well - Troubleshoot")),kn.default.createElement("div",{className:"feedback-buttons__positive",onClick:this.handleSuccessfulJob},kn.default.createElement("img",{src:EASEL_ASSETS.images.glassesEaselGreen}),kn.default.createElement("div",null,"Great",this.showCutSettingsData()?" - Review/Save Cut Settings":"")))),this.state.showSuccessfulCarveContent&&this.getCutSettingsContent(),this.state.showUnsuccessfulCarveContent&&kn.default.createElement(EE,{errorInfo:u9.getDataForLastCarve(),error:this.state.error,close:this.props.close})),o&&kn.default.createElement("div",{className:"walkthrough-sidebar"},kn.default.createElement("h3",null,"Jog Machine"),kn.default.createElement(up,{context:"job_status",showLockButtons:this.state.jobSettings?.useDetailBit||this.state.jobSettings?.useOutlineBit,machineParking:this.machineParking()})))}},olt=ne({mapStateToProps:e=>({machineProfiles:et.getMachineProfiles(e),machineType:Y.getMachineType(e),machineProfileId:et.getCurrentProfileId(e),spindleType:Y.getSpindleType(e),automaticSpindleControl:Y.getAutomaticSpindleControl(e),currentFeedRate:Ro.getCurrentFeedRatePercentage(e)||100,currentSpindleSpeed:Ro.getCurrentSpindleSpeedPercentage(e)||100}),mapDispatchToProps:{setStartPercentage:At.actions.setStartPercentage},component:Sj}),$0e=olt;var Cj=class extends AE.default.Component{constructor(){super(...arguments);y(this,"state",{open:!1,errorData:null});y(this,"show",r=>{this.setState({open:!0,errorData:r})});y(this,"close",()=>{this.setState({open:!1})})}componentDidMount(){J.addListener("ended-job",this.show)}componentWillUnmount(){J.removeListener("ended-job",this.show)}render(){let r;switch(ks.data().postCarveModal){case"planing":r=N0e;break;default:r=$0e}return AE.default.createElement("div",null,AE.default.createElement(r,{open:this.state.open,errorData:this.state.errorData,close:this.close}))}},Z0e=Cj;var Ea=M(P("react"),1),f9=P("react-bootstrap");var m9=M(P("react"),1);var Pj=class extends m9.default.Component{constructor(){super(...arguments);y(this,"state",{categories:[]});y(this,"getCategories",()=>{let r=["New"],o={Christmas:{from:"December 14",to:"December 25"},Hannukah:{from:"December 14",to:"December 26"},Kwanzaa:{from:"December 14",to:"January 6"},"New Years":{from:"January 1",to:"January 1"},"Valentines Day":{from:"February 14",to:"February 14"},"Women's Day":{from:"March 8",to:"March 8"},"St Patrick's Day":{from:"March 17",to:"March 17"},Ramadan:{from:"April 2",to:"May 1"},Easter:{from:"April 17",to:"April 17"},"Cinco de Mayo":{from:"May 5",to:"May 5"},"July 4th":{from:"July 4",to:"July 4"},Halloween:{from:"October 31",to:"October 31"},"Men's Day":{from:"November 19",to:"November 19"},Thanksgiving:{from:"November 25",to:"November 25"}};for(let i in o){let n=o[i],s=new Date,a=new Date(`${n.from}, ${new Date().getFullYear()} 00:00:01`),l=new Date(`${n.to}, ${new Date().getFullYear()} 00:00:01`);s>a.setDate(a.getDate()-14)&&s<l.setDate(l.getDate()+1)&&r.push(i)}return r.push("Animal","Decoration","Drink","Emoji","Fashion","Food","Game","Holiday","Music","Nature","Pattern","Science","Symbol","Tool","Travel"),r})}componentDidMount(){this.setState({categories:this.getCategories()})}render(){let{categories:r}=this.state,{selectedCategory:o,onSelectCategory:i}=this.props;return m9.default.createElement("ul",{className:"nav flex-column nav-pills nav-fill"},r.map(n=>m9.default.createElement("li",{key:`category-${n}`,className:"nav-item"},m9.default.createElement(oe,{className:`${n===o?"active":""} nav-link`,onClick:()=>i(n)},n))))}},J0e=Pj;var _c=M(P("react"),1);var o6=P("react-redux");var ia=M(P("react"),1);var wj=class extends ia.default.Component{constructor(){super(...arguments);y(this,"state",{loading:!0,volumes:[],volumePreviews:[],loadingError:!1,previewData:[{title:"Fill",type:"fill",outlineStyle:"fill"},{title:"Outline (on path)",type:"outline",outlineStyle:"on-path"},{title:"Outline (outside)",type:"outline",outlineStyle:"outside"},{title:"Outline (inside)",type:"outline",outlineStyle:"inside"}]});y(this,"fetchAndRenderSvg",()=>{let{designElement:r,bit:o}=this.props;(r.encoded_svg_string?Promise.resolve(r.encoded_svg_string):fetch(tm.getUrlToRequestWithOriginHeader(r.url)).then(n=>n.text())).then(n=>window.atob(vr.reverse(n))).then(n=>Ku.svgStringToVolumes(n)).then(n=>{let s=o.groupName==="V"?me.V_BIT_PLACED_SHAPE_DEPTH:ot.defaultShapePlacementDepth(this.props.materialThickness);n=n.map(a=>le(a,{shape:{icon:{pro:!0,name:r.term,externalId:r.id}},cut:{depth:s}})),this.setState({loading:!1,loadingError:!1,volumes:n},this.renderSvgPreviews)}).catch(n=>{console.error(n),this.setState({loading:!1,loadingError:!0})})});y(this,"renderSvgPreviews",()=>{let{previewData:r,volumes:o}=this.state,i=r.map(n=>{let s=le(o);return s.forEach(function(l){l.cut.type=n.type,l.cut.outlineStyle=n.outlineStyle}),new U5(250,250,s,{width:30,height:30}).render().getElement().toDataURL()});this.setState({volumePreviews:i,loading:!1})});y(this,"renderPreviews",()=>{let{volumes:r,volumePreviews:o,previewData:i}=this.state;return r.length===0?null:ia.default.createElement("div",{className:"cut-type-selector"},i.map((n,s)=>ia.default.createElement("div",{key:"thumbnail-preview-"+s,onClick:()=>{this.props.handleClick({outlineStyle:n.outlineStyle,volumes:r})},className:`cut-selector--${n.outlineStyle}`},ia.default.createElement("img",{src:o[s],style:{width:"250px"}}),ia.default.createElement("div",{className:"d-grid gap-2 mt-2"},ia.default.createElement("button",{key:n.outlineStyle,className:"btn btn-primary",type:"button"},n.title)))))})}componentDidMount(){this.fetchAndRenderSvg()}componentDidUpdate(r){r.designElementIndex!==this.props.designElementIndex&&this.setState({loading:!0,loadingError:!1,volumes:[],volumePreviews:[]},this.fetchAndRenderSvg)}render(){let{isFirstIcon:r,isLastIcon:o}=this.props,{loading:i,loadingError:n}=this.state;return ia.default.createElement("div",null,ia.default.createElement("div",{className:"design-element-container__navigation"},ia.default.createElement(oe,{onClick:this.props.cancelImport},"\u2190 Back"),ia.default.createElement("h4",null,"Select Cut Type"),ia.default.createElement("div",{className:"design-element-container__navigation__buttons"},ia.default.createElement("button",{className:`btn btn-link ${r?"disabled":""}`,onClick:this.props.setPreviousDesignElement,disabled:this.props.isFirstIcon},"\u2190 Previous Icon"),ia.default.createElement("button",{className:`btn btn-link ${o?"disabled":""}`,onClick:this.props.setNextDesignElement,disabled:this.props.isLastIcon},"Next Icon \u2192"))),ia.default.createElement("div",{className:"design-element-container__importer"},i&&ia.default.createElement("div",{className:"pro-list-container__spinner"},ia.default.createElement(Re,{size:25})),!i&&!n&&this.renderPreviews(),n&&ia.default.createElement("p",null,"There was an error while loading the design element.")))}},ilt=ne({mapStateToProps:e=>({materialThickness:q.getMaterialThickness(e),bit:re.bit(e)}),component:wj}),K0e=ilt;var OE=M(P("react"),1);var Fm=M(P("prop-types"),1),r6=M(P("react"),1);var Q0e=M(P("prop-types"),1),_j=M(P("react"),1);var IE=class extends _j.default.Component{constructor(){super(...arguments);y(this,"createRawHTML",()=>`<img crossorigin="anonymous"
  src="${tm.getUrlToRequestWithOriginHeader(this.props.src)}"
  ${this.props.alt!=null?`alt='${vr.escapeAttribute(this.props.alt)}'`:""}
  ${this.props.id!=null?`id='${this.props.id}'`:""}
  ${this.props.className?`class='${this.props.className}'`:""}
  />`)}render(){return _j.default.createElement("span",{className:"cross-element-img",dangerouslySetInnerHTML:{__html:this.createRawHTML()}})}};y(IE,"propTypes",{src:Q0e.default.string.isRequired});var DE=IE;var NE=class extends r6.default.Component{render(){let{id:t,url:r,preview_url:o,encoded_svg_string:i,term:n}=this.props.designElement,{onClick:s}=this.props,a=i?`data:image/svg+xml;base64,${vr.reverse(i.replace(/\n/g,""))}`:o||r,l=a.startsWith("http")?r6.default.createElement(DE,{className:"design-element-thumbnail__img",src:a,alt:n}):r6.default.createElement("img",{className:"design-element-thumbnail__img",alt:n,src:a});return r6.default.createElement("div",{"data-noun-project-id":`design-element-${t}`,className:"design-element-thumbnail",onClick:s},r6.default.createElement("div",{className:"design-element-thumbnail__overlay"}),l)}};y(NE,"propTypes",{onClick:Fm.default.func,designElement:Fm.default.shape({id:Fm.default.oneOfType([Fm.default.string,Fm.default.number]).isRequired,url:Fm.default.string,preview_url:Fm.default.string,encoded_svg_string:Fm.default.string,term:Fm.default.string})});var e1e=NE;var nlt=({elements:e,loading:t,filterTerm:r,setSelectedDesignElementIndex:o})=>e.length===0?!t&&OE.default.createElement("p",null,"We didn\u2019t find any designs for \u201C",r,"\u201D."):OE.default.createElement("div",{className:"design-element-container"},e.map((i,n)=>OE.default.createElement(e1e,{key:i.id,designElement:i,onClick:()=>o(n)}))),t1e=nlt;var Qa=P("react");var slt={search(e,t){return fetch(`/pro_designs?term=${e}&page=${t}`).then(r=>r.ok?r.json():Promise.reject(r))},recentUploads(e){return fetch(`/pro_designs?page=${e}`).then(t=>t.ok?t.json():Promise.reject(t))}},kj=slt;var alt=e=>{let t=(0,Qa.useRef)(),[r,o]=(0,Qa.useState)([]),[i,n]=(0,Qa.useState)(!0),[s,a]=(0,Qa.useState)(!1),[l,c]=(0,Qa.useState)(1),[u,p]=(0,Qa.useState)(null),m=(0,Qa.useCallback)(async v=>{t.current?.abort(),t.current=new AbortController;try{let b;e==="New"||e===""?b=kj.recentUploads(v):b=kj.search(e,v);let S=await b;if(t.current?.signal.aborted)return;o(w=>v===1?S:w.concat(S)),n(!1),a(S.length===0),p(null)}catch(b){if(t.current?.signal.aborted)return;console.error("Failed to load designs:",b),p("Failed to load designs"),n(!1)}},[e]),h=(0,Qa.useCallback)(()=>{e===""?(o([]),n(!0),m(1)):(o([]),n(!0),m(1))},[e,m]),f=(0,Qa.useCallback)(()=>{!i&&!s&&(c(v=>v+1),n(!0),m(l+1))},[i,s,l,m]),x=(0,Qa.useCallback)(()=>{o([]),c(1),n(!0),a(!1),p(null)},[]);return(0,Qa.useEffect)(()=>{x(),h()},[e,x,h]),(0,Qa.useEffect)(()=>()=>{t.current?.abort()},[]),{designs:r,loading:i,noMoreElements:s,currentPage:l,error:u,loadNextPage:f,reset:x}},r1e=alt;var llt=({closeModal:e,filterTerm:t})=>{let r=(0,_c.useRef)(null),[o,i]=(0,_c.useState)(null),{designs:n,loading:s,noMoreElements:a,loadNextPage:l}=r1e(t);(0,_c.useEffect)(()=>{i(null)},[t]);let c=(0,o6.useSelector)(Y.getWorkArea),u=(0,o6.useSelector)(St.getWorkpieceViewport),p=(0,o6.useSelector)(St.getEditorSize),m=(0,o6.useDispatch)(),h=E=>m(W.actions.selectVolumes(E)),f=(E,T)=>m(W.actions.volumesAdd(E,T)),x=()=>{o!==null&&i(o+1)},v=()=>{o!==null&&i(o-1)},b=()=>{if(o!==null)return n[o]},S=()=>i(null),w=E=>{E&&!a&&l()},_=({outlineStyle:E,volumes:T})=>{let A=b();if(!A)return;let{id:O,term:L}=A;H.trackEvent(U.editor.importedDesignElement,{iconId:O,term:L,pro:!0,cutType:E});let R=E==="fill"?"fill":"outline";T=T.map(I=>le(I,{id:Tt(),cut:{outlineStyle:E,type:R}}));let z=Dr.getShift(T,c.y,u,p);f(T,z),h(T.map(I=>I.id)),e()};return _c.default.createElement("div",{className:"pro-list-container column-content"},o!==null?_c.default.createElement(K0e,{designElement:b(),designElementIndex:o,handleClick:_,cancelImport:S,setNextDesignElement:x,setPreviousDesignElement:v,isFirstIcon:o===0,isLastIcon:o===n.length-1}):_c.default.createElement("div",{className:"design-elements-container scrollable-content",ref:r},_c.default.createElement(t1e,{elements:n,loading:s,filterTerm:t,setSelectedDesignElementIndex:i}),!s&&_c.default.createElement(v_,{root:r.current,rootMargin:"200px 0px",onChange:E=>w(E)}),s&&_c.default.createElement("div",{className:"pro-list-container__spinner"},_c.default.createElement(Re,{size:25}))))},o1e=llt;var clt={open:!1},Tj=We({name:"designElements",initialState:clt,reducers:{openDesignPanel(e){e.open=!0},closeDesignPanel(e){e.open=!1}}}),ult={selectIsOpen:e=>e[Tj.name].open},plt={actions:{...Tj.actions},reducer:Tj.reducer,...ult},bg=plt;var Ej=class extends Ea.default.Component{constructor(){super(...arguments);y(this,"state",{searchTerm:"",searchBarText:"",selectedCategory:"New"});y(this,"lastElementsRef",null);y(this,"closeModal",()=>{this.props.closeElementsPanel(),this.clearSearch()});y(this,"clearSearch",()=>{this.setState({searchBarText:"",searchTerm:""})});y(this,"selectCategory",r=>{this.setState({selectedCategory:r,searchBarText:"",searchTerm:""})});y(this,"searchIcons",()=>{let{searchBarText:r}=this.state;this.setState({searchTerm:r,selectedCategory:""})})}render(){let{selectedCategory:r,searchTerm:o,searchBarText:i}=this.state,{open:n}=this.props,s=o||r;return Ea.default.createElement(f9.Modal,{show:n,onHide:this.closeModal,size:"xl"},Ea.default.createElement(f9.Modal.Header,{closeButton:!0},Ea.default.createElement(f9.Modal.Title,null,"Design Library")),Ea.default.createElement(f9.Modal.Body,null,Ea.default.createElement("div",{className:"design-elements__search-container"},Ea.default.createElement("div",{className:"design-elements__search"},Ea.default.createElement("i",{className:"fa fa-search"}),Ea.default.createElement("label",{htmlFor:"element-search"},"Search Designs"),Ea.default.createElement("input",{id:"element-search",className:"design-elements__search-input",type:"input",value:i,placeholder:"Search Designs",onKeyPress:a=>a.key==="Enter"&&this.searchIcons(),onChange:a=>this.setState({searchBarText:a.target.value})}),i!==""&&Ea.default.createElement("i",{className:"fa fa-times",onClick:this.clearSearch})),Ea.default.createElement("button",{className:"btn btn-primary",onClick:this.searchIcons},"Search")),Ea.default.createElement("div",{className:"modal-columns"},Ea.default.createElement("div",{className:"design-elements__categories column-nav"},Ea.default.createElement(J0e,{selectedCategory:r,onSelectCategory:this.selectCategory})),Ea.default.createElement(o1e,{closeModal:this.closeModal,filterTerm:s}))))}},dlt=ne({mapStateToProps:e=>({open:bg.selectIsOpen(e)}),mapDispatchToProps:e=>({closeElementsPanel(){return e(bg.actions.closeDesignPanel())}}),component:Ej}),i1e=dlt;var zr=M(P("react"),1),sa=P("react-bootstrap");var CM=M(P("react"),1),Bge=P("react-redux");function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function n1e(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(dd(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LE(e){var t=n1e(e,"string");return dd(t)=="symbol"?t:t+""}function vg(e,t,r){return(t=LE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s1e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s1e(Object(r),!0).forEach(function(o){vg(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s1e(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function a1e(e){if(Array.isArray(e))return e}function l1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,n,s,a=[],l=!0,c=!1;try{if(n=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(o=n.call(r)).done)&&(a.push(o.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function h9(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function BE(e,t){if(e){if(typeof e=="string")return h9(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h9(e,t):void 0}}function c1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function md(e,t){return a1e(e)||l1e(e,t)||BE(e,t)||c1e()}function u1e(e,t){if(e==null)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;r[o]=e[o]}return r}function kc(e,t){if(e==null)return{};var r,o,i=u1e(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Sh=P("react"),mlt=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function FE(e){var t=e.defaultInputValue,r=t===void 0?"":t,o=e.defaultMenuIsOpen,i=o===void 0?!1:o,n=e.defaultValue,s=n===void 0?null:n,a=e.inputValue,l=e.menuIsOpen,c=e.onChange,u=e.onInputChange,p=e.onMenuClose,m=e.onMenuOpen,h=e.value,f=kc(e,mlt),x=(0,Sh.useState)(a!==void 0?a:r),v=md(x,2),b=v[0],S=v[1],w=(0,Sh.useState)(l!==void 0?l:i),_=md(w,2),E=_[0],T=_[1],A=(0,Sh.useState)(h!==void 0?h:s),O=md(A,2),L=O[0],R=O[1],z=(0,Sh.useCallback)(function(se,ue){typeof c=="function"&&c(se,ue),R(se)},[c]),I=(0,Sh.useCallback)(function(se,ue){var be;typeof u=="function"&&(be=u(se,ue)),S(be!==void 0?be:se)},[u]),F=(0,Sh.useCallback)(function(){typeof m=="function"&&m(),T(!0)},[m]),B=(0,Sh.useCallback)(function(){typeof p=="function"&&p(),T(!1)},[p]),j=a!==void 0?a:b,X=l!==void 0?l:E,te=h!==void 0?h:L;return xt(xt({},f),{},{inputValue:j,menuIsOpen:X,onChange:z,onInputChange:I,onMenuClose:B,onMenuOpen:F,value:te})}function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ct.apply(null,arguments)}var Lge=M(P("react")),sG=P("react");function p1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d1e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,LE(o.key),o)}}function m1e(e,t,r){return t&&d1e(e.prototype,t),r&&d1e(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WE(e,t){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},WE(e,t)}function f1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WE(e,t)}function g9(e){return g9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g9(e)}function Mj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mj=function(){return!!e})()}function h1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g1e(e,t){if(t&&(dd(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h1e(e)}function y1e(e){var t=Mj();return function(){var r,o=g9(e);if(t){var i=g9(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return g1e(this,r)}}function x1e(e){if(Array.isArray(e))return h9(e)}function b1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T0(e){return x1e(e)||b1e(e)||BE(e)||v1e()}var So=M(P("react")),lo=P("react");var mu=M(P("react")),C9=P("react");function flt(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function hlt(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var S1e=function(){function e(r){var o=this;this._insertTag=function(i){var n;o.tags.length===0?o.insertionPoint?n=o.insertionPoint.nextSibling:o.prepend?n=o.container.firstChild:n=o.before:n=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(i,n),o.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(o){o.forEach(this._insertTag)},t.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(hlt(this));var i=this.tags[this.tags.length-1];if(0)var n;if(this.isSpeedy){var s=flt(i);try{s.insertRule(o,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(o));this.ctr++},t.flush=function(){this.tags.forEach(function(o){return o.parentNode&&o.parentNode.removeChild(o)}),this.tags=[],this.ctr=0},e}();var Ma="-ms-",y9="-moz-",Qr="-webkit-",VE="comm",i6="rule",n6="decl";var C1e="@import";var UE="@keyframes";var P1e="@layer";var w1e=Math.abs,Sg=String.fromCharCode,_1e=Object.assign;function k1e(e,t){return Yn(e,0)^45?(((t<<2^Yn(e,0))<<2^Yn(e,1))<<2^Yn(e,2))<<2^Yn(e,3):0}function RE(e){return e.trim()}function Aj(e,t){return(e=t.exec(e))?e[0]:e}function Ur(e,t,r){return e.replace(t,r)}function x9(e,t){return e.indexOf(t)}function Yn(e,t){return e.charCodeAt(t)|0}function E0(e,t,r){return e.slice(t,r)}function Wl(e){return e.length}function s6(e){return e.length}function a6(e,t){return t.push(e),e}function Ij(e,t){return e.map(t).join("")}var jE=1,l6=1,T1e=0,Vl=0,bs=0,u6="";function b9(e,t,r,o,i,n,s){return{value:e,root:t,parent:r,type:o,props:i,children:n,line:jE,column:l6,length:s,return:""}}function p6(e,t){return _1e(b9("",null,null,"",null,null,0),e,{length:-e.length},t)}function E1e(){return bs}function M1e(){return bs=Vl>0?Yn(u6,--Vl):0,l6--,bs===10&&(l6=1,jE--),bs}function Ul(){return bs=Vl<T1e?Yn(u6,Vl++):0,l6++,bs===10&&(l6=1,jE++),bs}function mp(){return Yn(u6,Vl)}function v9(){return Vl}function d6(e,t){return E0(u6,e,t)}function c6(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function GE(e){return jE=l6=1,T1e=Wl(u6=e),Vl=0,[]}function HE(e){return u6="",e}function m6(e){return RE(d6(Vl-1,Dj(e===91?e+2:e===40?e+1:e)))}function A1e(e){for(;(bs=mp())&&bs<33;)Ul();return c6(e)>2||c6(bs)>3?"":" "}function I1e(e,t){for(;--t&&Ul()&&!(bs<48||bs>102||bs>57&&bs<65||bs>70&&bs<97););return d6(e,v9()+(t<6&&mp()==32&&Ul()==32))}function Dj(e){for(;Ul();)switch(bs){case e:return Vl;case 34:case 39:e!==34&&e!==39&&Dj(bs);break;case 40:e===41&&Dj(e);break;case 92:Ul();break}return Vl}function D1e(e,t){for(;Ul()&&e+bs!==57;)if(e+bs===84&&mp()===47)break;return"/*"+d6(t,Vl-1)+"*"+Sg(e===47?e:Ul())}function N1e(e){for(;!c6(mp());)Ul();return d6(e,Vl)}function B1e(e){return HE(XE("",null,null,null,[""],e=GE(e),0,[0],e))}function XE(e,t,r,o,i,n,s,a,l){for(var c=0,u=0,p=s,m=0,h=0,f=0,x=1,v=1,b=1,S=0,w="",_=i,E=n,T=o,A=w;v;)switch(f=S,S=Ul()){case 40:if(f!=108&&Yn(A,p-1)==58){x9(A+=Ur(m6(S),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:A+=m6(S);break;case 9:case 10:case 13:case 32:A+=A1e(f);break;case 92:A+=I1e(v9()-1,7);continue;case 47:switch(mp()){case 42:case 47:a6(glt(D1e(Ul(),v9()),t,r),l);break;default:A+="/"}break;case 123*x:a[c++]=Wl(A)*b;case 125*x:case 59:case 0:switch(S){case 0:case 125:v=0;case 59+u:b==-1&&(A=Ur(A,/\f/g,"")),h>0&&Wl(A)-p&&a6(h>32?L1e(A+";",o,r,p-1):L1e(Ur(A," ","")+";",o,r,p-2),l);break;case 59:A+=";";default:if(a6(T=O1e(A,t,r,c,u,i,a,w,_=[],E=[],p),n),S===123)if(u===0)XE(A,t,T,T,_,n,p,a,E);else switch(m===99&&Yn(A,3)===110?100:m){case 100:case 108:case 109:case 115:XE(e,T,T,o&&a6(O1e(e,T,T,0,0,i,a,w,i,_=[],p),E),i,E,p,a,o?_:E);break;default:XE(A,T,T,T,[""],E,0,a,E)}}c=u=h=0,x=b=1,w=A="",p=s;break;case 58:p=1+Wl(A),h=f;default:if(x<1){if(S==123)--x;else if(S==125&&x++==0&&M1e()==125)continue}switch(A+=Sg(S),S*x){case 38:b=u>0?1:(A+="\f",-1);break;case 44:a[c++]=(Wl(A)-1)*b,b=1;break;case 64:mp()===45&&(A+=m6(Ul())),m=mp(),u=p=Wl(w=A+=N1e(v9())),S++;break;case 45:f===45&&Wl(A)==2&&(x=0)}}return n}function O1e(e,t,r,o,i,n,s,a,l,c,u){for(var p=i-1,m=i===0?n:[""],h=s6(m),f=0,x=0,v=0;f<o;++f)for(var b=0,S=E0(e,p+1,p=w1e(x=s[f])),w=e;b<h;++b)(w=RE(x>0?m[b]+" "+S:Ur(S,/&\f/g,m[b])))&&(l[v++]=w);return b9(e,t,r,i===0?i6:a,l,c,u)}function glt(e,t,r){return b9(e,t,r,VE,Sg(E1e()),E0(e,2,-2),0)}function L1e(e,t,r,o){return b9(e,t,r,n6,E0(e,0,o),E0(e,o+1,-1),o)}function Cg(e,t){for(var r="",o=s6(e),i=0;i<o;i++)r+=t(e[i],i,e,t)||"";return r}function F1e(e,t,r,o){switch(e.type){case P1e:if(e.children.length)break;case C1e:case n6:return e.return=e.return||e.value;case VE:return"";case UE:return e.return=e.value+"{"+Cg(e.children,o)+"}";case i6:e.value=e.props.join(",")}return Wl(r=Cg(e.children,o))?e.return=e.value+"{"+r+"}":""}function W1e(e){var t=s6(e);return function(r,o,i,n){for(var s="",a=0;a<t;a++)s+=e[a](r,o,i,n)||"";return s}}function V1e(e){return function(t){t.root||(t=t.return)&&e(t)}}function U1e(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var ylt=function(t,r,o){for(var i=0,n=0;i=n,n=mp(),i===38&&n===12&&(r[o]=1),!c6(n);)Ul();return d6(t,Vl)},xlt=function(t,r){var o=-1,i=44;do switch(c6(i)){case 0:i===38&&mp()===12&&(r[o]=1),t[o]+=ylt(Vl-1,r,o);break;case 2:t[o]+=m6(i);break;case 4:if(i===44){t[++o]=mp()===58?"&\f":"",r[o]=t[o].length;break}default:t[o]+=Sg(i)}while(i=Ul());return t},blt=function(t,r){return HE(xlt(GE(t),r))},R1e=new WeakMap,vlt=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,o=t.parent,i=t.column===o.column&&t.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!R1e.get(o))&&!i){R1e.set(t,!0);for(var n=[],s=blt(r,n),a=o.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=n[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},Slt=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function j1e(e,t){switch(k1e(e,t)){case 5103:return Qr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Qr+e+y9+e+Ma+e+e;case 6828:case 4268:return Qr+e+Ma+e+e;case 6165:return Qr+e+Ma+"flex-"+e+e;case 5187:return Qr+e+Ur(e,/(\w+).+(:[^]+)/,Qr+"box-$1$2"+Ma+"flex-$1$2")+e;case 5443:return Qr+e+Ma+"flex-item-"+Ur(e,/flex-|-self/,"")+e;case 4675:return Qr+e+Ma+"flex-line-pack"+Ur(e,/align-content|flex-|-self/,"")+e;case 5548:return Qr+e+Ma+Ur(e,"shrink","negative")+e;case 5292:return Qr+e+Ma+Ur(e,"basis","preferred-size")+e;case 6060:return Qr+"box-"+Ur(e,"-grow","")+Qr+e+Ma+Ur(e,"grow","positive")+e;case 4554:return Qr+Ur(e,/([^-])(transform)/g,"$1"+Qr+"$2")+e;case 6187:return Ur(Ur(Ur(e,/(zoom-|grab)/,Qr+"$1"),/(image-set)/,Qr+"$1"),e,"")+e;case 5495:case 3959:return Ur(e,/(image-set\([^]*)/,Qr+"$1$`$1");case 4968:return Ur(Ur(e,/(.+:)(flex-)?(.*)/,Qr+"box-pack:$3"+Ma+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qr+e+e;case 4095:case 3583:case 4068:case 2532:return Ur(e,/(.+)-inline(.+)/,Qr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wl(e)-1-t>6)switch(Yn(e,t+1)){case 109:if(Yn(e,t+4)!==45)break;case 102:return Ur(e,/(.+:)(.+)-([^]+)/,"$1"+Qr+"$2-$3$1"+y9+(Yn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~x9(e,"stretch")?j1e(Ur(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Yn(e,t+1)!==115)break;case 6444:switch(Yn(e,Wl(e)-3-(~x9(e,"!important")&&10))){case 107:return Ur(e,":",":"+Qr)+e;case 101:return Ur(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Qr+(Yn(e,14)===45?"inline-":"")+"box$3$1"+Qr+"$2$3$1"+Ma+"$2box$3")+e}break;case 5936:switch(Yn(e,t+11)){case 114:return Qr+e+Ma+Ur(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Qr+e+Ma+Ur(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Qr+e+Ma+Ur(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Qr+e+Ma+e+e}return e}var Clt=function(t,r,o,i){if(t.length>-1&&!t.return)switch(t.type){case n6:t.return=j1e(t.value,t.length);break;case UE:return Cg([p6(t,{value:Ur(t.value,"@","@"+Qr)})],i);case i6:if(t.length)return Ij(t.props,function(n){switch(Aj(n,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Cg([p6(t,{props:[Ur(n,/:(read-\w+)/,":"+y9+"$1")]})],i);case"::placeholder":return Cg([p6(t,{props:[Ur(n,/:(plac\w+)/,":"+Qr+"input-$1")]}),p6(t,{props:[Ur(n,/:(plac\w+)/,":"+y9+"$1")]}),p6(t,{props:[Ur(n,/:(plac\w+)/,Ma+"input-$1")]})],i)}return""})}},Plt=[Clt],YE=function(t){var r=t.key;if(r==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(x){var v=x.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=t.stylisPlugins||Plt,n={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(x){for(var v=x.getAttribute("data-emotion").split(" "),b=1;b<v.length;b++)n[v[b]]=!0;a.push(x)});var l,c=[vlt,Slt];{var u,p=[F1e,V1e(function(x){u.insert(x)})],m=W1e(c.concat(i,p)),h=function(v){return Cg(B1e(v),m)};l=function(v,b,S,w){u=S,h(v?v+"{"+b.styles+"}":b.styles),w&&(f.inserted[b.name]=!0)}}var f={key:r,sheet:new S1e({key:r,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:n,registered:{},insert:l};return f.sheet.hydrate(a),f};var Blt=!0;function Wj(e,t,r){var o="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):o+=i+" "}),o}var iM=function(t,r,o){var i=t.key+"-"+r.name;(o===!1||Blt===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},Vj=function(t,r,o){iM(t,r,o);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var n=r;do t.insert(r===n?"."+i:"",n,t.sheet,!0),n=n.next;while(n!==void 0)}};function e2e(e){for(var t=0,r,o=0,i=e.length;i>=4;++o,i-=4)r=e.charCodeAt(o)&255|(e.charCodeAt(++o)&255)<<8|(e.charCodeAt(++o)&255)<<16|(e.charCodeAt(++o)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(o+2)&255)<<16;case 2:t^=(e.charCodeAt(o+1)&255)<<8;case 1:t^=e.charCodeAt(o)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var t2e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Flt=/[A-Z]|^ms/g,Wlt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,n2e=function(t){return t.charCodeAt(1)===45},r2e=function(t){return t!=null&&typeof t!="boolean"},Uj=U1e(function(e){return n2e(e)?e:e.replace(Flt,"-$&").toLowerCase()}),o2e=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Wlt,function(o,i,n){return Wm={name:i,styles:n,next:Wm},i})}return t2e[t]!==1&&!n2e(t)&&typeof r=="number"&&r!==0?r+"px":r};function S9(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Wm={name:r.name,styles:r.styles,next:Wm},r.name;if(r.styles!==void 0){var o=r.next;if(o!==void 0)for(;o!==void 0;)Wm={name:o.name,styles:o.styles,next:Wm},o=o.next;var i=r.styles+";";return i}return Vlt(e,t,r)}case"function":{if(e!==void 0){var n=Wm,s=r(e);return Wm=n,S9(e,t,s)}break}case"string":if(0)var a,l;break}if(t==null)return r;var c=t[r];return c!==void 0?c:r}function Vlt(e,t,r){var o="";if(Array.isArray(r))for(var i=0;i<r.length;i++)o+=S9(e,t,r[i])+";";else for(var n in r){var s=r[n];if(typeof s!="object")t!=null&&t[s]!==void 0?o+=n+"{"+t[s]+"}":r2e(s)&&(o+=Uj(n)+":"+o2e(n,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)r2e(s[a])&&(o+=Uj(n)+":"+o2e(n,s[a])+";");else{var l=S9(e,t,s);switch(n){case"animation":case"animationName":{o+=Uj(n)+":"+l+";";break}default:o+=n+"{"+l+"}"}}}return o}var i2e=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Wm,nM=function(t,r,o){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,n="";Wm=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,n+=S9(o,r,s)):n+=s[0];for(var a=1;a<t.length;a++)n+=S9(o,r,t[a]),i&&(n+=s[a]);var l;i2e.lastIndex=0;for(var c="",u;(u=i2e.exec(n))!==null;)c+="-"+u[1];var p=e2e(n)+c;return{name:p,styles:n,next:Wm}};var sM=M(P("react")),Ult=function(t){return t()},Rlt=sM.useInsertionEffect?sM.useInsertionEffect:!1,Rj=Rlt||Ult;var s2e=!0,lM={}.hasOwnProperty,aM=mu.createContext(typeof HTMLElement<"u"?YE({key:"css"}):null),FNr=aM.Provider;var Gj=function(t){return(0,C9.forwardRef)(function(r,o){var i=(0,C9.useContext)(aM);return t(r,i,o)})};s2e||(Gj=function(t){return function(r){var o=(0,C9.useContext)(aM);return o===null?(o=YE({key:"css"}),mu.createElement(aM.Provider,{value:o},t(r,o))):t(r,o)}});var a2e=mu.createContext({});var jj="__EMOTION_TYPE_PLEASE_DO_NOT_USE__";var l2e=function(t,r){var o={};for(var i in r)lM.call(r,i)&&(o[i]=r[i]);if(o[jj]=t,0)var n;return o},jlt=function(t){var r=t.cache,o=t.serialized,i=t.isStringTag;return iM(r,o,i),Rj(function(){return Vj(r,o,i)}),null},Glt=Gj(function(e,t,r){var o=e.css;typeof o=="string"&&t.registered[o]!==void 0&&(o=t.registered[o]);var i=e[jj],n=[o],s="";typeof e.className=="string"?s=Wj(t.registered,n,e.className):e.className!=null&&(s=e.className+" ");var a=nM(n,void 0,mu.useContext(a2e));if(0)var l;s+=t.key+"-"+a.name;var c={};for(var u in e)lM.call(e,u)&&u!=="css"&&u!==jj&&(c[u]=e[u]);return c.ref=r,c.className=s,mu.createElement(mu.Fragment,null,mu.createElement(jlt,{cache:t,serialized:a,isStringTag:typeof i=="string"}),mu.createElement(i,c))}),c2e=Glt;var f6=M(P("react"));var YNr=M(Q1e());var _t=function(t,r){var o=arguments;if(r==null||!lM.call(r,"css"))return f6.createElement.apply(void 0,o);var i=o.length,n=new Array(i);n[0]=c2e,n[1]=l2e(t,r);for(var s=2;s<i;s++)n[s]=o[s];return f6.createElement.apply(null,n)};function P9(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return nM(t)}var u2e=function(){var t=P9.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function p2e(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ls=P("react"),w2e=P("react-dom");var d2e=Math.min,m2e=Math.max,w9=Math.round,_9=Math.floor,k9=e=>({x:e,y:e});function Hj(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function zj(e){return h2e(e)?(e.nodeName||"").toLowerCase():"#document"}function fp(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xj(e){var t;return(t=(h2e(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function h2e(e){return e instanceof Node||e instanceof fp(e).Node}function cM(e){return e instanceof Element||e instanceof fp(e).Element}function uM(e){return e instanceof HTMLElement||e instanceof fp(e).HTMLElement}function f2e(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fp(e).ShadowRoot}function Yj(e){let{overflow:t,overflowX:r,overflowY:o,display:i}=pM(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+r)&&!["inline","contents"].includes(i)}function g2e(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function y2e(e){return["html","body","#document"].includes(zj(e))}function pM(e){return fp(e).getComputedStyle(e)}function x2e(e){if(zj(e)==="html")return e;let t=e.assignedSlot||e.parentNode||f2e(e)&&e.host||Xj(e);return f2e(t)?t.host:t}function b2e(e){let t=x2e(e);return y2e(t)?e.ownerDocument?e.ownerDocument.body:e.body:uM(t)&&Yj(t)?t:b2e(t)}function T9(e,t,r){var o;t===void 0&&(t=[]),r===void 0&&(r=!0);let i=b2e(e),n=i===((o=e.ownerDocument)==null?void 0:o.body),s=fp(i);return n?t.concat(s,s.visualViewport||[],Yj(i)?i:[],s.frameElement&&r?T9(s.frameElement):[]):t.concat(i,T9(i,[],r))}function Hlt(e){let t=pM(e),r=parseFloat(t.width)||0,o=parseFloat(t.height)||0,i=uM(e),n=i?e.offsetWidth:r,s=i?e.offsetHeight:o,a=w9(r)!==n||w9(o)!==s;return a&&(r=n,o=s),{width:r,height:o,$:a}}function $j(e){return cM(e)?e:e.contextElement}function qj(e){let t=$j(e);if(!uM(t))return k9(1);let r=t.getBoundingClientRect(),{width:o,height:i,$:n}=Hlt(t),s=(n?w9(r.width):r.width)/o,a=(n?w9(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}var zlt=k9(0);function Xlt(e){let t=fp(e);return!g2e()||!t.visualViewport?zlt:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ylt(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==fp(e)?!1:t}function v2e(e,t,r,o){t===void 0&&(t=!1),r===void 0&&(r=!1);let i=e.getBoundingClientRect(),n=$j(e),s=k9(1);t&&(o?cM(o)&&(s=qj(o)):s=qj(e));let a=Ylt(n,r,o)?Xlt(n):k9(0),l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,p=i.height/s.y;if(n){let m=fp(n),h=o&&cM(o)?fp(o):o,f=m.frameElement;for(;f&&o&&h!==m;){let x=qj(f),v=f.getBoundingClientRect(),b=pM(f),S=v.left+(f.clientLeft+parseFloat(b.paddingLeft))*x.x,w=v.top+(f.clientTop+parseFloat(b.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,p*=x.y,l+=S,c+=w,f=fp(f).frameElement}}return Hj({width:u,height:p,x:l,y:c})}function qlt(e,t){let r=null,o,i=Xj(e);function n(){clearTimeout(o),r&&r.disconnect(),r=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),n();let{left:c,top:u,width:p,height:m}=e.getBoundingClientRect();if(a||t(),!p||!m)return;let h=_9(u),f=_9(i.clientWidth-(c+p)),x=_9(i.clientHeight-(u+m)),v=_9(c),S={rootMargin:-h+"px "+-f+"px "+-x+"px "+-v+"px",threshold:m2e(0,d2e(1,l))||1},w=!0;function _(E){let T=E[0].intersectionRatio;if(T!==l){if(!w)return s();T?s(!1,T):o=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{r=new IntersectionObserver(_,{...S,root:i.ownerDocument})}catch{r=new IntersectionObserver(_,S)}r.observe(e)}return s(!0),n}function S2e(e,t,r,o){o===void 0&&(o={});let{ancestorScroll:i=!0,ancestorResize:n=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=o,c=$j(e),u=i||n?[...c?T9(c):[],...T9(t)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",r,{passive:!0}),n&&b.addEventListener("resize",r)});let p=c&&a?qlt(c,r):null,m=-1,h=null;s&&(h=new ResizeObserver(b=>{let[S]=b;S&&S.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{h&&h.observe(t)})),r()}),c&&!l&&h.observe(c),h.observe(t));let f,x=l?v2e(e):null;l&&v();function v(){let b=v2e(e);x&&(b.x!==x.x||b.y!==x.y||b.width!==x.width||b.height!==x.height)&&r(),x=b,f=requestAnimationFrame(v)}return r(),()=>{u.forEach(b=>{i&&b.removeEventListener("scroll",r),n&&b.removeEventListener("resize",r)}),p&&p(),h&&h.disconnect(),h=null,l&&cancelAnimationFrame(f)}}var C2e=P("react"),$lt=C2e.useLayoutEffect,dM=$lt;var Zlt=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],E9=function(){};function Jlt(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function _2e(e,t){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var n=[].concat(o);if(t&&e)for(var s in t)t.hasOwnProperty(s)&&t[s]&&n.push("".concat(Jlt(e,s)));return n.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var h6=function(t){return oct(t)?t.filter(Boolean):dd(t)==="object"&&t!==null?[t]:[]},k2e=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var r=kc(t,Zlt);return xt({},r)},Tn=function(t,r,o){var i=t.cx,n=t.getStyles,s=t.getClassNames,a=t.className;return{css:n(r,t),className:i(o??{},s(r,t),a)}};function M9(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Klt(e){return M9(e)?window.innerHeight:e.clientHeight}function T2e(e){return M9(e)?window.pageYOffset:e.scrollTop}function hM(e,t){if(M9(e)){window.scrollTo(0,t);return}e.scrollTop=t}function Qlt(e){var t=getComputedStyle(e),r=t.position==="absolute",o=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(r&&t.position==="static")&&o.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function ect(e,t,r,o){return r*((e=e/o-1)*e*e+1)+t}function mM(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:E9,i=T2e(e),n=t-i,s=10,a=0;function l(){a+=s;var c=ect(a,i,n,r);hM(e,c),a<r?window.requestAnimationFrame(l):o(e)}l()}function Jj(e,t){var r=e.getBoundingClientRect(),o=t.getBoundingClientRect(),i=t.offsetHeight/3;o.bottom+i>r.bottom?hM(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):o.top-i<r.top&&hM(e,Math.max(t.offsetTop-i,0))}function tct(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function Kj(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function E2e(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var M2e=!1,rct={get passive(){return M2e=!0}},fM=typeof window<"u"?window:{};fM.addEventListener&&fM.removeEventListener&&(fM.addEventListener("p",E9,rct),fM.removeEventListener("p",E9,!1));var A2e=M2e;function I2e(e){return e!=null}function oct(e){return Array.isArray(e)}function Pg(e,t,r){return e?t:r}var D2e=function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var n=Object.entries(t).filter(function(s){var a=md(s,1),l=a[0];return!o.includes(l)});return n.reduce(function(s,a){var l=md(a,2),c=l[0],u=l[1];return s[c]=u,s},{})},ict=["children","innerProps"],nct=["children","innerProps"];function sct(e){var t=e.maxHeight,r=e.menuEl,o=e.minHeight,i=e.placement,n=e.shouldScroll,s=e.isFixedPosition,a=e.controlHeight,l=Qlt(r),c={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return c;var u=l.getBoundingClientRect(),p=u.height,m=r.getBoundingClientRect(),h=m.bottom,f=m.height,x=m.top,v=r.offsetParent.getBoundingClientRect(),b=v.top,S=s?window.innerHeight:Klt(l),w=T2e(l),_=parseInt(getComputedStyle(r).marginBottom,10),E=parseInt(getComputedStyle(r).marginTop,10),T=b-E,A=S-x,O=T+w,L=p-w-x,R=h-S+w+_,z=w+x-E,I=160;switch(i){case"auto":case"bottom":if(A>=f)return{placement:"bottom",maxHeight:t};if(L>=f&&!s)return n&&mM(l,R,I),{placement:"bottom",maxHeight:t};if(!s&&L>=o||s&&A>=o){n&&mM(l,R,I);var F=s?A-_:L-_;return{placement:"bottom",maxHeight:F}}if(i==="auto"||s){var B=t,j=s?T:O;return j>=o&&(B=Math.min(j-_-a,t)),{placement:"top",maxHeight:B}}if(i==="bottom")return n&&hM(l,R),{placement:"bottom",maxHeight:t};break;case"top":if(T>=f)return{placement:"top",maxHeight:t};if(O>=f&&!s)return n&&mM(l,z,I),{placement:"top",maxHeight:t};if(!s&&O>=o||s&&T>=o){var X=t;return(!s&&O>=o||s&&T>=o)&&(X=s?T-E:O-E),n&&mM(l,z,I),{placement:"top",maxHeight:X}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function act(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var N2e=function(t){return t==="auto"?"bottom":t},O2e=function(t,r){var o,i=t.placement,n=t.theme,s=n.borderRadius,a=n.spacing,l=n.colors;return xt((o={label:"menu"},vg(o,act(i),"100%"),vg(o,"position","absolute"),vg(o,"width","100%"),vg(o,"zIndex",1),o),r?{}:{backgroundColor:l.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},L2e=(0,Ls.createContext)(null),B2e=function(t){var r=t.children,o=t.minMenuHeight,i=t.maxMenuHeight,n=t.menuPlacement,s=t.menuPosition,a=t.menuShouldScrollIntoView,l=t.theme,c=(0,Ls.useContext)(L2e)||{},u=c.setPortalPlacement,p=(0,Ls.useRef)(null),m=(0,Ls.useState)(i),h=md(m,2),f=h[0],x=h[1],v=(0,Ls.useState)(null),b=md(v,2),S=b[0],w=b[1],_=l.spacing.controlHeight;return dM(function(){var E=p.current;if(E){var T=s==="fixed",A=a&&!T,O=sct({maxHeight:i,menuEl:E,minHeight:o,placement:n,shouldScroll:A,isFixedPosition:T,controlHeight:_});x(O.maxHeight),w(O.placement),u?.(O.placement)}},[i,n,s,a,o,u,_]),r({ref:p,placerProps:xt(xt({},t),{},{placement:S||N2e(n),maxHeight:f})})},lct=function(t){var r=t.children,o=t.innerRef,i=t.innerProps;return _t("div",Ct({},Tn(t,"menu",{menu:!0}),{ref:o},i),r)},cct=lct,F2e=function(t,r){var o=t.maxHeight,i=t.theme.spacing.baseUnit;return xt({maxHeight:o,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:i,paddingTop:i})},uct=function(t){var r=t.children,o=t.innerProps,i=t.innerRef,n=t.isMulti;return _t("div",Ct({},Tn(t,"menuList",{"menu-list":!0,"menu-list--is-multi":n}),{ref:i},o),r)},W2e=function(t,r){var o=t.theme,i=o.spacing.baseUnit,n=o.colors;return xt({textAlign:"center"},r?{}:{color:n.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},V2e=W2e,U2e=W2e,pct=function(t){var r=t.children,o=r===void 0?"No options":r,i=t.innerProps,n=kc(t,ict);return _t("div",Ct({},Tn(xt(xt({},n),{},{children:o,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),o)},dct=function(t){var r=t.children,o=r===void 0?"Loading...":r,i=t.innerProps,n=kc(t,nct);return _t("div",Ct({},Tn(xt(xt({},n),{},{children:o,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),o)},R2e=function(t){var r=t.rect,o=t.offset,i=t.position;return{left:r.left,position:i,top:o,width:r.width,zIndex:1}},mct=function(t){var r=t.appendTo,o=t.children,i=t.controlElement,n=t.innerProps,s=t.menuPlacement,a=t.menuPosition,l=(0,Ls.useRef)(null),c=(0,Ls.useRef)(null),u=(0,Ls.useState)(N2e(s)),p=md(u,2),m=p[0],h=p[1],f=(0,Ls.useMemo)(function(){return{setPortalPlacement:h}},[]),x=(0,Ls.useState)(null),v=md(x,2),b=v[0],S=v[1],w=(0,Ls.useCallback)(function(){if(i){var A=tct(i),O=a==="fixed"?0:window.pageYOffset,L=A[m]+O;(L!==b?.offset||A.left!==b?.rect.left||A.width!==b?.rect.width)&&S({offset:L,rect:A})}},[i,a,m,b?.offset,b?.rect.left,b?.rect.width]);dM(function(){w()},[w]);var _=(0,Ls.useCallback)(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&l.current&&(c.current=S2e(i,l.current,w,{elementResize:"ResizeObserver"in window}))},[i,w]);dM(function(){_()},[_]);var E=(0,Ls.useCallback)(function(A){l.current=A,_()},[_]);if(!r&&a!=="fixed"||!b)return null;var T=_t("div",Ct({ref:E},Tn(xt(xt({},t),{},{offset:b.offset,position:a,rect:b.rect}),"menuPortal",{"menu-portal":!0}),n),o);return _t(L2e.Provider,{value:f},r?(0,w2e.createPortal)(T,r):T)},j2e=function(t){var r=t.isDisabled,o=t.isRtl;return{label:"container",direction:o?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},fct=function(t){var r=t.children,o=t.innerProps,i=t.isDisabled,n=t.isRtl;return _t("div",Ct({},Tn(t,"container",{"--is-disabled":i,"--is-rtl":n}),o),r)},G2e=function(t,r){var o=t.theme.spacing,i=t.isMulti,n=t.hasValue,s=t.selectProps.controlShouldRenderValue;return xt({alignItems:"center",display:i&&n&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(o.baseUnit/2,"px ").concat(o.baseUnit*2,"px")})},hct=function(t){var r=t.children,o=t.innerProps,i=t.isMulti,n=t.hasValue;return _t("div",Ct({},Tn(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":n}),o),r)},H2e=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},gct=function(t){var r=t.children,o=t.innerProps;return _t("div",Ct({},Tn(t,"indicatorsContainer",{indicators:!0}),o),r)},P2e,yct=["size"],xct=["innerProps","isRtl","size"];var bct={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},z2e=function(t){var r=t.size,o=kc(t,yct);return _t("svg",Ct({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:bct},o))},Qj=function(t){return _t(z2e,Ct({size:20},t),_t("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},X2e=function(t){return _t(z2e,Ct({size:20},t),_t("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Y2e=function(t,r){var o=t.isFocused,i=t.theme,n=i.spacing.baseUnit,s=i.colors;return xt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:o?s.neutral60:s.neutral20,padding:n*2,":hover":{color:o?s.neutral80:s.neutral40}})},q2e=Y2e,vct=function(t){var r=t.children,o=t.innerProps;return _t("div",Ct({},Tn(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),o),r||_t(X2e,null))},$2e=Y2e,Sct=function(t){var r=t.children,o=t.innerProps;return _t("div",Ct({},Tn(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),o),r||_t(Qj,null))},Z2e=function(t,r){var o=t.isDisabled,i=t.theme,n=i.spacing.baseUnit,s=i.colors;return xt({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:o?s.neutral10:s.neutral20,marginBottom:n*2,marginTop:n*2})},Cct=function(t){var r=t.innerProps;return _t("span",Ct({},r,Tn(t,"indicatorSeparator",{"indicator-separator":!0})))},Pct=u2e(P2e||(P2e=p2e([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),J2e=function(t,r){var o=t.isFocused,i=t.size,n=t.theme,s=n.colors,a=n.spacing.baseUnit;return xt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},r?{}:{color:o?s.neutral60:s.neutral20,padding:a*2})},Zj=function(t){var r=t.delay,o=t.offset;return _t("span",{css:P9({animation:"".concat(Pct," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:o?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},wct=function(t){var r=t.innerProps,o=t.isRtl,i=t.size,n=i===void 0?4:i,s=kc(t,xct);return _t("div",Ct({},Tn(xt(xt({},s),{},{innerProps:r,isRtl:o,size:n}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),_t(Zj,{delay:0,offset:o}),_t(Zj,{delay:160,offset:!0}),_t(Zj,{delay:320,offset:!o}))},K2e=function(t,r){var o=t.isDisabled,i=t.isFocused,n=t.theme,s=n.colors,a=n.borderRadius,l=n.spacing;return xt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:o?s.neutral5:s.neutral0,borderColor:o?s.neutral10:i?s.primary:s.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:i?s.primary:s.neutral30}})},_ct=function(t){var r=t.children,o=t.isDisabled,i=t.isFocused,n=t.innerRef,s=t.innerProps,a=t.menuIsOpen;return _t("div",Ct({ref:n},Tn(t,"control",{control:!0,"control--is-disabled":o,"control--is-focused":i,"control--menu-is-open":a}),s,{"aria-disabled":o||void 0}),r)},kct=_ct,Tct=["data"],Q2e=function(t,r){var o=t.theme.spacing;return r?{}:{paddingBottom:o.baseUnit*2,paddingTop:o.baseUnit*2}},Ect=function(t){var r=t.children,o=t.cx,i=t.getStyles,n=t.getClassNames,s=t.Heading,a=t.headingProps,l=t.innerProps,c=t.label,u=t.theme,p=t.selectProps;return _t("div",Ct({},Tn(t,"group",{group:!0}),l),_t(s,Ct({},a,{selectProps:p,theme:u,getStyles:i,getClassNames:n,cx:o}),c),_t("div",null,r))},ege=function(t,r){var o=t.theme,i=o.colors,n=o.spacing;return xt({label:"group",cursor:"default",display:"block"},r?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:n.baseUnit*3,paddingRight:n.baseUnit*3,textTransform:"uppercase"})},Mct=function(t){var r=k2e(t);r.data;var o=kc(r,Tct);return _t("div",Ct({},Tn(t,"groupHeading",{"group-heading":!0}),o))},Act=Ect,Ict=["innerRef","isDisabled","isHidden","inputClassName"],tge=function(t,r){var o=t.isDisabled,i=t.value,n=t.theme,s=n.spacing,a=n.colors;return xt(xt({visibility:o?"hidden":"visible",transform:i?"translateZ(0)":""},Dct),r?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:a.neutral80})},rge={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Dct={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":xt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},rge)},Nct=function(t){return xt({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},rge)},Oct=function(t){var r=t.cx,o=t.value,i=k2e(t),n=i.innerRef,s=i.isDisabled,a=i.isHidden,l=i.inputClassName,c=kc(i,Ict);return _t("div",Ct({},Tn(t,"input",{"input-container":!0}),{"data-value":o||""}),_t("input",Ct({className:r({input:!0},l),ref:n,style:Nct(a),disabled:s},c)))},Lct=Oct,oge=function(t,r){var o=t.theme,i=o.spacing,n=o.borderRadius,s=o.colors;return xt({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:s.neutral10,borderRadius:n/2,margin:i.baseUnit/2})},ige=function(t,r){var o=t.theme,i=o.borderRadius,n=o.colors,s=t.cropWithEllipsis;return xt({overflow:"hidden",textOverflow:s||s===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:i/2,color:n.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},nge=function(t,r){var o=t.theme,i=o.spacing,n=o.borderRadius,s=o.colors,a=t.isFocused;return xt({alignItems:"center",display:"flex"},r?{}:{borderRadius:n/2,backgroundColor:a?s.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},sge=function(t){var r=t.children,o=t.innerProps;return _t("div",o,r)},Bct=sge,Fct=sge;function Wct(e){var t=e.children,r=e.innerProps;return _t("div",Ct({role:"button"},r),t||_t(Qj,{size:14}))}var Vct=function(t){var r=t.children,o=t.components,i=t.data,n=t.innerProps,s=t.isDisabled,a=t.removeProps,l=t.selectProps,c=o.Container,u=o.Label,p=o.Remove;return _t(c,{data:i,innerProps:xt(xt({},Tn(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),n),selectProps:l},_t(u,{data:i,innerProps:xt({},Tn(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},r),_t(p,{data:i,innerProps:xt(xt({},Tn(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},a),selectProps:l}))},Uct=Vct,age=function(t,r){var o=t.isDisabled,i=t.isFocused,n=t.isSelected,s=t.theme,a=s.spacing,l=s.colors;return xt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:n?l.primary:i?l.primary25:"transparent",color:o?l.neutral20:n?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:o?void 0:n?l.primary:l.primary50}})},Rct=function(t){var r=t.children,o=t.isDisabled,i=t.isFocused,n=t.isSelected,s=t.innerRef,a=t.innerProps;return _t("div",Ct({},Tn(t,"option",{option:!0,"option--is-disabled":o,"option--is-focused":i,"option--is-selected":n}),{ref:s,"aria-disabled":o},a),r)},jct=Rct,lge=function(t,r){var o=t.theme,i=o.spacing,n=o.colors;return xt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:n.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Gct=function(t){var r=t.children,o=t.innerProps;return _t("div",Ct({},Tn(t,"placeholder",{placeholder:!0}),o),r)},Hct=Gct,cge=function(t,r){var o=t.isDisabled,i=t.theme,n=i.spacing,s=i.colors;return xt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:o?s.neutral40:s.neutral80,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2})},zct=function(t){var r=t.children,o=t.isDisabled,i=t.innerProps;return _t("div",Ct({},Tn(t,"singleValue",{"single-value":!0,"single-value--is-disabled":o}),i),r)},Xct=zct,Yct={ClearIndicator:Sct,Control:kct,DropdownIndicator:vct,DownChevron:X2e,CrossIcon:Qj,Group:Act,GroupHeading:Mct,IndicatorsContainer:gct,IndicatorSeparator:Cct,Input:Lct,LoadingIndicator:wct,Menu:cct,MenuList:uct,MenuPortal:mct,LoadingMessage:dct,NoOptionsMessage:pct,MultiValue:Uct,MultiValueContainer:Bct,MultiValueLabel:Fct,MultiValueRemove:Wct,Option:jct,Placeholder:Hct,SelectContainer:fct,SingleValue:Xct,ValueContainer:hct},uge=function(t){return xt(xt({},Yct),t.components)};var pge=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function qct(e,t){return!!(e===t||pge(e)&&pge(t))}function $ct(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!qct(e[r],t[r]))return!1;return!0}function dge(e,t){t===void 0&&(t=$ct);var r=null;function o(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];if(r&&r.lastThis===this&&t(i,r.lastArgs))return r.lastResult;var s=e.apply(this,i);return r={lastResult:s,lastArgs:i,lastThis:this},s}return o.clear=function(){r=null},o}var Zct={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Jct=function(t){return _t("span",Ct({css:Zct},t))},mge=Jct,Kct={guidance:function(t){var r=t.isSearchable,o=t.isMulti,i=t.tabSelectsValue,n=t.context,s=t.isInitialFocus;switch(n){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(t["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(o?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var r=t.action,o=t.label,i=o===void 0?"":o,n=t.labels,s=t.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(n.length>1?"s":""," ").concat(n.join(","),", selected.");case"select-option":return s?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var r=t.context,o=t.focused,i=t.options,n=t.label,s=n===void 0?"":n,a=t.selectValue,l=t.isDisabled,c=t.isSelected,u=t.isAppleDevice,p=function(x,v){return x&&x.length?"".concat(x.indexOf(v)+1," of ").concat(x.length):""};if(r==="value"&&a)return"value ".concat(s," focused, ").concat(p(a,o),".");if(r==="menu"&&u){var m=l?" disabled":"",h="".concat(c?" selected":"").concat(m);return"".concat(s).concat(h,", ").concat(p(i,o),".")}return""},onFilter:function(t){var r=t.inputValue,o=t.resultsMessage;return"".concat(o).concat(r?" for search term "+r:"",".")}},Qct=function(t){var r=t.ariaSelection,o=t.focusedOption,i=t.focusedValue,n=t.focusableOptions,s=t.isFocused,a=t.selectValue,l=t.selectProps,c=t.id,u=t.isAppleDevice,p=l.ariaLiveMessages,m=l.getOptionLabel,h=l.inputValue,f=l.isMulti,x=l.isOptionDisabled,v=l.isSearchable,b=l.menuIsOpen,S=l.options,w=l.screenReaderStatus,_=l.tabSelectsValue,E=l.isLoading,T=l["aria-label"],A=l["aria-live"],O=(0,lo.useMemo)(function(){return xt(xt({},Kct),p||{})},[p]),L=(0,lo.useMemo)(function(){var j="";if(r&&O.onChange){var X=r.option,te=r.options,se=r.removedValue,ue=r.removedValues,be=r.value,ae=function(Ce){return Array.isArray(Ce)?null:Ce},he=se||X||ae(be),fe=he?m(he):"",ce=te||ue||void 0,Se=ce?ce.map(m):[],It=xt({isDisabled:he&&x(he,a),label:fe,labels:Se},r);j=O.onChange(It)}return j},[r,O,x,a,m]),R=(0,lo.useMemo)(function(){var j="",X=o||i,te=!!(o&&a&&a.includes(o));if(X&&O.onFocus){var se={focused:X,label:m(X),isDisabled:x(X,a),isSelected:te,options:n,context:X===o?"menu":"value",selectValue:a,isAppleDevice:u};j=O.onFocus(se)}return j},[o,i,m,x,O,n,a,u]),z=(0,lo.useMemo)(function(){var j="";if(b&&S.length&&!E&&O.onFilter){var X=w({count:n.length});j=O.onFilter({inputValue:h,resultsMessage:X})}return j},[n,h,b,O,S,w,E]),I=r?.action==="initial-input-focus",F=(0,lo.useMemo)(function(){var j="";if(O.guidance){var X=i?"value":b?"menu":"input";j=O.guidance({"aria-label":T,context:X,isDisabled:o&&x(o,a),isMulti:f,isSearchable:v,tabSelectsValue:_,isInitialFocus:I})}return j},[T,o,i,f,x,v,b,O,a,_,I]),B=_t(lo.Fragment,null,_t("span",{id:"aria-selection"},L),_t("span",{id:"aria-focused"},R),_t("span",{id:"aria-results"},z),_t("span",{id:"aria-guidance"},F));return _t(lo.Fragment,null,_t(mge,{id:c},I&&B),_t(mge,{"aria-live":A,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},s&&!I&&B))},eut=Qct,rG=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],tut=new RegExp("["+rG.map(function(e){return e.letters}).join("")+"]","g"),_ge={};for(gM=0;gM<rG.length;gM++)for(yM=rG[gM],xM=0;xM<yM.letters.length;xM++)_ge[yM.letters[xM]]=yM.base;var yM,xM,gM,kge=function(t){return t.replace(tut,function(r){return _ge[r]})},rut=dge(kge),fge=function(t){return t.replace(/^\s+|\s+$/g,"")},out=function(t){return"".concat(t.label," ").concat(t.value)},iut=function(t){return function(r,o){if(r.data.__isNew__)return!0;var i=xt({ignoreCase:!0,ignoreAccents:!0,stringify:out,trim:!0,matchFrom:"any"},t),n=i.ignoreCase,s=i.ignoreAccents,a=i.stringify,l=i.trim,c=i.matchFrom,u=l?fge(o):o,p=l?fge(a(r)):a(r);return n&&(u=u.toLowerCase(),p=p.toLowerCase()),s&&(u=rut(u),p=kge(p)),c==="start"?p.substr(0,u.length)===u:p.indexOf(u)>-1}},nut=["innerRef"];function sut(e){var t=e.innerRef,r=kc(e,nut),o=D2e(r,"onExited","in","enter","exit","appear");return _t("input",Ct({ref:t},o,{css:P9({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var aut=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function lut(e){var t=e.isEnabled,r=e.onBottomArrive,o=e.onBottomLeave,i=e.onTopArrive,n=e.onTopLeave,s=(0,lo.useRef)(!1),a=(0,lo.useRef)(!1),l=(0,lo.useRef)(0),c=(0,lo.useRef)(null),u=(0,lo.useCallback)(function(v,b){if(c.current!==null){var S=c.current,w=S.scrollTop,_=S.scrollHeight,E=S.clientHeight,T=c.current,A=b>0,O=_-E-w,L=!1;O>b&&s.current&&(o&&o(v),s.current=!1),A&&a.current&&(n&&n(v),a.current=!1),A&&b>O?(r&&!s.current&&r(v),T.scrollTop=_,L=!0,s.current=!0):!A&&-b>w&&(i&&!a.current&&i(v),T.scrollTop=0,L=!0,a.current=!0),L&&aut(v)}},[r,o,i,n]),p=(0,lo.useCallback)(function(v){u(v,v.deltaY)},[u]),m=(0,lo.useCallback)(function(v){l.current=v.changedTouches[0].clientY},[]),h=(0,lo.useCallback)(function(v){var b=l.current-v.changedTouches[0].clientY;u(v,b)},[u]),f=(0,lo.useCallback)(function(v){if(v){var b=A2e?{passive:!1}:!1;v.addEventListener("wheel",p,b),v.addEventListener("touchstart",m,b),v.addEventListener("touchmove",h,b)}},[h,m,p]),x=(0,lo.useCallback)(function(v){v&&(v.removeEventListener("wheel",p,!1),v.removeEventListener("touchstart",m,!1),v.removeEventListener("touchmove",h,!1))},[h,m,p]);return(0,lo.useEffect)(function(){if(t){var v=c.current;return f(v),function(){x(v)}}},[t,f,x]),function(v){c.current=v}}var hge=["boxSizing","height","overflow","paddingRight","position"],gge={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function yge(e){e.preventDefault()}function xge(e){e.stopPropagation()}function bge(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function vge(){return"ontouchstart"in window||navigator.maxTouchPoints}var Sge=!!(typeof window<"u"&&window.document&&window.document.createElement),A9=0,g6={capture:!1,passive:!1};function cut(e){var t=e.isEnabled,r=e.accountForScrollbars,o=r===void 0?!0:r,i=(0,lo.useRef)({}),n=(0,lo.useRef)(null),s=(0,lo.useCallback)(function(l){if(Sge){var c=document.body,u=c&&c.style;if(o&&hge.forEach(function(f){var x=u&&u[f];i.current[f]=x}),o&&A9<1){var p=parseInt(i.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,h=window.innerWidth-m+p||0;Object.keys(gge).forEach(function(f){var x=gge[f];u&&(u[f]=x)}),u&&(u.paddingRight="".concat(h,"px"))}c&&vge()&&(c.addEventListener("touchmove",yge,g6),l&&(l.addEventListener("touchstart",bge,g6),l.addEventListener("touchmove",xge,g6))),A9+=1}},[o]),a=(0,lo.useCallback)(function(l){if(Sge){var c=document.body,u=c&&c.style;A9=Math.max(A9-1,0),o&&A9<1&&hge.forEach(function(p){var m=i.current[p];u&&(u[p]=m)}),c&&vge()&&(c.removeEventListener("touchmove",yge,g6),l&&(l.removeEventListener("touchstart",bge,g6),l.removeEventListener("touchmove",xge,g6)))}},[o]);return(0,lo.useEffect)(function(){if(t){var l=n.current;return s(l),function(){a(l)}}},[t,s,a]),function(l){n.current=l}}var uut=function(t){var r=t.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},put={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function dut(e){var t=e.children,r=e.lockEnabled,o=e.captureEnabled,i=o===void 0?!0:o,n=e.onBottomArrive,s=e.onBottomLeave,a=e.onTopArrive,l=e.onTopLeave,c=lut({isEnabled:i,onBottomArrive:n,onBottomLeave:s,onTopArrive:a,onTopLeave:l}),u=cut({isEnabled:r}),p=function(h){c(h),u(h)};return _t(lo.Fragment,null,r&&_t("div",{onClick:uut,css:put}),t(p))}var mut={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},fut=function(t){var r=t.name,o=t.onFocus;return _t("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:o,css:mut,value:"",onChange:function(){}})},hut=fut;function oG(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function gut(){return oG(/^iPhone/i)}function Tge(){return oG(/^Mac/i)}function yut(){return oG(/^iPad/i)||Tge()&&navigator.maxTouchPoints>1}function xut(){return gut()||yut()}function but(){return Tge()||xut()}var vut=function(t){return t.label},iG=function(t){return t.label},nG=function(t){return t.value},Sut=function(t){return!!t.isDisabled},Cut={clearIndicator:$2e,container:j2e,control:K2e,dropdownIndicator:q2e,group:Q2e,groupHeading:ege,indicatorsContainer:H2e,indicatorSeparator:Z2e,input:tge,loadingIndicator:J2e,loadingMessage:U2e,menu:O2e,menuList:F2e,menuPortal:R2e,multiValue:oge,multiValueLabel:ige,multiValueRemove:nge,noOptionsMessage:V2e,option:age,placeholder:lge,singleValue:cge,valueContainer:G2e};var Put={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},wut=4,Ege=4,_ut=38,kut=Ege*2,Tut={baseUnit:Ege,controlHeight:_ut,menuGutter:kut},eG={borderRadius:wut,colors:Put,spacing:Tut},Eut={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Kj(),captureMenuScroll:!Kj(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:iut(),formatGroupLabel:vut,getOptionLabel:iG,getOptionValue:nG,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Sut,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!E2e(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Cge(e,t,r,o){var i=Ige(e,t,r),n=Dge(e,t,r),s=Age(e,t),a=vM(e,t);return{type:"option",data:t,isDisabled:i,isSelected:n,label:s,value:a,index:o}}function bM(e,t){return e.options.map(function(r,o){if("options"in r){var i=r.options.map(function(s,a){return Cge(e,s,t,a)}).filter(function(s){return wge(e,s)});return i.length>0?{type:"group",data:r,options:i,index:o}:void 0}var n=Cge(e,r,t,o);return wge(e,n)?n:void 0}).filter(I2e)}function Mge(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,T0(r.options.map(function(o){return o.data}))):t.push(r.data),t},[])}function Pge(e,t){return e.reduce(function(r,o){return o.type==="group"?r.push.apply(r,T0(o.options.map(function(i){return{data:i.data,id:"".concat(t,"-").concat(o.index,"-").concat(i.index)}}))):r.push({data:o.data,id:"".concat(t,"-").concat(o.index)}),r},[])}function Mut(e,t){return Mge(bM(e,t))}function wge(e,t){var r=e.inputValue,o=r===void 0?"":r,i=t.data,n=t.isSelected,s=t.label,a=t.value;return(!Oge(e)||!n)&&Nge(e,{label:s,value:a,data:i},o)}function Aut(e,t){var r=e.focusedValue,o=e.selectValue,i=o.indexOf(r);if(i>-1){var n=t.indexOf(r);if(n>-1)return r;if(i<t.length)return t[i]}return null}function Iut(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}var tG=function(t,r){var o,i=(o=t.find(function(n){return n.data===r}))===null||o===void 0?void 0:o.id;return i||null},Age=function(t,r){return t.getOptionLabel(r)},vM=function(t,r){return t.getOptionValue(r)};function Ige(e,t,r){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,r):!1}function Dge(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var o=vM(e,t);return r.some(function(i){return vM(e,i)===o})}function Nge(e,t,r){return e.filterOption?e.filterOption(t,r):!0}var Oge=function(t){var r=t.hideSelectedOptions,o=t.isMulti;return r===void 0?o:r},Dut=1,I9=function(e){f1e(r,e);var t=y1e(r);function r(o){var i;if(p1e(this,r),i=t.call(this,o),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=but(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,c){var u=i.props,p=u.onChange,m=u.name;c.name=m,i.ariaOnChange(l,c),p(l,c)},i.setValue=function(l,c,u){var p=i.props,m=p.closeMenuOnSelect,h=p.isMulti,f=p.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:f}),m&&(i.setState({inputIsHiddenAfterUpdate:!h}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:c,option:u})},i.selectOption=function(l){var c=i.props,u=c.blurInputOnSelect,p=c.isMulti,m=c.name,h=i.state.selectValue,f=p&&i.isOptionSelected(l,h),x=i.isOptionDisabled(l,h);if(f){var v=i.getOptionValue(l);i.setValue(h.filter(function(b){return i.getOptionValue(b)!==v}),"deselect-option",l)}else if(!x)p?i.setValue([].concat(T0(h),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:m});return}u&&i.blurInput()},i.removeValue=function(l){var c=i.props.isMulti,u=i.state.selectValue,p=i.getOptionValue(l),m=u.filter(function(f){return i.getOptionValue(f)!==p}),h=Pg(c,m,m[0]||null);i.onChange(h,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(Pg(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,c=i.state.selectValue,u=c[c.length-1],p=c.slice(0,c.length-1),m=Pg(l,p,p[0]||null);i.onChange(m,{action:"pop-value",removedValue:u})},i.getFocusedOptionId=function(l){return tG(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return Pge(bM(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return _2e.apply(void 0,[i.props.classNamePrefix].concat(c))},i.getOptionLabel=function(l){return Age(i.props,l)},i.getOptionValue=function(l){return vM(i.props,l)},i.getStyles=function(l,c){var u=i.props.unstyled,p=Cut[l](c,u);p.boxSizing="border-box";var m=i.props.styles[l];return m?m(p,c):p},i.getClassNames=function(l,c){var u,p;return(u=(p=i.props.classNames)[l])===null||u===void 0?void 0:u.call(p,c)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return uge(i.props)},i.buildCategorizedOptions=function(){return bM(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return Mge(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,c){i.setState({ariaSelection:xt({value:l},c)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var c=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():c&&i.openMenu("first"):(c&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var c=i.props,u=c.isMulti,p=c.menuIsOpen;i.focusInput(),p?(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&M9(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var c=l.touches,u=c&&c.item(0);u&&(i.initialTouchX=u.clientX,i.initialTouchY=u.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var c=l.touches,u=c&&c.item(0);if(u){var p=Math.abs(u.clientX-i.initialTouchX),m=Math.abs(u.clientY-i.initialTouchY),h=5;i.userIsDragging=p>h||m>h}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var c=i.props.inputValue,u=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(u,{action:"input-change",prevInputValue:c}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var c=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:c}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var c=i.getFocusableOptions(),u=c.indexOf(l);i.setState({focusedOption:l,focusedOptionId:u>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return Oge(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var c=i.props,u=c.isMulti,p=c.backspaceRemovesValue,m=c.escapeClearsValue,h=c.inputValue,f=c.isClearable,x=c.isDisabled,v=c.menuIsOpen,b=c.onKeyDown,S=c.tabSelectsValue,w=c.openMenuOnFocus,_=i.state,E=_.focusedOption,T=_.focusedValue,A=_.selectValue;if(!x&&!(typeof b=="function"&&(b(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!u||h)return;i.focusValue("previous");break;case"ArrowRight":if(!u||h)return;i.focusValue("next");break;case"Delete":case"Backspace":if(h)return;if(T)i.removeValue(T);else{if(!p)return;u?i.popValue():f&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!v||!S||!E||w&&i.isOptionSelected(E,A))return;i.selectOption(E);break;case"Enter":if(l.keyCode===229)break;if(v){if(!E||i.isComposing)return;i.selectOption(E);break}return;case"Escape":v?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:h}),i.onMenuClose()):f&&m&&i.clearValue();break;case" ":if(h)return;if(!v){i.openMenu("first");break}if(!E)return;i.selectOption(E);break;case"ArrowUp":v?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":v?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!v)return;i.focusOption("pageup");break;case"PageDown":if(!v)return;i.focusOption("pagedown");break;case"Home":if(!v)return;i.focusOption("first");break;case"End":if(!v)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++Dut),i.state.selectValue=h6(o.value),o.menuIsOpen&&i.state.selectValue.length){var n=i.getFocusableOptionsWithIds(),s=i.buildFocusableOptions(),a=s.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=n,i.state.focusedOption=s[a],i.state.focusedOptionId=tG(n,s[a])}return i}return m1e(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Jj(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var n=this.props,s=n.isDisabled,a=n.menuIsOpen,l=this.state.isFocused;(l&&!s&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&s&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!s&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Jj(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,n){this.props.onInputChange(i,n)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var n=this,s=this.state,a=s.selectValue,l=s.isFocused,c=this.buildFocusableOptions(),u=i==="first"?0:c.length-1;if(!this.props.isMulti){var p=c.indexOf(a[0]);p>-1&&(u=p)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[u],focusedOptionId:this.getFocusedOptionId(c[u])},function(){return n.onMenuOpen()})}},{key:"focusValue",value:function(i){var n=this.state,s=n.selectValue,a=n.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=s.indexOf(a);a||(l=-1);var c=s.length-1,u=-1;if(s.length){switch(i){case"previous":l===0?u=0:l===-1?u=c:u=l-1;break;case"next":l>-1&&l<c&&(u=l+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:s[u]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",n=this.props.pageSize,s=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,c=a.indexOf(s);s||(c=-1),i==="up"?l=c>0?c-1:a.length-1:i==="down"?l=(c+1)%a.length:i==="pageup"?(l=c-n,l<0&&(l=0)):i==="pagedown"?(l=c+n,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(eG):xt(xt({},eG),this.props.theme):eG}},{key:"getCommonProps",value:function(){var i=this.clearValue,n=this.cx,s=this.getStyles,a=this.getClassNames,l=this.getValue,c=this.selectOption,u=this.setValue,p=this.props,m=p.isMulti,h=p.isRtl,f=p.options,x=this.hasValue();return{clearValue:i,cx:n,getStyles:s,getClassNames:a,getValue:l,hasValue:x,isMulti:m,isRtl:h,options:f,selectOption:c,selectProps:p,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,n=i.isClearable,s=i.isMulti;return n===void 0?s:n}},{key:"isOptionDisabled",value:function(i,n){return Ige(this.props,i,n)}},{key:"isOptionSelected",value:function(i,n){return Dge(this.props,i,n)}},{key:"filterOption",value:function(i,n){return Nge(this.props,i,n)}},{key:"formatOptionLabel",value:function(i,n){if(typeof this.props.formatOptionLabel=="function"){var s=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:n,inputValue:s,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,n=i.isDisabled,s=i.isSearchable,a=i.inputId,l=i.inputValue,c=i.tabIndex,u=i.form,p=i.menuIsOpen,m=i.required,h=this.getComponents(),f=h.Input,x=this.state,v=x.inputIsHidden,b=x.ariaSelection,S=this.commonProps,w=a||this.getElementId("input"),_=xt(xt(xt({"aria-autocomplete":"list","aria-expanded":p,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},p&&{"aria-controls":this.getElementId("listbox")}),!s&&{"aria-readonly":!0}),this.hasValue()?b?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return s?So.createElement(f,Ct({},S,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:w,innerRef:this.getInputRef,isDisabled:n,isHidden:v,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:u,type:"text",value:l},_)):So.createElement(sut,Ct({id:w,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:E9,onFocus:this.onInputFocus,disabled:n,tabIndex:c,inputMode:"none",form:u,value:""},_))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,n=this.getComponents(),s=n.MultiValue,a=n.MultiValueContainer,l=n.MultiValueLabel,c=n.MultiValueRemove,u=n.SingleValue,p=n.Placeholder,m=this.commonProps,h=this.props,f=h.controlShouldRenderValue,x=h.isDisabled,v=h.isMulti,b=h.inputValue,S=h.placeholder,w=this.state,_=w.selectValue,E=w.focusedValue,T=w.isFocused;if(!this.hasValue()||!f)return b?null:So.createElement(p,Ct({},m,{key:"placeholder",isDisabled:x,isFocused:T,innerProps:{id:this.getElementId("placeholder")}}),S);if(v)return _.map(function(O,L){var R=O===E,z="".concat(i.getOptionLabel(O),"-").concat(i.getOptionValue(O));return So.createElement(s,Ct({},m,{components:{Container:a,Label:l,Remove:c},isFocused:R,isDisabled:x,key:z,index:L,removeProps:{onClick:function(){return i.removeValue(O)},onTouchEnd:function(){return i.removeValue(O)},onMouseDown:function(F){F.preventDefault()}},data:O}),i.formatOptionLabel(O,"value"))});if(b)return null;var A=_[0];return So.createElement(u,Ct({},m,{data:A,isDisabled:x}),this.formatOptionLabel(A,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),n=i.ClearIndicator,s=this.commonProps,a=this.props,l=a.isDisabled,c=a.isLoading,u=this.state.isFocused;if(!this.isClearable()||!n||l||!this.hasValue()||c)return null;var p={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return So.createElement(n,Ct({},s,{innerProps:p,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),n=i.LoadingIndicator,s=this.commonProps,a=this.props,l=a.isDisabled,c=a.isLoading,u=this.state.isFocused;if(!n||!c)return null;var p={"aria-hidden":"true"};return So.createElement(n,Ct({},s,{innerProps:p,isDisabled:l,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),n=i.DropdownIndicator,s=i.IndicatorSeparator;if(!n||!s)return null;var a=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return So.createElement(s,Ct({},a,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),n=i.DropdownIndicator;if(!n)return null;var s=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return So.createElement(n,Ct({},s,{innerProps:c,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,n=this.getComponents(),s=n.Group,a=n.GroupHeading,l=n.Menu,c=n.MenuList,u=n.MenuPortal,p=n.LoadingMessage,m=n.NoOptionsMessage,h=n.Option,f=this.commonProps,x=this.state.focusedOption,v=this.props,b=v.captureMenuScroll,S=v.inputValue,w=v.isLoading,_=v.loadingMessage,E=v.minMenuHeight,T=v.maxMenuHeight,A=v.menuIsOpen,O=v.menuPlacement,L=v.menuPosition,R=v.menuPortalTarget,z=v.menuShouldBlockScroll,I=v.menuShouldScrollIntoView,F=v.noOptionsMessage,B=v.onMenuScrollToTop,j=v.onMenuScrollToBottom;if(!A)return null;var X=function(fe,ce){var Se=fe.type,It=fe.data,at=fe.isDisabled,Ce=fe.isSelected,yt=fe.label,Zt=fe.value,Gt=x===It,oo=at?void 0:function(){return i.onOptionHover(It)},On=at?void 0:function(){return i.selectOption(It)},Gs="".concat(i.getElementId("option"),"-").concat(ce),io={id:Gs,onClick:On,onMouseMove:oo,onMouseOver:oo,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Ce};return So.createElement(h,Ct({},f,{innerProps:io,data:It,isDisabled:at,isSelected:Ce,key:Gs,label:yt,type:Se,value:Zt,isFocused:Gt,innerRef:Gt?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(fe.data,"menu"))},te;if(this.hasOptions())te=this.getCategorizedOptions().map(function(he){if(he.type==="group"){var fe=he.data,ce=he.options,Se=he.index,It="".concat(i.getElementId("group"),"-").concat(Se),at="".concat(It,"-heading");return So.createElement(s,Ct({},f,{key:It,data:fe,options:ce,Heading:a,headingProps:{id:at,data:he.data},label:i.formatGroupLabel(he.data)}),he.options.map(function(Ce){return X(Ce,"".concat(Se,"-").concat(Ce.index))}))}else if(he.type==="option")return X(he,"".concat(he.index))});else if(w){var se=_({inputValue:S});if(se===null)return null;te=So.createElement(p,f,se)}else{var ue=F({inputValue:S});if(ue===null)return null;te=So.createElement(m,f,ue)}var be={minMenuHeight:E,maxMenuHeight:T,menuPlacement:O,menuPosition:L,menuShouldScrollIntoView:I},ae=So.createElement(B2e,Ct({},f,be),function(he){var fe=he.ref,ce=he.placerProps,Se=ce.placement,It=ce.maxHeight;return So.createElement(l,Ct({},f,be,{innerRef:fe,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:w,placement:Se}),So.createElement(dut,{captureEnabled:b,onTopArrive:B,onBottomArrive:j,lockEnabled:z},function(at){return So.createElement(c,Ct({},f,{innerRef:function(yt){i.getMenuListRef(yt),at(yt)},innerProps:{role:"listbox","aria-multiselectable":f.isMulti,id:i.getElementId("listbox")},isLoading:w,maxHeight:It,focusedOption:x}),te)}))});return R||L==="fixed"?So.createElement(u,Ct({},f,{appendTo:R,controlElement:this.controlRef,menuPlacement:O,menuPosition:L}),ae):ae}},{key:"renderFormField",value:function(){var i=this,n=this.props,s=n.delimiter,a=n.isDisabled,l=n.isMulti,c=n.name,u=n.required,p=this.state.selectValue;if(u&&!this.hasValue()&&!a)return So.createElement(hut,{name:c,onFocus:this.onValueInputFocus});if(!(!c||a))if(l)if(s){var m=p.map(function(x){return i.getOptionValue(x)}).join(s);return So.createElement("input",{name:c,type:"hidden",value:m})}else{var h=p.length>0?p.map(function(x,v){return So.createElement("input",{key:"i-".concat(v),name:c,type:"hidden",value:i.getOptionValue(x)})}):So.createElement("input",{name:c,type:"hidden",value:""});return So.createElement("div",null,h)}else{var f=p[0]?this.getOptionValue(p[0]):"";return So.createElement("input",{name:c,type:"hidden",value:f})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,n=this.state,s=n.ariaSelection,a=n.focusedOption,l=n.focusedValue,c=n.isFocused,u=n.selectValue,p=this.getFocusableOptions();return So.createElement(eut,Ct({},i,{id:this.getElementId("live-region"),ariaSelection:s,focusedOption:a,focusedValue:l,isFocused:c,selectValue:u,focusableOptions:p,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),n=i.Control,s=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,c=this.props,u=c.className,p=c.id,m=c.isDisabled,h=c.menuIsOpen,f=this.state.isFocused,x=this.commonProps=this.getCommonProps();return So.createElement(a,Ct({},x,{className:u,innerProps:{id:p,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:f}),this.renderLiveRegion(),So.createElement(n,Ct({},x,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:f,menuIsOpen:h}),So.createElement(l,Ct({},x,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),So.createElement(s,Ct({},x,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,n){var s=n.prevProps,a=n.clearFocusValueOnUpdate,l=n.inputIsHiddenAfterUpdate,c=n.ariaSelection,u=n.isFocused,p=n.prevWasFocused,m=n.instancePrefix,h=i.options,f=i.value,x=i.menuIsOpen,v=i.inputValue,b=i.isMulti,S=h6(f),w={};if(s&&(f!==s.value||h!==s.options||x!==s.menuIsOpen||v!==s.inputValue)){var _=x?Mut(i,S):[],E=x?Pge(bM(i,S),"".concat(m,"-option")):[],T=a?Aut(n,S):null,A=Iut(n,_),O=tG(E,A);w={selectValue:S,focusedOption:A,focusedOptionId:O,focusableOptionsWithIds:E,focusedValue:T,clearFocusValueOnUpdate:!1}}var L=l!=null&&i!==s?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},R=c,z=u&&p;return u&&!z&&(R={value:Pg(b,S,S[0]||null),options:S,action:"initial-input-focus"},z=!p),c?.action==="initial-input-focus"&&(R=null),xt(xt(xt({},w),L),{},{prevProps:i,ariaSelection:R,prevWasFocused:z})}}]),r}(lo.Component);I9.defaultProps=Eut;var nLr=P("react-dom");var Nut=(0,sG.forwardRef)(function(e,t){var r=FE(e);return Lge.createElement(I9,Ct({ref:t},r))}),SM=Nut;var Out=({selectedCollectionId:e,onChange:t,label:r="Gallery Collection",className:o})=>{let n=(0,Bge.useSelector)(tn.getCollections)?.map(a=>({value:a.id.toString(),label:a.title}))||[],s=e?n.find(a=>a.value===e.toString()):null;return CM.default.createElement("div",{className:o??"","data-testid":"gallery-collection-select"},CM.default.createElement("label",{htmlFor:"select-collection"},r),CM.default.createElement(SM,{id:"select-collection",className:"label-select-list",classNamePrefix:"collection-select",value:s,onChange:a=>t(a?Number(a.value):null),options:n,placeholder:`Select a ${r.toLowerCase()}`,isClearable:!0}))},y6=Out;var Ch=P("react-redux");var jge=M(P("react"),1);var Vge=M(P("react")),Uge=P("react");var D9=P("react");var Lut=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],Fge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,i=String(t).toLowerCase(),n=String(o.getOptionValue(r)).toLowerCase(),s=String(o.getOptionLabel(r)).toLowerCase();return n===i||s===i},aG={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,r,o,i){return!(!t||r.some(function(n){return Fge(t,n,i)})||o.some(function(n){return Fge(t,n,i)}))},getNewOptionData:function(t,r){return{label:r,value:t,__isNew__:!0}}};function Wge(e){var t=e.allowCreateWhileLoading,r=t===void 0?!1:t,o=e.createOptionPosition,i=o===void 0?"last":o,n=e.formatCreateLabel,s=n===void 0?aG.formatCreateLabel:n,a=e.isValidNewOption,l=a===void 0?aG.isValidNewOption:a,c=e.getNewOptionData,u=c===void 0?aG.getNewOptionData:c,p=e.onCreateOption,m=e.options,h=m===void 0?[]:m,f=e.onChange,x=kc(e,Lut),v=x.getOptionValue,b=v===void 0?nG:v,S=x.getOptionLabel,w=S===void 0?iG:S,_=x.inputValue,E=x.isLoading,T=x.isMulti,A=x.value,O=x.name,L=(0,D9.useMemo)(function(){return l(_,h6(A),h,{getOptionValue:b,getOptionLabel:w})?u(_,s(_)):void 0},[s,u,w,b,_,l,h,A]),R=(0,D9.useMemo)(function(){return(r||!E)&&L?i==="first"?[L].concat(T0(h)):[].concat(T0(h),[L]):h},[r,i,E,L,h]),z=(0,D9.useCallback)(function(I,F){if(F.action!=="select-option")return f(I,F);var B=Array.isArray(I)?I:[I];if(B[B.length-1]===L){if(p)p(_);else{var j=u(_,_),X={action:"create-option",name:O,option:j};f(Pg(T,[].concat(T0(h6(A)),[j]),j),X)}return}f(I,F)},[u,_,T,O,L,p,f,A]);return xt(xt({},x),{},{options:R,onChange:z})}var DLr=P("react-dom");var But=(0,Uge.forwardRef)(function(e,t){var r=FE(e),o=Wge(r);return Vge.createElement(I9,Ct({ref:t},o))}),Rge=But;var wg=P("react-redux"),Fut=()=>{let e=(0,wg.useDispatch)(),t=(0,wg.useSelector)(ge.getAssignedLabels),r=(0,wg.useSelector)(ge.getProjectLinkToken),o=(0,wg.useSelector)(ge.getAssignedLabels),i=(0,wg.useSelector)(Kc.getUserLabels),n=(p,m)=>{let h=p.map(f=>({name:f.label,id:f.value}));m.action==="select-option"?c(h):m.action==="create-option"?l(h):m.action==="remove-value"?u(h):m.action==="clear"&&u([])},s=p=>p===" "?p.trim():p.length>me.TAG_NAME_LENGTH?p.substring(0,me.TAG_NAME_LENGTH):p,a=()=>i.filter(m=>!t.includes(m)).map(m=>({label:m.name,value:m.id})),l=p=>{let m=p[p.length-1].name;e(Kc.actions.createNewLabel({name:m})).unwrap().then(h=>{H.trackEvent(U.projectLabelCreated,{"Easel Pro Content":[U.proContent.projectLabels]});let f=t;f.push(h.created_label),Jc.assignLabels({id:r,label_ids:f.map(x=>x.id)}).then(()=>{e(ge.actions.setAssignedLabels(f))}).catch(x=>{Fe("Error assigning labels",x)})})},c=p=>{Jc.assignLabels({id:r,label_ids:p.map(m=>m.id)}).then(()=>{e(ge.actions.setAssignedLabels(p))}).catch(m=>{Fe("Error assigning labels",m)}),H.trackEvent(U.projectLabelAssigned,{"Easel Pro Content":[U.proContent.projectLabels]})},u=p=>{let h=t.filter(f=>!p.map(x=>x.id).includes(f.id)).map(f=>f.id);Jc.unassignLabels({id:r,label_ids:h}).then(()=>{e(ge.actions.setAssignedLabels(o.filter(f=>!h.includes(f.id)))),H.trackEvent(U.projectLabelUnassigned,{"Easel Pro Content":[U.proContent.projectLabels]})}).catch(f=>{Fe("Error unassigning labels",f)})};return jge.default.createElement(Rge,{isMulti:!0,backspaceRemovesValue:!1,isClearable:!0,name:"label-input-combined-field",className:"label-select-list",classNamePrefix:"label-select",defaultValue:t.map(p=>({label:p.name,value:p.id})),options:a(),placeholder:"Select labels or create new ones\u2026",onChange:n,onInputChange:s})},Gge=Fut;var Wut=()=>{let e=(0,Ch.useDispatch)(),t=(0,Ch.useSelector)(_=>Q.isProEnabled(Date.now(),_)),r=(0,Ch.useSelector)(zt.isCabinetProject),o=(0,Ch.useSelector)(zt.projectOrDesign),i=(0,Ch.useSelector)(ge.getProjectName),n=(0,Ch.useSelector)(ge.getDraftCollectionId),s=(0,Ch.useSelector)(vt.projectPropertiesModalVisible),[a,l]=(0,zr.useState)(i||""),[c,u]=(0,zr.useState)(""),[p,m]=(0,zr.useState)(n);(0,zr.useEffect)(()=>{m(n)},[n]),(0,zr.useEffect)(()=>{s&&l(i||"")},[s,i]);let h=(0,zr.useRef)(null),f=()=>{e(vt.actions.hideProjectPropertiesModal())},x=()=>{a.trim().length<1?u(me.PROJECT_NAME_ERRORS.MIN):v()},v=()=>{e(ge.actions.setProjectName(a.trim())),e(ge.actions.setDraftGalleryCollectionId(p)),f()},b=_=>{_.key==="Enter"&&(_.preventDefault(),x())},S=()=>{h.current?.focus(),h.current?.select()},w=_=>{u(""),l(_.target.value)};return zr.default.createElement(sa.Modal,{show:s,onHide:f,onEnter:S},zr.default.createElement(sa.Modal.Header,{closeButton:!0},zr.default.createElement(sa.Modal.Title,null,`${vr.capitalize(o)} Properties`)),zr.default.createElement(sa.Modal.Body,null,zr.default.createElement("div",{className:"d-flex flex-column gap-3"},zr.default.createElement(sa.Row,{className:"project-name-container"},zr.default.createElement(sa.Col,{xs:12},zr.default.createElement("label",{htmlFor:"new-project-name"},"Name"),zr.default.createElement("input",{ref:h,id:"new-project-name",className:"form-control project-properties-modal__project-name-input",onChange:w,onKeyDown:b,autoComplete:"off",maxLength:me.PROJECT_NAME_MAX,value:a}),c&&zr.default.createElement("p",{style:{color:"red"}}," ",`Invalid project name: ${c}`," "))),!r&&zr.default.createElement(sa.Row,null,zr.default.createElement(sa.Col,{className:"p-0"},zr.default.createElement(y6,{className:"project-properties-modal__collection",selectedCollectionId:p,onChange:m,label:"Category"}))),!r&&zr.default.createElement(sa.Row,{className:"labels-pro-label"},zr.default.createElement(sa.Col,{xs:12},zr.default.createElement("label",null,"Labels ",zr.default.createElement(qt,null)),!t&&zr.default.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://easel.com/features/project-labels",className:"ms-2",onClick:()=>H.trackEvent(U.clickedLearnMore,{feature:"labels"})},"(Learn More)"))),t&&!r&&zr.default.createElement(sa.Row,{className:"labels-controls-container"},zr.default.createElement(sa.Col,{xs:12},zr.default.createElement(Gge,null))))),zr.default.createElement(sa.Modal.Footer,{className:"border-top-0 pr-0"},zr.default.createElement(sa.Button,{className:"btn btn-primary m-0",onClick:x},"Save")))},Hge=Wut;var b6=P("react-bootstrap"),Er=M(P("react"),1),fd=P("react-redux");var N9=M(P("prop-types"),1),Vm=M(P("react"),1);var PM=class extends Vm.default.Component{constructor(){super(...arguments);y(this,"state",{showCopied:!1});y(this,"copyLink",()=>{this.props.renderLink&&this.link.select(),window.navigator.clipboard.writeText(this.props.link).then(()=>{this.setState({showCopied:!0}),this.props.onClick?.(),setTimeout(()=>{this.setState({showCopied:!1})},1500)})})}render(){let{link:r,renderLink:o,className:i,external:n}=this.props,{showCopied:s}=this.state;return Vm.default.createElement(Vm.default.Fragment,null,Vm.default.createElement(je,{placement:"bottom",id:"copy-link-tooltip",tooltipContent:s?"Completed":"Copy Link"},Vm.default.createElement(oe,{className:i,onClick:this.copyLink},o?Vm.default.createElement("input",{className:"project-sharing-modal__link",ref:a=>this.link=a,value:r,onClick:this.highlightLink,readOnly:!0}):Vm.default.createElement("i",{className:s?"bi bi-check":"bi bi-files","aria-hidden":"false"}))),n&&Vm.default.createElement("a",{href:r,target:"_blank",rel:"noreferrer"},Vm.default.createElement("i",{className:"bi bi-box-arrow-up-right ms-2"})))}};y(PM,"propTypes",{link:N9.default.string.isRequired,className:N9.default.string,onClick:N9.default.func,renderLink:N9.default.bool});var _g=PM;var wM=M(P("react"),1),_M=M(P("prop-types"),1);var kM=class extends wM.default.Component{constructor(){super(...arguments);y(this,"state",{spinning:!1});y(this,"onClick",r=>{this.setState({spinning:!0}),this.props.onClick(r).finally(()=>this.setState({spinning:!1}))})}render(){let{spinner:r,buttonText:o}=this.props;return this.state.spinning?r||wM.default.createElement(Re,null):wM.default.createElement("button",{className:"btn btn-link",onClick:this.onClick},o)}};y(kM,"propTypes",{buttonText:_M.default.string.isRequired,onClick:_M.default.func.isRequired,spinner:_M.default.element});var zge=kM;var x6=M(P("prop-types"),1),Tg=M(P("react"),1);var kg=M(P("prop-types"),1),O9=M(P("react"),1);var TM=class extends O9.default.Component{constructor(){super(...arguments);y(this,"state",{showCopied:!1})}render(){let{id:r,tooltipContent:o,className:i,link:n,onClickIcon:s,icon:a}=this.props;return O9.default.createElement(je,{placement:"bottom",id:`tooltip-${r}`,tooltipContent:o,delay:me.TOOLBAR_TOOLTIP_DELAY},O9.default.createElement(oe,{id:r,className:i,href:n,target:"_blank",rel:"noreferrer",onClick:s},O9.default.createElement("i",{className:`fa fa-${a}`,"aria-hidden":"false"})))}};y(TM,"propTypes",{link:kg.default.string,tooltipContent:kg.default.string.isRequired,id:kg.default.string.isRequired,icon:kg.default.string.isRequired,className:kg.default.string,onClickIcon:kg.default.func});var EM=TM;var MM=class extends Tg.default.Component{constructor(){super(...arguments);y(this,"state",{showCopied:!1})}render(){let{copyLink:r,emailLink:o,externalLink:i,fbParams:n}=this.props;return Tg.default.createElement("div",null,n&&Tg.default.createElement(EM,{className:"social-sharing__link-icon",link:`https://www.facebook.com/sharer/sharer.php${n}`,tooltipContent:"Share on Facebook",id:"facebook-share-tooltip",icon:"facebook-square",onClickIcon:()=>this.props.onClickIcon("facebook")}),r&&Tg.default.createElement(_g,{className:"social-sharing__link-icon",link:r,onClick:()=>this.props.onClickIcon("copy")}),o&&Tg.default.createElement(EM,{className:"social-sharing__link-icon",link:o,tooltipContent:"Email Link",id:"email-share-tooltip",icon:"envelope-o",onClickIcon:()=>this.props.onClickIcon("email")}),i&&Tg.default.createElement(EM,{className:"social-sharing__link-icon",link:i,tooltipContent:"Open in Tab",id:"external-link-tooltip",icon:"external-link",onClickIcon:()=>this.props.onClickIcon("external")}))}};y(MM,"propTypes",{copyLink:x6.default.string,fbParams:x6.default.string,emailLink:x6.default.string,externalLink:x6.default.string,onClickIcon:x6.default.func.isRequired});var AM=MM;var Mi=M(P("react"),1),M0=P("react-redux");var Vut={linkToken:void 0,galleryCollectionId:null,materials:[],url:void 0,carouselImageUrls:[],thumbnailUrl:void 0,description:null,machineType:null,title:null,notes:null,createdAt:null},Xge=We({name:"galleryProject",initialState:Vut,reducers:{loadGalleryProject:(e,{payload:t})=>{e.linkToken=t.linkToken,e.galleryCollectionId=t.galleryCollectionId,e.materials=t.materials,e.url=t.url,e.carouselImageUrls=t.carouselImageUrls,e.thumbnailUrl=t.thumbnailUrl,e.description=t.description,e.machineType=t.machineType,e.title=t.title,e.notes=t.notes,e.createdAt=t.createdAt},clearGalleryProject:e=>{e.url=void 0,e.galleryCollectionId=null,e.materials=[],e.carouselImageUrls=[],e.thumbnailUrl=void 0,e.description=null,e.machineType=null,e.title=null,e.linkToken=void 0,e.notes=null},setLinkToken:(e,t)=>{e.linkToken=t.payload},setGalleryCollection:(e,t)=>{e.galleryCollectionId=t.payload},setMaterials:(e,t)=>{e.materials=t.payload},setUrl:(e,t)=>{e.url=t.payload},setCarouselImageUrls:(e,t)=>{e.carouselImageUrls=t.payload},setThumbnailUrl:(e,t)=>{e.thumbnailUrl=t.payload},setDescription:(e,t)=>{e.description=t.payload},setMachineType:(e,t)=>{e.machineType=t.payload},setTitle:(e,t)=>{e.title=t.payload},setNotes:(e,t)=>{e.notes=t.payload},setCreatedAt:(e,t)=>{e.createdAt=t.payload}},extraReducers:e=>{e.addCase(ge.actions.loadProjectData,(t,{payload:r})=>{let o=r.project.gallery_project;o&&(t.url=o.url,t.galleryCollectionId=o.gallery_collection_id?Number(o.gallery_collection_id):null,t.materials=o.materials,t.carouselImageUrls=o.carousel_image_urls,t.thumbnailUrl=o.thumbnail_image_url,t.description=o.description,t.machineType=o.machine_type,t.title=o.title,t.linkToken=o.link_token,t.notes=o.notes,t.createdAt=o.created_at)})}}),Uut={getGalleryCollectionId:e=>e.galleryProject.galleryCollectionId,getMaterials:e=>e.galleryProject.materials,getUrl:e=>e.galleryProject.url,getCarouselImageUrls:e=>e.galleryProject.carouselImageUrls,getThumbnailUrl:e=>e.galleryProject.thumbnailUrl,getDescription:e=>e.galleryProject.description,getMachineType:e=>e.galleryProject.machineType,getTitle:e=>e.galleryProject.title,getLinkToken:e=>e.galleryProject.linkToken,getNotes:e=>e.galleryProject.notes,getCreatedAt:e=>e.galleryProject.createdAt},Rut={actions:Xge.actions,reducer:Xge.reducer,...Uut},zo=Rut;var jut=()=>{let e=(0,M0.useDispatch)(),t=He(U.openedPublishingModal,{source:"sharing modal"}),r=(0,M0.useSelector)(zt.isCabinetProject),o=(0,M0.useSelector)(zt.projectOrDesign),i=(0,M0.useSelector)(ge.getProjectSharedStatus),n=(0,M0.useSelector)(zo.getUrl),s=i;n&&(s="published");let a=(0,M0.useSelector)(zo.getLinkToken),l=h=>{e(ge.actions.setProjectShared(h)),H.trackEvent(h?"Made project public":"Made project private")},c=()=>{Fe("Unpublish project?","Your project will no longer be listed in the public Easel Gallery.",[{text:"Cancel"},{text:"Unpublish",action:u}],null,"danger")},u=()=>{a!=null&&Ca.unpublishProject(a).then(()=>{l(!1),e(zo.actions.clearGalleryProject())})},p=r?"Easel Cabinetmaker":"Easel",m=()=>{t(),e(vt.actions.setSharingStep("publish"))};return Mi.default.createElement(Mi.default.Fragment,null,Mi.default.createElement("strong",null,`${vr.capitalize(o)} Link Settings`),Mi.default.createElement("div",{role:"button",id:"project-private",className:`project-sharing-modal__option ${s==="private"?"project-sharing-modal__option--selected":""}`,onClick:()=>s==="published"?c():l(!1)},Mi.default.createElement("i",{className:"bi bi-lock"}),Mi.default.createElement("label",{htmlFor:"project-private"},"Private",Mi.default.createElement("p",null,`You are the only one who can view this ${o}.`))),s!=="published"&&Mi.default.createElement("div",{role:"button",id:"project-unlisted",className:`flex-column project-sharing-modal__option ${s==="unlisted"?"project-sharing-modal__option--selected":""}`,onClick:()=>l(!0)},Mi.default.createElement("div",{className:"project-sharing-modal__flex"},Mi.default.createElement("i",{className:"bi bi-globe"}),Mi.default.createElement("label",{htmlFor:"project-unlisted"},s==="unlisted"?"Shared via Link":"Share via Link",Mi.default.createElement("p",null,`Anyone with this link can open your ${o} in ${p} for customizing or ${p=="Easel"?"carving":"manufacturing"}.`))),s==="unlisted"&&Mi.default.createElement(_g,{link:window.location.href,renderLink:!0})),!r&&Mi.default.createElement("div",{role:"button",id:"project-published",className:`project-sharing-modal__option ${s==="published"?"project-sharing-modal__option--selected":""}`,onClick:m},Mi.default.createElement("i",{className:"bi bi-file-richtext"}),Mi.default.createElement("label",{htmlFor:"project-published"},s==="published"&&Mi.default.createElement(Mi.default.Fragment,null,"Published Gallery Project",Mi.default.createElement("p",null,"Click to edit your published project in the community ",Mi.default.createElement("a",{href:"https://easel.com/gallery",target:"_blank",rel:"noopener noreferrer"},"Project Gallery."))),s!=="published"&&Mi.default.createElement(Mi.default.Fragment,null,"Share to Gallery",Mi.default.createElement("p",null,"Show off your work and share it publicly in the Easel community ",Mi.default.createElement("a",{href:"https://easel.com/gallery",target:"_blank",rel:"noopener noreferrer"},"Project Gallery."))))))},Yge=jut;var Gut=()=>{let e=(0,fd.useDispatch)(),[t,r]=(0,Er.useState)(!1),o=(0,fd.useSelector)(vt.shareVisible),i=(0,fd.useSelector)(zt.isCabinetProject),n=(0,fd.useSelector)(am.getHomeownerLink),s=(0,fd.useSelector)(ge.getProjectName),a=(0,fd.useSelector)(ge.getProjectLinkToken),l=(0,fd.useSelector)(W.isThreeDProject),c=(0,fd.useSelector)(ge.getProjectSharedStatus)==="private",u=(0,fd.useSelector)(zo.getUrl)!=null,p=(0,Er.useCallback)(()=>Gr.createHomeownerLink(a).then(f=>e(am.actions.setHomeownerLink(f))).then(()=>H.trackEvent(U.cabinetDesigner.generatedHomeownerLink)).catch(f=>{console.error(f),Ut("A problem occurred trying to create the link")}),[e,a]);(0,Er.useEffect)(()=>{o&&i&&!n&&p()},[o,i,n,p]);let m=()=>{e(vt.actions.closeSharing()),r(!1)},h=f=>{H.trackEvent("Share project",{source:f})};return Er.default.createElement(b6.Modal,{show:o,onHide:m,className:"project-sharing-modal"},Er.default.createElement(b6.Modal.Header,{closeButton:!0},Er.default.createElement(b6.Modal.Title,null,"Sharing")),Er.default.createElement(b6.Modal.Body,null,(!i||t)&&Er.default.createElement(Yge,null),i&&!t&&Er.default.createElement(Er.default.Fragment,null,Er.default.createElement("strong",null,"Presentation View"),Er.default.createElement("div",{className:"project-sharing-modal__homeowner"},Er.default.createElement("p",null,"Share an interactive 3D rendering for clients and other collaborators to review and leave comments"),n?.url?Er.default.createElement(_g,{link:`${window.location.origin}${n.url}`,renderLink:!0,external:!0}):Er.default.createElement("div",{className:"project-sharing-modal__homeowner--generate"},Er.default.createElement(zge,{onClick:()=>p(),buttonText:"Generate Link"})))),l&&!i&&Er.default.createElement("p",{className:"project-sharing-modal__three-d-warning"},"3D STL Files are available under a range of licenses. When you add new STL Files to your Easel Pro account, we can't check the license of those files, so we won't make them public. Each user will only be able to see the files that they have uploaded. Sharing of 3D Projects will only be allowed for Easel Pro Subscribers.",Er.default.createElement("br",null),Er.default.createElement("br",null),"When you use a file, make sure to comply with that file's license. Some files are for personal use only or require purchasing a commercial license. Please respect the file creator's intellectual property.")),Er.default.createElement(b6.Modal.Footer,{className:"justify-content-between"},Er.default.createElement("div",{className:"project-sharing-modal__footer"},!t&&!c&&Er.default.createElement("div",{className:"w-100"},Er.default.createElement("div",{className:"project-sharing-modal__footer-row"},Er.default.createElement("strong",null,"Share on Social"),Er.default.createElement("div",null,Er.default.createElement(AM,{emailLink:`mailto:?subject=Look what I made in Easel!&body=Check out my project ${window.location.href}`,fbParams:`?t=${s}&u=${window.location.href}`,onClickIcon:h}))),u&&Er.default.createElement("div",{className:"project-sharing-modal__footer-row"},Er.default.createElement("span",{className:"me-2"},Er.default.createElement("strong",null,"Share via Link")),Er.default.createElement("div",{className:"project-sharing-modal__footer-item--full"},Er.default.createElement(_g,{link:window.location.href,renderLink:!0})))),i&&Er.default.createElement(oe,{className:"project-sharing-modal--sm-text toggle-basic-options",onClick:()=>r(!t)},t?"< Back":"Other sharing options"))))},qge=Gut;var L9=P("react-bootstrap"),ht=M(P("react"),1);var Bs=P("react-redux");var v6=M(P("react"),1);function Hut(e){return v6.default.createElement(v6.default.Fragment,null,e.errors.length===0&&null,e.errors.length>0&&v6.default.createElement("div",{className:"alert alert-danger"},v6.default.createElement("ul",{className:"mb-0"},e.errors.map(t=>v6.default.createElement("li",{key:t},t)))))}var S6=Hut;var aa=M(P("react"),1);var Aa=M(P("react"),1),$ge=P("react-redux");var zut=({imageUrlsToRemove:e,setImageUrlsToRemove:t,onFilesAddedByInput:r,multiple:o,acceptedTypes:i,generatedThumbnail:n,filesToPublish:s,setFilesToPublish:a,deselectedFiles:l,setDeselectedFiles:c})=>{let[u,p]=(0,Aa.useState)(!1),m=(0,$ge.useSelector)(zo.getCarouselImageUrls),h=(0,Aa.useMemo)(()=>{let b=[];if(m.map(S=>b.push({url:S,name:S,originalFile:null,selected:!e.includes(S),isGeneratedThumbnail:!1,isPublishedCarouselImage:!0})),s.filter(S=>S!==n).map(S=>b.push({url:URL.createObjectURL(S),name:S.name,originalFile:S,selected:!0,isGeneratedThumbnail:!1,isPublishedCarouselImage:!1})),l.filter(S=>S!==n).map(S=>b.push({url:URL.createObjectURL(S),name:S.name,originalFile:S,selected:!1,isGeneratedThumbnail:!1,isPublishedCarouselImage:!1})),n){let S=s.includes(n)||!s.includes(n)&&!l.includes(n);b.push({url:URL.createObjectURL(n),name:"generated preview thumbnail",originalFile:n,selected:S,isGeneratedThumbnail:!0,isPublishedCarouselImage:!1})}return b},[m,s,l,n,e]),f=b=>{let S=Array.from(b.target.files||[]);r&&r(S),b.target&&(b.target.value=""),p(!1)},x=b=>{let S=h[b];S.isPublishedCarouselImage?S.selected?t([...e,S.url]):t(e.filter(w=>w!==S.url)):S.originalFile&&(S.selected?(a(s.filter(w=>w!==S.originalFile)),c([...l,S.originalFile])):(a([...s,S.originalFile]),c(l.filter(w=>w!==S.originalFile))))},v=[];return i&&i.indexOf("image/")>=0&&v.push("image"),i&&i.indexOf("video/")>=0&&v.push("video"),Aa.default.createElement("div",{className:"multiple-media-file-input"},Aa.default.createElement("div",{className:"multiple-media-file-input__previews"},h.map(({name:b,url:S,originalFile:w,selected:_,isPublishedCarouselImage:E,isGeneratedThumbnail:T},A)=>Aa.default.createElement("div",{key:E?`published-${A}-${S}`:T?`thumbnail-${A}`:w?`file-${A}-${w.name}-${w.size}-${w.lastModified}`:`unknown-${A}`,className:"multiple-media-file-input__preview-container",role:"button",tabIndex:0,"aria-label":`remove-image-${A}`,onClick:()=>x(A)},Aa.default.createElement("img",{className:`multiple-media-file-input__preview ${_?"multiple-media-file-input__preview--selected":"multiple-media-file-input__preview--deselected"}`,src:S,alt:b}),_&&Aa.default.createElement("span",{className:"multiple-media-file-input__preview-checkmark"},Aa.default.createElement("i",{className:"bi bi-check"})),!_&&Aa.default.createElement("span",{className:"multiple-media-file-input__preview-delete-mark"},Aa.default.createElement("i",{className:"bi bi-x"}))))),Aa.default.createElement("label",{className:"multiple-media-file-input__upload-button"},Aa.default.createElement("input",{type:"file",accept:i,multiple:o,style:{display:"none"},onChange:f}),u?Aa.default.createElement(Re,{className:"multiple-media-file-input__upload-spinner--active"}):Aa.default.createElement("i",{className:"bi bi-plus-lg multiple-media-file-input__upload-button-icon"}),`Upload ${v.join(" or ")}`))},Zge=zut;var C6=M(P("three"),1);var IM=class{constructor(){this.threeDimensionalRenderer=null,this.accuratePreviewer=null}get3dPreviewThumbnail(t){this.threeDimensionalRenderer===null&&(this.threeDimensionalRenderer=new G3),this.threeDimensionalRenderer.setSize(900,600);let r=new C6.Box3,o={setAccurateElement:m=>{if(m&&typeof m.getMeshes=="function"){let h=m.getMeshes();if(this.threeDimensionalRenderer.addMeshes(h),h.forEach(f=>{if(f&&f.geometry&&(f.geometry.boundingBox||f.geometry.computeBoundingBox(),f.geometry.boundingBox)){let x=f.geometry.boundingBox.clone();f.updateMatrixWorld(!0),x.applyMatrix4(f.matrixWorld),r.union(x)}}),r.isEmpty()){let f=new C6.Vector3(0,-10,10);this.threeDimensionalRenderer.camera.position.copy(f),this.threeDimensionalRenderer.camera.lookAt(new C6.Vector3(0,0,0))}else{let f={minX:r.min.x,maxX:r.max.x,minY:r.min.y,maxY:r.max.y,minZ:r.min.z,maxZ:r.max.z},x=1.2,{lookAt:v,position:b}=this.threeDimensionalRenderer.calculateHomeCamera(f,x);this.threeDimensionalRenderer.camera.position.copy(b),this.threeDimensionalRenderer.camera.lookAt(new C6.Vector3(v.x,v.y,v.z))}this.threeDimensionalRenderer.camera.updateProjectionMatrix()}},setHighlightElement:()=>{}},i=N.store.getState(),n=ye.getCarveableVolumes(i),s=q.getMaterialDimensions(i),a=q.getXYZeroLocation(i),l=ot.materialBoundary(s,a),c=re.detailBitEnabled(i)?rt(re.detailBit(i)):rt(re.bit(i)),u=rt(re.strokeBit(i)),p=Dt.getSelectedTile(i);return this.accuratePreviewer=F3(o),this.accuratePreviewer.updateTileTexture(s,p),Y8.getMaterialTextures(q.getActiveMaterial(i),null).then(m=>{let h={dimensions:s,materialBoundary:l,volumes:n,lastBit:c,strokeBit:u,tile:p,productPreviewEnabled:!0};this.accuratePreviewer.renderPreview(m,h,null,5e3,()=>!0).then(f=>{f?(this.threeDimensionalRenderer.setAfterNextRender(()=>{this.threeDimensionalRenderer.getDOMElement().toBlob(x=>{t(x),this.cleanup()})}),this.threeDimensionalRenderer.renderLater()):this.cleanup()}).catch(f=>{console.error("Error rendering 3D preview:",f),t(null),this.cleanup()})})}cleanup(){this.threeDimensionalRenderer&&(this.threeDimensionalRenderer.dispose(),this.threeDimensionalRenderer=null)}};var DM=P("react-redux");var Xut=({filesToPublish:e,setFilesToPublish:t,imageUrlsToRemove:r,setImageUrlsToRemove:o})=>{let[i,n]=(0,aa.useState)(!1),s=(0,aa.useRef)(null),[a,l]=(0,aa.useState)(null),[c,u]=(0,aa.useState)([]),p=(0,DM.useSelector)(vt.publishVisible),m=(0,DM.useSelector)(W.getActiveWorkpiece),h=(0,DM.useSelector)(zo.getCarouselImageUrls);return(0,aa.useEffect)(()=>{if(!a&&e.length===0&&h.length===0&&p){if(n(!0),m.isImportedMesh&&m.thumbnailUrl){fetch(m.thumbnailUrl).then(x=>{if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);return x.blob()}).then(x=>{let v=new File([x],"imported-thumbnail.png",{type:x.type||"image/png"});l(v),t([v]),n(!1)}).catch(x=>{console.error("Failed to fetch thumbnail from URL:",x),n(!1)});return}s.current&&s.current.cleanup();let f=new IM;s.current=f,f.get3dPreviewThumbnail(x=>{if(x){let v=new File([x],"thumbnail.png",{type:"image/png"});l(v),t([v])}else console.error("Failed to generate thumbnail blob. imageBlob is null or undefined.");n(!1)})}else n(!1),s.current&&(s.current.cleanup(),s.current=null);return()=>{s.current&&(s.current.cleanup(),s.current=null,n(!1))}},[e,h,p,t,l,m,a]),aa.default.createElement(aa.default.Fragment,null,aa.default.createElement("label",null,"Images",e.length===0&&h.length===0?aa.default.createElement("span",{className:"text-danger"},"*"):""),aa.default.createElement("div",{className:"publish-project-modal__file-input-container"},i&&aa.default.createElement("div",{className:"publish-project-modal__generating-preview"},aa.default.createElement(Re,{className:"publish-project-modal__spinner--active"}),aa.default.createElement("span",{className:"publish-project-modal__generating-text"},"Generating preview...")),aa.default.createElement(Zge,{filesToPublish:e,setFilesToPublish:t,generatedThumbnail:a,imageUrlsToRemove:r,setImageUrlsToRemove:o,deselectedFiles:c,setDeselectedFiles:u,acceptedTypes:"image/png, image/gif, image/jpeg, image/webp",multiple:!0,onFilesAddedByInput:f=>{t(x=>[...f,...x])}})))},Jge=Xut;var NM=255,lG=300,Yut=()=>{let e=(0,Bs.useSelector)(zo.getDescription),t=(0,Bs.useSelector)(zo.getMachineType),r=(0,Bs.useSelector)(zo.getMaterials),o=(0,Bs.useSelector)(zo.getTitle),i=(0,Bs.useSelector)(zo.getGalleryCollectionId),n=(0,Bs.useSelector)(ge.getDraftCollectionId),s=(0,Bs.useSelector)(zo.getLinkToken),a=(0,Bs.useSelector)(zo.getCarouselImageUrls),l=(0,Bs.useSelector)(zo.getUrl),c=(0,Bs.useSelector)(zo.getNotes),[u,p]=(0,ht.useState)([]),[m,h]=(0,ht.useState)(!1),[f,x]=(0,ht.useState)(e||""),[v,b]=(0,ht.useState)(i??n),[S,w]=(0,ht.useState)(r||[]),[_,E]=(0,ht.useState)(t||null),[T,A]=(0,ht.useState)(c||null),[O,L]=(0,ht.useState)([]),[R,z]=(0,ht.useState)([]),I=(0,Bs.useDispatch)(),F=He("Published Gallery Project"),B=(0,Bs.useSelector)(vt.publishVisible),j=(0,Bs.useSelector)(ge.getProjectName),X=(0,Bs.useSelector)(ge.getProjectLinkToken),te=(0,Bs.useSelector)(W.getInUseMaterialNames),se=(0,Bs.useSelector)(et.getCurrentMachineProfile),ue=(0,Bs.useSelector)(qut),be=(0,ht.useMemo)(()=>ue.map(io=>({value:io,label:io})),[ue]),ae=()=>I(vt.actions.setSharingStep("share")),[he,fe]=(0,ht.useState)(o||j?.substring(0,NM)||""),ce=ht.default.useRef(null),Se=s!=null;(0,ht.useEffect)(()=>{ce.current&&(ce.current.size=Math.max(he.length,20))},[he]);let It=(0,ht.useCallback)(()=>{let io=null;se&&(io=se.settings?.product?.model||se.name),L([]),z(Fr=>Fr.length===0?Fr:[]),b(i??n),E(t||io),A(c||null),x(e||""),fe(o||j?.substring(0,NM)||""),w(r.length>0?r:te)},[i,n,t,c,e,o,j,r,te,se]);(0,ht.useEffect)(()=>{B&&It()},[B,It]);let at=()=>{Fe("Exit project editing","Your changes to the gallery project will not be saved.",[{text:"Exit Editing",action:()=>Ce()},{text:"Keep Editing"}])},Ce=()=>{I(vt.actions.closeSharing()),p([]),z([])},yt=()=>!(R.length<1&&l==null||a.length+R.length===O.length),Zt=io=>{let Fr=io.map(eN=>eN.value);w(Fr)},Gt=(io=!0)=>{let Fr=[];return f.length===0?Fr.push("Please add a project description."):f.length>lG&&Fr.push(`Your description is too long. (${f.length} / ${lG})`),he==null||he.length===0?Fr.push("Please add a project title."):he.length>NM&&Fr.push(`Your title is too long. (${he.length} / ${NM})`),yt()||Fr.push("Please add at least one image."),Fr.length>0?(io&&p(Fr),!1):!0},oo=()=>{Gt()&&(h(!0),(s?Ca.editPublishedProject:Ca.publishProject)({title:he,description:f,mediaFiles:R,token:s,projectLinkToken:X||"",selectedCollectionId:v,materials:S,machine:_,notes:T||"",imagesToRemove:O}).then(Fr=>{I(vt.actions.closeSharing()),I(ge.actions.setProjectShared(!0)),I(zo.actions.loadGalleryProject({url:Fr.url,galleryCollectionId:Fr.gallery_collection?.id,materials:Fr.materials,carouselImageUrls:Fr.carousel_image_urls,thumbnailUrl:Fr.thumbnail_image_url,description:Fr.description,machineType:Fr.machine,title:Fr.title,linkToken:Fr.link_token,notes:Fr.notes,createdAt:Fr.created_at})),F({url:Fr.url}),J.emit("show-publish-project-finished")}).catch(Fr=>{console.warn(Fr),p(["Something went wrong trying to publish your project. Please try again."])}).finally(()=>{h(!1)}))},On=()=>{Fe("Unpublish project?","Your project will no longer be listed in the public Easel Gallery.",[{text:"Cancel"},{text:"Unpublish",action:Gs}],null,"danger")},Gs=()=>{s!=null&&Ca.unpublishProject(s).then(()=>{J.emit("show-publish-project-finished"),Ce(),I(zo.actions.clearGalleryProject())})};return ht.default.createElement(L9.Modal,{className:"publish-project-modal",show:B,onHide:Se?at:Ce,size:"lg"},ht.default.createElement(L9.Modal.Header,{closeButton:!0},ht.default.createElement("a",{role:"button",onClick:ae},ht.default.createElement("i",{className:"bi bi-arrow-left p-md-1"}),ht.default.createElement("span",null,"Share"))),ht.default.createElement(L9.Modal.Body,null,ht.default.createElement(S6,{errors:u}),ht.default.createElement("div",{className:"publish-project-modal__form-item"},ht.default.createElement("div",{className:"publish-project-modal__project-title-container"},ht.default.createElement("div",{className:"publish-project-modal__required-input-wrapper"},ht.default.createElement("div",{className:"d-flex align-items-center"},ht.default.createElement("input",{ref:ce,className:"publish-project-modal__project-title form-control",value:he,placeholder:"Enter a title",onChange:io=>fe(io.target.value)}),l&&ht.default.createElement(oe,{href:l,className:"ms-2",target:"_blank","data-testid":"gallery-project-link"},ht.default.createElement("i",{className:"bi bi-box-arrow-up-right"})),he.length===0&&ht.default.createElement("span",{className:"text-danger"},"*"))))),ht.default.createElement("div",{className:"publish-project-modal__form-item"},ht.default.createElement("label",{htmlFor:"project-description"},"Description",f.length===0&&ht.default.createElement("span",{className:"text-danger"},"*")),ht.default.createElement("div",{className:"publish-project-modal__description-input-wrapper"},ht.default.createElement("textarea",{value:f,className:"form-control",placeholder:"A short description of your project",id:"project-description",rows:3,onChange:io=>x(io.target.value)}),f.length>0&&ht.default.createElement("div",{className:"publish-project-modal__char-count"},ht.default.createElement("span",null,f.length),ht.default.createElement("span",null," / "),ht.default.createElement("span",null,lG)))),ht.default.createElement("div",{className:"publish-project-modal__additional-info-container"},ht.default.createElement("div",{className:"publish-project-modal__column"},ht.default.createElement(y6,{selectedCollectionId:v,onChange:b}),ht.default.createElement("label",null,"Materials"),ht.default.createElement(SM,{isMulti:!0,backspaceRemovesValue:!1,isClearable:!0,name:"material-input-combined-field",className:"publish-project-modal__material-select-list",value:be.filter(io=>S.includes(io.value)),options:be,placeholder:"Select Materials..",onChange:Zt})),ht.default.createElement("div",{className:"publish-project-modal__column"},ht.default.createElement("label",{htmlFor:"project-machine"},"Machine Type"),ht.default.createElement("input",{id:"project-machine",type:"text",className:"form-control",value:_===null?"":_,disabled:!0}),ht.default.createElement("label",{htmlFor:"project-notes"},"Notes"),ht.default.createElement("textarea",{id:"project-notes",value:T||"",className:"form-control",placeholder:"Additional notes for your project",onChange:io=>A(io.target.value)}))),B&&ht.default.createElement(Jge,{filesToPublish:R,setFilesToPublish:z,imageUrlsToRemove:O,setImageUrlsToRemove:L})),ht.default.createElement(L9.Modal.Footer,null,Se&&ht.default.createElement(oe,{onClick:On},ht.default.createElement("div",{className:"text-danger me-2"},"Unpublish")),ht.default.createElement("div",{onClick:()=>{Gt(!1)||Gt(!0)}},ht.default.createElement("button",{className:"publish-project-modal__publish_button btn btn-primary",disabled:m||!Gt(!1),onClick:oo},ht.default.createElement("span",null,"Publish"),ht.default.createElement(Re,{className:`publish-project-modal__spinner${m?"--active":""}`})))))},qut=_e([q.getAllMaterials,W.getInUseMaterialNames],(e,t)=>{let r=new Set(t);return[...r,...e.filter(o=>o.name!=null&&o.id!=null&&!r.has(o.name)).map(o=>o.name)]}),Kge=Yut;var B9=M(P("three"),1),Mg=P("react-bootstrap"),Br=M(P("react"),1),P6=P("react-redux");var $ut={updateMesh:async function(e,t){try{let r=new File([t],"mesh.stl",{lastModified:Date.now()}),{signed_id:o}=await Qh(r,"/workpiece_mesh_direct_upload");return await kt("/mesh",JSON.stringify({workpiece_id:e,signed_id:o}))}catch(r){Ut(Qu.getErrorMessage(r))}}},Qge=$ut;var Zut={inspect:e=>{let t=new DataView(e),r=Eg("solid");for(let a=0;a<5;a++)if(cG(t,a,r))return{kind:"model",type:"stl",flavor:"ascii"};if(t.getUint32(80,!0)*50===t.byteLength-80-4)return{kind:"model",type:"stl",flavor:"binary"};let n=[["png",[137,80,78,71,13,10,26,10]],["jpeg",[255,216,255]],["gif",Eg("GIF87a")],["gif",Eg("GIF89a")],["bmp",Eg("BM")],["webp",Eg("RIFF").concat([null,null,null,null]).concat(Eg("WEBP"))]];for(let[a,l]of n)if(cG(t,0,l))return{kind:"image",type:a};let s=[["zip",[80,75,3,4]],["gzip",[31,139]],["bzip",Eg("BZh")],["7z",[55,122,188,175,39,28]]];for(let[a,l]of s)if(cG(t,0,l))return{kind:"archive",type:a};return{kind:"unknown"}}};function Eg(e){let t=new Array(e.length);for(let r=0;r<e.length;r++)if(t[r]=e.charCodeAt(r),t[r]>127)throw new Error(`non-ASCII chars: ${e}`);return t}function cG(e,t,r){for(let o=0;o<r.length;o++){if(r[o]>255)throw new Error(`non-byte value: ${r}`);if(r[o]!==null&&r[o]!==e.getUint8(t+o))return!1}return!0}var eye=Zut;var Jut=()=>{let e=(0,P6.useDispatch)(),[t,r]=(0,Br.useState)(!1),[o,i]=(0,Br.useState)(null),[n,s]=(0,Br.useState)(!0),[a,l]=(0,Br.useState)(null),c=(0,P6.useSelector)(q.getMaterialDimensions),u=(0,P6.useSelector)(Me.getPreferredUnit),p=(0,P6.useSelector)(re.bits),m=He(U.threeD.importSuccess),h=He(U.threeD.importFailed);(0,Br.useEffect)(()=>{let T=()=>r(!0);return J.addListener("show-import-3D-modal",T),S(),()=>{J.removeListener("show-import-3D-modal",T)}},[]);let f=()=>{S(),r(!1)},x=(T,A,O)=>{let L=new B9.Box3;L.setFromArray(A.geometry.data.attributes.position.array);let R=e3(),z=le(R.material,c),I;if(n){let se={x:z.x*.9,y:z.y*.9,z:z.z};I=Vp.aspectFitXY(L.getSize(new B9.Vector3),se)}else{let{x:se,y:ue,z:be}=L.getSize(new B9.Vector3);[se,ue,be]=[se,ue,be].map(ae=>Ve.convertToUnit(ae,u,"in")),I={x:se,y:ue,z:be}}let F={x:(z.x-I.x)/2,y:(z.y-I.y)/2,z:0},B=le(R.transform,{size:I,position:F}),j=le(R.cutStyle,{depth:z.z});e(W.actions.setThreeDCutStyle(j)),e(W.actions.setThreeDTransform(B)),e(W.actions.setThreeDGuesstimateGrid(O.id,i2.coarseGrid(A))),e(W.actions.setThreeDMesh(O.id,A)),e(ge.actions.setProjectShared(!1)),e(W.actions.setIsImportedMesh(O.id,!0));let X=p.find(se=>se.id==="INVENTABLES_QUARTER_IN_BIT")??{id:"other-bit",width:.25,unit:"in",type:qe.upcut};e(W.actions.setMainBit(X));let te=p.find(se=>se.id==="INVENTABLES_1_8_IN_BALLNOSE_BIT")??{id:"other-ballnose-bit",width:.125,unit:"in",type:qe.ballnose};e(W.actions.setDetailBit(te))},v=(T,A)=>{try{let O=eye.inspect(A);switch(O.kind){case"archive":w(`Archive file uploaded (${O.type}). Extract the contained STL file and upload directly.`,T,O);break;case"image":w(`Image file uploaded (${O.type}). An STL model is required.`,T,O);break;case"model":if(O.type==="stl")return O;w(`Unsupported model file uploaded (${O.type}). An STL model is required.`,T,O);break;case"unknown":default:{let L=btoa(String.fromCharCode(...new Uint8Array(A.slice(0,256))));w("Unknown file type uploaded. An STL model file is required.",T,O,{"File Header (base64)":L})}break}}catch(O){_(`Error parsing file. ${O}`,"Error parsing file",T)}return!1},b=async(T,A)=>{let O=A.target.result;if(!v(T,O))return;let L=1024*1024,R=null,z=100;if(T.size>z*L){l("Optimizing file...");let B=performance.now(),j=z*L/T.size,{result:X,outputData:te}=await Qs.simplifyMesh(O,j);if(R=performance.now()-B,X!==0){let se={"Simplify Result":X,"Simplify Duration (ms)":R};_(`Simplify Error: ${X}`,"Simplify Error",T,se);return}O=te.buffer}let I=YC.to3DMeshJSON(O),F=T.name.replace(/\.[^/.]+$/,"");try{let B=await vl.workpieceForImport(F);x(T,I,B),f(),e(W.actions.setThreeDOptimizedToastVisible(R!=null)),e(W.actions.setThreeDMeshSaveStatus("saving")),await Qge.updateMesh(B.backendId,T),e(W.actions.setThreeDMeshSaveStatus("success")),m({"File Kind":"model","File Type":"stl","File Name":T.name,"File Size":T.size,Simplified:R!=null,"Simplify Duration (ms)":R??0})}catch(B){e(W.actions.setThreeDMeshSaveStatus("failed"));let j={Simplified:R!=null,"Simplify Duration (ms)":R??0};_(`Error saving 3d mesh data. ${B}`,"Error saving 3d mesh data",T,j)}},S=()=>{i(null),l(null)},w=(T,A,O,L={})=>{L=le(L,{"File Kind":O.kind,"File Type":O.type}),_(T,"Unsupported File",A,L)},_=(T,A,O,L={})=>{i(T),l(null),h({Error:A,"Error Details":T,"File Name":O.name,"File Size":O.size,...L})},E=T=>{S();let A=T.target.files[0];if(!A)return;l("Validating file...");let O=new FileReader;O.onload=L=>b(A,L),O.onerror=()=>_("Invalid file detected. Folders and directories are not accepted.","Invalid file Detected",A),O.readAsArrayBuffer(A)};return Br.default.createElement(Mg.Modal,{show:t,onHide:f,size:"lg"},Br.default.createElement(Mg.Modal.Header,{closeButton:!0},Br.default.createElement(Mg.Modal.Title,null,"Import 3D Model")),Br.default.createElement(Mg.Modal.Body,null,a&&Br.default.createElement("div",null,Br.default.createElement("h4",null,a," ",Br.default.createElement(Re,null))),!a&&Br.default.createElement("div",null,Br.default.createElement("form",{className:"well"},Br.default.createElement("input",{type:"file",onChange:E,id:"stl-file-input",accept:".stl"})),Br.default.createElement(Mg.Form.Check,{type:"checkbox",id:"scale-to-material",className:"pb-3",checked:n,onChange:()=>s(!n),label:Br.default.createElement(Br.default.Fragment,null,"Scale model to fit material",Br.default.createElement(je,{tooltipContent:Br.default.createElement(Br.default.Fragment,null,Br.default.createElement("p",null,"Check to scale the model while retaining aspect ratio to fit the material."),Br.default.createElement("p",null,"Uncheck to retain the pre-defined model size. Use if the mesh was designed with known dimensions."))}))})),o&&Br.default.createElement("div",{className:"alert alert-danger"},Br.default.createElement("h5",null,"Import Failed"),Br.default.createElement("p",null,o)),Br.default.createElement(Ol,{defaultOpen:!0,title:"Overview"},Br.default.createElement("p",null,"Use Easel Pro to create 3D carves from imported STL files. ",Br.default.createElement("br",null),"You can create relief carves, fully carve out 3D objects, and combine 3D carves and 2.5D workpieces.")),Br.default.createElement(Ol,{error:o,defaultOpen:!1,title:"File Specifications"},Br.default.createElement("p",null,"The file import type is .STL",Br.default.createElement("br",null),"If your file is over 100 MB in size, it will be automatically optimized on upload."))))},tye=Jut;var V9=P("react-bootstrap"),Um=M(P("react"),1);var Ia=M(P("react"),1);var uG=class{constructor(t){y(this,"_segments");y(this,"_perimeter");if(!t.isClosed())throw new Error("non-closed path");let[r,o]=Kut(t);this._segments=new NP(r),this._perimeter=o}[Symbol.iterator](){return this._segments[Symbol.iterator]()}perim(){return this._perimeter}at(t){return this._segments.at(t)}dist(t){t=Xt.mod(t,this._perimeter);let r=Qut(this._segments.arr,o=>t<o.travel?-1:t>=o.travel+o.len?1:0);return this._segments.arr[r]}before(t){return this.at(t.index-1)}after(t){return this.at(t.index+1)}cutDist(t,r){r=Xt.mod(r,this._perimeter);let o={...t},i={...t};return o.len=Xt.clamp(r-t.travel,0,t.len),o.end=oC(t.start,t.end,o.len/t.len),i.len=t.len-o.len,i.travel=t.travel+o.len,i.start=o.end,[o,i]}sliceDist(t,r){let o=t<r,i=this.dist(t),n=Math.min(Math.abs(r-t),this._perimeter),[s,a]=this.cutDist(i,t),l=o?a:s,c=[];for(;l.len<=n;)c.push(l),n-=l.len,l=o?this.after(l):this.before(l);return o?[l]=this.cutDist(l,l.travel+n):[,l]=this.cutDist(l,l.travel+l.len-n),c.push(l),c.filter(u=>u.len>0)}};function Kut(e){let t=0,r=new Array(e.points.length-1);for(let{seg:[o,i],i:n}of e.segments()){let s=ar(o,i);r[n]={index:n,len:s,travel:t,start:o,end:i},t+=s}return[r,t]}function Qut(e,t){let r=0,o=e.length-1;for(;r<=o;){let i=o+r>>1,n=t(e[i]);if(n>0)r=i+1;else if(n<0)o=i-1;else return i}return-r-1}var OM=uG;var ept={layout(e,t,r=0){let o=new OM(e);return r==0&&(r=Math.max(Math.ceil(o.perim()/4),3)),new Array(r).fill(0).map((n,s)=>LM(o,(s+.5)/r*o.perim(),t))},closestTo(e,t,r){let o=new OM(e),{point:i,index:n}=e.closestInterpolatedPointAndDistance(t),{travel:s,start:a}=o.at(n-1);return LM(o,s+ar(a,i),r)},toolpaths(e,t,r,o,i){if(t.length===0)return e.withZ(r);let n=new OM(e);t=t.map(l=>LM(n,l.center.abs,l.len+2*i)),tpt(n,t),t.sort((l,c)=>l.center.abs-c.center.abs);let s=Array.from(n).map(l=>[{...l.start,z:r,travel:l.travel},{...l.end,z:r,travel:l.travel+l.len}]);for(let l of t)for(let{start:c,end:u,travel:p,index:m,len:h}of l.segs){let f=s[m],x=f[0],v=f[f.length-1];if(x.travel===p)x.z=o;else for(let b=0;b<f.length;b++)if(p<f[b].travel){f.splice(b,0,{...c,z:r,travel:p},{...c,z:o,travel:p});break}if(v.travel===p+h)v.z=o;else for(let b=f.length-1;b>=0;b--)if(p+h<f[b].travel){f.splice(b,0,{...u,z:o,travel:p+h},{...u,z:r,travel:p+h});break}}let a=s.flatMap(l=>l.map(({x:c,y:u,z:p})=>({x:c,y:u,z:p})));return a.push(a[0]),lr(a.filter((l,c,u)=>c===0||l.x!==u[c-1].x||l.y!==u[c-1].y||l.z!==u[c-1].z))}};function tpt(e,t){for(let r=t.length-2;r>=0;r--)for(let o=t.length-1;o>r;o--)rpt(e,t[r],t[o])&&(t[r]=opt(e,t[r],t[o]),t.splice(o,1))}function rpt(e,t,r){let o=t.center.abs-r.center.abs,i=e.perim();return Math.min(Xt.mod(o,i),Xt.mod(-o,i))<=t.len/2+r.len/2}function opt(e,t,r){if(t.len+r.len>e.perim())throw new Error("tabs are too large");r.center.abs<t.center.abs&&([t,r]=[r,t]);let o=t.len/2,i=r.len/2,n=t.center.abs,s=r.center.abs;if(s-n>o+i&&(s-=e.perim(),n-s>o+i))throw new Error("combining non-overlapping tabs");let a=Math.min(n-o,s-i),l=Math.max(n+o,s+i),c=(a+l)/2;return c<0&&(c+=e.perim()),LM(e,c,l-a)}function LM(e,t,r){let o=e.sliceDist(t-r/2,t+r/2);return{len:r,center:{abs:t},segs:o}}var BM=ept;var pG=class extends Ia.default.Component{render(){let{tabsInfo:t,update:r,roughWidth:o,finishWidth:i}=this.props,n=o+i,s=n*1.5,{minX:a,minY:l,maxX:c,maxY:u}=t.paths.boundingBox();a-=s,c+=s,l-=s,u+=s;let p=c-a,m=u-l;return Ia.default.createElement("svg",{className:"tab-editor",viewBox:`${a} ${-l-m} ${p} ${m}`},Ia.default.createElement("g",{transform:"matrix(1 0 0 -1 0 0)"},Ia.default.createElement("g",{className:"finishing"},Ia.default.createElement("path",{d:t.paths.contract(o/2).svgPathData()})),Ia.default.createElement("g",{className:"model"},Ia.default.createElement("path",{d:t.modelBoundary.svgPathData()})),Ia.default.createElement("g",{className:"roughing",style:{strokeWidth:o}},t.paths.all().map((h,f)=>Ia.default.createElement("path",{key:`path.${f}`,d:h.svgPathData()}))),Ia.default.createElement("g",{className:"tabs",style:{strokeWidth:n}},t.paths.all().map((h,f)=>Ia.default.createElement("g",{key:`tabs.${f}`},h.props.tabs.map((x,v)=>Ia.default.createElement(dG,{path:h,tab:x,key:`tab.${f}.${v}`,update:b=>r(f,v,b)})))))))}},dG=class extends Ia.default.Component{constructor(t){super(t),this.state={dragTab:null},this.onDragStart=this.onDragStart.bind(this),this.onDrag=this.onDrag.bind(this),this.onDragEnd=this.onDragEnd.bind(this)}pathData(t){let r=t.map(o=>o.start);return r.push(t[t.length-1].end),lr(r).svgPathData()}render(){let{tab:t}=this.props,{dragTab:r}=this.state;return Ia.default.createElement("g",null,Ia.default.createElement("path",{className:"tab",key:"tab",d:this.pathData(t.segs),onPointerDown:this.onDragStart,onPointerUp:this.onDragEnd}),r&&Ia.default.createElement("path",{className:"drag",key:"drag",d:this.pathData(r.segs)}))}onDragStart(t){t.stopPropagation(),t.target.setPointerCapture(t.pointerId),t.target.onpointermove=this.onDrag,this.setState({dragTab:this._dragTab(t)})}onDrag(t){this.setState({dragTab:this._dragTab(t)})}onDragEnd(t){t.target.releasePointerCapture(t.pointerId),t.target.onpointermove=null,this.props.update(this._dragTab(t)),this.setState({dragTab:null})}_dragTab(t){let r=t.target.getScreenCTM(),o={x:(t.clientX-r.e)/r.a,y:(t.clientY-r.f)/r.d},{path:i,tab:n}=this.props;return BM.closestTo(i,o,n.len)}},rye=pG;var mG=class e{constructor(t,r,o){y(this,"paths");y(this,"settings");y(this,"modelBoundary");t.all().forEach((i,n)=>{if(i.props.tabs==null)throw new Error(`path(${n}) missing tabs`)}),this.paths=t,this.settings=r,this.modelBoundary=o}static defaults(t,r,o){let i=fo(r.all().map(n=>{let s=[];return fo([n]).contract(t.tabWidth/2).area()!==0&&(s=BM.layout(n,t.tabLength)),lr(n.points,{tabs:s})}));return new e(i,t,o)}static load(t){if(t?.paths==null)return null;let r=fo(t.paths.map(i=>lr(i.points,i.props))),o=fo(t.modelBoundary.map(i=>lr(i.points,i.props)));return new e(r,t.settings,o)}serialize(){return{paths:this.paths.toArray(),settings:this.settings,modelBoundary:this.modelBoundary.toArray()}}},F9=mG;var W9=P("three");var fG=class e{constructor({depth:t,relief:r,padding:o,offset:i=0,useTabs:n}){y(this,"depth");y(this,"relief");y(this,"padding");y(this,"offset");y(this,"useTabs");switch(r){case"Ellipse":case"Rectangle":case"None":case"Model":break;default:if(r!=null)throw new Error(`invalid relief: ${r}`)}this.depth=t,this.relief=r,this.padding=o,this.offset=i,this.useTabs=n}static load(t){return new e(t)}serialize(){return{depth:this.depth,relief:this.relief,padding:this.padding,offset:this.offset,useTabs:this.useTabs}}isRelief(){switch(this.relief){case"Ellipse":case"Rectangle":case"Model":return!0;default:return!1}}},oye=fG;var hG=class e{constructor({x:t,y:r,z:o,safez:i}){y(this,"size");y(this,"safetyHeight");this.size={x:t,y:r,z:o},this.safetyHeight=i}static load(t){return new e(t)}serialize(){let{x:t,y:r,z:o}=this.size;return{x:t,y:r,z:o,safez:this.safetyHeight}}},iye=hG;var nye=P("three");var gG=class e{constructor(t,r){y(this,"mesh");y(this,"transform");y(this,"_vertices");if(!t.bbox().equals(r.bbox))throw new Error(`Model3d: mesh bbox ${t.bbox()} != transform bbox ${r.bbox}`);this.mesh=t,this.transform=r,this._vertices=t.vertices(r.matrix())}static load(t){let r=H3.load(t?.mesh);return r==null?null:new e(r,new Vp(r.bbox(),t.transform))}serialize(){return{mesh:this.mesh.serialize(),transform:this.transform.serialize()}}get vertices(){return this._vertices.clone()}surfaceMap(t,r,o){let i=this._vertices;return o!=0&&(i=i.transform(new nye.Matrix4().makeRotationZ(o))),Dw.sample(i,t,r,0)}},FM=gG;var yG=class e{constructor(t,r,o,i){y(this,"units");y(this,"material");y(this,"design");y(this,"passes");y(this,"resolution");y(this,"_modelBoundary");this.units=t,this.material=r,this.design=o,this.passes=i;let{finishing:n}=i;this.resolution=n.bitWidth*n.stepOver/2,this._modelBoundary=null}static load({material:t,design:r,passes:o}){return new e("in",iye.load(t),xG.load(r),bG.load(o))}serialize(){return{units:this.units,material:this.material.serialize(),design:this.design.serialize(),passes:this.passes.serialize()}}get clipBox(){let{material:{size:t,safetyHeight:r},design:{cutStyle:o}}=this,i=this.isCutout()?0:Math.max(t.z-o.depth,0),n=t.z+r;return new W9.Box3(new W9.Vector3(-1/0,-1/0,i),new W9.Vector3(1/0,1/0,n))}isCutout(){return this.design.cutStyle.relief==="None"}roughingPlanes(){return this.passes.roughing.zplanes(this.material.size.z,this.clipBox.min.z)}surfaceMap(){let{design:t,resolution:r,clipBox:o}=this;return t.model.surfaceMap(r,o.min.z,0)}tabSettings(){let{roughing:t}=this.passes;return{tabLength:.25+t.bitWidth,tabHeight:.08,tabWidth:4*this.finishingPadding()+t.bitWidth}}ensureTabsInfo(t){if(!this.design.cutStyle.useTabs)return null;if(this.design.tabsInfo==null){let r=this.tabSettings(),o=this.roughTrace(t),i=this.modelBoundary(t);this.design.tabsInfo=F9.defaults(r,o,i)}return this.design.tabsInfo}modelBoundary(t){if(this._modelBoundary==null){let r=t.bbox();r.min.z=this.clipBox.min.z;let o=t.vectorize(r,this.smoothTolerance());this._modelBoundary=fo.fromPointArrays(Qi.orientNested(o))}return this._modelBoundary}roughPadding(){return this.passes.roughing.bitWidth/2+this.finishingPadding()}roughTrace(t){return this.modelBoundary(t).expand(this.roughPadding())}roughBoundary(t){let r=this.passes.roughing.bitWidth/2;return this.roughTrace(t).contract(r)}finishingPadding(){return this.smoothTolerance()+this.passes.finishing.bitWidth/2}smoothTolerance(){return this.resolution*2}finishingStep(){let{bitWidth:t,stepOver:r}=this.passes.finishing;return t*r}},xG=class e{constructor(t,r,o){y(this,"cutStyle");y(this,"model");y(this,"tabsInfo");this.cutStyle=t,this.model=r,this.tabsInfo=o}static load({cutStyle:t,model:r,tabsInfo:o}){return new e(oye.load(t),FM.load(r),F9.load(o))}serialize(){return{cutStyle:this.cutStyle.serialize(),model:this.model?.serialize(),tabsInfo:this.tabsInfo?.serialize()}}},bG=class e{constructor(t,r){y(this,"roughing");y(this,"finishing");this.roughing=t,this.finishing=r}static load({roughing:t,finishing:r}){return new e(new vG(t),new SG(r))}serialize(){return{roughing:this.roughing.serialize(),finishing:this.finishing.serialize()}}},vG=class e{constructor({dpp:t,stepOver:r,bitWidth:o,feed:i,plunge:n}){y(this,"dpp");y(this,"stepOver");y(this,"bitWidth");y(this,"feed");y(this,"plunge");this.dpp=t,this.stepOver=r,this.bitWidth=o,this.feed=i,this.plunge=n}static load(t){return new e(t)}serialize(){return{dpp:this.dpp,stepOver:this.stepOver,bitWidth:this.bitWidth,feed:this.feed,plunge:this.plunge}}zplanes(t,r){let o=[];for(let i=r;i<t;i+=this.dpp)o.unshift(i);return o}},SG=class{constructor({stepOver:t,bitWidth:r,rasterAngle:o,feed:i,plunge:n}){y(this,"stepOver");y(this,"bitWidth");y(this,"rasterAngle");y(this,"feed");y(this,"plunge");this.stepOver=t,this.bitWidth=r,this.rasterAngle=o,this.feed=i,this.plunge=n}serialize(){return{stepOver:this.stepOver,bitWidth:this.bitWidth,rasterAngle:this.rasterAngle,feed:this.feed,plunge:this.plunge}}},WM=yG;var ipt={workpieceFromState(e){let t=re.bit(e),r=re.detailBit(e),o=ga(Vo.bitKeys.bit,e).getSettings(),i=ga(Vo.bitKeys.detailBit,e).getSettings(),n=Ge.getSafetyHeight(e),s=Ge.getStepOver(e),a=Ge.getBallnoseStepOver(e),l={stepOver:s,feed:o.feedRate,plunge:o.plungeRate,dpp:o.depthPerPass,bitWidth:rt(t).inchWidth()},c={stepOver:a,feed:i.feedRate,plunge:i.plungeRate,bitWidth:rt(r).inchWidth(),rasterAngle:Ge.getFillAngle(e,Vo.bitKeys.detailBit)||0};return WM.load({material:{...q.getMaterialDimensions(e),safez:n},design:{cutStyle:Ue.getCutStyle(e),model:{mesh:Ue.getMesh(e),transform:Ue.getTransform(e)},tabsInfo:Ue.getTabsInfo(e)},passes:{roughing:l,finishing:c}})}},A0=ipt;var CG=class extends Um.default.Component{constructor(t){super(t),this.state={show:!1,loading:!1},this.show=this.show.bind(this)}componentDidMount(){J.addListener("show-tabs-editor",this.show)}componentWillUnmount(){J.removeListener("show-tabs-editor",this.show)}show(){let{tabsInfo:t,setTabs:r}=this.props;if(t==null){let{workpieceId:o}=this.props;this.setState({loading:!0});let i=A0.workpieceFromState(N.store.getState());Qs.generateTabsInfo3D(i).then(n=>{r(o,n),this.setState({loading:!1})})}this.setState({show:!0})}render(){let{tabsInfo:t,updateTabs:r,roughWidth:o,finishWidth:i}=this.props;return Um.default.createElement(V9.Modal,{id:"tabs-editor-modal",size:"xl",show:this.state.show,onHide:()=>this.setState({show:!1})},Um.default.createElement(V9.Modal.Header,{closeButton:!0},Um.default.createElement(V9.Modal.Title,null,"Edit Tabs")),Um.default.createElement(V9.Modal.Body,null,this.state.loading?Um.default.createElement(Re,{size:50}):Um.default.createElement(Um.default.Fragment,null,Um.default.createElement(rye,{tabsInfo:F9.load(t),roughWidth:o,finishWidth:i,update:(n,s,a)=>{r(n,s,a)}}))))}},npt=ne({mapStateToProps:e=>({workpieceId:W.getActiveId(e),tabsInfo:Ue.getTabsInfo(e),roughWidth:Nt.bitSizeInches(e),finishWidth:Nt.detailBitSizeInches(e)}),mapDispatchToProps:e=>({setTabs(t,r){e(W.actions.setThreeDTabsInfo(t,r))},updateTabs(t,r,o){e(W.actions.updateThreeDTabsInfo(t,r,o))}}),component:CG}),sye=npt;var U0=M(P("react"),1),H9=P("react-redux"),G9=P("react-bootstrap");var zi=M(P("react"),1);var Rm=P("react-bootstrap"),hd=M(P("react"),1);var spt={tabs:{bits:"bits",materials:"materials",cutSettings:"cutSettings",machineProfiles:"machineProfiles",addInventablesBit:"addInventablesBit",addIDCWoodcraftBit:"addIDCWoodcraftBit",addAmanaBit:"addAmanaBit",addSpeToolBit:"addSpeToolBit",addWhitesideBit:"addWhitesideBit",addBitsBitsBit:"addBitsBitsBit",addInventablesMaterial:"addInventablesMaterial"}},Ye=spt;var PG=class extends hd.default.Component{getTabClasses(t){return t===this.props.activeTab?"toolbox__tab toolbox__tab--active":"toolbox__tab toolbox__tab--inactive"}render(){return hd.default.createElement(Rm.Nav,{activeKey:this.props.activeTab,onSelect:this.props.onActiveTabChange},hd.default.createElement(Rm.Nav.Item,null,hd.default.createElement(Rm.Nav.Link,{eventKey:Ye.tabs.bits,className:this.getTabClasses(Ye.tabs.bits),id:"bits-tab"},"Bits")),hd.default.createElement(Rm.Nav.Item,null,hd.default.createElement(Rm.Nav.Link,{eventKey:Ye.tabs.materials,className:this.getTabClasses(Ye.tabs.materials),id:"materials-tab"},"Materials")),hd.default.createElement(Rm.Nav.Item,null,hd.default.createElement(Rm.Nav.Link,{eventKey:Ye.tabs.cutSettings,className:this.getTabClasses(Ye.tabs.cutSettings),id:"cut-settings-tab"},"Cut Settings")),hd.default.createElement(Rm.Nav.Item,null,hd.default.createElement(Rm.Nav.Link,{eventKey:Ye.tabs.machineProfiles,className:this.getTabClasses(Ye.tabs.machineProfiles),id:"machine-profiles-tab"},"Machine Profiles")))}},aye=PG;var qn=M(P("react"),1);var U9=M(P("react"),1);var apt={Empty:0,Indeterminate:1,Checked:2},el=apt;function lpt({label:e,value:t,onChange:r}){let o=U9.default.useRef();return U9.default.useEffect(()=>{t===el.Checked?(o.current.checked=!0,o.current.indeterminate=!1):t===el.Empty?(o.current.checked=!1,o.current.indeterminate=!1):t===el.Indeterminate&&(o.current.checked=!1,o.current.indeterminate=!0)},[t]),U9.default.createElement("label",{className:"indeterminate-checkbox"},U9.default.createElement("input",{ref:o,type:"checkbox",onChange:r}),e)}var lye=lpt;var Tc=M(P("react"),1);function VM({className:e,children:t}){return Tc.default.createElement("div",{className:`data-container ${e||""} d-flex flex-column overflow-hidden`},t)}function cpt({contentLeft:e,contentRight:t}){return Tc.default.createElement("div",{className:"d-flex justify-content-between"},Tc.default.createElement("div",{className:"d-flex align-items-center data-container__header__group"},e),Tc.default.createElement("div",{className:"d-flex data-container__header__group"},t))}function upt({loading:e,errors:t,children:r}){return Tc.default.createElement("div",{className:"flex-fill mb-3 mt-4 overflow-auto"},(t?.length>0||!r)&&Tc.default.createElement("div",{className:"data-container__errors d-flex flex-column justify-content-center align-items-center"},t?.length>0&&t.map((o,i)=>Tc.default.createElement("p",{key:`data-container-error-${i}`},o)),!r&&Tc.default.createElement("p",null,"Missing content prop")),(e||r?.length===0)&&Tc.default.createElement("div",{className:"data-container__no-content d-flex w-100 justify-content-center align-items-center pt-5"},e&&Tc.default.createElement(Re,null),!e&&(!r||r?.length===0)&&Tc.default.createElement("p",null,"No data.")),r)}function ppt({headerCheckboxState:e,onHeaderCheckboxStateChange:t}){return Tc.default.createElement("div",{className:"data-container__header__checkbox"},Tc.default.createElement(lye,{value:e,onChange:t}))}VM.Header=cpt;VM.Content=upt;VM.Header.Checkbox=ppt;var Xo=VM;var fu=M(P("react"),1);var UM=M(P("react"),1);function dpt(e){let{editAction:t,deleteAction:r,targetRef:o}=e;return UM.default.createElement("div",{className:"d-flex align-items-end"},UM.default.createElement("i",{ref:o,"data-testid":"edit-button",className:`bi bi-pencil easel-icon easel-icon--button${t?"":"-hidden"}`,"aria-hidden":"true",onClick:t}),UM.default.createElement("i",{className:"bi bi-trash ms-2 easel-icon easel-icon--button","aria-hidden":"true",onClick:r}))}var I0=dpt;var wG=M(P("react"),1);function mpt({url:e,trackingEvent:t,trackingData:r,utmContent:o,utmCampaign:i,children:n}){if(!e)return null;let s=()=>{t&&H.trackEvent(t,r)},a=new URL(e);a.searchParams.append("utm_source","easel"),a.searchParams.append("utm_medium","inapp"),o&&a.searchParams.append("utm_content",o),i&&a.searchParams.append("utm_campaign",i);let l=a.toString();return wG.default.createElement("a",{href:l,target:"_blank",rel:"noreferrer",onClick:s,className:"d-inline-flex align-items-center"},wG.default.createElement("img",{src:EASEL_ASSETS.images.shoppingCartIcon,className:"me-2"}),n)}var hp=mpt;var fpt=({bit:e,onEditBit:t,onDeleteBit:r,selected:o,onSelectedChange:i})=>{let n=fu.default.useRef(),{bitType:s,width:a,angle:l}=Nt.getBitProperties(e),c=e.source===Js.USER_ADDED_CUSTOM,u=()=>{t?.(n)};return fu.default.createElement("tr",{className:"user-bit-list__row"},fu.default.createElement("td",null,fu.default.createElement("input",{className:"me-3",type:"checkbox",checked:o,onChange:i}),fu.default.createElement("img",{className:"user-bit-list__row__image",src:e.imageURL}),e.name),fu.default.createElement("td",null,s),fu.default.createElement("td",{className:"text-end"},a),fu.default.createElement("td",{className:"text-end"},l||"---"),fu.default.createElement("td",null,e.storeURL&&fu.default.createElement(hp,{url:e.storeURL,trackingEvent:U.toolbox.purchase,trackingData:{tab:Ye.tabs.bits,bit:e.name},utmContent:"toolbox-bit"})),fu.default.createElement("td",null,fu.default.createElement(I0,{editAction:c?u:null,deleteAction:r,targetRef:n})))},cye=fpt;var D0=M(P("react"),1);var Na=M(P("react"),1);var Ph=M(P("react"),1);var tl=M(P("prop-types"),1),Da=M(P("react"),1),hu=P("react-bootstrap");function uye({menuContents:e,toggle:t,drop:r,onToggle:o,targetRef:i}){return Da.default.createElement(hu.Dropdown,{drop:r,onToggle:o,className:"icon-dropdown"},Da.default.createElement(hu.Dropdown.Toggle,{as:t,ref:i,variant:"link"},Da.default.createElement("i",{className:"bi bi-three-dots-vertical","aria-hidden":"true"})),Da.default.createElement(hu.Dropdown.Menu,null,Da.default.createElement(hpt,{menuContents:e})))}function hpt({menuContents:e}){return Da.default.createElement(Da.default.Fragment,null,(typeof e=="function"?e():e).map(t=>t===null?Da.default.createElement(hu.Dropdown.Divider,{key:"divider"}):Da.default.createElement(Da.default.Fragment,{key:t.label},t.submenu?Da.default.createElement(hu.Dropdown,{key:t.label,align:"start",drop:"end"},Da.default.createElement(hu.Dropdown.Toggle,{as:hu.Anchor,className:"icon-dropdown__submenu-toggle dropdown-item"},t.label),Da.default.createElement(hu.Dropdown.Menu,null,t.submenu.map(r=>r===null?Da.default.createElement(hu.Dropdown.Divider,{key:"divider"}):Da.default.createElement(hu.Dropdown.Item,{key:r.label,onClick:()=>{t.callback(r.value)}},r.label)))):Da.default.createElement(hu.Dropdown.Item,{onClick:t.callback},t.label))))}uye.propTypes={menuContents:tl.default.oneOfType([tl.default.arrayOf(tl.default.oneOfType([tl.default.shape({label:tl.default.string.isRequired,submenu:tl.default.arrayOf(tl.default.oneOfType([tl.default.shape({label:tl.default.string.isRequired,value:tl.default.any.isRequired}),tl.default.oneOf([null])])),callback:tl.default.func.isRequired}),tl.default.oneOf([null])])),tl.default.func]).isRequired,toggle:tl.default.elementType};var pye=uye;function gpt({className:e,title:t,menuContents:r,imageUrl:o,imageAltText:i,description:n,footer:s,targetRef:a}){return Ph.default.createElement("div",{className:`card easel-card ${e||""}`},Ph.default.createElement("div",{className:"card-body d-flex flex-column"},t&&Ph.default.createElement("div",{className:"easel-card__title d-flex justify-content-between mb-2"},t,r&&Ph.default.createElement(pye,{menuContents:r,targetRef:a})),o&&Ph.default.createElement("div",{className:"easel-card__image d-flex justify-content-center align-items-center mb-2"},Ph.default.createElement("img",{src:o,alt:i})),n&&Ph.default.createElement("div",{className:"easel-card__description d-flex justify-content-between"},n)),s&&Ph.default.createElement("div",{className:"card-footer easel-card__footer d-flex"},s))}var RM=gpt;var Ag=M(P("react"),1);function ypt({bitTypeInfo:e}){let{tooltip:t,supportArticleTitle:r,supportArticleUrl:o}=e;return t?Ag.default.createElement(Ag.default.Fragment,null,t,r&&o&&Ag.default.createElement(Ag.default.Fragment,null,Ag.default.createElement("br",null),Ag.default.createElement("a",{href:o,target:"_blank",rel:"noreferrer"},r))):null}var jM=ypt;var _G=class extends Na.default.Component{render(){let{bit:t,menuContents:r,footer:o,targetRef:i}=this.props,{bitType:n,width:s,angle:a}=Nt.getBitProperties(t),l=Nt.bitTypeInfo(t.groupName),c=jM({bitTypeInfo:l}),u=Na.default.createElement(Na.default.Fragment,null,Na.default.createElement("div",{className:"d-flex"},Na.default.createElement("div",{className:"me-2"},n),c&&Na.default.createElement(rn,{id:"bit-description",placement:"top",popoverTitle:l.title,popoverContent:c},Na.default.createElement("i",{className:"bi bi-question-circle-fill easel-card__icon"}))),Na.default.createElement("div",{className:"d-flex"},a?Na.default.createElement("div",null,Na.default.createElement("img",{className:"easel-card__icon",src:EASEL_ASSETS.images.angleIcon})):Na.default.createElement("div",null,Na.default.createElement("img",{className:"easel-card__icon",src:EASEL_ASSETS.images.dimensionIcon})),Na.default.createElement("div",{className:"ms-2"},a||s)));return Na.default.createElement(Na.default.Fragment,null,Na.default.createElement(RM,{className:`bit-card ${this.props.className||""}`,title:t.name,menuContents:r,targetRef:i,imageUrl:t.imageURL,imageAltText:t.name,description:u,footer:o}))}},GM=_G;function xpt({bit:e,onEditBit:t,onDeleteBit:r,selected:o,onSelectedChange:i}){let n=D0.default.useRef();return D0.default.createElement(GM,{className:"toolbox-bit-card",bit:e,menuContents:e.source!==Js.USER_ADDED_CUSTOM?[{label:"Delete",callback:()=>r()}]:[{label:"Edit",callback:()=>t(n)},{label:"Delete",callback:()=>r()}],targetRef:n,footer:D0.default.createElement(D0.default.Fragment,null,D0.default.createElement("div",null,e.storeURL?D0.default.createElement(hp,{url:e.storeURL,trackingEvent:U.toolbox.purchase,trackingData:{tab:Ye.tabs.bits,bit:e.name},utmContent:"toolbox-bit"},Nt.decodeBitSource(e.source)):Nt.decodeBitSource(e.source)),D0.default.createElement("input",{className:"ms-3",type:"checkbox",checked:o,onChange:i}))})}var dye=xpt;var kG=class{constructor(t){this.filters=t||[]}filterFn(t){return this.filters.length===0?!0:this.filters.every(r=>r.filterFn(t))}},mye=kG;var TG=class{constructor(t,r,o,i){this.id=t,this.displayName=r,this.field=o,this.value=i}getField(t){return typeof this.field=="function"?this.field(t):t[this.field]}filterFn(t){return this.getField(t)?.toLowerCase()?.includes(this.value?.toLowerCase())}},HM=TG;var EG=class{constructor(t,r,o,i){this.id=t,this.displayName=r,this.field=o,this.value=i}getField(t){return typeof this.field=="function"?this.field(t):t[this.field]}filterFn(t){return this.getField(t)===this.value}},w6=EG;var MG=class{constructor(t){this.filters=t||[]}filterFn(t){return this.filters.length===0?!0:this.filters.some(r=>r.filterFn(t))}},fye=MG;var AG=class{constructor(t,r,o,i){this.id=t,this.displayName=r,this.field=o,this.value=i}getField(t){return typeof this.field=="function"?this.field(t):t[this.field]}filterFn(t){return this.getField(t)?.includes(this.value)}},hye=AG;var IG=class{constructor(t){this.type=t}getFilterGroups(t){switch(this.type){case"bits":return this.getBitFilterGroups(t);case"materials":return this.getMaterialFilterGroups(t)}}getBitFilterGroups(t){let r=[...new Set(t.map(s=>s.color?.toLowerCase()).filter(s=>s))],o=[{key:"1/4",value:.25},{key:"1/8",value:.125},{key:"1/16",value:.0625},{key:"1/32",value:.03125}],i=[30,60,90];return[{id:"bit-type",displayName:"Bit Type",options:Object.keys(qe).map(s=>new w6(`bit-type-${s}`,qe[s],"groupName",qe[s]))},{id:"bit-width",displayName:"Bit Width",options:o.map(s=>new w6(`bit-width-${s.value}`,`${s.key}"`,"diameter",s.value))},{id:"bit-angle",displayName:"Bit Angle",options:i.map(s=>new w6(`bit-angle-${s}`,`${s} degrees`,"tipAngle",s))},{id:"ring-color",displayName:"Ring Color",options:r.map(s=>new w6(`ring-color-${s}`,s,a=>a.color?.toLowerCase(),s))}]}getMaterialFilterGroups(t){let r=[...new Set(t.map(n=>n.category).filter(n=>n))],o=[...new Set(t.map(n=>n.colors||[]).flat(1).filter(n=>n))];return[{id:"material-type",displayName:"Material Type",options:r.map(n=>new w6(`material-type-${n}`,n,"category",n))},...o.length>0?[{id:"material-color",displayName:"Material Color",options:o.map(n=>new hye(`material-color-${n}`,n,s=>s?.colors,n))}]:[]]}buildGroupLogic(t,r,o){let i=[];return t.forEach(n=>{let s=n.options.map(l=>l.id),a=r.filter(l=>s.includes(l.id));a.length!==0&&i.push(new fye(a))}),o&&i.push(this.getSearchFilter(o)),new mye(i)}getSearchFilter(t){if(t)switch(this.type){case"bits":return new HM("search-filter","SEACH","name",t);case"materials":return new HM("search-filter","SEACH","displayName",t);case"machine-profiles":return new HM("search-filter","SEACH","name",t);default:return}}},jm=IG;var DG=class{constructor(t){this.type=t}getDefaultSorting(){switch(this.type){case"bits":return["name"];case"materials":return["displayName"];case"cut-settings":return["machineProfile","bit","material"];case"machine-profiles":return["name"]}}getSortFunctions(t){let r=[];return t.forEach(o=>{switch(this.type){case"bits":switch(o){case"name":case"type":r.push(this.simpleStringSort(o));break;case"width":case"tipAngle":r.push(this.simpleNumberSort(o));break}break;case"materials":switch(o){case"displayName":case"category":r.push(this.simpleStringSort(o));break}break;case"cut-settings":switch(o){case"feedRate":case"plungeRate":case"depthPerPass":case"spindleSpeed":r.push(this.simpleNumberSort(o));break;case"machineProfile":r.push((i,n)=>{let s=i.machineProfile?.name||"",a=n.machineProfile?.name||"";return s.localeCompare(a)});break;case"bit":r.push((i,n)=>{let s=i.bit?.name||"",a=n.bit?.name||"";return s.localeCompare(a)});break;case"material":r.push((i,n)=>{let s=i.material?.name||"",a=n.material?.name||"";return s.localeCompare(a)});break}break;case"machine-profiles":switch(o){case"name":r.push(this.simpleStringSort(o));break;case"createdAt":r.push(this.simpleDateSort(o));break}break}}),r}simpleStringSort(t){return(r,o)=>{let i=r[t].toLowerCase(),n=o[t].toLowerCase();return i.localeCompare(n)}}simpleNumberSort(t){return(r,o)=>{let i=r[t],n=o[t];return i-n}}simpleDateSort(t){return(r,o)=>{let i=r[t],n=o[t];return new Date(i)-new Date(n)}}},gp=DG;function bpt(e,t,r){return[...e].sort((o,i)=>{let n=0;return t.every(s=>(n=s(o,i),n===0)),r?n:n*-1})}var yp=bpt;var NG=class{removeUnknownIds(t,r){let o=t.map(n=>n.id);return r.filter(n=>o.includes(n))}getHeaderCheckboxState(t,r){return r.length===0?el.Empty:r.length===t.length?el.Checked:el.Indeterminate}onHeaderCheckboxStateChange(t,r){return r.length!==t.length?t.map(o=>o.id):[]}onSelectedChange(t,r){let o=t.indexOf(r);return o>=0?t.splice(o,1):t.push(r),t}},Fs=new NG;var R9=M(P("prop-types"),1);var Gm=M(P("react"),1);function gye({value:e,onValueChange:t,trackingEvent:r,trackingProperties:o}){let[i,n]=(0,Gm.useState)(e),[s,a]=(0,Gm.useState)(null),l=u=>{let p=u.target.value;n(p),a(c(p))},c=(0,Gm.useCallback)(ha(u=>{t(u),u&&r&&H.trackEvent(r,{...o,search:u})},500),[r]);return(0,Gm.useEffect)(()=>()=>clearTimeout(s),[s]),Gm.default.createElement("div",{className:"search-box"},Gm.default.createElement("input",{type:"search",name:"search-box",placeholder:"Search",value:i,onChange:l}))}gye.propTypes={value:R9.default.string,onValueChange:R9.default.func.isRequired,trackingEvent:R9.default.string,trackingProperties:R9.default.object};var Hm=gye;var _6=P("react-bootstrap"),Ec=M(P("react"),1);var Oa=M(P("react"),1),OG=class extends Oa.default.Component{constructor(t){super(t),this.state={selectedFilterGroup:t.filterGroups&&t.filterGroups.length>0?t.filterGroups[0]:null},this.buttonRef=Oa.default.createRef()}toggleOption(t){let{selectedFilterOptions:r,onSelectedFilterOptionsChange:o}=this.props,i=r.findIndex(n=>n.id===t.id);i>=0?r.splice(i,1):r.push(t),o(r)}onClearFilters(){let{onSelectedFilterOptionsChange:t}=this.props;t([])}render(){let{selectedFilterGroup:t}=this.state,{filterGroups:r,selectedFilterOptions:o}=this.props,i=o.map(n=>n.id);return Oa.default.createElement(Oa.default.Fragment,null,Oa.default.createElement("div",{className:"d-flex"},Oa.default.createElement("div",{className:"filter-selector__groups"},Oa.default.createElement("ul",null,r.map(n=>{let s=n.options.filter(a=>i.includes(a.id)).length;return Oa.default.createElement("li",{key:n.id},Oa.default.createElement("button",{className:t&&t.id===n.id?"filter-selector__groups--selected":"",onClick:()=>this.setState({selectedFilterGroup:n})},n.displayName," ",s>0?` (${s})`:""))}))),Oa.default.createElement("div",{className:"filter-selector__options"},Oa.default.createElement("ul",null,t&&t.options.map((n,s)=>{let a=o.find(l=>l.id===n.id)||"";return Oa.default.createElement("li",{key:n.id},Oa.default.createElement("input",{className:"form-check-input me-2",type:"checkbox",id:`filter-check-${s}`,onChange:()=>this.toggleOption(n),checked:a,value:a}),Oa.default.createElement("label",{className:"form-check-label",htmlFor:`filter-check-${s}`},n.displayName))})))),Oa.default.createElement("div",{className:"d-flex justify-content-center py-2 filter-selector__clear"},Oa.default.createElement("button",{className:"btn btn-light clear-filters",disabled:o.length===0,onClick:()=>this.onClearFilters()},"Clear Filters")))}},yye=OG;var LG=class extends Ec.default.Component{constructor(t){super(t),this.state={showingFilterOptions:!1,selectedFilterGroup:t.filterGroups&&t.filterGroups.length>0?t.filterGroups[0]:null},this.buttonRef=Ec.default.createRef()}onHideOverlay(){this.setState({showingFilterOptions:!1})}render(){let{showingFilterOptions:t}=this.state,{filterGroups:r,selectedFilterOptions:o,onSelectedFilterOptionsChange:i}=this.props;return Ec.default.createElement(Ec.default.Fragment,null,Ec.default.createElement("button",{ref:this.buttonRef,className:"btn filter-selector__trigger",onClick:()=>this.setState({showingFilterOptions:!0})},Ec.default.createElement("i",{className:"bi bi-funnel me-2"}),"Filter",o&&o.length>0?` (${o.length})`:""),Ec.default.createElement(_6.Overlay,{show:t,target:this.buttonRef,placement:"bottom",rootClose:!0,onHide:()=>this.onHideOverlay()},Ec.default.createElement(_6.Popover,{className:"filter-selector__overlay"},Ec.default.createElement(_6.Popover.Header,{className:"d-flex justify-content-between"},Ec.default.createElement("div",null,"Filters"),Ec.default.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:()=>this.onHideOverlay()})),Ec.default.createElement(_6.Popover.Body,null,Ec.default.createElement(yye,{filterGroups:r,selectedFilterOptions:o,onSelectedFilterOptionsChange:i})))))}},N0=LG;var k6=M(P("react"),1);function vpt({isList:e,onToggle:t}){let r=t&&typeof t=="function";return k6.default.createElement("div",{className:"view-toggle"},(r||e)&&k6.default.createElement("button",{className:`btn view-toggle__button ${e?"view-toggle__button--active":"view-toggle__button--inactive"}`,id:"view-toggle-list",role:"toggle-list",disabled:!r,onClick:r&&!e?t:void 0},k6.default.createElement("span",{className:"bi bi-list-ul view-toggle__icon"})),(r||!e)&&k6.default.createElement("button",{className:`btn view-toggle__button ${e?"view-toggle__button--inactive":"view-toggle__button--active"}`,role:"toggle-card",id:"view-toggle-card",disabled:!r,onClick:r&&e?t:void 0},k6.default.createElement("span",{className:"bi bi-grid-3x3-gap view-toggle__icon"})))}var xp=vpt;var zM=M(P("react"),1),BG=class extends zM.default.Component{render(){let{isAscending:t,onToggle:r}=this.props;return zM.default.createElement("button",{className:"btn sort-toggle",onClick:r},zM.default.createElement("i",{className:`bi bi-sort-alpha-${t?"down":"down-alt"} me-2`}),"Sort")}},bp=BG;var T6=P("react-bootstrap"),Ig=M(P("react"),1),Spt=e=>{let t={modifiers:[{name:"arrow",options:{padding:8}}]};return Ig.default.createElement(T6.Overlay,{show:e.show,target:e.targetRef,rootClose:!0,placement:"bottom-end",flip:!0,popperConfig:t,onHide:e.onHideOverlay},Ig.default.createElement(T6.Popover,{className:"custom-overlay"},Ig.default.createElement(T6.Popover.Header,{className:"d-flex justify-content-between"},Ig.default.createElement("div",null,e.title),Ig.default.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:e.onHideOverlay})),Ig.default.createElement(T6.Popover.Body,null,e.children)))},O0=Spt;var co=M(P("react"),1);var Cpt=({bit:e,errors:t,preferredUnit:r,onSubmit:o,saving:i})=>{let[n,s]=co.default.useState(""),[a,l]=co.default.useState(""),[c,u]=co.default.useState(.125),[p,m]=co.default.useState(60),[h,f]=co.default.useState(r||"in");co.default.useEffect(()=>{e&&(s(e.name),l(e.type),u(e.diameter),f(e.unit),m(e.tipAngle))},[e]);let x=()=>Object.values(qe),v=(w,_)=>{u(w),f(_)},b=w=>{w.preventDefault();let _={name:n,diameter:c,unit:h,groupName:a,...a===qe.v&&{tipAngle:p},source:Js.USER_ADDED_CUSTOM};o(_)},S=h==="in"?3:2;return co.default.createElement(co.default.Fragment,null,co.default.createElement("form",{className:"row g-3",onSubmit:w=>b(w)},co.default.createElement("div",{className:"col-md-4 w-100"},co.default.createElement("label",{htmlFor:"bit-name",className:"form-label"},"Name"),co.default.createElement("input",{type:"text",className:"form-control",autoComplete:"off",id:"bit-name",placeholder:"Name your bit",required:!0,value:n,onChange:w=>s(w.target.value)}),co.default.createElement("div",{className:"invalid-feedback"},n||"Please choose a name.")),co.default.createElement("div",{className:"col-md-4 w-100"},co.default.createElement("label",{htmlFor:"bit-type",className:"form-label"},"Bit Type"),co.default.createElement("select",{className:"form-select",id:"bit-type",onChange:w=>l(w.target.value),required:!0,value:a},co.default.createElement("option",{disabled:!0,value:""},a||"Select bit type"),x().map(w=>co.default.createElement("option",{key:w,value:w},w)))),a&&co.default.createElement("div",{className:"col-md-4 w-100"},co.default.createElement("label",{htmlFor:"bit-cutting-diameter",className:"form-label"},"Cutting Diameter"),co.default.createElement(Eo,{value:c,unit:h,showUnit:!0,precision:S,id:"bit-cutting-diameter",onChange:(w,_)=>v(w,_)}),t.length>0&&co.default.createElement(co.default.Fragment,null,t.map((w,_)=>co.default.createElement("p",{className:"text-danger",key:_}," ",w," ")))),a===qe.v&&co.default.createElement("div",{className:"col-md-4 w-100"},co.default.createElement("label",{htmlFor:"bit-v-angle",className:"form-label"},"Angle"),co.default.createElement("input",{type:"number",className:"form-control",id:"bit-v-angle",min:"1",max:"179",required:!0,value:p,onChange:w=>m(Number(w.target.value))}),co.default.createElement("div",{className:"invalid-feedback"},p||"Please choose a v-bit angle.")),co.default.createElement("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end"},co.default.createElement("button",{className:"btn btn-primary save_button",type:"submit",disabled:i},"Save"))))},XM=Cpt;var L0=M(P("react"),1);function Ppt({headers:e,children:t,sortFields:r,onSortFieldsChange:o,isAscending:i,onSortToggle:n}){let s=a=>{r.indexOf(a)>=0&&n(),o([a])};return L0.default.createElement("div",{className:"table-responsive table-border overflow-auto h-100 data-container__list"},L0.default.createElement("table",{className:"table easel-table"},e&&L0.default.createElement("thead",null,L0.default.createElement("tr",null,e.map(({label:a,width:l,className:c,sortField:u},p)=>{let m=a||`th-${p}`,h={...l&&{width:l},className:c||""},f,x;if(o&&u){f=()=>s(u),h.className+=" easel-table__sortable-header";let v="fa-sort";r?.indexOf(u)>=0&&(v+=i?"-asc":"-desc"),x=L0.default.createElement("i",{className:`ms-2 fa ${v}`,"aria-hidden":"true"})}return L0.default.createElement("th",{...h,key:m,onClick:f},a,x)}))),L0.default.createElement("tbody",null,t)))}var B0=Ppt;var xye=M(P("react"),1);function wpt(e){return xye.default.createElement("div",{className:`easel-cards-grid ${e.className||""} d-flex flex-wrap justify-content-start`},e.children)}var F0=wpt;var bye=[{store_id:"30435",name:"Black on Neon Yellow Laserable ABS Sheet",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24896/big_grid/Black%20on%20Neon%20Yellow%20Laserable%20Acrylic%20Sheet.jpg?1398192698",store_url:"https://site.inventables.com/technologies/black-on-neon-yellow-laserable-abs-sheet",colors:["Black","Yellow"],source:"inventables"},{store_id:"30434",name:"Black on Neon Green Laserable ABS Sheet",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24895/big_grid/Black%20on%20Neon%20Green%20Laserable%20Acrylic%20Sheet.jpg?1398191706",store_url:"https://site.inventables.com/technologies/black-on-neon-green-laserable-abs-sheet",colors:["Black","Green"],source:"inventables"},{store_id:"30433",name:"Black on Neon Orange Laserable ABS Sheet",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24894/big_grid/Black%20on%20Neon%20Orange%20Laserable%20Acrylic%20Sheet.jpg?1398190644",store_url:"https://site.inventables.com/technologies/black-on-neon-orange-laserable-abs-sheet",colors:["Black","Orange"],source:"inventables"},{store_id:"25282",name:"White ABS Plastic Sheet",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/23653/big_grid/White%20ABS%2025282-02.jpg?1366644095",store_url:"https://site.inventables.com/technologies/white-abs-plastic-sheet",colors:["White"],source:"inventables"},{store_id:"25077",name:"Black ABS Plastic Sheet",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/23652/big_grid/Black%20ABS%2025077-02.jpg?1366643907",store_url:"https://site.inventables.com/technologies/black-abs-plastic-sheet",colors:["Black"],source:"inventables"},{store_id:"30376",name:"Green HDPE Sheet",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24809/big_grid/12796695514_709f2a48fa_o.jpg?1393468516",store_url:"https://site.inventables.com/technologies/green-hdpe-sheet",colors:["Green"],source:"inventables"},{store_id:"30374",name:"Red HDPE Sheet",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24816/big_grid/Red%20HDPE.jpg?1394055486",store_url:"https://site.inventables.com/technologies/red-hdpe-sheet",colors:["Red"],source:"inventables"},{store_id:"30373",name:"Two-Color HDPE - Yellow on Black",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24833/big_grid/Yellow%20on%20black.jpg?1394816222",store_url:"https://site.inventables.com/technologies/two-color-hdpe-yellow-on-black",colors:["Black","Yellow"],source:"inventables"},{store_id:"30372",name:"Two-Color HDPE - Black on Yellow",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24807/big_grid/12796697314_9a29550fef_o.jpg?1393468396",store_url:"https://site.inventables.com/technologies/two-color-hdpe-black-on-yellow",colors:["Black","Yellow"],source:"inventables"},{store_id:"30370",name:"Two-Color HDPE - Brown on White",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24805/big_grid/12796696114_89f35b200b_o.jpg?1393468202",store_url:"https://site.inventables.com/technologies/two-color-hdpe-brown-on-white",colors:["Brown","White"],source:"inventables"},{store_id:"30369",name:"Two-Color HDPE - White on Blue",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24827/big_grid/White%20on%20blue.jpg?1394815941",store_url:"https://site.inventables.com/technologies/two-color-hdpe-white-on-blue",colors:["Blue","White"],source:"inventables"},{store_id:"30368",name:"Two-Color HDPE - Blue on White",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24803/big_grid/12796696504_de47f1c31c_o.jpg?1393468004",store_url:"https://site.inventables.com/technologies/two-color-hdpe-blue-on-white",colors:["Blue","White"],source:"inventables"},{store_id:"30367",name:"Two-Color HDPE - White on Red",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24801/big_grid/12796682994_443d155d41_o.jpg?1393467783",store_url:"https://site.inventables.com/technologies/two-color-hdpe-white-on-red",colors:["Red","White"],source:"inventables"},{store_id:"30366",name:"Two-Color HDPE - Red on White",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24800/big_grid/12796704674_9c97e6413f_o.jpg?1393467625",store_url:"https://site.inventables.com/technologies/two-color-hdpe-red-on-white",colors:["Red","White"],source:"inventables"},{store_id:"30364",name:"Two-Color HDPE - White on Green",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24798/big_grid/12796390243_9df95d9bc7_o.jpg?1393467440",store_url:"https://site.inventables.com/technologies/two-color-hdpe-white-on-green",colors:["Green","White"],source:"inventables"},{store_id:"30363",name:"Two-Color HDPE - Green on White",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24796/big_grid/12796300905_cf93d4582e_o.jpg?1393467295",store_url:"https://site.inventables.com/technologies/two-color-hdpe-green-on-white",colors:["Green","White"],source:"inventables"},{store_id:"30291",name:"Two-Color HDPE - White on Black",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24637/big_grid/White%20on%20Black.jpg?1386266222",store_url:"https://site.inventables.com/technologies/two-color-hdpe-white-on-black",colors:["Black","White"],source:"inventables"},{store_id:"30290",name:"Two-Color HDPE - Black on White",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24636/big_grid/12796302165_c70197f7f3_o.jpg?1393466967",store_url:"https://site.inventables.com/technologies/two-color-hdpe-black-on-white",colors:["Black","White"],source:"inventables"},{store_id:"25279",name:"Natural HDPE Sheet",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24037/big_grid/Natural%20HDPE%20New.jpg?1373579321",store_url:"https://site.inventables.com/technologies/natural-hdpe-sheet",colors:["White"],source:"inventables"},{store_id:"25278",name:"Black HDPE Sheet",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24038/big_grid/Black%20HDPE%20New.jpg?1373579410",store_url:"https://site.inventables.com/technologies/black-hdpe-sheet",colors:["Black"],source:"inventables"},{store_id:"30450",name:"Grey Expanded PVC Sheet",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24930/big_grid/30450greyPVCsheet.jpg?1399647878",store_url:"https://site.inventables.com/technologies/grey-expanded-pvc-sheet",colors:["Grey"],source:"inventables"},{store_id:"30449",name:"Green Expanded PVC Sheet",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24977/big_grid/30449-01greenPVCsheet.JPG?1402678279",store_url:"https://site.inventables.com/technologies/green-expanded-pvc-sheet",colors:["Green"],source:"inventables"},{store_id:"30448",name:"Yellow Expanded PVC Sheet",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24933/big_grid/30448yellowPVCsheet.jpg?1400012696",store_url:"https://site.inventables.com/technologies/yellow-expanded-pvc-sheet",colors:["Yellow"],source:"inventables"},{store_id:"30447",name:"Blue Expanded PVC Sheet",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24932/big_grid/30447bluePVCsheet.jpg?1400012627",store_url:"https://site.inventables.com/technologies/blue-expanded-pvc-sheet",colors:["Blue"],source:"inventables"},{store_id:"30446",name:"Red Expanded PVC Sheet",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24931/big_grid/30446redPVCsheet.jpg?1400012505",store_url:"https://site.inventables.com/technologies/red-expanded-pvc-sheet",colors:["Red"],source:"inventables"},{store_id:"30445",name:"Black Expanded PVC Sheet",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24929/big_grid/30445blackPVCsheet.jpg?1399647816",store_url:"https://site.inventables.com/technologies/black-expanded-pvc-sheet",colors:["Black"],source:"inventables"},{store_id:"30444",name:"White Expanded PVC Sheet",category:"Plastic",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24928/big_grid/30444whitePVCsheet.jpg?1399647450",store_url:"https://site.inventables.com/technologies/white-expanded-pvc-sheet",colors:["White"],source:"inventables"},{store_id:"30180",name:"Padauk",category:"Wood",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24171/big_grid/Padauk%20New.jpg?1376584558",store_url:"https://site.inventables.com/technologies/padauk--2",species:"Padauk",source:"inventables"},{store_id:"25769",name:"Purpleheart",category:"Wood",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24086/big_grid/Purpleheart.jpg?1374180129",store_url:"https://site.inventables.com/technologies/purpleheart",species:"Purpleheart",source:"inventables"},{store_id:"25768",name:"African Mahogany Wood",category:"Wood",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/25026/big_grid/africanmahogany.JPG?1407937487",store_url:"https://site.inventables.com/technologies/african-mahogany-wood",species:"African Mahogany",source:"inventables"},{store_id:"30179",name:"Red Oak",category:"Wood",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24285/big_grid/Red%20Oak%20Final.jpg?1379512930",store_url:"https://site.inventables.com/technologies/red-oak--4",species:"Red Oak",source:"inventables"},{store_id:"25771",name:"Soft Maple - Hardwood Type",category:"Wood",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/23569/big_grid/softmaple-highres_zpscf5064e3.jpg?1364564311",store_url:"https://site.inventables.com/technologies/soft-maple-hardwood-type",species:"Maple",source:"inventables"},{store_id:"25767",name:"Hard Maple",category:"Wood",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/23575/big_grid/hard_maple.jpg?1364564893",store_url:"https://site.inventables.com/technologies/hard-maple--2",species:"Maple",source:"inventables"},{store_id:"25369",name:"Walnut",category:"Wood",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/23577/big_grid/walnut-highres_zps39967409.jpg?1364565057",store_url:"https://site.inventables.com/technologies/walnut--3",species:"Walnut",source:"inventables"},{store_id:"25315",name:"Cherry Wood",category:"Wood",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/23571/big_grid/cherry-highres_zps07df394f.jpg?1364564456",store_url:"https://site.inventables.com/technologies/cherry-wood",species:"Cherry",source:"inventables"},{store_id:"30466",name:"Red MDF Sheet",category:"Wood",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/25012/big_grid/30466-01redMDFsheet.jpg?1406214965",store_url:"https://site.inventables.com/technologies/red-mdf-sheet",colors:["Red"],source:"inventables"},{store_id:"30465",name:"Orange MDF Sheet",category:"Wood",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/25013/big_grid/30465-01orangeMDFsheet.jpg?1406215007",store_url:"https://site.inventables.com/technologies/orange-mdf-sheet",colors:["Orange"],source:"inventables"},{store_id:"30464",name:"Yellow MDF Sheet",category:"Wood",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/25014/big_grid/30464-01yellowMDFsheet.jpg?1406215052",store_url:"https://site.inventables.com/technologies/yellow-mdf-sheet",colors:["Yellow"],source:"inventables"},{store_id:"30463",name:"Black MDF Sheet",category:"Wood",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/25015/big_grid/30463-01blackMDFsheet.jpg?1406215080",store_url:"https://site.inventables.com/technologies/black-mdf-sheet",colors:["Black"],source:"inventables"},{store_id:"30462",name:"Grey MDF Sheet",category:"Wood",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/25016/big_grid/30462-01greyMDFsheet.jpg?1406215108",store_url:"https://site.inventables.com/technologies/grey-mdf-sheet",colors:["Grey"],source:"inventables"},{store_id:"25290",name:"MDF Wood",category:"Wood",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/23214/big_grid/MDFwood-single-.5inch.jpg?1352935631",store_url:"https://site.inventables.com/technologies/mdf-wood",source:"inventables"},{store_id:"25802",name:"Baltic Birch Plywood",category:"Wood",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24307/big_grid/Baltic%20Birch.jpg?1380570137",store_url:"https://site.inventables.com/technologies/baltic-birch-plywood--2",species:"Baltic Birch",source:"inventables"},{store_id:"25797",name:"Maple Plywood (Rotary)",category:"Wood",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24303/big_grid/Maple.jpg?1380569745",store_url:"https://site.inventables.com/technologies/maple-plywood-rotary",species:"Maple",source:"inventables"},{store_id:"25796",name:"Cherry Plywood",category:"Wood",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24302/big_grid/Cherry.jpg?1380569640",store_url:"https://site.inventables.com/technologies/cherry-plywood--2",species:"Cherry",source:"inventables"},{store_id:"25371",name:"Bamboo Plywood",category:"Wood",image_url:"https://dzevsq2emy08i.cloudfront.net/paperclip/technology_image_uploaded_images/24151/big_grid/Bamboo%20Plywood.jpg?1375898070",store_url:"https://site.inventables.com/technologies/bamboo-plywood",species:"Bamboo",source:"inventables"}];var kpt=e=>{let t=JSON.stringify({material:{name:e.name,category:e.category,display_name:e.displayName,width_x:e.widthX,length_y:e.lengthY,thickness_z:e.thicknessZ,image_url:e.imageUrl,store_id:e.storeId,store_url:e.storeUrl,source:e.source}});return kt("/toolbox/materials",t)},Tpt=e=>Yl(`/toolbox/materials/${e.id}`),Ept=e=>{let t=JSON.stringify({material:{name:e.name,category:e.category,display_name:e.displayName,width_x:e.widthX,length_y:e.lengthY,thickness_z:e.thicknessZ,image_url:e.imageUrl,store_id:e.storeId,store_url:e.storeUrl,color:e.color,source:e.source}});return pa(`/toolbox/materials/${e.id}`,t)},Mpt=()=>bye.map(ot.toCamelCase),Apt={createMaterial:kpt,deleteMaterial:Tpt,updateMaterial:Ept,loadInventablesMaterials:Mpt},wh=Apt;var Ipt={_sliceProperties:{undoable:!1},isToolboxModalOpen:!1,defaultToolboxModalTab:"bits",bitsBySource:Kp.loadBitsBySource(),inventablesMaterials:wh.loadInventablesMaterials(),isBitViewList:!1,isMaterialViewList:!1},vye=We({name:"toolbox",initialState:Ipt,reducers:{openToolboxModal(e,{payload:t}){e.isToolboxModalOpen=!0,e.defaultToolboxModalTab=t??"bits"},closeToolboxModal(e){e.isToolboxModalOpen=!1},setIsBitViewList(e,{payload:t}){e.isBitViewList=t},setIsMaterialViewList(e,{payload:t}){e.isMaterialViewList=t}}}),Dpt={isToolboxModalOpen:e=>e.toolbox.isToolboxModalOpen,defaultToolboxModalTab:e=>e.toolbox.defaultToolboxModalTab,bitsBySource:e=>e.toolbox.bitsBySource,inventablesBits:e=>e.toolbox.bitsBySource.inventables,idcWoodcraftBits:e=>e.toolbox.bitsBySource.idc_woodcraft,amanaBits:e=>e.toolbox.bitsBySource.amana,speToolBits:e=>e.toolbox.bitsBySource.spetool,whitesideBits:e=>e.toolbox.bitsBySource.whiteside,bitsBitsBits:e=>e.toolbox.bitsBySource.bitsbits,inventablesMaterials:e=>e.toolbox.inventablesMaterials,isBitViewList:e=>e.toolbox.isBitViewList,isMaterialViewList:e=>e.toolbox.isMaterialViewList},Npt={actions:vye.actions,reducer:vye.reducer,...Dpt},En=Npt;var FG=class extends qn.default.Component{constructor(t){super(t),this.filterFactory=new jm("bits"),this.sortFactory=new gp("bits"),this.state={search:"",isAscending:!0,selectedFilterOptions:[],selectedIds:[],sortFields:this.sortFactory.getDefaultSorting(),showEditOverlay:!1,bitToEdit:null,errors:[],currentRef:null,savingBit:!1}}componentDidUpdate(){let{selectedIds:t}=this.state,r=Fs.removeUnknownIds(this.props.bits,t);r.length!==t.length&&this.setState({selectedIds:r})}onViewToggle(){let{setIsBitViewList:t,isList:r}=this.props;this.setState({errors:[],showEditOverlay:!1}),H.trackEvent(U.toolbox.toggleViewType,{tab:Ye.tabs.bits,isList:!r}),t(!r)}onSortToggle(){this.setState(t=>({isAscending:!t.isAscending,errors:[],showEditOverlay:!1}))}onSearchChange(t){this.setState({search:t,selectedIds:[]})}onSelectedFilterOptionsChange(t){t.length>0&&H.trackEvent(U.toolbox.filtered,{tab:Ye.tabs.bits,filters:t.map(r=>r.id)}),this.setState({selectedFilterOptions:t,selectedIds:[]})}getHeaderCheckboxState(){let{selectedIds:t}=this.state,r=this.getBits();return Fs.getHeaderCheckboxState(r,t)}onHeaderCheckboxStateChange(){let{selectedIds:t}=this.state,r=this.getBits();this.setState({selectedIds:Fs.onHeaderCheckboxStateChange(r,t)})}onSelectedChange(t){let{selectedIds:r}=this.state;this.setState({selectedIds:Fs.onSelectedChange(r,t)})}getBits(){let{search:t,isAscending:r,selectedFilterOptions:o,sortFields:i}=this.state,{bits:n}=this.props,s=this.filterFactory.buildGroupLogic(this.getFilterGroups(),o,t),a=this.sortFactory.getSortFunctions(i),l=n.filter(c=>s.filterFn(c));return yp(l,a,r)}getFilterGroups(){let{bits:t}=this.props;return this.filterFactory.getFilterGroups(t)}onDeleteSelected(){let{selectedIds:t}=this.state,{bits:r}=this.props;if(t.length!==0){if(H.trackEventOnce(U.toolbox.bulkAction,{tab:Ye.tabs.bits,action:"delete"}),t.length===1)return this.onDeleteBit(r.find(o=>o.id===t[0]));As("Delete Bits?",`Are you sure you want to delete these ${t.length} bits?`,()=>t.forEach(o=>this.deleteBit({id:o})))}}onDeleteBit(t){As(`Delete ${t.name}?`,"This will permanently delete the bit.",()=>this.deleteBit(t))}handleEditBit(t){let{bitToEdit:r}=this.state,o=le(r,t);this.editBit(o)}handleShowEditOverlay(t,r){this.setState({bitToEdit:t,showEditOverlay:!0,currentRef:r})}handleHideEditOverlay(){this.setState({bitToEdit:null,showEditOverlay:!1,errors:[]})}deleteBit({id:t}){Kp.deleteBit(t).then(()=>{this.props.deleteBit(t)}).catch(()=>{Fe("Unable to delete bit","Please refresh your browser and try again.")})}editBit(t){this.setState({savingBit:!0}),Kp.updateBit(t.id,t).then(r=>{this.props.updateBit(r),this.handleHideEditOverlay(),this.setState({savingBit:!1})}).catch(r=>{this.setState({errors:r.responseJSON.errors,savingBit:!1})})}render(){let{isList:t,preferredUnit:r}=this.props,{search:o,isAscending:i,selectedFilterOptions:n,selectedIds:s,showEditOverlay:a,bitToEdit:l,errors:c,currentRef:u,sortFields:p,savingBit:m}=this.state,h=this.getBits(),f=this.getHeaderCheckboxState(),x=h.map(v=>({key:v.id,bit:v,onEditBit:b=>this.handleShowEditOverlay(v,b),onDeleteBit:()=>this.onDeleteBit(v),selected:s.includes(v.id),onSelectedChange:()=>this.onSelectedChange(v.id),preferredUnit:r}));return qn.default.createElement(Xo,{className:"toolbox-bits"},qn.default.createElement(Xo.Header,{contentLeft:qn.default.createElement(qn.default.Fragment,null,qn.default.createElement(Xo.Header.Checkbox,{headerCheckboxState:f,onHeaderCheckboxStateChange:()=>this.onHeaderCheckboxStateChange()}),qn.default.createElement(Hm,{value:o,onValueChange:v=>this.onSearchChange(v),trackingEvent:U.toolbox.search,trackingProperties:{tab:Ye.tabs.bits}}),qn.default.createElement(N0,{filterGroups:this.getFilterGroups(),selectedFilterOptions:n,onSelectedFilterOptionsChange:v=>this.onSelectedFilterOptionsChange(v)})),contentRight:qn.default.createElement(qn.default.Fragment,null,f!==el.Empty&&qn.default.createElement("button",{className:"btn btn-danger delete_button",onClick:()=>this.onDeleteSelected()},"Delete"),qn.default.createElement(xp,{isList:t,onToggle:()=>this.onViewToggle()}),qn.default.createElement(bp,{isAscending:i,onToggle:()=>this.onSortToggle()}))}),qn.default.createElement(Xo.Content,null,t&&qn.default.createElement(B0,{headers:[{label:"Bit Name",sortField:"name"},{width:150,label:"Type",sortField:"type"},{width:150,className:"text-end",label:"Cut Dimension",sortField:"width"},{width:150,className:"text-end",label:"Angle",sortField:"tipAngle"},{width:50,label:""},{width:50,label:""}],sortFields:p,onSortFieldsChange:v=>this.setState({sortFields:v}),isAscending:i,onSortToggle:()=>this.onSortToggle()},x.map(v=>qn.default.createElement(cye,{key:v.key,...v}))),!t&&qn.default.createElement(F0,{className:"data-container__card-grid"},x.map(v=>qn.default.createElement(dye,{key:v.key,...v}))),qn.default.createElement(O0,{title:"Edit Custom Bit",show:a,targetRef:u,onHideOverlay:()=>this.handleHideEditOverlay()},qn.default.createElement(XM,{bit:l,errors:c,preferredUnit:r,onSubmit:v=>this.handleEditBit(v),saving:m}))))}},Opt=ne({mapStateToProps:function(e){return{isList:En.isBitViewList(e),bits:re.bits(e),preferredUnit:Me.getPreferredUnit(e)}},mapDispatchToProps(e){return{deleteBit(t){e(re.actions.deleteBit(t)),e(re.actions.deleteBit(t))},updateBit(t){e(re.actions.updateBit(t))},setIsBitViewList(t){e(En.actions.setIsBitViewList(t))}}},component:FG}),Sye=Opt;var un=M(P("react"),1);var WG=class extends un.default.Component{constructor(t){super(t),this.state={showingCustomForm:!1,errors:[],savingBit:!1},this.buttonRef=un.default.createRef()}componentDidMount(){this.setState({errors:[]})}addInventablesBit(){this.props.showAddInventablesBit()}onShowOverlay(){this.setState({showingCustomForm:!0})}hideOverlay(){this.setState({showingCustomForm:!1,errors:[]})}handleAddBit(t){this.setState({savingBit:!0}),Kp.addBit(t).then(r=>(this.props.addBit(r),this.hideOverlay(),this.setState({savingBit:!1}),t)).then(r=>{let{name:o,groupName:i,diameter:n,unit:s,source:a,tipAngle:l}=r;this.props.trackProjectEvent(U.proContent.customBitAdded,{"Bit Name":o,"Bit Type":i,"Bit Diameter":n,Unit:s,Source:Nt.decodeBitSource(a),Angle:l})}).catch(r=>{this.setState({errors:r.responseJSON.errors,savingBit:!1})})}render(){let{preferredUnit:t}=this.props,{showingCustomForm:r,errors:o,savingBit:i}=this.state;return un.default.createElement("div",{className:"dropdown"},un.default.createElement("button",{type:"button",className:"btn btn-primary action_button dropdown-toggle",id:"add-bits-dropdown","data-bs-toggle":"dropdown","aria-expanded":"false",ref:this.buttonRef},"Add Bits"),un.default.createElement("ul",{className:"dropdown-menu "},un.default.createElement("li",null,un.default.createElement("a",{className:"dropdown-item",role:"button",onClick:()=>this.props.onActiveTabChange(Ye.tabs.addAmanaBit)},"Amana Tools")),un.default.createElement("li",null,un.default.createElement("a",{className:"dropdown-item",role:"button",onClick:()=>this.props.onActiveTabChange(Ye.tabs.addBitsBitsBit)},"Bits&Bits")),un.default.createElement("li",null,un.default.createElement("a",{className:"dropdown-item",role:"button",onClick:()=>this.props.onActiveTabChange(Ye.tabs.addIDCWoodcraftBit)},"IDC Woodcraft")),un.default.createElement("li",null,un.default.createElement("a",{className:"dropdown-item",role:"button",onClick:()=>this.props.onActiveTabChange(Ye.tabs.addInventablesBit)},"Inventables")),un.default.createElement("li",null,un.default.createElement("a",{className:"dropdown-item",role:"button",onClick:()=>this.props.onActiveTabChange(Ye.tabs.addSpeToolBit)},"SpeTool")),un.default.createElement("li",null,un.default.createElement("a",{className:"dropdown-item",role:"button",onClick:()=>this.props.onActiveTabChange(Ye.tabs.addWhitesideBit)},"Whiteside")),un.default.createElement("li",{className:"dropdown-divider"}),un.default.createElement("li",null,un.default.createElement("a",{className:"dropdown-item",role:"button",onClick:()=>this.onShowOverlay()},"Custom"))),un.default.createElement(O0,{title:"Add Custom Bit",show:r,targetRef:this.buttonRef,onHideOverlay:()=>this.hideOverlay()},un.default.createElement(XM,{errors:o,preferredUnit:t,onSubmit:n=>this.handleAddBit(n),saving:i})))}},Lpt=ne({mapDispatchToProps:e=>({addBit(t){e(re.actions.addBit(t))},trackProjectEvent(t,r){e(Bt(t,r))}}),mapStateToProps:e=>({preferredUnit:Me.getPreferredUnit(e)}),component:WG}),Cye=Lpt;var rl=M(P("react"),1);var W0=M(P("react"),1);var Bpt=({machineProfile:e,cutSettings:t,selected:r,onSelectedChange:o,onUninstallMachineProfile:i})=>{let n=()=>t.filter(s=>s.machineProfileId===e.id).length;return W0.default.createElement("tr",{className:"machine-profiles-list-row"},W0.default.createElement("td",null,W0.default.createElement("input",{className:"me-3",type:"checkbox",checked:r,onChange:o}),e.name),W0.default.createElement("td",null,e.createdAt?ai.formatDate(new Date(e.createdAt)):"---"),W0.default.createElement("td",null,n()),W0.default.createElement("td",null,W0.default.createElement(I0,{deleteAction:i})))},Pye=Bpt;var VG=class extends rl.default.Component{constructor(t){super(t),this.filterFactory=new jm("machine-profiles"),this.sortFactory=new gp("machine-profiles"),this.state={search:"",isAscending:!0,sortFields:this.sortFactory.getDefaultSorting(),selectedIds:[]}}componentDidUpdate(){let{selectedIds:t}=this.state,r=Fs.removeUnknownIds(this.props.machineProfiles,t);r.length!==t.length&&this.setState({selectedIds:r})}onSortToggle(){this.setState({isAscending:!this.state.isAscending})}onSearchChange(t){this.setState({search:t,selectedIds:[]})}getHeaderCheckboxState(){let{selectedIds:t}=this.state,r=this.getMachineProfiles();return Fs.getHeaderCheckboxState(r,t)}onHeaderCheckboxStateChange(){let{selectedIds:t}=this.state,r=this.getMachineProfiles();this.setState({selectedIds:Fs.onHeaderCheckboxStateChange(r,t)})}onSelectedChange(t){let{selectedIds:r}=this.state;this.setState({selectedIds:Fs.onSelectedChange(r,t)})}getMachineProfiles(){let{search:t,isAscending:r,sortFields:o}=this.state,{machineProfiles:i}=this.props,n=this.filterFactory.getSearchFilter(t),s=this.sortFactory.getSortFunctions(o),a=n?i.filter(l=>n.filterFn(l)):i;return yp(a,s,r)}uninstallSelected(){let{selectedIds:t}=this.state,{machineProfiles:r}=this.props;if(t.length!==0){if(H.trackEvent(U.toolbox.bulkAction,{tab:Ye.tabs.machineProfiles,action:"delete"}),t.length===1)return this.onUninstallMachineProfile(r.find(o=>o.id===t[0]));As("Delete machine profiles?",`You are about to delete these ${t.length} machine proflies. This action cannot be undone.`,()=>t.forEach(o=>this.uninstallMachineProfile({id:o})))}}onUninstallMachineProfile(t){As("Delete machine profile?",`This will permanently delete the "${t.name}" machine profile. You will have to setup the machine again to use it with Easel.`,()=>this.uninstallMachineProfile(t))}uninstallMachineProfile({id:t}){H.trackEvent(U.machineProfileUninstalled),Hs.destroy(t).then(r=>{this.props.deleteMachineProfile(r)}).catch(function(r){Ut(`Unable to uninstall machine: ${r.responseJSON.errors}`)})}render(){let{cutSettings:t}=this.props,{search:r,isAscending:o,selectedIds:i,sortFields:n}=this.state,s=this.getMachineProfiles(),a=this.getHeaderCheckboxState();return rl.default.createElement(Xo,{className:"toolbox-machine-profiles"},rl.default.createElement(Xo.Header,{contentLeft:rl.default.createElement(rl.default.Fragment,null,rl.default.createElement(Xo.Header.Checkbox,{headerCheckboxState:a,onHeaderCheckboxStateChange:()=>this.onHeaderCheckboxStateChange()}),rl.default.createElement(Hm,{value:r,onValueChange:l=>this.onSearchChange(l),trackingEvent:U.toolbox.search,trackingProperties:{tab:Ye.tabs.machineProfiles}})),contentRight:rl.default.createElement(rl.default.Fragment,null,a!==el.Empty&&rl.default.createElement("button",{className:"btn btn-danger delete_button",onClick:()=>this.uninstallSelected()},"Uninstall"),rl.default.createElement(xp,{isList:!0}),rl.default.createElement(bp,{isAscending:o,onToggle:()=>this.onSortToggle()}))}),rl.default.createElement(Xo.Content,null,rl.default.createElement(B0,{headers:[{label:"Name",sortField:"name"},{width:125,label:"Added",sortField:"createdAt"},{width:185,label:"Saved Cut Settings"},{width:50,label:""}],sortFields:n,onSortFieldsChange:l=>this.setState({sortFields:l}),isAscending:o,onSortToggle:()=>this.onSortToggle()},s.map(l=>rl.default.createElement(Pye,{key:l.id,selected:i.includes(l.id),onSelectedChange:()=>this.onSelectedChange(l.id),machineProfile:l,cutSettings:t,onUninstallMachineProfile:()=>this.onUninstallMachineProfile(l)})))))}},Fpt=ne({mapStateToProps:e=>({machineProfiles:et.getMachineProfiles(e),cutSettings:Wi.getCutSettings(e)}),mapDispatchToProps(e){return{deleteMachineProfile(t){e(et.actions.deleteMachineProfile(t))}}},component:VG}),wye=Fpt;var Ws=M(P("react"),1);var Mc=M(P("react"),1);var UG=class extends Mc.default.Component{convertUnitDisplay(t){let{unit:r}=this.props;return`${Ve.convertFromIn(t,r)} ${r}`}getMachineName(){let{cutSetting:t}=this.props;return t.machineProfile?t.machineProfile.name:t.machineProfileId!=null?"DELETED":"N/A"}getBitName(){let{cutSetting:t}=this.props;return t.bit?.name||"DELETED"}getMaterialName(){let{cutSetting:t}=this.props;return t.material?.name||"DELETED"}render(){let{cutSetting:t,onDeleteCutSetting:r,selected:o,onSelectedChange:i,onEditCutSetting:n}=this.props;return Mc.default.createElement("tr",{className:"cut-settings-list-row"},Mc.default.createElement("td",{title:this.getMachineName()},Mc.default.createElement("input",{className:"me-3",type:"checkbox",checked:o,onChange:i}),this.getMachineName()),Mc.default.createElement("td",{title:this.getBitName()},this.getBitName()),Mc.default.createElement("td",{title:this.getMaterialName()},this.getMaterialName()),Mc.default.createElement("td",{className:"text-end"},this.convertUnitDisplay(t.feedRate),"/min"),Mc.default.createElement("td",{className:"text-end"},this.convertUnitDisplay(t.plungeRate),"/min"),Mc.default.createElement("td",{className:"text-end"},this.convertUnitDisplay(t.depthPerPass)),Mc.default.createElement("td",{className:"text-end"},t.spindleSpeed?t.spindleSpeed+" RPM":"-"),Mc.default.createElement("td",{title:t.notes},t.notes?t.notes:"-"),Mc.default.createElement("td",null,Mc.default.createElement(I0,{editAction:n,deleteAction:r})))}},_ye=UG;var hr=M(P("react"),1);var RG=class extends hr.default.Component{constructor(t){super(t),this.state=this.getState()}getState(){let{cutSetting:t}=this.props;return{machineProfileId:this.getMachineId(),bit:this.getBitId(),materialId:this.getMaterialId(),feedRate:t.feedRate,plungeRate:t.plungeRate,depthPerPass:t.depthPerPass,spindleSpeed:t.spindleSpeed?t.spindleSpeed:0,notes:t.notes?t.notes:"",validationErrors:[]}}getMachineId(){return this.props.cutSetting.machineProfile?this.props.cutSetting.machineProfile.id:""}getBitId(){return this.props.cutSetting.bit?.id||""}getMaterialId(){return this.props.cutSetting.material?.id||""}getMachineProfile(t){return this.props.machineProfiles.find(r=>r.id===t)||{}}updateMachineProfile(t){let{spindleSpeed:r}=this.state,o=parseInt(t.target.value),i=this.getMachineProfile(o),n=r;i&&!bt.supportsSpindleSpeed(i,i.settings?.router.model,i.settings?.router.automatic_spindle)&&(n=null),this.setState({machineProfileId:o,spindleSpeed:n})}convertUnit(t,r){return Ve.convertToUnit(t,r,"in")}onChangeFeedRate(t,r){let o=this.convertUnit(t,r);this.setState({feedRate:o})}onChangePlungeRate(t,r){let o=this.convertUnit(t,r);this.setState({plungeRate:o})}onChangeDepth(t,r){let o=this.convertUnit(t,r);this.setState({depthPerPass:o})}validateForm(){let{feedRate:t,plungeRate:r,depthPerPass:o,machineProfileId:i,spindleSpeed:n}=this.state,s=this.getMachineProfile(i),a=[];return t<=0&&a.push("Feed Rate must be greater than zero."),r<=0&&a.push("Plunge Rate must be greater than zero."),o<=0&&a.push("Depth Per Pass must be greater than zero."),i||a.push("Please select a machine profile to use with these cut settings"),bt.supportsSpindleSpeed(s,s.settings?.router.model,s.settings?.router.automatic_spindle)&&(n==null||n<=0)&&a.push("Spindle Speed is required and it should be greater than zero."),this.setState({validationErrors:a}),a.length===0}onSubmit(){this.validateForm()&&this.props.onSubmit(this.state)}render(){let{machineProfileId:t,bit:r,materialId:o,feedRate:i,plungeRate:n,depthPerPass:s,spindleSpeed:a,notes:l,validationErrors:c}=this.state,{onCancel:u,bits:p,preferredUnit:m,machineProfiles:h,serverErrors:f,saving:x,materials:v}=this.props,b=`${m}/min`,S=this.getMachineProfile(t);return hr.default.createElement(hr.default.Fragment,null,hr.default.createElement("tr",{className:"edit-cut-settings-list-row edit-cut-settings-list-row__fields"},hr.default.createElement("td",null,hr.default.createElement("select",{id:"edit-cs-machine-profile",className:"form-select",onChange:w=>this.updateMachineProfile(w),required:!0,value:t},hr.default.createElement("option",{disabled:!0,value:""},"Select machine"),h.map(w=>hr.default.createElement("option",{key:w.id,value:w.id},w.name)))),hr.default.createElement("td",null,hr.default.createElement("select",{id:"edit-cs-bit",className:"form-select",onChange:w=>this.setState({bit:w.target.value}),required:!0,value:r},hr.default.createElement("option",{disabled:!0,value:""},"Select bit"),p.map(w=>hr.default.createElement("option",{key:w.id,value:w.id},w.name)))),hr.default.createElement("td",null,hr.default.createElement("select",{id:"edit-cs-material",className:"form-select",onChange:w=>this.setState({materialId:w.target.value}),required:!0,value:o},hr.default.createElement("option",{disabled:!0,value:""},"Select material"),v.map(w=>hr.default.createElement("option",{key:w.id,value:w.id},w.name)))),hr.default.createElement("td",null,hr.default.createElement(Eo,{id:"edit-cs-feed-rate",className:"input-styling__dimensional-input form-control",value:i,unit:"in",displayUnit:b,precision:1,onChange:(w,_)=>this.onChangeFeedRate(w,_),showUnit:!0})),hr.default.createElement("td",null,hr.default.createElement(Eo,{id:"edit-cs-plunge-rate",className:"input-styling__dimensional-input form-control",value:n,unit:"in",displayUnit:b,precision:1,onChange:(w,_)=>this.onChangePlungeRate(w,_),showUnit:!0})),hr.default.createElement("td",null,hr.default.createElement(Eo,{id:"edit-cs-depth-per-pass",className:"input-styling__dimensional-input form-control",value:s,unit:"in",displayUnit:m,onChange:(w,_)=>this.onChangeDepth(w,_),showUnit:!0})),!!t&&hr.default.createElement("td",null," ",bt.supportsSpindleSpeed(S,S.settings?.router.model,S.settings?.router.automatic_spindle)&&hr.default.createElement("input",{id:"edit-cs-spindle-speed",type:"number",className:"input-styling__dimensional-input form-control",step:"100",value:a,onChange:w=>this.setState({spindleSpeed:w.target.value})}),!bt.supportsSpindleSpeed(S,S.settings?.router.model,S.settings?.router.automatic_spindle)&&hr.default.createElement("input",{type:"text",id:"spindle-speed-disabled",className:"input-styling__dimensional-input form-control",placeholder:"N/A",disabled:!0})),!t&&hr.default.createElement("td",null,hr.default.createElement("input",{type:"text",id:"spindle-speed-disabled",className:"input-styling__dimensional-input form-control",placeholder:"N/A",disabled:!0})),hr.default.createElement("td",{colSpan:"2"},hr.default.createElement("input",{id:"edit-cs-cut-settings-note",type:"textarea",className:"input-styling form-control",placeholder:"Add a note",value:l,onChange:w=>this.setState({notes:w.target.value})}))),hr.default.createElement("tr",null,hr.default.createElement("td",{colSpan:"7"},(f.length>0||c.length>0)&&hr.default.createElement("ul",{className:"edit-cut-settings-list-row__errors text-danger"},f.map((w,_)=>hr.default.createElement("li",{key:`se-${_}`},w)),c.map((w,_)=>hr.default.createElement("li",{key:`ve-${_}`},w)))),hr.default.createElement("td",{colSpan:"2",className:"edit-cut-settings-list-row__buttons"},hr.default.createElement("button",{type:"button",className:"btn","data-action":"cancel",onClick:u}," Cancel "),hr.default.createElement("button",{type:"button",className:"btn btn-primary","data-action":"save",onClick:w=>this.onSubmit(w),disabled:x}," Save "))))}},Wpt=ne({mapStateToProps:e=>({bits:re.bits(e),preferredUnit:Me.getPreferredUnit(e),machineProfiles:et.getMachineProfiles(e),materials:q.getAllMaterials(e)}),component:RG}),kye=Wpt;var jG=class extends Ws.default.Component{constructor(t){super(t),this.sortFactory=new gp("cut-settings"),this.state={isAscending:!0,sortFields:this.sortFactory.getDefaultSorting(),selectedIds:[],editingId:null,errors:[],savingCutSetting:!1}}componentDidUpdate(){let{selectedIds:t}=this.state,r=Fs.removeUnknownIds(this.props.cutSettings,t);r.length!==t.length&&this.setState({selectedIds:r})}onSortToggle(){this.setState({isAscending:!this.state.isAscending})}getHeaderCheckboxState(){let{selectedIds:t}=this.state,r=this.getCutSettings();return Fs.getHeaderCheckboxState(r,t)}onHeaderCheckboxStateChange(){let{selectedIds:t}=this.state,r=this.getCutSettings();this.setState({selectedIds:Fs.onHeaderCheckboxStateChange(r,t)})}onSelectedChange(t){let{selectedIds:r}=this.state;this.setState({selectedIds:Fs.onSelectedChange(r,t)})}getCutSettings(){let{isAscending:t,sortFields:r}=this.state,o=this.getHydratedCutSettings(),i=this.sortFactory.getSortFunctions(r);return yp(o,i,t)}getHydratedCutSettings(){let{cutSettings:t,machineProfiles:r,bits:o,materials:i}=this.props;return t.map(n=>({...n,machineProfile:r.find(s=>s.id===n.machineProfileId),bit:o.find(s=>s.id===n.bitId),material:i.find(s=>s.id===n.materialId)}))}onDeleteSelected(){let{selectedIds:t}=this.state,{cutSettings:r}=this.props;if(t.length!==0){if(H.trackEvent(U.toolbox.bulkAction,{tab:Ye.tabs.cutSettings,action:"delete"}),t.length===1)return this.onDeleteCutSetting(r.find(o=>o.id===t[0]));As("Delete Cut Settings?",`Are you sure you want to delete these ${t.length} cut settings?`,()=>t.forEach(o=>this.deleteCutSetting({id:o})))}}onDeleteCutSetting(t){As("Delete cut setting?","This will permanently delete the cut setting.",()=>this.deleteCutSetting(t))}deleteCutSetting({id:t}){N.store.dispatch(Wi.deleteCutSetting(t)).then(r=>{r.error&&Ut(`Error deleting cut settings: ${r.error.message}`)})}onEditCutSetting(t){this.setState({editingId:t.id})}saveEditCutSetting(t,r){this.setState({savingCutSetting:!0});let o={id:r.id,machineProfileId:t.machineProfileId,bitId:t.bit,materialId:t.materialId,feedRate:t.feedRate,plungeRate:t.plungeRate,depthPerPass:t.depthPerPass,spindleSpeed:t.spindleSpeed,notes:t.notes};N.store.dispatch(Wi.updateCutSetting(o)).then(i=>{i.error?this.setState({errors:[i.error.message],savingCutSetting:!1}):this.setState({editingId:null,errors:[],savingCutSetting:!1})})}render(){let{unit:t}=this.props,{selectedIds:r,editingId:o,errors:i,sortFields:n,isAscending:s,savingCutSetting:a}=this.state,l=this.getCutSettings(),c=this.getHeaderCheckboxState();return Ws.default.createElement(Xo,{className:"toolbox-cut-settings"},Ws.default.createElement(Xo.Header,{contentLeft:Ws.default.createElement(Ws.default.Fragment,null,Ws.default.createElement(Xo.Header.Checkbox,{headerCheckboxState:c,onHeaderCheckboxStateChange:()=>this.onHeaderCheckboxStateChange()}),Ws.default.createElement("a",{target:"_blank",rel:"noreferrer",onClick:u=>u.stopPropagation(),href:"https://inventables.zendesk.com/hc/en-us/articles/360012848433-Calculating-Your-Cut-Settings-Basic-Feeds-and-Speeds-Information"},Ws.default.createElement("i",{className:"bi bi-question-circle-fill"})),Ws.default.createElement("small",null," How to Calculate Cut Settings")),contentRight:Ws.default.createElement(Ws.default.Fragment,null,c!==el.Empty&&Ws.default.createElement("button",{className:"btn btn-danger delete_button",onClick:()=>this.onDeleteSelected()},"Delete"),Ws.default.createElement(xp,{isList:!0}),Ws.default.createElement(bp,{isAscending:s,onToggle:()=>this.onSortToggle()}))}),Ws.default.createElement(Xo.Content,null,Ws.default.createElement(B0,{headers:[{width:150,label:"Machine",sortField:"machineProfile"},{width:150,label:"Bit",sortField:"bit"},{width:150,label:"Material",sortField:"material"},{width:125,className:"text-end",label:"Feed Rate",sortField:"feedRate"},{width:125,className:"text-end",label:"Plunge Rate",sortField:"plungeRate"},{width:150,className:"text-end",label:"Depth Per Pass",sortField:"depthPerPass"},{width:125,className:"text-end",label:"Spindle Speed",sortField:"spindleSpeed"},{width:150,label:"Notes"},{width:50,label:""}],sortFields:n,onSortFieldsChange:u=>this.setState({sortFields:u}),isAscending:s,onSortToggle:()=>this.onSortToggle()},l.map(u=>u.id===o?Ws.default.createElement(kye,{key:u.id,selected:r.includes(u.id),cutSetting:u,unit:t,serverErrors:i,onCancel:()=>this.setState({editingId:null}),onSubmit:p=>this.saveEditCutSetting(p,u),saving:a}):Ws.default.createElement(_ye,{key:u.id,selected:r.includes(u.id),onSelectedChange:()=>this.onSelectedChange(u.id),cutSetting:u,unit:t,onDeleteCutSetting:()=>this.onDeleteCutSetting(u),onEditCutSetting:()=>this.onEditCutSetting(u)})))))}},Vpt=ne({mapStateToProps:e=>({cutSettings:Wi.getCutSettings(e),unit:Me.getPreferredUnit(e),machineProfiles:et.getMachineProfiles(e),materials:q.getAllMaterials(e),bits:re.bits(e)}),mapDispatchToProps:e=>({updateCutSetting:t=>e(Wi.actions.updateCutSetting(t))}),component:jG}),Tye=Vpt;var $n=M(P("react"),1);var vp=M(P("react"),1);var Upt=({material:e,onEditMaterial:t,onDeleteMaterial:r,selected:o,onSelectedChange:i,preferredUnit:n})=>{let s=vp.default.useRef(),a=()=>{t?.(s)},l=()=>e.widthX&&e.lengthY?Ve.formatDimensions([e.widthX,e.lengthY,e.thicknessZ],n):"",c=`${e.displayName}`,u=e.source===Js.USER_ADDED_CUSTOM;return vp.default.createElement("tr",{className:"materials-list__row"},vp.default.createElement("td",null,vp.default.createElement("input",{className:"me-3",type:"checkbox",checked:o,onChange:i}),vp.default.createElement("img",{className:"materials-list__row__image",src:e.imageURL,alt:`image of ${c}`}),c),vp.default.createElement("td",null,e.category),vp.default.createElement("td",null,l()),vp.default.createElement("td",null,e.storeUrl&&vp.default.createElement(hp,{url:e.storeUrl,trackingEvent:U.toolbox.purchase,trackingData:{tab:Ye.tabs.materials,material:e.displayName},utmContent:"toolbox-material"})),vp.default.createElement("td",null,vp.default.createElement(I0,{editAction:u?a:null,deleteAction:r,targetRef:s})))},Eye=Upt;var V0=M(P("react"),1);var _h=M(P("react"),1);var GG=class extends _h.default.Component{render(){let{material:t,preferredUnit:r,menuContents:o,footer:i,targetRef:n}=this.props,s=`${t.displayName}`,a=t.widthX&&t.lengthY&&t.thicknessZ?Ve.formatDimensions([t.widthX,t.lengthY,t.thicknessZ],r):_h.default.createElement(_h.default.Fragment,null,"\xA0"),l=_h.default.createElement(_h.default.Fragment,null,_h.default.createElement("div",{className:"flex-fill"},a),_h.default.createElement("div",null,t.category)),c=t.imageURL||t.imageUrl;return _h.default.createElement(RM,{className:`material-card ${this.props.className||""}`,title:s,menuContents:o,targetRef:n,imageUrl:c,imageAltText:s,description:l,footer:i})}},YM=GG;var Rpt=({material:e,onEditMaterial:t,onDeleteMaterial:r,selected:o,onSelectedChange:i,preferredUnit:n})=>{let s=V0.default.useRef();return V0.default.createElement(YM,{className:"material-card",material:e,menuContents:e.source!==Js.USER_ADDED_CUSTOM?[{label:"Delete",callback:()=>r()}]:[{label:"Edit",callback:()=>t(s)},{label:"Delete",callback:()=>r(e)}],targetRef:s,preferredUnit:n,footer:V0.default.createElement(V0.default.Fragment,null,V0.default.createElement("div",{className:`${e.storeUrl?"":"shop-link--hidden"}`},V0.default.createElement(hp,{url:e.storeUrl,trackingEvent:U.toolbox.purchase,trackingData:{tab:Ye.tabs.materials,material:e.displayName},utmContent:"toolbox-material",utmCampaign:"toolboxv2"})),V0.default.createElement("input",{className:"ms-3",type:"checkbox",checked:o,onChange:i}))})},Mye=Rpt;var sr=M(P("react"),1);var jpt=({material:e,errors:t,onSubmit:r,onClearErrors:o,saving:i})=>{let[n,s]=sr.default.useState(""),[a,l]=sr.default.useState(""),[c,u]=sr.default.useState(!1),[p,m]=sr.default.useState(0),[h,f]=sr.default.useState(0),[x,v]=sr.default.useState(0);sr.default.useEffect(()=>{e&&(s(e.name),l(e.category),m(e.widthX||0),f(e.lengthY||0),v(e.thicknessZ||0),u(e.widthX!=null||e.lengthY!=null||e.thickness!=null))},[e]);let b=T=>{s(T),t.length>0&&o()},S=T=>{l(T.target.value)},w=T=>{u(T.target.checked)},_=T=>{T.preventDefault();let A={name:n,category:a,source:Js.USER_ADDED_CUSTOM,widthX:c?p:null,lengthY:c?h:null,thicknessZ:c?x:null};r(A)},E=i||c&&(p<=0||h<=0||x<=0);return sr.default.createElement(sr.default.Fragment,null,sr.default.createElement("form",{className:"row g-3",onSubmit:T=>_(T)},sr.default.createElement("div",{className:"col-md-4 w-100"},sr.default.createElement("label",{htmlFor:"material-name",className:"form-label"},"Name"),sr.default.createElement("input",{type:"text",className:"form-control",id:"material-name",placeholder:"Name your material",required:!0,value:n,onChange:T=>b(T.target.value)}),t.length>0&&sr.default.createElement(sr.default.Fragment,null,t.map((T,A)=>sr.default.createElement("p",{className:"text-danger",key:A}," ",T," ")))),sr.default.createElement("div",{className:"col-md-4 w-100"},sr.default.createElement("label",{htmlFor:"material-type",className:"form-label"},"Type"),sr.default.createElement("select",{className:"form-select",id:"material-type",onChange:T=>S(T),required:!0,value:a},sr.default.createElement("option",{disabled:"disabled",value:""},"Select material type"),ot.materialCategoryNames.map(T=>sr.default.createElement("option",{key:T,value:T},T)))),sr.default.createElement("div",{className:"col-md-4 w-100"},sr.default.createElement("input",{type:"checkbox",className:"form-check-input me-2",id:"set-custom-size",checked:c,onChange:T=>w(T)}),sr.default.createElement("label",{className:"form-label",htmlFor:"set-custom-size"},"Set default size")),c&&sr.default.createElement(sr.default.Fragment,null,sr.default.createElement("div",{className:"col-md-4 w-33"},sr.default.createElement("label",{htmlFor:"material-width",className:"form-label"},"Width (X)*"),sr.default.createElement(Yt,{variant:"millis-long",value:p,min:0,id:"material-width",onChange:m})),sr.default.createElement("div",{className:"col-md-4 w-33"},sr.default.createElement("label",{htmlFor:"material-length",className:"form-label"},"Length (Y)*"),sr.default.createElement(Yt,{variant:"millis-long",value:h,min:0,id:"material-length",onChange:f})),sr.default.createElement("div",{className:"col-md-4 w-34"},sr.default.createElement("label",{htmlFor:"material-thickness",className:"form-label"},"Thickness (Z)*"),sr.default.createElement(Yt,{variant:"millis-long",value:x,min:0,id:"material-thickness",onChange:v})),sr.default.createElement("p",null,sr.default.createElement("sup",null,"*"),"Requires value greater than zero.")),sr.default.createElement("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end"},sr.default.createElement("button",{className:"btn btn-primary save_button",type:"submit",disabled:E},"Save"))))},qM=jpt;var HG=class extends $n.default.Component{constructor(t){super(t),this.filterFactory=new jm("materials"),this.sortFactory=new gp("materials"),this.state={search:"",selectedFilterOptions:[],isAscending:!0,sortFields:this.sortFactory.getDefaultSorting(),selectedIds:[],showMaterialOverlay:!1,materialToEdit:null,errors:[],currentRef:null,savingMaterial:!1}}getHeaderCheckboxState(){let{selectedIds:t}=this.state,r=this.getMaterials();return Fs.getHeaderCheckboxState(r,t)}onHeaderCheckboxStateChange(){let{selectedIds:t}=this.state,r=this.getMaterials();this.setState({selectedIds:Fs.onHeaderCheckboxStateChange(r,t)})}onSelectedChange(t){let{selectedIds:r}=this.state;this.setState({selectedIds:Fs.onSelectedChange(r,t)})}getMaterials(){let{materials:t}=this.props,{search:r,isAscending:o,sortFields:i,selectedFilterOptions:n}=this.state,s=this.filterFactory.buildGroupLogic(this.getFilterGroups(),n,r),a=this.sortFactory.getSortFunctions(i),l=t.filter(u=>s.filterFn(u));return yp(l,a,o).map(u=>({...u,imageURL:ot.imageForMaterialCategory(u.category)}))}onViewToggle(){let{setIsMaterialViewList:t,isList:r}=this.props;H.trackEvent(U.toolbox.toggleViewType,{tab:Ye.tabs.materials,isList:!r}),t(!r),this.setState({errors:[],showEditOverlay:!1})}onSortToggle(){this.setState(t=>({isAscending:!t.isAscending,errors:[],showEditOverlay:!1}))}onSearchChange(t){this.setState({search:t,selectedIds:[]})}onSelectedFilterOptionsChange(t){t.length>0&&H.trackEvent(U.toolbox.filtered,{tab:Ye.tabs.materials,filters:t.map(r=>r.id)}),this.setState({selectedFilterOptions:t,selectedIds:[]})}getFilterGroups(){let{materials:t}=this.props;return this.filterFactory.getFilterGroups(t)}onDeleteSelected(){let{materials:t}=this.state,{selectedIds:r}=this.state;if(r.length!==0){if(H.trackEvent(U.toolbox.bulkAction,{tab:Ye.tabs.materials,action:"delete"}),r.length===1)return this.onDeleteMaterial(t.find(o=>o.id===r[0]));As("Delete Materials?",`Are you sure you want to delete these ${r.length} materials?`,()=>r.forEach(o=>this.deleteMaterial({id:o})))}}onDeleteMaterial(t){As(`Delete ${t.name}?`,"This will permanently delete the material.",()=>this.deleteMaterial(t))}handleEditMaterial(t){let{materialToEdit:r}=this.state,o=le(r,t);o.displayName!==o.name&&(o.displayName=o.name),this.editMaterial(o)}handleShowEditOverlay(t,r){this.setState({materialToEdit:t,showEditOverlay:!0,currentRef:r})}handleHideEditOverlay(){this.setState({materialToEdit:null,showEditOverlay:!1,errors:[]})}deleteMaterial(t){wh.deleteMaterial(t).then(()=>{this.props.deleteMaterial({material:t})}).catch(r=>{Ut(r.responseJSON.errors)})}editMaterial(t){this.setState({savingMaterial:!0}),wh.updateMaterial(t).then(r=>{this.props.updateMaterial({material:ot.toCamelCase(r.material)}),this.handleHideEditOverlay(),this.setState({savingMaterial:!1})}).catch(r=>{this.setState({errors:r.responseJSON.errors,savingMaterial:!1})})}handleClearErrors(){this.setState({errors:[]})}render(){let{isList:t,preferredUnit:r}=this.props,{search:o,isAscending:i,selectedFilterOptions:n,selectedIds:s,showEditOverlay:a,materialToEdit:l,errors:c,currentRef:u,sortFields:p,savingMaterial:m}=this.state,h=this.getMaterials(),f=this.getHeaderCheckboxState();return $n.default.createElement(Xo,{className:"toolbox-materials"},$n.default.createElement(Xo.Header,{contentLeft:$n.default.createElement($n.default.Fragment,null,$n.default.createElement(Xo.Header.Checkbox,{headerCheckboxState:f,onHeaderCheckboxStateChange:()=>this.onHeaderCheckboxStateChange()}),$n.default.createElement(Hm,{value:o,onValueChange:x=>this.onSearchChange(x),trackingEvent:U.toolbox.search,trackingProperties:{tab:Ye.tabs.materials}}),$n.default.createElement(N0,{filterGroups:this.getFilterGroups(),selectedFilterOptions:n,onSelectedFilterOptionsChange:x=>this.onSelectedFilterOptionsChange(x)})),contentRight:$n.default.createElement($n.default.Fragment,null,f!==el.Empty&&$n.default.createElement("button",{className:"btn btn-danger delete_button",onClick:()=>this.onDeleteSelected()},"Delete"),$n.default.createElement(xp,{isList:t,onToggle:()=>this.onViewToggle()}),$n.default.createElement(bp,{isAscending:i,onToggle:()=>this.onSortToggle()}))}),$n.default.createElement(Xo.Content,null,t&&$n.default.createElement(B0,{headers:[{label:"Material Name",sortField:"displayName"},{width:250,label:"Type",sortField:"category"},{width:250,label:"Size"},{width:50,label:""},{width:50,label:""}],sortFields:p,onSortFieldsChange:x=>this.setState({sortFields:x}),isAscending:i,onSortToggle:()=>this.onSortToggle()},h.map(x=>$n.default.createElement(Eye,{key:x.id,material:x,onEditMaterial:v=>this.handleShowEditOverlay(x,v),onDeleteMaterial:()=>this.onDeleteMaterial(x),selected:s.includes(x.id),onSelectedChange:()=>this.onSelectedChange(x.id),preferredUnit:r}))),!t&&$n.default.createElement(F0,{className:"data-container__card-grid"},h.map(x=>$n.default.createElement(Mye,{key:x.id,material:x,onEditMaterial:v=>this.handleShowEditOverlay(x,v),onDeleteMaterial:()=>this.onDeleteMaterial(x),selected:s.includes(x.id),onSelectedChange:()=>this.onSelectedChange(x.id),preferredUnit:r}))),$n.default.createElement(O0,{title:"Edit Custom Material",show:a,targetRef:u,onHideOverlay:()=>this.handleHideEditOverlay()},$n.default.createElement(qM,{material:l,errors:c,onSubmit:x=>this.handleEditMaterial(x),onClearErrors:()=>this.handleClearErrors(),saving:m}))))}},Gpt=ne({mapStateToProps:function(e){return{isList:En.isMaterialViewList(e),preferredUnit:Me.getPreferredUnit(e),materials:q.getUserMaterials(e)}},mapDispatchToProps:{deleteMaterial:q.actions.delete,updateMaterial:q.actions.update,setIsMaterialViewList:En.actions.setIsMaterialViewList},component:HG}),Aye=Gpt;var Rl=M(P("react"),1);var kh=M(P("react"),1);var zG=class extends kh.default.Component{constructor(t){super(t),this.state={addingBit:!1}}onAddBit(){let t={...this.props.bit,imageURL:null};this.setState({addingBit:!0}),Kp.addBit(t).then(r=>{H.trackEvent(U.toolbox.addedBit,{bitData:t}),this.props.addBit(r),this.setState({addingBit:!1})}).catch(r=>{console.error("Failed to add bit:",r),this.setState({addingBit:!1})})}userHasBit(){return Array.from(this.props.userBits).some(t=>t.storeId===this.props.bit.storeId)}render(){let{bit:t}=this.props;return kh.default.createElement(GM,{bit:t,footer:kh.default.createElement("div",{className:"d-flex flex-column justify-content-center w-100"},t.storeURL&&kh.default.createElement("div",{className:"text-center mb-2"},kh.default.createElement(hp,{url:t.storeURL,trackingEvent:U.toolbox.purchase,trackingData:{tab:Ye.tabs.bits,bit:t.name},utmContent:"toolbox-bit"},"View in store")),this.userHasBit()?kh.default.createElement("button",{className:"btn btn-success w-100",disabled:!0},"Already Added"):kh.default.createElement("button",{className:"btn btn-primary w-100",onClick:()=>this.onAddBit()},this.state.addingBit?kh.default.createElement(Re,null):"Add bit"))})}},Hpt=ne({mapStateToProps:e=>({userBits:re.bits(e)}),mapDispatchToProps:e=>({addBit(t){e(re.actions.addBit(t))}}),component:zG}),Iye=Hpt;var XG=class extends Rl.default.Component{constructor(t){super(t),this.filterFactory=new jm("bits"),this.sortFactory=new gp("bits"),this.state={search:"",isAscending:!0,sortFields:this.sortFactory.getDefaultSorting(),selectedFilterOptions:[]}}onSearchChange(t){this.setState({search:t})}onSortToggle(){this.setState({isAscending:!this.state.isAscending})}onSelectedFilterOptionsChange(t){t.length>0&&H.trackEvent(U.toolbox.filtered,{tab:Ye.tabs.addInventablesBit,filters:t.map(r=>r.id)}),this.setState({selectedFilterOptions:t})}getBits(){let{bitSource:t,bitsBySource:r}=this.props;return r[t]||[]}getFilteredBits(){let{search:t,isAscending:r,sortFields:o,selectedFilterOptions:i}=this.state,n=this.filterFactory.buildGroupLogic(this.getFilterGroups(),i,t),s=this.sortFactory.getSortFunctions(o),a=this.getBits().filter(l=>n.filterFn(l));return yp(a,s,r)}getFilterGroups(){return this.filterFactory.getFilterGroups(this.getBits())}render(){let{search:t,isAscending:r,selectedFilterOptions:o}=this.state,i=this.getFilteredBits();return Rl.default.createElement(Xo,{className:"toolbox-add-bits"},Rl.default.createElement(Xo.Header,{contentLeft:Rl.default.createElement(Rl.default.Fragment,null,Rl.default.createElement(Hm,{value:t,onValueChange:n=>this.onSearchChange(n),trackingEvent:U.toolbox.search,trackingProperties:{tab:Ye.tabs.addInventablesBit}}),Rl.default.createElement(N0,{filterGroups:this.getFilterGroups(),selectedFilterOptions:o,onSelectedFilterOptionsChange:n=>this.onSelectedFilterOptionsChange(n)})),contentRight:Rl.default.createElement(Rl.default.Fragment,null,Rl.default.createElement(xp,{isList:!1}),Rl.default.createElement(bp,{isAscending:r,onToggle:()=>this.onSortToggle()}))}),Rl.default.createElement(Xo.Content,null,Rl.default.createElement(F0,{className:"data-container__card-grid"},i.map(n=>Rl.default.createElement(Iye,{key:n.storeId,bit:n})))))}},zpt=ne({mapStateToProps:function(e){return{bitsBySource:En.bitsBySource(e)}},component:XG}),Dg=zpt;var Dye=M(P("react"),1),j9=P("react-redux");var Xpt=()=>{let e=(0,j9.useDispatch)(),t=(0,j9.useSelector)(et.getMachineProfiles),r=(0,j9.useSelector)(a=>Q.isProEnabled(Date.now(),a)),o=()=>{e(De.actions.showUserModalAccountTab())},i=()=>{Fe("New Machine","",[{text:"Cancel"},{text:"Upgrade",action:o}],`<div>
        <p>
         Upgrade to Easel Pro to install as many machines as you need.
        </p>
        <p>
         Not ready yet? Uninstall your current machine to set up another.
        </p>
      </div>`)},n=()=>window.location.href="/setup",s=!r&&t.length>=1?i:n;return Dye.default.createElement("button",{type:"button",className:"btn btn-primary action_button","aria-expanded":"false",onClick:s},"Add Machine Profile")},Nye=Xpt;var Sp=M(P("react"),1);var YG=class extends Sp.default.Component{constructor(t){super(t),this.state={showingCustomForm:!1,errors:[],savingMaterial:!1},this.buttonRef=Sp.default.createRef()}componentDidMount(){this.setState({errors:[]})}handleAddMaterial(t){this.setState({savingMaterial:!0}),wh.createMaterial(t).then(r=>{let o=ot.toCamelCase(r.material);return this.props.addMaterial({material:o}),this.hideOverlay(),this.setState({savingMaterial:!1}),o}).then(r=>{let{name:o,category:i,widthX:n,lengthY:s,thicknessZ:a,source:l}=r;this.props.trackProjectEvent(U.materialAdded,{"Material Name":o,"Material Type":i,"Default Width":n,"Default Length":s,"Default Thickness":a,"Material Source":ot.decodeMaterialSource(l)})}).catch(r=>{this.setState({errors:r.responseJSON.errors,savingMaterial:!1})})}onShowOverlay(){this.setState({showingCustomForm:!0})}hideOverlay(){this.setState({showingCustomForm:!1,errors:[]})}addInventablesMaterial(){this.props.showAddInventablesMaterial()}handleClearErrors(){this.setState({errors:[]})}render(){let{showingCustomForm:t,errors:r,savingMaterial:o}=this.state;return Sp.default.createElement("div",{className:"dropdown"},Sp.default.createElement("button",{type:"button",className:"btn btn-primary action_button dropdown-toggle",id:"add-material-dropdown","data-bs-toggle":"dropdown","aria-expanded":"false",ref:this.buttonRef},"Add Materials"),Sp.default.createElement("ul",{className:"dropdown-menu"},Sp.default.createElement("li",null,Sp.default.createElement("a",{className:"dropdown-item",role:"button",onClick:()=>this.props.onActiveTabChange("addInventablesMaterial")},"Inventables")),Sp.default.createElement("li",null,Sp.default.createElement("a",{className:"dropdown-item",role:"button",onClick:()=>this.onShowOverlay()},"Custom"))),Sp.default.createElement(O0,{title:"Add Custom Material",show:t,targetRef:this.buttonRef,onHideOverlay:()=>this.hideOverlay()},Sp.default.createElement(qM,{errors:r,onSubmit:i=>this.handleAddMaterial(i),onClearErrors:()=>this.handleClearErrors(),saving:o})))}},Ypt=ne({mapDispatchToProps:{addMaterial:q.actions.add,trackProjectEvent:Bt},component:YG}),Oye=Ypt;var jl=M(P("react"),1);var E6=M(P("react"),1);var qG=class extends E6.default.Component{constructor(t){super(t),this.state={addingMaterial:!1}}onAddMaterial(){let{material:t}=this.props;return this.setState({addingMaterial:!0}),wh.createMaterial(t).then(r=>{let o=ot.toCamelCase(r.material);return this.props.addMaterial({material:o}),this.setState({addingMaterial:!1}),o}).then(r=>{this.props.trackProjectEvent(U.materialAdded,{"Material Name":r.name,"Material Type":r.category,Source:"Inventables"})}).catch(()=>{this.setState({addingMaterial:!1})})}userHasMaterial(){return this.props.userMaterials.some(t=>t.storeId===this.props.material.storeId)}render(){return E6.default.createElement(YM,{material:this.props.material,footer:this.userHasMaterial()?E6.default.createElement("button",{className:"btn btn-success w-100",disabled:!0},"Already Added"):E6.default.createElement("button",{className:"btn btn-primary w-100",onClick:()=>this.onAddMaterial()},this.state.addingMaterial?E6.default.createElement(Re,null):"Add material")})}},qpt=ne({mapStateToProps:e=>({userMaterials:q.getUserMaterials(e)}),mapDispatchToProps:{addMaterial:q.actions.add,trackProjectEvent:Bt},component:qG}),Lye=qpt;var $G=class extends jl.default.Component{constructor(t){super(t),this.filterFactory=new jm("materials"),this.sortFactory=new gp("materials"),this.state={selectedFilterOptions:[],search:"",isAscending:!0,sortFields:this.sortFactory.getDefaultSorting()}}onSortToggle(){this.setState({isAscending:!this.state.isAscending})}onSearchChange(t){t&&ha(H.trackEvent(U.toolbox.search,{tab:Ye.tabs.addInventablesMaterial})),this.setState({search:t})}onSelectedFilterOptionsChange(t){t.length>0&&H.trackEvent(U.toolbox.filtered,{tab:Ye.tabs.addInventablesMaterial,filters:t.map(r=>r.id)}),this.setState({selectedFilterOptions:t})}getFilterGroups(){let{inventablesMaterials:t}=this.props;return this.filterFactory.getFilterGroups(t)}getMaterials(){let{search:t,selectedFilterOptions:r,isAscending:o,sortFields:i}=this.state,{inventablesMaterials:n}=this.props,s=this.filterFactory.buildGroupLogic(this.getFilterGroups(),r,t),a=this.sortFactory.getSortFunctions(i),l=n.filter(c=>s.filterFn(c));return yp(l,a,o)}render(){let{search:t,selectedFilterOptions:r,isAscending:o,addMaterial:i}=this.state,n=this.getMaterials();return jl.default.createElement(Xo,{className:"toolbox-add-materials"},jl.default.createElement(Xo.Header,{contentLeft:jl.default.createElement(jl.default.Fragment,null,jl.default.createElement(Hm,{value:t,onValueChange:s=>this.onSearchChange(s),trackingEvent:U.toolbox.search,trackingProperties:{tab:Ye.tabs.addInventablesMaterial}}),jl.default.createElement(N0,{filterGroups:this.getFilterGroups(),selectedFilterOptions:r,onSelectedFilterOptionsChange:s=>this.onSelectedFilterOptionsChange(s)})),contentRight:jl.default.createElement(jl.default.Fragment,null,jl.default.createElement(xp,{isList:!1}),jl.default.createElement(bp,{isAscending:o,onToggle:()=>this.onSortToggle()}))}),jl.default.createElement(Xo.Content,null,jl.default.createElement(F0,{className:"data-container__card-grid"},n.map(s=>jl.default.createElement(Lye,{key:s.storeId,material:s,addMaterial:i})))))}},$pt=ne({mapStateToProps:function(e){return{inventablesMaterials:En.inventablesMaterials(e)}},mapDispatchToProps:e=>({addMaterial(t){e(q.actions.addMaterial(t))}}),component:$G}),Bye=$pt;var M6=P("react-bootstrap"),gu=M(P("react"),1);var gr=M(P("react"),1);var ZG=class extends gr.default.Component{constructor(t){super(t),this.state=this.getState()}getState(){return{machineProfileId:"",bit:"",material:"",feedRate:0,plungeRate:0,depthPerPass:0,spindleSpeed:"",notes:"",errors:[],saving:!1}}onSetCutSettingValue(t,r){return Ve.convertToUnit(t,r,"in")}onChangeFeedRate(t,r){let o=this.onSetCutSettingValue(t,r);this.setState({feedRate:o})}onChangePlungeRate(t,r){let o=this.onSetCutSettingValue(t,r);this.setState({plungeRate:o})}onChangeDepth(t,r){let o=this.onSetCutSettingValue(t,r);this.setState({depthPerPass:o})}getSelectedMachineProfile(){return this.props.machineProfiles.find(t=>t.id===this.state.machineProfileId)||{}}validateForm(){let t=this.getSelectedMachineProfile(),{feedRate:r,plungeRate:o,depthPerPass:i,machineProfileId:n,spindleSpeed:s}=this.state,a=[];return r<=0&&a.push("Feed Rate must be greater than zero."),o<=0&&a.push("Plunge Rate must be greater than zero."),i<=0&&a.push("Depth Per Pass must be greater than zero."),n||a.push("Please select a machine profile to use with these cut settings"),bt.supportsSpindleSpeed(t,t.settings?.router.model,t.settings?.router.automatic_spindle)&&(s==null||s<=0)&&a.push("Spindle Speed is required and it should be greater than zero."),this.setState({errors:a}),a.length===0}onSubmit(){this.validateForm()&&this.saveCutSetting(this.state)}saveCutSetting(t){this.setState({saving:!0});let r={bitId:t.bit,materialId:t.material,machineProfileId:t.machineProfileId,feedRate:t.feedRate,plungeRate:t.plungeRate,depthPerPass:t.depthPerPass,spindleSpeed:t.spindleSpeed,notes:t.notes};this.props.addCutSetting(r).then(o=>{if(o.error)this.setState({errors:[o.error.message],saving:!1});else return this.props.hideOverlay(),this.setState({errors:[],saving:!1}),o}).then(o=>{if(!o)return;let{bitId:i,materialId:n,feedRate:s,plungeRate:a,depthPerPass:l,spindleSpeed:c}=r;this.props.trackProjectEvent(U.addCutSetting,{Source:"Toolbox","Material Id":n,"Bit Id":i,"Easel Pro Content":[U.proContent.savedCutSettings],"Cut Setting Identifier":o.payload.identifier,"Feed Rate":s,"Plunge Rate":a,"Depth Per Pass":l,"Spindle Speed":c})})}render(){let{machineProfileId:t,bit:r,material:o,feedRate:i,plungeRate:n,depthPerPass:s,spindleSpeed:a,notes:l,errors:c}=this.state,{machineProfiles:u,bits:p,preferredUnit:m,saving:h,materials:f}=this.props,x=`${m}/min`,v=this.getSelectedMachineProfile();return gr.default.createElement("div",{className:"row g-3"},c.length>0&&gr.default.createElement(gr.default.Fragment,null,c.map((b,S)=>gr.default.createElement("p",{className:"text-danger",key:S,role:"error"}," ",b," "))),gr.default.createElement("div",{className:"col-md-4 w-100"},gr.default.createElement("label",{htmlFor:"add-cs-machine-profile",className:"form-label"},"Machine Profile"),gr.default.createElement("select",{id:"add-cs-machine-profile",name:"add-cs-machine-profile",className:"form-select",onChange:b=>this.setState({machineProfileId:parseInt(b.target.value)}),required:!0,value:t},gr.default.createElement("option",{disabled:!!t,value:""},"Select machine"),u.map(b=>gr.default.createElement("option",{key:b.id,value:b.id},b.name)))),gr.default.createElement("div",{className:"col-md-4 w-100"},gr.default.createElement("label",{htmlFor:"add-cs-bit",className:"form-label"},"Bit"),gr.default.createElement("select",{id:"add-cs-bit",name:"add-cs-bit",className:"form-select",onChange:b=>this.setState({bit:b.target.value}),required:!0,value:r},gr.default.createElement("option",{disabled:"disabled",value:""},"Select bit"),p.map(b=>gr.default.createElement("option",{key:b.id,value:b.id},b.name)))),gr.default.createElement("div",{className:"col-md-4 w-100"},gr.default.createElement("label",{htmlFor:"add-cs-material",className:"form-label"},"Material"),gr.default.createElement("select",{id:"add-cs-material",name:"add-cs-material",className:"form-select",onChange:b=>this.setState({material:b.target.value}),required:!0,value:o},gr.default.createElement("option",{disabled:"disabled",value:""},"Select material"),f.map(b=>gr.default.createElement("option",{key:b.id,value:b.id},b.name)))),gr.default.createElement("div",{className:"col-md-4 w-50"},gr.default.createElement("label",{htmlFor:"add-cs-feed-rate",className:"form-label"},"Feed Rate"),gr.default.createElement(Eo,{id:"add-cs-feed-rate",value:i,unit:"in",displayUnit:x,precision:1,onChange:(b,S)=>this.onChangeFeedRate(b,S),showUnit:!0})),gr.default.createElement("div",{className:"col-md-4 w-50"},gr.default.createElement("label",{htmlFor:"add-cs-plunge-rate",className:"form-label"},"Plunge Rate"),gr.default.createElement(Eo,{id:"add-cs-plunge-rate",value:n,unit:"in",displayUnit:x,precision:1,onChange:(b,S)=>this.onChangePlungeRate(b,S),showUnit:!0})),gr.default.createElement("div",{className:"col-md-4 w-50"},gr.default.createElement("label",{htmlFor:"add-cs-depth-per-pass",className:"form-label"},"Depth Per Pass"),gr.default.createElement(Eo,{id:"add-cs-depth-per-pass",value:s,unit:"in",displayUnit:m,onChange:(b,S)=>this.onChangeDepth(b,S),showUnit:!0})),bt.supportsSpindleSpeed(v,v.settings?.router.model,v.settings?.router.automatic_spindle)&&gr.default.createElement("div",{className:"col-md-4 w-50"},gr.default.createElement("label",{htmlFor:"add-cs-spindle-speed",className:"form-label"},"Spindle Speed (RPM)"),gr.default.createElement("input",{id:"add-cs-spindle-speed",type:"number",className:"form-control",step:"100",required:!0,value:a,onChange:b=>this.setState({spindleSpeed:b.target.value})})),gr.default.createElement("div",{className:"col-md-4 w-100"},gr.default.createElement("label",{htmlFor:"add-cs-cut-settings-note",className:"form-label"},"Note"),gr.default.createElement("input",{id:"add-cs-cut-settings-note",type:"textarea",className:"form-control",placeholder:"Add a note",value:l,onChange:b=>this.setState({notes:b.target.value})})),gr.default.createElement("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end"},gr.default.createElement("button",{className:"btn btn-primary",type:"submit",onClick:b=>this.onSubmit(b),disabled:h},"Save")))}},Zpt=ne({mapDispatchToProps:{addCutSetting:Wi.addCutSetting,trackProjectEvent:Bt},mapStateToProps:e=>({bits:re.bits(e),preferredUnit:Me.getPreferredUnit(e),machineProfiles:et.getMachineProfiles(e),materials:q.getAllMaterials(e)}),component:ZG}),Fye=Zpt;var JG=class extends gu.default.Component{constructor(t){super(t),this.state={showingCustomForm:!1},this.buttonRef=gu.default.createRef()}componentDidMount(){this.setState({errors:[]})}onShowOverlay(){this.setState({showingCustomForm:!0})}hideOverlay(){this.setState({showingCustomForm:!1})}render(){let{showingCustomForm:t}=this.state;return gu.default.createElement(gu.default.Fragment,null,gu.default.createElement("button",{type:"button",className:"btn btn-primary action_button","aria-expanded":"false",ref:this.buttonRef,onClick:()=>this.onShowOverlay()},"Add Cut Settings"),gu.default.createElement(M6.Overlay,{show:t,target:this.buttonRef,placement:"bottom-end",rootClose:!0,onHide:()=>this.hideOverlay()},gu.default.createElement(M6.Popover,{className:"add-custom-cut-settings-overlay"},gu.default.createElement(M6.Popover.Header,{className:"d-flex justify-content-between"},gu.default.createElement("div",null,"Add Cut Settings"),gu.default.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:()=>this.hideOverlay()})),gu.default.createElement(M6.Popover.Body,null,gu.default.createElement(Fye,{hideOverlay:()=>this.hideOverlay()})))))}},Wye=JG;var KG=class extends zi.default.Component{constructor(t){super(t),this.state={activeTab:t.defaultTab||Ye.tabs.bits,tabHistory:[]}}activeTabContent(){let{activeTab:t}=this.state;switch(t){case Ye.tabs.bits:return zi.default.createElement(Sye,null);case Ye.tabs.materials:return zi.default.createElement(Aye,null);case Ye.tabs.cutSettings:return zi.default.createElement(Tye,null);case Ye.tabs.machineProfiles:return zi.default.createElement(wye,null);case Ye.tabs.addInventablesMaterial:return zi.default.createElement(Bye,null);case Ye.tabs.addInventablesBit:return zi.default.createElement(Dg,{bitSource:"inventables"});case Ye.tabs.addIDCWoodcraftBit:return zi.default.createElement(Dg,{bitSource:"idc_woodcraft"});case Ye.tabs.addAmanaBit:return zi.default.createElement(Dg,{bitSource:"amana"});case Ye.tabs.addSpeToolBit:return zi.default.createElement(Dg,{bitSource:"spetool"});case Ye.tabs.addWhitesideBit:return zi.default.createElement(Dg,{bitSource:"whiteside"});case Ye.tabs.addBitsBitsBit:return zi.default.createElement(Dg,{bitSource:"bitsbits"});default:return zi.default.createElement("div",null,"Unknown tab: ",t)}}actionButton(){let{activeTab:t}=this.state;switch(t){case Ye.tabs.bits:return zi.default.createElement(Cye,{onActiveTabChange:r=>this.onActiveTabChange(r)});case Ye.tabs.machineProfiles:return zi.default.createElement(Nye,null);case Ye.tabs.materials:return zi.default.createElement(Oye,{onActiveTabChange:r=>this.onActiveTabChange(r)});case Ye.tabs.cutSettings:return zi.default.createElement(Wye,{onActiveTabChange:r=>this.onActiveTabChange(r)});case Ye.tabs.addInventablesBit:default:return}}onActiveTabChange(t){let{onSetActiveTab:r}=this.props,{tabHistory:o,activeTab:i}=this.state;o.push(i),r(t),this.setState({activeTab:t,tabHistory:o})}onBackClick(){let{onSetActiveTab:t}=this.props,{tabHistory:r,activeTab:o}=this.state,i=r.pop()||o;t(i),this.setState({activeTab:i,tabHistory:r})}showTabs(){return[Ye.tabs.bits,Ye.tabs.materials,Ye.tabs.cutSettings,Ye.tabs.machineProfiles].indexOf(this.state.activeTab)>=0}render(){let{activeTab:t}=this.state;return zi.default.createElement("div",{className:"toolbox-v2-container h-100 d-flex flex-column overflow-hidden"},zi.default.createElement("div",{className:"mb-4 d-flex justify-content-between"},this.showTabs()?zi.default.createElement(aye,{activeTab:t,onActiveTabChange:r=>this.onActiveTabChange(r)}):zi.default.createElement("button",{className:"btn btn-light",onClick:()=>this.onBackClick()},zi.default.createElement("i",{className:"fa fa-chevron-left me-2"}),"Back to Toolbox"),this.actionButton()),zi.default.createElement("div",{className:"toolbox-v2-container__content flex-fill overflow-hidden"},this.activeTabContent()))}},Vye=KG;var Jpt=()=>{let e=(0,H9.useDispatch)(),t=(0,H9.useSelector)(En.isToolboxModalOpen),r=(0,H9.useSelector)(En.defaultToolboxModalTab),[o,i]=(0,U0.useState)(r),n=()=>{e(En.actions.closeToolboxModal())},s="Toolbox";return o===Ye.tabs.addInventablesBit?s="Add an Inventables Bit":o===Ye.tabs.addIDCWoodcraftBit?s="Add an IDC Woodcraft Bit":o===Ye.tabs.addAmanaBit?s="Add an Amana Tool Bit":o===Ye.tabs.addSpeToolBit?s="Add a SpeTool Bit":o===Ye.tabs.addInventablesMaterial?s="Add an Inventables Material":o===Ye.tabs.addWhitesideBit?s="Add a Whiteside Bit":o===Ye.tabs.addBitsBitsBit&&(s="Add a Bits&Bits Bit"),U0.default.createElement(G9.Modal,{show:t,onHide:n,size:"xl",enforceFocus:!1,className:"toolbox-modal"},U0.default.createElement(G9.Modal.Header,{closeButton:!0},U0.default.createElement(G9.Modal.Title,null,s)),U0.default.createElement(G9.Modal.Body,{className:"overflow-hidden"},U0.default.createElement(Vye,{defaultTab:r,onSetActiveTab:i})))},Uye=Jpt;var $M=P("react-bootstrap"),Th=M(P("react"),1);var QG=class extends Th.default.Component{constructor(){super(...arguments);y(this,"state",{errorInfo:null,error:null,open:!1});y(this,"show",r=>{let o=r.fromMenu?u9.getDataForCurrentProject():u9.getDataForLastCarve();this.setState({open:!0,error:r,errorInfo:o})});y(this,"close",()=>{this.setState({open:!1})})}componentDidMount(){J.addListener("show-troubleshooting-modal",this.show)}componentWillUnmount(){J.removeListener("show-troubleshooting-modal",this.show)}render(){let r=this.state.open;return Th.default.createElement($M.Modal,{show:r,onHide:this.close,scrollable:!0,size:"xl",id:"troubleshooting-modal"},Th.default.createElement($M.Modal.Header,{closeButton:!0},Th.default.createElement("div",{className:"feedback-header"},Th.default.createElement("img",{src:EASEL_ASSETS.images.sadEasel,className:"feedback-success-img"}),Th.default.createElement("h3",null,"What happened?"))),Th.default.createElement($M.Modal.Body,null,Th.default.createElement(EE,{errorInfo:this.state.errorInfo,error:this.state.error,close:this.close})))}},Rye=QG;var Y6=M(P("react"),1);var Kpt={generateFromWorkpiece(e,t){return Qs.generateToolpaths3D(e).then(r=>{let{material:o,passes:i}=e;console.time("3d-gcode");let n=U8.process3D(r.roughing,i.roughing,o),s=U8.process3D(r.finishing,i.finishing,o);console.timeEnd("3d-gcode"),n=this.getTrackingParams(e,"roughing",n),s=this.getTrackingParams(e,"detail",s);let a=W.actions.setGcodePasses({gcodePasses:[n,s]});switch(N.store.dispatch(a),t){case"roughing":return{roughingPass:n,toolpaths:r};case"detail":case"finishing":return{finishingPass:s,toolpaths:r};case"all":return{roughingPass:n,finishingPass:s,toolpaths:r};default:return Promise.reject("No pass type given")}})},getTrackingParams(e,t,r){let o=N.store.getState(),i={passType:t,materialThickness:q.getMaterialThickness(o),preferredUnit:Me.getPreferredUnit(o),stepOver:Ge.getStepOver(o),vBitDetailStepOver:Ge.getVBitDetailStepOver(o),profileStepOver:Ge.getProfileStepOver(o),ballnoseStepOver:Ge.getBallnoseStepOver(o),safetyHeight:Ge.getSafetyHeight(o),bit:{},detailBit:{}},n=null;t==="detail"||t==="finishing"?n=ga("detailBit",o).getSettings():n=ga("bit",o).getSettings();let s=n?.useCustom;return i={...i,...n},i.useCustom=s,i.bit=re.bit(o),i.detailBit=re.detailBit(o),le(r,{jobSettings:i,materialSize:e.material.size,machineProfileId:et.getCurrentProfileId(o),carveType:"3D"})}},R0=Kpt;var A6=P("react-bootstrap"),ol=M(P("react"),1);var Qpt=({size:e,color:t,className:r,title:o,onCancel:i})=>{let s=["spinner"];return e||(e=15),t==="white"&&s.push("spinner--white"),t==="primary"&&s.push("spinner--primary"),r!=null&&s.push(r),ol.default.createElement(A6.Modal,{className:"spinner__modal",show:!0,backdrop:"static"},ol.default.createElement(A6.Modal.Header,{closeButton:!1},o&&ol.default.createElement(A6.Modal.Title,null,o),ol.default.createElement(A6.Modal.Body,{className:"spinner__modal-body"},ol.default.createElement("svg",{className:s.join(" "),height:e,width:e,viewBox:"-7.5 -7.5 15 15"},ol.default.createElement("circle",{cx:4,cy:-4,r:1.5}),ol.default.createElement("circle",{cx:6,cy:0,r:1.5}),ol.default.createElement("circle",{cx:4,cy:4,r:1.5}),ol.default.createElement("circle",{cx:0,cy:6,r:1.5}),ol.default.createElement("circle",{cx:-4,cy:4,r:1.5}),ol.default.createElement("circle",{cx:-6,cy:0,r:1.5}),ol.default.createElement("circle",{cx:-4,cy:-4,r:1.5}),ol.default.createElement("circle",{cx:0,cy:-6,r:1.5})))),i&&ol.default.createElement(A6.Modal.Body,{className:"spinner__modal-body"},ol.default.createElement(oe,{className:"btn btn-default",onClick:i},"Cancel")))},Ng=Qpt;var ZM=M(P("react"),1),jye=P("react-redux"),Gye=P("react-bootstrap");function edt(){let e=(0,jye.useSelector)(Y.getMachineType),t=bt.description(e);return ZM.default.createElement("div",{className:"notice"},ZM.default.createElement("span",null,"A new firmware version is available for your ",t,". ",ZM.default.createElement(Gye.Anchor,{onClick:()=>{J.emit("hide-walkthrough"),J.emit("show-firmware-upload-walkthrough")}},"Click here")," to download it."))}var Hye=edt;var X9=M(P("prop-types"),1),D6=M(P("react"),1);var lA=M(P("prop-types"),1),la=M(P("react"),1);var tH=M(P("prop-types"),1),t3e=M(P("react"),1);var I6=M(P("prop-types"),1),Mh=M(P("react"),1);var j0=M(P("react"),1),zye=P("react-redux");var tdt=()=>{let e=(0,zye.useSelector)(q.getXYZeroLocation),t,r;return e==me.XY_ZERO_FRONT_LEFT?(t="front left corner",r=EASEL_ASSETS.images.zeroXYFrontLeft):e==me.XY_ZERO_CENTER&&(t="center",r=EASEL_ASSETS.images.zeroXYCenter),j0.default.createElement("div",{className:"diagram"},j0.default.createElement("div",{className:"explanation-row"},j0.default.createElement("div",{className:"explanation"},j0.default.createElement("p",null,"Z axis successfully zeroed, time to zero the X and Y axes.")),j0.default.createElement("img",{style:{width:"600px"},src:r}),j0.default.createElement("div",{className:"explanation"},j0.default.createElement("p",null,"Jog the bit to the ",t,"."))))},Xye=tdt;var Eh=M(P("react"),1),eH=class extends Eh.default.Component{render(){return Eh.default.createElement("div",{className:"explanation-row"},Eh.default.createElement("div",{className:"diagram"},Eh.default.createElement("img",{src:EASEL_ASSETS.images.probeRemoveLeads,style:{width:400,position:"relative",left:45}})),Eh.default.createElement("div",{className:"explanation"},Eh.default.createElement("p",{className:"substep-instruction"},"Unplug the leads from the carriage."),Eh.default.createElement("p",{className:"substep-instruction"},"Remove clip from collet."),Eh.default.createElement("p",{className:"substep-instruction"},"Remove puck from waste board area")))}},Yye=eH;var qye=M(P("prop-types"),1),La=M(P("react"),1);var JM=class extends La.default.Component{componentDidMount(){setTimeout(ke.unlock,100)}render(){return La.default.createElement("div",{className:"diagram",style:{marginTop:40}},La.default.createElement("div",{className:"explanation-row"},La.default.createElement("div",null,La.default.createElement("div",{className:"row probe-error-list-item"},La.default.createElement("div",{className:"col-md-4 center-text"},La.default.createElement("img",{src:EASEL_ASSETS.images.probeDistanceTooShort}),La.default.createElement("span",null,"Jog the spindle closer to the touch plate before starting the probe sequence.")),La.default.createElement("div",{className:"col-md-4 center-text"},La.default.createElement("img",{src:EASEL_ASSETS.images.probePuckNotUnderBit}),La.default.createElement("span",null,"Ensure the touch plate is directly underneath the bit.")),La.default.createElement("div",{className:"col-md-4 center-text"},La.default.createElement("img",{src:EASEL_ASSETS.images.probeClipNotOnCollet}),La.default.createElement("span",null,"Ensure the clip is properly attached to the spindle\u2018s collet."))),La.default.createElement("div",{className:"row center-text",style:{marginTop:75}},La.default.createElement("span",null,"Once you\u2018ve verified the above, click the Retry button. If you\u2018re still having problems, use the \u2018Help\u2018 menu to contact us.")))))}};y(JM,"propTypes",{restartProbe:qye.default.func.isRequired});var $ye=JM;var tA=M(P("prop-types"),1),rA=P("react-bootstrap"),Mn=M(P("react"),1);var z9=M(P("prop-types"),1),QM=P("react-bootstrap"),Og=M(P("react"),1);var KM=class extends Og.default.Component{constructor(){super(...arguments);y(this,"popover",({header:r,image:o,width:i,height:n})=>{let s=`popover-${r.toLowerCase().split(" ").join("-")}`;return Og.default.createElement(QM.Popover,{id:s,title:r},Og.default.createElement("img",{src:o,width:i,height:n}))});y(this,"defaultTrigger",()=>Og.default.createElement(oe,{style:{marginLeft:"8px"}},Og.default.createElement("i",{className:"bi bi-question-circle-fill-o"})))}render(){let r=this.props.children||this.defaultTrigger(),o=this.popover(this.props);return Og.default.createElement(QM.OverlayTrigger,{trigger:["hover","focus"],placement:"right",overlay:o},r)}};y(KM,"propTypes",{header:z9.default.string.isRequired,image:z9.default.string.isRequired,width:z9.default.number.isRequired,height:z9.default.number.isRequired});var eA=KM;var oA=class extends Mn.default.Component{constructor(){super(...arguments);y(this,"state",{confirmedLeadsPluggedIn:!1,confirmedProbeLocation:!1,confirmedClip:!1,confirmedConnectivity:!1,confirmedPlateIsInPlace:!1});y(this,"confirmProbeLocation",()=>{this.setState({confirmedProbeLocation:!0,confirmedLeadsPluggedIn:this.props.probeStatus==0})});y(this,"confirmClip",()=>{this.setState({confirmedClip:!0})});y(this,"confirmPlateIsInPlace",()=>{this.setState({confirmedPlateIsInPlace:!0}),this.props.onReady()});y(this,"elementFullyVisible",r=>r?{opacity:.25}:{opacity:1});y(this,"UNSAFE_componentWillReceiveProps",r=>{r.probeStatus===0&&this.state.confirmedProbeLocation&&this.setState({confirmedLeadsPluggedIn:!0}),this.state.confirmedProbeLocation&&this.state.confirmedClip&&r.probeStatus===1&&this.setState({confirmedConnectivity:!0})})}render(){let r,o,i,{confirmedProbeLocation:n,confirmedLeadsPluggedIn:s,confirmedClip:a,confirmedConnectivity:l,confirmedPlateIsInPlace:c}=this.state,{probeStatus:u}=this.props,p=Mn.default.createElement("div",{className:"substep",style:this.elementFullyVisible(n)},Mn.default.createElement("p",{className:"substep-instruction"},"Jog the machine over the material."),Mn.default.createElement(rA.Button,{variant:"primary",className:"confirm confirm-substep",onClick:this.confirmProbeLocation,disabled:n},"Confirm position")),m=s?"#49b975":"gray",h=s||!n;h||(r=Mn.default.createElement(eA,{header:"Probe Plug",image:this.props.machineType===ze.XCARVE_PRO?EASEL_ASSETS.images.xcpProbePlugDetail:EASEL_ASSETS.images.probePlugDetail,width:232,height:280}));let f=Mn.default.createElement("div",{className:"substep",style:this.elementFullyVisible(h)},Mn.default.createElement("p",{className:"substep-instruction"},this.props.machineType===ze.XCARVE_PRO?"Plug the lead into the HMI.":"Plug the lead into the carriage.",r),Mn.default.createElement("i",{className:"bi bi-check-square step-checkmark pull-right",style:{color:m}})),x=a||!s||!n;x||(o=Mn.default.createElement(eA,{header:"Collet Clip",image:this.props.machineType===ze.XCARVE_PRO?EASEL_ASSETS.images.xcpClipDetail:EASEL_ASSETS.images.clipDetail,width:232,height:280}));let v=Mn.default.createElement("div",{className:"substep",style:this.elementFullyVisible(x)},Mn.default.createElement("p",{className:"substep-instruction"},"Attach the clip to the collet.",o),Mn.default.createElement(rA.Button,{variant:"primary",className:"confirm confirm-substep",onClick:this.confirmClip,disabled:x},"Clip is attached")),b=a&&!l?"confirm-substep":"confirm-substep disabled",S=Mn.default.createElement("div",{className:"substep",style:this.elementFullyVisible(l||!a)},Mn.default.createElement("p",{className:"substep-instruction"},"Touch the plate to the bit to check connectivity."),Mn.default.createElement("div",{className:b},Mn.default.createElement(S0,{probeStatus:u,disabled:!a}))),w=c||!l;w||(i=Mn.default.createElement(eA,{header:"Touch Plate",image:this.props.machineType===ze.XCARVE_PRO?EASEL_ASSETS.images.xcpTouchPlateDetail:EASEL_ASSETS.images.touchPlateDetail,width:232,height:280}));let _=Mn.default.createElement("div",{className:"substep",style:this.elementFullyVisible(w)},Mn.default.createElement("p",{className:"substep-instruction"},"Place the touch plate on the material, under the bit.",i),Mn.default.createElement(rA.Button,{variant:"primary",className:"confirm confirm-substep",onClick:this.confirmPlateIsInPlace,disabled:w},"Touch plate is in place"));return Mn.default.createElement("div",{className:"probe-z-instructions"},p,f,v,S,_)}};y(oA,"propTypes",{machineType:tA.default.string.isRequired,onReady:tA.default.func.isRequired,probeStatus:tA.default.number.isRequired});var Zye=oA;var Jye=M(P("prop-types"),1),Kye=P("react-bootstrap"),G0=M(P("react"),1);var iA=class extends G0.default.Component{render(){return G0.default.createElement("div",{className:"diagram text-center"},G0.default.createElement("div",{className:"explanation-row"},G0.default.createElement("div",{className:"explanation"},G0.default.createElement("img",{src:EASEL_ASSETS.images.probeAnimationBit,id:"probe-animation-bit"}),G0.default.createElement("img",{src:EASEL_ASSETS.images.probeAnimationMaterial})),G0.default.createElement(Kye.Button,{variant:"danger",size:"lg",onClick:this.props.stopProbe,style:{marginTop:"40px"}},"Stop probing")))}};y(iA,"propTypes",{stopProbe:Jye.default.func});var Qye=iA;var nA=class extends Mh.default.Component{constructor(){super(...arguments);y(this,"getState",()=>({readyToProbe:!1,probing:!1,probeFinished:!1,errorDetected:!1,probeCleanedUp:!1}));y(this,"UNSAFE_componentWillReceiveProps",r=>{this.state.probing&&r.probeResult===0?(H.trackEvent(U.probeFailed),this.setState({probing:!1,errorDetected:!0})):this.state.probing&&r.probeResult===1&&(H.trackEvent(U.probeSuccessful),this.setState({probing:!1,probeFinished:!0}))});y(this,"onReadyToProbe",()=>{this.setState({readyToProbe:!0})});y(this,"startProbing",()=>{H.trackEvent(U.probeStarted),N.store.dispatch(ie.actions.resetProbeResult()),this.setState({probing:!0,probeFinished:!1,errorDetected:!1,startPosition:this.props.workPosition}),ke.sendProbeRoutine()});y(this,"setXYzero",()=>{ke.setXYorigin(),N.store.dispatch(At.actions.setUsingLastHome(!0)),this.props.onNext()});y(this,"restartProbe",()=>{this.setState(this.getState())});y(this,"stopProbe",()=>{H.trackEvent(U.probeCancelled),ke.pause(),setTimeout(ke.reset,100),setTimeout(ke.sendLine.bind(null,`G90 G0 Z${this.state.startPosition.z}`),125),this.setState(this.getState())});y(this,"onProbeCleanedUp",()=>{this.setState({probeCleanedUp:!0})});y(this,"useLastXY",()=>{N.store.dispatch(At.actions.setUsingLastHome(!0)),this.props.onNext()});y(this,"state",this.getState())}render(){let r,o,i,n,s,a;this.state.errorDetected?(a="Z-Probe error!",n=this.restartProbe,s="Retry",o=null,r=null,i=Mh.default.createElement($ye,{restartProbe:this.restartProbe})):this.state.probeCleanedUp?(a="Set XY zero",n=this.setXYzero,s="Set XY zero",o="Use last XY zero",r=this.useLastXY,i=Mh.default.createElement(Xye,{setXYzero:this.setXYzero})):this.state.probeFinished?(a="Disconnect the Z-Probe",n=this.onProbeCleanedUp,s="Z-Probe is put away",o=null,r=null,i=Mh.default.createElement(Yye,null)):this.state.probing?(a="Probing the material",s="Probing...",n=this.props.onNext,o=null,r=null,i=Mh.default.createElement(Qye,{stopProbe:this.stopProbe})):(a="Set up the Z-Probe",s=this.state.readyToProbe&&this.props.probeStatus===1?"Separate plate and bit":"Start probing",n=this.startProbing,o=null,r=null,i=Mh.default.createElement(Zye,{machineType:this.props.machineType,onReady:this.onReadyToProbe,probeStatus:this.props.probeStatus}));let l=!this.state.readyToProbe||this.state.probing||!this.state.probeFinished&&this.props.probeStatus===1;return Mh.default.createElement(mt,{title:a,nextCallback:n,nextText:s,altText:o,disableNext:l,altAction:r},Mh.default.createElement("div",null,i))}};y(nA,"propTypes",{onNext:I6.default.func,machineType:I6.default.string,probeStatus:I6.default.number,probeResult:I6.default.number,workPosition:I6.default.object});var e3e=nA;var sA=P("react-redux");var r3e=e=>{let t=(0,sA.useSelector)(ie.getProbeConnectionStatus),r=(0,sA.useSelector)(ie.getProbeResult),o=(0,sA.useSelector)(ie.getPosition).work;return t3e.default.createElement(e3e,{machineType:e.machineType,probeStatus:t,probeResult:r,workPosition:o,onNext:e.onNext})};r3e.propTypes={onNext:tH.default.func,machineType:tH.default.string};var aA=r3e;var cA=class extends la.default.Component{constructor(){super(...arguments);y(this,"state",{probingZ:!1,disableToggled:!1});y(this,"startZProbe",()=>{this.setState({probingZ:!0})});y(this,"repeatCarve",()=>{H.trackEvent(U.repeatCarveStep),this.props.onNext()});y(this,"toggleDisableRepeatCarving",r=>{let o=r.target.checked;this.setState({disableToggled:o}),this.props.onToggleDisableAfterCarve(o)})}render(){return this.state.probingZ?la.default.createElement(aA,{machineType:this.props.machineType,onNext:this.props.onNext}):la.default.createElement(mt,{className:"repeat-carve-walkthrough-step",title:"Almost ready to cut!"},la.default.createElement("div",{className:"substep substep--warning"},la.default.createElement("i",{className:"bi bi-exclamation-triangle fs-1 substep--warning__icon"}),la.default.createElement("div",null,la.default.createElement("h2",null,"Important"),la.default.createElement("p",{className:"substep--warning__text"},"Turn off the spindle before changing the material. Make sure the material is securely clamped."))),la.default.createElement("div",{className:"settings-panel__item"},la.default.createElement("label",{htmlFor:"disable-repeat-carve"},"Disable Repeat Carve after carving (you can enable it back at General Settings)"),la.default.createElement("div",{className:"settings-panel__toggler"},la.default.createElement("input",{id:"disable-repeat-carve",type:"checkbox",onChange:this.toggleDisableRepeatCarving,checked:this.state.disableToggled}))),la.default.createElement("div",{className:"repeat-carve-walkthrough-step__buttons"},la.default.createElement("button",{className:"btn btn-primary btn-lg",onClick:this.startZProbe},"Probe Z"),la.default.createElement("button",{className:"btn btn-primary btn-lg",onClick:this.repeatCarve},"Repeat Carve")),la.default.createElement("div",{className:"force-regular-carve",onClick:this.props.onForceRegularCarve},"< ",la.default.createElement("a",null,"Back to regular carve")))}};y(cA,"propTypes",{onToggleDisableAfterCarve:lA.default.func,onNext:lA.default.func,machineType:lA.default.string});var o3e=cA;var uA=class extends D6.default.Component{constructor(){super(...arguments);y(this,"state",{disable:!1});y(this,"onToggleDisableAfterCarve",r=>{this.setState({disable:r})});y(this,"onFinish",()=>{this.state.disable&&(Fn.updateRepeatCarvingEnabled(!1),N.store.dispatch(Q.actions.setRepeatCarvingEnabled(!1))),this.props.onFinish()})}render(){let r=[];r.push({class:o3e,title:"",props:{onForceRegularCarve:this.props.onForceRegularCarve,onToggleDisableAfterCarve:this.onToggleDisableAfterCarve}}),r.push({class:_0,title:"Start carving",props:{setIsUsingDustShoe:this.props.setIsUsingDustShoe}});let o=D6.default.createElement("div",null,D6.default.createElement("h3",null,"Jog Machine"),D6.default.createElement(up,{context:"walkthrough"}));return D6.default.createElement(vc,{onFinish:this.onFinish,onHide:this.props.onHide,steps:r,showProgress:!1,sidebarContents:o})}};y(uA,"propTypes",{useDetailBit:X9.default.bool,onHide:X9.default.func,onFinish:X9.default.func.isRequired,setIsUsingDustShoe:X9.default.func});var i3e=uA;var Bg=M(P("prop-types"),1),L6=M(P("react"),1);var gd=M(P("react"),1),q9=P("react-redux");var Lg=M(P("react"),1),pA=P("react-redux");var rdt=({active:e,passType:t,icon:r,title:o,children:i})=>{let n=(0,pA.useSelector)(At.getPassType),s=(0,pA.useDispatch)(),a=l=>s(W.actions.setPassType(l));return Lg.default.createElement("div",{className:"choose-pass-type__row"},Lg.default.createElement("label",{htmlFor:`choose-pass-type--${t}`,className:`choose-pass-type__label ${e?" active":""}`},Lg.default.createElement("input",{id:`choose-pass-type--${t}`,className:"choose-pass-type__input",type:"radio",name:"passType",value:t,checked:n===t,onChange:l=>a(l.target.value)}),Lg.default.createElement("i",{className:`bi ${r} fs-3`}),Lg.default.createElement("span",{className:"choose-pass-type__title"},o)),Lg.default.createElement("p",null,i))},Y9=rdt;var n3e=P("react");function zm(e){(0,n3e.useEffect)(e,[])}var odt=({onNext:e})=>{zm(()=>{!r&&!o&&!i&&e()});let t=(0,q9.useSelector)(At.getPassType),r=(0,q9.useSelector)(re.detailBitEnabled),o=(0,q9.useSelector)(re.outlineBitEnabled),i=(0,q9.useSelector)(Ue.isThreeD);return gd.default.createElement(mt,{title:"Choose pass type",nextCallback:e,nextText:"Continue"},gd.default.createElement("form",{className:"choose-pass-type"},r||i?gd.default.createElement(gd.default.Fragment,null,gd.default.createElement(Y9,{active:t==="roughing",passType:"roughing",icon:"bi-record-circle",title:"Roughing pass"},"Carve as much of the design as possible"),gd.default.createElement(Y9,{active:t==="detail",passType:"detail",icon:"bi-bullseye",title:i?"Finishing pass":"Detail pass"},"Carve only areas of the design not reachable with a specified larger bit")):gd.default.createElement(gd.default.Fragment,null,gd.default.createElement(Y9,{active:t==="pocket",passType:"pocket",icon:"bi-record-circle",title:"Pocket pass"},"Carve only pocket cuts")),o&&gd.default.createElement(Y9,{active:t==="outline",passType:"outline",icon:"bi-circle",title:"Outline pass"},"Carve only outline cuts")))},N6=odt;var a3e=M(P("prop-types"),1),l3e=M(P("react"),1),c3e=P("react-redux");var rH=M(P("prop-types"),1),Cp=M(P("react"),1);var dA=class extends Cp.default.Component{render(){let{machineType:t,onNext:r}=this.props,o,i=t===ze.CARVEY?Cp.default.createElement("div",{className:"clamp-img",id:"carvey-clamping-img"},Cp.default.createElement("img",{src:EASEL_ASSETS.images.carveyClampedMaterial,id:"carvey-clamp-img"})):Cp.default.createElement("div",{className:"clamp-img"},Cp.default.createElement("img",{src:EASEL_ASSETS.images.xcarveClampedMaterial}));return t===ze.CARVEY?o=Cp.default.createElement("p",null,"Clamp your material under the Smart Clamp, and use clamps on the sides as shown above."):t===ze.XCARVE_PRO&&(o=Cp.default.createElement("strong",null,"Clamp or secure your material so that it does not move when higher feed rate and depth of cut settings are used.")),Cp.default.createElement(mt,{title:"Clamp down the material",nextCallback:r,nextText:"Material is secure"},Cp.default.createElement("div",{className:"diagram"},i,Cp.default.createElement("div",{className:"explanation"},o,Cp.default.createElement("p",null,"Make sure that your material is fully secure before continuing."))))}};y(dA,"propTypes",{machineType:rH.default.string,onNext:rH.default.func});var s3e=dA;var u3e=({onNext:e})=>{let t=(0,c3e.useSelector)(Y.getMachineType);return l3e.default.createElement(s3e,{machineType:t,onNext:e})};u3e.propTypes={onNext:a3e.default.func};var mA=u3e;var oH=M(P("prop-types"),1),il=M(P("react"),1);var p3e=M(P("prop-types"),1),Zn=M(P("react"),1),O6=P("react-redux");var d3e=({onNext:e})=>{let t=(0,O6.useDispatch)(),r=(0,O6.useSelector)(Dt.isTileSelected),o=(0,O6.useSelector)(Dt.isFirstTileSelected),i=(0,O6.useSelector)(q.getXYZeroLocation),n=r&&!o,s=()=>{ke.setOrigin(),t(At.actions.setUsingLastHome(!1)),e()},a=()=>{t(At.actions.setUsingLastHome(!0)),e()},l=n?"btn-primary":"btn-default",c=n?"btn-default":"btn-primary",u,p;return i==me.XY_ZERO_FRONT_LEFT?(u="front left corner",p=EASEL_ASSETS.images.zeroXYFrontLeft):i==me.XY_ZERO_CENTER&&(u="center",p=EASEL_ASSETS.images.zeroXYCenter),Zn.default.createElement(mt,{title:"Confirm work zero",disableNext:!0},Zn.default.createElement("div",{className:"diagram zero-diagram"},Zn.default.createElement("p",{className:"explanation"},"Choose a new work zero"),Zn.default.createElement("div",{className:"explanation-row"},Zn.default.createElement("div",{className:"split"},Zn.default.createElement("img",{src:p}),Zn.default.createElement("div",{className:"explanation"},Zn.default.createElement("p",null,"Move the bit to the ",Zn.default.createElement("b",null," ",u," ")," of your material"))),Zn.default.createElement("div",{className:"split"},Zn.default.createElement("img",{src:EASEL_ASSETS.images.zeroZ}),Zn.default.createElement("div",{className:"explanation"},Zn.default.createElement("p",null,"Lower the bit to ",Zn.default.createElement("b",null,"the surface")," of your material")))),Zn.default.createElement("div",{className:"explanation"},Zn.default.createElement("button",{className:c+" btn btn-lg",onClick:s},"Use new position")),Zn.default.createElement("hr",null),Zn.default.createElement("div",{className:"explanation"},Zn.default.createElement("p",null,"Or use the last work zero from the previous carve"),Zn.default.createElement("button",{className:l+" btn btn-lg",onClick:a},"Use last position"))))};d3e.propTypes={onNext:p3e.default.func};var m3e=d3e;var fA=class extends il.default.Component{constructor(){super(...arguments);y(this,"state",{methodChosen:null});y(this,"getZeroMethods",()=>({probe:"Z-Probe",manual:"Manual"}));y(this,"chooseProbeMethod",()=>{this.chooseMethod(this.getZeroMethods().probe)});y(this,"chooseManualMethod",()=>{this.chooseMethod(this.getZeroMethods().manual)});y(this,"chooseMethod",r=>{H.trackEvent(`Zero Method: ${r}`),this.setState({methodChosen:r})})}render(){if(!this.props.probeEnabled||this.state.methodChosen===this.getZeroMethods().manual)return il.default.createElement(m3e,{onNext:this.props.onNext});if(this.state.methodChosen===this.getZeroMethods().probe)return il.default.createElement(aA,{machineType:this.props.machineType,onNext:this.props.onNext});{let r;return this.props.XYZeroLocation==me.XY_ZERO_FRONT_LEFT?r=EASEL_ASSETS.images.zeroXYFrontLeft:this.props.XYZeroLocation==me.XY_ZERO_CENTER&&(r=EASEL_ASSETS.images.zeroXYCenter),il.default.createElement(mt,{title:"Work zero",disableNext:!0},il.default.createElement("div",{className:"diagram zero-diagram"},il.default.createElement("p",{className:"explanation"},"Please choose one of the following zeroing methods"),il.default.createElement("div",{className:"explanation-row"},il.default.createElement("div",{className:"split"},il.default.createElement("img",{src:this.props.machineType===ze.XCARVE_PRO?EASEL_ASSETS.images.xcpProbeImage:EASEL_ASSETS.images.probeImage}),il.default.createElement("div",{className:"explanation"},il.default.createElement("button",{className:"btn btn-primary btn-lg",onClick:this.chooseProbeMethod},"Probe"))),il.default.createElement("div",{className:"split"},il.default.createElement("img",{src:r}),il.default.createElement("div",{className:"explanation"},il.default.createElement("button",{className:"btn btn-primary btn-lg",onClick:this.chooseManualMethod},"Manual"))))))}}};y(fA,"propTypes",{machineType:oH.default.string,onNext:oH.default.func});var idt=ne({mapStateToProps:e=>({probeEnabled:Y.getProbeEnabled(e),XYZeroLocation:q.getXYZeroLocation(e)}),component:fA}),hA=idt;var gA=class extends L6.default.Component{render(){let t=!0,{firstScreenNotice:r,onFinish:o,onHide:i,setIsUsingDustShoe:n}=this.props,s=[];return this.props.isMachineLocked&&(s.push({class:Q7,title:"Home machine"}),t=!1),s.push({class:mA,title:"Secure material"}),s.push({class:N6,title:"Choose pass type"}),s.push({class:hA,title:"Work zero",props:{machineType:this.props.machineType}}),s.push({class:_0,title:"Start carving",props:{setIsUsingDustShoe:n}}),r&&(s[0]=xi(s[0],["props","notice"],()=>r)),L6.default.createElement(vc,{onFinish:o,onHide:i,steps:s,showProgress:t,sidebarContents:L6.default.createElement("div",null,L6.default.createElement("h3",null,"Jog Machine"),L6.default.createElement(up,{context:"walkthrough"}))})}};y(gA,"propTypes",{firstScreenNotice:Bg.default.node,isTileSelected:Bg.default.bool,isMachineLocked:Bg.default.bool,onHide:Bg.default.func,onFinish:Bg.default.func.isRequired,setIsUsingDustShoe:Bg.default.func});var ndt=ne({mapStateToProps:e=>({machineType:Y.getMachineType(e),isTileSelected:Dt.isTileSelected(e)}),component:gA}),f3e=ndt;var wp=M(P("prop-types"),1),H6=M(P("react"),1);var yd=M(P("react"),1),yA=P("react-redux");var sdt=({onNext:e})=>{let t=(0,yA.useSelector)(Dt.getSelectedTile),r=(0,yA.useSelector)(Dt.isFirstTileSelected),o=(0,yA.useSelector)(Me.getPreferredUnit);return yd.default.createElement(mt,{title:"Align your material",nextCallback:e,nextText:"Confirm material alignment"},yd.default.createElement("div",{className:"diagram"},yd.default.createElement("img",{src:r?EASEL_ASSETS.images.walkthroughTiling:EASEL_ASSETS.images.walkthroughTilingShift}),!r&&yd.default.createElement("div",{className:"tiling-shift-amount"},yd.default.createElement("h3",null,t.getOffsetDisplayString(o)),yd.default.createElement("i",{className:"bi bi-chevron-down"}))),yd.default.createElement("div",{className:"explanation"},r?yd.default.createElement("p",null,"You are carving the first tile."):yd.default.createElement("p",null,"You are carving a tile. Double check you have",yd.default.createElement("strong",null,` moved your entire piece down ${t.getOffsetDisplayString(o)} `),"from the original work zero.")))},h3e=sdt;var Xi=M(P("react"),1),Z9=P("react-redux");var H0=M(P("react"),1);var iH=class extends H0.default.Component{render(){return H0.default.createElement("div",{className:"confirm-bit"},H0.default.createElement("div",{className:"confirm-bit__container"},H0.default.createElement("div",{className:"confirm-bit__content"},H0.default.createElement("div",{className:"confirm-bit__title"},Nt.descriptionForBit(this.props.bit)+" "+(this.props.bit.groupName??"")),H0.default.createElement("div",{className:"confirm-bit__image-container"},H0.default.createElement("img",{className:"confirm-bit__image",src:this.props.bit.imageURL??EASEL_ASSETS.images?.otherBit})))))}},$9=iH;var adt=({onNext:e})=>{let t=(0,Z9.useSelector)(re.bit),r=(0,Z9.useSelector)(re.detailBit),o=(0,Z9.useSelector)(re.outlineBit),i=(0,Z9.useSelector)(At.getPassType),n=Xi.default.createElement("div",{className:"bit-pass-type--notice"},Xi.default.createElement("p",null,'The entire shaft of the tool should be engaged in the collet with less than 1/4" of length of exposed shaft before the cutting edge begins.'),Xi.default.createElement("p",null,"Properly tighten the collet nut with the provided wrenches to a tightness which will ensure the bit does not slip out of the collect when the machine is cutting, especially with downspiral bits."),Xi.default.createElement("p",null,Xi.default.createElement("em",null,"To change the bit used, close the walkthrough and edit your settings.")));switch(i){case"all":case"roughing":case"pocket":return t?Xi.default.createElement(mt,{title:"Confirm your bit",nextCallback:e,nextText:"Confirm bit size"},Xi.default.createElement("div",{className:"measure-bit-pass-type measure-bit-pass-type-roughing"},Xi.default.createElement($9,{bit:t}),n)):null;case"detail":return r?Xi.default.createElement(mt,{title:"Confirm your bits",nextCallback:e,nextText:"Both bit sizes are correct"},Xi.default.createElement("div",{className:"measure-bit-pass-type measure-bit-pass-type-detail"},Xi.default.createElement("div",{className:"walkthrough-detail-bit-selector"},Xi.default.createElement("div",{className:"walkthrough-detail-bit-selector__bit-chooser-container"},Xi.default.createElement("div",{className:"walkthrough-detail-bit-selector--split"},Xi.default.createElement("h3",null,"Roughing pass bit"),Xi.default.createElement($9,{bit:t})),Xi.default.createElement("div",{className:"walkthrough-detail-bit-selector--split"},Xi.default.createElement("h3",{className:"walkthrough-detail-bit-selector__subtitle"},"Detail pass bit"),Xi.default.createElement($9,{bit:r}),Xi.default.createElement("div",{className:"walkthrough-detail-bit-selector__explanation"},Xi.default.createElement("p",null,"**Easel will",Xi.default.createElement("strong",null," only "),"cut portions of your design reachable by this size bit but not the other bit"))))),n)):null;case"outline":return o?Xi.default.createElement(mt,{title:"Confirm your outline bit",nextCallback:e,nextText:"Confirm bit size"},Xi.default.createElement($9,{bit:o}),n):null}},xA=adt;var aH=M(P("prop-types"),1),Yo=M(P("react"),1),y3e=P("react-redux");var g3e={},nH=[],yu=[],ldt=function(e){nH=e.linePrint(),yu=[];for(let t of nH)t.match(/^M3/)!=null?yu.push({gcode:t,comment:"Spindle on"}):t.match(/^M5/)!=null?yu.push({gcode:t,comment:"Spindle off"}):t==="G20"?yu.push({gcode:t,comment:"Set inches"}):t==="G21"?yu.push({gcode:t,comment:"Set mm"}):t==="M7"?yu.push({gcode:t,comment:"Accessories on"}):t==="M9"?yu.push({gcode:t,comment:"Accessories on"}):t==="G90"?yu.push({gcode:t,comment:"Absolute programming"}):t.match(/^G1/)?yu.push({gcode:t,comment:"Custom position"}):t.match(/^G0 X0/)&&t.match(/Y0/)?yu.push({gcode:t,comment:"Rapid 0,0"}):t.match(/^G4 P/)?yu.push({gcode:t,comment:"Dwell & sync"}):yu.push({gcode:t});return nH=yu};g3e.explain=ldt;var cdt=g3e,sH=cdt;var bA=class extends Yo.default.Component{constructor(){super(...arguments);y(this,"formatGcode",r=>Yo.default.createElement("div",{className:"code-snippet"},r.map((o,i)=>Yo.default.createElement("div",{key:i},o.gcode," ",o.comment?Yo.default.createElement("span",null,"; ",o.comment," "):""))));y(this,"generateHeader",()=>{let r=I5();return $u.addHeader(this.props.postProcessor,r,this.props.initialPosition),sH.explain(r)});y(this,"generateFooter",()=>{let r=I5();return $u.addFooter(this.props.postProcessor,r,this.props.initialPosition,this.props.rapidRetractsEnabled),sH.explain(r)});y(this,"headerFooterMenu",()=>{let r=this.formatGcode(this.state.header),o=this.formatGcode(this.state.footer);return Yo.default.createElement("div",null,Yo.default.createElement("hr",null),Yo.default.createElement("strong",null,"By default Easel will add the following header and footer to your g-code. \xA0",Yo.default.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://en.wikipedia.org/wiki/G-code#List_of_G-codes_commonly_found_on_FANUC_and_similarly_designed_controls_for_milling_and_turning"},Yo.default.createElement("i",{className:"bi bi-question-circle-fill"}))),Yo.default.createElement("div",{className:"gcode-header-footer"},Yo.default.createElement("div",null,Yo.default.createElement("p",null,"Header"),r),Yo.default.createElement("div",null,Yo.default.createElement("p",null,"Footer"),o)),Yo.default.createElement("div",null,Yo.default.createElement("input",{type:"radio",id:"addGcodeHeaderFooter",value:"add",checked:this.props.gcodeHeaderFooter==="add",onChange:this.props.handleChange}),Yo.default.createElement("label",{htmlFor:"addGcodeHeaderFooter"},"Add the header and footer to my g-code file")),Yo.default.createElement("div",null,Yo.default.createElement("input",{type:"radio",id:"removeGcodeHeaderFooter",value:"doNotAdd",checked:this.props.gcodeHeaderFooter==="doNotAdd",onChange:this.props.handleChange}),Yo.default.createElement("label",{htmlFor:"removeGcodeHeaderFooter"},Yo.default.createElement("strong",null,"DO NOT")," make changes to my g-code file")))});y(this,"state",{header:this.generateHeader(),footer:this.generateFooter()})}render(){return Yo.default.createElement(mt,{title:"Importing G-code",nextCallback:this.props.onNext,notice:this.props.notice,nextText:"I understand"},Yo.default.createElement("div",{className:"simple-diagram"},Yo.default.createElement("div",{id:"gcode-warning-image"},Yo.default.createElement("img",{src:EASEL_ASSETS.images.gcodeEasel,id:"gcode-warning"})),Yo.default.createElement("div",{className:"explanation"},Yo.default.createElement("p",null,"As a reminder, Easel relies on the g-code file's settings for feed rate, depth per pass, safety height and material thickness. If you need to change these settings, you'll need to make the changes in your CAM software and upload the new g-code file."),this.props.handleChange!==void 0?this.headerFooterMenu():null)))}};y(bA,"propTypes",{onNext:aH.default.func,notice:aH.default.func});var udt=(0,y3e.connect)(e=>{let t=Y.isCarvey(e)?{x:.7874015748031497,y:.7874015748031497,z:.7874015748031497}:{x:0,y:0,z:Q.getOriginSafetyHeight({safetyHeight:Ge.getSafetyHeight(e)},e)};return{postProcessor:bt.currentPostProcessor(e),rapidRetractsEnabled:Q.getRapidRetractsEnabled(e),initialPosition:t}},{}),pdt=udt(bA),vA=pdt;var P3e=M(P("react"),1),J9=P("react-redux");var Xm=M(P("react"),1),S3e=P("react-redux");var F6=M(P("prop-types"),1),SA=M(P("react"),1);var ddt=function(e,t,r){let o=[];if(t[0]==="top"?o[0]=-1*r:o[0]=e-r,t.length===2)t[1]==="top"?o[1]=-1*e:o[1]=0;else{let i=e-2*r;t[1]==="top"?o[1]=-1*(r+i):o[1]=r,t[2]==="top"?o[2]=-1*e:o[2]=0}return o},lH=function(e,t){let r=t[0];if(r.relativeTo==="top")return-1*r.bottomZ;if(r.relativeTo==="bottom")return e-r.bottomZ},x3e=function(e,t){let r=lH(e,t);return t.length===2?e-r:e-2*r},mdt=(e,t)=>lH(e,t)>=0&&x3e(e,t)>=0,fdt={thicknessToDepths:ddt,outerLayerThickness:lH,innerLayerThickness:x3e,validate:mdt},Fg=fdt;var hdt=function(e,t,r){return new Promise(function(o,i){let n=N.store.getState(),s=ye.getVolumes(n),a=q.getActiveMaterial(n),l=q.getMaterialDimensions(n).z,c=e/Ve.inchesPerUnit(t),u=s.filter(m=>m.cut.depth!==l).map(m=>m.cut.depth),p=Math.max(...u);return(a.layerNames!=null&&a.layerNames.length)>1&&!Fg.validate(e,a.color.layers)?(H.trackEvent("Material Thickness Error",{source:`${r}, layer validation`,newThickness:e,currentThickness:l}),Fe("Cannot change material thickness",`Your material layer thicknesses exceed ${c} ${t}.         Reduce the layer thicknesses first, and then adjust the material thickness.`),i()):e===p?(H.trackEvent("Material Thickness Error",{source:r,newThickness:e,currentThickness:l,maxPartialDepth:p}),Fe("Are you sure you want to change material thickness?",`Some objects in your design are set to carve at ${c} ${t}.       These objects will change from engravings to cutouts. Are you sure       you want to change the thickness?`,[{text:"Change Thickness",action:o},{text:"Cancel",action:i}])):e<=p?(H.trackEvent("Material Thickness Error",{source:r,newThickness:e,currentThickness:l,maxPartialDepth:p}),Fe("Cannot change material thickness",`Some objects in your design are set to carve deeper than ${c} ${t}.       Make the depths shallower first, and then adjust the thickness.`),i()):o()})},B6=hdt;var cH=class extends SA.default.Component{constructor(){super(...arguments);y(this,"displayDepth",r=>{let o=this.props.preferredUnit,{preferredUnitsPerInch:i}=this.props,n={mm:1,in:3}[o];return`${(r*i).toFixed(n)} ${o}`});y(this,"onSubmit",r=>{let o=this.props.preferredUnit;if(r=f5.parseInputToInches(r,o),r==null||!(r>0)){this.forceUpdate();return}B6(r,o,"walkthrough").then(()=>{this.props.setMaterialDimensions({dimensions:{z:r}})}).catch(()=>this.forceUpdate())})}shouldComponentUpdate(r){return this.props.preferredUnit!==r.preferredUnit||this.props.materialDimensions.z!==r.materialDimensions.z}render(){let r=this.props.materialDimensions&&this.props.materialDimensions.z;return r?SA.default.createElement(Vn,{id:this.props.id,size:"7",initialValue:this.displayDepth(r),submit:this.onSubmit}):SA.default.createElement("div",null)}},gdt=ne({mapDispatchToProps:e=>({setMaterialDimensions(t){return e(W.actions.setMaterialDimensions(t))}}),propTypes:{id:F6.default.string,material:F6.default.object,preferredUnit:F6.default.string,preferredUnitsPerInch:F6.default.number,materialDimensions:F6.default.object},component:cH}),b3e=gdt;var Jn=M(P("react"),1),CA=P("react-redux"),W6=P("react-bootstrap");var ydt=({material:e,inputId:t,onSetMaterial:r})=>{let o=(0,CA.useSelector)(q.getAllMaterials),i=(0,CA.useSelector)(q.areMaterialsLoading),n=(0,CA.useSelector)(q.getDefaultBoxMaterial),s=l=>{let c=o[parseInt(l,10)];r(c)},a={backgroundImage:"repeating-linear-gradient(-45deg, #ccc 0, #ccc 1.2px, #fff 0, #fff 50%)",backgroundSize:"8px 8px"};return Jn.default.createElement(W6.Dropdown,{className:"select-dropdown-with-image",onSelect:l=>l&&s(l)},Jn.default.createElement(W6.Dropdown.Toggle,{id:t,variant:"none",className:"select-dropdown-with-image__button"},i&&Jn.default.createElement(Jn.default.Fragment,null,Jn.default.createElement("img",{className:"select-dropdown-with-image__image",alt:""}),Jn.default.createElement("span",{className:"select-dropdown-with-image__text"},"Loading...")),!i&&(e?Jn.default.createElement(Jn.default.Fragment,null,e.textureUrl?Jn.default.createElement("img",{className:"select-dropdown-with-image__image",src:e.textureUrl,alt:e.name}):Jn.default.createElement("span",{className:"select-dropdown-with-image__image",style:a}),Jn.default.createElement("span",{className:"select-dropdown-with-image__text"},e.name)):Jn.default.createElement(Jn.default.Fragment,null,Jn.default.createElement("img",{className:"select-dropdown-with-image__image",src:n.textureUrl,alt:n.name}),Jn.default.createElement("span",{className:"select-dropdown-with-image__text"},n.name)))),Jn.default.createElement(W6.Dropdown.Menu,{className:"select-dropdown-with-image__menu"},i&&Jn.default.createElement(W6.Dropdown.Item,{className:"select-dropdown-with-image__menu__item"},Jn.default.createElement(Re,null)),o.map((l,c)=>Jn.default.createElement(W6.Dropdown.Item,{id:`material-${l.name}`,eventKey:c.toString(),key:`${c}-${l.name}`,active:!!e&&l.name===e.name},Jn.default.createElement("img",{className:"select-dropdown-with-image__image",src:l.textureUrl,alt:l.name}),l.name))))},v3e=ydt;var xdt=e=>{let t=(0,S3e.useDispatch)(),r=o=>{t(W.actions.selectMaterial(o))};return Xm.default.createElement(mt,{title:"Measure the material",nextCallback:e.onNext,nextText:"Confirm material thickness",notice:e.notice},Xm.default.createElement("div",{className:"diagram"},Xm.default.createElement("img",{src:EASEL_ASSETS.images.measureMaterial,width:"500"})),Xm.default.createElement("div",{className:"explanation material-explanation"},Xm.default.createElement("p",{className:"form-inline d-block"},"Enter the ",Xm.default.createElement("b",null,"exact thickness")," of the material:",Xm.default.createElement(b3e,{id:"carving-walkthrough-material-thickness",material:e.material,materialDimensions:e.materialDimensions,preferredUnit:e.preferredUnit,preferredUnitsPerInch:e.preferredUnitsPerInch})),Xm.default.createElement("div",{className:"form-inline d-block"},"Confirm the type of the material:",Xm.default.createElement(v3e,{material:e.material,onSetMaterial:r}))))},C3e=xdt;var bdt=({notice:e,onNext:t})=>{let r=(0,J9.useSelector)(Me.getPreferredUnit),o=(0,J9.useSelector)(Me.preferredUnitsPerInch),i=(0,J9.useSelector)(q.getActiveMaterial),n=(0,J9.useSelector)(q.getMaterialDimensions);return P3e.default.createElement(C3e,{material:i,materialDimensions:n,preferredUnit:r,preferredUnitsPerInch:o,notice:e,onNext:t})},PA=bdt;var Q9=M(P("react"),1),ev=P("react-redux");var vs=M(P("react"),1),G6=P("react-redux");var U6=M(P("react"),1),R6=M(P("prop-types"),1);var pH=M(P("react"),1);var xu=M(P("react"),1);var uH=class extends xu.default.Component{constructor(){super(...arguments);y(this,"toggleRunning",r=>(r.preventDefault(),this.props.running?this.props.stopAnimation():this.props.currentFrame===this.props.maxFrame?this.props.resetAndStartAnimation():this.props.startAnimation()));y(this,"onUpdateSpeedMultiplier",(r,o)=>{r.preventDefault(),this.props.setSpeedMultiplier(Math.pow(2,o))});y(this,"onUpdateFrame",r=>{let o=r.target.value;this.props.setFrame(parseInt(o))});y(this,"onSkipToEnd",()=>{this.props.setFrame(this.props.maxFrame)});y(this,"onSkipToStart",()=>{this.props.setFrame(0)})}render(){if(this.props.maxFrame==null||this.props.currentFrame==null)return null;let r=Math.log(this.props.speedMultiplier)/Math.log(2),o="btn btn-primary";return xu.default.createElement("div",{className:"animation-controls"},xu.default.createElement("div",{className:"animation-controls__play"},xu.default.createElement("button",{className:`btn btn-primary bi ${this.props.running?"bi-pause-fill":"bi-play-fill"}`,"aria-label":this.props.running?"Pause":"Play",onClick:this.toggleRunning,disabled:!this.props.toolpathsVisible})),xu.default.createElement("div",{className:"animation-controls__speed"},xu.default.createElement("button",{onClick:i=>this.onUpdateSpeedMultiplier(i,r-1),className:`${o} px-3`,"aria-label":"Decrease Speed",disabled:r<=-2||!this.props.toolpathsVisible},"-"),xu.default.createElement("span",null,this.props.speedMultiplier>=1?`${this.props.speedMultiplier.toFixed(0)}x`:`1/${(1/this.props.speedMultiplier).toFixed(0)}x`),xu.default.createElement("button",{onClick:i=>this.onUpdateSpeedMultiplier(i,r+1),type:"button",className:`${o} px-3`,"aria-label":"Increase Speed",disabled:r>=5||!this.props.toolpathsVisible},"+")),xu.default.createElement("div",{className:"animation-controls__frame"},xu.default.createElement("button",{onClick:this.onSkipToStart,className:`${o} bi bi-rewind-fill`,"aria-label":"Skip to Start",disabled:!this.props.toolpathsVisible}),xu.default.createElement("input",{type:"range",name:"animation_controls",className:"animation-controls__slider",min:0,max:this.props.maxFrame,value:this.props.currentFrame,onChange:this.onUpdateFrame,disabled:!this.props.toolpathsVisible}),xu.default.createElement("button",{onClick:this.onSkipToEnd,className:`${o} bi bi-fast-forward-fill`,"aria-label":"Skip to End",disabled:!this.props.toolpathsVisible})))}},w3e=uH;var dH=class extends pH.default.Component{constructor(){super(...arguments);y(this,"state",{frame:0,maxFrame:1,multiplier:1,timerId:null});y(this,"startAnimation",(r=this.state.frame)=>{let o=setInterval(()=>{let{frame:i,maxFrame:n,multiplier:s}=this.state;i>=n?this.stopAnimation():this.setFrame(i+s)},33);this.setState({timerId:o}),this.setFrame(r)});y(this,"stopAnimation",()=>{let{timerId:r}=this.state;r!=null&&(clearInterval(r),this.setState({timerId:null}))});y(this,"setFrame",r=>{let{toolpathsVisible:o,onFrameChange:i}=this.props;r=Rd(r,0,this.state.maxFrame);let n=0;for(let{mesh:s,bitMesh:a}of this.props.passes){let l=s.geometry.attributes.position;if(r===0||n+l.count<r)s.geometry.setDrawRange(0,l.count),a&&(a.visible=!1);else if(r<=n)s.geometry.setDrawRange(0,0),a&&(a.visible=!1);else{let c=Math.floor(r-n);if(s.geometry.setDrawRange(0,c),a){let u=c-1;a.position.set(l.getX(u),l.getY(u),l.getZ(u)),a.visible=o}}s.visible=o,n+=l.count}this.props.render(),this.setState({frame:r},()=>{i?.({min:0,max:this.state.maxFrame,current:r})})});y(this,"setMultiplier",r=>{this.setState({multiplier:r})})}render(){let{toolpathsVisible:r}=this.props,{frame:o,maxFrame:i,multiplier:n,timerId:s}=this.state;return pH.default.createElement(w3e,{toolpathsVisible:r,currentFrame:o,maxFrame:i,running:s!=null,speedMultiplier:n,setFrame:this.setFrame,setSpeedMultiplier:this.setMultiplier,startAnimation:this.startAnimation,stopAnimation:this.stopAnimation,resetAndStartAnimation:()=>this.startAnimation(0)})}componentDidMount(){this.setState({maxFrame:lL(this.props.passes,r=>r.mesh?.geometry.attributes.position.count)})}componentWillUnmount(){let{timerId:r}=this.state;r!=null&&(clearInterval(r),this.setState({timerId:null}))}componentDidUpdate(r){let{passes:o,toolpathsVisible:i}=this.props,n=r.passes.flatMap(a=>[a.mesh?.uuid,a.bitMesh?.uuid]),s=o.flatMap(a=>[a.mesh?.uuid,a.bitMesh?.uuid]);if(_r(n,s))i!==r.toolpathsVisible&&this.setFrame(this.state.frame);else{let{timerId:a}=this.state;a!==null&&clearInterval(a),this.setState({frame:0,maxFrame:lL(o,l=>l.mesh.geometry.attributes.position.count),timerId:null})}}},V6=dH;var wA=M(P("react"),1);var _A=({gcodePasses:e})=>wA.default.createElement("div",null,wA.default.createElement("i",{className:"bi bi-clock"}),wA.default.createElement("span",{className:"gcode-sender__time-estimate"},e.map(t=>fa.durationFromMinutes(t.timeEstimate)).join(" + ")));var kA=class extends U6.default.Component{constructor(r){super(r);y(this,"visualizeGcode",r=>{if(r.length==this.state.meshData.length&&this.state.meshData.every(({gcode:n},s)=>n===r[s].gcode))return;this.disposeMeshes();let o=.003,i=[];for(let n of r){let{gcode:s,jobSettings:{passType:a}}=n,l=mm.createMesh(n.gcode,a);l.geometry.translate(0,0,this.props.materialThickness+o);let c=N.store.getState(),u={outline:rt(re.outlineBit(c)),detail:rt(re.detailBit(c))}[a]||rt(re.bit(c)),p=mm.createBitMesh(u);i.push({gcode:s,mesh:l,toolMesh:p}),this.props.previewPanel.addMeshes([l,p])}this.setState({meshData:i}),this.props.previewPanel.render()});y(this,"disposeMeshes",()=>{let{meshData:r}=this.state;for(let o of r)this.disposeMesh(o.mesh),o.toolMesh!=null&&(o.toolMesh.type==="Group"?o.toolMesh.children.forEach(i=>{this.disposeMesh(i)}):this.disposeMesh(o.toolMesh));r.length>0&&this.setState({meshData:[]})});y(this,"disposeMesh",r=>{r.geometry.dispose(),r.material.dispose(),this.props.previewPanel.removeMeshes([r])});this.state={meshData:[]}}componentDidMount(){this.visualizeGcode(this.props.gcodePasses)}componentWillUnmount(){this.disposeMeshes()}componentDidUpdate(){if(!this.props.toolpathsVisible){this.disposeMeshes(),this.props.previewPanel.render();return}this.visualizeGcode(this.props.gcodePasses)}render(){let{meshData:r}=this.state;return U6.default.createElement(U6.default.Fragment,null,U6.default.createElement(V6,{passes:r.map(o=>({mesh:o.mesh,bitMesh:o.toolMesh})),render:()=>this.props.previewPanel.render(),toolpathsVisible:this.props.toolpathsVisible,onFrameChange:this.props.onFrameChange}),U6.default.createElement(_A,{gcodePasses:this.props.gcodePasses}))}};y(kA,"propTypes",{gcodePasses:R6.default.array.isRequired,previewPanel:R6.default.object.isRequired,toolpathsVisible:R6.default.bool,materialThickness:R6.default.number.isRequired,onFrameChange:R6.default.func});var TA=kA;var Pp=M(P("three"),1),EA=class extends HTMLElement{constructor(t,r){super(),this.camera=t,this.options=Object.assign({size:90,padding:8,bubbleSizePrimary:8,bubbleSizeSecondary:6,showSecondary:!0,lineWidth:2,fontSize:"11px",fontFamily:"arial",fontWeight:"bold",fontColor:"#151515",fontYAdjust:0,colors:{x:["#f73c3c","#942424"],y:["#6ccb26","#417a17"],z:["#178cf0","#0e5490"]}},r),this.onAxisSelected=null,this.bubbles=[{axis:"x",direction:new Pp.Vector3(1,0,0),size:this.options.bubbleSizePrimary,color:this.options.colors.x,line:this.options.lineWidth,label:"X"},{axis:"y",direction:new Pp.Vector3(0,1,0),size:this.options.bubbleSizePrimary,color:this.options.colors.y,line:this.options.lineWidth,label:"Y"},{axis:"z",direction:new Pp.Vector3(0,0,1),size:this.options.bubbleSizePrimary,color:this.options.colors.z,line:this.options.lineWidth,label:"Z"},{axis:"-x",direction:new Pp.Vector3(-1,0,0),size:this.options.bubbleSizeSecondary,color:this.options.colors.x},{axis:"-y",direction:new Pp.Vector3(0,-1,0),size:this.options.bubbleSizeSecondary,color:this.options.colors.y},{axis:"-z",direction:new Pp.Vector3(0,0,-1),size:this.options.bubbleSizeSecondary,color:this.options.colors.z}],this.center=new Pp.Vector3(this.options.size/2,this.options.size/2,0),this.selectedAxis=null,this.innerHTML="<canvas width='"+this.options.size+"' height='"+this.options.size+"'></canvas>",this.onMouseMove=this.onMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onMouseClick=this.onMouseClick.bind(this)}connectedCallback(){this.canvas=this.querySelector("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.addEventListener("mousemove",this.onMouseMove,!1),this.canvas.addEventListener("mouseout",this.onMouseOut,!1),this.canvas.addEventListener("click",this.onMouseClick,!1)}disconnectedCallback(){this.canvas.removeEventListener("mousemove",this.onMouseMove,!1),this.canvas.removeEventListener("mouseout",this.onMouseOut,!1),this.canvas.removeEventListener("click",this.onMouseClick,!1)}onMouseMove(t){let r=this.canvas.getBoundingClientRect();this.mouse=new Pp.Vector3(t.clientX-r.left,t.clientY-r.top,0),this.updateSelectedAxis()}onMouseOut(){this.mouse=null,this.updateSelectedAxis()}onMouseClick(){this.onAxisSelected&&typeof this.onAxisSelected=="function"&&this.selectedAxis!=null&&this.onAxisSelected({axis:this.selectedAxis.axis,direction:this.selectedAxis.direction.clone()})}clear(){this.context?.clearRect(0,0,this.canvas.width,this.canvas.height)}updateSelectedAxis(){let t=1/0,r=this.getLayers();if(this.selectedAxis=null,this.mouse!=null)for(var o of r){let i=this.mouse.distanceTo(o.position);(i<t||i<o.size)&&(t=i,this.selectedAxis=o)}this.update()}drawCircle(t,r=10,o="#FF0000"){this.context.beginPath(),this.context.arc(t.x,t.y,r,0,2*Math.PI,!1),this.context.fillStyle=o,this.context.fill(),this.context.closePath()}drawLine(t,r,o=1,i="#FF0000"){this.context.beginPath(),this.context.moveTo(t.x,t.y),this.context.lineTo(r.x,r.y),this.context.lineWidth=o,this.context.strokeStyle=i,this.context.stroke(),this.context.closePath()}getLayers(){let t=[];for(let r of this.bubbles)(this.options.showSecondary===!0||r[0]!=="-")&&t.push(r);return t}update(){this.clear();let r=new Pp.Matrix4().makeRotationFromEuler(this.camera.rotation).clone().invert();for(var o of this.bubbles)o.position=this.getBubblePosition(o.direction.clone().applyMatrix4(r));let i=this.getLayers();i.sort((n,s)=>n.position.z>s.position.z?1:-1),this.drawLayers(i)}drawLayers(t){for(let r of t){let o=r.color;this.selectedAxis===r?o="#FFFFFF":r.position.z>=-.01?o=r.color[0]:o=r.color[1],this.drawCircle(r.position,r.size,o),r.line&&this.drawLine(this.center,r.position,r.line,o),r.label&&(this.context.font=[this.options.fontWeight,this.options.fontSize,this.options.fontFamily].join(" "),this.context.fillStyle=this.options.fontColor,this.context.textBaseline="middle",this.context.textAlign="center",this.context.fillText(r.label,r.position.x,r.position.y+this.options.fontYAdjust))}}getBubblePosition(t){return new Pp.Vector3(t.x*(this.center.x-this.options.bubbleSizePrimary/2-this.options.padding)+this.center.x,this.center.y-t.y*(this.center.y-this.options.bubbleSizePrimary/2-this.options.padding),t.z)}};window.customElements?.define("orientation-gizmo",EA);var _3e=EA;var k3e=P("three/examples/jsm/controls/OrbitControls.js");var mH=class{constructor(t={}){this.init(t)}getMaterialBoundary(){let t=N.store.getState(),r=q.getMaterialDimensions(t),o=q.getXYZeroLocation(t);return{...ot.materialBoundary(r,o),minZ:0,maxZ:r.z}}homeCamera(t){let{lookAt:r,position:o}=this.renderer.calculateHomeCamera(t);this.controls.target.set(r.x,r.y,r.z),this.controls.object.position.set(o.x,o.y,o.z),this.controls.update(),this.renderer.render()}init(t){this.renderer=new G3(t),this.controls=new k3e.OrbitControls(this.renderer.camera,this.renderer.getDOMElement()),this.controls.minPolarAngle=1e-5,this.controls.maxPolarAngle=t.maxPolarAngle!=null?t.maxPolarAngle:Math.PI/2-.25,this.controls.enablePan=!0,this.controls.minDistance=.5,this.controls.maxDistance=400,this.controls.rotateSpeed=.3,this.controls.zoomSpeed=.5,this.controls.panSpeed=1.6,this.controls.addEventListener("change",this.renderer.render.bind(this.renderer)),t.showGizmo&&(this.orientationGizmo=new _3e(this.renderer.camera,{size:100,padding:8}),this.orientationGizmo.onAxisSelected=this.onClickAxis.bind(this),this.renderer.setOrientationGizmo(this.orientationGizmo));let{canvas:r}=this.renderer.getRenderContext();r.classList.add("three-dimensional-renderer"),t.automateCamera&&(this.homeCamera(this.getMaterialBoundary()),this.unsubscribeCamera=N.store.subscribeWithSelector(q.getDimensionsAndOrigin,()=>this.homeCamera(this.getMaterialBoundary())))}onKeyDown(t){this.controls.onKeyDown(t),this.renderer.render()}checkForAndShowWebGLError(){let t=this.renderer.getRenderContext().canvas.getContext("webgl");t.getError()!==t.NO_ERROR&&Fe("WebGL Error","Please exit any other GPU intensive processes and reload the page. If the error persists, please try Easel in another browser.")}render(){this.renderer.renderLater()}add(t){this.renderer.add(t)}setSize(t,r){this.renderer.setSize(t*me.PIXEL_RATIO,r*me.PIXEL_RATIO);let o=this.renderer.getDOMElement();o.style.width=`${t}px`,o.style.height=`${r}px`}getCamera(){return this.renderer.camera}getCameraPosition(){return this.renderer.getCameraPosition()}setCameraPosition(t){this.renderer.setCameraPosition(t),this.controls.update()}getCameraViewCenter(){return this.controls.target}setCameraViewCenter(t){this.controls.target.set(t.x,t.y,t.z),this.controls.update(),this.renderer.renderNow()}onClickAxis(t){let r=this.getMaterialBoundary(),o=this.getCameraViewCenter(),n=Math.max(r.maxX-r.minX,r.maxY-r.minY)+3;if(t.direction.z===0){let l=t.direction.x;t.direction.x=t.direction.y*-1,t.direction.y=l*-1}let s=t.direction.multiplyScalar(n);this.controls.target.set((r.minX+r.maxX)/2,(r.minY+r.maxY)/2,(r.minZ+r.maxZ)/2);let a=s.add(o);this.setCameraPosition(a),this.controls.update()}getDOMElement(){return this.renderer.getDOMElement()}addMeshes(t){this.renderer.addMeshes(t)}removeMeshes(t){this.renderer.removeMeshes(t)}getOrientationGizmo(){return this.renderer.orientationGizmo}dispose(){this.unsubscribeCamera?.(),this.renderer.dispose(),this.controls.dispose()}},z0=mH;var xd=M(P("three"),1);var vdt={render(e){let{drawingContext:t,workAreaPadding:r,pixelsPerInch:o}=e;t.fillStyle="rgba(255, 255, 255, 0)",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.translate(r*o,r*o),j3.render(e)}},T3e=vdt;var Sdt={wasteboard:1,cutDepthPlane:2,selectionRect:3},j6=Sdt;var Cdt=function(){let e={},t=null,r=null,o=null,i=144,n=null,s=null,a=1,l=function(){let f=Y.getWorkArea(N.store.getState());return{x:f.x||11.2,y:f.y||11.2}},c=()=>({x:l().x+2*a,y:l().y+2*a}),u=()=>{let f=N.store.getState(),x=q.getMaterialDimensions(f),v=q.getXYZeroLocation(f),b=ot.materialBoundary(x,v);return{x:b.minX,y:b.minY}},p=function(){n=Me.getPreferredUnit(N.store.getState()),r.width=c().x*i,r.height=c().y*i,o.dispose(),o=new xd.Texture(r),B3.setNonPowerOfTwoSettings(o),s.map=o,T3e.render({drawingContext:r.getContext("2d"),units:n,pixelsPerInch:i,size:{width:l().x,height:l().y},workAreaPadding:a}),o.needsUpdate=!0,s.needsUpdate=!0},m=function(){t.scale.set(c().x,c().y,1),t.position.set(u().x+l().x/2,u().y+l().y/2,0)},h=function(f){r=document.createElement("canvas"),r.width=c().x*i,r.height=c().y*i,o=new xd.Texture(r),B3.setNonPowerOfTwoSettings(o),o.needsUpdate=!0;let x=new xd.PlaneGeometry(1,1);return s=new xd.MeshBasicMaterial({map:o,transparent:!0,side:xd.DoubleSide}),t=new xd.Mesh(x,s),t.renderOrder=j6.wasteboard,m(),p(),N.store.subscribeWithSelector(q.getDimensionsAndOrigin,m),N.store.subscribeWithSelector(Y.getWorkArea,function(){m(),p()}),N.store.subscribeWithSelector(Me.getPreferredUnit,function(v){n!==v&&(p(),f())}),e};return e.getMesh=()=>t,e.init=h,e},X0=Cdt;var Pdt=e=>{let t=(0,G6.useDispatch)(),r=(0,vs.useRef)(null),o=(0,vs.useRef)(null),i=(0,vs.useRef)(null),n=(0,vs.useRef)(null),s=(0,vs.useRef)(!1),[a,l]=(0,vs.useState)(!1),[c,u]=(0,vs.useState)(0),[p,m]=(0,vs.useState)({min:0,max:0}),h=(0,G6.useSelector)(q.getMaterialThickness),f=(0,G6.useSelector)(At.getSelectedGcodePass),x=(0,G6.useSelector)(At.getStartPercentage);zm(()=>{r.current=new z0({automateCamera:!0}),o.current.appendChild(r.current.getDOMElement()),r.current.setSize(500,400);let S=X0().init(r.current.render.bind(r.current));return r.current.addMeshes([S.getMesh()]),n.current=W3.init(r.current),i.current=F3(n.current),Ju.init(n.current),l(!0),f||J.emit("generate-toolpaths"),()=>{r.current?.dispose(),s.current=!1}}),(0,vs.useEffect)(()=>{if(a&&f&&i.current&&!s.current){let S=f.jobSettings,w={...S};S.strokeBit&&(w.strokeBit=rt(S.strokeBit)),S.lastBit&&(w.lastBit=rt(S.lastBit)),i.current.renderPreview([],w,()=>{},void 0,()=>!0),s.current=!0}},[a,f]);let v=({min:S,max:w,current:_})=>{u(_),m({min:S,max:w})};return(0,vs.useEffect)(()=>{let S=p.max>0?c*100/p.max:0;t(At.actions.setStartPercentage(S))},[c,p.max,t]),vs.default.createElement(mt,{title:"Select Starting Point",nextCallback:()=>{J.emit("generate-toolpaths",{startPercentage:x/100}),e.onNext()},nextText:"Continue"},vs.default.createElement("div",{className:"d-flex justify-content-center"},vs.default.createElement("div",{ref:o})),(!a||!f)&&vs.default.createElement(Re,null),a&&f&&vs.default.createElement("div",{id:"review-toolpaths-animator-container",className:"text-center"},vs.default.createElement(TA,{gcodePasses:[f],previewPanel:r.current,toolpathsVisible:!0,materialThickness:h,onFrameChange:v})))},E3e=Pdt;var K9=M(P("react"),1);var wdt=({onNext:e})=>K9.default.createElement(mt,{title:"Partial Carve Warning",nextCallback:e,nextText:"I understand"},K9.default.createElement("div",{className:"diagram"},K9.default.createElement("div",{className:"warning-message d-flex align-items-center"},K9.default.createElement("p",null,"You have chosen to start a carve from a custom point, which can be dangerous. It is your responsibility to ensure that you have chosen a safe starting point and that your workpiece is properly prepared for beginning at this position. Extra caution is suggested.")))),M3e=wdt;var _dt=({onNext:e})=>{let t=(0,ev.useDispatch)(),[r,o]=(0,Q9.useState)(!1),i=(0,ev.useSelector)(At.getStartPercentage),n=(0,ev.useSelector)(u=>xo.authorizedToCarve(Date.now(),u)),s=He(U.resumeCarveSelected),a=He(U.resumeCarveConfirmed),l=()=>{if(i>0){if(!n){J.emit("hide-walkthrough"),t(De.actions.showUserModalAccountTab());return}o(!0),s({"Start Percentage":i})}else e()},c=()=>{a({"Start Percentage":i}),o(!1),e()};return r?Q9.default.createElement(M3e,{onNext:c}):Q9.default.createElement(E3e,{onNext:l})},A3e=_dt;var MA=class extends H6.default.Component{render(){let t=!0,{isTileSelected:r,firstScreenNotice:o,onFinish:i,onHide:n,isExternalGcode:s,gcodeHeaderFooter:a,handleChange:l,useDetailBit:c,useOutlineBit:u,setIsUsingDustShoe:p}=this.props,m=r,h=[];return this.props.isMachineLocked&&(h.push({class:Q7,title:"Home machine"}),t=!1),m&&h.push({class:h3e,title:"Align material"}),s?h.push({class:vA,title:"Importing Gcode",props:{gcodeHeaderFooter:a,handleChange:l}}):h.push({class:PA,title:"Measure material"}),o&&(h[0]=xi(h[0],["props","notice"],()=>o)),h.push({class:mA,title:"Secure material"}),s||((c||u)&&h.push({class:N6,title:"Choose pass type"}),h.push({class:xA,title:"Confirm bit"})),h.push({class:hA,title:"Work zero",props:{machineType:this.props.machineType}}),it("resume_carve")&&this.props.isResumingCarve&&h.push({class:A3e,title:"Select Starting Point"}),h.push({class:_0,title:"Start carving",props:{setIsUsingDustShoe:p}}),H6.default.createElement(vc,{onFinish:i,onHide:n,steps:h,showProgress:t,sidebarContents:H6.default.createElement("div",null,H6.default.createElement("h3",null,"Jog Machine"),H6.default.createElement(up,{context:"walkthrough"}))})}};y(MA,"propTypes",{firstScreenNotice:wp.default.node,isTileSelected:wp.default.bool,useDetailBit:wp.default.bool,gcodeHeaderFooter:wp.default.string,handleChange:wp.default.func,isExternalGcode:wp.default.bool,isMachineLocked:wp.default.bool,onHide:wp.default.func,onFinish:wp.default.func.isRequired,setIsUsingDustShoe:wp.default.func,isResumingCarve:wp.default.bool});var kdt=ne({mapStateToProps:e=>({machineType:Y.getMachineType(e),isTileSelected:Dt.isTileSelected(e),materialThickness:q.getMaterialThickness(e),isResumingCarve:At.getIsResumingCarve(e)}),component:MA}),I3e=kdt;var Tdt={selection:{},previewMode:"2d",recentAction:void 0},D3e=We({name:"manufacturingUI",initialState:Tdt,reducers:{setSelection(e,t){t.payload.sheet?.id!==e.selection.sheet&&delete e.recentAction,e.selection={cutList:t.payload.cutList?.id??e.selection.cutList,sheet:t.payload.sheet?.id,panel:t.payload.panel?.id,dimensionalStockIndex:t.payload.dimensionalStockIndex}},setPreviewMode(e,t){e.previewMode=t.payload}},extraReducers:e=>{e.addCase(Ha.actions.deleteCutList,(t,r)=>{t.selection.cutList===r.payload.id&&(t.selection={}),delete t.recentAction}),e.addCase(Ha.actions.createCutList,(t,r)=>{t.selection=N3e(r.payload.cutList),t.recentAction={type:"create",cutList:r.payload.cutList.id}}),e.addCase(Ha.actions.loadCutLists,(t,r)=>{r.payload&&r.payload.length>0&&(t.selection=N3e(r.payload[0])),delete t.recentAction}),e.addCase(Ha.actions.deleteCutListPanel,(t,r)=>{delete t.selection.panel,t.recentAction={type:"delete",cutList:r.payload.cutList.id,panelLabel:r.payload.panel.label}}),e.addCase(Ha.actions.copyCutListPanel,(t,r)=>{delete t.selection.panel,t.recentAction={type:"copy",cutList:r.payload.cutList.id,panelLabel:r.payload.panel.label,sheet:r.payload.toSheetId}}),e.addCase(Ha.actions.moveCutListPanel,(t,r)=>{delete t.selection.panel,t.recentAction={type:"move",cutList:r.payload.cutList.id,panelLabel:r.payload.panel.label,sheet:r.payload.toSheetId}})}}),N3e=e=>{let t={cutList:e.id};return e.options.manufacturing.method!=="faceframes"?e.nestings.length>0&&e.nestings[0].sheets.length>0&&(t.sheet=e.nestings[0].sheets[0].id):e.faceFrameStocks.length>0&&(t.dimensionalStockIndex=0),t},AA=e=>e.manufacturingUI.selection,fH=_e(Ha.getCutLists,e=>AA(e).cutList,(e,t)=>e.find(r=>r.id===t)),O3e=_e(fH,e=>AA(e).sheet,(e,t)=>e?.nestings.flatMap(r=>r.sheets).find(r=>r.id===t)),Edt=_e(O3e,e=>AA(e).panel,(e,t)=>e?.panels.find(r=>r.id===t)),Mdt=_e(fH,e=>AA(e).dimensionalStockIndex,(e,t)=>e?.faceFrameStocks&&e.faceFrameStocks[t]),Adt=_e(Ha.getCutLists,e=>e.manufacturingUI.recentAction,(e,t)=>{if(t){let r=e.find(o=>o.id===t.cutList);if(r){let o=r.nestings.flatMap(i=>i.sheets).find(i=>i.id===t.sheet);if(o||!t.sheet)return{cutListName:r.name,type:t.type,panelLabel:t.panelLabel,sheet:o}}}}),Idt={getSelectedCutList:fH,getSelectedSheet:O3e,getSelectedPanel:Edt,getSelectedDimensionalStock:Mdt,getRecentAction:Adt,getPreviewMode:e=>e.manufacturingUI.previewMode},Ddt={actions:D3e.actions,reducer:D3e.reducer,...Idt},IA=Ddt;var Ndt=e=>{let t=Odt(e);return[...Ldt(e),t]},Odt=e=>{let{name:t,material:r,operations:{boundary:o}}=e;switch(o.type){case"rect":return Bdt(o.size[0],o.size[1],r.thickness,t);case"path":return Fdt(o.points,r.thickness,t)}},Ldt=e=>{let{operations:{other:t}}=e;return(t||[]).flatMap(hH)},hH=e=>{if(e.type==="group")return e.ops.flatMap(hH);let{type:t,position:r,size:o,diameter:i,depth:n}=e,{x:s,y:a}=r;switch(t){case"drill":return[Wdt(s,a,n)];case"circle-pocket":return[Vdt(s,a,i,n)];case"rect-pocket":return[Udt(s,a,o.x,o.y,n)];case"rect-cutout":return[Rdt(s,a,o.x,o.y,n)]}throw new Error(`invalid operation type: ${t}`)},Bdt=(e,t,r,o)=>{let i=_o.widthAndDepthToShape(e,t);return{name:o,shape:i,cut:{outlineStyle:"outside",type:"outline",depth:r}}},Fdt=(e,t,r)=>{let o=Oe.pointsEqual(e[0],e[e.length-1])?e:[...e,{...e[0]}],i=_o.pathPointsToShape([o]);return{name:r,shape:i,cut:{type:"outline",outlineStyle:"outside",depth:t}}},Wdt=(e,t,r)=>({shape:_o.drillShape(e,t),cut:{type:"drill",depth:r}}),Vdt=(e,t,r,o)=>({shape:_o.circleShape(e,t,r,r),cut:{type:"fill",depth:o}}),Udt=(e,t,r,o,i)=>({shape:_o.widthAndDepthToShape(r,o,{x:e,y:t}),cut:{outlineStyle:"fill",type:"fill",depth:i}}),Rdt=(e,t,r,o,i)=>({shape:_o.widthAndDepthToShape(r,o,{x:e,y:t}),cut:{type:"outline",outlineStyle:"inside",depth:i}}),jdt={volumesForPanel:Ndt,operationVolumes:hH},L3e=jdt;var B3e=(e,t)=>{let{panels:r,stock:o,xofy:i}=e,n={id:"INVENTABLES_QUARTER_IN_BIT",width:.25,unit:"in",tipAngle:0,type:qe.upcut};return{name:`${o.displayName} ${i}`,material:{id:o.materialId,dimensions:{...o.size,z:o.thickness},xyZero:"front-left"},bit:n,jobSettings:t,volumes:r.map(s=>{let a=L3e.volumesForPanel(s);return a.forEach(l=>{let{shape:c}=l,{width:u,height:p}=b2(s);s.rotated&&(c=$r.rotate(c,Math.PI/2,u/2,p/2),c=$r.translate(c,p/2-u/2,u/2-p/2));let{x:m,y:h}=s.position;l.shape=$r.translate(c,m,h),l.cut.tabPreference=t.useTabs,l.cut.tabHeight=.08,l.cut.tabLength=.25,l.cut.tabCount=4,l.cut.type==="outline"&&l.cut.depth>=o.thickness&&(l.cut.tabs=kC(l,n)),l.cut.depth>=o.thickness&&(l.cut.additionalDepthAmount=t.additionalDepthAmount)}),a})}};var Gdt={getSheetToolpathParams:_e((e,t)=>t,(e,t)=>zt.getStockJobSettings(e,t.stock.materialId,t.stock.thickness),zt.getSafetyHeight,Me.getPreferredUnit,et.getCurrentProfileId,(e,t,r,o,i)=>{let n=B3e(e,t);return{jobSettings:{...n.jobSettings,safetyHeight:r,retractHeight:rt(n.bit).inchWidth()/2,useCustom:!0,volumes:n.volumes.flat(),bit:n.bit,strokeBit:n.bit,useDetailBit:!1,passType:"all",materialThickness:n.material.dimensions.z,cutTypes:{fill:"fill",outline:"outline",drill:"drill"},preferredUnit:o},materialSize:n.material.dimensions,machineProfileId:i,tile:null,fillingMethod:"offset",rampingAngle:20*(Math.PI/180)}})},F3e=Gdt;var Hdt={withHeaderAndFooter:function(e){let t=N.store.getState(),r=I5(),o=Y.isCarvey(t)?{x:20/25.4,y:20/25.4,z:20/25.4}:{x:0,y:0,z:Q.getOriginSafetyHeight({safetyHeight:Ge.getSafetyHeight(t)},t)};$u.addHeader(bt.currentPostProcessor(t),r,o),r.external(e);let i=Q.getRapidRetractsEnabled(t);return $u.addFooter(bt.currentPostProcessor(t),r,o,i),r.string()},getTime:function(e){let t=I5();t.external(e);let r=N.store.getState(),o=ie.getSettings(r),i=ie.getFeatures(r)?.registers??{};return t.time(o,i)}},bd=Hdt;var DA=M(P("prop-types"),1),_p=M(P("react"),1),W3e=P("react-bootstrap"),V3e=P("react-redux");var NA=class extends _p.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1,isUsingDustShoe:!1,gcodeHeaderFooter:"add",forceRegularCarve:!1,isLoading:!1});y(this,"forceRegularCarve",()=>{this.setState({forceRegularCarve:!0})});y(this,"show",(r={})=>{let{isResumingCarve:o=!1}=r;this.props.setIsResumingCarve(o),this.setState({show:!0})});y(this,"hide",()=>{this.state.show&&(ke.stopSpindle(),ke.accessoriesOff()),this.props.setIsResumingCarve(!1),this.setState({show:!1})});y(this,"handleChange",r=>{this.setState({gcodeHeaderFooter:r.target.value})});y(this,"startJob",r=>{let{isUsingDustShoe:o}=this.state,{startPercentage:i,externalGcode:n,isThreeD:s}=this.props;if(r.error!=null){let{title:a,message:l}=Vi.alerts.invalidDepthError;Fe(a,l)}else ke.startJob({...r,isUsingDustShoe:o,isExternalGcode:!!n,carveType:s?"3D":"2.5D",startPercentage:i})});y(this,"onFinish",async()=>{this.setState({show:!1});let{externalGcode:r,gcodeParams:o,startPercentage:i,selectedGcodePass:n}=this.props;if(r){let s;this.state.gcodeHeaderFooter==="add"?s=bd.withHeaderAndFooter(r):s=r,this.startJob({gcode:s,timeEstimate:bd.getTime(s)})}else if(o)Qs.generateToolpaths("layer_by_layer",o,()=>{}).then(s=>Ms.toolpathsToGcode(s,o.jobSettings,i/100)).then(s=>{this.startJob(s)});else{let s=N.store.getState(),{passType:a,isThreeD:l}=this.props;if(n)this.startJob(n);else if(l){this.setState({isLoading:!0});let c=A0.workpieceFromState(s);R0.generateFromWorkpiece(c,a).then(u=>{if(u){let{roughingPass:p,finishingPass:m}=u,h=p||m;ke.startJob(h)}}).finally(()=>{this.setState({isLoading:!1})})}else try{let[c]=await Ms.process({style:a});this.startJob(c)}catch(c){Fe("An error occurred generating toolpaths",c.message),window.onerror(c.message,"xcarve_walkthrough_modal.jsx",0,0,c)}}});y(this,"setIsUsingDustShoe",r=>{this.setState({isUsingDustShoe:r})});y(this,"repeatLastCarve",()=>this.props.canRepeatCarve&&!this.props.useDetailBit&&!this.state.forceRegularCarve&&!this.props.isMachineLocked);y(this,"getWalkthroughComponent",()=>{let r,o=bt.currentIsInventablesMachine(this.props.machineType),{installedFirmwareVersion:i}=this.props;return o&&this.props.currentFirmwareVersion&&this.props.currentFirmwareVersion!==i?r=_p.default.createElement(Hye,{machineType:this.props.machineType}):r=null,this.repeatLastCarve()?_p.default.createElement(i3e,{onFinish:this.onFinish,onHide:this.hide,gcodeHeaderFooter:this.state.gcodeHeaderFooter,handleChange:this.handleChange,setIsUsingDustShoe:this.setIsUsingDustShoe,onForceRegularCarve:this.forceRegularCarve,...this.props}):this.props.isThreeD?_p.default.createElement(f3e,{onFinish:this.onFinish,onHide:this.hide,isMachineLocked:this.props.isMachineLocked,setIsUsingDustShoe:this.setIsUsingDustShoe,firstScreenNotice:r}):_p.default.createElement(I3e,{onFinish:this.onFinish,onHide:this.hide,gcodeHeaderFooter:this.state.gcodeHeaderFooter,handleChange:this.handleChange,isMachineLocked:this.props.isMachineLocked,setIsUsingDustShoe:this.setIsUsingDustShoe,firstScreenNotice:r,...this.props})})}componentDidMount(){J.addListener("show-walkthrough",this.show),J.addListener("hide-walkthrough",this.hide),this.props.setStartPercentage(0),this.props.setIsResumingCarve(!1)}componentWillUnmount(){J.removeListener("show-walkthrough",this.show),J.removeListener("hide-walkthrough",this.hide)}render(){return _p.default.createElement(_p.default.Fragment,null,this.state.isLoading&&_p.default.createElement(Ng,{size:25,title:"Generating toolpaths...",color:"primary"}),_p.default.createElement(W3e.Modal,{show:this.state.show,size:"xl",backdrop:"static",className:"walkthrough-modal walkthrough-modal--has-sidebar xcarve-walkthrough-modal",onHide:this.hide},_p.default.createElement(oe,{className:"close-modal",onClick:this.hide},"\xD7"),_p.default.createElement("div",{className:"overflow-auto"},this.getWalkthroughComponent())))}};y(NA,"propTypes",{isExternalGcode:DA.default.bool,useDetailBit:DA.default.bool,canRepeatCarve:DA.default.bool});var zdt=(0,V3e.connect)(e=>{let t=IA.getSelectedSheet(e);return{installedFirmwareVersion:ie.getFirmwareVersion(e),isMachineLocked:ie.isMachineLocked(e),externalGcode:W.getExternalGcode(e),passType:At.getPassType(e),useDetailBit:re.detailBitEnabled(e),isThreeD:Ue.isThreeD(e),machineType:Y.getMachineType(e),currentFirmwareVersion:ac.getCurrentVersionNumberForMachine(e),gcodeParams:t&&F3e.getSheetToolpathParams(e,t),selectedGcodePass:At.getSelectedGcodePass(e),startPercentage:At.getStartPercentage(e)}},e=>({setStartPercentage:t=>e(At.actions.setStartPercentage(t)),setIsResumingCarve:t=>e(At.actions.setIsResumingCarve(t))})),Xdt=zdt(NA),U3e=Xdt;var xH=M(P("prop-types"),1),Q3e=P("react-bootstrap"),jA=M(P("react"),1);var rv=M(P("prop-types"),1),yH=M(P("react"),1);var R3e=M(P("prop-types"),1),Y0=M(P("react"),1);var OA=class extends Y0.default.Component{render(){return Y0.default.createElement(mt,{title:"Check the material",nextCallback:this.props.onNext,nextText:"Material is secure"},Y0.default.createElement("div",{className:"diagram"},Y0.default.createElement("div",{className:"clamp-img",id:"carvey-clamping-img"},Y0.default.createElement("img",{src:EASEL_ASSETS.images.carveyClampedMaterial})),Y0.default.createElement("div",{className:"explanation"},Y0.default.createElement("p",null,"We've already clamped a piece of material in Carvey for you. Please confirm that the piece is secure and unable to move."))))}};y(OA,"propTypes",{onNext:R3e.default.func.isRequired});var j3e=OA;var G3e=M(P("prop-types"),1),vd=M(P("react"),1);var LA=class extends vd.default.Component{constructor(){super(...arguments);y(this,"onNext",()=>{H.trackEvent(U.completedTutorial),this.props.onNext()})}render(){return vd.default.createElement(mt,{title:"Insert the bit",nextCallback:this.onNext,nextText:"Bit is secure"},vd.default.createElement("div",{className:"diagram"},vd.default.createElement("div",{id:"carvey-bit-img",className:"clamp-img"},vd.default.createElement("img",{src:EASEL_ASSETS.images.blueBit,style:{maxHeight:"200px",width:"50px",padding:"0px"}}),vd.default.createElement("img",{src:EASEL_ASSETS.images.securingBit})),vd.default.createElement("div",{className:"explanation"},vd.default.createElement("p",null,"Insert the ",vd.default.createElement("strong",null,"blue bit")," (1/16\u2033 fishtail) and secure it using two wrenches."),vd.default.createElement("p",null,"The larger wrench is used with the bottom part of the collet."))))}};y(LA,"propTypes",{onNext:G3e.default.func});var H3e=LA;var WA=M(P("prop-types"),1),gH=M(P("react"),1);var Vg=M(P("prop-types"),1),q0=M(P("react"),1);var Wg=M(P("react"),1);var BA=M(P("react"),1);function Ydt(){return BA.default.createElement(mt,{title:"Update the Easel Driver"},BA.default.createElement("p",null,"You are using an out-of-date version of the Easel Driver."),BA.default.createElement(lp,null))}var z3e=Ydt;var z6=M(P("react"),1);function qdt(){return z6.default.createElement(mt,{title:"Install the Easel Driver"},z6.default.createElement("div",{className:"diagram"},z6.default.createElement("div",{className:"explanation"},z6.default.createElement("p",null,"Before you start carving, you\u2019ll need to install the Easel Driver. This is a small program that lets Easel connect to your Carvey.")),z6.default.createElement(lp,null)))}var X3e=qdt;var bu=M(P("react"),1),tv=P("react-redux");var $dt=()=>{let e=(0,tv.useDispatch)(),t=(0,tv.useSelector)(Y.getComPort),r=(0,tv.useSelector)(Y.shouldAutoDetectMachine);return bu.default.createElement(mt,{title:"Searching for Carvey"},bu.default.createElement("div",{className:"text-center"},bu.default.createElement("p",null,"Plug in your USB cable and turn on the machine.")),bu.default.createElement("div",{className:"row"},!r&&bu.default.createElement("div",null,bu.default.createElement("hr",null),bu.default.createElement("div",{className:"col-sm-6 text-left"},bu.default.createElement("p",null,"Enter the COM port your machine is connected to."),bu.default.createElement("p",null,'To find the port, open the Control Panel and click "View devices and printers". Your Carvey should be listed with the COM port.')),bu.default.createElement("div",{className:"input-group col-sm-6"},bu.default.createElement("span",{className:"input-group-addon"},"COM"),bu.default.createElement("input",{className:"form-control",size:"3",type:"number",onChange:i=>{let n=i.target.value.replace(/\D/,"")||"";n&&e(Y.actions.setComPort(`COM${n}`))},defaultValue:t})))))},Y3e=$dt;var q3e=P("react-redux");function Zdt(){let e=(0,q3e.useSelector)(ie.getConnectionState);return Wg.default.createElement("div",null,(()=>{switch(e){case"connecting_to_local_sender":return Wg.default.createElement(X3e,null);case"local_sender_out_of_date":return Wg.default.createElement(z3e,null);case"checking_connection_status":case"connecting_to_machine":case"checking_machine_status":return Wg.default.createElement(Y3e,null);case"alarm_lock":return Wg.default.createElement(mE,null);default:return Wg.default.createElement("pre",null,"Unknown connection state: ",e+"")}})())}var $3e=Zdt;var FA=class extends q0.default.Component{render(){let t=this.props.progressLabel||"Carve!";return this.props.machineConnected?q0.default.createElement(mt,{title:"Start carving",nextText:t,nextCallback:this.props.onStartCarving,closeCallback:this.props.onClose,disableNext:this.props.disabled},q0.default.createElement("h3",null,"Make sure Carvey's interior is clear and close the door."),q0.default.createElement("div",{className:"diagram"},q0.default.createElement("div",{className:"clamp-img"},q0.default.createElement("img",{src:EASEL_ASSETS.images.carving})))):q0.default.createElement($3e,null)}};y(FA,"propTypes",{onNext:Vg.default.func.isRequired,onClose:Vg.default.func.isRequired,machineConnected:Vg.default.bool,disabled:Vg.default.bool,progressLabel:Vg.default.string,onStartCarving:Vg.default.func.isRequired});var Z3e=FA;var Jdt=function({starting:e,always:t}){let r=null,o=()=>{let s=N.store.getState();return Zp.hasSettings(Y.getRecommendedSettings(s),ie.getSettings(s))},i=()=>{let s=Y.getRecommendedSettings(N.store.getState());for(let a in s){let l=s[a];Zp.setValue(a,l)}};return{start:function(){return o()?t():(e(),i(),r=setTimeout(function(){N.store.dispatch(ie.actions.clearSettings()),ke.getMachineSettings(),t()},2e3)),function(){r!=null&&clearTimeout(r),r=null}}}},J3e=Jdt;var VA=class extends gH.default.Component{constructor(){super(...arguments);y(this,"machineConnected",()=>!["connecting_to_local_sender","local_sender_out_of_date","checking_connection_status","connecting_to_machine","checking_machine_status"].includes(this.props.connectionState));y(this,"onSettingsUpdateStarting",()=>this.setState({progressLabel:"Updating settings"}));y(this,"onSettingsUpdateAlways",()=>{this.setState({updating:!1,progressLabel:null}),this.props.onNext()});y(this,"onStartCarving",()=>{this.setState({updating:!0}),this.props.machineState==="hold"&&ke.reset(),this.cancelUpdater=J3e({starting:this.onSettingsUpdateStarting,always:this.onSettingsUpdateAlways}).start()});y(this,"state",{progressLabel:null,updating:!1})}render(){let r=this.props.isStarting||this.state.updating||this.props.isDoorDefinitelyOpen;return gH.default.createElement(Z3e,{onNext:this.props.onNext,onClose:this.props.onClose,progressLabel:this.state.progressLabel,disabled:r,machineConnected:this.machineConnected(),onStartCarving:this.onStartCarving})}};y(VA,"propTypes",{onNext:WA.default.func.isRequired,onClose:WA.default.func.isRequired,isStarting:WA.default.bool});var UA=ne({mapStateToProps:e=>({connectionState:ie.getConnectionState(e),isDoorDefinitelyOpen:ie.isDoorDefinitelyOpen(e),machineState:ie.getState(e)}),component:VA});var RA=class extends yH.default.Component{render(){let t=[];return t.push({class:j3e,title:"Check the material"}),t.push({class:H3e,title:"Insert the bit"}),t.push({class:UA,title:"Start carving",props:{isStarting:this.props.isCarving,machineState:this.props.machineState}}),yH.default.createElement(vc,{onFinish:this.props.onFinish,onHide:this.props.onHide,steps:t,showProgress:!0})}};y(RA,"propTypes",{onFinish:rv.default.func.isRequired,onHide:rv.default.func,machineState:rv.default.string,isCarving:rv.default.bool});var K3e=RA;var GA=class extends jA.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1,isCarving:!1});y(this,"show",()=>{H.trackEvent(U.startedTutorial),this.setState({show:!0,isCarving:!1})});y(this,"hide",()=>{this.setState({show:!1})});y(this,"onDoorError",()=>{this.setState({isCarving:!1})});y(this,"startJobWithGcode",r=>(this.setState({isCarving:!0}),ke.reset(),ke.home(),setTimeout(()=>{this.state.isCarving&&(this.props.resetProbeResult(),ke.startJob(r),this.hide())},1e3)));y(this,"startJob",async()=>{let[r]=await Ms.safeProcess({style:"all"});if(r.error!=null){let{title:o,message:i}=Vi.alerts.invalidDepthError;Fe(o,i)}else this.startJobWithGcode(r)})}componentDidMount(){J.addListener("show-carvey-first-job-walkthrough",this.show),J.addListener("hide-walkthrough",this.hide),J.addListener("door-error",this.onDoorError)}render(){return jA.default.createElement(Q3e.Modal,{show:this.state.show,size:"xl",backdrop:"static",className:"walkthrough-modal",onHide:this.hide},jA.default.createElement(K3e,{onFinish:this.startJob,onHide:this.hide,isCarving:this.state.isCarving,...this.props}))}};y(GA,"propTypes",{machineType:xH.default.string,connectionState:xH.default.string});var e7e=ne({mapDispatchToProps:e=>({resetProbeResult(){e(ie.actions.resetProbeResult())}}),component:GA});var SH=M(P("prop-types"),1),a7e=P("react-bootstrap"),Z0=M(P("react"),1);var X6=M(P("prop-types"),1),vH=M(P("react"),1);var HA=M(P("prop-types"),1),$0=M(P("react"),1);var zA=class extends $0.default.Component{render(){let t=this.props.clamp!=null&&this.props.clamp.liftSmartClampImage||EASEL_ASSETS.images.liftSmartClamp;return $0.default.createElement(mt,{title:"Position your material",nextCallback:this.props.onNext,backCallback:this.props.onBack,nextText:"Next",closeCallback:this.props.onClose},$0.default.createElement("div",{className:"diagram"},$0.default.createElement("div",{className:"clamp-img carvey-clamp-img"},$0.default.createElement("img",{src:t})),$0.default.createElement("div",{className:"explanation"},$0.default.createElement("p",null,"First, lift the Smart Clamp and position your material flush against the L-shaped groove."))))}};y(zA,"propTypes",{onNext:HA.default.func,onBack:HA.default.func,clamp:HA.default.object});var t7e=zA;var qA=M(P("prop-types"),1),Sd=M(P("react"),1);var r7e=M(P("prop-types"),1),bH=M(P("react"),1);var XA=class extends bH.default.Component{render(){return this.props.clamp?bH.default.createElement("span",{style:{color:this.props.clamp.color}},this.props.clamp.color):null}};y(XA,"propTypes",{clamp:r7e.default.object});var YA=XA;var $A=class extends Sd.default.Component{render(){let t=this.props.clamp!=null&&this.props.clamp.secureSideClampImage||EASEL_ASSETS.images.secureSideClamps;return Sd.default.createElement(mt,{title:"Secure side clamps",nextCallback:this.props.onNext,backCallback:this.props.onBack,nextText:"Material is secure",closeCallback:this.props.onClose},Sd.default.createElement("div",{className:"diagram"},Sd.default.createElement("div",{className:"clamp-img carvey-clamp-img"},Sd.default.createElement("img",{src:t})),Sd.default.createElement("div",{className:"explanation"},Sd.default.createElement("p",null,"Using the ",Sd.default.createElement(YA,{clamp:this.props.clamp})," screws, clamp the right side of the material, securing the clamp as shown above. Repeat on all sides until material is fully secured."),Sd.default.createElement("div",{className:"alert"},Sd.default.createElement("i",{className:"bi bi-exclamation-triangle"}),'\xA0Make sure the "lip" of the clamp base is flat against the waste board.'))))}};y($A,"propTypes",{onNext:qA.default.func,onBack:qA.default.func,clamp:qA.default.object});var o7e=$A;var ZA=M(P("prop-types"),1),Ah=M(P("react"),1);var JA=class extends Ah.default.Component{render(){let t=this.props.clamp!=null&&this.props.clamp.secureSmartClampImage||EASEL_ASSETS.images.fastenSmartClamp;return Ah.default.createElement(mt,{title:"Secure the Smart Clamp",nextCallback:this.props.onNext,backCallback:this.props.onBack,nextText:"Next",closeCallback:this.props.onClose},Ah.default.createElement("div",{className:"diagram"},Ah.default.createElement("div",{className:"clamp-img carvey-clamp-img"},Ah.default.createElement("img",{src:t})),Ah.default.createElement("div",{className:"explanation"},Ah.default.createElement("p",null,"Position the Smart Clamp over the corner of your material and screw it down tightly using the ",Ah.default.createElement(YA,{clamp:this.props.clamp})," screws."))))}};y(JA,"propTypes",{onNext:ZA.default.func,onBack:ZA.default.func,clamp:ZA.default.object});var i7e=JA;var Kdt={getLargestClampForMaterial:function(e){return[{maxThickness:.325,color:"green",liftSmartClampImage:EASEL_ASSETS.images.liftSmartClampGreen,secureSmartClampImage:EASEL_ASSETS.images.fastenSmartClampGreen,secureSideClampImage:EASEL_ASSETS.images.secureSideClampsGreen},{maxThickness:.73,color:"blue",liftSmartClampImage:EASEL_ASSETS.images.liftSmartClampBlue,secureSmartClampImage:EASEL_ASSETS.images.fastenSmartClampBlue,secureSideClampImage:EASEL_ASSETS.images.secureSideClampsBlue},{maxThickness:.9,color:"red",liftSmartClampImage:EASEL_ASSETS.images.liftSmartClampRed,secureSmartClampImage:EASEL_ASSETS.images.fastenSmartClampRed,secureSideClampImage:EASEL_ASSETS.images.secureSideClampsRed}].find(r=>e<r.maxThickness)}},n7e=Kdt;var KA=class extends vH.default.Component{constructor(r){super(r);y(this,"getState",()=>({clamp:this.props.materialDimensions&&n7e.getLargestClampForMaterial(this.props.materialDimensions.z)}));this.state=this.getState()}render(){let r=[];return this.props.firmwareUpdateInitiallyRequired&&r.push({class:WT,title:"Update firmware"}),this.props.isExternalGcode?r.push({class:vA,title:"Importing Gcode"}):r.push({class:PA,title:"Measure material"}),r.push({class:t7e,title:"Position material",props:{clamp:this.state.clamp}}),r.push({class:i7e,title:"Secure Smart Clamp",props:{clamp:this.state.clamp}}),r.push({class:o7e,title:"Secure side clamps",props:{clamp:this.state.clamp}}),(this.props.useDetailBit||this.props.useOutlineBit||this.props.mesh)&&!this.props.isExternalGcode&&r.push({class:N6,title:"Choose pass type"}),this.props.isExternalGcode||r.push({class:xA,title:"Confirm bit"}),r.push({class:UA,title:"Start carving",props:{isStarting:this.props.isCarving}}),vH.default.createElement(vc,{onFinish:this.props.onFinish,onHide:this.props.onHide,steps:r,showProgress:!0,machineType:this.props.machineType})}};y(KA,"propTypes",{isExternalGcode:X6.default.bool,isCarving:X6.default.bool,useDetailBit:X6.default.bool,onHide:X6.default.func,onFinish:X6.default.func.isRequired});var Qdt=ne({mapStateToProps:e=>{let t=ac.getSupportedVersionsForMachine(e,ze.CARVEY),r=ie.getFirmwareVersion(e);return{firmwareUpdateInitiallyRequired:!it("firmware_testing")&&t.length>0&&!t.includes(r),materialDimensions:q.getMaterialDimensions(e),mesh:Ue.getMesh(e)}},component:KA}),s7e=Qdt;var QA=class extends Z0.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1,isCarving:!1,isLoading:!1});y(this,"show",()=>{ke.presentMaterial(),this.setState({show:!0,isCarving:!1})});y(this,"hide",()=>{this.setState({show:!1})});y(this,"onDoorError",()=>{this.setState({isCarving:!1})});y(this,"startJobWithGcode",r=>(this.setState({isCarving:!0}),ke.reset(),setTimeout(()=>(ke.home(),setTimeout(()=>{this.state.isCarving&&(this.props.resetProbeResult(),ke.startJob(r),this.hide())},1e3)),200)));y(this,"startJob",async()=>{let r=this.props.gcode;if(r){let n=bd.withHeaderAndFooter(r);return this.startJobWithGcode({gcode:n,isExternalGcode:!0,timeEstimate:bd.getTime(n)})}let o=this.props.useDetailBit||this.props.mesh!=null?this.props.passType:"all",i;this.setState({isLoading:!0});try{if(this.props.mesh){let n=N.store.getState(),s=A0.workpieceFromState(n),a=await R0.generateFromWorkpiece(s,o);if(a){let{roughingPass:l,finishingPass:c}=a;i=l||c}}else i=(await Ms.safeProcess({style:o}))[0]}finally{this.setState({isLoading:!1})}if(i.error!=null){let{title:n,message:s}=Vi.alerts.invalidDepthError;Fe(n,s);return}try{await V3.validate({gcodeString:i.gcode,keepInRects:this.props.keepInRects,keepOutRects:this.props.keepOutRects,checkSyntax:!1}),this.startJobWithGcode(i)}catch(n){if(n.title!=null&&n.message!=null)this.hide(),H.trackEvent("Toolpath validation failed",{error:n.title,message:n.message}),Fe(n.title,n.message);else throw n}})}componentDidMount(){J.addListener("show-walkthrough",this.show),J.addListener("hide-walkthrough",this.hide),J.addListener("door-error",this.onDoorError)}render(){return Z0.default.createElement(Z0.default.Fragment,null,this.state.isLoading&&Z0.default.createElement(Ng,{size:25,title:"Generating toolpaths...",color:"primary"}),Z0.default.createElement(a7e.Modal,{show:this.state.show,size:"xl",backdrop:"static",className:"walkthrough-modal",onHide:this.hide},Z0.default.createElement(oe,{className:"close-modal",onClick:this.hide},"\xD7"),Z0.default.createElement(s7e,{onFinish:this.startJob,onHide:this.hide,isCarving:this.state.isCarving,...this.props})))}};y(QA,"propTypes",{isExternalGcode:SH.default.bool,useDetailBit:SH.default.bool});var emt=ne({mapStateToProps:e=>({gcode:W.getExternalGcode(e),keepInRects:Y.getKeepInRects(e),keepOutRects:Y.getKeepOutRects(e),passType:At.getPassType(e),mesh:Ue.getMesh(e)}),mapDispatchToProps:e=>({resetProbeResult(){e(ie.actions.resetProbeResult())}}),component:QA}),l7e=emt;var CH=class extends Y6.default.Component{render(){let t={useDetailBit:this.props.useDetailBit,useOutlineBit:this.props.useOutlineBit,isExternalGcode:this.props.isExternalGcode,canRepeatCarve:this.props.canRepeatCarve};return bt.currentWalkthroughType(this.props.machineType)==="carvey"?Y6.default.createElement("div",null,Y6.default.createElement(l7e,{...t}),Y6.default.createElement(e7e,{...t})):Y6.default.createElement(U3e,{...t})}},tmt=ne({mapStateToProps:e=>({isExternalGcode:!!W.getExternalGcode(e),useDetailBit:re.detailBitEnabled(e),useOutlineBit:re.outlineBitEnabled(e),machineType:Y.getMachineType(e),canRepeatCarve:At.getHasCompletedCarve(e)&&Q.isRepeatCarvingEnabled(e)}),component:CH}),c7e=tmt;var ov=P("react-bootstrap"),Ug=M(P("react"),1);var Vs=M(P("react"),1),rmt=(()=>{let e=(n,...s)=>Vs.default.createElement("div",{className:"panel panel-default"},Vs.default.createElement("div",{className:"panel-heading"},Vs.default.createElement("h4",{className:"panel-title"},n)),Vs.default.createElement("div",{className:"panel"},Vs.default.createElement("div",{className:"panel-body"},s)));return{safari:()=>e("Safari",Vs.default.createElement("ol",{key:"safari"},Vs.default.createElement("li",null,'Choose "Preferences" from the Safari menu.'),Vs.default.createElement("li",null,'Click "Advanced"'),Vs.default.createElement("li",null,'Check "Show Develop menu"'),Vs.default.createElement("li",null,'Now go to the Develop menu and click "Enable WebGL"'))),chrome:()=>e("Google Chrome",Vs.default.createElement("span",{key:"chrome"},"WebGL is enabled by default in Chrome for most recent graphics cards. However, there are some cases where WebGL may not be available. See",Vs.default.createElement("a",{href:"https://support.google.com/chrome/answer/1220892?hl=en",alt:"Chrome WebGL Help"},"Chrome WebGL Help"),"for more information.")),firefox:()=>e("Firefox",Vs.default.createElement("span",{key:"firefox"},"WebGL is enabled by default in Firefox 4 and higher. If webGL is not enabled, you can enable it manually:",Vs.default.createElement("ol",null,Vs.default.createElement("li",null,'Go to "Preferences" under the Firefox menu'),Vs.default.createElement("li",null,'Click "Advanced"'),Vs.default.createElement("li",null,'Under the "General" tab, check "Use hardware acceleration when available"'),Vs.default.createElement("li",null,"Restart Firefox")))),ie:()=>e("Internet Explorer","WebGL is only available for IE 11 and higher. You'll need to either upgrade to IE 11 or try a different browser, like Firefox or Google Chrome.")}})(),eI=rmt;var PH=class extends Ug.default.Component{constructor(){super(...arguments);y(this,"state",{show:!1});y(this,"show",({browser:r})=>{this.setState({browser:r,show:!0})});y(this,"hide",()=>{this.setState({show:!1})})}componentDidMount(){J.addListener("show-webgl-help-modal",this.show)}componentWillUnmount(){J.removeListener("show-webgl-help-modal",this.show)}render(){let{browser:r}=this.state,{safari:o,chrome:i,firefox:n,ie:s}=eI;return Ug.default.createElement(ov.Modal,{id:"webgl-help-modal",show:this.state.show,onHide:this.hide},Ug.default.createElement(ov.Modal.Header,{closeButton:!0},Ug.default.createElement(ov.Modal.Title,{className:"text-center"},'Let"s make some 3D magic')),Ug.default.createElement(ov.Modal.Body,null,Ug.default.createElement("div",{className:"panel-group"},r!=="safari"&&o(),r!=="chrome"&&i(),r!=="firefox"&&n(),r!=="ie"&&s())))}},u7e=PH;var q6=P("react-bootstrap"),ca=M(P("react"),1);var p7e=P("react-redux");var omt=()=>{let[e,t]=(0,ca.useState)(!1),[r,o]=(0,ca.useState)(null),[i,n]=(0,ca.useState)(""),[s,a]=(0,ca.useState)(null),l=(0,p7e.useDispatch)(),c=(0,ca.useRef)();(0,ca.useEffect)(()=>(J.addListener("show-notes-workpiece",u),J.addListener("hide-notes-workpiece",p),()=>{J.removeListener("show-notes-workpiece"),J.removeListener("hide-notes-workpiece")}),[]);let u=(v,b,S)=>{t(!0),o(v),n(b),a(S)},p=()=>{t(!1)},m=()=>{c.current.focus(),c.current.select()},h=v=>{a(v.target.value)},f=v=>{v.preventDefault(),l(W.actions.setNote(r,s)),p()};if(!e)return null;let x=i?`Notes for "${i}"`:"Notes";return ca.default.createElement(q6.Modal,{show:e,onHide:p,onEnter:m},ca.default.createElement(q6.Modal.Header,{closeButton:!0},ca.default.createElement(q6.Modal.Title,null,x)),ca.default.createElement(q6.Modal.Body,null,ca.default.createElement("textarea",{ref:c,name:"workpiece-notes",className:"form-control",rows:5,onChange:h,value:s})),ca.default.createElement(q6.Modal.Footer,null,ca.default.createElement("button",{className:"btn btn-default",onClick:p},"Cancel"),ca.default.createElement("button",{className:"btn btn-primary",onClick:f},"Save Note")))},d7e=omt;var $6=P("react-bootstrap"),Ba=M(P("react"),1),m7e=P("react-redux");function imt(){let[e,t]=(0,Ba.useState)(!1),[r,o]=(0,Ba.useState)(""),[i,n]=(0,Ba.useState)(null),s=(0,m7e.useDispatch)(),a=(0,Ba.useRef)(null);function l(f,x){t(!0),n(f),o(x)}function c(){t(!1)}(0,Ba.useEffect)(()=>(J.addListener("show-rename-workpiece",l),J.addListener("hide-rename-workpiece",c),()=>{J.removeListener("show-rename-workpiece"),J.removeListener("hide-rename-workpiece")}),[]);function u(){a.current.focus(),a.current.select()}function p(f){o(f.target.value)}function m(f){f.key==="Enter"&&h(f)}function h(f){f.preventDefault(),s(W.actions.setName(i,r)),c()}return e?Ba.default.createElement($6.Modal,{show:e,onHide:c,onEnter:u},Ba.default.createElement($6.Modal.Header,{closeButton:!0},Ba.default.createElement($6.Modal.Title,null,"Rename workpiece")),Ba.default.createElement($6.Modal.Body,null,Ba.default.createElement("input",{ref:a,id:"rename-workpiece",className:"form-control",onChange:p,onKeyPress:m,value:r})),Ba.default.createElement($6.Modal.Footer,null,Ba.default.createElement("button",{className:"btn btn-default",onClick:c},"Cancel"),Ba.default.createElement("button",{className:"btn btn-primary",onClick:h},"Rename"))):null}var f7e=imt;var Xr=M(P("react"),1),vu=P("react-bootstrap"),qm=P("react-redux");var kH=M(P("file-saver"),1);var nmt=async(e,t)=>{let r=await fetch("/exported_files",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector("[name='csrf-token']")?.content},body:JSON.stringify({file_name:e,file_type:t})});return r.ok?Promise.resolve(await r.json()):Promise.reject(await r.json())},smt={createExportedFile:nmt},wH=smt;var amt=function(e){let t={type:"text/plain;charset=utf-8"};return new Blob([e],t)},_H=function(e){let t=N.store.getState(),r=e!=null?` - ${e}`:"",o=W.getActiveWorkpiece(t)?.name||ge.getProjectName(t);return o+=r,o.match(/\.nc$/)||(o+=".nc"),o},h7e=function(e,t){let r=N.store.getState(),o=ye.getVolumes(r);H.trackProjectEvent(U.downloadGCode,r,{"Easel Pro Content":Array.from(xo.getInUseProFeatures(r)).map(i=>i.label),"X/Y Zero Location":q.getXYZeroLocation(r),"Fonts Used":Ew(o),requested:e,...t})},lmt=(e,t,r)=>{let o={};e.forEach(({gcode:i,passName:n})=>{let s=_H(n),a=new TextEncoder;o[s]=a.encode(i)}),globalThis.fflate.zip(o,{level:6},(i,n)=>{if(i){Ut("There was a problem downloading your g-code");return}let s=new Blob([n],{type:"application/zip"});(0,kH.default)(s,`${t}.zip`),h7e("ZIP",r),wH.createExportedFile(t,"zip")})},g7e=(e,t,r,o={limitedExports:!0})=>{(0,kH.default)(amt(e),_H(t)),o.limitedExports&&wH.createExportedFile(_H(t),"file"),h7e(t??"g-code",r)},y7e=async()=>{let e=N.store.getState();if(!xo.authorizedToCarve(Date.now(),e))return H.trackEvent(U.showedAccountModal,{proRequired:!0,source:"Download G-Code","Easel Pro Content":Array.from(xo.getInUseProFeatures(e)).map(n=>n.label),"Usage Limit Exceeded":Q.isOverWeeklyUsageLimit(e)?"1 carve/export per week":null,"Usage Limit Enabled":it("free_limits")}),N.store.dispatch(De.actions.showUserModalAccountTab()),null;let t=[],r=W.getExternalGcode(e),o=W.getGcodePasses(e),i=Ue.getMesh(e);if(r!=null)t.push(r);else if(o.length>0)t.push(...o.map(({gcode:n})=>n));else if(i!=null){let n=A0.workpieceFromState(e),{roughingPass:s,finishingPass:a}=await R0.generateFromWorkpiece(n,"all");t.push(s.gcode,a.gcode)}else{let n=await Ms.safeProcess({style:"all"});t.push(...n.map(s=>s.gcode))}switch(t.length){case 3:return[{gcode:t[0],passName:"roughing"},{gcode:t[1],passName:"detail"},{gcode:t[2],passName:"outline"}];case 2:return[{gcode:t[0],passName:"roughing"},{gcode:t[1],passName:i!=null?"finishing":"detail"}];case 1:default:return[{gcode:t[0]}]}},Z6=e=>{y7e().then(t=>{if(t)if(t.length>1){let r=N.store.getState(),o=W.getActiveWorkpiece(r).name||ge.getProjectName(r);lmt(t,o,e)}else g7e(t[0].gcode,t[0].passName,e)})},Ym=async(e,t)=>{y7e().then(r=>{if(r){let o={outline:2,detail:1}[e]||0,i=r[o];g7e(i.gcode,i.passName,t)}})};var cmt=()=>{let[e,t]=(0,Xr.useState)(!1),[r,o]=(0,Xr.useState)(""),i=(0,qm.useDispatch)(),n=(0,qm.useSelector)(xo.getInUseProFeatures),s=(0,qm.useSelector)(re.detailBitEnabled),a=(0,qm.useSelector)(re.outlineBitEnabled),l=(0,qm.useSelector)(Ue.isThreeD),c={isCabinetProject:(0,qm.useSelector)(zt.isCabinetProject),isThreeD:(0,qm.useSelector)(Ue.isThreeD),isExternalGcode:!!(0,qm.useSelector)(W.getExternalGcode)},u=()=>{t(!1)},p="Update your payment information to keep using Easel Pro",m="Update now",h=s||a,f=He(U.viewedWarningMessage,{"Warning Message":{warningType:"manufacture-update-payment",message:`${p} ${m}`}});(0,Xr.useEffect)(()=>{let E=T=>{t(!0),o(T.manufactureAction),f()};return J.addListener("show-past-due-manufacture-modal",E),J.addListener("hide-past-due-manufacture-modal",u),()=>{J.removeListener("show-past-due-manufacture-modal",E),J.removeListener("hide-past-due-manufacture-modal",u)}},[f]);let x=()=>{u(),i(De.actions.showUserModalAccountTab())},v=()=>{u(),Rf.openWalkthrough(c)},b=()=>{u(),Z6({source:"Nav Bar Button"})},S=()=>{u(),Ym("roughing",{source:"Nav Bar Button"})},w=()=>{u(),Ym("detail",{source:"Nav Bar Button"})},_=()=>{u(),Ym("outline",{source:"Nav Bar Button"})};return Xr.default.createElement(vu.Modal,{className:"past-due-manufacture",show:e,onHide:u},Xr.default.createElement(vu.Modal.Header,{closeButton:!0},Xr.default.createElement(vu.Modal.Title,null,Xr.default.createElement("i",{className:"fs-1 bi bi-exclamation-circle-fill"}),p)),Xr.default.createElement(vu.Modal.Body,null,Xr.default.createElement("p",null,"This project uses the following ",Xr.default.createElement("span",{className:"easel-pro-label label-carve"},"Pro")," feature",n.length>1?"s":"",":"),Xr.default.createElement("div",{className:"past-due-manufacture__features-list"},Xr.default.createElement("ul",null,n.map(E=>Xr.default.createElement("li",{key:E.key},E.label)))),Xr.default.createElement("p",null,"Your payment for Easel Pro could not be processed.",Xr.default.createElement("br",null),"Update your billing information today so you can continue using",n.length>1?Xr.default.createElement(Xr.default.Fragment,null," these ",Xr.default.createElement("span",{className:"easel-pro-label label-carve"},"Pro")," features "):Xr.default.createElement(Xr.default.Fragment,null," this ",Xr.default.createElement("span",{className:"easel-pro-label label-carve"},"Pro")," feature "),"and more!"),Xr.default.createElement(vu.Button,{className:"btn btn-warning",onClick:x},m),r==="carve"&&Xr.default.createElement(vu.Button,{className:"btn btn-link past-due-manufacture__single-option",onClick:v},"Proceed to carve"),r==="export"&&!h&&Xr.default.createElement(vu.Button,{className:"btn btn-link past-due-manufacture__single-option",onClick:b},"Proceed to download g-code"),r==="export"&&h&&Xr.default.createElement("div",{className:"past-due-manufacture__multipass-options"},Xr.default.createElement("div",{className:"btn-group-vertical"},Xr.default.createElement(vu.Button,{className:"btn btn-link past-due-manufacture__option",onClick:b},"Download g-code (ZIP)"),Xr.default.createElement(vu.Button,{className:"btn btn-link past-due-manufacture__option",onClick:S},"\u2B91 Roughing pass g-code"),s&&Xr.default.createElement(vu.Button,{className:"btn btn-link past-due-manufacture__option",onClick:w},"\u2B91 Detail pass g-code"),a&&!l&&Xr.default.createElement(vu.Button,{className:"btn btn-link past-due-manufacture__option",onClick:_},"\u2B91 Outline pass g-code")))))},x7e=cmt;var TH=P("react-bootstrap");var tI=P("react-redux"),nl=M(P("react"),1);var umt=()=>{let e=(0,tI.useSelector)(zo.getUrl),[t,r]=(0,nl.useState)(!1),o=(0,tI.useDispatch)(),i=()=>{r(!1),o(vt.actions.setSharingStep("share"))},n=()=>r(!1);return zm(()=>{J.addListener("show-publish-project-finished",()=>r(!0))}),nl.default.createElement(TH.Modal,{className:"publish-project-finished-modal",show:t,onHide:n},nl.default.createElement(TH.Modal.Header,{closeButton:!0}),e&&nl.default.createElement(nl.default.Fragment,null,nl.default.createElement("h3",null,"Your project has been published!"),nl.default.createElement("div",{className:"text-center"},nl.default.createElement(oe,{className:"btn btn-primary mt-2",href:e,target:"_blank"},"View your project in the gallery ",nl.default.createElement("i",{className:"bi bi-box-arrow-up-right"})))),!e&&nl.default.createElement(nl.default.Fragment,null,nl.default.createElement("h3",null,"Your project has been unpublished!"),nl.default.createElement("div",{className:"publish-project-finished-modal__container"},nl.default.createElement(oe,{className:"btn btn-primary publish-project-finished-modal__btn",onClick:i},"Project sharing settings"))))},b7e=umt;var rI=P("react-bootstrap"),$m=M(P("react"),1),oI=P("react-redux");var pmt=()=>{let e=(0,oI.useDispatch)(),t=(0,oI.useSelector)(vt.machineSetupRequiredVisible),r=()=>e(vt.actions.hideMachineSetupRequiredModal());return $m.default.createElement(rI.Modal,{show:t,onHide:r},$m.default.createElement(rI.Modal.Header,{closeButton:!0}),$m.default.createElement(rI.Modal.Body,{className:"machine-setup-required-modal__body"},$m.default.createElement("h3",null,$m.default.createElement("i",{className:"bi bi-exclamation-circle-fill machine-setup-required-modal__alert-icon"}),"Add a machine"),$m.default.createElement("p",null,"You currently don't have a CNC machine set up. Add a machine to start carving or download G-code."),$m.default.createElement("div",{className:"machine-setup-required-modal__cta-container"},$m.default.createElement("button",{className:"btn btn-secondary",onClick:r},"Return to project"),$m.default.createElement("a",{role:"button",className:"btn machine-setup-required-modal__setup-button",href:"/setup"}," Set up a machine"))))},v7e=pmt;var Co=M(P("react"),1),iI=P("react-bootstrap"),Su=P("react-redux");var uo=M(P("react"),1);var dmt=({recommendations:e,loading:t,onClone:r})=>{let[o,i]=(0,uo.useState)(0),n=3,s=Math.ceil(e.length/n),a=s-1,l=o+n+1<=e.length?e.slice(o*n,(o+1)*n):e.slice(-n),c=()=>{i(p=>p>0?p-1:a)},u=()=>{i(p=>p<a?p+1:0)};return t?uo.default.createElement(Re,null):uo.default.createElement(uo.default.Fragment,null,s>1&&o!==0&&uo.default.createElement("button",{className:"carousel-control control-prev",onClick:c,"aria-label":"Previous recommendations"},uo.default.createElement("i",{className:"bi bi-chevron-left"})),l.map(p=>uo.default.createElement("div",{key:`gallery-project-${p.project.id}`,className:"project-start-modal__gallery-project"},uo.default.createElement("div",{className:"thumbnail-container"},uo.default.createElement("img",{src:p.thumbnail_image_urls.small,className:"project-start-modal__gallery-thumbnail"})),uo.default.createElement("div",{className:"project-info"},uo.default.createElement("div",{className:"project-name"},p.title),uo.default.createElement("div",{className:"project-author"},"by ",p.user.full_name),uo.default.createElement("div",{className:"thumbnail-stats"},p.likes_count>0&&uo.default.createElement("span",{className:"thumbnail-stat hearts-count"},uo.default.createElement("span",{className:"thumbnail-stat-icon"},uo.default.createElement("i",{className:"fa fa-heart"})),uo.default.createElement("span",{className:"thumbnail-stat-label"},p.likes_count)),p.opens_count>0&&uo.default.createElement("span",{className:"thumbnail-stat opens-count"},uo.default.createElement("span",{className:"thumbnail-stat-icon"},uo.default.createElement("i",{className:"fa fa-folder-open"})),uo.default.createElement("span",{className:"thumbnail-stat-label"},p.opens_count)),p.copies_count>0&&uo.default.createElement("span",{className:"thumbnail-stat copy-count"},uo.default.createElement("span",{className:"thumbnail-stat-icon"},uo.default.createElement("i",{className:"fa fa-code-fork"})),uo.default.createElement("span",{className:"thumbnail-stat-label"},p.copies_count)))),uo.default.createElement(je,{placement:"top",tooltipContent:"Use this design for your project"},uo.default.createElement("button",{className:"make-it-button btn btn-primary",onClick:()=>r(p)},"Make It")))),s>1&&o!==a&&uo.default.createElement("button",{className:"carousel-control control-next",onClick:u,"aria-label":"Next recommendations"},uo.default.createElement("i",{className:"bi bi-chevron-right"})))},S7e=dmt;var mmt=()=>{let{PROJECT_NAME_MAX:e,PROJECT_NAME_ERRORS:t}=me,r=(0,Su.useDispatch)(),[o,i]=(0,Co.useState)([]),[n,s]=(0,Co.useState)(!1),[a,l]=(0,Co.useState)([]),[c,u]=(0,Co.useState)(""),p=(0,Co.useRef)(Tt()),m=(0,Co.useRef)(null),h=He(U.closedNewProjectStartModal),f=(0,Su.useSelector)(ge.getProjectLinkToken),x=(0,Su.useSelector)(W.getActiveWorkpiece),v=(0,Su.useSelector)(ge.getDraftCollectionId),b=(0,Su.useSelector)(vt.projectStartModalVisible),S=(0,Su.useSelector)(tn.getHot),w=(0,Su.useSelector)(tn.getHotLoading),_=(0,Su.useSelector)(tn.getHotError),E=(0,Su.useSelector)(tn.getCollections),T=(0,Su.useSelector)(ge.getProjectName),A=(0,Su.useSelector)(ge.getProjectId),O=B=>{c!==""&&r(ge.actions.setProjectName(c)),r(vt.actions.hideProjectStartModal()),F(B,c||T||"")};(0,Co.useEffect)(()=>{b&&m.current&&m.current.focus()},[b]),(0,Co.useEffect)(()=>{if(b){let B=new URL(window.location.href);B.searchParams.has("newProject")&&(B.searchParams.delete("newProject"),window.history.replaceState({},"",B.toString())),r(tn.fetchHot())}},[b,r]);let L=async B=>{s(!0),p.current=Tt();try{let{recs:j,ref:X}=await Ca.search(B,p.current);X===p.current&&l(j)}catch(j){console.error("Search failed:",j)}finally{s(!1)}},R=B=>{let j=B.target.value;i([]),u(j),j.length<1?l([]):j.length<=e?L(j):i([`Invalid project name: ${t.MAX}`])},z=B=>{s(!0);let j={name:c===""?`Copy of ${B.title}`:c,draft_gallery_collection_id:v},X={"Search Term":c,Collection:v,"Parent Gallery Project Name":B.title,"Parent Project Id":B.project.id,"Parent Project Link Token":B.project.link_token,Origin:"New Project Start Modal"};Gr.cloneInto(B.project.link_token,f,j,X).then(te=>(o3.initialize(te.project),te)).then(te=>(i3({fontManager:qr,googleFontManager:qd,uploadedFontManager:h5}).loadFontsInSavedProjectData(te.project),te)).then(te=>(r(ge.actions.loadProjectData(te)),te)).then(te=>vl.load(te.project,()=>{})).then(()=>{r(W.actions.hideWorkpiece({projectLinkToken:f,id:x.id})),r(vt.actions.hideProjectStartModal()),F("Copied Gallery Project",j.name)}).catch(te=>{i([te?.message||"Failed to clone project"]),s(!1)})},I=B=>B&&E.find(X=>X.id===B)?.title||null,F=(B,j)=>{h({"Action Source":B,"Project ID":A,"Project Name":j,Collection:I(v)})};return Co.default.createElement(iI.Modal,{show:b,onHide:()=>O("Closed Modal"),size:"lg"},Co.default.createElement(iI.Modal.Header,{closeButton:!0}),Co.default.createElement(iI.Modal.Body,{className:"project-start-modal__body"},o.length>0&&o.map((B,j)=>Co.default.createElement("p",{className:"project-start-modal__error",key:`error-${j}`}," ",`${B}`," ")),_&&Co.default.createElement("p",{className:"project-start-modal__error"},_),Co.default.createElement("h3",{className:"project-start-modal__title"},"What are you making?"),Co.default.createElement("div",{className:"project-start-modal__settings"},Co.default.createElement("div",{className:"project-start-modal__project-name"},Co.default.createElement("label",{htmlFor:"project-name"},"Name"),Co.default.createElement("input",{ref:m,id:"project-name",className:"form-control project-start-modal__project-name-input",type:"text",value:c,onChange:R,placeholder:"Enter a name"})),Co.default.createElement("div",{className:"project-start-modal__draft-collection"},Co.default.createElement(y6,{selectedCollectionId:v,onChange:B=>r(ge.actions.setDraftGalleryCollectionId(B)),label:"Category"}))),Co.default.createElement("div",{className:"project-start-modal__inspiration"},Co.default.createElement("span",{className:"project-start-modal__inspiration-text"},"Get Inspired!")," Start with a project from the gallery."),Co.default.createElement("div",{className:"project-start-modal__recommendations"},Co.default.createElement(S7e,{recommendations:a.length>0?a:S,loading:n||w,onClone:z})),Co.default.createElement("div",{className:"project-start-modal__create-button"},Co.default.createElement("button",{className:"btn btn-primary",onClick:()=>O("Create Button")},"Create"))))},C7e=mmt;var fmt=()=>Lt.default.createElement(Lt.default.Fragment,null,Lt.default.createElement(Fue,null),Lt.default.createElement(Kue,null),Lt.default.createElement(qhe,null),Lt.default.createElement(F_,null),Lt.default.createElement(t5e,null),Lt.default.createElement(Qhe,null),Lt.default.createElement(r5e,null),Lt.default.createElement(o5e,null),Lt.default.createElement(n5e,null),Lt.default.createElement(l5e,null),Lt.default.createElement(u5e,null),Lt.default.createElement(d5e,null),Lt.default.createElement(m5e,null),Lt.default.createElement(h5e,null),Lt.default.createElement(g5e,null),Lt.default.createElement(_5e,null),Lt.default.createElement(k5e,null),Lt.default.createElement(M5e,null),Lt.default.createElement(A5e,null),Lt.default.createElement(G5e,null),Lt.default.createElement(J5e,null),Lt.default.createElement(i0e,null),Lt.default.createElement(l0e,null),Lt.default.createElement(p0e,null),Lt.default.createElement(b0e,null),Lt.default.createElement(v0e,null),Lt.default.createElement(x7e,null),Lt.default.createElement(C0e,null),Lt.default.createElement(A0e,null),Lt.default.createElement(D0e,null),Lt.default.createElement(Z0e,null),Lt.default.createElement(i1e,null),Lt.default.createElement(Hge,null),Lt.default.createElement(qge,null),Lt.default.createElement(Kge,null),Lt.default.createElement(b7e,null),Lt.default.createElement(tye,null),Lt.default.createElement(ub,null),Lt.default.createElement(sye,null),Lt.default.createElement(Uye,null),Lt.default.createElement(Rye,null),Lt.default.createElement(c7e,null),Lt.default.createElement(u7e,null),Lt.default.createElement(d7e,null),Lt.default.createElement(f7e,null),Lt.default.createElement(v7e,null),Lt.default.createElement(C7e,null),Lt.default.createElement(B_,null)),P7e=fmt;var Q0=M(P("prop-types"),1),Pu=M(P("react"),1);var iv=M(P("react"),1);var EH=class extends iv.default.Component{constructor(){super(...arguments);y(this,"_onClick",()=>{H.trackEventOnce("Opened Machine Controls"),J.emit("show-machine-controls")})}render(){let{isMachineCarving:r,isMachineReadyOrLocked:o,disabled:i}=this.props,n=o?"machine-connected":"";return r?null:iv.default.createElement("div",{className:"machine-control-widget dropdown"},iv.default.createElement("button",{className:`machine-control-widget__button machine-status-indicator ${n}`,onClick:this._onClick,disabled:i},iv.default.createElement("img",{src:EASEL_ASSETS.images.machineControlsIcon})))}},w7e=EH;var Cu=M(P("react"),1);var MH=class extends Cu.default.Component{constructor(){super(...arguments);y(this,"increaseFeedRate",r=>{r.preventDefault(),ke.increaseFeedRate()});y(this,"decreaseFeedRate",r=>{r.preventDefault(),ke.decreaseFeedRate()})}render(){return this.props.isMachineProbing||!this.props.isMachineCarving||!this.props.feedRateOverrideEnabled?null:Cu.default.createElement("div",{className:`feed-rate-override ${this.props.variant==="dark"?"feed-rate-override--dark":""}`},Cu.default.createElement("div",{className:"feed-rate-override__button-container"},Cu.default.createElement(oe,{className:"feed-rate-override__decrease btn btn-default",onClick:this.decreaseFeedRate},"\u2212"),this.props.currentFeedRatePercentage!=null&&Cu.default.createElement("div",{className:"feed-rate-override__text-container"},Cu.default.createElement("div",{className:"feed-rate-override__label"},"Feed rate:"),Cu.default.createElement("div",{className:"feed-rate-override__value"},this.props.currentFeedRate!=null?`${this.props.currentFeedRate} (${this.props.currentFeedRatePercentage}%)`:`${this.props.currentFeedRatePercentage}%`,Cu.default.createElement(rn,{id:"feed-rate-override-help",placement:"bottom",popoverContent:Cu.default.createElement("span",null,"Speeds up or slows down your CNC machine\u2019s movement while carving. Use with caution!"," ",Cu.default.createElement("a",{href:"https://inventables.zendesk.com/hc/en-us/articles/360012593473-Walkthrough-Tutorial-Feed-Rate-Override",target:"_blank",rel:"noreferrer"},"Learn More"))},Cu.default.createElement("i",{className:"bi bi-question-circle-fill feed-rate-override__icon"})))),Cu.default.createElement(oe,{className:"feed-rate-override__increase btn btn-default",onClick:this.increaseFeedRate},"+")))}},hmt=ne({mapStateToProps:e=>({isMachineProbing:ie.isProbing(e),isMachineCarving:ie.isMachineCarving(e),feedRateOverrideEnabled:ie.getFeatures(e)?.feedRateOverrideEnabled??!1,currentFeedRatePercentage:Ro.getCurrentFeedRatePercentage(e),currentFeedRate:Ro.getCurrentFeedRate(e)}),component:MH}),nI=hmt;var Ih=M(P("react"),1);var AH=class extends Ih.default.Component{constructor(){super(...arguments);y(this,"increaseSpindleSpeed",r=>{r.preventDefault(),ke.increaseSpindleSpeed()});y(this,"decreaseSpindleSpeed",r=>{r.preventDefault(),ke.decreaseSpindleSpeed()});y(this,"_formatSpindleSpeedValue",r=>`${parseFloat((r.value/1e3).toFixed(2)).toString()}k ${r.unit}`)}render(){return!bt.supportsSpindleSpeed(this.props.machineType,this.props.spindleType,this.props.automaticSpindleControl)||!this.props.runningVersionAbilities.spindleSpeedOverride||(this.props.currentSpindleSpeed!=null?this.props.currentSpindleSpeed.value:void 0)<=1||this.props.isMachineProbing||!this.props.isMachineCarving?null:Ih.default.createElement("div",{className:`spindle-speed-override ${this.props.variant==="dark"?"spindle-speed-override--dark":""}`},Ih.default.createElement("div",{className:"spindle-speed-override__button-container"},Ih.default.createElement("a",{href:"#",className:"spindle-speed-override__decrease btn btn-default",onClick:this.decreaseSpindleSpeed},"\u2212"),this.props.currentSpindleSpeedPercentage!=null&&Ih.default.createElement("div",{className:"spindle-speed-override__text-container"},Ih.default.createElement("p",{className:"spindle-speed-override__label"},"Spindle speed:"),Ih.default.createElement("p",{className:"spindle-speed-override__value"},this.props.currentSpindleSpeed.value!=null&&this.props.currentSpindleSpeed.unit!=null?`${this._formatSpindleSpeedValue(this.props.currentSpindleSpeed)} (${this.props.currentSpindleSpeedPercentage}%)`:`${this.props.currentSpindleSpeedPercentage}%`)),Ih.default.createElement("a",{href:"#",className:"spindle-speed-override__increase btn btn-default",onClick:this.increaseSpindleSpeed},"+")))}},gmt=ne({mapStateToProps:e=>({isMachineProbing:ie.isProbing(e),isMachineCarving:ie.isMachineCarving(e),currentSpindleSpeedPercentage:Ro.getCurrentSpindleSpeedPercentage(e),currentSpindleSpeed:Ro.getCurrentSpindleSpeed(e),automaticSpindleControl:Y.getAutomaticSpindleControl(e),machineType:Y.getMachineType(e),spindleType:Y.getSpindleType(e),runningVersionAbilities:jo.getRunningVersionAbilities(e)}),component:AH}),sI=gmt;var _7e=M(P("prop-types"),1),qo=M(P("react"),1),J6=P("react-bootstrap");var aI=class extends qo.default.Component{constructor(){super(...arguments);y(this,"pauseCarving",()=>{this.props.safetyDoorEnabled?ke.execute("safetyDoor"):H.trackEvent("Job Paused"),ke.pause()});y(this,"resumeCarving",()=>{H.trackEvent("Job Resumed"),ke.resume()});y(this,"stopCarving",()=>{H.trackEvent("Job Stopped"),ke.stop()})}render(){let{isPaused:r,projectName:o,hasIntegratedOverrideControls:i,effectivePercentComplete:n,timeLeft:s}=this.props;if(o==null||n==null)return null;let a=`${n.toFixed(0)}%`,l=vr.truncate(o,25),c=r?"Paused":"Carving";return qo.default.createElement("div",{className:`job-status-controls ${this.props.variant==="dark"?"job-status-controls--dark":""}`},i&&qo.default.createElement(J6.Dropdown,null,qo.default.createElement(je,{placement:"bottom",tooltipContent:"Overrides"},qo.default.createElement(J6.Dropdown.Toggle,{as:J6.Anchor,className:"job-status-controls__overrides-button"},qo.default.createElement("i",{className:"bi bi-sliders","aria-hidden":"true"}))),qo.default.createElement(J6.Dropdown.Menu,null,qo.default.createElement("div",{className:"job-status-controls__overrides-menu"},qo.default.createElement(nI,{variant:this.props.variant}),qo.default.createElement(sI,{variant:this.props.variant})))),qo.default.createElement("div",{className:"job-status-controls__carve-progress"},qo.default.createElement("div",{className:"job-status-controls__carve-progress-label"},c," \u201C",l,"\u201D"),qo.default.createElement("div",{className:"job-status-controls__carve-progress-bar"},qo.default.createElement("div",{className:"job-status-controls__carve-progress-bar-fill",style:{width:a}}),qo.default.createElement("div",{className:"job-status-controls__carve-progress-text"},qo.default.createElement("span",null,a),s&&qo.default.createElement("span",null,", (",fa.durationFromMinutes(s)," left)")))),qo.default.createElement("div",{className:"job-status-controls__control-buttons"},r?qo.default.createElement(je,{placement:"bottom",tooltipContent:"Resume"},qo.default.createElement(oe,{className:"job-status-controls__pause-button","data-action":"Resume",onClick:this.resumeCarving},qo.default.createElement("i",{className:"bi bi-play-fill","aria-hidden":"true"}))):qo.default.createElement(je,{placement:"bottom",tooltipContent:"Pause"},qo.default.createElement(oe,{className:"job-status-controls__pause-button","data-action":"Pause",onClick:this.pauseCarving},qo.default.createElement("i",{className:"bi bi-pause-fill","aria-hidden":"true"}))),qo.default.createElement(je,{placement:"bottom",tooltipContent:"Stop"},qo.default.createElement(oe,{className:"job-status-controls__stop-button","data-action":"Stop",onClick:this.stopCarving},qo.default.createElement("i",{className:"bi bi-x-lg","aria-hidden":"true"})))))}};y(aI,"propTypes",{isPaused:_7e.default.bool.isRequired});var ymt=ne({mapStateToProps:e=>({effectivePercentComplete:Ro.getEffectivePercentComplete(e),timeLeft:Ro.getTimeLeft(e),projectName:Ro.getProjectName(e),currentFeedRatePercentage:Ro.getCurrentFeedRatePercentage(e),safetyDoorEnabled:ie.getFeatures(e)?.safetyDoorEnabled}),component:aI}),k7e=ymt;var Mr=M(P("react"),1);var IH=class extends Mr.default.Component{constructor(){super(...arguments);y(this,"openWalkthrough",r=>{let{isCabinetProject:o,isThreeD:i,isExternalGcode:n}=this.props;r.preventDefault(),Rf.openWalkthrough({isCabinetProject:o,isThreeD:i,isExternalGcode:n,isResumingCarve:!1})});y(this,"openResumeWalkthrough",r=>{let{isCabinetProject:o,isThreeD:i,isExternalGcode:n}=this.props;r.preventDefault(),Rf.openWalkthrough({isCabinetProject:o,isThreeD:i,isExternalGcode:n,isResumingCarve:!0})});y(this,"trackAndShowAccountModal",r=>{r.preventDefault();let{inUseProFeatures:o,setCarveOnModalExit:i,showAccountModal:n,isOverWeeklyUsageLimit:s}=this.props;i(),H.trackEvent(U.showedAccountModal,{proRequired:!0,source:"Machine Widget","Easel Pro Content":Array.from(o).map(a=>a.label),"Usage Limit Exceeded":s?"1 carve/export per week":null,"Usage Limit Enabled":it("free_limits")}),n()});y(this,"showMachineNotFoundModal",r=>{r.preventDefault(),Ya.showMachineNotFoundModal()});y(this,"showDriverUnsupportedModal",r=>{r.preventDefault(),Ya.showDriverUnsupportedModal()});y(this,"showDriverNotInstalledModal",r=>{r.preventDefault(),Ya.showDriverNotInstalledModal()});y(this,"showMachineSettingsAlert",r=>{r.preventDefault(),Ya.showMachineSetupAlert()});y(this,"showSetupMachine",r=>{r.preventDefault(),this.props.showMachineSetupRequiredModal()});y(this,"getProLabel",()=>this.props.proFeatureInUse?Mr.default.createElement(qt,{showWarning:!this.props.authorizedToCarve,type:"carve"}):null);y(this,"showPastDueManufactureModal",r=>{r.preventDefault(),J.emit("show-past-due-manufacture-modal",{manufactureAction:this.showExportButton()?"export":"carve"})});y(this,"carveButton",(r,o="")=>{let i=this.getProLabel(),n=Mr.default.createElement("button",{className:`machine-status-indicator ${o}`,onClick:r},i,Mr.default.createElement("span",{className:"carve-button-label"},"Carve\u2026"));return this.props.easelProDayTimeLeft?Mr.default.createElement(je,{placement:"bottom",id:"easel-pro-time-remaining-tooltip",tooltipContent:`You have ${this.props.easelProDayTimeLeft} left in your Easel Pro carve day. `},n):n});y(this,"carveButtonWithDropdown",(r="")=>{let o=this.getProLabel();return Mr.default.createElement(Mr.default.Fragment,null,Mr.default.createElement("div",{className:"btn-group machine-widgets-dropdown"},Mr.default.createElement("button",{className:`machine-status-indicator ${r}`,onClick:this.openWalkthrough},o,Mr.default.createElement("span",{className:"carve-button-label"},"Carve\u2026")),Mr.default.createElement("button",{className:`machine-status-indicator ${r} dropdown-toggle dropdown-toggle-split`,"data-bs-toggle":"dropdown","aria-expanded":"false"},Mr.default.createElement("span",{className:"visually-hidden"},"Toggle Dropdown")),Mr.default.createElement("ul",{className:"dropdown-menu"},Mr.default.createElement("li",null,Mr.default.createElement(oe,{onClick:this.openResumeWalkthrough},Mr.default.createElement(qt,null)," Resume carve...")))))});y(this,"downloadGcodeButton",()=>{let{authorizedToCarve:r,easelProSubscriptionStatus:o,inUseCarvingProFeatures:i,useDetailBit:n,useOutlineBit:s,isThreeD:a}=this.props,l,c;r?o==="payment_error_inactive"&&i.length>0?(l=this.showPastDueManufactureModal,c=""):n||s?(l=null,c="dropdown"):(l=this.downloadGcode,c=""):(l=this.trackAndShowAccountModal,c="");let u=s&&!a;return Mr.default.createElement(Mr.default.Fragment,null,Mr.default.createElement("button",{className:`machine-status-indicator ${r?"machine-connected":""} dropdown-toggle`,onClick:l,"data-bs-toggle":c},this.getProLabel(),Mr.default.createElement("span",{className:"carve-button-label"},"Export\u2026")),Mr.default.createElement("ul",{className:"dropdown-menu export-dropdown"},Mr.default.createElement("li",null,Mr.default.createElement(oe,{onClick:()=>this.downloadGcode()},"Download g-code (ZIP)")),Mr.default.createElement("li",null,Mr.default.createElement(oe,{onClick:()=>this.downloadGcodePass("roughing")},"\xA0\xA0\xA0Roughing pass g-code")),n&&Mr.default.createElement("li",null,Mr.default.createElement(oe,{onClick:()=>this.downloadGcodePass("detail")},"\xA0\xA0\xA0Detail pass g-code")),u&&Mr.default.createElement("li",null,Mr.default.createElement(oe,{onClick:()=>this.downloadGcodePass("outline")},"\xA0\xA0\xA0Outline pass g-code"))))});y(this,"downloadGcode",()=>{this.props.isOverWeeklyUsageLimit?this.trackAndShowAccountModal():Z6({source:"Nav Bar Button"})});y(this,"downloadGcodePass",r=>{this.props.isOverWeeklyUsageLimit?this.trackAndShowAccountModal():Ym(r,{source:"Nav Bar Button"})});y(this,"getConnectionType",()=>{if(this.props.machineProfileId==null||this.props.machineProfiles==null)return;let r=this.props.machineProfiles.find(o=>o.id===this.props.machineProfileId);if(r)return r.settings.connection?r.settings.connection.type:null});y(this,"showExportButton",()=>this.getConnectionType()===Hx.None)}render(){let r,{authorizedToCarve:o,connectionType:i,easelProSubscriptionStatus:n,machineProfileId:s,isCarvey:a,isMachineCarving:l,isMachinePaused:c,isMachineReadyOrLocked:u,isMachineSetupComplete:p,isMachineStopping:m,isSupportedDriverConnected:h,isUnsupportedDriverConnected:f,inUseCarvingProFeatures:x,isOverWeeklyUsageLimit:v,showAccountModal:b}=this.props,S=u&&!p&&s==null,w=u&&n==="payment_error_inactive"&&x.length>0;u&&(r="machine-connected");let _;return o?v?_=this.carveButton(b,r):S?_=this.carveButton(this.showMachineSettingsAlert,r):w?_=this.carveButton(this.showPastDueManufactureModal,r):s==null?_=this.carveButton(this.showSetupMachine):u&&it("resume_carve")?_=this.carveButtonWithDropdown(r):u?_=this.carveButton(this.openWalkthrough,r):f?_=this.carveButton(this.showDriverUnsupportedModal):h?_=this.carveButton(this.showMachineNotFoundModal):_=this.carveButton(this.showDriverNotInstalledModal):_=this.carveButton(this.trackAndShowAccountModal,r),this.showExportButton()?Mr.default.createElement("div",{className:"machine-widgets-container"},this.downloadGcodeButton()):l?Mr.default.createElement("div",{className:"machine-status-indicator machine-running-console"},Mr.default.createElement(k7e,{variant:"dark",isPaused:c})):m?Mr.default.createElement("div",{className:"machine-status-indicator"},"Machine stopping"):Mr.default.createElement("div",{className:"machine-widgets-container"},i,_,!a&&Mr.default.createElement(w7e,{isMachineCarving:l,isMachineReadyOrLocked:u}))}},xmt=ne({mapStateToProps:function(e){let t=Date.now(),r=ie.getConnectionState(e),o=ie.isMachineReadyOrLocked(e);return{isMachineCarving:ie.isMachineCarving(e),isMachinePaused:r==="paused",isMachineStopping:["stopping"].includes(r),isMachineReadyOrLocked:o,proFeatureInUse:xo.getInUseCarvingProFeatures(e).length>0,easelProDayTimeLeft:Q.getEaselProDayTimeLeftDisplay(t,e),easelProSubscriptionStatus:Q.getSubscriptionStatus(e),isMachineSetupComplete:Y.isMachineSetupComplete(e),isCarvey:Y.isCarvey(e),machineProfileId:et.getCurrentProfileId(e),machineProfiles:et.getMachineProfiles(e),authorizedToCarve:xo.authorizedToCarve(t,e),useDetailBit:re.detailBitEnabled(e),useOutlineBit:re.outlineBitEnabled(e),isSupportedDriverConnected:jo.isSupportedDriverConnected(e),isUnsupportedDriverConnected:jo.isUnsupportedDriverConnected(e),isCabinetProject:zt.isCabinetProject(e),isThreeD:Ue.isThreeD(e),isExternalGcode:!!W.getExternalGcode(e),inUseProFeatures:xo.getInUseProFeatures(e),inUseCarvingProFeatures:xo.getInUseCarvingProFeatures(e),isOverWeeklyUsageLimit:Q.isOverWeeklyUsageLimit(e)}},mapDispatchToProps:e=>({setCarveOnModalExit:()=>e(Jr.actions.setCarveOnModalExit()),showMachineSetupRequiredModal:()=>e(vt.actions.showMachineSetupRequiredModal()),showAccountModal:()=>e(De.actions.showUserModalAccountTab())}),component:IH}),T7e=xmt;var Rg=M(P("react"),1);var bmt=({href:e,target:t,onClick:r,includeTooltip:o,className:i,dot:n})=>{let s=Rg.default.createElement("div",{className:"easel-logo__wrapper"},Rg.default.createElement(oe,{id:"easel-logo",className:`easel-brand ${i||""}`,href:e,target:t,onClick:r},Rg.default.createElement("img",{src:EASEL_ASSETS.images.easelInsert})),n&&Rg.default.createElement("div",{onClick:r},Rg.default.createElement(O_,null)));return o?Rg.default.createElement(je,{placement:"bottom",tooltipContent:"View your saved projects and account details"},s):s},lI=bmt;var Zm=M(P("react"),1),XH=P("react-redux");var K6=M(P("react"),1);var Kn=M(P("react"),1);var DH=M(P("prop-types"),1),NH=M(P("react"),1);var cI=class extends NH.default.Component{constructor(){super(...arguments);y(this,"onClick",()=>{ke.presentMaterial()})}render(){let r=this.props.connectionState==="ready_idle"?`btn btn-primary ${this.props.className}`:`btn btn-default disabled ${this.props.className}`;return NH.default.createElement(oe,{onClick:this.onClick,className:r},"Park")}};y(cI,"propTypes",{connectionState:DH.default.string.isRequired,className:DH.default.string});var E7e=cI;var OH=M(P("prop-types"),1),uI=M(P("react"),1);var pI=class extends uI.default.Component{render(){let r=["ready_idle","alarm_lock"].includes(this.props.connectionState)?`btn btn-primary ${this.props.className}`:`btn btn-default disabled ${this.props.className}`;return uI.default.createElement(oe,{onClick:()=>ke.home(),className:r},uI.default.createElement("i",{className:"bi bi-house-door-fill"})," Home Machine")}};y(pI,"propTypes",{connectionState:OH.default.string.isRequired,className:OH.default.string});var M7e=pI;var LH=class extends Kn.default.Component{constructor(){super(...arguments);y(this,"showMultipleProfileAlert",()=>{Fe("New Machine","",[{text:"Upgrade",action:this.props.openAccountModal},{text:"Cancel"}],`<div>
        <p>
         Upgrade to Easel Pro to install as many machines as you need.
        </p>
        <p>
         Not ready yet? Uninstall your current machine to set up another.
        </p>
      </div>`)});y(this,"getSetupButton",()=>!this.props.isProUser&&this.props.profiles.length>=1?Kn.default.createElement(oe,{className:"btn btn-primary setup-link",onClick:this.showMultipleProfileAlert,"data-action":"setup"},"Set up new machine",Kn.default.createElement(qt,null)):Kn.default.createElement("a",{href:"/setup/",className:"btn btn-primary setup-link","data-action":"setup"},Kn.default.createElement("i",{className:"bi bi-pencil-square"})," Set up new machine"));y(this,"getEditMachineButton",()=>{let r=this.props.profiles.find(o=>o.id===this.props.machineProfileId);if(r!=null)return Kn.default.createElement("button",{className:"btn btn-primary setup-link",onClick:()=>J.emit("open-machine-profile-modal",r)},Kn.default.createElement("i",{className:"bi bi-pencil-square"})," Edit your machine")});y(this,"getHomingButton",()=>this.props.connectionState&&this.props.homingEnabled?Kn.default.createElement(M7e,{connectionState:this.props.connectionState,className:"machine-tab__control-button"}):null);y(this,"getParkingButton",()=>{let r=this.props.machineType===ze.CARVEY&&this.props.connectionState!=null;return this.props.connectionState&&r?Kn.default.createElement(E7e,{machineType:this.props.machineType,connectionState:this.props.connectionState,className:"machine-tab__control-button"}):null})}getFlattenSpoilboardButton(){if(this.props.machineType!==ze.XCARVE_PRO)return[];let r=this.props.profiles.find(n=>n.id===this.props.machineProfileId);if(r==null)return[];let{x:o,y:i}=r.settings.geometry.work_area;return Kn.default.createElement(oe,{className:"btn btn-primary setup-link",href:`/plane?x=${o}&y=${i}`},"Flatten Spoilboard")}render(){let{isMachineReadyOrLocked:r}=this.props;return Kn.default.createElement("div",null,Kn.default.createElement(aE,{isMachineReadyOrLocked:r}),Kn.default.createElement("div",{className:"machine-tab__controls-container"},this.getHomingButton(),this.getParkingButton()),this.getEditMachineButton(),Kn.default.createElement("button",{className:"btn btn-primary setup-link",onClick:()=>J.emit("show-advanced-machine-panel")},Kn.default.createElement("i",{className:"bi bi-gear"})," General Settings"),Kn.default.createElement("button",{className:"btn btn-primary setup-link",onClick:this.props.openMachineInspector},Kn.default.createElement("i",{className:"bi bi-text-indent-left"})," Machine Inspector"),Kn.default.createElement("hr",null),this.getSetupButton(),Kn.default.createElement(oe,{href:"/downloads",target:"_blank",rel:"noreferrer",className:"btn btn-primary setup-link"},Kn.default.createElement("i",{className:"bi bi-cloud-download"})," Drivers and Post Processors"),this.getFlattenSpoilboardButton())}},vmt=ne({mapStateToProps:e=>{let t=Y.getMachineType(e),r=ie.getHomingEnabledRegister(e);return{homingEnabled:Zp.getValue(ie.getSettings(e),r)==="1"||t===ze.CARVEY,isMachineReadyOrLocked:ie.isMachineReadyOrLocked(e),connectionState:ie.getConnectionState(e),machineType:t,profiles:et.getMachineProfiles(e),machineProfileId:et.getCurrentProfileId(e),isProUser:Q.isProEnabled(Date.now(),e)}},mapDispatchToProps:e=>({openAccountModal:()=>e(De.actions.showUserModalAccountTab()),openMachineInspector:()=>e(ie.actions.openInspector())}),component:LH}),A7e=vmt;var BH=class extends K6.default.Component{render(){return K6.default.createElement("li",{className:"nav-item dropdown",id:"machine-settings"},K6.default.createElement("a",{href:"#",className:`nav-link ${this.props.disabled?"disabled":"dropdown-toggle"}`,"data-bs-toggle":"dropdown","data-bs-auto-close":"outside",id:"machine-settings-menu-item"},"Machine"),K6.default.createElement("div",{className:"dropdown-menu dropdown-menu-wide"},K6.default.createElement(A7e,null)))}},I7e=BH;var ua=M(P("react"),1);var nv=M(P("react"),1);function Smt({children:e,dividerKey:t,noDivider:r}){let o=nv.default.Children.toArray(e).filter(Boolean);return o.length===0?null:nv.default.createElement(nv.default.Fragment,null,!r&&nv.default.createElement("div",{className:"dropdown-divider",key:t||"divider"}),o)}var Yi=Smt;var FH=class extends ua.default.Component{render(){return ua.default.createElement("li",{className:"nav-item dropdown"},ua.default.createElement("a",{href:"#",className:"dropdown-toggle light-on-dark nav-link","data-bs-toggle":"dropdown"},"Admin"),ua.default.createElement("div",{className:"dropdown-menu"},ua.default.createElement(Yi,{noDivider:!0},ua.default.createElement("a",{href:"/admin/users",className:"dropdown-item"},"Users"),ua.default.createElement("a",{href:"/admin/product_keys",className:"dropdown-item"},"Product Keys")),ua.default.createElement(Yi,null,ua.default.createElement("a",{href:"/admin/access_grants",target:"_blank",className:"dropdown-item"},"Access Grants"),ua.default.createElement("a",{href:"/features",target:"_blank",className:"dropdown-item"},"Features"),ua.default.createElement("a",{href:"/admin/fonts",className:"dropdown-item"},"Fonts"),ua.default.createElement("a",{href:"/admin/email_verification_exemption_domains",className:"dropdown-item"},"Educator Email Verification Exemptions"),ua.default.createElement("a",{href:"/sender_versions",className:"dropdown-item"},"Local Sender Downloads")),ua.default.createElement(Yi,null,ua.default.createElement("a",{href:"/connection_diagnostics",className:"dropdown-item"},"Connection Diagnostics"),ua.default.createElement("a",{href:"/error_reports",className:"dropdown-item"},"Error Reports"),ua.default.createElement("a",{href:"/troubleshooting",className:"dropdown-item"},"Troubleshooting"))))}},D7e=FH;var Pt=M(P("react"),1);var dI=M(P("react"),1);var Cmt={macCommandKey:"\u2318",shiftKey:"\u21E7"},WH=Cmt;var VH=class extends dI.default.Component{render(){let{title:t,shortcut:r,shift:o}=this.props,i=Qc.isMac()?WH.macCommandKey+" ":"Ctrl ";return o&&(r=`${WH.shiftKey} ${r}`),r?dI.default.createElement("span",{className:"dropdown-menu-item"},t,dI.default.createElement("span",{className:"dropdown-shortcut"},`${i} ${r}`)):t}},po=VH;var UH=M(P("react"),1);var Pmt=({description:e,redo:t})=>{let r=e!=null?`Redo ${e}`:"Redo";return UH.default.createElement(oe,{onClick:t,className:"dropdown-item"},UH.default.createElement(po,{title:r,shortcut:"Z",shift:!0}))},N7e=Pmt;var RH=M(P("react"),1);var wmt=({description:e,undo:t})=>{let r=e!=null?`Undo ${e}`:"Undo";return RH.default.createElement(oe,{onClick:t,className:"dropdown-item"},RH.default.createElement(po,{title:r,shortcut:"Z"}))},O7e=wmt;var jH=class extends Pt.default.Component{constructor(){super(...arguments);y(this,"closeDropdown",()=>$(".edit-menu-dropdown.open .dropdown-toggle").dropdown("toggle"));y(this,"divider",r=>Pt.default.createElement("div",{className:"dropdown-divider",key:r||"divider"}));y(this,"cutAndCopyMenu",()=>{let{isObjectSelected:r}=this.props;if(r)return Pt.default.createElement(Pt.default.Fragment,null,Pt.default.createElement("a",{"data-action":"cut",href:"#",className:"dropdown-item"},Pt.default.createElement(po,{title:"Cut",shortcut:"X"})),Pt.default.createElement("a",{"data-action":"copy",href:"#",className:"dropdown-item"},Pt.default.createElement(po,{title:"Copy",shortcut:"C"})))});y(this,"removeMenu",()=>{let{isObjectSelected:r}=this.props;if(r)return Pt.default.createElement("a",{"data-action":"remove",href:"#",className:"dropdown-item"},"Remove")});y(this,"flipMenu",()=>{let{isObjectSelected:r,isOneDrillHoleSelected:o}=this.props;if(r&&!o)return Pt.default.createElement(Pt.default.Fragment,null,Pt.default.createElement(oe,{className:"flip-icon dropdown-item",onClick:this.props.flipHorizontal},Pt.default.createElement("span",null,"Flip Horizontal")),Pt.default.createElement(oe,{id:"flip-vertical",className:"flip-icon dropdown-item",onClick:this.props.flipVertical},Pt.default.createElement("span",null,"Flip Vertical")))});y(this,"positionMenu",()=>{let{isObjectSelected:r,isOneDrillHoleSelected:o}=this.props;if(r&&!o)return Pt.default.createElement(Pt.default.Fragment,null,Pt.default.createElement("a",{"data-action":"backward",href:"#",className:"dropdown-item"},Pt.default.createElement(po,{title:"Send Backward",shortcut:"["})),Pt.default.createElement("a",{"data-action":"send-to-back",href:"#",className:"dropdown-item"},Pt.default.createElement(po,{title:"Send to Back",shortcut:";"})),Pt.default.createElement("a",{"data-action":"forward",href:"#",className:"dropdown-item"},Pt.default.createElement(po,{title:"Bring Forward",shortcut:"]"})),Pt.default.createElement("a",{"data-action":"bring-to-front",href:"#",className:"dropdown-item"},Pt.default.createElement(po,{title:"Bring to Front",shortcut:"'"})))});y(this,"combineMenu",()=>{let{volumesCanBeGrouped:r,volumesCanBeUngrouped:o,multipleCombinableVolumes:i}=this.props;if(r||o||i)return Pt.default.createElement(Pt.default.Fragment,null,r&&Pt.default.createElement("a",{"data-action":"group",href:"#",className:"dropdown-item"},Pt.default.createElement(po,{title:"Group",shortcut:"G"})),o&&Pt.default.createElement("a",{"data-action":"ungroup",href:"#",className:"dropdown-item"},Pt.default.createElement(po,{title:"Ungroup",shortcut:"G",shift:!0})),i&&Pt.default.createElement("a",{"data-action":"combine",href:"#",className:"dropdown-item"},Pt.default.createElement(po,{title:"Combine",shortcut:"J"})))});y(this,"offsetMenu",()=>{let{canOffsetVolumes:r}=this.props;if(r)return Pt.default.createElement("a",{"data-action":"offset",href:"#",className:"dropdown-item"},"Offset")});y(this,"replicateMenu",()=>{let{isObjectSelected:r}=this.props;if(r)return Pt.default.createElement("a",{"data-action":"replicate",href:"#",className:"dropdown-item"},"Replicate")});y(this,"convertCirclesToDrillHolesMenu",()=>{let{canConvertEllipseToDrillHoles:r}=this.props;if(r)return Pt.default.createElement("a",{"data-action":"convert-ellipse-to-drill-holes",href:"#",className:"dropdown-item"},"Convert to Drill Hole")})}componentDidUpdate(r){r.selectedVolumes.length!==this.props.selectedVolumes.length&&this.closeDropdown()}render(){return Pt.default.createElement("li",{className:"edit-menu-dropdown nav-item dropdown"},Pt.default.createElement("a",{href:"#",className:`nav-link ${this.props.disabled?"disabled":"dropdown-toggle"}`,"data-bs-toggle":"dropdown"},"Edit"),Pt.default.createElement("div",{className:"dropdown-menu"},Pt.default.createElement(Yi,{noDivider:!0},this.props.canUndo&&Pt.default.createElement(O7e,{description:this.props.undoDescription,undo:()=>this.props.undo(this.props.undoTokens)}),this.props.canRedo&&Pt.default.createElement(N7e,{description:this.props.redoDescription,redo:()=>this.props.redo(this.props.redoTokens)}),(this.props.canUndo||this.props.canRedo)&&this.divider("undo-divider"),Pt.default.createElement("a",{"data-action":"select-all",href:"#",className:"dropdown-item"},Pt.default.createElement(po,{title:"Select All",shortcut:"A"})),Pt.default.createElement(oe,{onClick:this.props.selectByType,className:"dropdown-item"},"Select by Cut Type"),this.props.allSelectedShapesMatchingCutDepth&&Pt.default.createElement(oe,{onClick:this.props.selectMatchingDepth,className:"dropdown-item"},"Select by Matching Depth")),Pt.default.createElement(Yi,null,this.cutAndCopyMenu(),Pt.default.createElement("a",{"data-action":"paste",href:"#",className:"dropdown-item"},Pt.default.createElement(po,{title:"Paste",shortcut:"V"})),this.removeMenu()),Pt.default.createElement(Yi,null,this.flipMenu()),Pt.default.createElement(Yi,{dividerKey:"position-divider"},this.positionMenu()),Pt.default.createElement(Yi,null,this.combineMenu()),Pt.default.createElement(Yi,null,this.offsetMenu(),this.replicateMenu(),this.convertCirclesToDrillHolesMenu()),Pt.default.createElement(Yi,null,this.props.isObjectSelected&&Pt.default.createElement(oe,{onClick:this.props.centerToMaterial,className:"dropdown-item"},"Center to material"))))}},_mt=ne({mapStateToProps:e=>{let t=Ie.selectedVolumeIds(e),r=ye.getVolumes(e,t),o=nr.getUndoTokens(e),i=nr.getRedoTokens(e);return{selectedVolumes:r,isObjectSelected:r.length>0,allSelectedShapesMatchingCutDepth:Ee.allSelectedShapesMatchingCutDepth(r),isOneDrillHoleSelected:Ee.isOneDrillHoleSelected(r),areOnlyDrillHolesSelected:Ee.areOnlyDrillHolesSelected(r),multipleCombinableVolumes:Ee.combinableVolumes(r).length>1,volumesCanBeGrouped:Ee.volumesCanBeGrouped(r),volumesCanBeUngrouped:Ee.volumesCanBeUngrouped(r),canOffsetVolumes:Ee.canOffsetVolumes(r),canConvertEllipseToDrillHoles:Ee.canConvertEllipseToDrillHoles(r),undoTokens:o,redoTokens:i,canUndo:o!=null,canRedo:i!=null,undoDescription:nr.getUndoDescription(e),redoDescription:nr.getRedoDescription(e)}},mapDispatchToProps(e){return{selectByType(){return Je.trigger("select-by-type")},selectMatchingDepth(){return Je.trigger("select-matching-depth")},flipHorizontal(){return Je.trigger("flip-horizontal")},flipVertical(){return Je.trigger("flip-vertical")},centerToMaterial(){return Je.trigger("center-to-material")},redo(t){return e(nr.actions.redo(t))},undo(t){return e(nr.actions.undo(t))}}},component:jH}),L7e=_mt;var An=M(P("react"),1);var kmt={visible:!1,pageName:null},B7e=We({name:"page",initialState:kmt,reducers:{showPage(e,{payload:t}){e.visible=!0,e.pageName=t.pageName},hidePage(e){e.visible=!1,e.pageName=null}}}),Tmt=(e,t)=>e.page.visible&&e.page.pageName===t,Emt=e=>e.page.visible,Mmt={actions:B7e.actions,reducer:B7e.reducer,isPageVisible:Tmt,isAnyPageVisible:Emt},Cd=Mmt;var F7e=P("react-bootstrap");var GH=class extends An.default.Component{constructor(){super(...arguments);y(this,"openSupportBot",()=>{H.trackEvent(U.answerbotOpened,{source:"menu"}),C5.openSupportBot()});y(this,"openAndTrackFeaturesPage",()=>{let{showFeaturesPage:r,setLastOpenedFeaturesAt:o}=this.props;H.trackEvent("Feature modal opened"),r(),Fn.updateUserOpenedFeaturesAt().then(()=>{o()})});y(this,"openFeedbackForm",()=>{let{setFeedbackFormVisible:r}=this.props;H.trackEvent(U.openedEaselFeedback),r()});y(this,"getNewFeatureCount",()=>{let{featuresList:r,lastOpenedFeaturesAt:o}=this.props;return r.filter(i=>new Date(i.launchedAt)>new Date(o)).length});y(this,"projectLink",()=>An.default.createElement("a",{href:"/gallery?utm_source=easel&utm_medium=nav&utm_campaign=projects%20link&utm_content=featured%20projects",target:"_blank",rel:"noreferrer",onClick:()=>H.trackEvent(U.menuNavProjectsClicked),className:"dropdown-item"},"Project Ideas",An.default.createElement("div",{className:"projects-gallery-menu-dropdown__sub-text"},"Thousands of Easel Projects to get inspired")))}render(){let r=this.getNewFeatureCount(),o=this.projectLink();return An.default.createElement("li",{className:"nav-item dropdown"},An.default.createElement("a",{href:"#",className:"dropdown-toggle light-on-dark nav-link","data-bs-toggle":"dropdown"},"Help ",r>0&&An.default.createElement("i",{className:"bi bi-circle-fill features-container__indicator"})),An.default.createElement("div",{className:"dropdown-menu"},An.default.createElement(Yi,{noDivider:!0},An.default.createElement(oe,{className:"help-link dropdown-item d-flex align-items-center justify-content-between",onClick:()=>this.openAndTrackFeaturesPage()},"What's New ",r>0&&An.default.createElement(F7e.Badge,{bg:"danger",className:"mb-1"},r))),An.default.createElement(Yi,null,An.default.createElement(oe,{onClick:this.openSupportBot,className:"dropdown-item"},"Support"),An.default.createElement("a",{href:"#",className:"help-link dropdown-item","data-action":"troubleshooting"},"Troubleshooting"),An.default.createElement(oe,{onClick:this.openFeedbackForm,className:"dropdown-item"},"Share Feedback")),An.default.createElement(Yi,null,An.default.createElement("a",{href:"https://forum.easel.com",target:"_blank",rel:"noreferrer",className:"dropdown-item"},"Community forum"),An.default.createElement("a",{href:"https://support.easel.com/hc/en-us",target:"_blank",rel:"noreferrer",className:"dropdown-item"},"Learning"),An.default.createElement("a",{href:"https://www.youtube.com/@EaselSoftware ",className:"dropdown-item",target:"_blank",rel:"noreferrer",onClick:()=>H.trackEvent(U.menuNavVideosClicked)},"Video Tutorials")),An.default.createElement(Yi,null,o),An.default.createElement(Yi,null,An.default.createElement("a",{href:"/",className:"dropdown-item",target:"_blank",rel:"noreferrer"},"About EASEL"))))}},Amt=ne({mapStateToProps:e=>({featuresList:dm.getFeatures(e),lastOpenedFeaturesAt:Q.getLastOpenedFeaturesAt(e)}),mapDispatchToProps:e=>({showFeaturesPage:()=>e(Cd.actions.showPage({pageName:"features"})),setLastOpenedFeaturesAt:()=>e(Q.actions.setLastOpenedFeaturesAt(new Date().toString())),setFeedbackFormVisible:()=>e(y0.actions.showFeedbackForm("easel"))}),component:GH}),W7e=Amt;var Yr=M(P("react"),1);var HH=class extends Yr.default.Component{constructor(){super(...arguments);y(this,"saveAsDefault",()=>{let{setUnsavedWithSaveInProgress:r,setUnsavedWithError:o,setSaved:i,unit:n,bitParams:s,setDefaults:a,activeMaterial:l,materialDimensions:c}=this.props;r();let u={project:{material:{...ot.projectMaterialAttributes(l),dimensions:c},unit:n,bit_params:s}};Fn.updateDefaults(u).then(()=>{a(u)}).catch(()=>{o("Could not save project settings defaults")}).finally(()=>{i(),H.trackEvent(U.savedProjectDefaults,u.project)})});y(this,"trackAndShowAccountModal",r=>{let{inUseProFeatures:o,showAccountModal:i,isOverWeeklyUsageLimit:n}=this.props;H.trackEvent(U.showedAccountModal,{proRequired:!0,source:r,"Easel Pro Content":Array.from(o).map(s=>s.label),"Usage Limit Exceeded":n?"1 carve/export per week":null,"Usage Limit Enabled":it("free_limits")}),i()});y(this,"handleDownloadProjectClick",()=>{this.props.authorizedToDownloadProject?J.emit("show-download-zip"):this.trackAndShowAccountModal("Download Project Zip")});y(this,"onImportSTL",()=>{if(this.props.isReadOnly){Fe("Cannot import 3D models in the Easel Sandbox","Sign in or copy the project to your own account to import a 3D model.");return}return H.trackEvent(U.threeD.openImportModal,{source:"Project Menu Dropdown"}),J.emit("show-import-3D-modal")});y(this,"onDownloadGcode",(r,o=null)=>{r.preventDefault();let{easelProSubscriptionStatus:i,inUseCarvingProFeatures:n,machineProfile:s,showMachineSetupRequiredModal:a,incrementCarveExportWeeklyUsage:l,isOverWeeklyUsageLimit:c}=this.props;if(i==="payment_error_inactive"&&n.length>0){J.emit("show-past-due-manufacture-modal",{manufactureAction:"export"});return}if(c){this.trackAndShowAccountModal("Download Project Gcode");return}if(!s){a();return}let u={source:"Project Menu"},p;switch(o){case null:p=()=>Z6(u);break;case"roughing":p=()=>Ym("roughing",u);break;case"detail":p=()=>Ym("detail",u);break;case"outline":p=()=>Ym("outline",u);break}p(),l()});y(this,"trackNewProjectStartModal",()=>{H.trackEvent(U.openedNewProjectStartModal,{source:"Project Menu Dropdown"})})}render(){let r=this.props.useDetailBit||this.props.isThreeD,o=this.props.useOutlineBit&&!this.props.isThreeD;return Yr.default.createElement("li",{className:"nav-item dropdown",id:"project"},Yr.default.createElement("a",{href:"#",className:`nav-link ${this.props.disabled?"disabled":"dropdown-toggle"} `,"data-bs-toggle":"dropdown"},"Project"),Yr.default.createElement("div",{className:"dropdown-menu"},Yr.default.createElement(Yi,{noDivider:!0},Yr.default.createElement(oe,{className:"dropdown-item",onClick:this.trackNewProjectStartModal,href:"/projects?newProject=true","data-method":"post","data-action":"new",target:"_blank"},"New"),this.props.isLoggedInUser&&Yr.default.createElement(oe,{onClick:this.props.openUserModal,href:"#",className:"dropdown-item"},Yr.default.createElement(po,{title:"Open",shortcut:"O"})),this.props.canEditProject&&Yr.default.createElement(oe,{onClick:this.props.showProjectPropertiesModal,href:"#",className:"dropdown-item"},"Properties"),Yr.default.createElement("a",{"data-action":this.props.isReadOnly?"copy-changes":"duplicate",href:"#",className:"dropdown-item"},"Make a copy")),Yr.default.createElement(Yi,null,this.props.isLoggedInUser&&Yr.default.createElement(oe,{onClick:this.saveAsDefault,className:"dropdown-item"},"Save as default")),Yr.default.createElement(Yi,null,Yr.default.createElement(oe,{onClick:this.props.importSVG,className:"dropdown-item"},"Import SVG"),Yr.default.createElement(oe,{onClick:this.props.importGCode,className:"dropdown-item"},"Import g-code"),Yr.default.createElement(oe,{onClick:this.onImportSTL,className:"dropdown-item"},"Import 3D STL",Yr.default.createElement(qt,null)),!1,it("app_development")&&Yr.default.createElement(Yr.default.Fragment,null,Yr.default.createElement("div",{key:"divider-apps",className:"dropdown-divider"}),Yr.default.createElement("a",{href:"/apps",className:"dropdown-item"},"My Apps"))),Yr.default.createElement(Yi,null,!r&&Yr.default.createElement(oe,{onClick:this.onDownloadGcode,className:"dropdown-item"},"Download g-code"),r&&Yr.default.createElement(oe,{onClick:this.onDownloadGcode,className:"dropdown-item"},"Download g-code (ZIP)"),r&&Yr.default.createElement(oe,{onClick:i=>this.onDownloadGcode(i,"roughing"),className:"dropdown-item"},"\xA0\xA0\xA0Roughing pass g-code"),r&&Yr.default.createElement(oe,{onClick:i=>this.onDownloadGcode(i,"detail"),className:"dropdown-item"},"\xA0\xA0\xA0",this.props.isThreeD?"Finishing pass g-code":"Detail pass g-code"),o&&Yr.default.createElement(oe,{onClick:i=>this.onDownloadGcode(i,"outline"),className:"dropdown-item"},"\xA0\xA0\xA0","Outline pass g-code"),Yr.default.createElement(oe,{onClick:this.handleDownloadProjectClick,className:"dropdown-item"},"Download project (ZIP)")),Yr.default.createElement(Yi,null,this.props.canEditProject&&(this.props.isThreeDProject?this.props.isProEnabled:!0)&&Yr.default.createElement(Yr.default.Fragment,null,Yr.default.createElement(oe,{onClick:this.props.share,className:"dropdown-item"},"Share")))))}},Imt=ne({mapStateToProps(e){return{isLoggedInUser:Q.isLoggedInUser(e),canEditProject:Q.canEditProject(e),unit:Me.getPreferredUnit(e),useDetailBit:re.detailBitEnabled(e),useOutlineBit:re.outlineBitEnabled(e),authorizedToDownloadProject:xo.authorizedToCarve(Date.now(),e),inUseProFeatures:xo.getInUseProFeatures(e),inUseCarvingProFeatures:xo.getInUseCarvingProFeatures(e),isThreeD:Ue.isThreeD(e),isThreeDProject:W.isThreeDProject(e),bitParams:re.bitParams(e),isProEnabled:Q.isProEnabled(Date.now(),e),easelProSubscriptionStatus:Q.getSubscriptionStatus(e),materialDimensions:q.getMaterialDimensions(e),activeMaterial:q.getActiveMaterial(e),isReadOnly:ge.isReadOnly(e),machineProfile:et.getCurrentMachineProfile(e),isOverWeeklyUsageLimit:Q.isOverWeeklyUsageLimit(e)}},mapDispatchToProps(e){return{openUserModal(){e(De.actions.showUserModalProjectsTab())},showProjectPropertiesModal(){e(vt.actions.showProjectPropertiesModal())},importSVG(){return document.getElementById("svg-file-input")?.click()},importGCode(){return J.emit("import-gcode")},showAccountModal(){return e(De.actions.showUserModalAccountTab())},importProject(){return J.emit("show-import-project-modal")},share(){e(vt.actions.setSharingStep("share")),H.trackEvent(U.openedProjectSharingModal,{source:{app:"Easel",element:"project-menu-dropdown"}})},setDefaults(t){e(Q.actions.setDefaults(t))},setUnsavedWithSaveInProgress(){e(ko.actions.setUnsavedWithSaveInProgress())},setUnsavedWithError(t){e(ko.actions.setUnsavedWithError(t))},setSaved(){e(ko.actions.setSaved())},showMachineSetupRequiredModal(){e(vt.actions.showMachineSetupRequiredModal())},incrementCarveExportWeeklyUsage(){e(Q.actions.incrementCarveExportWeeklyUsage())}}},component:HH}),V7e=Imt;var zH=M(P("react"),1),U7e=P("react-redux");var Dmt=()=>{let e=(0,U7e.useDispatch)(),t=He(U.toolbox.opened);return zH.default.createElement("li",{className:"toolbox-menu-button nav-item dropdown"},zH.default.createElement("a",{href:"#",className:"nav-link dropdown-toggle",onClick:o=>{o.preventDefault(),t({source:"Toolbox Menu"}),e(En.actions.openToolboxModal())}},"Toolbox"))},R7e=Dmt;var Nmt=()=>{let e=(0,XH.useSelector)(Cd.isAnyPageVisible),t=(0,XH.useSelector)(Q.isAdmin);return Zm.default.createElement("nav",{className:"navbar mr-auto navbar-expand-sm"},Zm.default.createElement("div",{className:"collapse navbar-collapse menu-bar"},Zm.default.createElement("ul",{className:"navbar-nav mr-auto menu-bar__nav"},Zm.default.createElement(V7e,{disabled:e}),Zm.default.createElement(L7e,{disabled:e}),Zm.default.createElement(I7e,{disabled:e}),Zm.default.createElement(R7e,null),Zm.default.createElement(W7e,null),t&&Zm.default.createElement(D7e,null))))},mI=Nmt;var Fa=M(P("react"),1),qH=P("react-redux");var kp=M(P("react"),1);var YH=class extends kp.default.Component{constructor(){super(...arguments);y(this,"retrySave",()=>{Li.scheduleAutosave()})}componentDidUpdate(r){r.isSaving&&this.props.isSaved&&this.props.trackProjectEvent(U.triggeredSave,{},uf.daily)}render(){let r,o,{isSaved:i,isUnsaved:n,isSaving:s,isError:a,meshSaveStatus:l,savedOffline:c}=this.props;return i&&l==="success"?(o="All changes saved",r=kp.default.createElement("i",{className:"project-save-status__icon bi bi-check-lg"})):s||l==="saving"?(o="Saving...",r=kp.default.createElement(Re,{className:"project-save-status__spinner",color:"white"})):c?(o="Offline: saved to device",r=kp.default.createElement("i",{className:"project-save-status__icon bi bi-file-check"})):a?(o="Saving failed\u2014click to retry",r=kp.default.createElement(oe,{onClick:this.retrySave},kp.default.createElement("i",{className:"project-save-status__icon bi bi-exclamation-triangle-fill"}))):n||l==="failed"?(o="Changes not saved",r=kp.default.createElement("i",{className:"project-save-status__icon bi bi-exclamation-triangle-fill"})):o=r=null,kp.default.createElement(je,{placement:"bottom",id:"save-status-message",tooltipContent:o??kp.default.createElement(kp.default.Fragment,null)},kp.default.createElement("span",{className:"project-save-status"},r))}},Omt=ne({mapStateToProps(e){return{isSaved:ko.isSaved(e),isUnsaved:ko.isUnsaved(e),isSaving:ko.isSaving(e),isError:ko.getError(e)!=null,meshSaveStatus:Ue.getMeshSaveStatus(e),isCabinetProject:zt.isCabinetProject(e),savedOffline:ko.isSavedOffline(e)}},mapDispatchToProps:e=>({trackProjectEvent:(t,r,o)=>e(Bt(t,r,o))}),component:YH}),j7e=Omt;var Gl=M(P("react"),1),fI=P("react-redux");var Lmt=()=>{let e=(0,fI.useDispatch)(),t=(0,Gl.useRef)(!1),{isSaved:r,isUnsaved:o,isSaving:i,isError:n,savedOffline:s,meshSaveStatus:a}=(0,fI.useSelector)(ko.getCombinedSaveStatus);(0,Gl.useEffect)(()=>{t.current&&r&&e(Bt(U.triggeredSave,{},uf.daily)),t.current=i},[i,r,e]);let l=()=>{Li.scheduleAutosave()},c,u;return r&&a==="success"?(u="All changes saved",c=Gl.default.createElement("i",{className:"project-save-status__icon bi bi-check-lg"})):i||a==="saving"?(u="Saving...",c=Gl.default.createElement(Re,{className:"project-save-status__spinner",color:"white"})):s?(u="Offline: saved to device",c=Gl.default.createElement("i",{className:"project-save-status__icon bi bi-file-check"})):n?(u="Saving failed\u2014click to retry",c=Gl.default.createElement(oe,{onClick:l},Gl.default.createElement("i",{className:"project-save-status__icon bi bi-exclamation-triangle-fill"}))):o||a==="failed"?(u="Changes not saved",c=Gl.default.createElement("i",{className:"project-save-status__icon bi bi-exclamation-triangle-fill"})):u=c=null,Gl.default.createElement(je,{placement:"bottom",id:"save-status-message",tooltipContent:u??Gl.default.createElement(Gl.default.Fragment,null)},Gl.default.createElement("span",{className:"project-save-status"},c))},G7e=Lmt;var Bmt=({projectName:e,ownerName:t,ownerProfileURL:r,publishURL:o,isStarred:i,onRenameProject:n,onToggleStarred:s})=>{let a=(0,qH.useSelector)(zt.projectOrDesign),l=(0,qH.useSelector)(zt.isCabinetProject);return Fa.default.createElement("nav",{className:"project-info"},Fa.default.createElement("div",{className:"project-info__row"},o&&Fa.default.createElement("div",{className:"project-info__published-icon"},Fa.default.createElement(oe,{href:o,target:"_blank"},Fa.default.createElement("img",{src:EASEL_ASSETS.images.published}))),n?Fa.default.createElement(je,{placement:"bottom",id:"project-properties",tooltipContent:`${vr.capitalize(a)} properties`},Fa.default.createElement(oe,{className:"project-info__project-name-wrapper",onClick:n},Fa.default.createElement("h1",{id:"project-name"},e))):Fa.default.createElement("h1",{id:"project-name"},e),Fa.default.createElement("div",{className:"project-info__icons"},!l&&s&&Fa.default.createElement(oe,{onClick:s,className:"project-info__star-status"},Fa.default.createElement("i",{className:`fa fa-${i?"star":"star-o"}`})),it("workpiece_saving")?Fa.default.createElement(G7e,null):Fa.default.createElement(j7e,null))),t&&Fa.default.createElement("p",{className:"project-info__owner"},"by ",Fa.default.createElement(oe,{href:r,target:"_blank"},t)))},hI=Bmt;var J0=M(P("react"),1),K0=P("react-redux");var Fmt=()=>{let e=(0,K0.useDispatch)(),t=Date.now(),r=(0,K0.useSelector)(u=>Q.isProSubscriber(t,u)),o=(0,K0.useSelector)(Q.isPromoUser),i=(0,K0.useSelector)(Q.getTrialExpirationDate),n=(0,K0.useSelector)(Q.isTrialUser),s=(0,K0.useSelector)(Q.getSubscriptionStatus),a=()=>{H.trackEvent(U.openUserModal,{action:"Primary Nav Subscribe CTA"}),e(De.actions.showUserModalAccountTab())},l=()=>{H.trackEvent(U.clickedUpdatePaymentNavButton),e(De.actions.showUserModalAccountTab())},c=new Date().getTime();if(n&&i!==void 0&&i>c){let u=fa.timeLeft(i);if(u===void 0)return null;let p=u.split(" ");return J0.default.createElement("div",{className:"countdown"},J0.default.createElement("div",{className:"countdown-time"},J0.default.createElement("span",{className:"countdown-time-highlight"},p[0])," ",p[1]," left"),J0.default.createElement(oe,{onClick:a},"Get Easel Pro"))}else return s==="payment_error_inactive"?J0.default.createElement(oe,{onClick:l,className:"btn btn-warning"},J0.default.createElement("i",{className:"fs-5 bi bi-exclamation-circle-fill"})," Update Payment"):r||o?null:J0.default.createElement(oe,{onClick:a,className:"btn btn-default primary-nav__btn"},"Get Easel Pro")},H7e=Fmt;var gI=M(P("react"),1),jg=P("react-redux");var Wmt=({app:e})=>{let t=(0,jg.useDispatch)(),r=(0,jg.useSelector)(zt.projectOrDesign),o=(0,jg.useSelector)(ie.isMachineCarving),i=(0,jg.useSelector)(W.isThreeDProject),n=(0,jg.useSelector)(l=>Q.isProEnabled(Date.now(),l)),s=He(U.openedProjectSharingModal,{source:{app:e,element:"share-button"}}),a=()=>{s(),t(vt.actions.setSharingStep("share"))};return!o&&(!i||n)&&gI.default.createElement(je,{placement:"bottom",tooltipContent:`Share this ${r} with clients and collaborators`},gI.default.createElement("button",{type:"button",className:"nav-button share-button","data-testid":"share-button",onClick:a},gI.default.createElement("i",{className:"bi bi-share"})))},z7e=Wmt;function X7e({onOpenUserModal:e,onSetStarredProject:t,projectName:r,projectStarred:o,isProUser:i,publishURL:n,isMachineCarving:s}){let{readState:a}=X5();return Pu.default.createElement("nav",{id:"main-menu",className:`action-menu primary-nav ${i?"primary-nav--pro":""} ${s?"primary-nav--carving":""}`,role:"navigation"},Pu.default.createElement("nav",{className:"navbar"},Pu.default.createElement(lI,{onClick:e,dot:!a})),Pu.default.createElement(hI,{projectName:r,isStarred:o,publishURL:n,onRenameProject:()=>{N.store.dispatch(vt.actions.showProjectPropertiesModal())},onToggleStarred:()=>{t(!o)}}),Pu.default.createElement(mI,{readonly:!1}),Pu.default.createElement("nav",{className:"navbar navbar-controls"},Pu.default.createElement(H7e,null),Pu.default.createElement(sI,{variant:"dark"}),Pu.default.createElement(nI,{variant:"dark"}),Pu.default.createElement(T7e,null),Pu.default.createElement(z7e,{app:"Easel"})),Pu.default.createElement("span",{id:"navbar-prompt"}))}X7e.propTypes={onOpenUserModal:Q0.default.func.isRequired,onSetStarredProject:Q0.default.func.isRequired,projectName:Q0.default.string.isRequired,projectStarred:Q0.default.bool.isRequired,isProUser:Q0.default.bool,publishURL:Q0.default.string,isMachineCarving:Q0.default.bool};var Y7e=X7e;var Q6=M(P("prop-types"),1),Dh=M(P("react"),1);function q7e({onOpenUserModal:e,onCopyProject:t,projectName:r,ownerName:o,ownerProfilePermalink:i,isLoggedInUser:n}){let{readState:s}=X5();return Dh.default.createElement("div",{className:"primary-nav readonly-nav action-menu"},Dh.default.createElement(lI,{className:"easel-logo-gray",...n?{onClick:e}:{href:"https://easel.com/users/sign_in?tab=new",target:"_blank"},dot:!s}),Dh.default.createElement(hI,{projectName:r,ownerName:o,ownerProfileURL:i}),Dh.default.createElement("div",{className:"navbar-menu"},Dh.default.createElement(mI,{readonly:!0})),Dh.default.createElement(oe,{onClick:t,className:"readonly-text btn btn-primary"},"You're playing in the Easel Sandbox.",Dh.default.createElement("br",null),"To save this project, make a copy.",Dh.default.createElement("img",{src:EASEL_ASSETS.images.copyEasel})))}q7e.propTypes={onOpenUserModal:Q6.default.func.isRequired,onCopyProject:Q6.default.func.isRequired,projectName:Q6.default.string,ownerName:Q6.default.string,ownerProfilePermalink:Q6.default.string};var $7e=q7e;var yI=M(P("react"),1);var $H=class extends yI.default.Component{constructor(){super(...arguments);y(this,"copyProject",()=>{v2.copyShared(null,{Origin:"sandbox"})})}componentDidMount(){ut.register({keyboard:"default",command:this.props.openUserModal,key:pt.o,meta:!0})}render(){return!this.props.projectName||!this.props.openUserModal?null:this.props.readonly?yI.default.createElement($7e,{isLoggedInUser:this.props.isLoggedInUser,onOpenUserModal:this.props.openUserModal,onCopyProject:this.copyProject,ownerName:this.props.ownerName,ownerProfilePermalink:this.props.ownerProfilePermalink,projectName:this.props.projectName}):yI.default.createElement(Y7e,{onOpenUserModal:this.props.openUserModal,onSetStarredProject:this.props.setProjectStarred,isProUser:this.props.isProUser,projectName:this.props.projectName,publishURL:this.props.publishURL,projectStarred:this.props.starred,isMachineCarving:this.props.isMachineCarving})}},Vmt=ne({mapStateToProps:e=>({isLoggedInUser:Q.isLoggedInUser(e),isProUser:Q.isProEnabled(Date.now(),e),starred:ge.isProjectStarred(e),publishURL:zo.getUrl(e),projectName:ge.getProjectName(e),readonly:ge.isReadOnly(e),ownerName:ge.getOwnerName(e),ownerProfilePermalink:ge.getOwnerProfilePermalink(e),isMachineCarving:ie.isMachineCarving(e)}),mapDispatchToProps:{openUserModal:De.actions.showUserModalProjectsTab,setProjectStarred:ge.actions.setProjectStarred},component:$H}),Z7e=Vmt;var Ki=M(P("react"),1);var es=M(P("react"),1);var J7e=M(P("react"),1),K7e=P("react-redux");var sv=M(P("react"),1);function Umt({id:e,tooltip:t,label:r,handleClick:o,pro:i,active:n,iconClass:s,children:a}){return sv.default.createElement("li",{className:"toolbar-item"},sv.default.createElement(je,{placement:"right",tooltipContent:t,delay:0},sv.default.createElement("button",{id:e,className:`toolbar-item__icon ${n?"toolbar-item__icon--active":""} ${s?`bi ${s}`:""}`,onClick:o,"aria-label":r},!s&&a,i&&sv.default.createElement(qt,{type:"toolbar-item"}))))}var Tp=Umt;function Rmt(){let e=(0,K7e.useDispatch)(),t=He(U.openAppList,{},"once");return J7e.default.createElement(Tp,{id:"apps",iconClass:"bi-tools",label:"Open apps modal",handleClick:()=>{t(),e(Hr.actions.openAppList())},tooltip:"Apps"})}var Q7e=Rmt;var xI=M(P("react"),1),e6e=P("react-redux");function jmt(){let e=(0,e6e.useDispatch)(),t=He(U.editor.openedDesignElementsPanel,{source:"toolbar"}),r=(0,xI.useCallback)(()=>{e(bg.actions.openDesignPanel()),t()},[e,t]);return xI.default.createElement(Tp,{id:"pro-design-library",tooltip:"Pro Design Library",label:"Open Pro Design Library",iconClass:"bi-palette",handleClick:r})}var t6e=jmt;var bI=M(P("react"),1),e1=P("react-redux");function Gmt(){let e=(0,e1.useSelector)(Y.getWorkArea),t=(0,e1.useSelector)(q.getMaterialThickness),r=(0,e1.useSelector)(q.getXYZeroLocation),o=(0,e1.useSelector)(St.getWorkpieceViewport),i=(0,e1.useSelector)(St.getEditorSize),n=(0,e1.useDispatch)(),s=He(U.addedDrillHole),a=(0,bI.useCallback)(l=>{let c=l.currentTarget.id,u=r===me.XY_ZERO_CENTER?{x:0,y:0}:null,h={shape:Ky(c,u),cut:{type:"drill",depth:t}},f=Dr.getShift([h],e.y,o,i);n(Dr.addAndSelectVolume(h,f)),s()},[n,i,t,o,e.y,r,s]);return bI.default.createElement(Tp,{id:"drill",tooltip:"Drill",label:"Add drill hole",iconClass:"bi-crosshair",handleClick:a})}var r6e=Gmt;var ZH=M(P("react"),1),vI=P("react-redux");function Hmt(){let e=(0,vI.useSelector)(Hr.getImageTraceApp),t=(0,vI.useDispatch)(),r=He(U.activateApp);return e?ZH.default.createElement(Tp,{id:"image-tracing-app",iconClass:"bi-camera",label:"Activate image trace tool",handleClick:i=>{i.preventDefault(),e&&(r({name:e.name}),t(Hr.actions.activateAppById({id:bV})))},tooltip:"Image Trace"}):ZH.default.createElement("li",{className:"toolbar-item"},"Loading...")}var o6e=Hmt;var Qn=M(P("react"),1),av=P("react-redux");var i6e=P("react");function t1(e,t){(0,i6e.useEffect)(()=>(t&&document.getElementById("easel-mount-point")?.addEventListener("click",e),()=>{document.getElementById("easel-mount-point")?.removeEventListener("click",e)}),[e,t])}var SI=P("react"),r1=e=>{let[t,r]=(0,SI.useState)(!1);return(0,SI.useEffect)(()=>{e&&r(!1)},[e]),{show:t,setShow:r,toggle:()=>r(i=>!i)}};var CI=({id:e,iconClass:t,textContent:r,handler:o,pro:i=!1,imgSrc:n,imgAlt:s})=>Qn.default.createElement("li",{className:"toolbar-dropdown-item"},Qn.default.createElement("button",{id:e,className:"toolbar-dropdown-item__btn",onClick:o,"aria-label":`Import ${r}`},n?Qn.default.createElement("img",{src:n,alt:s,width:"18",height:"18"}):Qn.default.createElement("i",{className:`${t} toolbar-dropdown-item__btn__icon`}),Qn.default.createElement("span",{className:"toolbar-dropdown-item__name"},r),i&&Qn.default.createElement(qt,null))),zmt=({isToolbarHidden:e})=>{let{show:t,setShow:r,toggle:o}=r1(e),i=(0,av.useSelector)(Hr.getDXFImportApp),n=(0,av.useSelector)(ge.isReadOnly),s=(0,av.useDispatch)(),a=He(U.threeD.openImportModal),l=He(U.activateApp);zm(()=>{s(Hr.actions.fetchApps())}),t1(()=>r(!1),t);let c=(0,Qn.useCallback)(h=>{h.preventDefault(),J.emit("import-gcode")},[]),u=(0,Qn.useCallback)(h=>{h.preventDefault(),document.getElementById("svg-file-input")?.click()},[]),p=(0,Qn.useCallback)(h=>{if(h.preventDefault(),n){Ut("Cannot import 3d models in the Easel sandbox!");return}a({source:"Import Toolbar"}),J.emit("show-import-3D-modal")},[n,a]),m=(0,Qn.useCallback)(h=>{h.preventDefault(),i&&(l({name:i.name}),s(Hr.actions.activateAppById({id:i.id})))},[i,l,s]);return Qn.default.createElement("li",{className:"toolbar-item"},Qn.default.createElement(je,{display:!t,placement:"right",tooltipContent:"Import",delay:0},Qn.default.createElement("button",{id:"toolbar-import-item",className:"bi bi-upload toolbar-item__icon",onClick:o,"aria-label":`${t?"Close":"Open"} import menu`})),t&&Qn.default.createElement("div",{className:"import-dropdown"},Qn.default.createElement("ul",{className:"nav nav--vertical"},Qn.default.createElement(CI,{id:"toolbar-import-svg",iconClass:"bi-filetype-svg",textContent:"SVG",handler:u}),Qn.default.createElement(CI,{id:"toolbar-import-gcode",iconClass:"bi-bullseye",textContent:"G-code",handler:c}),Qn.default.createElement(CI,{id:"toolbar-import-stl",iconClass:"bi-box",textContent:"3D STL",handler:p,pro:!0}),i&&Qn.default.createElement(CI,{id:"dxf-import-app",textContent:"DXF",handler:m,imgSrc:EASEL_ASSETS.images.dxf,imgAlt:"DXF"}))))},n6e=zmt;var qi=M(P("react"),1),PI=P("react-redux");function Xmt({isToolbarHidden:e}){let t=(0,PI.useDispatch)(),{show:r,setShow:o,toggle:i}=r1(e),n=He(U.editor.activateLineToolMode,{"Line Type":"Straight"}),s=He(U.editor.activateLineToolMode,{"Line Type":"Curved"}),a=He(U.editor.activateLineToolMode,{"Line Type":"Arc"}),l=(0,PI.useSelector)(W.isLineToolActive);t1(()=>o(!1),r);let c=(0,qi.useCallback)(()=>{t(W.actions.startNewPathMode("path")),n(),o(!1)},[t,n,o]),u=(0,qi.useCallback)(()=>{t(W.actions.startNewPathMode("curvedPath")),s(),o(!1)},[t,s,o]),p=(0,qi.useCallback)(()=>{t(W.actions.startNewPathMode("arc")),a(),o(!1)},[t,a,o]);return qi.default.createElement("li",{className:"toolbar-item"},qi.default.createElement(je,{placement:"right",tooltipContent:"Pen Tool",delay:0},qi.default.createElement("button",{className:`bi bi-vector-pen toolbar-item__icon ${l?"toolbar-item__icon--active":""}`,onClick:i,"aria-label":`${r?"Close":"Open"} pen tool menu`})),r&&qi.default.createElement("div",{className:"line-dropdown"},qi.default.createElement("ul",{className:"nav nav--vertical"},qi.default.createElement("li",{className:"toolbar-dropdown-item"},qi.default.createElement("button",{className:"toolbar-dropdown-item__btn",id:"line-tool",onClick:c,"aria-label":"Activate straight line tool"},qi.default.createElement(Ymt,null),qi.default.createElement("span",{className:"toolbar-dropdown-item__name"},"Straight Line"))),qi.default.createElement("li",{className:"toolbar-dropdown-item"},qi.default.createElement("button",{className:"toolbar-dropdown-item__btn",id:"curved-line-tool",onClick:u,"aria-label":"Activate curved line tool"},qi.default.createElement("i",{className:"bi bi-bezier2 toolbar-dropdown-item__btn__icon"}),qi.default.createElement("span",{className:"toolbar-dropdown-item__name"},"Curved Line"))),qi.default.createElement("li",{className:"toolbar-dropdown-item"},qi.default.createElement("button",{className:"toolbar-dropdown-item__btn",id:"arc-tool",onClick:p,"aria-label":"Activate arc tool"},qi.default.createElement("i",{className:"bi bi-bezier toolbar-dropdown-item__btn__icon"}),qi.default.createElement("span",{className:"toolbar-dropdown-item__name text-black-50"},"Arc"))))))}function Ymt(){return qi.default.createElement("svg",{width:"20",height:"13",viewBox:"0 0 20 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},qi.default.createElement("path",{d:"M10.9287 0.00878906C11.8113 0.0982964 12.5 0.843826 12.5 1.75V2.75L17.25 7.5H18.25L18.4287 7.50879C19.3113 7.5983 20 8.34383 20 9.25V10.75L19.9912 10.9287C19.9017 11.8113 19.1562 12.5 18.25 12.5H16.75C15.7835 12.5 15 11.7165 15 10.75V9.25C15 8.70308 15.2516 8.2155 15.6445 7.89453L12.1045 4.35449C11.7835 4.74752 11.297 5 10.75 5H9.25C8.70283 5 8.21446 4.74875 7.89355 4.35547L4.35449 7.89453C4.74779 8.2155 5 8.7028 5 9.25V10.75L4.99121 10.9287C4.9017 11.8113 4.15617 12.5 3.25 12.5H1.75C0.783502 12.5 0 11.7165 0 10.75V9.25C6.04054e-08 8.34383 0.688726 7.5983 1.57129 7.50879L1.75 7.5H2.75L7.5 2.75V1.75C7.5 0.843826 8.18873 0.0982963 9.07129 0.00878906L9.25 0H10.75L10.9287 0.00878906ZM1.75 8.75C1.47386 8.75 1.25 8.97386 1.25 9.25V10.75C1.25 11.0261 1.47386 11.25 1.75 11.25H3.25C3.52614 11.25 3.75 11.0261 3.75 10.75V9.25C3.75 8.97386 3.52614 8.75 3.25 8.75H1.75ZM16.75 8.75C16.4739 8.75 16.25 8.97386 16.25 9.25V10.75C16.25 11.0261 16.4739 11.25 16.75 11.25H18.25C18.5261 11.25 18.75 11.0261 18.75 10.75V9.25C18.75 8.97386 18.5261 8.75 18.25 8.75H16.75ZM9.25 1.25C8.97386 1.25 8.75 1.47386 8.75 1.75V3.25C8.75 3.52614 8.97386 3.75 9.25 3.75H10.75C11.0261 3.75 11.25 3.52614 11.25 3.25V1.75C11.25 1.47386 11.0261 1.25 10.75 1.25H9.25Z",fill:"#888888"}))}var s6e=Xmt;var wI=M(P("react"),1),_I=P("react-redux");function qmt(){let e=(0,_I.useSelector)(Ci.getEnabled),t=(0,_I.useDispatch)(),r=He(U.measurement.measureToolActivated),o=(0,wI.useCallback)(()=>{t(W.actions.cancelDrawingMode()),t(Ci.actions.toggleMeasuring()),e||r()},[t,e,r]);return wI.default.createElement(Tp,{id:"measure",tooltip:"Measure",label:"Activate measure tool",iconClass:"bi-rulers",handleClick:o,active:e})}var a6e=qmt;var ex=M(P("react"),1),l6e=P("react-redux");var $mt=()=>{let e=(0,l6e.useDispatch)();return ex.default.createElement(Tp,{id:"monogram",tooltip:"Monogram",label:"Monogram",handleClick:()=>{e(vt.actions.showMonogramModal())}},ex.default.createElement(Zmt,null))},c6e=$mt,Zmt=()=>ex.default.createElement("svg",{width:"20",height:"20",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ex.default.createElement("path",{d:"M24 45C12.402 45 3 35.598 3 24C3 12.402 12.402 3 24 3C35.598 3 45 12.402 45 24C45 35.598 35.598 45 24 45ZM24 48C37.2548 48 48 37.2548 48 24C48 10.7452 37.2548 0 24 0C10.7452 0 0 10.7452 0 24C0 37.2548 10.7452 48 24 48Z",fill:"#777777"}),ex.default.createElement("path",{d:"M30.1161 33.216C29.4141 33.216 28.9371 33.036 28.6851 32.676C28.4331 32.298 28.3071 31.83 28.3071 31.272C28.3071 30.768 28.3791 30.201 28.5231 29.571C28.6851 28.797 28.9731 27.879 29.3871 26.817C29.8191 25.755 30.2961 24.648 30.8181 23.496C31.3581 22.326 31.8891 21.21 32.4111 20.148C32.9511 19.086 33.4191 18.177 33.8151 17.421C33.5811 17.637 33.3381 17.862 33.0861 18.096C32.8521 18.33 32.6091 18.591 32.3571 18.879C31.3131 20.049 30.3591 21.165 29.4951 22.227C28.6491 23.271 27.8301 24.306 27.0381 25.332C26.2641 26.34 25.4631 27.375 24.6351 28.437C24.1851 29.031 23.8251 29.481 23.5551 29.787C23.3031 30.075 23.0691 30.273 22.8531 30.381C22.6551 30.471 22.4031 30.516 22.0971 30.516C21.6471 30.516 21.1341 30.381 20.5581 30.111C20.8101 29.805 20.9811 29.148 21.0711 28.14C21.1791 27.132 21.2331 25.98 21.2331 24.684C21.2331 23.37 21.1881 22.011 21.0981 20.607C21.0081 19.203 20.8731 17.961 20.6931 16.881C20.5851 17.061 20.3871 17.457 20.0991 18.069C19.8291 18.681 19.4961 19.437 19.1001 20.337C18.7221 21.219 18.3171 22.182 17.8851 23.226C17.4531 24.252 17.0301 25.287 16.6161 26.331C16.2201 27.357 15.8601 28.329 15.5361 29.247C15.2301 30.165 14.9961 30.957 14.8341 31.623C14.6721 32.289 14.6181 32.748 14.6721 33H12.1881C12.5841 31.992 13.0341 30.876 13.5381 29.652C14.0601 28.41 14.6001 27.141 15.1581 25.845C15.7161 24.549 16.2651 23.289 16.8051 22.065C17.3631 20.841 17.8671 19.725 18.3171 18.717C18.7851 17.691 19.1721 16.845 19.4781 16.179C19.7841 15.513 19.9821 15.099 20.0721 14.937C19.2801 14.919 18.4701 15 17.6421 15.18C16.8141 15.342 16.0401 15.576 15.3201 15.882C14.6001 16.188 13.9881 16.539 13.4841 16.935C12.9981 17.331 12.6831 17.745 12.5391 18.177C12.5211 18.231 12.4851 18.258 12.4311 18.258C12.2871 18.258 12.2151 18.141 12.2151 17.907C12.2151 17.871 12.2151 17.835 12.2151 17.799C12.2331 17.745 12.2511 17.691 12.2691 17.637C12.4311 17.169 12.6291 16.755 12.8631 16.395C13.1151 16.035 13.3581 15.729 13.5921 15.477C14.1861 14.865 14.8521 14.496 15.5901 14.37C16.3281 14.226 17.1111 14.154 17.9391 14.154H20.5581C20.9541 14.154 21.3411 14.154 21.7191 14.154C22.0971 14.154 22.4301 14.253 22.7181 14.451C23.0061 14.631 23.1951 14.991 23.2851 15.531C23.3571 15.909 23.4201 16.485 23.4741 17.259C23.5461 18.015 23.6001 18.861 23.6361 19.797C23.6901 20.733 23.7351 21.66 23.7711 22.578C23.8071 23.496 23.8341 24.288 23.8521 24.954C23.8521 24.99 23.8521 25.098 23.8521 25.278C23.8701 25.44 23.8791 25.647 23.8791 25.899C23.8791 26.133 23.8701 26.403 23.8521 26.709C23.8521 26.997 23.8341 27.276 23.7981 27.546C24.1761 27.078 24.6441 26.502 25.2021 25.818C25.7781 25.116 26.3991 24.36 27.0651 23.55C27.7311 22.722 28.4061 21.894 29.0901 21.066C29.7741 20.238 30.4311 19.446 31.0611 18.69C31.6911 17.934 32.2401 17.277 32.7081 16.719C33.1941 16.143 33.5541 15.711 33.7881 15.423C34.2021 14.955 34.7241 14.631 35.3541 14.451C35.9841 14.253 36.6141 14.154 37.2441 14.154H38.9181C38.5401 14.442 38.1261 14.928 37.6761 15.612C37.2261 16.296 36.7851 17.034 36.3531 17.826C35.9391 18.618 35.5701 19.338 35.2461 19.986C34.7781 20.958 34.3011 22.011 33.8151 23.145C33.3291 24.279 32.8971 25.404 32.5191 26.52C32.1411 27.636 31.8621 28.671 31.6821 29.625C31.6281 29.913 31.6011 30.219 31.6011 30.543C31.6011 30.939 31.6641 31.29 31.7901 31.596C31.9341 31.884 32.1861 32.028 32.5461 32.028C32.8341 32.028 33.1851 31.911 33.5991 31.677H33.6261C33.6621 31.677 33.6891 31.713 33.7071 31.785C33.7251 31.839 33.7161 31.884 33.6801 31.92C33.3381 32.28 32.8161 32.586 32.1141 32.838C31.4121 33.09 30.7461 33.216 30.1161 33.216Z",fill:"#777777"}));var wu=M(P("react"),1),i1=P("react-redux");var o1=M(P("react"),1),Jmt={square:e=>o1.default.createElement("rect",{x:"2",y:"2",width:"20",height:"20",fill:e}),circle:e=>o1.default.createElement("circle",{cx:"12",cy:"12",r:"10",fill:e}),triangle:e=>o1.default.createElement("polygon",{points:"12,2 22,22 2,22",fill:e}),star:e=>o1.default.createElement("polygon",{points:"12,2 15,9 22,9 17,14 19,21 12,17 5,21 7,14 2,9 9,9",fill:e}),"half-circle":e=>o1.default.createElement("path",{d:"M2 12 A 10 10 0 0 1 22 12 Z",fill:e}),"right-triangle":e=>o1.default.createElement("polygon",{points:"2,2 22,22 2,22",fill:e})};function Kmt({shape:e,fill:t="#888",size:r=20}){let o=Jmt[e];return o?o1.default.createElement("svg",{width:r,height:r,viewBox:"0 0 24 24","aria-label":`${e} shape`},o(t)):(console.warn(`Unknown shape: ${e}`),null)}var u6e=Kmt;function Qmt({isToolbarHidden:e}){let{show:t,setShow:r,toggle:o}=r1(e),i=(0,i1.useSelector)(q.getMaterialThickness),n=(0,i1.useSelector)(q.getXYZeroLocation),s=(0,i1.useSelector)(Y.getWorkArea),a=(0,i1.useSelector)(St.getWorkpieceViewport),l=(0,i1.useSelector)(St.getEditorSize),c=(0,i1.useDispatch)(),u=He(U.addedBasicShape),p=(0,wu.useCallback)(h=>{let f=h.currentTarget.id,x=n===me.XY_ZERO_CENTER?{x:0,y:0}:null,v=Ky(f,x),b={type:"fill",depth:ot.defaultShapePlacementDepth(i)},S={shape:v,cut:b},w=Dr.getShift([S],s.y,a,l);c(Dr.addAndSelectVolume(S,w)),u({shape:f})},[i,n,s,a,l,c,u]),m=(0,wu.useCallback)(h=>{r(!1),p(h)},[p,r]);return t1(()=>r(!1),t),wu.default.createElement("li",{className:"toolbar-item"},wu.default.createElement(je,{display:!t,placement:"right",tooltipContent:"Shapes",delay:0},wu.default.createElement("button",{id:"toolbar-shapes-item",className:"bi bi-circle-square toolbar-item__icon",onClick:o,"aria-label":`${t?"Close":"Open"} shapes menu`})),t&&wu.default.createElement("div",{className:"shapes-dropdown"},wu.default.createElement("ul",{className:"nav nav--vertical"},["square","circle","triangle","star","half-circle","right-triangle"].map(h=>{let f=vr.capitalize(h.split("-").join(" "));return wu.default.createElement("li",{key:h,className:"toolbar-dropdown-item"},wu.default.createElement("button",{className:"toolbar-dropdown-item__btn",id:h,onClick:m,"aria-label":`Add ${f} shape`},wu.default.createElement(u6e,{shape:h}),wu.default.createElement("span",{className:"toolbar-dropdown-item__name"},f)))}))))}var p6e=Qmt;var uv=M(P("react"),1),Hg=P("react-redux");var Us=M(P("react"),1),Gg=P("react-redux");var lv=M(P("react"),1),d6e=P("react-redux");var eft=e=>{let t=(0,d6e.useDispatch)(),r=n=>n.map(s=>({family:s.name,displayName:s.displayName,provider:s.provider})).sort((s,a)=>s.displayName.localeCompare(a.displayName)),o=(n,s)=>{e.onChooseFont(n,s),t(Bt(U.fontChanged,{"Font Name":zd(n)[0],"Font Type":EC(s)}))},{fonts:i}=e;return r(i).map(n=>{let s=!_s[n.family];return lv.default.createElement("li",{key:Bo(n.family,n.provider)},lv.default.createElement(oe,{onClick:()=>o(n.family,n.provider)},lv.default.createElement("span",{"data-font-family":Bo(n.family,n.provider),"data-font-weight":n.weight,style:{fontFamily:Bo(n.family,n.provider)}},n.displayName),s&&lv.default.createElement(qt,null)))})},m6e=eft;var cv=M(P("react"),1);var JH=class extends cv.default.Component{constructor(){super(...arguments);y(this,"removeInvalidFonts",()=>{let{fontsWithLoadingErrors:r}=this.props,o=r.map(i=>jf.destroy(i.family,i.provider));Promise.all(o).then(()=>{window.location.reload(!1)}).catch(i=>{console.error(`There was a problem saving deleting all user fonts': ${i}`),Ut("There was a problem removing all the fonts.")})})}render(){let{fontsWithLoadingErrors:r}=this.props;return r.length>0&&cv.default.createElement("div",{className:"fonts-loading-nuke"},cv.default.createElement("button",{className:"btn btn-default",onClick:this.removeInvalidFonts},"Uninstall ",r.length," problematic font",r.length>1?"s":""),cv.default.createElement("p",null,"This will uninstall fonts that failed loading. You can always install these fonts again."))}},tft=ne({mapStateToProps:e=>({fontsWithLoadingErrors:ft.getFontsWithLoadingErrors(e)}),component:JH}),f6e=tft;var rft=({maxHeight:e,onChooseFont:t,id:r,className:o,show:i,source:n,proLabelPlacement:s="right"})=>{let a=(0,Gg.useDispatch)(),l=(0,Gg.useSelector)(ft.getToolbarFonts),c=(0,Gg.useSelector)(v=>ft.isLoaded(v,"pro")&&ft.isLoaded(v,"toolbar")),u=(0,Gg.useSelector)(v=>ft.getGroupLoadedInfo(v,"pro")),p=(0,Gg.useSelector)(v=>ft.getGroupLoadedInfo(v,"toolbar")),m=He(U.openedFontLibrary),h=()=>Us.default.createElement("span",null,"300+ additional fonts. Carving requires use of ",Us.default.createElement(oe,{href:"https://inventables.zendesk.com/hc/en-us/articles/360012849133-Easel-Pro-FAQ-and-Overview",target:"_blank"},"Easel Pro")),f=()=>{a(ft.actions.setFontListVisible(!0))},x=()=>{f(),m({Source:n})};return Us.default.createElement("ul",{id:r,className:`${o} ${i?"show":""}`,"aria-label":"submenu",style:e?{maxHeight:`${e}px`}:{}},c&&Us.default.createElement(Us.default.Fragment,null,Us.default.createElement("li",{className:"add-font-item",key:"add-font-item"},Us.default.createElement(oe,{className:"add-font-link",onClick:x},Us.default.createElement("span",null,Us.default.createElement("i",{className:"bi bi-plus-lg"})," Add fonts"),Us.default.createElement(rn,{id:"font-toolbar-popover",placement:s??"right",popoverTitle:"Font Library",popoverContent:h()},Us.default.createElement(qt,null)))),Us.default.createElement(m6e,{fonts:l,onChooseFont:t})),!c&&Us.default.createElement("li",{className:"font-menu-loading",key:"fonts-list-loading"},Us.default.createElement("div",{className:"font-menu-loading-text"},Us.default.createElement("p",null,"Loading fonts ",u.loaded+p.loaded,"/",u.total+p.total),Us.default.createElement("div",{className:"font-menu-loading-spinner"},Us.default.createElement(Re,null))),Us.default.createElement(f6e,null)))},kI=rft;function oft({isToolbarHidden:e}){let{show:t,setShow:r,toggle:o}=r1(e),i=(0,Hg.useSelector)(q.getMaterialThickness),n=(0,Hg.useSelector)(Y.getWorkArea),s=(0,Hg.useSelector)(St.getWorkpieceViewport),a=(0,Hg.useSelector)(St.getEditorSize),l=(0,Hg.useDispatch)(),c=He(U.addedText);t1(()=>r(!1),t);let u=(p,m)=>{let f={shape:$r.buildText(p,m),cut:{type:"fill",depth:ot.defaultShapePlacementDepth(i)}},x=Dr.getShift([f],n.y,s,a);l(Dr.addAndSelectVolume(f,x)),r(!1),c({"Font Name":zd(p)[0],"Font Type":EC(m)})};return uv.default.createElement("li",{className:"toolbar-item"},uv.default.createElement(je,{display:!t,placement:"right",tooltipContent:"Text",delay:0},uv.default.createElement("button",{id:"toolbar-text-item",className:"bi bi-type toolbar-item__icon",onClick:o,"aria-label":`${t?"Close":"Open"} text menu`})),uv.default.createElement(kI,{id:"font-menu",className:"dropdown-menu easel-dropdown easel-dropdown--left",onChooseFont:(p,m)=>u(p,m),show:t,source:"Toolbar"}))}var h6e=oft;function ift(){let[e,t]=(0,es.useState)(!0);return es.default.createElement("div",{className:"toolbar-b-container"},es.default.createElement("div",{className:"toolbar-toggle"},es.default.createElement(je,{placement:"right",tooltipContent:"Show / Hide Toolbar",delay:0},es.default.createElement("button",{className:`bi bi-chevron-${e?"left":"right"} toolbar-toggle__btn`,onClick:()=>t(r=>!r),"aria-pressed":e},es.default.createElement("span",{className:"screen-reader-text"},"Toggle toolbar")))),es.default.createElement("div",{className:`toolbar ${e?"useable":"tucked"}`,role:"toolbar","aria-label":"Design toolbar"},es.default.createElement("div",{className:"main-toolbar action-menu"},es.default.createElement("ul",{className:"nav nav--vertical"},es.default.createElement(p6e,{isToolbarHidden:!e}),es.default.createElement(s6e,{isToolbarHidden:!e}),es.default.createElement(r6e,null),es.default.createElement(h6e,{isToolbarHidden:!e}),es.default.createElement(t6e,null),es.default.createElement(a6e,null),es.default.createElement(Q7e,null),es.default.createElement(o6e,null),es.default.createElement(n6e,{isToolbarHidden:!e}),it("monogram_app")&&es.default.createElement(c6e,null)))))}var g6e=ift;var Nh=M(P("react"),1);var KH=class extends Nh.default.Component{constructor(){super(...arguments);y(this,"state",{browser:()=>{if(navigator.userAgent.indexOf("Chrome")>-1)return"chrome";if(navigator.userAgent.indexOf("Safari")>-1)return"safari";if(navigator.userAgent.indexOf("Firefox")>-1)return"firefox";if(navigator.userAgent.indexOf("MSIE")>-1)return"ie"}});y(this,"showModal",()=>{J.emit("show-webgl-help-modal",{browser:this.state.browser})});y(this,"humanizeBrowserName",r=>r==="chrome"?"Google Chrome":r==="ie"?"Internet Explorer":r==="safar"?"Safari":"Firefox")}render(){let{browser:r}=this.state,o=eI[r],i=this.humanizeBrowserName(r);return Nh.default.createElement("div",{id:"webgl-help"},Nh.default.createElement("div",{id:"webgl-help-message"},Nh.default.createElement("img",{src:EASEL_ASSETS.images.glassesEasel}),Nh.default.createElement("h3",null,"Hmm...there should be a 3D preview here."),Nh.default.createElement("p",null,"The 3D preview relies on WebGL, a new graphics technology that\u2018s available in the latest versions of all the major browsers."),Nh.default.createElement("div",{className:"panel-group"},typeof o=="function"&&o(Nh.default.createElement("a",{onClick:this.showModal},`Not using ${i}? Click here for advice for other browsers.`)))))}},y6e=KH;var zg=M(P("react"),1),TI=P("react-redux");var nft=()=>{let e=(0,TI.useSelector)(Me.getPreferredUnit),t=(0,TI.useDispatch)(),r=He(U.changedProjectUnit),o=()=>{let i=e==="in"?"mm":"in";t(Q.updateDefaults({unit:i})),r({"Selected Unit":i})};return zg.default.createElement("div",{id:"unit-switcher",className:`unit-switcher unit-switcher__${e} unit-switcher--standalone`},zg.default.createElement("span",{className:"inches"},"inch"),zg.default.createElement("label",{className:"unit-switcher__toggle","data-testid":"unit-switcher",onClick:o},zg.default.createElement("div",{className:"unit-switcher__outline"},zg.default.createElement("div",{className:"unit-switcher__ball","data-testid":e==="in"?"unit-switcher-in":"unit-switcher-mm"}))),zg.default.createElement("span",{className:"mm"},"mm"))},EI=nft;var Hl=M(P("react"),1),MI=P("react-redux");var Qt=M(P("react"),1),QH=P("react-redux"),Wa=P("react-bootstrap");var sft=()=>{let e=(0,QH.useSelector)(Ie.selectedVolumeIds),t=(0,QH.useSelector)(A=>ye.getVolumes(A,e)),r=()=>Je.trigger("cut"),o=()=>Je.trigger("copy"),i=()=>Je.trigger("remove"),n=()=>Je.trigger("flip-horizontal"),s=()=>Je.trigger("flip-vertical"),a=()=>Je.trigger("backward"),l=()=>Je.trigger("send-to-back"),c=()=>Je.trigger("forward"),u=()=>Je.trigger("bring-to-front"),p=()=>Je.trigger("group"),m=()=>Je.trigger("ungroup"),h=()=>Je.trigger("combine"),f=()=>Je.trigger("select-matching-depth"),x=()=>Je.trigger("offset"),v=()=>Je.trigger("replicate"),b=()=>Je.trigger("convert-ellipse-to-drill-holes"),S=Ee.combinableVolumes(t).length>1,w=Ee.volumesCanBeGrouped(t),_=Ee.volumesCanBeUngrouped(t),E=Ee.canOffsetVolumes(t),T=Ee.canConvertEllipseToDrillHoles(t);return Qt.default.createElement("div",{className:"context-menu"},Qt.default.createElement("div",{className:"dropdown-menu d-block"},Qt.default.createElement(Wa.Anchor,{onClick:r,className:"dropdown-item"},Qt.default.createElement(po,{title:"Cut",shortcut:"X"})),Qt.default.createElement(Wa.Anchor,{onClick:o,className:"dropdown-item"},Qt.default.createElement(po,{title:"Copy",shortcut:"C"})),Qt.default.createElement(Wa.Anchor,{onClick:i,className:"dropdown-item"},"Remove"),!Ee.isOneDrillHoleSelected(t)&&Qt.default.createElement(Qt.default.Fragment,null,Qt.default.createElement("div",{className:"dropdown-divider"}),Qt.default.createElement(Wa.Anchor,{className:"flip-icon dropdown-item",onClick:n},"Flip Horizontal"),Qt.default.createElement(Wa.Anchor,{id:"flip-vertical",className:"flip-icon dropdown-item",onClick:s},"Flip Vertical")),!Ee.areOnlyDrillHolesSelected(t)&&Qt.default.createElement(Qt.default.Fragment,null,Qt.default.createElement("div",{className:"dropdown-divider"}),Qt.default.createElement(Wa.Anchor,{onClick:a,className:"dropdown-item"},Qt.default.createElement(po,{title:"Send Backward",shortcut:"["})),Qt.default.createElement(Wa.Anchor,{onClick:l,className:"dropdown-item"},Qt.default.createElement(po,{title:"Send to Back",shortcut:";"})),Qt.default.createElement(Wa.Anchor,{onClick:c,className:"dropdown-item"},Qt.default.createElement(po,{title:"Bring Forward",shortcut:"]"})),Qt.default.createElement(Wa.Anchor,{onClick:u,className:"dropdown-item"},Qt.default.createElement(po,{title:"Bring to Front",shortcut:"'"}))),(S||w||_)&&Qt.default.createElement(Qt.default.Fragment,null,Qt.default.createElement("div",{className:"dropdown-divider"}),w&&Qt.default.createElement(Wa.Anchor,{onClick:p,className:"dropdown-item"},Qt.default.createElement(po,{title:"Group",shortcut:"G"})),_&&Qt.default.createElement(Wa.Anchor,{onClick:m,className:"dropdown-item"},Qt.default.createElement(po,{title:"Ungroup",shortcut:"G",shift:!0})),S&&Qt.default.createElement(Wa.Anchor,{onClick:h,className:"dropdown-item"},Qt.default.createElement(po,{title:"Combine",shortcut:"J"}))),(E||t.length>0||T)&&Qt.default.createElement(Qt.default.Fragment,null,Qt.default.createElement("div",{className:"dropdown-divider"}),E&&Qt.default.createElement(Wa.Anchor,{onClick:x,className:"dropdown-item"},"Offset"),t.length>0&&Qt.default.createElement(Wa.Anchor,{onClick:v,className:"dropdown-item"},"Replicate"),T&&Qt.default.createElement(Wa.Anchor,{onClick:b,className:"dropdown-item"},"Convert to Drill Hole")),Ee.allSelectedShapesMatchingCutDepth(t)&&Qt.default.createElement(Qt.default.Fragment,null,Qt.default.createElement("li",{className:"dropdown-divider"}),Qt.default.createElement(Wa.Anchor,{onClick:f,className:"dropdown-item"},"Select by Matching Depth"))))},x6e=sft;var Oh=M(P("react"),1),b6e=P("react-redux");var aft=function({selectedVolumes:e}){let t=e.some(a=>a.shape.anchored),r=(0,b6e.useDispatch)();return Oh.default.createElement("div",{className:"context-menu"},Oh.default.createElement("div",{className:"dropdown-menu",style:{display:"block"}},Oh.default.createElement(oe,{onClick:()=>Je.trigger("cut"),className:"dropdown-item"},Oh.default.createElement(po,{title:"Cut",shortcut:"X"})),Oh.default.createElement(oe,{onClick:()=>Je.trigger("copy"),className:"dropdown-item"},Oh.default.createElement(po,{title:"Copy",shortcut:"C"})),Oh.default.createElement(oe,{onClick:()=>Je.trigger("remove"),className:"dropdown-item"},"Remove"),Oh.default.createElement(oe,{onClick:()=>{let a=e.map(l=>l.id);r(W.actions.volumesSetLocked(a,!t))},className:"dropdown-item"},t?"Unlock":"Lock")))},v6e=aft;var lft=()=>{let[e,t]=(0,Hl.useState)(!1),[r,o]=(0,Hl.useState)(null),i=(0,Hl.useRef)(null),n=(0,MI.useSelector)(ye.getVolumes),s=(0,MI.useSelector)(Ie.selectedVolumeIds),a=(0,MI.useSelector)(p=>ye.getVolumes(p,s)),l=a.some(p=>p.cut.type==="measurement"),c=()=>{t(!1)},u=(0,Hl.useCallback)(p=>{let m;H.trackEventOnce("Right Click Menu"),Ee.isOneDrillHoleSelected(a)?m=172:Ee.areOnlyDrillHolesSelected(a)?m=374:m=584;let f=i.current!=null&&i.current.getBoundingClientRect()||{left:0,top:0},x=p.clientX-f.left,v=Math.min(window.innerHeight-f.top-m,p.clientY-f.top);s!=null&&s.length>0&&(t(!0),o({x,y:v}))},[s,a]);return(0,Hl.useEffect)(()=>{c()},[n]),(0,Hl.useEffect)(()=>(J.addListener("show-context-menu",u),()=>{J.removeListener("show-context-menu",u)}),[u]),Hl.default.createElement("div",{id:"context-menu-bg",ref:i,onClick:e?c:null,style:e?void 0:{pointerEvents:"none"}},e&&Hl.default.createElement("div",{id:"context-menu-wrapper",style:{top:r.y,left:r.x}},!l&&Hl.default.createElement(x6e,{selectedVolumes:a}),l&&Hl.default.createElement(v6e,{selectedVolumes:a})))},S6e=lft;var k6e=M(P("react"),1),rz=P("react-redux");var rx=M(P("react"),1),dv=M(P("prop-types"),1);var ez=M(P("react"),1);var tz=class extends ez.default.Component{constructor(){super(...arguments);y(this,"canvasWidth",()=>this.pixelRatio()*this.props.panelWidth);y(this,"canvasHeight",()=>this.pixelRatio()*this.props.panelHeight);y(this,"pixelRatio",()=>me.PIXEL_RATIO);y(this,"visualizeGcode",()=>{let r=bd.withHeaderAndFooter(this.props.gcode),o=this.canvas.getContext("2d");return i_.renderGcodeToContext({pixelRatio:this.pixelRatio(),size:{width:this.props.panelWidth,height:this.props.panelHeight},isCarvey:this.props.isCarvey,gcode:r,ctx:o,workArea:{x:this.props.workArea.x,y:this.props.workArea.y},unit:Me.getPreferredUnit(N.store.getState())})})}componentDidMount(){return this.visualizeGcode()}componentDidUpdate(r){if(r.gcode!==this.props.gcode||r.isCarvey!==this.props.isCarvey||r.panelHeight!==this.props.panelHeight||r.panelWidth!==this.props.panelWidth)return this.visualizeGcode()}render(){let r={width:this.props.panelWidth+"px",height:this.props.panelHeight+"px"};return ez.default.createElement("canvas",{ref:o=>this.canvas=o,width:this.canvasWidth(),height:this.canvasHeight(),style:r})}},cft=ne({mapStateToProps:e=>({workArea:Y.getWorkArea(e)}),component:tz}),C6e=cft;var tx=M(P("three"),1),pv=M(P("prop-types"),1),Km=M(P("react"),1);var Jm=M(P("three"),1);var uft=function(){let{WIDTH:e,LENGTH:t,OFFSET:r,FILLET:o,HEIGHT:i}=l5,n=new Jm.Shape;n.moveTo(e,e),n.lineTo(t-o,e),n.quadraticCurveTo(t,e,t,e-o),n.lineTo(t,o),n.quadraticCurveTo(t,0,t-o,0),n.lineTo(o,0),n.quadraticCurveTo(0,0,0,o),n.lineTo(0,t-o),n.quadraticCurveTo(0,t,o,t),n.lineTo(e-o,t),n.quadraticCurveTo(e,t,e,t-o),n.lineTo(e,e);let s={amount:i,bevelEnabled:!1},a=new Jm.ExtrudeGeometry(n,s);return a.applyMatrix4(new Jm.Matrix4().makeTranslation(-r,-r,0)),new Jm.Mesh(a,new Jm.MeshNormalMaterial)},P6e=uft;var AI=class extends Km.default.Component{constructor(){super(...arguments);y(this,"state",{formattedTime:""});y(this,"previewElement",null);y(this,"previewPanel",null);y(this,"visualizeGcode",r=>{let o=r.gcode;this.disposeMeshes();let i=bd.withHeaderAndFooter(o),n=mm.createMesh(i);n.geometry.computeBoundingBox();let{boundingBox:s}=n.geometry;n.position.z=-s.min.z;let a=bd.getTime(i);this.setState({formattedTime:fa.durationFromMinutes(a)});let l=new tx.BoxGeometry(s.max.x-s.min.x,s.max.y-s.min.y,-s.min.z),c=new tx.Mesh(l,new tx.MeshNormalMaterial({transparent:!0,opacity:.1}));c.position.set((s.min.x+s.max.x)/2,(s.min.y+s.max.y)/2,-s.min.z/2);let u=[n,c];if(r.isCarvey){let p=P6e();p.position.set(0,0,-s.min.z),u.push(p)}this.previewPanel.addMeshes(u),this.previewElement=ba(u),this.previewPanel.homeCamera({minX:s.min.x,maxX:s.max.x,minY:s.min.y,maxY:s.max.y,minZ:s.min.z,maxZ:s.max.z})});y(this,"UNSAFE_componentWillReceiveProps",r=>{(r.panelHeight!==this.props.panelHeight||r.panelWidth!==this.props.panelWidth)&&this.previewPanel.setSize(r.panelWidth,r.panelHeight),(r.gcode!==this.props.gcode||r.isCarvey!==this.props.isCarvey)&&this.visualizeGcode(r)});y(this,"disposeMeshes",()=>{this.previewElement!=null&&(this.previewPanel.removeMeshes(this.previewElement.getMeshes()),this.previewElement.release(),this.previewElement=null)})}componentDidMount(){try{this.previewPanel=new z0,this.previewPanel.add(X0().init(this.previewPanel.render.bind(this.previewPanel)).getMesh()),this.el.appendChild(this.previewPanel.getDOMElement()),this.previewPanel.setSize(this.props.panelWidth,this.props.panelHeight),this.visualizeGcode(this.props)}catch(r){console.error(r)}}componentWillUnmount(){this.disposeMeshes(),this.previewPanel?.dispose()}render(){return Km.default.createElement(Km.default.Fragment,null,Km.default.createElement("div",{ref:r=>this.el=r}),Km.default.createElement("div",{className:"gcode-sender-controls"},this.previewPanel&&Km.default.createElement(V6,{passes:[{mesh:this.previewElement?.getMeshes()[0]}],render:()=>this.previewPanel.render(),toolpathsVisible:!0}),Km.default.createElement("div",null,Km.default.createElement("i",{className:"bi bi-clock"}),Km.default.createElement("span",{className:"gcode-sender__time-estimate"},this.state.formattedTime))))}};y(AI,"propTypes",{panelWidth:pv.default.number.isRequired,panelHeight:pv.default.number.isRequired,gcode:pv.default.string.isRequired,isCarvey:pv.default.bool.isRequired});var w6e=AI;var II=class extends rx.default.Component{render(){return rx.default.createElement("div",{className:"gcode-sender-container",style:{width:this.props.panelWidth,height:this.props.panelHeight}},DISABLE_3D?rx.default.createElement(C6e,{gcode:this.props.gcode,isCarvey:this.props.isCarvey,panelWidth:this.props.panelWidth,panelHeight:this.props.panelHeight}):rx.default.createElement("div",{className:"external-gcode-sender-controls-container"},rx.default.createElement(w6e,{gcode:this.props.gcode,isCarvey:this.props.isCarvey,panelWidth:this.props.panelWidth,panelHeight:this.props.panelHeight})))}};y(II,"propTypes",{gcode:dv.default.string.isRequired,panelWidth:dv.default.number.isRequired,panelHeight:dv.default.number.isRequired,isCarvey:dv.default.bool});var _6e=II;var pft=({panelWidth:e,panelHeight:t})=>{let r=(0,rz.useSelector)(W.getExternalGcode),o=(0,rz.useSelector)(Y.isCarvey);return r==null?null:k6e.default.createElement(_6e,{panelWidth:e,panelHeight:t,gcode:r,isCarvey:o})},T6e=pft;var GI=M(P("prop-types"),1),ti=M(P("react"),1);var n1=M(P("prop-types"),1),Xg=M(P("react"),1);var Ar=M(P("three"),1);var oz=class{constructor(t,r,o,i,n,s,a){this.renderer=t,this.graphics={},this.materialDepth=o.z,this.previewVisible=!1,this.updateModelAndCamera(r,o,a,s),this.updateMaterial(r,o,n,s),this.updateSelectionRect(r,s),this.updatePreview(i)}updateModel(t,r,o){let i=this.createModel(t,r,o);return this.setGraphic("model",ba([i])),i}createModel(t,r,o){let i=new Ar.Mesh(t.geometry(),new Ar.MeshStandardMaterial({color:r?.color?v5(r.color):16178880,metalness:0,roughness:r8(r),transparent:!0,polygonOffset:!0,polygonOffsetUnits:1,polygonOffsetFactor:1}));return i.matrixAutoUpdate=!1,i.matrix=o,i}updateModelAndCamera(t,r,o,i){let n=this.createModel(t,o,i),s=r.x+12>=r.y?1.5:2,a=Math.max(r.x,r.y),l=45*Math.PI/180,c=Math.tan(l)*a;return this.renderer.setCameraPosition({x:r.x/2,y:-a/s,z:c/s+t.center().z/2}),this.renderer.setCameraViewCenter({x:r.x/2,y:r.y/2.5,z:0}),this.setGraphic("model",ba([n])),n}updateModelTransform(t){if(this.graphics.model!=null){for(let r of this.graphics.model.getMeshes())r.matrix=t;this.renderer.render()}}updateMaterial(t,r,o,i){let n=new Ar.Group,s=new Ar.LineSegments(new Ar.EdgesGeometry(new Ar.BoxGeometry(r.x,r.y,r.z)),new Ar.LineBasicMaterial({color:65280}));if(n.add(s),n.translateX(r.x/2).translateY(r.y/2).translateZ(r.z/2),o.relief!=="None"){let c=new Ar.Mesh(new Ar.PlaneGeometry(r.x,r.y),new Ar.MeshBasicMaterial({color:0,transparent:!0,opacity:.3,side:Ar.DoubleSide}));c.renderOrder=j6.cutDepthPlane,c.translateZ(r.z/2-o.depth+.01),n.add(c)}let a=[n],l=null;switch(o.relief){case"Rectangle":l=kf.rectangle;break;case"Ellipse":l=kf.ellipse;break}if(l!=null){let c=t.vertices(i),u=l(c.bbox,o.padding).flatMap(m=>[m.x,m.y,0]),p=new Ar.BufferGeometry;p.attributes.position=new Ar.Float32BufferAttribute(u,3),a.push(new Ar.Line(p,new Ar.LineBasicMaterial({color:16744448})).translateZ(r.z-o.depth+.015))}return this.setGraphic("material",ba(a)),this.renderer.render(),a}updateSelectionRect(t,r){let o=t.vertices(r).bbox,i=kf.rectangle(o,0).flatMap(p=>[p.x,p.y,o.min.z]),n=new Ar.BufferGeometry;n.attributes.position=new Ar.Float32BufferAttribute(i,3);let s=new Ar.LineBasicMaterial({color:7746541,depthTest:!1,transparent:!0,opacity:1,side:Ar.DoubleSide}),a=new Ar.Line(n,s);a.renderOrder=j6.selectionRect;let l=new Ar.CircleGeometry(.1,16),c=new Ar.Mesh(l,s);c.position.set(o.min.x,o.min.y,o.min.z),c.renderOrder=j6.selectionRect;let u=[a,c];return this.setGraphic("selectionRect",ba(u)),this.renderer.render(),u}updatePreview(t){if(t==null){this.setGraphic("preview",null);return}b5().loadMaterial({category:"Wood"}).then(r=>{let o=[{texture:r,bottomZ:-this.materialDepth}],i=ba(H8(t,o,null,this.materialDepth));this.setGraphic("preview",i),i.setVisible(this.previewVisible)})}setPreviewVisible(t){this.graphics.model?.setVisible(!t),this.graphics.material?.setVisible(!t),this.graphics.selectionRect?.setVisible(!t),this.graphics.preview?.setVisible(t),this.previewVisible=t,this.renderer.render()}setGraphic(t,r){let o=this.graphics[t];o!=null&&(this.renderer.removeMeshes(o.getMeshes()),o.release()),this.graphics[t]=r,r!=null&&this.renderer.addMeshes(r.getMeshes()),this.renderer.render()}disposeAll(){for(let t in this.graphics)this.setGraphic(t,null)}},E6e=oz;var DI=class extends Xg.default.Component{constructor(r){super(r);y(this,"UNSAFE_componentWillReceiveProps",r=>{let{mesh:o,gcode:i,bitWidth:n,material:s,cutStyle:a,panelWidth:l,panelHeight:c,transform:u,preview:p,previewVisible:m,finish:h}=r,{renderer:f,externalMeshPreview:x}=this.state;!f||!x||((l!==this.props.panelWidth||c!==this.props.panelHeight)&&this.updateCanvas(l,c),this.props.mesh!==o?(x.updateModelAndCamera(o,s,h,u),x.updateSelectionRect(o,u),this.setState({gcode:null,bitMesh:null})):this.props.transform.equals(u)?_r(this.props.finish,h)||x.updateModel(o,h,u):(x.updateModelTransform(u),x.updateSelectionRect(o,u)),(this.props.material.x!==s.x||this.props.material.y!==s.y||this.props.material.z!==s.z||!_r(this.props.transform,u)||!_r(this.props.cutStyle,a))&&x.updateMaterial(o,s,a,u),this.props.gcode!==i&&(this.updateBitMesh(n,i,s),this.updateGcode(i,s),f.render()),this.props.preview!==p&&x.updatePreview(p),this.props.previewVisible!==m&&x.setPreviewVisible(m))});y(this,"updateCanvas",(r,o)=>{this.state.renderer?.setSize(r,o)});y(this,"dispose",r=>{let{renderer:o}=this.state;for(let i of r)i!=null&&(o.removeMeshes([i]),i.geometry.dispose(),i.material.dispose())});y(this,"updateGcode",(r,o)=>{if(this.dispose([this.state.gcodeMesh]),r==null)return;let i=mm.createMesh(r);i.position.z=o.z,this.state.renderer.add(i),this.setState({gcodeMesh:i})});y(this,"updateBitMesh",(r,o,i)=>{let{renderer:n}=this.state;if(this.state.bitMesh!=null&&(n.removeMeshes([this.state.bitMesh]),this.dispose(this.state.bitMesh.children)),o==null){this.setState({bitMesh:null});return}let s=new rt({type:qe.ballnose,width:r,unit:"in"}),a=mm.createBitMesh(s);a.children[0].position.z=i.z+r/2,a.children[1].position.z=i.z,n.add(a),this.setState({bitMesh:a})});try{let{mesh:o,material:i,preview:n,cutStyle:s,transform:a,finish:l}=r,c=new z0({maxPolarAngle:Math.PI,showGizmo:!0,onClickAxis:this.onClickAxis,automateCamera:!0}),u=new E6e(c,o,i,n,s,a,l),m=X0().init(c.render.bind(c)).getMesh();c.add(m),this.state={renderer:c,externalMeshPreview:u,wasteboardMesh:m,bitMesh:null}}catch(o){console.error(o),this.state={}}}componentDidMount(){let{renderer:r}=this.state;if(!r)return;this.updateCanvas(this.props.panelWidth,this.props.panelHeight);let o=r.getOrientationGizmo();o&&this.el.appendChild(o),this.el.appendChild(r.getDOMElement())}componentWillUnmount(){this.state.gcodeMesh&&this.dispose([this.state.gcodeMesh]),this.state.wasteboardMesh&&this.dispose([this.state.wasteboardMesh]),this.state.externalMeshPreview?.disposeAll(),this.state.renderer?.dispose()}render(){let{gcodeMesh:r,bitMesh:o}=this.state;return Xg.default.createElement(Xg.default.Fragment,null,Xg.default.createElement("div",{className:"external-mesh-render",ref:i=>this.el=i}),r!=null&&Xg.default.createElement("div",{className:"gcode-sender-controls"},Xg.default.createElement(V6,{passes:[{mesh:r,bitMesh:o}],render:()=>this.state.renderer.render(),toolpathsVisible:!0}),this.props.children))}};y(DI,"propTypes",{mesh:n1.default.object.isRequired,panelWidth:n1.default.number.isRequired,panelHeight:n1.default.number.isRequired,material:n1.default.object.isRequired,finish:n1.default.object,cutStyle:n1.default.object.isRequired,bitWidth:n1.default.number});var M6e=DI;var dft=e=>{let t=`
    <h3>There was an error generating toolpaths for your 3d model. Please don't modify this workpiece any further, and paste the link & error message below to the <a href="https://discuss.inventables.com/c/easel-pro-3d-carving/60" target="_blank">Inventables 3D Forum</a>.</h3>
    <pre>${e.toString()}</pre>
    <div class="input-group">
      <input type="text" class="form-control" value="${window.location.href}">
      <span class="input-group-btn">
        <button class="btn btn-default" type="button" onclick="(() => { navigator.clipboard.writeText(window.location.href); })()">Copy</button>
      </span>
    </div>`;Fe("Error generating 3d toolpaths","",[{text:"Close"}],t)},A6e=dft;var mft=function({minX:e,maxX:t,minY:r,maxY:o},i){let n={x:1/(t-e),y:1/(o-r)},s=[],a=function(u){let p=new Float32Array(u.length*9),m=new Float32Array(u.length*6);for(let h=0;h<u.length;h++){let f=u[h];p[h*9+0]=f[0].x,p[h*9+1]=f[0].y,p[h*9+2]=f[0].z,p[h*9+3]=f[1].x,p[h*9+4]=f[1].y,p[h*9+5]=f[1].z,p[h*9+6]=f[2].x,p[h*9+7]=f[2].y,p[h*9+8]=f[2].z,m[h*6+0]=n.x*(f[0].x-e),m[h*6+1]=n.y*(f[0].y-r),m[h*6+2]=n.x*(f[1].x-e),m[h*6+3]=n.y*(f[1].y-r),m[h*6+4]=n.x*(f[2].x-e),m[h*6+5]=n.y*(f[2].y-r)}return{vertices:p,uvs:m}};return{addTriangles:function(u,p){p==null&&(p={});let{vertices:m,uvs:h}=a(u);s.push({uv:h,position:m,options:p})},toSerialForm:()=>({minX:e,maxX:t,minY:r,maxY:o,z:i,meshes:s})}},I6e=mft;var W6e=M(B6e(),1);var F6e=function(e,t){let r=0;for(;r<t.length;)e.push(t[r].x),e.push(t[r].y),r++},Mft=function(e,t,r=0){let o=[];F6e(o,e);let i=[],n=e.length,s=0;for(;s<t.length;)i.push(n),n+=t[s].length,F6e(o,t[s]),s++;let a=(0,W6e.default)(o,i,2),l=[];for(s=0;s<a.length;){let u=a.slice(s,s+3).map(p=>({x:o[2*p],y:o[2*p+1],z:r}));l.push(u),s+=3}return l},Aft=function(e,t){let r=[],o=[];for(let i of Array.from(e))if(!(isNaN(i[0].z)||isNaN(i[1].z)||isNaN(i[2].z)))if(t<=i[0].z&&t<=i[1].z&&t<=i[2].z)r.push(i);else if(i[0].z<=t&&i[1].z<=t&&i[2].z<=t)o.push(i);else{let n;for(;!(i[2].z<=t&&t<=i[0].z);)i=[i[1],i[2],i[0]];if(t<=i[1].z){n=$4(i[0],i[2],t);let s=$4(i[1],i[2],t);r.push([i[0],i[1],s]),r.push([i[0],s,n]),o.push([n,s,i[2]])}else{let s=$4(i[0],i[1],t);n=$4(i[0],i[2],t),r.push([i[0],s,n]),o.push([s,i[1],i[2]]),o.push([n,s,i[2]])}}return[r,o]},Ift={triangulate:Mft,clip:Aft},V6e=Ift;var U6e=P("three");var lz=class{constructor(t,r){y(this,"surfaceMap");y(this,"tabHeight");y(this,"tabs");let{tabHeight:o,tabWidth:i}=t.tabSettings();this.surfaceMap=r,this.tabHeight=o;let n=t.ensureTabsInfo(r).paths.all();this.tabs=n.flatMap(s=>s.props.tabs.map(a=>new cz(a.segs,i)))}getPoint(t,r){return{x:t,y:r,z:this.getZ(t,r)}}getZ(t,r){let{surfaceMap:o,tabs:i,tabHeight:n}=this,s=o.getZ(t,r),a=n+o.origin.z;if(s>=a)return s;let l={x:t,y:r};for(let c of i)if(c.contains(l))return a;return s}bbox(){let t=this.surfaceMap.bbox();return t.min.x=Math.min(...this.tabs.map(r=>r.bbox.min.x),t.min.x),t.max.x=Math.max(...this.tabs.map(r=>r.bbox.max.x),t.max.x),t.min.y=Math.min(...this.tabs.map(r=>r.bbox.min.y),t.min.y),t.max.y=Math.max(...this.tabs.map(r=>r.bbox.max.y),t.max.y),t}bitmap(t){return this.surfaceMap.bitmap(t)}vectorize(t,r){return this.surfaceMap.vectorize(t,r)}},cz=class{constructor(t,r){y(this,"stroke");y(this,"outline");y(this,"bbox");let o=t.map(n=>n.start);o.push(t[t.length-1].end);let i=Qi.offsetStrokes([o],r/2,1,2);this.stroke=lr(o),this.outline=lr(i[0]),this.bbox=new U6e.Box2().setFromPoints(i[0])}contains(t){return this.bbox.containsPoint(t)?gf.pointInPolygon([this.outline],t)!=="OUTSIDE":!1}},R6e=lz;var Dft={generatePreview:function(e,t,r){let o=I6e({minX:0,maxX:t.x,minY:0,maxY:t.y},0),{design:{cutStyle:i},passes:n}=r,s=n.roughing.bitWidth/2,a=n.finishing.bitWidth/2,l=e.surfaceMap,c=l.resolution*2,u=l.bbox();u.min.z=r.isCutout()?0:Math.max(0,t.z-i.depth),u.max.z=t.z,r.isCutout()&&i.useTabs&&(l=new R6e(r,l)),Nft(o,l,u,c);let p=new fo;if(r.isCutout())p=r.roughTrace(l).expand(s);else switch(i.relief){case"Rectangle":p=fo.fromPointArrays([kf.rectangle(u,i.padding)]),p=p.contract(s).expand(s);break;case"Ellipse":p=fo.fromPointArrays([kf.ellipse(u,i.padding)]),p=p.contract(s).expand(s);break;case"Model":{let f=r.modelBoundary(e.surfaceMap);p=i.offset>=r.roughPadding()?f.boundary().expand(i.offset):f.boundary().expand(i.offset+a)}break;default:console.error("preview: invalid relief",i.relief)}let m=fo.fromPointArrays([[{x:0,y:0},{x:t.x,y:0},{x:t.x,y:t.y},{x:0,y:t.y},{x:0,y:0}]]),h=m.exclusionClosed(p);return j6e(o,h,t.z),G6e(o,h,u.min.z,t.z),u.min.z>0&&(j6e(o,m,u.min.z),G6e(o,m,0,u.min.z)),o}};function uz(e,t,r=16777215){e.addTriangles(t,{color:r,doubleSided:!0,clip:!1,texture:0})}function Nft(e,t,r,o){let i=[];for(let n=r.min.y-o;n<r.max.y+o;n+=o)for(let s=r.min.x-o;s<=r.max.x+o;s+=o){let a=[{x:s,y:n,z:Math.min(t.getZ(s,n),r.max.z)},{x:s+o,y:n+o,z:Math.min(t.getZ(s+o,n+o),r.max.z)},{x:s,y:n+o,z:Math.min(t.getZ(s,n+o),r.max.z)}],l=[{x:s,y:n,z:Math.min(t.getZ(s,n),r.max.z)},{x:s+o,y:n,z:Math.min(t.getZ(s+o,n),r.max.z)},{x:s+o,y:n+o,z:Math.min(t.getZ(s+o,n+o),r.max.z)}];(a[0].z>0||a[1].z>0||a[2].z>0)&&i.push(a),(l[0].z>0||l[1].z>0||l[2].z>0)&&i.push(l)}uz(e,i)}function j6e(e,t,r,o=16777215){let i=t.orientNested().all().map(a=>a.points),n=Qi.pathTree(i),s=[];for(;n.length>0;){let a=n.shift(),l=[];for(let c of a.children)n=n.concat(c.children),l.push(c.points);s=s.concat(V6e.triangulate(a.points,l,r))}uz(e,s,o)}function G6e(e,t,r,o){let i=[];for(let{points:n}of t.all())for(let s=0;s<n.length-1;s++){let a=n[s],l=n[s+1];i.push([{x:a.x,y:a.y,z:r},{x:a.x,y:a.y,z:o},{x:l.x,y:l.y,z:o}],[{x:a.x,y:a.y,z:r},{x:l.x,y:l.y,z:o},{x:l.x,y:l.y,z:r}])}uz(e,i)}var H6e=Dft;var Zg=M(P("react"),1);var X6e=M(P("three"),1),eo=M(P("react"),1);var ix=M(P("react"),1),Oft=function({inputId:e,checked:t,onChange:r,iconClassName:o,labelText:i}){return ix.default.createElement("div",{className:"icon-toggle-button"},ix.default.createElement("input",{id:e,type:"checkbox",checked:t,onChange:r,className:"proportion-lock"}),ix.default.createElement("label",{htmlFor:e,className:t?"btn btn-primary":"btn btn-default"},ix.default.createElement("i",{className:o})),i&&ix.default.createElement("span",{className:"icon-toggle-button__label-text",onClick:r},i))},Lh=Oft;var qg=M(P("react"),1);var pz=class extends W7{constructor(){super(vpe),this.validateVisitor()}dualTerm(){throw new Error("no dual term angles")}unitRate(){throw new Error("rates are not angles")}},Lft=new m0,Bft=new pz,{evalFunc:z6e,exprFunc:puo}=mT(Lft,Bft,fb);var Fft=(0,qg.forwardRef)((e,t)=>{let{label:r,id:o,valueUnit:i="rad",...n}=e;return qg.default.createElement(qg.default.Fragment,null,r!=null&&qg.default.createElement("label",{htmlFor:o,className:"control-label"},r),qg.default.createElement(tk,{ref:t,id:o,displayUnit:"deg",valueUnit:i,evaluator:z6e,converter:fb,formatter:Wft,...n}))}),Wft=(e,t)=>SU(fb(e,t,"deg"),1)+"\xB0",FI=Fft;var dz=class extends eo.default.Component{constructor(t){super(t),this.state={proportionLockedXY:!1,proportionLockedXYZ:!1}}setOrientation(t){let r=this.props.transform.sizeAfterOrientationChange(t);this.props.setTransform(le(this.props.transform,{orientation:t,size:r}))}setRotation(t,r){this.props.setTransform(xi(this.props.transform,["rotation",t],r))}setPosition(t,r){this.props.setTransform(xi(this.props.transform,["position",t],r))}setCenteredOnMaterial(){let t=this.getCenteredMeshPosition();H.trackEventOnce(U.threeD.centeredModel),this.props.setTransform(le(this.props.transform,{position:t}))}getCenteredMeshPosition(){let{materialSize:t,transform:r,mesh:o}=this.props,i=le(this.props.transform.position),n=o.vertices(r.matrix()).bbox,s=new X6e.Vector3;return n.getSize(s),i.x=(t.x-s.x)/2,i.y=(t.y-s.y)/2,i}setSize(t,r){if(this.state.proportionLockedXY&&t!="z"||this.state.proportionLockedXYZ){let o=le(this.props.transform.size),i=r/o[t],n=this.state.proportionLockedXYZ?["x","y","z"]:["x","y"];for(let s of n)o[s]=t===s?r:o[s]*i;this.props.setTransform(le(this.props.transform,{size:o}))}else this.props.setTransform(xi(this.props.transform,["size",t],r))}render(){let{transform:{orientation:t,size:r,position:o,rotation:i}}=this.props,{proportionLockedXY:n,proportionLockedXYZ:s}=this.state;return eo.default.createElement(eo.default.Fragment,null,eo.default.createElement("div",{className:"external-mesh-properties-group external-mesh-properties-group--col1"},eo.default.createElement("label",{htmlFor:"transform-3d-orientation"},"Orientation"),eo.default.createElement("select",{id:"transform-3d-orientation",className:"form-select",onChange:a=>this.setOrientation(a.target.value),value:t},["Top","Bottom","Left","Right","Front","Back"].map(a=>eo.default.createElement("option",{key:`orientation-${a}`,value:a},a)))),eo.default.createElement("label",null,"Position"),eo.default.createElement("div",{className:"external-mesh-properties-group external-mesh-properties-group--col3","data-type":"position-controls"},eo.default.createElement(Yt,{id:"threedee-input-field-x",value:o.x,onCommit:a=>this.setPosition("x",a),label:"X"}),eo.default.createElement(Yt,{id:"threedee-input-field-y",value:o.y,onCommit:a=>this.setPosition("y",a),label:"Y"}),eo.default.createElement(Yt,{id:"threedee-input-field-z",value:o.z,onCommit:a=>this.setPosition("z",a),label:"Z"})),eo.default.createElement("div",{className:"external-mesh-properties-group__center-to-material"},eo.default.createElement("button",{id:"position-center-on-material",type:"button",className:"btn btn-light",onClick:()=>this.setCenteredOnMaterial()},"Center to material")),eo.default.createElement("label",null,"Size"),eo.default.createElement("div",{className:"external-mesh-properties-group external-mesh-properties-group--col3","data-type":"size-controls"},eo.default.createElement("div",{className:"external-mesh-properties__row"},eo.default.createElement("div",{className:"external-mesh-properties--left"},eo.default.createElement("label",{className:"external-mesh-properties__lock-label"},"Lock XY"),eo.default.createElement(Lh,{checked:n,inputId:"size-proportion-lock-XY",iconClassName:`fa fa-chain${n?"":"-broken"}`,onChange:()=>this.setState({proportionLockedXY:!n})})),eo.default.createElement("div",{className:"external-mesh-properties__row--right"},eo.default.createElement(Yt,{id:"threedee-input-field-x",value:r.x,onCommit:a=>this.setSize("x",a),label:"X"}),eo.default.createElement(Yt,{id:"threedee-input-field-y",value:r.y,onCommit:a=>this.setSize("y",a),label:"Y"}))),eo.default.createElement("div",{className:"external-mesh-properties__row"},eo.default.createElement("div",{className:"external-mesh-properties__row--left"},eo.default.createElement("label",{htmlFor:"size-proportion-lock-XYZ",className:"external-mesh-properties__lock-label"},"Lock XYZ"),eo.default.createElement(Lh,{checked:s,inputId:"size-proportion-lock-XYZ",iconClassName:`fa fa-chain${s?"":"-broken"}`,onChange:()=>this.setState({proportionLockedXYZ:!s,proportionLockedXY:n||!s})})),eo.default.createElement("div",{className:"external-mesh-properties__row--right"},eo.default.createElement(Yt,{id:"threedee-input-field-z",value:r.z,onCommit:a=>this.setSize("z",a),label:"Z"})))),eo.default.createElement("div",{className:"external-mesh-properties-group external-mesh-properties-group--col2","data-type":"rotation-controls"},eo.default.createElement(FI,{id:"threedee-input-field-rotate",value:i.z,label:"Rotate",valueUnit:"deg",onChange:a=>this.setRotation("z",a)})))}},Vft=ne({mapStateToProps:e=>({materialSize:q.getMaterialDimensions(e)}),component:dz}),Y6e=Vft;var to=M(P("react"),1);var zl=M(P("react"),1);var $g=M(P("react"),1);var mz=class extends $g.default.Component{constructor(){super(...arguments);y(this,"iconFromPath",r=>$g.default.createElement("svg",{viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},$g.default.createElement("path",{d:r})))}render(){let{iconPath:r,label:o,active:i,onClick:n}=this.props,s;o!=null&&(s=`cut-strategy-option--${o.toLowerCase().split(" ").join("-")}__button`);let[a,l]=i?["cut-strategy-option cut-strategy-option--active","btn btn-primary"]:["cut-strategy-option","btn btn-default"];return $g.default.createElement("div",{className:a},$g.default.createElement("button",{className:l,onClick:n,id:s},this.iconFromPath(r)),o!=null&&$g.default.createElement("label",{htmlFor:s},o))}},_u=mz;var fz=class extends zl.default.Component{constructor(){super(...arguments);y(this,"setRasterX",()=>{this.props.setFillAngle(0)});y(this,"setRasterY",()=>{this.props.setFillAngle(90)});y(this,"xRasterPath",()=>"M 30,3 30,0 35,4 30,8 30,5 5,5 5,10 33,10 33,19 5,19 5,24 33,24 33,33 3,33 3,31 31,31 31,26 3,26 3,17 31,17 31,12 3,12 3,3 Z");y(this,"yRasterPath",()=>"M 5,3 5,31 10,31 10,3 19,3 19,31 24,31 24,3 33,3 33,30 36,30 32,35 28,30 31,30 31,5 26,5 26,33 17,33 17,5 12,5 12,33 3,33 3,3 Z");y(this,"rasterPath135",()=>"M27.3672 32.7227 14.293 32.7227 6.2188 24.6523 6.2188 32.7227 4.2656 32.7227 4.2656 19.9453 15.0938 30.7695 22.6602 30.7695 4.2656 12.3828 4.2656 5.8398 10.8086 5.8398 29.1953 24.2383 29.1953 16.668 18.3672 5.8398 28.913 5.841 28.913 7.807 23.0742 7.793 31.1484 15.8672 31.1484 28.9336 10 7.793 6.2188 7.793 6.2188 11.5742ZM27.3672 32.7227M28.8984 3.2773 28.8984 10.4766 33.3984 6.875ZM28.8984 3.2773");y(this,"rasterPath45",()=>"M6.5078 17.0625 6.5078 24.2813 25.0742 5.7148 31.4375 5.7148 31.4375 12.0781 12.8711 30.6445 20.0898 30.6445 31.4375 19.2969 31.4375 32.5898 29.4922 32.5898 29.4922 24.0039 20.8984 32.5898 8.1719 32.5898 29.4922 11.2695 29.4922 7.668 25.8828 7.668 4.5625 28.9805 4.5625 16.2539 14.945 5.862 16.34 7.268M13.1133 4.0391 18.207 9.1367 18.8359 3.4102ZM13.1133 4.0391")}render(){return zl.default.createElement("div",{className:"fill-strategy"},zl.default.createElement("h5",{className:"fill-strategy__header"},"Finishing Toolpaths",zl.default.createElement(rn,{className:"ms-1",placement:"top",popoverContent:zl.default.createElement("div",null,"Align raster direction with the wood grain to hide tool marks and leave a smoother surface.",zl.default.createElement("p",null,"Learn more on our ",zl.default.createElement("a",{href:"https://easel.com/features/raster-fill",target:"_blank",rel:"noreferrer"},"Raster overview page"),"."))})),zl.default.createElement("div",{className:"fill-strategy__option-groups"},zl.default.createElement("div",{className:"fill-strategy__option-group fill-strategy__option-group--raster"},zl.default.createElement("div",{className:"fill-strategy__options"},zl.default.createElement(_u,{iconPath:this.xRasterPath(),label:"X axis",active:this.props.fillAngle===0,onClick:this.setRasterX}),zl.default.createElement(_u,{iconPath:this.rasterPath45(),label:"45\xB0",active:this.props.fillAngle===45,onClick:()=>this.props.setFillAngle(45)}),zl.default.createElement(_u,{iconPath:this.yRasterPath(),label:"Y axis",active:this.props.fillAngle===90,onClick:this.setRasterY}),zl.default.createElement(_u,{iconPath:this.rasterPath135(),label:"135\xB0",active:this.props.fillAngle===135,onClick:()=>this.props.setFillAngle(135)})))))}},q6e=fz;var hz=class extends to.default.Component{constructor(){super(...arguments);y(this,"inputControl",(r,o,i)=>{let{cutStyle:n,setCutStyle:s}=this.props,a=R$(n,o);return a==null&&(a=i),to.default.createElement(Yt,{variant:"decimal-long",id:`threedee-input-field-${o}`,value:a,label:r,onCommit:l=>s(o,Math.max(l,0))})});y(this,"minPadding",()=>{let{roughing:r,finishing:o}=this.props;return r.bitWidth+o.bitWidth/2+o.bitWidth*o.stepOver/2*2})}render(){let{cutStyle:r,setCutStyle:o,finishing:i,setRasterAngle:n}=this.props,s=r.relief||"None",{left:a,right:l,back:c,front:u}=r.padding,p=Math.min(a||0,l||0,c||0,u||0);return to.default.createElement(to.default.Fragment,null,to.default.createElement("div",{className:"external-mesh-properties-group external-mesh-properties-group--col1"},to.default.createElement("select",{id:"cut-style-3d-relief",className:"form-select",onChange:m=>o("relief",m.target.value),value:s},[["None","Full Depth Cutout"],["Rectangle","Rectangle Relief"],["Model","Model Boundary Relief"]].map(([m,h])=>to.default.createElement("option",{key:`relief-${m}`,value:m},h)))),s==="None"&&to.default.createElement(to.default.Fragment,null,to.default.createElement("div",{className:"external-mesh-properties-group"},to.default.createElement("input",{id:"cut-style-use-tabs",type:"checkbox",checked:r.useTabs,onChange:m=>o("useTabs",m.target.checked)}),to.default.createElement("label",{htmlFor:"cut-style-use-tabs"},"Use Tabs"),r.useTabs&&to.default.createElement(oe,{id:"cut-style-edit-tabs",onClick:()=>J.emit("show-tabs-editor")},"Edit"))),s!=="None"&&to.default.createElement(to.default.Fragment,null,to.default.createElement("div",{className:"external-mesh-properties-group external-mesh-properties-group--col1"},this.inputControl("Cut Depth","depth"))),(s==="Rectangle"||s==="Ellipse")&&to.default.createElement(to.default.Fragment,null,to.default.createElement("hr",null),to.default.createElement("label",null,"Padding",p<=this.minPadding()&&to.default.createElement(je,{id:"3d-relief-padding-warning",tooltipContent:"Relief padding may be too small. A full bit width of clearance is need on all sides for proper toolpath generation"},to.default.createElement("i",{className:"bi bi-exclamation-triangle-fill",style:{color:"gold",paddingLeft:10}}))),to.default.createElement("div",{className:"external-mesh-properties-group external-mesh-properties-group--col1"},this.inputControl("Back","padding.back",0)),to.default.createElement("div",{className:"external-mesh-properties-group external-mesh-properties-group--col2"},this.inputControl("Left","padding.left",0),this.inputControl("Right","padding.right",0)),to.default.createElement("div",{className:"external-mesh-properties-group external-mesh-properties-group--col1"},this.inputControl("Front","padding.front",0))),s==="Model"&&to.default.createElement(to.default.Fragment,null,to.default.createElement("div",{className:"external-mesh-properties-group external-mesh-properties-group--col1"},this.inputControl("Padding","offset",0))),to.default.createElement("hr",null),to.default.createElement("div",null,to.default.createElement(q6e,{fillAngle:i.rasterAngle,setFillAngle:m=>n(m)})))}},$6e=hz;var Uft=({material:e,cutStyle:t,transform3D:r,mesh3D:o,roughing:i,finishing:n,transformError:s,cutDepthError:a,onSetCutStyle:l,onSetRasterAngle:c,onSetTransform:u})=>Zg.default.createElement(Zg.default.Fragment,null,Zg.default.createElement(Ol,{error:s,title:"Model",defaultOpen:!0},Zg.default.createElement(Y6e,{mesh:o,setTransform:u,transform:r})),Zg.default.createElement(Ol,{error:a,title:"Cut Style"},Zg.default.createElement($6e,{setCutStyle:l,setRasterAngle:c,cutStyle:t,material:e,roughing:i,finishing:n}))),Z6e=Uft;var nx=M(P("react"),1),VI=P("react-redux"),WI=P("react-bootstrap");var Rft="https://support.easel.com/hc/en-us/articles/35388639766163-File-Import-Guide#h_01J4VW8M826M1J5N57P4Q831SX";function gz(){let e=(0,VI.useSelector)(Ue.isOptimizedToastVisible),t=(0,VI.useDispatch)();return nx.default.createElement(WI.Toast,{show:e,onClose:()=>t(W.actions.setThreeDOptimizedToastVisible(!1))},nx.default.createElement(WI.Toast.Header,null,nx.default.createElement("strong",{className:"me-auto"},"Mesh Optimized")),nx.default.createElement(WI.Toast.Body,null,"The uploaded mesh was over 100 MB and automatically optimized. See our ",nx.default.createElement("a",{href:Rft,target:"_blank",rel:"noopener"},"STL Guide")," for more details."))}var Qm=M(P("react"),1),yz=P("react-bootstrap"),UI=P("react-redux"),jft=()=>{let e=(0,UI.useDispatch)(),t=(0,UI.useSelector)(qa.getWebGLNotification);if(!t)return null;let r=()=>{e(qa.actions.acknowledgeWebGLNotification())};return Qm.default.createElement(yz.Toast,{onClose:r,className:"border-warning",style:{cursor:"auto",pointerEvents:"auto"}},Qm.default.createElement(yz.Toast.Body,{className:"px-3 fs-6 d-flex gap-3"},Qm.default.createElement("i",{className:"bi bi-exclamation-triangle-fill text-warning"}),Qm.default.createElement("div",{className:"d-flex flex-column gap-2 align-items-start"},Qm.default.createElement("div",{className:"d-flex flex-column gap-1"},Qm.default.createElement("b",null,t.title),Qm.default.createElement("span",null,t.message)),Qm.default.createElement("a",{type:"button",className:"btn btn-sm btn-default",href:"https://support.easel.com/hc/en-us/articles/360012725734-What-are-Easel-s-System-Requirements",target:"_blank",rel:"noopener"},"System requirements")),Qm.default.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:r})))},RI=jft;var J6e=M(P("react"),1),Gft=({children:e,className:t="",...r})=>{let o="position-absolute w-100 pe-none d-flex flex-column align-items-center gap-3",i=t?`${t} ${o}`:o;return J6e.default.createElement("div",{className:i,...r},e)},jI=Gft;var Hft=300,K6e={thinMaterial:"Material Z is less than Model Z. Some areas of the model will not be carved.",shallowCutDepth:"Cut depth is above Model Z. Toolpaths cannot be generated, and nothing will be carved."},HI=class extends ti.default.Component{constructor(){super(...arguments);y(this,"getState",r=>({mesh:H3.load(r),gcodePass:null,gcodeSelection:"roughing",isLoadingToolpaths:!1,isLoadingPreview:!1,showDiagram:!1,previewVisible:!1,transformError:null,materialError:null,cutDepthError:null}));y(this,"generateWorkpiece3D",()=>{let{material:r,cutStyle:o,transform:i,roughing:n,finishing:s,tabsInfo:a}=this.props,{mesh:l}=this.state,c=WM.load({material:r,design:{cutStyle:o,model:{},tabsInfo:a},passes:{roughing:n,finishing:s}});return c.design.model=new FM(l,new Vp(l.bbox(),i)),c});y(this,"generatePreview",(r,o)=>{let{material:i}=this.props;this.setState({isLoadingPreview:!0}),setTimeout(()=>{console.time("3d-preview");let s=H6e.generatePreview(r,i,o).toSerialForm();console.timeEnd("3d-preview"),s.meshes.length!==0?this.props.setPreview(s):this.props.setPreview(null),this.setState({previewVisible:s.meshes.length!==0,isLoadingPreview:!1})},1e3)});y(this,"generateToolpaths",r=>{let o=this.generateWorkpiece3D();this.setState({isLoadingToolpaths:!0,workpiece:o,toolpaths:null});let i=performance.now(),n=`${this.props.projectLinkToken}-${this.props.activeWorkpieceId}-${Date.now()}`;H.trackEvent(U.threeD.generateToolpathsStart,{"Unique Id":n}),console.time("3d-toolpaths"),R0.generateFromWorkpiece(o,"all").then(s=>{let{roughingPass:a,finishingPass:l,toolpaths:c}=s;this.setState({toolpaths:c,gcodePass:r=="roughing"?a:l}),J.emit("hide-alert");let u=this.carveGuesstimates(),p={Duration:performance.now()-i,"Unique Id":n,"Roughing Toolpath Estimate (minutes)":a.timeEstimate,"Finishing Toolpath Estimate (minutes)":l.timeEstimate};u!=null&&(p["Roughing Carve Guesstimate (minutes)"]=u.roughingGuess,p["Finishing Carve Guesstimate (minutes)"]=u.finishingGuess),H.trackEvent(U.threeD.generateToolpathsEnd,p)}).catch(s=>{J.emit("hide-alert");let a={"Unique Id":n,Duration:performance.now()-i};s.message==="canceled"?H.trackEvent(U.threeD.generateToolpathsCancel,a):(console.error(s),A6e(s),a.message=s.toString(),a.stack=s.stack,H.trackEvent(U.threeD.generateToolpathsError,a))}).finally(()=>{this.setState({isLoadingToolpaths:!1}),console.timeEnd("3d-toolpaths")})});y(this,"updateToolpaths",()=>{let{gcodePass:r,gcodeSelection:o}=this.state,{gcodePasses:i}=this.props;if(r==null)this.validateAndGenerateToolpaths(o);else{let n=o==="roughing"?"detail":"roughing",s=i.find(a=>n===a.jobSettings.passType);this.setState({gcodePass:s,gcodeSelection:n}),this.props.setWalkthroughPass(n)}});y(this,"validateAndGenerateToolpaths",r=>{let o=[],i;this.props.roughing.bitWidth<.125&&(i=`${Ve.convertFromIn(.125,this.props.unit)}${this.props.unit}`,o.push(`Roughing bit diameter less than ${i}`)),this.props.finishing.bitWidth<.0625&&(i=`${Ve.convertFromIn(.0625,this.props.unit)}${this.props.unit}`,o.push(`Finishing bit diameter less than ${i}`)),this.props.roughing.stepOver<.3&&o.push("Roughing step over less than 30%"),this.props.roughing.dpp<.1&&(i=`${Ve.convertFromIn(.1,this.props.unit)}${this.props.unit}`,o.push(`Roughing depth per pass less than ${i}`)),this.props.finishing.stepOver<.05&&o.push("Finishing step over less than 5%"),this.props.transform.size.x*this.props.transform.size.y>144&&(i=`${Ve.convertFromIn(12,this.props.unit)}${this.props.unit}`,o.push(`Model size greater than ${i} x ${i}`)),o.length>0?Fe("Warning!","The following settings can cause slow toolpath generation and very long carve times:",[{text:"Cancel"},{text:"Continue Anyway",action:()=>this.generateToolpaths(r)}],`<ul>${o.map(s=>`<li>${s}</li>`).join("")}</ul>`):this.generateToolpaths(r)});y(this,"validateZValues",r=>{let{transform:o,material:i,cutStyle:n}=this.props;i.z<o.size.z?(r==="transform"||r==="material")&&this.setState({transformError:K6e.thinMaterial}):this.setState({transformError:null,materialError:null}),i.z-n.depth>o.size.z?this.setState({cutDepthError:K6e.shallowCutDepth}):this.setState({cutDepthError:null})});y(this,"setCutStyle",(r,o)=>{this.props.setCutStyle(U$(this.props.cutStyle,r,o))});y(this,"setFinishingRasterAngle",r=>{this.props.setFillAngle(Vo.bitKeys.detailBit,r)});y(this,"setPreviewVisible",r=>{r&&this.props.preview==null?this.generatePreview(this.state.toolpaths,this.state.workpiece):this.setState({previewVisible:r})});y(this,"getLoadingModal",()=>{let{isLoadingToolpaths:r,isLoadingPreview:o}=this.state;if(r)return ti.default.createElement(Ng,{size:25,title:"Generating toolpaths...",color:"primary",onCancel:Qs.terminate});if(o)return ti.default.createElement(Ng,{size:25,title:"Generating preview...",color:"primary"})});y(this,"carveGuesstimates",()=>{let{guesstimateGrid:r,material:o,cutStyle:i,transform:n,roughing:s,finishing:a}=this.props;return r==null?null:{roughingGuess:i2.roughingDuration(r,s,o,n,i),finishingGuess:i2.finishingDuration(r,a,o,n,i)}});y(this,"realTimeCarveEstimate",()=>{let r=this.carveGuesstimates();return r==null?null:ti.default.createElement("div",{className:"toolpaths-3d-real-time-estimate"},ti.default.createElement("div",{className:"toolpaths-3d-real-time-estimate__estimate-label"},"ESTIMATE ",ti.default.createElement("i",{className:"bi bi-clock"})),ti.default.createElement("div",{className:"toolpaths-3d-real-time-estimate__estimate toolpaths-3d-real-time-estimate__estimate--roughing"},"Roughing: ",ti.default.createElement("div",{className:"toolpaths-3d-real-time-estimate__estimate__value"},fa.approximateDuration(r.roughingGuess))),ti.default.createElement("div",{className:"toolpaths-3d-real-time-estimate__estimate"},"Finishing: ",ti.default.createElement("div",{className:"toolpaths-3d-real-time-estimate__estimate__value"},fa.approximateDuration(r.finishingGuess))))});y(this,"state",this.getState(this.props.jsonMesh))}componentDidMount(){this.validateZValues("transform")}componentDidUpdate(r){if(!_r(r.jsonMesh,this.props.jsonMesh))this.state.mesh!==null&&this.state.mesh.dispose(),this.setState(this.getState(this.props.jsonMesh)),this.validateZValues("transform");else for(let o of["material","cutStyle","transform","roughing","finishing"])if(!_r(this.props[o],r[o])){(o==="material"||o==="transform"||o==="cutStyle")&&this.validateZValues(o),this.setState({gcodePass:null});break}this.props.preview==null&&this.state.previewVisible&&this.setState({previewVisible:!1})}render(){let{mesh:r,gcodePass:o,gcodeSelection:i,previewVisible:n,cutDepthError:s,transformError:a}=this.state,{preview:l,material:c,cutStyle:u,transform:p,gcodePasses:m,setTransform:h,finish:f}=this.props;if(r==null)return null;let x;o!=null&&(x=o.jobSettings.passType==="detail"?this.props.finishing.bitWidth:this.props.roughing.bitWidth);let v=new Vp(r.bbox(),p);return ti.default.createElement(ti.default.Fragment,null,ti.default.createElement("div",{className:"external-mesh-container"},ti.default.createElement(EI,null),this.getLoadingModal(),ti.default.createElement(M6e,{mesh:r,preview:l,previewVisible:n,material:c,finish:f,transform:v.matrix(),cutStyle:u,gcode:o!=null?o.gcode:null,panelWidth:this.props.panelWidth,panelHeight:this.props.panelHeight,bitWidth:x},o!=null&&ti.default.createElement(ti.default.Fragment,null,ti.default.createElement(_A,{gcodePasses:[o]}),ti.default.createElement("button",{className:"btn btn-primary",onClick:()=>this.setPreviewVisible(!n)},n?"Hide Preview":"Show Preview"))),!n&&ti.default.createElement("div",{className:"external-mesh-properties",style:{width:Hft}},ti.default.createElement(Z6e,{cutStyle:u,material:c,transform3D:v,mesh3D:r,gcodePasses:m,roughing:this.props.roughing,finishing:this.props.finishing,cutDepthError:s,transformError:a,onSetCutStyle:this.setCutStyle,onSetRasterAngle:this.setFinishingRasterAngle,onSetTransform:h})),o==null&&this.realTimeCarveEstimate(),ti.default.createElement("div",{className:"toolpaths-3d-buttons"},ti.default.createElement(oe,{className:"btn btn-default",onClick:this.updateToolpaths},o==null?"Generate toolpaths":i==="roughing"?"Show Finishing":"Show Roughing")),ti.default.createElement(jI,{style:{top:"60px"}},ti.default.createElement(RI,null),ti.default.createElement(gz,null))))}};y(HI,"propTypes",{panelWidth:GI.default.number.isRequired,panelHeight:GI.default.number.isRequired,jsonMesh:GI.default.object});var zft=ne({mapStateToProps:e=>{let t=ga(Vo.bitKeys.bit,e).getSettings(),r=ga(Vo.bitKeys.detailBit,e).getSettings(),o={stepOver:Ge.getStepOver(e),feed:t.feedRate,plunge:t.plungeRate,dpp:t.depthPerPass,bitWidth:rt(re.bit(e)).inchWidth()},i=re.detailBitEnabled(e)||Ue.isThreeD(e)?rt(re.detailBit(e)).inchWidth():null,n={stepOver:Ge.getBallnoseStepOver(e),feed:r.feedRate,plunge:r.plungeRate,bitWidth:i,rasterAngle:Ge.getFillAngle(e,Vo.bitKeys.detailBit)||0};return{jsonMesh:Ue.getMesh(e),material:{...q.getMaterialDimensions(e),safez:Ge.getSafetyHeight(e)},finish:Ue.getFinish(e),cutStyle:Ue.getCutStyle(e),roughing:o,finishing:n,transform:Ue.getTransform(e),gcodePasses:W.getGcodePasses(e),machineType:Y.getMachineType(e),preview:Ue.getPreview(e),unit:Me.getPreferredUnit(e),guesstimateGrid:Ue.getGuesstimateGrid(e),tabsInfo:Ue.getTabsInfo(e),projectLinkToken:ge.getProjectLinkToken(e),activeWorkpieceId:W.getActiveId(e)}},mapDispatchToProps:e=>({setCutStyle:t=>e(W.actions.setThreeDCutStyle(t)),setTransform:t=>e(W.actions.setThreeDTransform(t)),setPreview:t=>e(W.actions.setThreeDPreview(t)),setWalkthroughPass:t=>e(W.actions.setPassType(t)),setFillAngle:(t,r)=>e(W.actions.setFillAngle(t,r))}),component:HI}),Q6e=zft;var Ic=M(P("react"),1);var sl=M(P("react"),1);var XI=P("react-bootstrap"),Po=M(P("react"),1),exe=P("react-redux");var xz=M(P("prop-types"),1),gv=M(P("react"),1);var zI=class extends gv.default.Component{render(){return this.props.layers!=null?gv.default.createElement("div",{className:"material-thumbnail-icon__color"},this.props.layers.map(({rgb:t},r)=>gv.default.createElement("div",{key:`color[${r}]`,style:{backgroundColor:`rgb(${t.join(", ")})`}}))):gv.default.createElement(DE,{className:"material-thumbnail-icon__img",src:this.props.thumbnailUrl})}};y(zI,"propTypes",{thumbnailUrl:xz.default.string,layers:xz.default.array});var sx=zI;var Xft={setLayerDepths:W.actions.setLayerDepths},Yft=(0,exe.connect)(null,Xft),bz=class extends Po.default.Component{constructor(){super(...arguments);y(this,"updateTopThickness",(r,o,i)=>{let n=this.props.materialDepth,s=Fg.thicknessToDepths(n,this.props.layers.map(l=>l.relativeTo),Number(i)),a=[];for(let l=0;l<s.length;l++){let c=s[l],{relativeTo:u}=this.props.layers[l];a.push({bottomZ:c,relativeTo:u})}Fg.validate(n,a)&&this.props.setLayerDepths(s)});y(this,"layerCountClassName",()=>this.props.layers.length===2?"two-layer":"three-layer");y(this,"explanationText",()=>{let r=this.props.layers.length===2;return`Input ${r?"upper":"outer"} layer thickness, and the ${r?"lower":"inner"} layer will auto populate based on the total thickness previously entered.`})}render(){return Po.default.createElement("div",{className:"layer-thickness"},Po.default.createElement(XI.Card,null,Po.default.createElement(XI.Card.Header,null,"Set layer thickness"),Po.default.createElement(XI.Card.Body,{className:"layer-thickness-body"},Po.default.createElement("div",{className:"layer-thickness__explanation"},Po.default.createElement("i",{className:"bi bi-question-circle-fill"}),Po.default.createElement("div",{className:"layer-thickness__explanation-text"},this.explanationText())),Po.default.createElement("div",{className:"layer-thickness__diagram"},Po.default.createElement("div",{className:"left-pointers"},Po.default.createElement("div",{className:this.layerCountClassName()},Po.default.createElement("div",{className:"middle-layer-label"},"B"),Po.default.createElement("div",{className:"middle-layer-pointer pointer-arrow"}))),Po.default.createElement("div",{className:"layer-thickness__color-diagram"},Po.default.createElement(sx,{layers:this.props.layers})),Po.default.createElement("div",{className:"right-pointers"},Po.default.createElement("div",{className:`upper-layer ${this.layerCountClassName()}`},Po.default.createElement("div",{className:"upper-layer-pointer pointer-arrow"}),Po.default.createElement("div",{className:"upper-layer-label"},"A")),this.props.layers.length===3?Po.default.createElement("div",{className:"lower-layer"},Po.default.createElement("div",{className:"lower-layer-pointer pointer-arrow"}),Po.default.createElement("div",{className:"lower-layer-label"},"A")):void 0)),Po.default.createElement("div",null,Po.default.createElement("div",{className:"layer-thickness__input"},Po.default.createElement("label",null,"A"),Po.default.createElement(Eo,{value:Fg.outerLayerThickness(this.props.materialDepth,this.props.layers),id:"upper-layer-thickness-input",unit:"in",displayUnit:this.props.displayUnit,showUnit:!0,precision:Ve.defaultPrecision[this.props.displayUnit],onChange:this.updateTopThickness})),Po.default.createElement("div",{className:"layer-thickness__input"},Po.default.createElement("label",null,"B"),Po.default.createElement(Eo,{value:Fg.innerLayerThickness(this.props.materialDepth,this.props.layers),id:"lower-layer-thickness-input",unit:"in",displayUnit:this.props.displayUnit,showUnit:!0,precision:Ve.defaultPrecision[this.props.displayUnit],readonly:!0}))))))}},qft=Yft(bz),txe=qft;var gi=M(P("react"),1);var cx=M(P("prop-types"),1),Bh=M(P("react"),1);var rxe=M(P("prop-types"),1),ax=M(P("react"),1);var YI=class extends ax.default.Component{constructor(){super(...arguments);y(this,"topLayerColor",()=>{let r=this.props.colors[0];return`rgb(${r[0]},${r[1]},${r[2]})`});y(this,"bottomLayerColor",()=>{let r=this.props.colors[1];return`rgb(${r[0]},${r[1]},${r[2]})`})}render(){return ax.default.createElement("svg",{width:"80px",height:"40px",viewBox:"0 0 80 40",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},ax.default.createElement("g",{stroke:"#bbb",strokeLinejoin:"round",strokeWidth:"0.5"},ax.default.createElement("path",{fill:this.bottomLayerColor(),d:"M 1,18 40,35 79,18 79,22 40,39 1,22 Z"}),ax.default.createElement("path",{fill:this.topLayerColor(),d:"M 1,18 40,1 79,18 40,35 Z"})))}};y(YI,"propTypes",{colors:rxe.default.array.isRequired});var oxe=YI;var ixe=M(P("prop-types"),1),lx=M(P("react"),1);var qI=class extends lx.default.Component{constructor(){super(...arguments);y(this,"color",()=>{let r=this.props.colors[0];return`rgb(${r[0]},${r[1]},${r[2]})`})}render(){return lx.default.createElement("svg",{width:"80px",height:"40px",viewBox:"0 0 80 40",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},lx.default.createElement("g",{stroke:"#bbb",strokeLinejoin:"round",strokeWidth:"0.5"},lx.default.createElement("path",{fill:this.color(),d:"M 1,18 40,35 79,18 79,22 40,39 1,22 Z"}),lx.default.createElement("path",{fill:this.color(),d:"M 1,18 40,1 79,18 40,35 Z"})))}};y(qI,"propTypes",{colors:ixe.default.array.isRequired});var nxe=qI;var sxe=M(P("prop-types"),1),Jg=M(P("react"),1);var $I=class extends Jg.default.Component{constructor(){super(...arguments);y(this,"outerLayerColor",()=>{let r=this.props.colors[0];return`rgb(${r[0]},${r[1]},${r[2]})`});y(this,"innerLayerColor",()=>{let r=this.props.colors[1];return`rgb(${r[0]},${r[1]},${r[2]})`})}render(){return Jg.default.createElement("svg",{width:"80px",height:"40px",viewBox:"0 0 80 40",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},Jg.default.createElement("g",{stroke:"#bbb",strokeLinejoin:"round",strokeWidth:"0.5"},Jg.default.createElement("path",{fill:this.outerLayerColor(),d:"M 1,16 40,1 79,16 79,24 40,39 1,24 Z"}),Jg.default.createElement("path",{fill:this.innerLayerColor(),d:"M 1,18 40,33 79,18 79,22 40,37 1,22 Z",stroke:"none"}),Jg.default.createElement("path",{fill:"none",d:"M 1,16 40,31 79,16 79,24 40,39 1,24 Z"})))}};y($I,"propTypes",{colors:sxe.default.array.isRequired});var vz=$I;var $ft=e=>({"2-Color Acrylic":oxe,"2-Color HDPE":vz,"2-Color HDPE White":vz,"Single Color":nxe})[e],axe=$ft;var ZI=class extends Bh.default.Component{constructor(){super(...arguments);y(this,"thumbnail",()=>{if(this.props.thumbnailName){let r=axe(this.props.thumbnailName);return Bh.default.createElement(r,{colors:this.props.layerColors})}else return Bh.default.createElement("img",{className:"material-color-thumbnail__img",src:this.props.thumbnailUrl})})}render(){let r=`material-color-${this.props.name.toLowerCase().replace(new RegExp(" ","g"),"-")}`,o="material-color-thumbnail";return this.props.active&&(o+=" material-color-thumbnail--active"),Bh.default.createElement("li",{id:r,className:o},Bh.default.createElement(oe,{className:"material-color-thumbnail__content",onClick:this.props.onClick},this.thumbnail(),Bh.default.createElement("span",{className:"material-color-thumbnail__name"},this.props.name)),Bh.default.createElement("a",{target:"_blank",rel:"noreferrer",className:"material-color-thumbnail__badge",href:this.props.storeUrl},Bh.default.createElement("i",{className:"bi bi-cart3"})))}};y(ZI,"propTypes",{name:cx.default.string.isRequired,thumbnailUrl:cx.default.string,thumbnailName:cx.default.string,onClick:cx.default.func,layerColors:cx.default.array});var lxe=ZI;var Kg=M(P("prop-types"),1),Fh=M(P("react"),1);function cxe({active:e,dimensions:t,name:r,storeUrl:o,thumbnailUrl:i,onClick:n}){return Fh.default.createElement("li",{id:`material-${r.toLowerCase().replace(" ","-")}`,className:`material-thumbnail ${e&&" material-thumbnail--active"}`},Fh.default.createElement("div",{className:"material-thumbnail__content",onClick:n},Fh.default.createElement("div",null,Fh.default.createElement(sx,{thumbnailUrl:i}),Fh.default.createElement("span",{className:"material-thumbnail__name"},vr.truncate(r,40))),t!=null&&Fh.default.createElement("span",{className:"material-thumbnail__dimensions"},t),o!=null&&Fh.default.createElement("a",{target:"_blank",rel:"noreferrer",className:"material-thumbnail__badge",href:o},Fh.default.createElement("i",{className:"bi bi-cart3 material-thumbnail__badge__icon"}))))}cxe.propTypes={name:Kg.default.string.isRequired,dimensions:Kg.default.string,storeUrl:Kg.default.string,thumbnailUrl:Kg.default.string.isRequired,onClick:Kg.default.func,unit:Kg.default.string};var uxe=cxe;var Ne=(e,t,r)=>({r:e,g:t,b:r}),pxe=[{displayName:"Pure White",color:Ne(255,255,255)},{displayName:"Off-White",color:Ne(252,252,252)},{displayName:"Soft White",color:Ne(254,253,251)},{displayName:"Cool White",color:Ne(251,252,254)},{displayName:"Eggshell",color:Ne(252,250,246)},{displayName:"Snow White",color:Ne(247,247,247)},{displayName:"Mist Gray",color:Ne(240,240,240)},{displayName:"Ivory",color:Ne(248,245,239)},{displayName:"Antique White",color:Ne(244,239,230)},{displayName:"Morning Frost",color:Ne(230,235,244)},{displayName:"Pale Blue",color:Ne(246,248,252)},{displayName:"Icy Blue",color:Ne(239,242,248)},{displayName:"Light Greige",color:Ne(227,221,215)},{displayName:"Pale Taupe",color:Ne(221,207,201)},{displayName:"Light Gray",color:Ne(187,187,187)},{displayName:"Medium Gray",color:Ne(153,153,153)},{displayName:"Charcoal",color:Ne(119,119,119)},{displayName:"Dark Gray",color:Ne(85,85,85)},{displayName:"Warm Beige",color:Ne(204,170,119)},{displayName:"Golden Oak",color:Ne(204,153,85)},{displayName:"Caramel",color:Ne(153,119,68)},{displayName:"Rustic Brown",color:Ne(153,102,34)},{displayName:"Chocolate Brown",color:Ne(119,85,34)},{displayName:"Dark Walnut",color:Ne(85,53,17)},{displayName:"Dusty Rose",color:Ne(196,172,160)},{displayName:"Warm Gray",color:Ne(198,187,176)},{displayName:"Taupe",color:Ne(170,136,119)},{displayName:"Coffee",color:Ne(129,103,90)},{displayName:"Umber",color:Ne(102,85,68)},{displayName:"Sage Green",color:Ne(193,209,193)},{displayName:"Mint Green",color:Ne(156,181,156)},{displayName:"Moss Green",color:Ne(119,153,119)},{displayName:"Forest Green",color:Ne(88,113,88)},{displayName:"Powder Blue",color:Ne(174,190,214)},{displayName:"Periwinkle Blue",color:Ne(182,190,206)},{displayName:"Steel Blue",color:Ne(129,154,192)},{displayName:"Slate Blue",color:Ne(142,154,180)},{displayName:"Denim Blue",color:Ne(85,119,170)},{displayName:"Dusty Blue",color:Ne(102,119,153)},{displayName:"Navy Blue",color:Ne(62,87,124)},{displayName:"Stormy Blue",color:Ne(74,87,111)},{displayName:"Khaki",color:Ne(153,136,102)},{displayName:"Mushroom",color:Ne(170,153,136)},{displayName:"Stone",color:Ne(132,119,106)}],udo=[{displayName:"Black",color:Ne(17,17,17)},{displayName:"Bronze",color:Ne(74,54,26)},{displayName:"Nickel",color:Ne(158,164,168)},{displayName:"Chrome",color:Ne(186,182,170)},{displayName:"Gold",color:Ne(179,141,46)},{displayName:"White",color:Ne(254,253,251)}],Sz=[{displayName:"Black",color:Ne(34,34,34)},{displayName:"Dark Gray",color:Ne(85,85,85)},{displayName:"Charcoal",color:Ne(119,119,119)},{displayName:"Medium Gray",color:Ne(153,153,153)},{displayName:"Light Gray",color:Ne(187,187,187)},{displayName:"Silver",color:Ne(204,204,204)},{displayName:"Light Silver",color:Ne(221,221,221)},{displayName:"Off White",color:Ne(238,238,238)},{displayName:"White",color:Ne(255,255,255)},{displayName:"Light Red",color:Ne(255,191,191)},{displayName:"Light Orange",color:Ne(255,228,191)},{displayName:"Light Yellow",color:Ne(255,250,191)},{displayName:"Light Green",color:Ne(191,255,191)},{displayName:"Light Cyan",color:Ne(191,255,255)},{displayName:"Light Sky Blue",color:Ne(191,228,255)},{displayName:"Light Blue",color:Ne(191,191,255)},{displayName:"Light Purple",color:Ne(223,191,255)},{displayName:"Light Pink",color:Ne(255,191,255)},{displayName:"Salmon",color:Ne(249,134,134)},{displayName:"Light Coral",color:Ne(249,201,134)},{displayName:"Pale Yellow",color:Ne(249,239,134)},{displayName:"Lime Green",color:Ne(134,249,134)},{displayName:"Aqua",color:Ne(134,249,249)},{displayName:"Sky Blue",color:Ne(134,201,249)},{displayName:"Royal Blue",color:Ne(134,134,249)},{displayName:"Medium Purple",color:Ne(191,134,249)},{displayName:"Hot Pink",color:Ne(249,134,249)},{displayName:"Red",color:Ne(230,25,25)},{displayName:"Orange",color:Ne(230,145,25)},{displayName:"Yellow",color:Ne(230,213,25)},{displayName:"Green",color:Ne(25,230,25)},{displayName:"Cyan",color:Ne(25,229,230)},{displayName:"Blue",color:Ne(25,145,230)},{displayName:"Deep Blue",color:Ne(25,25,230)},{displayName:"Purple",color:Ne(127,25,230)},{displayName:"Magenta",color:Ne(230,25,229)},{displayName:"Dark Red",color:Ne(162,8,8)},{displayName:"Dark Orange",color:Ne(162,98,8)},{displayName:"Dark Yellow",color:Ne(162,149,8)},{displayName:"Dark Green",color:Ne(8,162,8)},{displayName:"Dark Cyan",color:Ne(8,161,162)},{displayName:"Dark Blue",color:Ne(8,98,162)},{displayName:"Navy",color:Ne(8,8,162)},{displayName:"Dark Purple",color:Ne(85,8,162)},{displayName:"Dark Magenta",color:Ne(162,8,161)},{displayName:"Maroon",color:Ne(85,0,0)},{displayName:"Brown",color:Ne(85,50,0)},{displayName:"Olive",color:Ne(85,78,0)},{displayName:"Forest",color:Ne(0,85,0)},{displayName:"Teal",color:Ne(0,85,85)},{displayName:"Navy Blue",color:Ne(0,50,85)},{displayName:"Midnight Blue",color:Ne(0,0,85)},{displayName:"Deep Purple",color:Ne(42,0,85)},{displayName:"Deep Magenta",color:Ne(85,0,85)}];var dn=M(P("react"),1),Qg=P("react-bootstrap");var $t=M(P("react"),1);function ux(){return(ux=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function KI(e,t){if(e==null)return{};var r,o,i={},n=Object.keys(e);for(o=0;o<n.length;o++)t.indexOf(r=n[o])>=0||(i[r]=e[r]);return i}function xv(e){var t=(0,$t.useRef)(e),r=(0,$t.useRef)(function(o){t.current&&t.current(o)});return t.current=e,r.current}var bv=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e<t?t:e},yv=function(e){return"touches"in e},Cz=function(e){return e&&e.ownerDocument.defaultView||self},dxe=function(e,t,r){var o=e.getBoundingClientRect(),i=yv(t)?function(n,s){for(var a=0;a<n.length;a++)if(n[a].identifier===s)return n[a];return n[0]}(t.touches,r):t;return{left:bv((i.pageX-(o.left+Cz(e).pageXOffset))/o.width),top:bv((i.pageY-(o.top+Cz(e).pageYOffset))/o.height)}},mxe=function(e){!yv(e)&&e.preventDefault()},gxe=$t.default.memo(function(e){var t=e.onMove,r=e.onKey,o=KI(e,["onMove","onKey"]),i=(0,$t.useRef)(null),n=xv(t),s=xv(r),a=(0,$t.useRef)(null),l=(0,$t.useRef)(!1),c=(0,$t.useMemo)(function(){var h=function(v){mxe(v),(yv(v)?v.touches.length>0:v.buttons>0)&&i.current?n(dxe(i.current,v,a.current)):x(!1)},f=function(){return x(!1)};function x(v){var b=l.current,S=Cz(i.current),w=v?S.addEventListener:S.removeEventListener;w(b?"touchmove":"mousemove",h),w(b?"touchend":"mouseup",f)}return[function(v){var b=v.nativeEvent,S=i.current;if(S&&(mxe(b),!function(_,E){return E&&!yv(_)}(b,l.current)&&S)){if(yv(b)){l.current=!0;var w=b.changedTouches||[];w.length&&(a.current=w[0].identifier)}S.focus(),n(dxe(S,b,a.current)),x(!0)}},function(v){var b=v.which||v.keyCode;b<37||b>40||(v.preventDefault(),s({left:b===39?.05:b===37?-.05:0,top:b===40?.05:b===38?-.05:0}))},x]},[s,n]),u=c[0],p=c[1],m=c[2];return(0,$t.useEffect)(function(){return m},[m]),$t.default.createElement("div",ux({},o,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:p,tabIndex:0,role:"slider"}))}),_z=function(e){return e.filter(Boolean).join(" ")},yxe=function(e){var t=e.color,r=e.left,o=e.top,i=o===void 0?.5:o,n=_z(["react-colorful__pointer",e.className]);return $t.default.createElement("div",{className:n,style:{top:100*i+"%",left:100*r+"%"}},$t.default.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Va=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r},ddo={grad:.9,turn:360,rad:360/(2*Math.PI)},Zft=function(e){return tht(Pz(e))},Pz=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Va(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Va(parseInt(e.substring(6,8),16)/255,2):1}};var Jft=function(e){return eht(Qft(e))},Kft=function(e){var t=e.s,r=e.v,o=e.a,i=(200-t)*r/100;return{h:Va(e.h),s:Va(i>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0),l:Va(i/2),a:Va(o,2)}},wz=function(e){var t=Kft(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"};var Qft=function(e){var t=e.h,r=e.s,o=e.v,i=e.a;t=t/360*6,r/=100,o/=100;var n=Math.floor(t),s=o*(1-r),a=o*(1-(t-n)*r),l=o*(1-(1-t+n)*r),c=n%6;return{r:Va(255*[o,a,s,s,l,o][c]),g:Va(255*[l,o,o,a,s,s][c]),b:Va(255*[s,s,l,o,o,a][c]),a:Va(i,2)}};var JI=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},eht=function(e){var t=e.r,r=e.g,o=e.b,i=e.a,n=i<1?JI(Va(255*i)):"";return"#"+JI(t)+JI(r)+JI(o)+n},tht=function(e){var t=e.r,r=e.g,o=e.b,i=e.a,n=Math.max(t,r,o),s=n-Math.min(t,r,o),a=s?n===t?(r-o)/s:n===r?2+(o-t)/s:4+(t-r)/s:0;return{h:Va(60*(a<0?a+6:a)),s:Va(n?s/n*100:0),v:Va(n/255*100),a:i}};var rht=$t.default.memo(function(e){var t=e.hue,r=e.onChange,o=_z(["react-colorful__hue",e.className]);return $t.default.createElement("div",{className:o},$t.default.createElement(gxe,{onMove:function(i){r({h:360*i.left})},onKey:function(i){r({h:bv(t+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":Va(t),"aria-valuemax":"360","aria-valuemin":"0"},$t.default.createElement(yxe,{className:"react-colorful__hue-pointer",left:t/360,color:wz({h:t,s:100,v:100,a:1})})))}),oht=$t.default.memo(function(e){var t=e.hsva,r=e.onChange,o={backgroundColor:wz({h:t.h,s:100,v:100,a:1})};return $t.default.createElement("div",{className:"react-colorful__saturation",style:o},$t.default.createElement(gxe,{onMove:function(i){r({s:100*i.left,v:100-100*i.top})},onKey:function(i){r({s:bv(t.s+100*i.left,0,100),v:bv(t.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Va(t.s)+"%, Brightness "+Va(t.v)+"%"},$t.default.createElement(yxe,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:wz(t)})))}),xxe=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0};var iht=function(e,t){return e.toLowerCase()===t.toLowerCase()||xxe(Pz(e),Pz(t))};function nht(e,t,r){var o=xv(r),i=(0,$t.useState)(function(){return e.toHsva(t)}),n=i[0],s=i[1],a=(0,$t.useRef)({color:t,hsva:n});(0,$t.useEffect)(function(){if(!e.equal(t,a.current.color)){var c=e.toHsva(t);a.current={hsva:c,color:t},s(c)}},[t,e]),(0,$t.useEffect)(function(){var c;xxe(n,a.current.hsva)||e.equal(c=e.fromHsva(n),a.current.color)||(a.current={hsva:n,color:c},o(c))},[n,e,o]);var l=(0,$t.useCallback)(function(c){s(function(u){return Object.assign({},u,c)})},[]);return[n,l]}var sht,aht=typeof window<"u"?$t.useLayoutEffect:$t.useEffect,lht=function(){return sht||(typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0)};var fxe=new Map,cht=function(e){aht(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!fxe.has(t)){var r=t.createElement("style");r.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,fxe.set(t,r);var o=lht();o&&r.setAttribute("nonce",o),t.head.appendChild(r)}},[])},uht=function(e){var t=e.className,r=e.colorModel,o=e.color,i=o===void 0?r.defaultColor:o,n=e.onChange,s=KI(e,["className","colorModel","color","onChange"]),a=(0,$t.useRef)(null);cht(a);var l=nht(r,i,n),c=l[0],u=l[1],p=_z(["react-colorful",t]);return $t.default.createElement("div",ux({},s,{ref:a,className:p}),$t.default.createElement(oht,{hsva:c,onChange:u}),$t.default.createElement(rht,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},pht={defaultColor:"000",toHsva:Zft,fromHsva:function(e){return Jft({h:e.h,s:e.s,v:e.v,a:1})},equal:iht},bxe=function(e){return $t.default.createElement(uht,ux({},e,{colorModel:pht}))};var dht=/^#?([0-9A-F]{3,8})$/i,mht=function(e){var t=e.color,r=t===void 0?"":t,o=e.onChange,i=e.onBlur,n=e.escape,s=e.validate,a=e.format,l=e.process,c=KI(e,["color","onChange","onBlur","escape","validate","format","process"]),u=(0,$t.useState)(function(){return n(r)}),p=u[0],m=u[1],h=xv(o),f=xv(i),x=(0,$t.useCallback)(function(b){var S=n(b.target.value);m(S),s(S)&&h(l?l(S):S)},[n,l,s,h]),v=(0,$t.useCallback)(function(b){s(b.target.value)||m(n(r)),f(b)},[r,n,s,f]);return(0,$t.useEffect)(function(){m(n(r))},[r,n]),$t.default.createElement("input",ux({},c,{value:a?a(p):p,spellCheck:"false",onChange:x,onBlur:v}))},hxe=function(e){return"#"+e},vxe=function(e){var t=e.prefixed,r=e.alpha,o=KI(e,["prefixed","alpha"]),i=(0,$t.useCallback)(function(s){return s.replace(/([^0-9A-F]+)/gi,"").substring(0,r?8:6)},[r]),n=(0,$t.useCallback)(function(s){return function(a,l){var c=dht.exec(a),u=c?c[1].length:0;return u===3||u===6||!!l&&u===4||!!l&&u===8}(s,r)},[r]);return $t.default.createElement(mht,ux({},o,{escape:i,format:t?hxe:void 0,process:hxe,validate:n}))};var vv=({selected:e,colorPalette:t,inputId:r,includeNatural:o=!1,includeCustom:i=!0,onSetColor:n})=>{let s=e.color?v5(e.color):"#fff",[a,l]=(0,dn.useState)(e.displayName==="Custom");return dn.default.createElement(Qg.Dropdown,{autoClose:"outside",className:"rgb-dropdown select-dropdown-with-image",id:r,onSelect:c=>{if(c==="Custom")n({color:e.color??fht,displayName:c});else if(c==="Natural")n({color:null,displayName:c}),l(!1);else if(c!=null){let{color:u}=t.find(p=>p.displayName===c);n({color:u,displayName:c}),l(!1)}}},dn.default.createElement(Qg.Dropdown.Toggle,{variant:"none",className:"rgb-dropdown__button"},dn.default.createElement(kz,{entry:e}),e.displayName),dn.default.createElement(Qg.Dropdown.Menu,{className:"rgb-dropdown__menu"},o&&dn.default.createElement(Qg.Dropdown.Item,{active:e.displayName==="Natural",eventKey:"Natural"},dn.default.createElement(kz,{entry:{displayName:"Natural",color:null}}),"Natural"),i&&dn.default.createElement("div",{className:"rgb-dropdown__custom"},dn.default.createElement("div",{className:"rgb-dropdown__custom-item",onClick:()=>l(!a)},dn.default.createElement("i",{className:`bi bi-caret-${a?"down":"right"}-fill`}),"Custom"),a&&dn.default.createElement("div",{className:"rgb-dropdown__picker"},dn.default.createElement(bxe,{color:s,onChange:c=>n({color:Sxe(c),displayName:"Custom"})}),dn.default.createElement(ght,{color:s,onChange:c=>n({color:Sxe(c),displayName:"Custom"})}))),(o||i)&&dn.default.createElement(Qg.Dropdown.Divider,null),t.map(c=>dn.default.createElement(Qg.Dropdown.Item,{id:`material-${c.displayName.replace(" ","-")}`,key:c.displayName,eventKey:c.displayName,active:c.displayName===e.displayName},dn.default.createElement(kz,{entry:c}),c.displayName))))},fht={r:255,g:255,b:255},hht={backgroundImage:"repeating-linear-gradient(-45deg, #ccc 0, #ccc 1.2px, #fff 0, #fff 50%)",backgroundSize:"8px 8px"},kz=({entry:e})=>{let{color:t,displayName:r}=e,o=r==="Natural"||t==null?hht:{background:`rgb(${t.r}, ${t.g}, ${t.b})`};return dn.default.createElement("span",{className:"rgb-dropdown__image",style:o})},ght=({color:e,onChange:t})=>{let[r,o]=(0,dn.useState)(e);return(0,dn.useEffect)(()=>{_r(DP(r),DP(e))||o(e)},[r,e]),dn.default.createElement(vxe,{className:"form-control",prefixed:!0,color:r,onChange:i=>{o(i),t(i)}})},Sxe=e=>DP(e)??{r:255,g:255,b:255};var Tz=class extends gi.default.Component{constructor(){super(...arguments);y(this,"state",{openDropdown:null});y(this,"closeDropdowns",()=>{this.setState({openDropdown:null})});y(this,"toggleDropdown",r=>{this.state.openDropdown===r?this.closeDropdowns():this.setState({openDropdown:r})});y(this,"toggleMaterialTypesDropdown",r=>{r.stopPropagation(),this.toggleDropdown("material-types")});y(this,"toggleColorsDropdown",r=>{r.stopPropagation(),this.toggleDropdown("colors")});y(this,"setMaterial",r=>{this.props.onSetMaterial(r)});y(this,"setColor",r=>{this.props.onSetMaterialColor(r)});y(this,"getClassNamesForDropdown",r=>{let o=r.split("[")[0];return this.state.openDropdown===r?`material-library__${o} show`:`material-library__${o}`});y(this,"materialHasVariations",()=>this.props.activeMaterial.variations!=null);y(this,"materialIsUsingCustomColors",()=>{if(this.props.activeMaterial.variations!=null&&this.props.activeMaterialVariation!=null)return!this.props.activeMaterial.variations.map(o=>o.name).includes(this.props.activeMaterialVariation.name)});y(this,"thumbnailUrl",r=>r.thumbnailUrl?r.thumbnailUrl:r.category?ot.imageForMaterialCategory(r.category):EASEL_ASSETS.images.otherMaterial);y(this,"materialRow",r=>{let o=this.thumbnailUrl(r),n=r.widthX!=null&&r.widthX!=0||r.lengthY!=null&&r.lengthY!=0||r.thicknessZ!=null&&r.thicknessZ!=0?Ve.formatDimensions([r.widthX,r.lengthY,r.thicknessZ],this.props.unit):null;return gi.default.createElement(uxe,{key:r.id,name:r.displayName,variations:r.variations,dimensions:n,source:r.source,thumbnailUrl:o,storeUrl:r.storeUrl,onClick:this.setMaterial.bind(this,r),unit:this.props.unit})});y(this,"materialHeaderRow",r=>{let o;switch(r){case"user_added_custom":o="My Toolbox";break;case"inventables":o="Inventables Toolbox";break;default:o="Easel"}return gi.default.createElement("li",{key:`material-header-[${r}]`,className:"material-header-row"},gi.default.createElement("h4",{className:"material-title"},o))});y(this,"groupMaterial",()=>{let{materialRow:r}=this,{activeMaterial:o}=this.props,i=[],n=this.props.materials.reduce(function(a,l){switch(l.id===o.id&&(a.active=[]),l.source){case"user_added_custom":a.custom.push(r(l));break;case"inventables":a.inventables.push(r(l));break;default:a.other.push(r(l))}return a},{active:[r(o)],custom:[],inventables:[],other:[]}),s=[n.active,n.custom,n.inventables,n.other];for(let a of s.filter(l=>l.length>=1))i.push(this.materialHeaderRow(a[0].props.source)),i.push(a);return i})}render(){let{activeMaterial:r,onSetLayerColor:o,currentMaterialThumbnail:i,activeMaterialVariation:n,onUseCustomColor:s}=this.props,a=this.groupMaterial();return gi.default.createElement("div",{className:"material-library card border-0"},gi.default.createElement("div",{className:"card-body"},gi.default.createElement("h4",{className:"material-library__title"},"Material Type"),gi.default.createElement("div",{className:"material-library__body"},gi.default.createElement("div",{className:this.getClassNamesForDropdown("material-types")},gi.default.createElement(oe,{id:"material-type-dropdown",className:"material-library__dropdown-link",onClick:this.toggleMaterialTypesDropdown},i,gi.default.createElement("label",null,r.displayName),gi.default.createElement("i",{className:"bi bi-caret-down-fill"})),gi.default.createElement("ul",{className:`material-library__dropdown dropdown-menu ${this.state.openDropdown==="material-types"?"show":""}`},a)),this.materialHasVariations()&&gi.default.createElement("div",{className:this.getClassNamesForDropdown("colors")},gi.default.createElement(oe,{id:"material-variation-dropdown",className:"material-library__dropdown-link",onClick:this.toggleColorsDropdown},gi.default.createElement("label",null,n?.name),gi.default.createElement("i",{className:"bi bi-caret-down-fill"})),gi.default.createElement("div",{className:`material-library__dropdown dropdown-menu ${this.state.openDropdown==="colors"?"show":""}`},gi.default.createElement(oe,{className:"material-library__custom-color-option btn btn-sm btn-default",onClick:s},gi.default.createElement("i",{className:"bi bi-plus-circle",style:{marginRight:"5px"}}),gi.default.createElement("span",null,r.layerNames.length>1?"Use custom colors":"Use custom color")),gi.default.createElement("ul",{className:"material-library__color-thumbnails"},Array.from(r.variations).map(l=>gi.default.createElement(lxe,{key:l.name,name:l.name,thumbnailUrl:l.thumbnailUrl,thumbnailName:l.thumbnailName,layerColors:Array.from(l.layers).map(c=>c.rgb),storeUrl:l.storeUrl,onClick:this.setColor.bind(this,l)}))))),this.materialIsUsingCustomColors()&&(r.layerNames.length>1?r.layerNames.map((l,c)=>gi.default.createElement(vv,{key:c,colorPalette:Sz,selected:{color:mF(r.color.layers[c].rgb),displayName:l},onSetColor:u=>{o(c,u.color.r,u.color.g,u.color.b)}})):gi.default.createElement(vv,{colorPalette:Sz,selected:{color:mF(r.color.layers[0].rgb)},onSetColor:l=>{o(0,l.color.r,l.color.g,l.color.b)}})))))}},Cxe=Tz;var QI=M(P("react"),1);var Pxe=P("react-redux");var yht=({subtab:e})=>{let t=(0,Pxe.useDispatch)(),r=He(U.toolbox.opened,{source:"Open Toolbox Link"});return QI.default.createElement("div",{className:"open-toolbox-link"},QI.default.createElement(qt,null),QI.default.createElement(oe,{onClick:()=>{r({tab:e}),t(En.actions.openToolboxModal(e))}},`+ Add a ${e==="materials"?"Material":"Bit"}`))},s1=yht;var eD=M(P("react"),1);var Ez=class extends eD.default.Component{constructor(){super(...arguments);y(this,"trackRecommendationsClick",()=>{H.trackEvent("Bit and Material Recommendations Click")})}render(){return eD.default.createElement("div",{className:"dropdown-external-link-bit-and-material"},"Need Help? ",eD.default.createElement("a",{href:"https://discuss.inventables.com/t/cut-settings-resources/145469",target:"_blank",rel:"noreferrer",onClick:this.trackRecommendationsClick},"Bit and Material Recommendations"))}},a1=Ez;var ey=M(P("prop-types"),1),dx=P("react-bootstrap"),Rt=M(P("react"),1);var tD=M(P("react"),1);var xht=e=>{let t=e.label||`${e.name.toUpperCase()}:`;return tD.default.createElement("div",{className:"material-dimension-input"},tD.default.createElement("label",{htmlFor:e.id},t),tD.default.createElement(Yt,{variant:"decimal-long",value:e.value,id:e.id,className:e.className,min:.001,onCommit:r=>e.onDimensionChange(e.name,r)}))},px=xht;var l1=M(P("react"),1);var Mz=class extends l1.default.Component{constructor(){super(...arguments);y(this,"handleChange",()=>{this.forceUpdate()});y(this,"changeTileSize",(r,o)=>{let{tileSizes:i}=this.props;o>ma.maxTileSize(i)?o=ma.maxTileSize(i):o<ma.MIN_TILE_SIZE&&(o=ma.MIN_TILE_SIZE);let n=ma.rebalanceArray(i,r,o);this.props.setTileSizes(n)});y(this,"tileOptions",r=>r.map((o,i)=>{let n=i===this.props.selectedTileIndex?"selected":"";return l1.default.createElement("div",{key:`tile-${i}`,className:"tile-item"},l1.default.createElement("div",{className:"tile-item__click",onClick:()=>this.props.setSelectedTileByIndex(i)},l1.default.createElement(px,{name:`tile ${i}`,id:`tile-${i}-input`,value:o.getDimensions().y,onDimensionChange:(s,a)=>this.changeTileSize(i,a),label:`Tile ${i+1}`}),l1.default.createElement("i",{className:`tile-item__icon fa ${n?"fa-check-square-o tile-item__icon--selected":" fa-check"}`})))}))}render(){let{allTiles:r}=this.props;return r.length===0?null:l1.default.createElement("div",{id:"tiling"},l1.default.createElement("div",{className:"tiling-options"},this.tileOptions(r)))}},wxe=Mz;var rD=class extends Rt.default.Component{constructor(){super(...arguments);y(this,"onThicknessChange",(r,o)=>{B6(o,this.props.unit,"xyz input").then(()=>this.props.onDimensionChange(r,o)).catch(()=>this.forceUpdate())});y(this,"toggleOverlap",r=>{r?this.props.enableTilingOverlaps():this.props.disableTilingOverlaps()});y(this,"toggleTiling",r=>{if(r){let{x:o,y:i}=this.props;this.props.trackProjectEvent(U.proContent.enabledTiling,{"Material Length":i,"Material Width":o,Unit:this.props.unit}),this.props.enableTiling()}else this.props.disableTiling()});y(this,"isUsingVbit",()=>this.props.bit.type===qe.v||this.props.useDetailBit&&this.props.detailBit.type===qe.v);y(this,"selectNumTiles",r=>{let o=parseInt(r.target.value);this.props.setTileCount(o)});y(this,"setZeroValue",r=>{let{materialDimensions:o,setXYZeroLocation:i,panViewport:n,workArea:s,x:a,y:l,xyZeroLocation:c,volumeIds:u}=this.props,p={x:a,y:l},m=r.target.value,h=ot.materialBoundary(p,c),f=ot.materialBoundary(p,m),x={x:f.minX-h.minX,y:f.minY-h.minY},v=St.getWorkpieceViewport(N.store.getState()),b=Y.getWorkArea(N.store.getState()).y,S=Si.workToViewMatrix(v,b).transformedVector(x);H.trackEvent(U.changedXYZero,{"Old X/Y Zero Location":c,"New X/Y Zero Location":m}),this.props.beginUndoGroup("Set XY Zero Location"),i(m),n(S.x,S.y,o,m,s),this.props.translate(u,x.x,x.y,{includeAnchored:!0}),this.props.endUndoGroup()});y(this,"getXYZeroImage",()=>{let{xyZeroLocation:r}=this.props;return r===me.XY_ZERO_FRONT_LEFT?EASEL_ASSETS.images.frontLeft:r===me.XY_ZERO_CENTER?EASEL_ASSETS.images.center:EASEL_ASSETS.images.frontLeft});y(this,"getRequiredTooltip",(r,o)=>Rt.default.createElement(dx.OverlayTrigger,{trigger:["hover","focus"],placement:"right",overlay:Rt.default.createElement(dx.Popover,{id:"required-overlap-icon"},Rt.default.createElement(dx.Popover.Header,null,r),Rt.default.createElement(dx.Popover.Body,null,o))},Rt.default.createElement("i",{className:"bi bi-exclamation-circle-fill"})))}componentDidUpdate(){this.isUsingVbit()&&!this.props.overlapDistance&&this.props.enableTilingOverlaps()}render(){let{isThreeD:r,isCarvey:o,materialDimensions:i,workArea:n}=this.props;return Rt.default.createElement("div",{className:"card border-0"},Rt.default.createElement("div",{className:"card-body"},Rt.default.createElement("h4",{className:"material-library__title"},"Material Dimensions"),Rt.default.createElement("div",{id:"dimensions"},!r&&Rt.default.createElement("div",null,Rt.default.createElement("div",null,Rt.default.createElement("strong",null,"Tiling - Oversize material carving"),Rt.default.createElement("p",null,"To carve pieces larger than the machine\u2019s work area, enter the desired length.",Rt.default.createElement(qt,null)),Rt.default.createElement("a",{href:"/features/tiling/",target:"_blank"},"Learn More")),Rt.default.createElement("div",{className:"tiling__toggle"},"Enable tiling",i.y<=n.y&&this.getRequiredTooltip("Need larger material","Material must be larger than machine in the Y direction"),Rt.default.createElement(lg,{id:"enable-tiling-switch",enabled:this.props.selectedTile!==null,disabled:i.y<=n.y,offLabel:"No",onLabel:"Yes",onToggle:this.toggleTiling})),this.props.selectedTile&&[Rt.default.createElement("div",{key:"num-tile-selector"},Rt.default.createElement("label",{htmlFor:"num-tile-selector"},"Number of tiles"),Rt.default.createElement("select",{id:"num-tile-selector",className:"form-select",value:this.props.tileSizes!=null?this.props.tileSizes.length:0,onChange:this.selectNumTiles},ma.numTileOptions(this.props.overlapDistance,n,this.props.y).map(s=>Rt.default.createElement("option",{key:s,value:s},s)))),Rt.default.createElement("div",{className:"tiling__toggle",key:"tile-overlap-toggle"},Rt.default.createElement("span",null,"Overlap tiles",this.isUsingVbit()&&this.getRequiredTooltip("Overlap required","Tiling with v-carve requires overlap to avoid 'ridges' on the material edges")),Rt.default.createElement(lg,{enabled:!!this.props.overlapDistance,disabled:this.isUsingVbit(),offLabel:"No",onLabel:"Yes",onToggle:this.toggleOverlap}))]),Rt.default.createElement("div",{id:"dimensions-inputs"},Rt.default.createElement("div",{id:"dimension-inputs-x"},Rt.default.createElement(px,{name:"x",id:"material-x-input",value:this.props.x,onDimensionChange:this.props.onDimensionChange,label:"Width (X)"})),Rt.default.createElement("div",{id:"dimension-inputs-y",className:this.props.selectedTile!==null?"tiling-border":""},Rt.default.createElement(px,{name:"y",id:"material-y-input",value:this.props.y,onDimensionChange:this.props.onDimensionChange,label:"Length (Y)"}),!r&&Rt.default.createElement(wxe,{selectedTileIndex:this.props.selectedTileIndex,allTiles:this.props.allTiles,workArea:n,setSelectedTileByIndex:this.props.setSelectedTileByIndex,tileSizes:this.props.tileSizes,setTileSizes:this.props.setTileSizes,tileOverlap:this.props.overlapDistance})),Rt.default.createElement("div",{id:"dimension-inputs-z"},Rt.default.createElement(px,{name:"z",id:"material-z-input",value:this.props.z,onDimensionChange:this.onThicknessChange,label:"Thickness (Z)"}))),Rt.default.createElement("div",null,Rt.default.createElement("div",{id:"dimension-graphic"},Rt.default.createElement("img",{src:this.getXYZeroImage()}),!r&&!o&&Rt.default.createElement(Rt.default.Fragment,null,Rt.default.createElement("label",{htmlFor:"zeroing"},"Choose X/Y Zero:",Rt.default.createElement(qt,null)),Rt.default.createElement("select",{name:"zeroing",className:"form-select",disabled:this.props.selectedTile!=null,id:"zeroing",value:this.props.xyZeroLocation,onChange:this.setZeroValue},Rt.default.createElement("option",{value:me.XY_ZERO_FRONT_LEFT},"Front Left Corner"),Rt.default.createElement("option",{value:me.XY_ZERO_CENTER},"Center")),this.props.selectedTile!=null&&Rt.default.createElement(je,{placement:"top",id:"disabled-advanced-xy-zeroing",tooltipContent:"X/Y Zero selection cannot be changed with tiling enabled."},Rt.default.createElement("i",{className:"bi bi-exclamation-circle-fill"})))),this.props.selectedTile!==null&&Rt.default.createElement("div",{className:"material-dimensions__tiling-img-container"},Rt.default.createElement("img",{className:"material-dimensions__tiling-img",src:EASEL_ASSETS.images.tilingNumbered}),Rt.default.createElement("div",null,"How to position your piece"))))))}};y(rD,"propTypes",{x:ey.default.number.isRequired,y:ey.default.number.isRequired,z:ey.default.number.isRequired,unit:ey.default.string.isRequired,activeMaterialTextureUrl:ey.default.string.isRequired,onDimensionChange:ey.default.func.isRequired});var bht=ne({mapDispatchToProps:e=>({setTileSizes(t){e(W.actions.setTileSizes(t))},enableTiling(){e(W.actions.enableTiling())},disableTiling(){e(W.actions.disableTiling())},enableTilingOverlaps(){e(W.actions.enableTilingOverlaps())},disableTilingOverlaps(){e(W.actions.disableTilingOverlaps())},setTileCount(t){e(W.actions.setTileCount(t))},setSelectedTileByIndex(t){e(W.actions.setSelectedTileByIndex(t))},setXYZeroLocation(t){e(W.actions.setXYZeroLocation(t))},panViewport(t,r,o,i,n){e(W.actions.panViewport({deltaX:t,deltaY:r,materialDimensions:o,xyZeroLocation:i,workArea:n}))},translate(t,r,o,i){e(W.actions.volumesTranslate(t,r,o,i))},trackProjectEvent(t,r){e(Bt(t,r))},beginUndoGroup(t){e(nr.actions.beginGroup(t))},endUndoGroup(){e(nr.actions.endGroup())}}),mapStateToProps:e=>({xyZeroLocation:q.getXYZeroLocation(e),materialDimensions:q.getMaterialDimensions(e),isTileSelected:Dt.isTileSelected(e),selectedTile:Dt.getSelectedTile(e),selectedTileIndex:Dt.getSelectedTileIndex(e),allTiles:Dt.getAllTiles(e),overlapDistance:Dt.getTileOverlapDistance(e),workArea:Y.getWorkArea(e),bit:re.bit(e),detailBit:re.detailBit(e),useDetailBit:re.detailBitEnabled(e),isThreeD:Ue.isThreeD(e),tileSizes:Dt.getTileSizes(e),isCarvey:Y.isCarvey(e),unit:Me.getPreferredUnit(e),volumeIds:ye.getAllVolumeIds(e)}),component:rD}),_xe=bht;var ty=M(P("prop-types"),1),Sv=M(P("react"),1);var oD=class extends Sv.default.Component{constructor(){super(...arguments);y(this,"state",{dropdownVisible:!1});y(this,"forceShowDropdown",r=>{this.props.rootClass===r&&this.setState({dropdownVisible:!0})});y(this,"toggleDropdown",r=>{this.dropdownElement!=null&&(this.buttonElement.contains(r.target)?this.setState({dropdownVisible:!this.state.dropdownVisible}):this.dropdownElement.contains(r.target)||this.setState({dropdownVisible:!1}))})}componentDidMount(){window.addEventListener("click",this.toggleDropdown,{capture:!0}),this.props.showDropdown&&setTimeout(()=>this.setState({dropdownVisible:!0}),1),J.addListener("show-project-settings-dropdown",this.forceShowDropdown)}componentWillUnmount(){window.removeEventListener("click",this.toggleDropdown),J.removeListener("show-project-settings-dropdown",this.forceShowDropdown)}componentDidUpdate(r){r.showDropdown!=this.props.showDropdown&&this.setState({dropdownVisible:this.props.showDropdown})}render(){let{rootClass:r,buttonId:o,label:i,dropdownClass:n,dropdown:s}=this.props;return Sv.default.createElement("div",{className:r},Sv.default.createElement("button",{id:o,className:"btn-setting dropdown-toggle","data-display":"static",ref:a=>this.buttonElement=a},i),Sv.default.createElement("div",{className:`${n} dropdown-menu ${this.state.dropdownVisible?"show":""}`,ref:a=>this.dropdownElement=a},this.state.dropdownVisible&&s))}};y(oD,"propTypes",{label:ty.default.element.isRequired,dropdown:ty.default.element.isRequired,rootClass:ty.default.string.isRequired,dropdownClass:ty.default.string.isRequired,buttonId:ty.default.string.isRequired,showDropdown:ty.default.bool});var c1=oD;var Wh=M(P("react"),1),u1=P("react-bootstrap");var kxe=e=>{let{sheen:t="matte",inputId:r,onSetSheen:o,component:i}=e;return Wh.default.createElement(u1.Dropdown,{className:"select-dropdown-with-image sheen-dropdown",id:r,onSelect:n=>o(n,i)},Wh.default.createElement(u1.Dropdown.Toggle,{variant:"none",className:"select-dropdown-with-image__button"},Wh.default.createElement("div",{className:"d-flex align-items-center"},vr.capitalize(t,"-"))),Wh.default.createElement(u1.Dropdown.Menu,{className:"select-dropdown-with-image__menu"},Wh.default.createElement(u1.Dropdown.Item,{eventKey:"matte",active:t==="matte"},"Matte"),Wh.default.createElement(u1.Dropdown.Item,{eventKey:"satin",active:t==="satin"},"Satin"),Wh.default.createElement(u1.Dropdown.Item,{eventKey:"semi-gloss",active:t==="semi-gloss"},"Semi-Gloss"),Wh.default.createElement(u1.Dropdown.Item,{eventKey:"gloss",active:t==="gloss"},"Gloss")))};var Ac=M(P("react"),1),iD=P("react-redux"),vht=()=>{let e=(0,iD.useDispatch)(),t=(0,iD.useSelector)(Ue.getFinish);return Ac.default.createElement("div",{className:"card border-0"},Ac.default.createElement("div",{className:"card-body"},Ac.default.createElement("h4",{className:"material-library__title"},"Material Finish"),Ac.default.createElement("div",{id:"material-finish-container"},Ac.default.createElement("div",{className:"row"},Ac.default.createElement("div",{className:"col-6"},Ac.default.createElement("div",{className:"mb-3"},Ac.default.createElement("label",{htmlFor:"material-finish-color",className:"form-label"},"Color"),Ac.default.createElement(vv,{inputId:"material-finish-color",colorPalette:pxe,includeNatural:!0,selected:t?{color:t.color,displayName:t.displayName??"Natural"}:{color:null,displayName:"Natural"},onSetColor:r=>e(W.actions.setThreeDFinish(r))}))),Ac.default.createElement("div",{className:"col-6"},Ac.default.createElement("div",{className:"mb-3"},Ac.default.createElement("label",{htmlFor:"material-finish-sheen",className:"form-label"},"Sheen"),Ac.default.createElement(kxe,{inputId:"material-finish-sheen",sheen:t?.sheen||"matte",onSetSheen:r=>e(W.actions.setThreeDFinish({sheen:r}))})))))))},Txe=vht;var Az=class extends sl.default.Component{constructor(){super(...arguments);y(this,"activeMaterialTextureUrl",()=>this.props.activeMaterial.textureUrl?this.props.activeMaterial.textureUrl:this.props.activeMaterial.category?ot.imageForMaterialCategory(this.props.activeMaterial.category):EASEL_ASSETS.images.otherMaterial);y(this,"setMaterial",r=>{this.props.trackProjectEvent(U.changedMaterial,{"Material Id":r.id,"Material Name":r.name,"Material Type":r.category,"Material Source":ot.decodeMaterialSource(r.source)}),this.props.selectMaterial(r),r.widthX!=null&&r.widthX>0&&this.onDimensionChange("x",r.widthX),r.lengthY!=null&&r.lengthY>0&&this.onDimensionChange("y",r.lengthY),r.thicknessZ!=null&&r.thicknessZ>0&&B6(r.thicknessZ,this.props.unit,"material change").then(()=>this.onDimensionChange("z",r.thicknessZ)).catch(()=>this.forceUpdate())});y(this,"setColor",r=>{H.trackEventOnce("Material Color Selected",{name:r.name}),this.props.setColorVariation(r)});y(this,"useCustomColor",()=>{H.trackEventOnce("Material Color Selected",{name:"Custom"}),this.props.setColorToCustom()});y(this,"setLayerColor",(r,o,i,n)=>{this.props.setLayerColor({layerIndex:r,color:[o,i,n]})});y(this,"format",r=>{let o=this.props.unit=="mm"?2:void 0;return Ve.convertFromIn(r,this.props.unit,o)});y(this,"onDimensionChange",(r,o)=>{let i={};if(i[r]=o,this.props.setMaterialDimensions({dimensions:i}),r==="y"&&this.props.firstTile!=null){let{x:n,y:s}=this.props.dimensions;H.trackEvent(U.proContent.enabledTiling,{"Material Length":s,"Material Width":n,Unit:this.props.unit})}});y(this,"dimensionString",()=>["x","y","z"].map(o=>this.format(this.props.dimensions[o])).join(" \xD7 ")+` ${this.props.unit}`);y(this,"closeDropdowns",()=>{this.materialLibrary?.closeDropdowns()})}render(){let r=sl.default.createElement(sx,{layers:this.props.activeMaterial.color?.layers,thumbnailUrl:this.activeMaterialTextureUrl()}),{isThreeD:o}=this.props;return sl.default.createElement(c1,{rootClass:"material-settings",buttonId:"material",dropdownClass:"material-settings-panel",label:sl.default.createElement(sl.default.Fragment,null,r,sl.default.createElement("label",null,this.props.activeMaterial.displayName,sl.default.createElement("span",{className:"current-setting"},this.dimensionString()))),dropdown:sl.default.createElement("div",{onClick:this.closeDropdowns},sl.default.createElement(a1,null),sl.default.createElement(s1,{subtab:"materials"}),sl.default.createElement("div",{className:"material-settings-panel-contents"},sl.default.createElement(Cxe,{ref:i=>{this.materialLibrary=i},activeMaterial:this.props.activeMaterial,materialDimensions:this.props.dimensions,activeMaterialVariation:this.props.activeMaterial.color,currentMaterialThumbnail:r,onSetMaterial:this.setMaterial,onSetMaterialColor:this.setColor,onUseCustomColor:this.useCustomColor,onSetLayerColor:this.setLayerColor,materials:this.props.materials,unit:this.props.unit}),this.props.activeMaterial.color&&this.props.activeMaterial.layerNames&&this.props.activeMaterial.layerNames.length>1&&sl.default.createElement(txe,{materialDepth:this.props.dimensions.z,layers:this.props.activeMaterial.color.layers,displayUnit:this.props.unit}),o&&sl.default.createElement(Txe,null),sl.default.createElement(_xe,{x:this.props.dimensions.x,y:this.props.dimensions.y,z:this.props.dimensions.z,unit:this.props.unit,activeMaterialTextureUrl:this.activeMaterialTextureUrl(),onDimensionChange:this.onDimensionChange})))})}},Sht=ne({mapStateToProps:e=>({unit:Me.getPreferredUnit(e),allTiles:Dt.getAllTiles(e),firstTile:Dt.getFirstTile(e),dimensions:q.getMaterialDimensions(e),workArea:Y.getWorkArea(e),overlapDistance:Dt.getTileOverlapDistance(e),materials:q.getAllMaterials(e).slice().sort((t,r)=>t.sortName.localeCompare(r.sortName)),activeMaterial:q.getActiveMaterial(e),isThreeD:Ue.isThreeD(e)}),mapDispatchToProps:{selectMaterial:W.actions.selectMaterial,setMaterialDimensions:W.actions.setMaterialDimensions,setLayerColor:W.actions.setLayerColor,setColorToCustom:W.actions.setColorToCustom,setColorVariation:W.actions.setColorVariation,trackProjectEvent:Bt},component:Az}),Exe=Sht;var Tu=M(P("react"),1),oy=P("react-redux");var In=M(P("react"),1),Oxe=P("react-redux");var p1=M(P("react"),1);function Cht({type:e,rows:t}){let r=Nt.bitTypeInfo(e),o=jM({bitTypeInfo:r});return p1.default.createElement("td",{rowSpan:t,className:"bit-table__facet"},o!=null&&p1.default.createElement(rn,{placement:"left",popoverContent:o,popoverTitle:r.title},p1.default.createElement("div",null,p1.default.createElement("div",null,p1.default.createElement("span",null,e),p1.default.createElement("i",{className:"bi bi-question-circle-fill bit-table__badge"})),p1.default.createElement("img",{src:r.image,className:"bit-table__facet-image"}))))}var Mxe=Cht;var ry=M(P("react"),1);var Iz=class extends ry.default.Component{render(){let{proLabel:t,rows:r}=this.props;return ry.default.createElement("td",{rowSpan:r,className:"bit-table__facet"},ry.default.createElement("div",null,ry.default.createElement("div",null,ry.default.createElement("span",null,"Custom"),t&&ry.default.createElement(qt,null))))}},Axe=Iz;var Vh=P("react-bootstrap"),mn=M(P("react"),1);var Dz=class extends mn.default.Component{constructor(){super(...arguments);y(this,"clickHandler",()=>{let{bit:r}=this.props;if(r.error!=null)return!1;this.props.onChange(r)});y(this,"disabledInfo",r=>{if(r.error!=null){let{title:o,description:i}=r.error,n=mn.default.createElement(Vh.Popover,{id:"disabled-popover"},mn.default.createElement(Vh.Popover.Header,null,o),mn.default.createElement(Vh.Popover.Body,null,i));return mn.default.createElement(Vh.OverlayTrigger,{placement:"left",overlay:n},mn.default.createElement("div",null,mn.default.createElement("i",{className:"bi bi-question-circle-fill bit-table__badge"})))}})}render(){let{bit:r,selectedBit:o}=this.props,i=["bit-table__bit"];return o.id===r.id&&i.push("bit-table__bit--selected"),this.disabledInfo(r)&&i.push("bit-table__bit--disabled"),mn.default.createElement("td",{className:i.join(" "),onClick:this.clickHandler},mn.default.createElement("div",{className:"bit-table__bit__container d-flex justify-content-between  align-items-center"},mn.default.createElement("div",{className:"bit-table__image-container"},mn.default.createElement(Vh.OverlayTrigger,{placement:"left",overlay:mn.default.createElement(Vh.Popover,{id:"bit-image-popover"},mn.default.createElement(Vh.Popover.Body,null,mn.default.createElement("img",{src:r.imageURL,style:{width:"250px",height:"250px",objectFit:"contain"}})))},mn.default.createElement("img",{src:r.imageURL,className:"bit-table__bit-image"}))),mn.default.createElement("div",{className:"d-flex justify-content-between flex-column flex-grow-1"},mn.default.createElement("div",{className:"bit-table__bit__description d-flex justify-content-between"},mn.default.createElement("div",null,Nt.descriptionForBit(r)),mn.default.createElement("div",null,r.storeURL&&!r.error&&mn.default.createElement(hp,{url:r.storeURL,trackingEvent:U.toolbox.purchase,trackingData:{bit:r.name},utmContent:"bit_thumbnail",utmCampaign:"easelbits"},Nt.decodeBitSource(r.source)),(!r.storeURL||r.error)&&mn.default.createElement("span",{className:"bit-thumb__badge"},this.disabledInfo(r)))),r.name&&mn.default.createElement("div",null,r.name))))}},Nz=Dz;var Pd=M(P("react"),1);var Lz=M(P("prop-types"),1),ku=M(P("react"),1);var Ep=M(P("prop-types"),1),Pht=Ep.default.shape({id:Ep.default.string.isRequired,type:Ep.default.string.isRequired,width:Ep.default.number.isRequired,unit:Ep.default.string.isRequired,tipAngle:Ep.default.number,imageURL:Ep.default.string,verImageURL:Ep.default.string,nominalWidth:Ep.default.oneOfType([Ep.default.number,Ep.default.string])}),Ixe=Pht;var mx=M(P("react"),1);var nD=class extends mx.default.PureComponent{constructor(){super(...arguments);y(this,"setUnit",r=>{this.props.onChange(this.props.width,r)})}render(){let r="aligned-input btn",o=r+(this.props.unit==="in"?" btn-primary":" btn-default"),i=r+(this.props.unit!=="in"?" btn-primary":" btn-default"),n=this.props.unit!=="in"?2:null,s=this.props.showButtons?[mx.default.createElement("button",{"data-title":"in",key:"inButton",className:o,onClick:this.setUnit.bind(this,"in")},"in"),mx.default.createElement("button",{"data-title":"mm",key:"mmButton",className:i,onClick:this.setUnit.bind(this,"mm")},"mm")]:void 0;return mx.default.createElement("div",{className:"form-inline"},mx.default.createElement(Eo,{className:this.props.className||"aligned-input",id:this.props.id,value:this.props.width,unit:this.props.unit,showUnit:this.props.showUnit,precision:n,onChange:this.props.onChange}),s)}};y(nD,"defaultProps",{showButtons:!0});var Oz=nD;var sD=class extends ku.default.Component{constructor(){super(...arguments);y(this,"changeOtherVBitAngle",r=>{r=parseInt(r);let{width:o,unit:i,tipAngle:n}=this.props.bit;if(0<r&&r<180){if(r!==n)return this.props.changeOtherVBitSize(o,i,r)}else return this.forceUpdate(),Fe("V-Bit angle must be greater than 0 and less than 180 degrees.","")});y(this,"changeOtherVBitSize",(r,o)=>{this.props.changeOtherVBitSize(r,o,this.props.bit.tipAngle)});y(this,"changeOtherBitSize",(r,o)=>{this.props.changeOtherBitSize(r,o)});y(this,"changeOtherBallnoseBitSize",(r,o)=>{this.props.changeOtherBallnoseBitSize(r,o)})}render(){let{type:r,width:o,tipAngle:i,unit:n}=this.props.bit;return r==="V"?ku.default.createElement("div",{className:"bit-table__bit__flex"},ku.default.createElement("div",{className:"bit-table__other-bit-input"},ku.default.createElement("label",{htmlFor:"other-v-bit-angle-input",className:"bit-table__other-bit-label"},"Angle"),ku.default.createElement(Vn,{className:"form-control bit-table__custom-input",id:"other-v-bit-angle-input",initialValue:i,submit:this.changeOtherVBitAngle})),ku.default.createElement("div",{className:"bit-table__other-bit-input"},ku.default.createElement("label",{htmlFor:"other-bit-input",className:"bit-table__other-bit-label"},"Width"),ku.default.createElement(Oz,{className:"form-control bit-table__custom-input",id:"other-bit-input",width:o,unit:n,showButtons:!0,onChange:this.changeOtherVBitSize}))):ku.default.createElement("div",{className:"bit-table__bit__flex"},ku.default.createElement("div",{className:"bit-table__other-bit-input"},ku.default.createElement("label",{htmlFor:"other-bit-input",className:"bit-table__other-bit-label"},"Width"),ku.default.createElement(Oz,{className:"form-control bit-table__custom-input",id:"other-bit-input",width:o,unit:n,showButtons:!0,onChange:[qe.ballnose,"other-ballnose"].includes(r)?this.changeOtherBallnoseBitSize:this.changeOtherBitSize})))}};y(sD,"propTypes",{bit:Ixe.isRequired,changeOtherVBitSize:Lz.default.func.isRequired,changeOtherBitSize:Lz.default.func.isRequired});var Dxe=sD;var Bz=class extends Pd.default.Component{render(){let{bit:t,otherBitId:r,changeOtherVBitSize:o,onSelectOtherVBit:i,changeOtherBitSize:n,changeOtherBallnoseBitSize:s}=this.props,a=t.id===r,l=()=>i(r),c=["bit-table__bit","bit-table__other-bit"];return a&&c.push("bit-table__bit--selected"),Pd.default.createElement("tr",{className:"bit-table__row",key:"otherBit"},Pd.default.createElement("td",{className:"bit-table__facet"}),Pd.default.createElement("td",{className:c.join(" "),onClick:l},Pd.default.createElement("div",{className:"bit-table__bit__container"},Pd.default.createElement("div",{className:"bit-table__bit__description bit-table__bit__description--other justify-content-between align-items-center"},Pd.default.createElement("div",{className:"bit-table__image-container"},Pd.default.createElement("img",{src:EASEL_ASSETS.images.otherBit,className:"bit-table__bit-image"})),Pd.default.createElement("div",{className:"flex-grow-1 justify-content-start"},"Other"),a&&Pd.default.createElement(Dxe,{bit:t,changeOtherVBitSize:o,changeOtherBitSize:n,changeOtherBallnoseBitSize:s})))))}},Nxe=Bz;function wht({bit:e,bits:t,onChange:r}){let o=(0,Oxe.useSelector)(Nt.bitSizeInches),i=(f,x)=>f.type==="V"&&x.type==="V"?f.tipAngle-x.tipAngle:Nt.inchWidth(f)-Nt.inchWidth(x),n=(f,x)=>{r({id:"other-bit",width:f,unit:x,type:"other-flat",source:"user_unsaved_input"})},s=(f,x)=>{r({id:"other-ballnose-bit",width:f,unit:x,type:"other-ballnose",source:"user_unsaved_input"})},a=(f,x,v)=>{v>0&&v<180?r({id:"other-v-bit",width:f,unit:x,tipAngle:v,type:"V",source:"user_unsaved_input"}):Fe("V-Bit angle must be greater than 0 and less than 180 degrees.")},l=f=>{if(f===e.id)return;let x=o,v="in",b="user_unsaved_input";f==="other-v-bit"&&e.tipAngle>0&&e.tipAngle<180?r({id:"other-v-bit",width:x,unit:v,tipAngle:e.tipAngle,type:"V",source:b}):r(f==="other-v-bit"?{id:"other-v-bit",width:x,unit:v,tipAngle:90,type:"V",source:b}:f==="other-ballnose-bit"?{id:"other-ballnose-bit",width:x,unit:v,type:"other-ballnose",source:b}:{id:"other-bit",width:x,unit:v,type:"other-flat",source:b})},c=(f,x)=>{let v=[],b=f.sort(i);for(let S=0;S<b.length;S++){let w=b[S];v.push(In.default.createElement("tr",{className:"bit-table__row",key:S},S===0&&In.default.createElement(Axe,{rows:f.length,proLabel:!x.pro}),In.default.createElement(Nz,{bit:w,selectedBit:e,onChange:r})))}return v},u=f=>{let x=[],v=ec(f,b=>b.type);for(let b in v){let S=v[b],w=S.sort(i);for(let _=0;_<w.length;_++){let E=w[_];x.push(In.default.createElement("tr",{className:"bit-table__row",key:E.id},_===0&&In.default.createElement(Mxe,{rows:S.length,type:b}),In.default.createElement(Nz,{bit:E,selectedBit:e,onChange:r})))}}return x},p=(f,x)=>{let{otherBitType:v}=f,[b,S]=tc(x,T=>!!T.global||!!T.storeURL),w=c(S,f),_=u(b),E=[...w,..._];return E.push(In.default.createElement(Nxe,{key:"other-bit-row",bit:e,otherBitId:v,changeOtherVBitSize:a,changeOtherBitSize:n,changeOtherBallnoseBitSize:s,onSelectOtherVBit:l})),E};if(!e.width||!e.unit)return null;let m=ec(t,f=>Nt.bitTypeInfo(f.type).supertype),h=Object.values(Gc).filter(f=>Object.keys(m).includes(f));return In.default.createElement("div",{className:"tab-content"},h.map(f=>{let x=m[f],v=Nt.supertypeInfo(f),b=p(v,x),S=In.default.createElement("div",{className:"panel-title"},In.default.createElement("h4",{className:"mb-0"},f),v.pro&&In.default.createElement(qt,null));return In.default.createElement("div",{className:"faceted-bit-selector","data-type":f,key:f},In.default.createElement(Ol,{title:S,defaultOpen:!0},In.default.createElement("table",{className:"bit-table"},In.default.createElement("thead",{className:"bit-table__head"},In.default.createElement("tr",{className:"bit-table__row"},In.default.createElement("th",{className:"bit-table__header"},In.default.createElement("div",null,"Type")),In.default.createElement("th",{className:"bit-table__header"},In.default.createElement("div",null,"Size")))),In.default.createElement("tbody",{className:"bit-table__body"},b))))}))}var fx=wht;function Lxe(e){return pa(`/notes/${e.id}`,JSON.stringify(e))}var Bxe=We({name:"jobs",initialState:{data:[]},reducers:{addJobs(e,{payload:t}){e.data.push(...t)},setJobs(e,{payload:t}){e.data.splice(0,e.data.length,...t)},removeJob(e,{payload:t}){let r=e.data.findIndex(o=>o.id===t.id);e.data.splice(r,1)},updateJob(e,{payload:t}){let r=e.data.findIndex(o=>o.id===t.id);e.data.splice(r,1,t)},destroyProject(e,{payload:t}){e.data.forEach(r=>{let o=r.projects.findIndex(i=>i.linkToken===t.linkToken);o!==-1&&r.projects.splice(o,1)})},addNote(e,{payload:t}){e.data.find(o=>o.id===t.jobId)?.notes.unshift(t.note)},destroyNote(e,{payload:t}){e.data.forEach(r=>{let o=r.notes.findIndex(i=>i.id===t.noteId);o!==-1&&r.notes.splice(o,1)})},updateNote(e,{payload:t}){e.data.forEach(r=>{let o=r.notes.findIndex(i=>i.id===t.note.id);o!==-1&&(r.notes[o]=t.note)})}},extraReducers:e=>{e.addCase(ge.actions.loadProjectData,(t,{payload:r})=>{r.project.job&&(t.data=[r.project.job])})}}),Fxe={getJobs:e=>e.jobs.data},kht=_e([Fxe.getJobs,ge.getJobId],(e,t)=>e.find(r=>r.id===t));function Tht(e){return async function(r){let o=await Lxe(e);r({type:"jobs/updateNote",payload:{note:o}})}}var Eht={actions:Bxe.actions,reducer:Bxe.reducer,...Fxe,getSelectedJob:kht,middleware:{updateNote:Tht}},Wxe=Eht;var Mht=e=>{let t={"Project Name":ge.getProjectName(e),"Project ID":ge.getProjectId(e),"Preferred Unit":Me.getPreferredUnit(e)};if(!zt.isCabinetProject(e))return t["Workpiece Count"]=e.workpieces?.workpieceIds?.length,t;let r=am.getSelectedTab(e),o=zt.getProjectDefaultProperties(e),i=zt.getRoomDimensions(e),n=o.finishes.box?.color,s=o.finishes.front?.color,a=o.finishes.handle?.color,l={"box finish":n?v5(n):"Natural","front finish":s?v5(s):"Natural","handle finish":a?v5(a):"Default"};o.finishes.handle?.displayName&&(l["handle finish name"]=o.finishes.handle?.displayName);let c=zt.getCabinets(e),u=zt.getActualCabinets(e),p=c.filter(ce=>Te.fillerTypes.includes(ce.cabinetType)),m=c.filter(ce=>Te.supportsBlocks.includes(ce.cabinetType)),h=c.filter(ce=>Te.supportsDrawers.includes(ce.cabinetType)&&ce.drawerItems?.enabled),f=m.filter(ce=>ce.blocks.some(Se=>Se.tag==="drawer"||Se.tag==="false-front")),x=f.flatMap(ce=>ce.blocks.filter(Se=>Se.tag==="false-front").length).reduce((ce,Se)=>ce+Se,0),v=h.filter(ce=>Te.supportsDrawers.includes(ce.cabinetType)&&!ce.drawerItems?.falseFront),b=f.filter(ce=>ce.blocks.some(Se=>Se.tag==="drawer")),S=b.flatMap(ce=>ce.blocks.filter(Se=>Se.tag==="drawer").length).reduce((ce,Se)=>ce+Se,0),w=c.filter(ce=>Te.supportsShelfItems.includes(ce.cabinetType)),E=m.filter(ce=>ce.blocks.some(Se=>Se.tag==="open-shelves")).flatMap(ce=>ce.blocks.filter(Se=>Se.tag==="open-shelves")),T=E.length,A=c.filter(ce=>Te.supportsDoors.includes(ce.cabinetType)&&ce.doorItems?.includesDoor),O=m.filter(ce=>ce.blocks.some(Se=>Se.tag==="doors")),L=O.flatMap(ce=>ce.blocks.filter(Se=>Se.tag==="doors")),R=L.length,z=o.construction.materialId,I=o.construction.thickness,F=o.shelves.materialId,B=o.shelves.thickness??I,j=o.drawers.materialId,X=o.drawers.thickness,te=o.door.materialId,se=o.door.thickness??I,ue=o.back.materialId,be=o.back.thickness??I,ae=o.frame,he={style:ae?.style??"frameless"};he.style==="face-frame"&&(he.material={id:ae?.material.id??q.getDefaultFrameMaterial(e)?.id,thickness:ae?.material.thickness??ve.frame.defaultMaterial.thickness},he.railWidths={top:ae?.railWidths?.top??1.5,bottom:ae?.railWidths?.bottom??1.5,middle:ae?.railWidths?.middle??1.5},he.stileWidths={outside:ae?.stileWidths?.outside??1.5,center:ae?.stileWidths?.center??1.5});let fe=ge.getJobId(e);return{...t,"App Mode":r,Cabinets:u.length,"Cabinet Project Details":{Room:{width:i.width,length:i.depth,height:i.height},Finishes:l,"Filler Panels":{count:p.length,"total width":p.reduce((ce,Se)=>ce+Se.size.width,0)},Blocks:{"cabinet count":m.length,count:m.flatMap(ce=>ce.blocks.length).reduce((ce,Se)=>ce+Se,0),"doors blocks":R,"drawer blocks":S,"open shelves blocks":T,"false front blocks":x},Boxes:{"construction method":o.construction.method,"top panel style":o.construction.topPanelStyle,material:{type:q.getMaterial(e,z)?.name,thickness:I}},...(v.length>0||S>0)&&{"Drawer Boxes":{"cabinet count":v.length+b.length,count:v.reduce((ce,Se)=>ce+Se.drawerItems.count,0)+S,material:{type:q.getMaterial(e,j)?.name,thickness:X}}},...h.length>0&&{"Drawer Fronts":{"cabinet count":h.length+f.length,count:h.reduce((ce,Se)=>ce+Se.drawerItems.count,0)+x,reveal:o.drawers.reveal,material:{type:q.getMaterial(e,te)?.name,thickness:o.door.thickness??o.construction.thickness}}},...(A.length>0||R>0)&&{"Door Fronts":{"cabinet count":A.length+O.length,count:A.reduce((ce,Se)=>ce+(Se.doorItems.swing==="both"||Te.supportsBifold.includes(Se.cabinetType)?2:1),0)+L.reduce((ce,Se)=>ce+(Se.swing==="both"?2:1),0),reveal:o.door.undersize,material:{type:q.getMaterial(e,te)?.name,thickness:se},style:o.front.face.style}},Backs:{"construction method":o.back.construction.method,offset:o.back.offset,material:{type:q.getMaterial(e,ue)?.name,thickness:be}},Toekicks:{enabled:o.toekick.enabled,...o.toekick.enabled&&{height:o.toekick.height,depth:o.toekick.depth}},Shelves:{"fixed shelf count":w.reduce((ce,Se)=>ce+Se.shelfItems.numShelves,0)+E.reduce((ce,Se)=>ce+Se.fixedCount,0),"adjustable shelf count":w.reduce((ce,Se)=>ce+Se.shelfItems.numFixed,0)+E.reduce((ce,Se)=>ce+Se.adjustableCount,0),material:{type:q.getMaterial(e,F)?.name,thickness:B}},Frame:he,Countertops:{enabled:o.countertops?.enabled,thickness:o.countertops?.thickness,"front overhang":o.countertops?.overhang?.front}},...fe?Vxe(e,fe):{}}},Vxe=(e,t)=>{let o=Wxe.getJobs(e).find(i=>i.id===t);return t==null||o==null?{}:{Job:{ID:o.id,Name:o.name,Status:o.statuses[o.statuses.length-1],"Due Date":o.targetDate,Address:o.clientAddress,Budget:o.budget,"Associated Projects":o.projects.map(i=>i.id)}}};var Aht=e=>({Subscription:{easel_pro:Q.getEaselSubscriptionInfo(e),cabinetmaker:{plan:Q.getSubscriptionPackageName(e)}}}),ef=(e,t)=>{let{width:r,unit:o,tipAngle:i,type:n,source:s}=e;return{"Bit Diameter":r,Unit:o,Angle:i,"Bit Type":n,"Bit Source":Nt.decodeBitSource(s),"Pass Type":t}},Iht=(e,t)=>{let r,o,i,n,s,a={"Admin User":t},l=Y.getThirdPartyMake(e),c=Y.getThirdPartyModel(e),u=Y.getMachineType(e),p=[null,"other (grbl)"].includes(u)?l:"Inventables",m=p=="Inventables"?u:c;return p!=null&&(a["Machine Make"]=p),m!=null&&(a["Machine Model"]=m),(i=Y.getOtherMake(e))!=null&&(a["Write-In Make"]=i),(n=Y.getOtherModel(e))!=null&&(a["Write-In Model"]=n),(r=ie.getSerialNumber(e))!=null&&(a["Serial number"]=r),(o=Y.getSpindleType(e))!=null&&(a["Spindle type"]=o),(s=navigator.userAgent)!=null&&(a.UserAgent=s),EASEL_VERSION!==void 0&&(a["Easel Version"]=EASEL_VERSION),Q.activatedEaselProProductKey(e)!=null&&(a["Has Associated Easel Pro Key"]="activated"),a},aD=(e,t)=>({userProperties:()=>Iht(t.getState(),e),projectTrackedData:()=>Mht(t.getState()),jobTrackedData:r=>Vxe(t.getState(),r),subscriptionTrackedData:()=>Aht(t.getState())});function Dht(){let e=(0,oy.useDispatch)(),t=(0,oy.useSelector)(re.bit),r=(0,oy.useSelector)(re.bitsForRoughing),o=(0,oy.useSelector)(Ue.isThreeD),i=(0,oy.useSelector)(re.detailBitEnabled),n=He(U.changedBit),s=l=>{e(W.actions.setMainBit(l)),n(ef(l,i?"roughing":"all"))},a=t!=null?Nt.descriptionForBit(t):null;return Tu.default.createElement(c1,{rootClass:"main-bit",buttonId:"main-bit-link",dropdownClass:"bit-dropdown",label:Tu.default.createElement(Tu.default.Fragment,null,Tu.default.createElement("label",null,o?"Roughing bit":"Bit"),Tu.default.createElement("span",{className:"current-setting"},a)),dropdown:Tu.default.createElement("div",{id:"main-bit-selector"},Tu.default.createElement(a1,null),Tu.default.createElement(s1,{subtab:"bits"}),Tu.default.createElement("div",null,Tu.default.createElement(fx,{bit:t,bits:r,onChange:s}),Tu.default.createElement("p",{className:"bit-table__warning-text"},Tu.default.createElement("i",{className:"bi bi-exclamation-circle-fill"})," Power off your machine before changing bits or collets.")))})}var Uxe=Dht;var Uh=M(P("react"),1),Cv=P("react-redux");var Ua=M(P("react"),1),Rxe=P("react-redux");function Nht({bit:e,bits:t,open:r,isThreeD:o}){let i=(0,Rxe.useDispatch)(),n=He(U.changedBit),s=He(U.removedPass),a=u=>{i(W.actions.setDetailBit(u)),n(ef(u,"detail"))},l=()=>{i(W.actions.deactivateDetailBit()),s({"Pass Type":"detail"})};return Ua.default.createElement(c1,{showDropdown:r,rootClass:"detail-bit",buttonId:"detail-bit-link",label:Ua.default.createElement(Ua.default.Fragment,null,Ua.default.createElement("label",null,o?"Finishing bit":"Detail bit",!o&&Ua.default.createElement("span",{onClick:()=>{window.open("https://inventables.zendesk.com/hc/en-us/articles/360012453174-Walkthrough-Tutorial-Two-Stage-Carves-Roughing-and-Detail-Carves-","_blank")}},Ua.default.createElement("i",{className:"bi bi-question-circle-fill ms-1"}))),Ua.default.createElement("span",{className:"current-setting"},Nt.descriptionForBit(e)),!o&&Ua.default.createElement(oe,{className:"remove-detail-bit",onClick:l},"\xD7")),dropdownClass:"bit-dropdown",dropdown:Ua.default.createElement(Ua.default.Fragment,null,Ua.default.createElement(a1,null),Ua.default.createElement(s1,{subtab:"bits"}),Ua.default.createElement("div",null,Ua.default.createElement(fx,{bit:e,bits:t,onChange:a})),Ua.default.createElement("p",{className:"center-text",style:{paddingBottom:0,paddingTop:20}},Ua.default.createElement("i",{className:"fa fa-exclamation-circle"})," Power off your machine before changing bits or collets."))})}var jxe=Nht;var Oht=()=>{let[e,t]=(0,Uh.useState)(!1),r=(0,Uh.useRef)(null),o=(0,Cv.useSelector)(re.detailBit),i=(0,Cv.useSelector)(re.detailBitEnabled),n=(0,Cv.useSelector)(re.bitsForDetailing),s=(0,Cv.useSelector)(Ue.isThreeD);return(0,Uh.useEffect)(()=>{!s&&r.current===!1&&i&&t(!0),r.current=i},[i,s]),i||s?Uh.default.createElement("div",{id:"btn-bit-size",className:"dropdown"},Uh.default.createElement(jxe,{open:e,bit:o,bits:n,isThreeD:s})):null},Gxe=Oht;var pr=M(P("react"),1);var yi=M(P("prop-types"),1),jt=M(P("react"),1),Xxe=P("react-redux");var Hxe=M(P("react"),1),lD=P("react-redux");var Lht=({id:e,className:t,readonly:r})=>{let o=(0,lD.useSelector)(Ge.getBallnoseStepOver),i=(0,lD.useDispatch)();return Hxe.default.createElement(f0,{id:e,className:t,readonly:r,value:o,onSubmit:s=>{i(W.actions.setBallnoseStepOver(s))}})},zxe=Lht;var d1=class extends jt.default.Component{constructor(){super(...arguments);y(this,"getSettingsDescription",()=>{let r;return this.props.useManual?r=jt.default.createElement("span",null,"Using custom manually entered values"):this.props.isUsingSaved?r=jt.default.createElement(jt.default.Fragment,null,jt.default.createElement("span",null,"Using your "),jt.default.createElement(oe,{onClick:this.props.onEditCutSettings},rt(this.props.bit).longDescription()," + ",this.props.material.name),jt.default.createElement("span",null," saved cut settings")):this.props.untested?r=jt.default.createElement("span",null,"Using conservative default values"):r=jt.default.createElement("span",null,"Using Inventables recommended values"),jt.default.createElement("div",{className:"bit-job-settings__settings-description"},r)})}render(){let{showSpindleSpeed:r,isThreeD:o,unit:i,useManual:n,bitKey:s,ballnoseStepOver:a}=this.props,l=!n,c=this.props.untested?jt.default.createElement("i",{className:"alert bi bi-exclamation-circle-fill"}):this.props.isUsingSaved?jt.default.createElement("img",{src:EASEL_ASSETS.images.savedCutSettings}):null,u=this.props.title!=null&&jt.default.createElement("h3",null,this.props.title,jt.default.createElement("span",{className:"bit-job-settings__icon"},c)),p=!o||s==="bit",m=o&&s===Vo.bitKeys.detailBit&&a<=.05?jt.default.createElement(je,{placement:"left",id:"job-settings-stepover-warning",tooltipContent:"Setting a stepover value under 5% will increase toolpath calculation time and carve time. Consider higher stepover for quicker carves."},jt.default.createElement("i",{className:"alert bi bi-exclamation-circle-fill bit-job-settings__icon"})):"";return jt.default.createElement("div",{"data-cut-settings-bit":this.props.id,className:"bit-job-settings"},u,jt.default.createElement("div",{className:"setting-toggle"},jt.default.createElement("div",{className:n?"":"active",onClick:this.props.onUseAutomatic},"Automatic"),jt.default.createElement("div",{className:n?"active":"",onClick:this.props.onUseManual},"Manual")),this.getSettingsDescription(),jt.default.createElement("div",{className:n?"custom-values":"recommended-values"},jt.default.createElement(Fz,{label:"Feed rate",unit:i,readonly:l,value:this.props.feedRate,onChange:this.props.onChangeFeedRate,tooltip:n?null:jt.default.createElement(je,{placement:"left",id:"job-settings-tooltip",tooltipContent:"These are general values that work with a variety of different bits. We will be making them more precise over time by taking specific bit and material testing data into consideration."},jt.default.createElement("i",{className:"bi bi-question-circle-fill"}))}),jt.default.createElement(Fz,{label:"Plunge rate",unit:i,readonly:l,value:this.props.plungeRate,onChange:this.props.onChangePlungeRate}),o&&s===Vo.bitKeys.bit&&jt.default.createElement(jt.default.Fragment,null,jt.default.createElement("label",{htmlFor:"roughing-step-over-input"},"Step Over"),jt.default.createElement(_T,{id:"roughing-step-over-input",className:"bit-job-settings__input",readonly:l})),o&&s===Vo.bitKeys.detailBit&&jt.default.createElement(jt.default.Fragment,null,jt.default.createElement("label",{htmlFor:"ballnose-step-over-input"},"Step Over",m),jt.default.createElement(zxe,{id:"ballnose-step-over-input",className:"bit-job-settings__input",readonly:l})),p&&jt.default.createElement(Wz,{label:"Depth per pass",value:this.props.depthPerPass,unit:i,readonly:l,onChange:this.props.onChangeDepthPerPass}),r&&jt.default.createElement(Yxe,{value:this.props.spindleSpeed,readOnly:l,onChange:this.props.onChangeSpindleSpeed})),this.props.children)}};y(d1,"propTypes",{bit:yi.default.shape({id:yi.default.string,type:yi.default.string,width:yi.default.number,unit:yi.default.string,groupName:yi.default.string,imageURL:yi.default.string}).isRequired,material:yi.default.object.isRequired,feedRate:yi.default.number.isRequired,plungeRate:yi.default.number.isRequired,depthPerPass:yi.default.number.isRequired,spindleSpeed:yi.default.number,stepOver:yi.default.number,unit:yi.default.string.isRequired,useManual:yi.default.bool.isRequired,untested:yi.default.bool.isRequired,isUsingSaved:yi.default.bool,onUseManual:yi.default.func.isRequired,onUseAutomatic:yi.default.func.isRequired,onChangeFeedRate:yi.default.func.isRequired,onChangePlungeRate:yi.default.func.isRequired,onChangeDepthPerPass:yi.default.func.isRequired,onEditCutSettings:yi.default.func,showSpindleSpeed:yi.default.bool.isRequired,ballnoseStepOver:yi.default.number});var Bht=({label:e,value:t,onChange:r,tooltip:o,...i})=>{let n=`${e.toLowerCase().replace(" ","-")}-input`;return jt.default.createElement(jt.default.Fragment,null,jt.default.createElement("label",{htmlFor:n},e,o),jt.default.createElement(f0,{id:n,className:"bit-job-settings__input",value:t,onSubmit:r,...i}))},Wz=({label:e,value:t,unit:r,onChange:o,readonly:i,tooltip:n,...s})=>{let a=`${e.toLowerCase().replace(" ","-")}-input`;return jt.default.createElement(jt.default.Fragment,null,jt.default.createElement("label",{htmlFor:a},e,n),jt.default.createElement(Eo,{id:a,className:"bit-job-settings__input",value:t,onChange:o,unit:"in",displayUnit:r,showUnit:!0,readonly:i,...s}))},Fz=({unit:e,...t})=>jt.default.createElement(Wz,{unit:`${e}/min`,precision:1,...t}),Yxe=({value:e,onChange:t,readOnly:r})=>jt.default.createElement(jt.default.Fragment,null,jt.default.createElement("label",{htmlFor:"spindle-rpm-input"},"Spindle Speed (RPM)"),jt.default.createElement("input",{id:"spindle-rpm-input",className:"bit-job-settings__input form-control",value:e,type:"number",step:"100",readOnly:r,onChange:o=>t(parseInt(o.target.value))}));d1.PctInput=Bht;d1.DimInput=Wz;d1.RateInput=Fz;d1.SpindleSpeed=Yxe;var Fht=e=>({ballnoseStepOver:Ge.getBallnoseStepOver(e)}),qxe=(0,Xxe.connect)(Fht)(d1);var hx=P("react-bootstrap"),m1=M(P("react"),1);var Vz=class extends m1.default.PureComponent{constructor(){super(...arguments);y(this,"state",{showPopover:this.props.showOnMount,refDidSet:!1});y(this,"onMouseEnterPopover",()=>{this.state.showPopover||this.setState({showPopover:!0})});y(this,"closePopover",()=>{typeof this.props.onDismiss=="function"&&this.props.onDismiss(),this.setState({showPopover:!1})});y(this,"setRef",r=>{this.overlayTargetRef=r,this.setState({refDidSet:!0})})}render(){let{popoverClass:r,popoverTitle:o,popoverContent:i,children:n,placement:s,className:a}=this.props,l={id:this.props.id,className:r,onMouseEnter:this._onMouseEnterPopover,onMouseLeave:this._onMouseLeavePopover},c=m1.default.createElement(hx.Popover,{...l},o&&m1.default.createElement(hx.Popover.Header,null,o),m1.default.createElement(hx.Popover.Body,null,i));return m1.default.createElement("span",null,m1.default.createElement("span",{className:a,onMouseEnter:this.onMouseEnterPopover,ref:this.setRef},n,this.state.refDidSet&&m1.default.createElement(hx.Overlay,{show:this.state.showPopover,onHide:this.closePopover,rootClose:"true",placement:s||"top",target:this.overlayTargetRef},c)))}},cD=Vz;var Ai=M(P("react"),1),$xe=P("react-redux");var Wht=e=>{let t=(0,$xe.useDispatch)(),r=()=>{e.setFillAngle(null)},o=()=>{e.setFillAngle(0),t(Bt(U.proContent.enabledRasterEngraving,{"Raster Direction":"X axis"}))},i=()=>{e.setFillAngle(90),t(Bt(U.proContent.enabledRasterEngraving,{"Raster Direction":"Y axis"}))},n=()=>"M 33,3 33,26 10,26 10,10 26,10 26,19 17,19 17,17 24,17 24,12 12,12 12,24 31,24 31,5 5,5 5,31 30,31 30,28 35,32 30,36 30,33 3,33 3,3 Z",s=()=>"M 30,3 30,0 35,4 30,8 30,5 5,5 5,10 33,10 33,19 5,19 5,24 33,24 33,33 3,33 3,31 31,31 31,26 3,26 3,17 31,17 31,12 3,12 3,3 Z",a=()=>"M 5,3 5,31 10,31 10,3 19,3 19,31 24,31 24,3 33,3 33,30 36,30 32,35 28,30 31,30 31,5 26,5 26,33 17,33 17,5 12,5 12,33 3,33 3,3 Z";return Ai.default.createElement("div",{className:"fill-strategy"},Ai.default.createElement("h5",{className:"fill-strategy__header"},"Fill Method",Ai.default.createElement(rn,{className:"ms-1",placement:"top",popoverContent:Ai.default.createElement("div",null,Ai.default.createElement("p",null,"The ",Ai.default.createElement("b",null,"offset ")," fill method starts at the center of an area and works its way around the edges of your design carving outward. ",Ai.default.createElement("b",null,"Raster "),"moves back and forth in a linear direction."),Ai.default.createElement("p",null,"Using raster along the wood grain helps hides tool marks and leaves a clean, smooth carved pocket."),Ai.default.createElement("p",null,"Learn more on our ",Ai.default.createElement("a",{href:"https://easel.com/features/raster-fill",target:"_blank",rel:"noreferrer"},"Raster overview page"),"."))})),Ai.default.createElement("div",{className:"fill-strategy__option-groups"},Ai.default.createElement("div",{className:"fill-strategy__option-group fill-strategy__option-group--offset"},Ai.default.createElement("h5",{className:"fill-strategy__option-group-header"},"Offset"),Ai.default.createElement("div",{className:"fill-strategy__options"},Ai.default.createElement(_u,{iconPath:n(),active:e.fillAngle==null,onClick:r}))),Ai.default.createElement("div",{className:"fill-strategy__option-group fill-strategy__option-group--raster"},Ai.default.createElement("h5",{className:"fill-strategy__option-group-header"},"Raster",Ai.default.createElement(rn,{id:"raster-filling-warning",placement:"top",popoverTitle:"Raster Filling",popoverContent:Ai.default.createElement("span",null,"Carving with raster fill requires an",Ai.default.createElement("a",{href:"https://inventables.zendesk.com/hc/en-us/articles/360012849133-Easel-Pro-FAQ-and-Overview",target:"_blank",rel:"noreferrer"}," Easel Pro")," subscription.")},Ai.default.createElement(qt,null))),Ai.default.createElement("div",{className:"fill-strategy__options"},Ai.default.createElement(_u,{iconPath:s(),label:"X axis",active:e.fillAngle===0,onClick:o}),Ai.default.createElement(_u,{iconPath:a(),label:"Y axis",active:e.fillAngle===90,onClick:i})))))},Zxe=Wht;var Uz=M(P("prop-types"),1),Ra=M(P("react"),1);var uD=class extends Ra.default.Component{constructor(){super(...arguments);y(this,"rampingVerticalPath",()=>"M 18.40,36.19 C 18.40,36.19 0.41,36.19 0.41,36.19 0.41,36.19 0.41,0.23 0.41,0.23 0.41,0.23 18.40,0.23 18.40,0.23 18.40,0.23 18.40,36.19 18.40,36.19 Z");y(this,"ramping5DegPath",()=>"M 35.41,35.50 C 35.41,35.50 0.46,35.50 0.46,35.50 0.46,35.50 0.46,15.74 0.46,15.74 0.46,15.74 35.41,21.15 35.41,21.15 35.41,21.15 35.41,35.50 35.41,35.50 Z");y(this,"ramping20DegPath",()=>"M 35.83,35.72 C 35.83,35.72 0.33,35.72 0.33,35.72 0.33,35.72 0.33,8.74 0.33,8.74 0.33,8.74 35.83,27.03 35.83,27.03 35.83,27.03 35.83,35.72 35.83,35.72 Z")}render(){return Ra.default.createElement("div",{className:"ramping-settings"},Ra.default.createElement("h5",{className:"fill-strategy__header"},"Plunge",Ra.default.createElement(rn,{className:"ms-1",placement:"top",popoverContent:Ra.default.createElement("div",null,Ra.default.createElement("p",null,"Ramping determines the angle at which to ease a bit into a cut, to reduce bit wear and heat build up. Use shallow angles for harder materials and steep angles for softer ones."))})),Ra.default.createElement("div",{className:"ramping-settings__option-groups"},Ra.default.createElement("div",{className:"ramping-settings__option-group ramping-settings__option-group--default"},Ra.default.createElement("h5",{className:"ramping-settings__option-group-header"},"Vertical"),Ra.default.createElement(_u,{iconPath:this.rampingVerticalPath(),label:"",active:this.props.rampingAngle==null,onClick:()=>this.props.setRampingAngle(null)})),Ra.default.createElement("div",{className:"ramping-settings__option-group ramping-settings__option-group--pro"},Ra.default.createElement("h5",{className:"ramping-settings__option-group-header"},"Ramp",Ra.default.createElement(qt,null)),Ra.default.createElement("div",{className:"ramping-settings__options"},Ra.default.createElement(_u,{iconPath:this.ramping5DegPath(),label:"5\xB0",active:this.props.rampingAngle===5,onClick:()=>this.props.setRampingAngle(5)}),Ra.default.createElement(_u,{iconPath:this.ramping20DegPath(),label:"20\xB0",active:this.props.rampingAngle===20,onClick:()=>this.props.setRampingAngle(20)})))))}};y(uD,"propTypes",{rampingAngle:Uz.default.number,setRampingAngle:Uz.default.func.isRequired});var Jxe=uD;var Eu=M(P("react"),1),pD=P("react-redux");var Vht=({bitKey:e})=>Eu.default.createElement("div",{className:"milling-direction"},Eu.default.createElement("h5",{className:"milling-direction__header"},"Milling Direction"),Eu.default.createElement("div",{className:"milling-direction__option-groups"},Eu.default.createElement("div",{className:"milling-direction__option-group"},Eu.default.createElement("div",{className:"milling-direction__options gap-2"},Eu.default.createElement(Rz,{direction:"default",bitKey:e,icon:"slash-circle"}),Eu.default.createElement(Rz,{direction:"climb",bitKey:e,icon:"arrow-counterclockwise"}),Eu.default.createElement(Rz,{direction:"conventional",bitKey:e,icon:"arrow-clockwise"})))));function Rz({bitKey:e,direction:t,icon:r}){let o=(0,pD.useDispatch)(),i=(0,pD.useSelector)(s=>Ge.getMillingDirection(s,e)),n=He("Changed Milling Direction");return Eu.default.createElement("div",{className:"cut-strategy-option d-flex"},Eu.default.createElement("button",{className:i===t?"btn btn-primary":"btn btn-default",onClick:()=>{n({Direction:t,Bit:e}),o(W.actions.setMillingDirection(e,t))}},Eu.default.createElement("i",{className:`bi bi-${r}`})),Eu.default.createElement("label",null,vr.capitalize(t)))}var Kxe=Vht;var jz=class extends pr.default.Component{constructor(){super(...arguments);y(this,"untested",()=>this.props.settingsMappings.some(r=>r.untested));y(this,"isUsingSaved",()=>this.props.settingsMappings.some(r=>r.isUsingSaved));y(this,"deniedUsingSaved",()=>this.props.settingsMappings.some(r=>r.deniedUsingSaved));y(this,"getState",()=>({untestedWasUpdated:!1}));y(this,"updateState",()=>{this.setState(this.getState())});y(this,"updateUntested",()=>{this.setState(le(this.getState(),{untestedWasUpdated:!0}))});y(this,"setFeedRate",(r,o,i,n)=>{H.trackEventOnce("Cut Settings - changed setting",{value:o,source:"feed rate"}),this.props.setFeedRate(r,n)});y(this,"setPlungeRate",(r,o,i,n)=>{H.trackEventOnce("Cut Settings - changed setting",{value:o,source:"plunge rate"}),this.props.setPlungeRate(r,n)});y(this,"setDepthPerPass",(r,o,i,n)=>{H.trackEventOnce("Cut Settings - changed setting",{value:o,source:"depth per pass"}),this.props.setDepthPerPass(r,n)});y(this,"setSpindleSpeed",(r,o)=>{H.trackEventOnce("Cut Settings - changed setting",{value:o,source:"spindle speed"}),this.props.setSpindleSpeed(r,o)});y(this,"useAutomatic",r=>{H.trackEventOnce("Cut Settings - chose automatic mode"),this.props.setUseCustom(r,!1)});y(this,"setFillAngle",(r,o)=>{this.props.setFillAngle(r,o)});y(this,"setRampingAngle",(r,o)=>{H.trackEvent(U.proContent.enabledRamping,{"Ramping Angle (deg)":o,"Pass Type":r}),this.props.setRampingAngle(r,o)});y(this,"useManual",r=>{H.trackEventOnce("Cut Settings - chose manual mode"),this.props.setUseCustom(r,!0)});y(this,"bitStringFromKey",r=>r===Vo.bitKeys.bit?"roughing":"detail");y(this,"untestedBitsDescription",()=>{if(this.untested()){if(this.props.settingsMappings.length===1)return"bit";{let r=[];for(let{bitKey:o,untested:i}of this.props.settingsMappings)i&&r.push(this.bitStringFromKey(o));return r.length===1?`${r[0]} bit`:`${r.join(" and ")} bits`}}});y(this,"savedCutSettingsDateElements",()=>{let r=[];for(let o=0;o<this.props.settingsMappings.length;o++){let{savedCutSettings:i,bitKey:n}=this.props.settingsMappings[o];if(i!=null&&i.updatedAt){let s=n===Vo.bitKeys.bit?"roughing":"detail";r.push(pr.default.createElement("span",{key:n},o>0&&pr.default.createElement("span",null," and"),pr.default.createElement("span",null," with the "),pr.default.createElement("strong",null,`${s} bit`),pr.default.createElement("span",null,` from ${ai.formatDate(new Date(i.updatedAt))}`)))}}return r});y(this,"showUserModal",()=>{H.trackEvent(U.showedAccountModal,{proRequired:!0,source:"Job Settings"}),this.props.showUserModalAccountTab()});y(this,"onEditCutSettings",()=>{this.props.openCutSettingsToolboxModal()});y(this,"getPopover",()=>{if(this.props.workpieceLoading)return null;let r;if(this.untested())return r=pr.default.createElement("i",{className:"alert fa fa-exclamation-circle"}),pr.default.createElement(cD,{id:"bit-job-settings__untested-warning",className:"bit-job-settings__untested-warning",placement:"bottom",popoverClass:"popover__untested-bit",popoverTitle:pr.default.createElement("span",{className:"bit-job-settings__popover-title"},r," CAUTION"),popoverContent:pr.default.createElement("span",{},`Inventables hasn't tested this combination of material and ${this.untestedBitsDescription()}. You may need to experiment to find optimal settings. `,pr.default.createElement("i",{className:"bi bi-question-circle-fill"}),pr.default.createElement("a",{href:"https://inventables.zendesk.com/hc/en-us/articles/360012848433-Calculating-Your-Cut-Settings-Basic-Feeds-and-Speeds-Information",target:"_blank",rel:"noreferrer",onClick:o=>o.stopPropagation()}," How to Calculate Cut Settings")),showOnMount:this.state.untestedWasUpdated},r);if(this.isUsingSaved())return r=pr.default.createElement("img",{src:EASEL_ASSETS.images.savedCutSettings}),pr.default.createElement(cD,{id:"bit-job-settings__using-saved",className:"bit-job-settings__untested-warning",placement:"bottom",popoverClass:"popover__saved-cut-setting",popoverTitle:pr.default.createElement("span",{className:"bit-job-settings__popover-title"},r," Loaded Saved Cut Settings"),popoverContent:pr.default.createElement("div",{},pr.default.createElement("span",null,"Loaded your saved cut settings for "),pr.default.createElement("strong",null,this.props.material.displayName),this.savedCutSettingsDateElements()),showOnMount:!1},r);if(this.deniedUsingSaved())return pr.default.createElement(cD,{id:"bit-job-settings__denied-saved",className:"bit-job-settings__untested-warning",placement:"bottom",popoverClass:"popover__denied-cut-setting",popoverTitle:pr.default.createElement("span",{className:"bit-job-settings__popover-title"},pr.default.createElement(qt,{type:"left"}),"Upgrade Subscription"),popoverContent:pr.default.createElement("div",{},pr.default.createElement("span",null,"Easel has saved settings for "),pr.default.createElement("strong",null,this.props.material.displayName),this.savedCutSettingsDateElements(),pr.default.createElement("span",null,". Do you want to apply your saved settings to this project?"),pr.default.createElement("div",{className:"bit-job-settings__popover-link"},pr.default.createElement(oe,{onClick:()=>this.showUserModal()},"Upgrade to Easel Pro"))),showOnMount:!1},pr.default.createElement(qt,null))});y(this,"state",this.getState())}componentDidUpdate(r){(r.easelProAccessType!==this.props.easelProAccessType||(r.bit&&r.bit.id)!==(this.props.bit&&this.props.bit.id)||(r.detailBit&&r.detailBit.id)!==(this.props.detailBit&&this.props.detailBit.id)||r.useDetailBit!==this.props.useDetailBit||r.material!==this.props.material||r.jobSettings!==this.props.jobSettings)&&this.updateUntested(),(r.machineType!==this.props.machineType||r.machineProfileId!==this.props.machineProfileId)&&this.updateState()}componentDidMount(){N.store.subscribeWithSelector(Wi.getCutSettings,this.updateState)}render(){if(!(this.props.settingsMappings.length>0))return null;let r=this.getPopover(),o=this.props.settingsMappings.length>1,i=bt.supportsSpindleSpeed(this.props.machineType,this.props.spindleType,this.props.automaticSpindleControl);return pr.default.createElement("div",null,pr.default.createElement(oe,{href:"#",className:"dropdown-toggle job-settings__dropdown-toggle","data-bs-toggle":"dropdown","data-bs-auto-close":"outside","data-display":"static","data-bs-offset":"0,-0.5",onClick:function(){H.trackEventOnce("Cut Settings - open panel tab")}},"Cut Settings",r),pr.default.createElement("div",{className:"dropdown-menu cut-dropdown dropdown-menu-end"},pr.default.createElement("div",{className:"cut-dropdown__bits"},(()=>{let n=[];for(let{bit:s,bitKey:a,feedRate:l,plungeRate:c,depthPerPass:u,fillAngle:p,rampingAngle:m,isUsingSaved:h,spindleSpeed:f,useCustom:x,untested:v}of this.props.settingsMappings){let b;o&&(a===Vo.bitKeys.bit?b="Roughing":a===Vo.bitKeys.outlineBit?b="Outlines":this.props.isThreeD?b="Finishing":b="Detail"),n.push(pr.default.createElement(qxe,{bit:s,material:this.props.material,id:a,key:a,bitKey:a,title:b,feedRate:l,plungeRate:c,depthPerPass:u,spindleSpeed:f??this.props.defaultSpindleSpeed,unit:this.props.unit,isUsingSaved:h,useManual:x??!1,untested:v??!1,onUseManual:this.useManual.bind(this,a),onUseAutomatic:this.useAutomatic.bind(this,a),onChangeFeedRate:this.setFeedRate.bind(this,a),onChangePlungeRate:this.setPlungeRate.bind(this,a),onChangeDepthPerPass:this.setDepthPerPass.bind(this,a),onChangeSpindleSpeed:this.setSpindleSpeed.bind(this,a),onEditCutSettings:this.onEditCutSettings,showSpindleSpeed:i,isThreeD:this.props.isThreeD},!this.props.isThreeD&&pr.default.createElement(pr.default.Fragment,null,a!=="outlineBit"&&pr.default.createElement(Zxe,{setFillAngle:this.setFillAngle.bind(this,a),fillAngle:p}),pr.default.createElement(Jxe,{setRampingAngle:this.setRampingAngle.bind(this,a),rampingAngle:m}),a!=="outlineBit"&&p==null&&it("milling_direction")&&pr.default.createElement(Kxe,{bitKey:a}))))}return n})())))}},Uht=ne({component:jz,mapStateToProps:e=>{let t=q.getActiveMaterial(e),r=Y.getMachineSettingsState(e),o=et.getCurrentProfileId(e),i=Q.isProEnabled(Date.now(),e),n=Ge.getSettings(e),s=!!Ue.getMesh(e),a=re.bit(e),l=re.detailBit(e),c=re.detailBitEnabled(e),u=re.outlineBit(e),p=re.outlineBitEnabled(e),m=(f,x,v)=>{let b=m8(f,t,x,r,o,i,n),S=b.isUsingLoadedSavedSettings(),w=b.deniedAccessToSavedSettings(),_=b.savedSettings(),E=le(v,b.getSettings());return le({bit:x,bitKey:f,untested:v.untested,deniedUsingSaved:w,isUsingSaved:S,savedCutSettings:_},E)},h=[];return n.bit&&h.push(m(Vo.bitKeys.bit,a,n.bit)),(c||s)&&n.detailBit&&h.push(m(Vo.bitKeys.detailBit,l,n.detailBit)),p&&n.outlineBit&&h.push(m(Vo.bitKeys.outlineBit,u,n.outlineBit)),{easelProAccessType:Q.easelProAccessType(Date.now(),e),spindleType:Y.getSpindleType(e),machineType:Y.getMachineType(e),automaticSpindleControl:Y.getAutomaticSpindleControl(e),machineProfileId:et.getCurrentProfileId(e),bit:a,detailBit:l,useDetailBit:c,outlineBit:u,useOutlineBit:p,unit:Me.getPreferredUnit(e),defaultSpindleSpeed:Y.getSpindleRPM(e),isThreeD:s,material:t,machineSettings:r,isProEnabled:i,jobSettings:n,settingsMappings:h,workpieceLoading:W.getLoadingStatus(e)!=="complete"}},mapDispatchToProps:e=>({openCutSettingsToolboxModal:()=>{H.trackEvent(U.toolbox.opened,{source:"Job Settings",tab:Ye.tabs.cutSettings}),e(En.actions.openToolboxModal(Ye.tabs.cutSettings))},showUserModalAccountTab:()=>{e(De.actions.showUserModalAccountTab())},setFeedRate:(t,r)=>{e(W.actions.setFeedRate(t,r))},setPlungeRate:(t,r)=>{e(W.actions.setPlungeRate(t,r))},setDepthPerPass:(t,r)=>{e(W.actions.setDepthPerPass(t,r))},setSpindleSpeed:(t,r)=>{e(W.actions.setSpindleSpeed(t,r))},setUseCustom:(t,r)=>{e(W.actions.setUseCustomJobSettings(t,r))},setFillAngle:(t,r)=>{e(W.actions.setFillAngle(t,r))},setRampingAngle:(t,r)=>{e(W.actions.setRampingAngle(t,r))}})}),Qxe=Uht;var dD=M(P("react"),1),Rht=()=>dD.default.createElement("div",{className:"dropdown-external-link-3D-setup"},"Need help?",dD.default.createElement("br",null),dD.default.createElement("a",{href:"https://support.easel.com/hc/en-us/articles/10369535844243-3D-Carving-Instructions",target:"_blank",rel:"noreferrer"},"View 3D carving instructions")),e4e=Rht;var Rh=M(P("react"),1),Pv=P("react-redux");var ts=M(P("react"),1),t4e=P("react-redux");function jht({bit:e,bits:t,open:r}){let o=(0,t4e.useDispatch)(),i=He(U.changedBit),n=He(U.removedPass),s=l=>{o(W.actions.setOutlineBit(l)),i(ef(l,"outline"))},a=()=>{o(W.actions.deactivateOutlineBit()),n({"Pass Type":"outline"})};return ts.default.createElement(c1,{showDropdown:r,rootClass:"outline-bit",buttonId:"outline-bit-link",label:ts.default.createElement(ts.default.Fragment,null,ts.default.createElement("label",null,"Outline bit",ts.default.createElement(rn,{className:"d-inline ms-1",placement:"bottom",popoverContent:ts.default.createElement(ts.default.Fragment,null,"New in Beta -",ts.default.createElement("br",null),"Select a third bit to carve outlines.",ts.default.createElement("br",null),ts.default.createElement("a",{href:"https://easel.com/features/outline-bits-beta",target:"_blank",rel:"noreferrer"},"Learn more and share feedback"))})),ts.default.createElement("span",{className:"current-setting"},Nt.descriptionForBit(e)),ts.default.createElement(oe,{className:"remove-outline-bit",onClick:a},"\xD7")),dropdownClass:"bit-dropdown",dropdown:ts.default.createElement(ts.default.Fragment,null,ts.default.createElement(a1,null),ts.default.createElement(s1,{subtab:"bits"}),ts.default.createElement("div",null,ts.default.createElement(fx,{bit:e,bits:t,onChange:s})),ts.default.createElement("p",{className:"center-text",style:{paddingBottom:0,paddingTop:20}},ts.default.createElement("i",{className:"fa fa-exclamation-circle"})," Power off your machine before changing bits or collets."))})}var r4e=jht;function Ght(){let[e,t]=(0,Rh.useState)(!1),r=(0,Rh.useRef)(null),o=(0,Pv.useSelector)(re.bit),i=(0,Pv.useSelector)(re.outlineBit)??o,n=(0,Pv.useSelector)(re.outlineBitEnabled),s=(0,Pv.useSelector)(re.bitsForOutlining);return(0,Rh.useEffect)(()=>{r.current===!1&&n&&t(!0),r.current=n},[n]),n?Rh.default.createElement("div",{id:"btn-bit-size",className:"dropdown"},Rh.default.createElement(r4e,{open:e,bit:i,bits:s})):null}var o4e=Ght;var tf=M(P("react"),1),jh=P("react-redux"),gx=P("react-bootstrap");var Hht={id:"other-bit",width:.125,unit:"in",type:"Upcut"},zht=()=>{let e=(0,jh.useDispatch)(),t=He(U.addedPass),r=(0,jh.useSelector)(re.bit),o=(0,jh.useSelector)(re.detailBit),i=(0,jh.useSelector)(re.outlineBit)??r,n=(0,jh.useSelector)(re.detailBitEnabled),s=(0,jh.useSelector)(re.outlineBitEnabled),a=(0,jh.useSelector)(f=>re.findById(f,"INVENTABLES_GRAY_BIT")??Hht),l=()=>{e(W.actions.promoteVBitToDetail(a)),t(ef(o,"detail")),J.emit("show-project-settings-dropdown","main-bit")},c=()=>{Fe("Make V Bit Detail Bit?","In order to use a second bit in combination with a V Bit, you must make the V Bit the detail bit and choose a flat bit as the main bit. Would you like to use your current V Bit as the detail bit?",[{text:"Cancel"},{text:"Yes, use V-Bit for detailing",action:l}])},u=()=>{r.type==="V"?c():(e(W.actions.activateDetailBit()),t(ef(o,"detail")))},p=()=>{e(W.actions.activateOutlineBit()),t(ef(i,"outline"))};return n&&s?null:!n&&!s?tf.default.createElement(gx.Dropdown,{className:"add-bit-button",onSelect:f=>{f==="detail"?u():f==="outline"&&p()}},tf.default.createElement(je,{placement:"top",id:"add-bit-tooltip",tooltipContent:"Add additional bit"},tf.default.createElement(gx.Dropdown.Toggle,{as:oe,id:"btn-add-bit",variant:"none"},"+")),tf.default.createElement(gx.Dropdown.Menu,null,tf.default.createElement(gx.Dropdown.Item,{eventKey:"detail"},"Add Detail Bit"),tf.default.createElement(gx.Dropdown.Item,{eventKey:"outline"},"Add Outline Bit"))):tf.default.createElement("div",{className:"add-bit-button"},tf.default.createElement(je,{placement:"bottom",id:"add-bit-tooltip",tooltipContent:n?"Add outline bit":"Add detail bit"},tf.default.createElement(oe,{id:"btn-add-bit",onClick:n?p:u},"+")))},i4e=zht;var Xht=Ic.default.forwardRef(function({isThreeD:t},r){return Ic.default.createElement("div",{className:"project-settings",ref:r},t&&Ic.default.createElement("div",{className:"btn-carving-help"},Ic.default.createElement(e4e,null)),Ic.default.createElement("div",{className:"dropdown btn-material"},Ic.default.createElement(Exe,null)),Ic.default.createElement("div",{className:"dropdown btn-bit-size"},Ic.default.createElement(Uxe,null)),Ic.default.createElement(Gxe,null),!t&&Ic.default.createElement(o4e,null),!t&&Ic.default.createElement(i4e,null),Ic.default.createElement("div",{id:"btn-cut-settings",className:"dropdown"},Ic.default.createElement(Qxe,null)))}),n4e=Xht;var cl=M(P("react"),1);var iy=M(P("react"),1),xx=P("react-redux");var yx=M(P("react"),1),mD=M(P("prop-types"),1);var fD=class extends yx.default.Component{constructor(){super(...arguments);y(this,"onClick",r=>{this.props.onClick(r),r.preventDefault(),r.stopPropagation()})}render(){let{tooltip:r,className:o,icon:i}=this.props;return yx.default.createElement("a",{href:"#",onClick:this.onClick,className:`fabutton ${o||""}`},!r&&yx.default.createElement("i",{className:`fa ${i}`}),r&&yx.default.createElement(je,{placement:r.placement,tooltipContent:r.text},yx.default.createElement("i",{className:`fa ${i}`})))}};y(fD,"propTypes",{onClick:mD.default.func.isRequired,icon:mD.default.string.isRequired,className:mD.default.string});var hD=fD;var Yht=()=>{let e=(0,xx.useDispatch)(),t=(0,xx.useSelector)(Y.getWorkArea),r=(0,xx.useSelector)(q.getXYZeroLocation),o=(0,xx.useSelector)(q.getMaterialDimensions),i=(a,l,c)=>{e(W.actions.homeViewport({xyZeroLocation:a,materialDimensions:l,workArea:c}))};return iy.default.createElement("div",{id:"viewport-controls"},iy.default.createElement("div",{className:"viewport-btn-group"},iy.default.createElement(hD,{icon:"fa-minus",onClick:()=>{e(W.actions.zoomOut())}}),iy.default.createElement(hD,{icon:"fa-plus",onClick:()=>{e(W.actions.zoomIn())}})),iy.default.createElement("div",{className:"viewport-btn-group"},iy.default.createElement(hD,{icon:"fa-home",onClick:()=>i(r,o,t)})))},s4e=Yht;var al=M(P("react"),1);var Gh=M(P("react"),1);var qht=function({matrix:e}){let{WIDTH:t,LENGTH:r,OFFSET:o,FILLET:i,KEEP_AWAY:n}=l5,s="#9C9C9C",a="#E4AFB0";return Gh.default.createElement("g",{transform:`matrix(${e.toArray()})`},Gh.default.createElement("clipPath",{id:"positive-area"},Gh.default.createElement("rect",{x:0,y:0,width:r+n,height:r+n})),Gh.default.createElement("g",{clipPath:"url(#positive-area)"},Gh.default.createElement("rect",{fill:a,x:-o,y:-o,width:t+n,height:r+n,rx:i+n,ry:i+n}),Gh.default.createElement("rect",{fill:a,x:-o,y:-o,width:r+n,height:t+n,rx:i+n,ry:i+n}),Gh.default.createElement("rect",{fill:s,x:-o,y:-o,width:t,height:r,rx:i,ry:i}),Gh.default.createElement("rect",{fill:s,x:-o,y:-o,width:r,height:t,rx:i,ry:i})))},a4e=qht;var $ht=function({unit:e,minLabelStepSize:t,minLineStepSize:r,boundingBox:{minX:o,maxX:i,minY:n,maxY:s}}){let a=null,l=null,c=null,u=function(b,S){for(let w of b)if(w>=S)return w;return b[b.length-1]},p=b=>Math.abs(Math.round(b/l)-b/l)<.01;switch(e){case"in":a=1,l=u([1,2,6],t),c=u([.03125,.125,1],r);break;case"mm":a=25.4;var m=1/25.4;l=u([10*m,50*m,100*m],t),l>10*m?c=10*m:c=u([1*m,5*m,10*m],r);break}return{mapXLines:b=>{let S=[];for(let w=Math.ceil(o/c);w<=Math.floor(i/c);w++){let _=c*w;S.push(b(_,p(_)))}return S},mapYLines:b=>{let S=[];for(let w=Math.ceil(n/c);w<=Math.floor(s/c);w++){let _=c*w;S.push(b(_,p(_)))}return S},mapXLabels:b=>{let S=[];for(let w=Math.ceil(o/l);w<=Math.floor(i/l);w++){let _=l*w;S.push(b(_,_*a))}return S},mapYLabels:b=>{let S=[];for(let w=Math.ceil(n/l);w<=Math.floor(s/l);w++){let _=l*w;S.push(b(_,_*a))}return S}}},l4e=$ht;var Gz=class extends al.default.Component{constructor(){super(...arguments);y(this,"renderShadow",()=>{let{viewWidth:r,viewHeight:o,workArea:i,screenMatrix:n,xyZeroLocation:s,materialDimensions:a}=this.props,l=ot.materialBoundary(a,s),{x:c,y:u}=n.transformedPoint({x:l.minX,y:l.minY+i.y}),{x:p,y:m}=n.transformedVector({x:i.x,y:-i.y});return al.default.createElement("path",{className:"editor-grid__shadow",d:`M 0,0 l ${r},0 0,${o} ${-r},0 M ${c},${u} l ${p},0 0,${m}, ${-p},0`})});y(this,"renderWorkArea",()=>{let{workArea:r,screenMatrix:o,xyZeroLocation:i,materialDimensions:n}=this.props,s=ot.materialBoundary(n,i),{x:a,y:l}=o.transformedPoint({x:s.minX,y:s.minY+r.y}),{x:c,y:u}=o.transformedVector({x:r.x,y:-r.y});return al.default.createElement("rect",{className:"editor-grid__work-area",x:a,y:l,width:c,height:u})});y(this,"renderTileArea",()=>{let{isTileSelected:r,selectedTile:o,screenMatrix:i}=this.props;if(!r)return null;let{x:n,y:s}=i.transformedPoint({x:0,y:o.getDimensions().y+o.getOffsetDistance()}),{x:a,y:l}=i.transformedVector({x:o.getDimensions().x,y:-o.getDimensions().y});return al.default.createElement("rect",{className:"editor-grid__tile-area",x:n,y:s,width:a,height:l})});y(this,"renderMaterial",()=>{let{xyZeroLocation:r,screenMatrix:o,materialDimensions:i}=this.props,n=ot.materialBoundary(i,r),{x:s,y:a}=o.transformedPoint({x:n.minX,y:n.maxY}),{x:l,y:c}=o.transformedVector({x:i.x,y:-i.y});return al.default.createElement("rect",{className:"editor-grid__material",x:s,y:a,width:l,height:c})});y(this,"renderMaterialStroke",()=>{let{xyZeroLocation:r,screenMatrix:o,materialDimensions:i}=this.props,n=ot.materialBoundary(i,r),{x:s,y:a}=o.transformedPoint({x:n.minX,y:n.maxY}),{x:l,y:c}=o.transformedVector({x:i.x,y:-i.y});return al.default.createElement("rect",{className:"editor-grid__material-stroke",x:s,y:a,width:l,height:c})});y(this,"renderLines",r=>{let{xyZeroLocation:o,screenMatrix:i,materialDimensions:n}=this.props,s=ot.materialBoundary(n,o);return al.default.createElement("g",{className:"editor-grid__lines"},r.mapXLines(function(a,l){let{x:c,y:u}=i.transformedPoint({x:a,y:s.minY}),{x:p,y:m}=i.transformedPoint({x:a,y:s.maxY}),h=a===0?"editor-grid__line--zero":l?"editor-grid__line":"editor-grid__line--secondary";return al.default.createElement("line",{key:`x=${a}`,className:h,x1:c,y1:u,x2:p,y2:m})}),r.mapYLines(function(a,l){let{x:c,y:u}=i.transformedPoint({x:s.minX,y:a}),{x:p,y:m}=i.transformedPoint({x:s.maxX,y:a}),h=a===0?"editor-grid__line--zero":l?"editor-grid__line":"editor-grid__line--secondary";return al.default.createElement("line",{key:`y=${a}`,className:h,x1:c,y1:u,x2:p,y2:m})}))});y(this,"renderLabels",r=>{let{viewHeight:o,screenMatrix:i,xyZeroLocation:n,materialDimensions:s}=this.props,a=ot.materialBoundary(s,n),l=16,c=o-32,u=4;return al.default.createElement("g",{className:"editor-grid__labels"},r.mapXLabels(function(p,m){let h=i.transformedPoint({x:p,y:a.minY});return al.default.createElement("text",{key:`x=${p}`,className:"editor-grid__label editor-grid__label--x",x:h.x,y:Math.min(h.y+u,c)},m.toFixed(0))}),r.mapYLabels(function(p,m){let h=i.transformedPoint({x:a.minX,y:p});return al.default.createElement("text",{key:`y=${p}`,className:"editor-grid__label editor-grid__label--y",x:Math.max(h.x-u,l),y:h.y},m.toFixed(0))}))});y(this,"getViewBoundary",()=>{let{viewWidth:r,viewHeight:o,materialDimensions:i,xyZeroLocation:n,screenMatrix:s}=this.props,a=ot.materialBoundary(i,n),l=s.inverse(),c=l.transformedPoint({x:0,y:o}),u=l.transformedPoint({x:r,y:0});return{minX:Math.max(a.minX,c.x),minY:Math.max(a.minY,c.y),maxX:Math.min(a.maxX,u.x),maxY:Math.min(a.maxY,u.y)}})}render(){let{viewWidth:r,viewHeight:o,unit:i,wasteboardType:n,screenMatrix:s}=this.props,a=s.transformedVector({x:1,y:1}).x,l=25/a,c=8/a,u=this.getViewBoundary(),p=l4e({unit:i,minLabelStepSize:l,minLineStepSize:c,boundingBox:u});return al.default.createElement("svg",{className:"editor-grid",width:r,height:o},this.renderShadow(),this.renderMaterial(),this.renderWorkArea(),this.renderTileArea(),this.renderLines(p),n==="carvey"?al.default.createElement(a4e,{matrix:s}):void 0,this.renderMaterialStroke(),this.renderLabels(p),al.default.createElement("circle",{cx:s.transformedPoint({x:0,y:0}).x,cy:s.transformedPoint({x:0,y:0}).y,r:3,className:"editor-grid__origin"}))}},Zht=ne({mapStateToProps:function(e){return{xyZeroLocation:q.getXYZeroLocation(e),materialDimensions:q.getMaterialDimensions(e),workArea:Y.getWorkArea(e),machineType:Y.getMachineType(e),wasteboardType:bt.currentWasteboardType(e),unit:Me.getPreferredUnit(e),isTileSelected:Dt.isTileSelected(e),selectedTile:Dt.getSelectedTile(e)}},component:Gz}),c4e=Zht;var Hh=M(P("prop-types"),1),vx=M(P("react"),1);var bx=M(P("prop-types"),1),Ii=M(P("react"),1);var u4e=({onUpdate:e,min:t,max:r,value:o,orientation:i})=>{let[n,s]=(0,Ii.useState)(null),[a,l]=(0,Ii.useState)(o),c=(0,Ii.useRef)(null),u=i==="vertical",p=(0,Ii.useCallback)((L,R)=>{if(!n)return null;let z;u?z=(R-n.y)/c.current.offsetHeight:z=(L-n.x)/c.current.offsetWidth;let I=(r-t)*z+a;return Xt.clamp(I,t,r)},[u,n,a,t,r]),m=(0,Ii.useCallback)(({clientX:L,clientY:R})=>{if(n!=null){let z=p(L,R);z!=null&&e(z)}},[n,p,e]),h=(0,Ii.useCallback)(()=>{s(null)},[]),f=(0,Ii.useCallback)(L=>{m(L),L.stopPropagation()},[m]),x=(0,Ii.useCallback)(L=>{m(L),h(),L.stopPropagation()},[m,h]);(0,Ii.useEffect)(()=>{if(n)return window.addEventListener("mousemove",f),window.addEventListener("mouseup",x),()=>{window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",x)}},[n,f,x]);let v=(0,Ii.useCallback)(({clientX:L,clientY:R})=>{s({x:L,y:R}),l(o)},[o]),b=(0,Ii.useCallback)(L=>{let R;if(u){let I=c.current.getBoundingClientRect();R=(L.clientY-I.top)/c.current.offsetHeight}else{let I=c.current.getBoundingClientRect();R=(L.clientX-I.left)/c.current.offsetWidth}let z=t+(r-t)*R;e(z),v(L),l(z),L.stopPropagation()},[u,t,r,e,v]),S=(0,Ii.useCallback)(L=>{v(L),L.stopPropagation()},[v]),w=(0,Ii.useCallback)(L=>{v(L.touches[0])},[v]),_=(0,Ii.useCallback)(L=>{m(L.touches[0])},[m]),E=(0,Ii.useCallback)(()=>{h()},[h]),T=(0,Ii.useCallback)(()=>{h()},[h]),A=()=>{let L=100*(o-t)/(r-t);return u?{top:`${L}%`}:{left:`${L}%`}},O=`scrollbar scrollbar-${i} ${n!=null?"scrolling":""}`;return Ii.default.createElement("div",{className:O,onMouseDown:b},Ii.default.createElement("div",{className:"scrollbar-inner",ref:c},Ii.default.createElement("a",{className:"scrollbar-handle",onMouseDown:S,onTouchStart:w,onTouchEnd:E,onTouchMove:_,onTouchCancel:T,style:A()},Ii.default.createElement("div",{className:"scrollbar-handle-inner"}))))};u4e.propTypes={onUpdate:bx.default.func.isRequired,min:bx.default.number.isRequired,max:bx.default.number.isRequired,value:bx.default.number.isRequired,orientation:bx.default.oneOf(["vertical","horizontal"]).isRequired};var Hz=u4e;var gD=class extends vx.default.Component{constructor(){super(...arguments);y(this,"onHorizontalScrollBar",r=>{this.props.onSetCenter({x:r,y:this.props.center.y})});y(this,"onVerticalScrollBar",r=>{this.props.onSetCenter({x:this.props.center.x,y:r})})}render(){return vx.default.createElement("div",{className:"scrollbars both"},vx.default.createElement(Hz,{onUpdate:this.onHorizontalScrollBar,min:0-this.props.horizontalScrollOffset,max:this.props.width-this.props.horizontalScrollOffset,value:this.props.center.x,orientation:"horizontal"}),vx.default.createElement(Hz,{onUpdate:this.onVerticalScrollBar,min:0-this.props.verticalScrollOffset,max:this.props.height-this.props.verticalScrollOffset,value:this.props.center.y,orientation:"vertical"}),vx.default.createElement("div",{className:"corner"}))}};y(gD,"propTypes",{center:Hh.default.shape({x:Hh.default.number,y:Hh.default.number}),width:Hh.default.number.isRequired,height:Hh.default.number.isRequired,onSetCenter:Hh.default.func.isRequired,horizontalScrollOffset:Hh.default.number.isRequired,verticalScrollOffset:Hh.default.number.isRequired});var p4e=gD;var qz=M(P("react"),1),g4e=P("react-redux");var Yz=M(P("react"),1),f4e=P("react-redux");var Sx=M(P("react"),1),zz=class extends Sx.default.Component{constructor(t){super(t),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.state={hovering:!1}}handleMouseEnter(){this.setState({hovering:!0})}handleMouseLeave(){this.setState({hovering:!1})}render(){let{volume:t,textWidth:r,x:o,y:i,scale:n,selectVolumeGroup:s}=this.props,{hovering:a}=this.state,l=t.name.split(`
`),c=.25*n,u=(l.length+.5)*n;return Sx.default.createElement("g",{className:"volume-label-text"},Sx.default.createElement("rect",{x:o,y:i,rx:c,width:r,height:u,className:`volume-label-text__background${a?"--hover":""}`}),l.map((p,m)=>Sx.default.createElement("text",{key:`volume-label-text-${t.id}:${m}`,x:o+.25*n,y:i+(m+1.05)*n,className:"volume-label-text__text",style:{font:`${m===0?"bold":"normal"} ${n}px Lato`}},p)),Sx.default.createElement("rect",{x:o,y:i,rx:c,width:r,height:u,className:"volume-label-text__overlay",onClick:s,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}))}},d4e=zz;var f1=M(P("react"),1),yD=P("react-bootstrap"),Xz=class extends f1.default.Component{constructor(t){super(t),this.state={hovering:!1},this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this)}handleMouseEnter(){this.setState({hovering:!0})}handleMouseLeave(){this.setState({hovering:!1})}render(){let{volume:t,x:r,y:o,scale:i,selectVolumeGroup:n}=this.props,s="1.5",a="1.5",l=Math.min(i,6);return f1.default.createElement(yD.OverlayTrigger,{placement:"top",delay:{show:250,hide:400},overlay:f1.default.createElement(yD.Tooltip,{className:"volume-label-icon-tooltip"},t.name)},f1.default.createElement("g",{className:"volume-label-icon",transform:`translate(${r}, ${o}) scale(${l})`},f1.default.createElement("circle",{cx:s,cy:s,r:a,className:`volume-label-icon__background${this.state.hovering?"--hover":""}`}),f1.default.createElement("path",{className:"volume-label-icon__icon",transform:"translate(0.4, 0.6) scale(0.03)",d:"M 59.18917,0 H 36.47378 C 33.89076,0 31.41409,1.01801 29.59079,2.84132 L 2.84892,29.58319 c -3.79856,3.79856 -3.79856,9.95223 0,13.75079 l 20.28431,20.28431 c 3.79856,3.79856 9.95223,3.79856 13.75079,0 L 63.62589,36.87642 c 1.82331,-1.8233 2.84132,-4.29997 2.84132,-6.88299 V 7.29323 C 66.48241,3.26676 63.21564,0 59.18917,0 Z m -4.86216,17.01755 a 4.8621575,4.8621575 0 1 1 -9.72431,0 4.8621575,4.8621575 0 1 1 9.72431,0 z"}),f1.default.createElement("circle",{cx:s,cy:s,r:a,className:"volume-label-icon__overlay",onClick:n,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave})))}},m4e=Xz;var Jht=({volume:e,volumesForSelect:t,screenMatrix:r,ppi:o,scale:i})=>{let n=(0,f4e.useDispatch)(),s=()=>{n(W.actions.selectVolumes(t))},a=h=>{let f=e.shape,x=f.rotation===0?f.width:f.height;return h<(x-.5)*o},l=()=>Math.max(...e.name.split(`
`).map(h=>h.length))*.56*i,{x:c,y:u}=r.transformedPoint({x:Ee.boundingBoxLeft([e])+.25,y:Ee.boundingBoxTop([e])-.25}),p=l(),m={volume:e,textWidth:p,x:c,y:u,scale:i,selectVolumeGroup:s};return a(p)?Yz.default.createElement(d4e,{...m}):Yz.default.createElement(m4e,{...m})},h4e=Jht;var Kht=({screenMatrix:e,viewWidth:t,viewHeight:r})=>{let o=(0,g4e.useSelector)(ye.getVolumes),i=e.transformedVector({x:1,y:1}).x,n=10*Math.sqrt(i/10),s=o.filter(a=>a.name!=null);return qz.default.createElement("svg",{className:"volume-name-labels",width:t,height:r},s.map(a=>{let l=[a.id];return a.group!=null&&(l=o.filter(c=>c.group===a.group).map(c=>c.id)),qz.default.createElement(h4e,{key:a.id,volume:a,volumesForSelect:l,screenMatrix:e,ppi:i,scale:n})}))},y4e=Kht;var Dc=M(P("react"),1),of=P("react-redux");var rf=M(P("react"),1),v4e=P("react-redux");var ny=M(P("react"),1);var Mu=M(P("react"),1),x4e=P("react-redux");function Qht({pt1:e,pt2:t,screenMatrix:r,isSnapped:o,isLinked:i,isPreview:n}){let s=(0,x4e.useSelector)(Me.getPreferredUnit),a=ar(e,t);a=Ve.convertFromIn(a,s,Ve.simplePrecision[s]);let l=r.transformedPoint(e),c=r.transformedPoint(t),u={x:(l.x+c.x)/2,y:(l.y+c.y)/2},p=Math.atan2(e.y-t.y,e.x-t.x),m=Math.PI/2-p,h=m+Math.PI/4,f=(0,Mu.useRef)(null),x=f.current?f.current.getBoundingClientRect():{width:8.5*(a||0).toString().length,height:16},v=4,b=7,S=i&&n?x.height+v+8:x.height+v,w=o?"red":"magenta",_=i?"black":"white",E=i?"white":"black";return Mu.default.createElement(Mu.default.Fragment,null,Mu.default.createElement("line",{x1:l.x,y1:l.y,x2:c.x,y2:c.y,stroke:w}),Mu.default.createElement("polygon",{points:[l,{x:l.x+Math.cos(h)*b,y:l.y+Math.sin(h)*b},{x:l.x+Math.cos(Math.PI/2+h)*b,y:l.y+Math.sin(Math.PI/2+h)*b}].map(T=>`${T.x} ${T.y}`).join(", "),style:{fill:w,pointerEvents:"none"}}),Mu.default.createElement("polygon",{points:[c,{x:c.x-Math.cos(h)*b,y:c.y-Math.sin(h)*b},{x:c.x-Math.cos(Math.PI/2+h)*b,y:c.y-Math.sin(Math.PI/2+h)*b}].map(T=>`${T.x} ${T.y}`).join(", "),style:{fill:w,pointerEvents:"none"}}),Mu.default.createElement("line",{x1:l.x+Math.cos(m)*b,y1:l.y+Math.sin(m)*b,x2:l.x-Math.cos(m)*b,y2:l.y-Math.sin(m)*b,stroke:w}),Mu.default.createElement("line",{x1:c.x+Math.cos(m)*b,y1:c.y+Math.sin(m)*b,x2:c.x-Math.cos(m)*b,y2:c.y-Math.sin(m)*b,stroke:w}),Mu.default.createElement("rect",{x:u.x-x.width/2-v/2,y:u.y-x.height/2-v/2,width:x.width+v,height:S,fill:_,rx:"2"}),Mu.default.createElement("text",{ref:f,x:u.x,y:u.y,textAnchor:"middle",dominantBaseline:"central",className:"measurement-line__text",fill:E},a.toFixed(2)),i&&n&&Mu.default.createElement("text",{x:u.x,y:u.y+10,textAnchor:"middle",dominantBaseline:"central",fill:"white",fontSize:"11"},"linked"))}var xD=Qht;function e5t({screenMatrix:e,mousePoint:t,isSnapped:r,workingPoint:o,snapPreviewPoint:i,snapPreviewEdge:n,isLinked:s}){let a=(l,c=2,u={})=>{let p=e.transformedPoint(l);return ny.default.createElement("circle",{cx:p.x,cy:p.y,r:c,fill:u.fill||"magenta",stroke:u.stroke||"magenta",strokeWidth:u.strokeWidth||"1"})};return ny.default.createElement(ny.default.Fragment,null,i&&ny.default.createElement("g",null,a(i,7,{fill:"none",strokeWidth:"1.5"}),a(i,1,{fill:"red"})),t&&o&&ny.default.createElement(xD,{pt1:o,pt2:t,screenMatrix:e,isSnapped:r,isLinked:s,isPreview:!0}),n&&ny.default.createElement("line",{x1:e.transformedPoint(n[0]).x,y1:e.transformedPoint(n[0]).y,x2:e.transformedPoint(n[1]).x,y2:e.transformedPoint(n[1]).y,stroke:"magenta",strokeWidth:"1",strokeDasharray:"5,5"}))}var b4e=e5t;function t5t({screenMatrix:e,submitLine:t,volumes:r}){let o=(0,v4e.useSelector)(Ci.getEnabled),[i,n]=(0,rf.useState)({mousePoint:null,isSnapped:!1,snapPreviewPt:null,snapPreviewEdge:null,workingPt:null});(0,rf.useEffect)(()=>{o||n({mousePoint:null,isSnapped:!1,snapPreviewPt:null,snapPreviewEdge:null,workingPt:null})},[o]);let s=(0,rf.useRef)(null),a=w=>{let _=s.current.parentNode.getBoundingClientRect();return{x:w.clientX-_.left,y:w.clientY-_.top}},l=w=>r.filter(T=>!KJ(T.shape)&&!ho(T)).filter(T=>{let A=Ee.boundingBox([T]);return A=Ee.boundingBoxExpand(A,za.SNAP_DISTANCE),w.x>=A.minX&&w.x<=A.maxX&&w.y>=A.minY&&w.y<=A.maxY}).reduce((T,A)=>{let O;PC(A)?O=A.shape.fontPath??ii.textShapeToPathShape(A.shape):O=Xe.pathifyShape(A.shape);let L=Xe.closestPointOnShapePath(O,w,za.SNAP_DISTANCE);return L&&L.distance<T.distance&&(T={...L,volumeId:A.id}),T},{distance:1/0}).point,c=(w,_)=>{w=e.inverse().transformedPoint(w);let{workingPt:E}=i;if(_&&_.altKey){n({...i,mousePoint:w,snapPreviewPt:null,snapPreviewEdge:null});return}let T=null;_?.shiftKey&&E!=null&&(T=Math.abs(E.x-w.x)>Math.abs(E.y-w.y)?"x":"y",w=T==="x"?{x:w.x,y:E.y}:{x:E.x,y:w.y}),Xt.closeTo(E?.x??0,w.x)?T="x":Xt.closeTo(E?.y??0,w.y)&&(T="y");let A=l(w),O=za.snapBboxEdge(w,r),L=A??O?.point??null;L&&E&&T&&(L=T==="x"?{x:E.x,y:L.y}:{x:L.x,y:E.y}),n({...i,mousePoint:L??w,isSnapped:L!=null,snapPreviewPt:L,snapPreviewEdge:O?.edge?.line,mouseAnchor:O?{id:O.volumeId,anchorPt:O.relativePt,edge:O.edge?.side}:null})},u=w=>{c(a(w),w)},p=w=>{w.stopPropagation();let{mouseAnchor:_,mousePoint:E,workingPt:T,workingAnchor:A}=i;if(T){let O={...E};A&&_&&A.edge&&_.edge&&!Up.isPerpendicular(A.edge,_.edge)?t({type:"measurement",anchorId:A.id,anchorPoint:A.anchorPt,targetId:_.id,targetEdge:_.edge}):t(_o.pointsToRotatedLine([{x:T.x,y:T.y},{x:O.x,y:O.y}])),n({...i,mousePoint:null,mouseAnchor:null,snapPreviewPt:null,snapPreviewEdge:null,workingAnchor:null,workingPt:null});return}if(E!=null){let O={...E};n({...i,workingPt:O,workingAnchor:_});return}},{mousePoint:m,isSnapped:h,snapPreviewEdge:f,snapPreviewPt:x,workingPt:v,workingAnchor:b,mouseAnchor:S}=i;return rf.default.createElement("g",{ref:s,onMouseDown:p,onMouseMove:u,"data-testid":"measuringLineToolContainer"},rf.default.createElement("rect",{x:0,y:0,width:"100%",height:"100%",fill:"transparent"}),rf.default.createElement(b4e,{screenMatrix:e,isSnapped:h,mousePoint:m,snapPreviewPoint:x,snapPreviewEdge:f,workingPoint:v,isLinked:b&&S&&b.edge&&S.edge&&!Up.isPerpendicular(b.edge,S.edge)}))}var S4e=t5t;var zh=P("react");function C4e(e={}){let{showDuration:t=1e3,fadeDuration:r=500}=e,[o,i]=(0,zh.useState)(new Set),[n,s]=(0,zh.useState)(new Set),a=(0,zh.useRef)(),l=(0,zh.useCallback)(p=>{let m=new Set(p);a.current&&clearTimeout(a.current),i(m),s(new Set),a.current=setTimeout(()=>{s(m),setTimeout(()=>{i(new Set),s(new Set)},r)},t)},[t,r]),c=(0,zh.useCallback)(p=>o.has(p),[o]),u=(0,zh.useCallback)(p=>n.has(p),[n]);return{triggerFade:l,isItemRecent:c,isItemFading:u,recentItems:o,fadingItems:n}}function r5t({screenMatrix:e,viewWidth:t,viewHeight:r}){let o=(0,Dc.useRef)(null),i=(0,of.useSelector)(Ci.getEnabled),n=(0,of.useSelector)(Ci.getVisible),s=(0,of.useSelector)(Y.getWorkArea),a=(0,of.useSelector)(St.getWorkpieceViewport),l=(0,of.useSelector)(St.getEditorSize),c=(0,of.useSelector)(ye.getVolumes),u=(0,of.useSelector)(ye.getVolumesById),p=(0,of.useDispatch)(),{triggerFade:m,isItemRecent:h,isItemFading:f}=C4e(),x=(0,Dc.useRef)({});(0,Dc.useEffect)(()=>{let _=x.current,E=c.filter(A=>ho(A)),T=[];E.forEach(A=>{let O=_[A.shape.anchorId],L=_[A.shape.targetId],R=!1;O&&!_r(O,u[A.shape.anchorId])&&(R=!0),L&&!_r(L,u[A.shape.targetId])&&(R=!0),R&&T.push(A.id)}),T.length>0&&m(T),x.current=u},[u,c,m]);let v=_=>{p(Ci.actions.finishMeasuring());let E={shape:_,cut:{type:"measurement"}},T=Dr.getShift([E],s.y,a,l);p(Dr.addAndSelectVolume(E,T)),p(Bt(U.measurement.measureLineAdded))},b=_=>{im.onWheel(_)};(0,Dc.useEffect)(()=>{let _=o.current;return _.addEventListener("wheel",b,{passive:!1}),()=>{_.removeEventListener("wheel",b,{passive:!1})}},[]);let w=c.filter(_=>_.cut.type==="measurement").map(_=>{let E=ho(_)?Up.measurementLineToPathShape(_.shape,u):_.shape;return{points:Xe.scalePathPoints(E).flat().map(A=>Xe.shapeMatrix(E).transformedPoint(A)),isLinked:ho(_)}});return Dc.default.createElement(Dc.default.Fragment,null,Dc.default.createElement("svg",{id:"measurement-editor",width:t,height:r,style:{pointerEvents:i?"auto":"none"},ref:o},n&&w.map(({points:_,isLinked:E},T)=>Dc.default.createElement(xD,{key:T,screenMatrix:e,pt1:_[0],pt2:_[1],isSnapped:!1,isLinked:E,isPreview:!1})),n&&c.filter(_=>h(_.id)).flatMap(_=>{if(!ho(_))return[];let E=f(_.id),T=E?.1:1;return Up.getPreviewLines(_.shape,u).map((O,L)=>Dc.default.createElement("g",{opacity:T,key:`${_.id}-edge-${L}`,style:{transition:E?"opacity 500ms ease-out":"none"}},Dc.default.createElement("line",{x1:e.transformedPoint(O[0]).x,y1:e.transformedPoint(O[0]).y,x2:e.transformedPoint(O[1]).x,y2:e.transformedPoint(O[1]).y,stroke:"magenta",strokeWidth:"1",strokeDasharray:"5,5"})))}),Dc.default.createElement(S4e,{screenMatrix:e,submitLine:v,volumes:c})))}var P4e=r5t;var Cx=M(P("react"),1),k4e=P("react-redux");var w4e=P("react");function _4e(e){let[t,r]=(0,w4e.useState)(null);return zm(()=>{let o=e.current;if(!o)return;let i=n=>{let s=o.getBoundingClientRect();r({x:n.clientX-s.left,y:n.clientY-s.top})};return o.addEventListener("mousemove",i),o.addEventListener("mouseleave",()=>r(null)),()=>{o.removeEventListener("mousemove",i),o.removeEventListener("mouseleave",()=>r(null))}}),t}function o5t({editorRef:e,screenMatrix:t}){let r=(0,k4e.useSelector)(Me.getPreferredUnit),o=_4e(e),i=o?t.inverse().transformedPoint(o):null,n=Math.min(Ve.defaultPrecision[r],2);return Cx.default.createElement("span",{className:"ms-2 position-absolute end-0"},Cx.default.createElement("label",null,"x:\xA0"),Cx.default.createElement("span",{"data-testid":"mouse-dro-x"},i?.x?Ve.convertFromIn(i.x,r,n):"-"),"\xA0",Cx.default.createElement("label",null,"y:\xA0"),Cx.default.createElement("span",{"data-testid":"mouse-dro-y"},i?.y?Ve.convertFromIn(i.y,r,n):"-"))}var T4e=o5t;var E4e=M(P("react"),1),i5t=({position:e,diameter:t,color:r})=>E4e.default.createElement("circle",{cx:e.x,cy:e.y,r:t/2,fill:r,stroke:"none"}),M4e=i5t;var A4e=M(P("react"),1),n5t=({pathPoints:e,color:t})=>A4e.default.createElement("path",{d:ns.string(e),fill:t,stroke:"none"}),I4e=n5t;var h1=M(P("react"),1),s5t=({pathPoints:e,color:t,strokeWidth:r,outlineStyle:o})=>{if(o==="on-path")return h1.default.createElement("path",{d:ns.string(e),fill:"none",stroke:t,strokeWidth:r,strokeLinejoin:"round",strokeLinecap:"round"});{let i=`outline-volume-preview__clip-${Tt()}`;return h1.default.createElement("g",null,h1.default.createElement("defs",null,h1.default.createElement("clipPath",{id:i,clipRule:"evenodd"},o==="inside"?h1.default.createElement("path",{d:ns.string(e)}):h1.default.createElement("path",{d:ns.string([Oe.boundingBoxCorners(Oe.expandBoundingBox(Oe.pathBoundingBox(e),r)),...e])}))),h1.default.createElement("path",{d:ns.string(e),fill:"none",stroke:t,strokeWidth:r*2,strokeLinejoin:"round",strokeLinecap:"round",clipPath:`url(#${i})`}))}},D4e=s5t;var wv=M(P("react"),1),bD=P("react-redux"),a5t=({volumes:e,viewWidth:t,viewHeight:r,screenMatrix:o})=>{let i=rt((0,bD.useSelector)(re.strokeBit)),n=rt((0,bD.useSelector)(re.drillBit)),s=(0,bD.useSelector)(q.getMaterialThickness),a=c=>{let p=Math.round((c===0?255:217)*(s-c)/s);return`rgb(${p}, ${p*.67}, ${255-(255-p)*.67})`},l=c=>{let u;if(Q1(c)?u=c.fontPath??ii.textShapeToPathShape(c):u=Xe.pathifyShape(c),!u)return[];let p=Oe.pathBoundingBox(u.points),m=ct().premultipliedBy(Xe.boundingBoxMatrix(u,p)).premultipliedBy(Xe.shapeMatrix(u)).premultipliedBy(o);return Oe.transformedPath(u.points,m)};return wv.default.createElement("svg",{width:t,height:r,style:{position:"absolute",top:0,left:0,pointerEvents:"none"}},e.map(({id:c,cut:u,shape:p})=>{if(u.type==="fill")return wv.default.createElement(I4e,{key:c,pathPoints:l(p),color:a(u.depth)});if(u.type==="outline")return wv.default.createElement(D4e,{key:c,pathPoints:l(p),color:a(u.depth),outlineStyle:u.outlineStyle,strokeWidth:i.inchWidth(u.depth)*o.getScale().x});if(u.type==="drill")return wv.default.createElement(M4e,{key:c,position:o.transformedPoint(p.center),diameter:n.inchWidth(u.depth)*o.getScale().x,color:a(u.depth)})}))},N4e=a5t;var Dn=M(P("react"),1),ll=P("react-bootstrap");var Px=P("react-redux");var l5t=({setDraftVolumes:e})=>{let t=(0,Px.useDispatch)(),r=(0,Px.useSelector)(vt.offsetModalVisible),o=He(U.offsetShape),i=(0,Px.useSelector)(Me.getPreferredUnit),n=(0,Px.useSelector)(f=>ye.getCarveableVolumes(f,Ie.selectedVolumeIds(f))),[s,a]=(0,Dn.useState)(null),[l,c]=(0,Dn.useState)("outward"),u=s??(i==="mm"?.23622:.25);(0,Dn.useEffect)(()=>{if(r&&n.length>0){let f=$L(n,u,l);e(f)}},[r,n,u,l,e]),(0,Dn.useEffect)(()=>{r||e([])},[r,e]);let p=()=>{n.length>0&&(t(W.actions.volumesOffset(n.map(f=>f.id),u,l)),o({direction:l,distance:u})),t(vt.actions.hideOffsetModal())},m=f=>{f.preventDefault(),p()},h=()=>{t(vt.actions.hideOffsetModal())};return Dn.default.createElement(ll.Modal,{show:r,size:"sm"},Dn.default.createElement(ll.Modal.Header,null,Dn.default.createElement(ll.Modal.Title,null,"Offset Shape")),Dn.default.createElement(ll.Modal.Body,null,Dn.default.createElement(ll.Form,{onSubmit:m},Dn.default.createElement(ll.Form.Group,{className:"mb-3"},Dn.default.createElement(Yt,{label:"Distance",id:"offset-distance",value:u,min:.001,max:10,step:i==="mm"?.1:.01,onChange:a})),Dn.default.createElement(ll.Form.Group,{className:"mb-3"},Dn.default.createElement(ll.Form.Label,null,"Direction"),Dn.default.createElement("div",null,Dn.default.createElement(ll.Form.Check,{inline:!0,type:"radio",id:"offset-outward",name:"offset-direction",value:"outward",checked:l==="outward",onChange:()=>c("outward"),label:"Outward"}),Dn.default.createElement(ll.Form.Check,{inline:!0,type:"radio",id:"offset-inward",name:"offset-direction",value:"inward",checked:l==="inward",onChange:()=>c("inward"),label:"Inward"}))))),Dn.default.createElement(ll.Modal.Footer,{className:"justify-content-center"},Dn.default.createElement(ll.Button,{variant:"default",onClick:h},"Cancel"),Dn.default.createElement(ll.Button,{variant:"primary",onClick:p},"Apply")))},O4e=l5t;var Oo=M(P("react"),1),rs=P("react-bootstrap"),wx=P("react-redux");var c5t=({setDraftVolumes:e})=>{let t=(0,wx.useDispatch)(),r=(0,wx.useSelector)(Me.getPreferredUnit),o=(0,wx.useSelector)(vt.replicateModalVisible),i=(0,wx.useSelector)(S=>ye.getCarveableVolumes(S,Ie.selectedVolumeIds(S))),n=i.map(S=>S.id),[s,a]=(0,Oo.useState)(2),[l,c]=(0,Oo.useState)(2),[u,p]=(0,Oo.useState)(null),[m,h]=(0,Oo.useState)("between_edges"),f=u||(r==="mm"?.23622:.25);(0,Oo.useEffect)(()=>{if(o&&i.length>0){let{newVolumes:S}=qL(i,s,l,f,m);e(S)}},[o,i,s,l,f,m,e]),(0,Oo.useEffect)(()=>{o||e([])},[o,e]);let x=()=>{t(W.actions.volumesReplicate(n,s,l,f,m)),H.trackEvent(U.replicateShapes,{Columns:s,Rows:l,Spacing:f,Between:m}),t(vt.actions.hideReplicateModal())},v=S=>{S.preventDefault(),x()},b=()=>{t(vt.actions.hideReplicateModal())};return Oo.default.createElement(rs.Modal,{show:o,size:"sm"},Oo.default.createElement(rs.Modal.Header,null,Oo.default.createElement(rs.Modal.Title,null,"Replicate Shapes")),Oo.default.createElement(rs.Modal.Body,null,Oo.default.createElement(rs.Form,{onSubmit:v},Oo.default.createElement(rs.Form.Group,{className:"mb-3"},Oo.default.createElement(rs.Form.Label,{htmlFor:"replicate-modal__columns"},"Columns"),Oo.default.createElement(rs.Form.Control,{id:"replicate-modal__columns",type:"number",min:1,max:50,value:s,onChange:S=>a(parseInt(S.target.value,10))})),Oo.default.createElement(rs.Form.Group,{className:"mb-3"},Oo.default.createElement(rs.Form.Label,{htmlFor:"replicate-modal__rows"},"Rows"),Oo.default.createElement(rs.Form.Control,{id:"replicate-modal__rows",type:"number",min:1,max:50,value:l,onChange:S=>c(parseInt(S.target.value,10))})),Oo.default.createElement(rs.Form.Group,{className:"mb-3"},Oo.default.createElement(Yt,{label:"Spacing",id:"replicate-modal__spacing",value:f,min:.001,max:100,step:r==="mm"?.1:.01,onChange:p})),Oo.default.createElement(rs.Form.Group,{className:"mb-3"},Oo.default.createElement("div",null,Oo.default.createElement(rs.Form.Check,{inline:!0,type:"radio",id:"replicate-modal__spacing-mode__between-edges",name:"replicate-modal__spacing-mode",value:"between_edges",checked:m==="between_edges",onChange:()=>h("between_edges"),label:"Between edges"}),Oo.default.createElement(rs.Form.Check,{inline:!0,type:"radio",id:"replicate-modal__spacing-mode__between_centers",name:"replicate-modal__spacing-mode",value:"between_centers",checked:m==="between_centers",onChange:()=>h("between_centers"),label:"Between centers"}))))),Oo.default.createElement(rs.Modal.Footer,{className:"justify-content-center"},Oo.default.createElement(rs.Button,{variant:"default",onClick:b},"Cancel"),Oo.default.createElement(rs.Button,{variant:"primary",onClick:x},"Apply")))},L4e=c5t;var $z=M(P("react"),1),u5t=({viewWidth:e,viewHeight:t,screenMatrix:r,alignments:o})=>$z.default.createElement("svg",{width:e,height:t,style:{position:"absolute",top:0,left:0,pointerEvents:"none"}},o.map(({type:i,axis:n,guide:s,ortho:a})=>{let l,c;return n==="x"?(l=r.transformedPoint({x:s,y:a.min}),c=r.transformedPoint({x:s,y:a.max})):(l=r.transformedPoint({x:a.min,y:s}),c=r.transformedPoint({x:a.max,y:s})),$z.default.createElement("line",{key:`alignment-guides__${i}${n}__${s}`,x1:l.x,x2:c.x,y1:l.y,y2:c.y,stroke:"#FF5C39",strokeWidth:1})})),B4e=u5t;var Zz=e=>{let t=e.flatMap(r=>{let o=[{axis:"x",type:"min",position:r.minX,ortho:{min:r.minY,max:r.maxY}},{axis:"x",type:"center",position:(r.minX+r.maxX)/2,ortho:{min:r.minY,max:r.maxY}},{axis:"x",type:"max",position:r.maxX,ortho:{min:r.minY,max:r.maxY}},{axis:"y",type:"min",position:r.minY,ortho:{min:r.minX,max:r.maxX}},{axis:"y",type:"center",position:(r.minY+r.maxY)/2,ortho:{min:r.minX,max:r.maxX}},{axis:"y",type:"max",position:r.maxY,ortho:{min:r.minX,max:r.maxX}}],i=r.symmetric?[{axis:"x",type:"max",position:r.minX,ortho:{min:r.minY,max:r.maxY}},{axis:"x",type:"min",position:r.maxX,ortho:{min:r.minY,max:r.maxY}},{axis:"y",type:"max",position:r.minY,ortho:{min:r.minX,max:r.maxX}},{axis:"y",type:"min",position:r.maxY,ortho:{min:r.minX,max:r.maxX}}]:[];return[...o,...i]});return Object.values(ec(t,r=>`${r.type}.${r.axis}=${r.position}`)).filter(r=>r!==void 0).map(r=>({axis:r[0].axis,type:r[0].type,position:r[0].position,ortho:{min:Math.min(...r.map(o=>o.ortho.min)),max:Math.max(...r.map(o=>o.ortho.max))}}))},Jz=({guides:e,seekers:t})=>t.flatMap(r=>e.filter(o=>o.axis===r.axis&&o.type===r.type).map(o=>({axis:o.axis,type:o.type,guide:o.position,seeker:r.position,ortho:{min:Math.min(r.ortho.min,o.ortho.min),max:Math.max(r.ortho.max,o.ortho.max)}})));var Kz=class extends cl.default.Component{constructor(r){super(r);y(this,"handleCharInCanvas",r=>{if(!(r.metaKey||r.ctrlKey)){if(this.props.selectedVolumes.length===1&&this.props.selectedVolumes[0].shape.type==="text"){let o=String.fromCharCode(r.charCode);if(o){globalThis.EASEL_CANVAS.volumeActions.setText(globalThis.EASEL_CANVAS,o);let i=globalThis.EASEL_CANVAS.getActiveObject();i.enterEditing(),i.setSelectionStart(1),i.setSelectionEnd(1)}}return r}});y(this,"handleChar",r=>(ut.inputFocused(r)||this.handleCharInCanvas(r),r));y(this,"configureGlobalCanvas",()=>{let r=new fabric.Canvas("c");return r.volumeActions={select:this.select,edit:this.edit,deselect:this.deselect,beginDrag:this.beginDrag,getTabIndexAtPoint:this.getTabIndexAtPoint,endDrag:this.endDrag,translate:this.translate,translateTab:this.translateTab,scale:this.scale,rotate:this.rotate,setText:this.setText},r.viewportActions={pan:this.onCanvasPan},im.init(r,this.props.viewWidth,this.props.viewHeight),r.getElement().parentElement.addEventListener("contextmenu",function(o){J.emit("show-context-menu",o),o.stopPropagation(),o.preventDefault()}),r});y(this,"onCanvasPan",(r,o)=>{let{materialDimensions:i,xyZeroLocation:n,workArea:s}=this.props;this.props.pan({deltaX:r,deltaY:o,materialDimensions:i,xyZeroLocation:n,workArea:s}),H.trackEventOnce(U.pannedUsingRightClick)});y(this,"setCenter",({x:r,y:o})=>{let{materialDimensions:i,xyZeroLocation:n,workArea:s}=this.props;this.props.panTo({x:r,y:o,materialDimensions:i,xyZeroLocation:n,workArea:s})});y(this,"screenMatrix",()=>{let{workpieceViewport:r,workArea:o}=this.props;return Si.workToViewMatrix(r,o.y)});y(this,"convertX",r=>r/this.pixelsPerInch);y(this,"convertYDistance",r=>-r/this.pixelsPerInch);y(this,"convertY",r=>this.props.workArea.y+this.convertYDistance(r));y(this,"convertAngle",r=>-r);y(this,"getVolume",r=>this.props.volumes.find(o=>o.id===r));y(this,"getVolumes",r=>this.props.volumes.filter(o=>r.includes(o.id)));y(this,"closestPointIndexTo",(r,o)=>{let i=null,n=1/0;for(let s=0;s<o.length;s++){let a=o[s],l=ar(r,a);l<n&&(n=l,i=s)}return i});y(this,"removeEmptyTextVolumes",()=>{let r=this.props.volumes.filter(o=>o.shape.type==="text"&&o.shape.text==="").map(o=>o.id);r.length>0&&(this.props.reopenGroup(),this.props.removeVolumes(r),this.props.endGroup())});y(this,"select",({event:r,ids:o,canvasEl:i})=>{this.removeEmptyTextVolumes();let n=this.getVolumes(o);if(o.length>0){let s=n.map(a=>a.group);o=[...o,...this.props.getVolumesForGroups(s).map(a=>a.id)]}if(this.props.selectedVolumeIds.length>0||o.length>0?this.props.setSelection(o):J.emit("render-fabric"),o.length===1&&n[0].cut.type==="measurement"&&!ho(n[0])){let s=n[0],a=Si.workToViewMatrix(this.props.workpieceViewport,this.props.workArea.y),l=i.getBoundingClientRect(),c=a.inverse().transformedPoint({x:r.clientX-l.left,y:r.clientY-l.top}),u=Xe.scalePathPoints(s.shape).flat().map(m=>Xe.shapeMatrix(s.shape).transformedPoint(m)),p=Math.hypot(c.x-u[0].x,c.y-u[0].y)<Math.hypot(c.x-u[1].x,c.y-u[1].y)?0:1;this.props.startEditing({volume:s,points:[{pointIndices:[p],subpathIndex:0}]})}});y(this,"edit",r=>{let o=this.getVolume(r);this.props.startEditing({volume:o})});y(this,"deselect",(...r)=>{if(this.removeEmptyTextVolumes(),r&&r.length>0){if(r.length>0){let o=this.getVolumes(r).map(i=>i.group);r=[...r,...this.props.getVolumesForGroups(o).map(i=>i.id)]}this.props.deselect(r)}else this.props.deselectAll()});y(this,"getTabIndexAtPoint",(r,o,i)=>{let n=this.getVolume(i),s=Ee.unRotatedPoint(n,{x:this.convertX(r),y:this.convertY(o)});return this.closestPointIndexTo(s,n.cut.tabs.map(a=>a.center))});y(this,"beginDrag",(r,o)=>{this.setState({dragPosition:{x:this.convertX(r),y:this.convertY(o)},alignmentGuides:void 0}),this.props.beginGroup()});y(this,"endDrag",()=>{this.setState({dragPosition:void 0,alignmentGuides:void 0}),this.props.endGroup()});y(this,"translate",(r,o,i,n,s)=>{this.state.dragPosition?this.setState(a=>{let l={x:this.convertX(i),y:this.convertY(n)},c=u5(l,a.dragPosition),u=a.alignmentGuides??this.getAlignmentGuides(),p=!(s.ctrlKey||s.metaKey);if(p){let m=this.getAlignmentSeekers(this.props.volumes,this.props.selectedVolumeIds).map(S=>({...S,position:S.position+c[S.axis]})),h=5*this.screenMatrix().inverse().getScale().x,f=Jz({guides:u,seekers:m}),x=f.filter(S=>S.axis==="x"),v=f.filter(S=>S.axis==="y"),b={x:x.length>0?jd(x.map(S=>S.guide-S.seeker),Math.abs):0,y:v.length>0?jd(v.map(S=>S.guide-S.seeker),Math.abs):0};c=cL(c,{x:Math.abs(b.x)<=h?b.x:0,y:Math.abs(b.y)<=h?b.y:0})}return this.props.translateVolumes(this.props.selectedVolumeIds,c.x,c.y),{dragPosition:cL(a.dragPosition,c),alignmentGuides:u,alignmentEnabled:p}}):this.props.translateVolumes(this.props.selectedVolumeIds,this.convertX(r),this.convertYDistance(o))});y(this,"translateTab",(r,o,i,n)=>{this.props.translateTab(r,o,this.convertX(i),this.convertYDistance(n))});y(this,"scale",(r,o,i,n)=>{this.props.scaleVolumes(this.props.selectedVolumeIds,r,o,this.convertX(i),this.convertY(n))});y(this,"rotate",(r,o,i)=>{this.props.rotateVolumes(this.props.selectedVolumeIds,this.convertAngle(r),this.convertX(o),this.convertY(i))});y(this,"setText",(r,o)=>{let i,n,s,a,l,c,u,p,m,h,f=r.getActiveObject(),x=f&&(f.type==="i-text"||f.type==="e-text");if(x){({scaleX:i,width:h,height:n,textAlign:m,isEditing:s,selectionStart:p,selectionEnd:u}=f);let b=m==="right"?i*h:m==="center"?i*h/2:0;a=this.convertX(f.left+b*Math.cos(f.angle*Math.PI/180)),l=this.convertY(f.top+b*Math.sin(f.angle*Math.PI/180));let[S,w]=zd(f.fontFamily);c=ii.measure({text:o,font:qr.getFont(S,w)})}let v=this.props.selectedVolumeIds;this.props.beginGroup(),this.props.setVolumeText(v,o),a!=null&&l!=null&&h!=null&&n!=null&&c!=null&&this.props.scaleVolumes(v,c.width/h,c.height/n,a,l),this.props.endGroup(),f=r.getActiveObject(),x&&s&&(f.enterEditing(),f.selectionStart=p,f.selectionEnd=u)});y(this,"setDraftVolumes",r=>{this.setState({draftVolumes:r})});y(this,"getAlignmentGuides",()=>{let r=this.props.volumes.filter(n=>n.shape.type!=="measurement"),[o,i]=tc(r,n=>this.props.selectedVolumeIds.includes(n.id));return Zz([this.props.materialBoundary,Ee.boundingBox(o),...i.map(n=>({...Ee.shapeBoundingBox(n.shape),symmetric:!0}))])});y(this,"getAlignmentSeekers",()=>{let r=this.props.selectedVolumes.filter(o=>o.shape.type!=="measurement");return Zz([Ee.boundingBox(r)])});y(this,"getAlignments",()=>{if(this.state.alignmentEnabled&&this.state.alignmentGuides)return Jz({guides:this.state.alignmentGuides,seekers:this.getAlignmentSeekers()}).filter(r=>Math.abs(r.guide-r.seeker)<.001)});this.pixelsPerInch=me.PIXELS_PER_INCH,this.editorRef=cl.default.createRef(),this.state={}}componentDidMount(){globalThis.EASEL_CANVAS=this.configureGlobalCanvas(),document.body.addEventListener("keypress",this.handleChar)}componentWillUnmount(){document.body.removeEventListener("keypress",this.handleChar)}componentDidUpdate(r){(r.workArea.x!==this.props.workArea.x||r.workArea.y!==this.props.workArea.y)&&W.actions.homeViewport({xyZeroLocation:this.props.xyZeroLocation,materialDimensions:this.props.materialDimensions,workArea:this.props.workArea}),(r.viewWidth!==this.props.viewWidth||r.viewHeight!==this.props.viewHeight)&&im.setViewSize(this.props.viewWidth,this.props.viewHeight)}render(){let{measuring:r,viewWidth:o,viewHeight:i,workArea:n,workpieceViewport:s,xyZeroLocation:a,materialDimensions:l}=this.props,c=Si.getCenter({width:o,height:i},s),u={x:Math.max(l.x,n.x),y:Math.max(l.y,n.y)},p=u.x*me.PIXELS_PER_INCH,m=u.y*me.PIXELS_PER_INCH,h;a===me.XY_ZERO_FRONT_LEFT?h={x:0,y:0}:a===me.XY_ZERO_CENTER&&(h={x:-l.x/2,y:-l.y/2});let f=-h.x*me.PIXELS_PER_INCH,x=(h.y+u.y-n.y)*me.PIXELS_PER_INCH,v=this.screenMatrix(),b=this.getAlignments();return cl.default.createElement("div",{ref:this.editorRef,style:r?{cursor:"crosshair"}:{}},cl.default.createElement(c4e,{viewWidth:o,viewHeight:i,screenMatrix:v}),cl.default.createElement("canvas",{id:"c"}),this.state.draftVolumes&&this.state.draftVolumes.length>0&&cl.default.createElement(N4e,{volumes:this.state.draftVolumes,viewWidth:o,viewHeight:i,screenMatrix:v}),b&&cl.default.createElement(B4e,{viewWidth:o,viewHeight:i,screenMatrix:v,alignments:b}),cl.default.createElement(P4e,{viewWidth:o,viewHeight:i,screenMatrix:v}),cl.default.createElement(y4e,{screenMatrix:v,viewWidth:o,viewHeight:i}),cl.default.createElement(RF,{viewWidth:o,viewHeight:i,screenMatrix:v}),cl.default.createElement(T4e,{editorRef:this.editorRef,screenMatrix:v}),cl.default.createElement(s4e,null),cl.default.createElement(p4e,{center:c,width:p,height:m,onSetCenter:this.setCenter,horizontalScrollOffset:f,verticalScrollOffset:x}),cl.default.createElement(O4e,{setDraftVolumes:this.setDraftVolumes}),cl.default.createElement(L4e,{setDraftVolumes:this.setDraftVolumes}))}},p5t=ne({mapStateToProps:e=>{let t=Ie.selectedVolumeIds(e);return{workArea:Y.getWorkArea(e),workpieceViewport:St.getWorkpieceViewport(e),xyZeroLocation:q.getXYZeroLocation(e),materialDimensions:q.getMaterialDimensions(e),materialBoundary:q.getMaterialBoundary(e),measuring:Ci.getEnabled(e),volumes:ye.getVolumes(e),selectedVolumeIds:t,getVolumesForGroups:r=>ye.getVolumesForGroups(e,r),selectedVolumes:ye.getVolumes(e,t)}},mapDispatchToProps:{panTo:W.actions.panViewportTo,pan:W.actions.panViewport,setSelection:W.actions.selectVolumes,deselect:W.actions.deselectVolumes,deselectAll:W.actions.deselectAllVolumes,startEditing:W.actions.startEditingVolume,removeVolumes:W.actions.volumesRemove,translateVolumes:W.actions.volumesTranslate,scaleVolumes:W.actions.volumesScale,rotateVolumes:W.actions.volumesRotate,setVolumeText:W.actions.volumesSetText,translateTab:W.actions.volumesTranslateTab,beginGroup:nr.actions.beginGroup,endGroup:nr.actions.endGroup,reopenGroup:nr.actions.reopenGroup},component:Kz}),F4e=p5t;var Xh=M(P("react"),1);var Qz=class extends Xh.default.Component{constructor(){super(...arguments);y(this,"state",{mouseDown:!1,initialMouseX:null,initialEditorWidth:null,previousWidth:null});y(this,"hidden3DPreviewWidth",()=>window.innerWidth-this.props.scrollBarWidth);y(this,"setEditorWidth",r=>{let{editorSize:o,workpieceViewport:i,setEditorFraction:n,materialDimensions:s,xyZeroLocation:a,workArea:l}=this.props,{previousWidth:c}=this.state,u=Si.getCenter(o,i);c!=null&&(r>=this.hidden3DPreviewWidth()&&c<this.hidden3DPreviewWidth()&&Ju.disableDetailedPreview(),c>=this.hidden3DPreviewWidth()&&r<this.hidden3DPreviewWidth()&&Ju.enableDetailedPreview()),n(Xt.clamp(r,0,this.hidden3DPreviewWidth())/window.innerWidth),this.props.panTo({...u,materialDimensions:s,xyZeroLocation:a,workArea:l}),this.setState({previousWidth:r})});y(this,"onMouseDown",r=>{this.setState({initialMouseX:r.clientX,initialEditorWidth:this.props.editorSize.width}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove)});y(this,"onMouseMove",r=>{if(this.state.initialMouseX!=null){let o=this.state.initialEditorWidth+r.clientX-this.state.initialMouseX;this.setEditorWidth(o)}});y(this,"onMouseUp",()=>(this.setState({initialEditorWidth:null,initialMouseX:null}),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),!0));y(this,"onTouchStart",r=>this.onMouseDown(r.touches[0]));y(this,"onTouchEnd",r=>this.onMouseUp(r.touches[0]));y(this,"onTouchMove",r=>this.onMouseMove(r.touches[0]));y(this,"onDoubleClick",()=>{this.setEditorWidth(window.innerWidth*me.DEFAULT_EDITOR_FRACTION)});y(this,"onLeftPanelClick",()=>{this.setEditorWidth(this.hidden3DPreviewWidth())});y(this,"onRightPanelClick",()=>{this.setEditorWidth(0)})}render(){return Xh.default.createElement("div",{id:"resizer-container"},Xh.default.createElement("div",{className:"resizer",onClick:this.onLeftPanelClick},Xh.default.createElement("i",{className:"bi bi-chevron-double-right"})),Xh.default.createElement("div",{className:"resizer",onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd,onTouchMove:this.onTouchMove,onDoubleClick:this.onDoubleClick},Xh.default.createElement("i",{className:"bi bi-three-dots-vertical"})),Xh.default.createElement("div",{className:"resizer",onClick:this.onRightPanelClick},Xh.default.createElement("i",{className:"bi bi-chevron-double-left"})))}},d5t=ne({mapStateToProps:e=>({workpieceViewport:St.getWorkpieceViewport(e),editorSize:St.getEditorSize(e),xyZeroLocation:q.getXYZeroLocation(e),materialDimensions:q.getMaterialDimensions(e),workArea:Y.getWorkArea(e)}),mapDispatchToProps:{setEditorFraction:W.actions.setEditorFraction,panTo:W.actions.panViewportTo},component:Qz}),W4e=d5t;var Dv=P("react-bootstrap"),Nu=M(P("react"),1),pl=P("react-redux");var Ex=M(P("prop-types"),1),nf=M(P("react"),1);var sy=M(P("prop-types"),1),Mp=M(P("react"),1);var vD=class extends Mp.default.Component{constructor(){super(...arguments);y(this,"onProportionChange",r=>{let o=r.target.checked;this.props.setProportionLock(o,this.props.selectedVolumeIds)});y(this,"setWidth",r=>{if(r>0)if(this.props.isProportionLocked){let o=this.props.height/this.props.width;this.props.onChange(r,r*o)}else this.props.onChange(r,this.props.height)});y(this,"setHeight",r=>{if(r>0)if(this.props.isProportionLocked){let o=this.props.width/this.props.height;this.props.onChange(r*o,r)}else this.props.onChange(this.props.width,r)})}render(){let o=this.props.isProportionLocked?"fa fa-chain":"fa fa-chain-broken";return Mp.default.createElement("div",{className:"size-settings"},Mp.default.createElement("div",{className:"section-header"},"Size"),Mp.default.createElement("div",{className:"form-group"},Mp.default.createElement("label",{htmlFor:"settings-width",className:"control-label"},"Width"),Mp.default.createElement(Yt,{variant:"trailing-zeros",id:"settings-width",value:this.props.width,onCommit:this.setWidth,readOnly:Math.abs(this.props.width)<1e-5||this.props.disabled})),Mp.default.createElement("div",{className:"form-group"},Mp.default.createElement("label",{htmlFor:"settings-height",className:"control-label"},"Height"),Mp.default.createElement(Yt,{variant:"trailing-zeros",id:"settings-height",value:this.props.height,onCommit:this.setHeight,readOnly:Math.abs(this.props.height)<1e-5||this.props.disabled})),Mp.default.createElement("div",{className:"shape-size__proportions"},Mp.default.createElement(Lh,{checked:this.props.isProportionLocked,inputId:"proportion-lock",iconClassName:o,onChange:this.onProportionChange})))}};y(vD,"propTypes",{width:sy.default.number.isRequired,height:sy.default.number.isRequired,onChange:sy.default.func.isRequired,isProportionLocked:sy.default.bool.isRequired,selectedVolumeIds:sy.default.array.isRequired,disabled:sy.default.bool.isRequired});var V4e=vD;var _x=M(P("react"),1);var m5t=({angle:e,onChange:t,readonly:r})=>_x.default.createElement("div",null,_x.default.createElement("div",{className:"section-header"},"Rotation"),_x.default.createElement("div",{className:"form-group"},_x.default.createElement(FI,{id:"settings-angle",label:"Angle",value:e,readOnly:r,onCommit:t}),_x.default.createElement(Lh,{checked:!1,inputId:"settings-angle-rotate-ccw",iconClassName:"fa fa-undo",onChange:()=>t(e+Math.PI/2)}))),U4e=m5t;var g1=M(P("prop-types"),1),$i=M(P("react"),1);var SD=class extends $i.default.Component{constructor(){super(...arguments);y(this,"setX",r=>this.props.onChange(r,this.props.y));y(this,"setY",r=>this.props.onChange(this.props.x,r));y(this,"setAnchor",r=>{let o=r.target.value.match(/^(\w+)-(\w+)$/);if(o!=null){let i=o[1],n=o[2];this.props.onChangeAnchor(i,n)}})}render(){let r=this.props.anchorX==="left"&&this.props.anchorY==="top",o=this.props.anchorX==="left"&&this.props.anchorY==="bottom",i=this.props.anchorX==="center"&&this.props.anchorY==="center",n=this.props.anchorX==="right"&&this.props.anchorY==="top",s=this.props.anchorX==="right"&&this.props.anchorY==="bottom";return $i.default.createElement("div",null,$i.default.createElement("div",{className:"section-header"},"Position"),$i.default.createElement("div",{className:"clearfix"},$i.default.createElement("div",{className:"shape-position__origin-inputs"},$i.default.createElement("div",{className:"shape-position__origin-inputs-inner"},$i.default.createElement("label",{htmlFor:"anchor-left-top"},"Left Top"),$i.default.createElement("input",{id:"anchor-left-top",type:"radio",value:"left-top",className:"left top",checked:r,onChange:this.setAnchor,disabled:this.props.disableAnchors}),$i.default.createElement("label",{htmlFor:"anchor-left-bottom"},"Left Bottom"),$i.default.createElement("input",{id:"anchor-left-bottom",type:"radio",value:"left-bottom",className:"left bottom",checked:o,onChange:this.setAnchor,disabled:this.props.disableAnchors}),$i.default.createElement("label",{htmlFor:"anchor-center"},"Center"),$i.default.createElement("input",{id:"anchor-center",type:"radio",value:"center-center",className:"center center",checked:i,onChange:this.setAnchor}),$i.default.createElement("label",{htmlFor:"anchor-right-top"},"Right Top"),$i.default.createElement("input",{id:"anchor-right-top",type:"radio",value:"right-top",className:"right top",checked:n,onChange:this.setAnchor,disabled:this.props.disableAnchors}),$i.default.createElement("label",{htmlFor:"anchor-right-bottom"},"Right Bottom"),$i.default.createElement("input",{id:"anchor-right-bottom",type:"radio",value:"right-bottom",className:"right bottom",checked:s,onChange:this.setAnchor,disabled:this.props.disableAnchors}))),$i.default.createElement("div",{className:"shape-position__position-inputs"},$i.default.createElement("div",{className:"form-group"},$i.default.createElement("label",{htmlFor:"settings-position-x",className:"control-label"},"X"),$i.default.createElement(Yt,{variant:"trailing-zeros",id:"settings-position-x",value:this.props.x,onCommit:this.setX,readOnly:this.props.disabled})),$i.default.createElement("div",{className:"form-group"},$i.default.createElement("label",{htmlFor:"settings-position-y",className:"control-label"},"Y"),$i.default.createElement(Yt,{variant:"trailing-zeros",id:"settings-position-y",value:this.props.y,onCommit:this.setY,readOnly:this.props.disabled})))))}};y(SD,"propTypes",{anchorX:g1.default.string.isRequired,anchorY:g1.default.string.isRequired,x:g1.default.number.isRequired,y:g1.default.number.isRequired,onChange:g1.default.func.isRequired,onChangeAnchor:g1.default.func.isRequired,disableAnchors:g1.default.bool.isRequired});var R4e=SD;var Yh=M(P("react"),1);var CD=P("react-redux");var f5t=({selectedVolumeIds:e})=>{let t=(0,CD.useDispatch)(),r=(0,CD.useSelector)(n=>ye.getVolumes(n,e));if(!r.length||!QJ(r[0].shape))return null;let o=r[0].shape,i=(n,s)=>{let a=n==="x"?"y":"x",l=o.cornerRadius?.[a],c={[n]:s};s===0?c[a]=0:l==null||l===0?c[a]=s:c[a]=l,t(W.actions.volumesSetShapeParams(e,{cornerRadius:c},"Modify Corner Radius"))};return Yh.default.createElement("div",null,Yh.default.createElement("div",{className:"section-header"},"Corner Radius"),Yh.default.createElement("div",{className:"form-group"},Yh.default.createElement("label",{htmlFor:"x-corner-radius",className:"control-label"},"X"),Yh.default.createElement(Yt,{variant:"trailing-zeros",id:"x-corner-radius",value:o.cornerRadius?.x??0,min:0,onCommit:n=>i("x",n)})),Yh.default.createElement("div",{className:"form-group"},Yh.default.createElement("label",{htmlFor:"y-corner-radius",className:"control-label"},"Y"),Yh.default.createElement(Yt,{variant:"trailing-zeros",id:"y-corner-radius",value:o.cornerRadius?.y??0,min:0,onCommit:n=>i("y",n)})))},j4e=f5t;var _v=M(P("prop-types"),1),kx=M(P("react"),1);var PD=class extends kx.default.Component{constructor(){super(...arguments);y(this,"anyLocked",()=>this.props.selectedVolumes.some(r=>r.shape.anchored));y(this,"toggleLock",()=>{this.anyLocked()?this.props.setLocked(this.props.selectedVolumeIds,!1):this.props.setLocked(this.props.selectedVolumeIds,!0)})}render(){let r=this.anyLocked(),{selectedVolumes:o,allLocked:i}=this.props,n=r?"bi bi-unlock2":"bi bi-lock",a=`${r?"Unlock":"Lock"} Object${o.length>1?"s":""}`;return kx.default.createElement("div",{className:"shape-lock"},kx.default.createElement(Lh,{checked:r,inputId:"shape-lock",iconClassName:n,onChange:this.toggleLock,labelText:a}),r&&!i&&kx.default.createElement(je,{placement:"bottom",id:"partial-locked-tooltip",tooltipContent:"Selection has both locked & unlocked shapes"},kx.default.createElement("i",{className:"shape-lock__warning bi bi-exclamation-circle-fill"})))}};y(PD,"propTypes",{selectedVolumes:_v.default.array.isRequired,selectedVolumeIds:_v.default.array.isRequired,allLocked:_v.default.bool.isRequired,setLocked:_v.default.func.isRequired});var G4e=PD;var wD=M(P("prop-types"),1),os=M(P("react"),1);var wd=M(P("react"),1);var eX={p1:{x:0,y:1},c1:{x:.3333333333333333,y:1},c2:{x:.6666666666666666,y:1},p2:{x:1,y:1}},tX={p1:{x:0,y:0},c1:{x:1/3,y:0},c2:{x:2/3,y:0},p2:{x:1,y:0}},rX={p1:{x:0,y:12/12},c1:{x:1/3,y:8/12},c2:{x:2/3,y:8/12},p2:{x:1,y:12/12}},oX={p1:{x:0,y:0/12},c1:{x:1/3,y:4/12},c2:{x:2/3,y:4/12},p2:{x:1,y:0/12}},iX={p1:{x:0,y:9/12},c1:{x:1/3,y:13/12},c2:{x:2/3,y:13/12},p2:{x:1,y:9/12}},nX={p1:{x:0,y:3/12},c1:{x:1/3,y:-1/12},c2:{x:2/3,y:-1/12},p2:{x:1,y:3/12}},sX={none:{name:"None"},archTop:{name:"Arch Up",bezier:{top:iX,bottom:oX}},archBot:{name:"Arch Down",bezier:{top:rX,bottom:nX}},barrel:{name:"Barrel",bezier:{top:{p1:{x:0,y:7/8},c1:{x:1/8,y:25/24},c2:{x:7/8,y:25/24},p2:{x:1,y:7/8}},bottom:{p1:{x:0,y:1/8},c1:{x:1/8,y:-1/24},c2:{x:7/8,y:-1/24},p2:{x:1,y:1/8}}}},perspectiveDown:{name:"Perspective Down",bezier:{top:{p1:{x:1/5,y:1},c1:{x:2/5,y:1},c2:{x:3/5,y:1},p2:{x:4/5,y:1}},bottom:tX}},concaveBot:{name:"Concave Bottom",bezier:{top:eX,bottom:oX}},concaveTop:{name:"Concave Top",bezier:{top:rX,bottom:tX}},concave:{name:"Concave",bezier:{top:rX,bottom:oX}},perspectiveUp:{name:"Perspective Up",bezier:{top:eX,bottom:{p1:{x:1/5,y:0},c1:{x:2/5,y:0},c2:{x:3/5,y:0},p2:{x:4/5,y:0}}}},convexBot:{name:"Convex Bottom",bezier:{top:eX,bottom:nX}},convexTop:{name:"Convex Top",bezier:{top:iX,bottom:tX}},convex:{name:"Convex",bezier:{top:iX,bottom:nX}},arcUp:{name:"Arc Up",bezier:{top:{p1:{x:0,y:0},c1:{x:0,y:4/3},c2:{x:1,y:4/3},p2:{x:1,y:0}},bottom:{p1:{x:1/4,y:0},c1:{x:1/4,y:2/3},c2:{x:3/4,y:2/3},p2:{x:3/4,y:0}}}},wavy:{name:"Wave Up",bezier:{top:{p1:{x:0,y:8/12},c1:{x:1/3,y:4/12},c2:{x:2/3,y:15/12},p2:{x:1,y:11/12}},bottom:{p1:{x:0,y:1/12},c1:{x:1/3,y:-3/12},c2:{x:2/3,y:8/12},p2:{x:1,y:4/12}}}},wavyDown:{name:"Wave Down",bezier:{top:{p1:{x:0,y:11/12},c1:{x:1/3,y:15/12},c2:{x:2/3,y:4/12},p2:{x:1,y:8/12}},bottom:{p1:{x:0,y:4/12},c1:{x:1/3,y:8/12},c2:{x:2/3,y:-3/12},p2:{x:1,y:1/12}}}},slantRight:{name:"Slant Right",bezier:{top:{p1:{x:1/7,y:1},c1:{x:3/7,y:1},c2:{x:5/7,y:1},p2:{x:1,y:1}},bottom:{p1:{x:0,y:0},c1:{x:2/7,y:0},c2:{x:4/7,y:0},p2:{x:6/7,y:0}}}},arcDown:{name:"Arc Down",bezier:{top:{p1:{x:1/4,y:1},c1:{x:1/4,y:1/3},c2:{x:3/4,y:1/3},p2:{x:3/4,y:1}},bottom:{p1:{x:0,y:1},c1:{x:0,y:-1/3},c2:{x:1,y:-1/3},p2:{x:1,y:1}}}},fishRight:{name:"Fish Right",bezier:{top:{p1:{x:0,y:4/5},c1:{x:1/3,y:1/2},c2:{x:2/3,y:4/3},p2:{x:1,y:4/5}},bottom:{p1:{x:0,y:1/5},c1:{x:1/3,y:1/2},c2:{x:2/3,y:-1/3},p2:{x:1,y:1/5}}}},fish:{name:"Fish Left",bezier:{top:{p1:{x:0,y:4/5},c1:{x:1/3,y:4/3},c2:{x:2/3,y:1/2},p2:{x:1,y:4/5}},bottom:{p1:{x:0,y:1/5},c1:{x:1/3,y:-1/3},c2:{x:2/3,y:1/2},p2:{x:1,y:1/5}}}},slantLeft:{name:"Slant Left",bezier:{top:{p1:{x:0,y:1},c1:{x:2/7,y:1},c2:{x:4/7,y:1},p2:{x:6/7,y:1}},bottom:{p1:{x:1/7,y:0},c1:{x:3/7,y:0},c2:{x:5/7,y:0},p2:{x:1,y:0}}}}};for(let e in sX){let t=sX[e];t.key=e}var h5t=sX,kv=h5t;var aX=class extends wd.default.Component{constructor(){super(...arguments);y(this,"selectTransformFunc",r=>()=>this.selectTransform(r));y(this,"selectTransform",r=>{let{activeWorkpieceId:o,projectId:i}=this.props;H.trackEvent(U.appliedTextTransformation,{transformation:r,project:i,workpiece:o,font:this.props.selectedFontFamily}),this.props.setTextEffect(this.props.selectedVolumeIds,kv[r])});y(this,"getCurrentTransformPath",()=>{let r=this.props.selectedTextEffect||"none";return this.getTransformPreviewPath(r)});y(this,"getTransformPreviewPath",r=>{let o=kv[r],i=$r.buildText(this.props.selectedFontFamily,this.props.selectedFontProvider);i.textEffect=o;let n=ii.textShapeToCanvasShape(i),s=ct().scaledBy(1,-1),a=Oe.transformedPath(n.points,s),l=Oe.pathBoundingBox(a),c=ns.string(a);return wd.default.createElement("svg",{className:"text-shape-transform-menu__preview",viewBox:`${l.minX} ${l.minY} ${l.maxX-l.minX} ${l.maxY-l.minY}`,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},wd.default.createElement("path",{d:c}))});y(this,"textEffect",r=>{let o,i=[];for(o in kv){let n=kv[o],s=r===o&&" text-shape-transform-menu__item--selected";i.push(wd.default.createElement(je,{id:o,key:o,placement:"bottom",tooltipContent:n.name,delay:me.TOOLBAR_TOOLTIP_DELAY},wd.default.createElement("li",{className:"text-shape-transform-menu__item dropdown-item"+s,"data-effect":o,key:o},wd.default.createElement(oe,{className:"text-shape-transform-menu__item-link",onClick:this.selectTransformFunc(o),key:o},this.getTransformPreviewPath(o)))))}return i})}render(){let r=this.props.selectedTextEffect||"none";return wd.default.createElement("div",{className:"text-shape-transform-menu dropdown","data-effect":r},wd.default.createElement(oe,{className:"text-shape-transform-menu__toggle-link dropdown-toggle","data-bs-toggle":"dropdown","data-display":"static"},this.getCurrentTransformPath()),wd.default.createElement("div",{className:"row"}),wd.default.createElement("ul",{className:"text-shape-transform-menu__dropdown-menu dropdown-menu"},this.textEffect(r)))}},g5t=ne({mapStateToProps:e=>({projectId:ge.getProjectId(e),selectedVolumeIds:Ie.selectedVolumeIds(e),activeWorkpieceId:W.getActiveId(e)}),mapDispatchToProps:e=>({setTextEffect:(t,r)=>e(W.actions.volumesSetTextEffect(t,r))}),component:aX}),H4e=g5t;var _D=class extends os.default.Component{constructor(){super(...arguments);y(this,"state",{showFontList:!1});y(this,"selectedFontRef",os.default.createRef());y(this,"chooseFont",(r,o)=>{this.props.setFont(this.props.selectedVolumeIds,r,o)});y(this,"closeFontList",()=>{document.getElementById("easel-mount-point").removeEventListener("click",this.closeFontList),this.setState({showFontList:!1})});y(this,"showFontList",r=>{r.preventDefault(),document.getElementById("easel-mount-point").addEventListener("click",this.closeFontList);let o=this.selectedFontRef.current.getBoundingClientRect(),i=window.innerHeight-o.bottom-6,n=o.right>=window.innerWidth-60?"left":"right";this.setState({showFontList:!0,maxFontListHeight:i,proLabelPlacement:n})});y(this,"handleAlignmentClick",r=>{this.props.setTextAlignment(this.props.selectedVolumeIds,r),this.props.trackProjectEvent("Set text alignment",{Alignment:r})})}componentWillUnmount(){document.getElementById("easel-mount-point").removeEventListener("click",this.closeFontList)}render(){let{font:r,selectedFontFamily:o,selectedFontProvider:i,selectedTextEffect:n,selectedTextAlignment:s}=this.props;return os.default.createElement("div",{className:"text-shape-properties"},os.default.createElement("div",{className:"section-header"},"Font"),os.default.createElement("div",null,os.default.createElement("a",{className:"text-shape-properties__selected-font",ref:this.selectedFontRef,href:"#","aria-haspopup":!0,"aria-expanded":this.state.showFontList,onClick:this.showFontList,style:{fontFamily:Bo(o,i)}},r.displayName,os.default.createElement("i",{className:"bi bi-chevron-down"})),os.default.createElement("div",{className:`text-shape-font-menu dropdown ${this.state.showFontList?"show":""}`},os.default.createElement(kI,{onChooseFont:this.chooseFont,className:"dropdown-menu easel-dropdown easel-dropdown--right",maxHeight:this.state.maxFontListHeight,proLabelPlacement:this.state.proLabelPlacement,show:this.state.showFontList,source:"Shape Properties"}))),os.default.createElement("div",{className:"section-header"},"Text Alignment"),os.default.createElement("div",{className:"text-alignment-buttons btn-group d-flex justify-content-center"},os.default.createElement("button",{className:`btn btn-sm ${s==="left"?"btn-primary":"btn-default"}`,onClick:()=>this.handleAlignmentClick("left"),title:"Align left"},os.default.createElement("i",{className:"bi bi-text-left"})),os.default.createElement("button",{className:`btn btn-sm ${s==="center"?"btn-primary":"btn-default"}`,onClick:()=>this.handleAlignmentClick("center"),title:"Align center"},os.default.createElement("i",{className:"bi bi-text-center"})),os.default.createElement("button",{className:`btn btn-sm ${s==="right"?"btn-primary":"btn-default"}`,onClick:()=>this.handleAlignmentClick("right"),title:"Align right"},os.default.createElement("i",{className:"bi bi-text-right"}))),os.default.createElement("div",{className:"section-header"},"Text Effect",os.default.createElement(qt,null)),os.default.createElement(H4e,{selectedFontFamily:o,selectedFontProvider:i,selectedTextEffect:n}))}};y(_D,"propTypes",{selectedFontFamily:wD.default.string.isRequired,selectedTextEffect:wD.default.string,selectedTextAlignment:wD.default.string});var y5t=ne({mapStateToProps:(e,t)=>({font:ft.getFontData(e,t.selectedFontFamily,t.selectedFontProvider),isProUser:Q.isProEnabled(Date.now(),e),selectedVolumeIds:Ie.selectedVolumeIds(e)}),mapDispatchToProps:{setFont:W.actions.volumesSetFont,setTextAlignment:W.actions.volumesSetTextAlignment,trackProjectEvent:Bt},component:_D}),z4e=y5t;var Tx=M(P("react"),1),X4e=P("react-redux");var x5t=({selectedVolumes:e})=>{let t=(0,X4e.useDispatch)(),r=He(U.renameVolumes),o=n=>{r();let s=e.find(l=>!!l.name)?.id??e.find(l=>Ee.isPrimitiveType(l)).id,a=vr.truncate(vr.sanitize(n),40);t(W.actions.volumesSetName(s,a))},i=e.find(n=>!!n.name)?.name||"";return Tx.default.createElement(Tx.default.Fragment,null,Tx.default.createElement("label",{htmlFor:"volume-name",className:"section-header"},"Name"),Tx.default.createElement("div",{className:"form-group"},Tx.default.createElement(Vn,{id:"volume-name",className:"form-control form-control--large",initialValue:i,placeholder:"Enter shape name",submit:n=>o(n)})))},Y4e=x5t;var kD=class extends nf.default.Component{constructor(){super(...arguments);y(this,"getX",()=>{switch(this.state.anchorX){case"left":return Ee.boundingBoxLeft(this.props.selectedVolumes);case"center":return Ee.boundingBoxHorizontalCenter(this.props.selectedVolumes);case"right":return Ee.boundingBoxRight(this.props.selectedVolumes)}});y(this,"getY",()=>{switch(this.state.anchorY){case"bottom":return Ee.boundingBoxBottom(this.props.selectedVolumes);case"center":return Ee.boundingBoxVerticalCenter(this.props.selectedVolumes);case"top":return Ee.boundingBoxTop(this.props.selectedVolumes)}});y(this,"getRotation",()=>this.props.selectedVolumeGroups.length===1?this.props.selectedVolumeGroups[0]!=null&&this.props.selectedVolumeGroups[0].rotation||0:this.props.selectedVolumes.length===1?this.props.selectedVolumes[0].shape.rotation||0:this.props.multipleVolumeRotation||0);y(this,"setAnchor",(r,o)=>{this.props.saveAnchorPosition(r,o),this.setState({anchorX:r,anchorY:o})});y(this,"getAnchorPosition",()=>this.props.disableAnchors?{anchorX:"center",anchorY:"center"}:this.props.savedAnchorPosition);y(this,"setPosition",(r,o)=>{let i=this.getX(),n=this.getY();this.props.translate(this.props.selectedVolumeIds,r-i,o-n)});y(this,"setSize",(r,o)=>{let i=Ee.boundingBoxWidth(this.props.selectedVolumes),n=Ee.boundingBoxHeight(this.props.selectedVolumes),s=i===0?1:r/i,a=n===0?1:o/n,l=this.getX(),c=this.getY();this.props.scale(this.props.selectedVolumeIds,s,a,l,c)});y(this,"setRotation",r=>{let o=Ee.boundingBox(this.props.selectedVolumes),{x:i,y:n}=Ee.centerFromBbox(o);this.props.rotate(this.props.selectedVolumeIds,r-this.getRotation(),i,n)});y(this,"allLocked",()=>this.props.selectedVolumes.every(r=>r.shape.anchored));y(this,"getWidth",()=>Ee.boundingBoxWidth(this.props.selectedVolumes));y(this,"getHeight",()=>Ee.boundingBoxHeight(this.props.selectedVolumes));y(this,"isProportionLocked",()=>this.props.selectedVolumes.every(r=>r.shape.isProportionLocked));y(this,"canBeRenamed",()=>{let{selectedVolumes:r,selectedVolumeGroups:o}=this.props;return r.length===1&&Ee.isPrimitiveType(r[0])||o.length===1&&[...new Set(r.map(i=>i.group))].length===1&&r.filter(i=>Ee.isPrimitiveType(i)).length>0});y(this,"state",this.getAnchorPosition())}render(){let{selectedVolumes:r,selectedVolumeIds:o,disableAnchors:i,selectedVolumeGroups:n,setProportionLock:s}=this.props;if(o.length<=0)return null;let a=this.getX(),l=this.getY(),c=this.getWidth(),u=this.getHeight(),p=this.getRotation(),m=this.allLocked(),h=this.isProportionLocked(),{anchorX:f,anchorY:x}=this.getAnchorPosition(),v=r.every(_=>_.shape.type==="rectangle"),b=r.every(_=>_.shape.type==="text"),S=n.length>0,w=r.length===1&&r[0].shape.type==="drill";return nf.default.createElement("div",{className:"shape-properties"},nf.default.createElement(R4e,{anchorX:f,anchorY:x,x:a,y:l,onChange:this.setPosition,onChangeAnchor:this.setAnchor,disableAnchors:i,disabled:m}),nf.default.createElement(V4e,{width:c,height:u,onChange:this.setSize,selectedVolumeIds:o,isProportionLocked:h,disabled:m,setProportionLock:s}),nf.default.createElement(U4e,{angle:p,readonly:w||m,onChange:this.setRotation}),nf.default.createElement(G4e,{selectedVolumes:r,setLocked:this.props.setLocked,selectedVolumeIds:o,allLocked:m}),v&&!S&&nf.default.createElement(j4e,{selectedVolumeIds:o}),b&&!S&&nf.default.createElement(z4e,{selectedFontFamily:r[0].shape.font,selectedFontProvider:r[0].shape.fontProvider,selectedTextEffect:r[0].shape.textEffect&&r[0].shape.textEffect.key,selectedTextAlignment:r[0].shape.textAlignment||"left"}),this.canBeRenamed()&&nf.default.createElement(Y4e,{selectedVolumes:r}))}};y(kD,"propTypes",{selectedVolumeIds:Ex.default.array.isRequired,selectedVolumes:Ex.default.array.isRequired,disableAnchors:Ex.default.bool.isRequired,selectedVolumeGroups:Ex.default.array.isRequired,multipleVolumeRotation:Ex.default.number});var b5t=ne({mapStateToProps:e=>({savedAnchorPosition:Ie.getSavedAnchorPosition(e)}),mapDispatchToProps:e=>({saveAnchorPosition:(t,r)=>e(W.actions.saveAnchorPosition({anchorX:t,anchorY:r})),translate:(t,r,o)=>e(W.actions.volumesTranslate(t,r,o)),scale:(t,r,o,i,n)=>e(W.actions.volumesScale(t,r,o,i,n)),rotate:(t,r,o,i)=>e(W.actions.volumesRotate(t,r,o,i)),setLocked:(t,r)=>e(W.actions.volumesSetLocked(t,r)),setProportionLock:(t,r)=>e(W.actions.volumesSetProportionLock(t,r)),setShapeParams:(t,r)=>e(W.actions.volumesSetShapeParams(t,r))}),component:kD}),q4e=b5t;var Zi=M(P("react"),1);var y1=M(P("prop-types"),1),lX=M(P("react"),1);var TD=class extends lX.default.Component{constructor(){super(...arguments);y(this,"state",{value:this.props.initialValue});y(this,"UNSAFE_componentWillReceiveProps",r=>{this.setState({value:r.initialValue})});y(this,"isValid",r=>!isNaN(r)&&this.props.min<=r&&r<=this.props.max);y(this,"onChange",r=>{let o=r.target.value;this.setState({value:o});let i=parseFloat(o);this.isValid(i)&&this.props.onChange(i)});y(this,"onKeyDown",r=>{if(r.keyCode===13){r.preventDefault();let i=parseFloat(r.target.value);isNaN(i)||(i<this.props.min?i=this.props.min:i>this.props.max&&(i=this.props.max),this.props.onChange(i)),this.onBlur()}});y(this,"onBlur",()=>{this.setState({value:this.props.initialValue})})}render(){let r=this.props.className??"form-control";return this.isValid(parseFloat(this.state.value))||(r+=" is-invalid"),lX.default.createElement("input",{type:"number",className:r,min:this.props.min,max:this.props.max,step:this.props.step,size:this.props.size,id:this.props.id,onChange:this.onChange,onKeyDown:this.onKeyDown,onBlur:this.onBlur,value:this.state.value,disabled:this.props.disabled??!1})}};y(TD,"propTypes",{id:y1.default.string,min:y1.default.number.isRequired,max:y1.default.number.isRequired,size:y1.default.string,initialValue:y1.default.number.isRequired,onChange:y1.default.func.isRequired,disabled:y1.default.bool});var $4e=TD;var sf=M(P("react"),1),Q4e=P("react-redux");var Mx=M(P("react"),1);var v5t=Mx.default.forwardRef((e,t)=>{let{values:r,children:o,className:i="form-select multi-selection-input",placeholder:n="<Various>",...s}=e,a=(0,Mx.useMemo)(()=>c5(r),[r]),l=a.length===1?a[0]:"";return Mx.default.createElement("select",{ref:t,className:i,value:l,...s},Mx.default.createElement("option",{value:"",style:{display:"none"}},n),o)}),Z4e=v5t;var J4e={in:[.01,.05,.1,.15],mm:[.2,.5,1,3]},S5t={getOptions:(e,t)=>{let r=[...J4e[t]],o=Ve.convertToUnit(e,"in",t);o>0&&!J4e[t].some(n=>Xt.closeTo(n,o))&&r.push(o);let i=r.sort().map(n=>({value:Ve.convertToUnit(n,t,"in"),display:`${parseFloat(n.toFixed(2))} ${t}`}));return i.unshift({value:0,display:"None"}),i}},K4e=S5t;var C5t=({selectedVolumes:e,preferredUnit:t,representativeCut:r})=>{let o=(0,Q4e.useDispatch)(),i=a=>{let l=parseFloat(a.target.value);if(l>0){let{depth:c,type:u,outlineStyle:p}=r;o(Bt(U.enabledAdditionalCutDepth,{"Added Depth":l,Units:t,"Material Thickness":c,"Cut Path":u,"Outline Style":p}))}o(W.actions.volumesSetCutParams(e.map(c=>c.id),{additionalDepthAmount:l}))},n=K4e.getOptions(r.additionalDepthAmount,t),s=e.map(a=>a.cut.additionalDepthAmount?.toString()||"0");return sf.default.createElement("div",{className:"additional-depth-input"},sf.default.createElement("div",{className:"additional-depth-input__checkbox-container"},sf.default.createElement("label",{className:"additional-depth-input__label",htmlFor:"cut-through"},"Add Depth",sf.default.createElement(je,{placement:"top",tooltipContent:"Cut into the wasteboard to ensure shape is completely cut through"},sf.default.createElement("i",{className:"bi bi-question-circle-fill additional-depth-input__tooltip-icon"})),sf.default.createElement("div",{className:"additional-depth-input__select-container"},sf.default.createElement(Z4e,{id:"cut-through-amount",values:s,onChange:i,onMouseDown:a=>{a.stopPropagation()},className:null},n.map(({value:a,display:l},c)=>sf.default.createElement("option",{key:`additional-depth-${c}`,value:a},l))),sf.default.createElement(qt,null)))))},e8e=C5t;var Ss=M(P("react"),1);var t8e=M(P("react"),1);function P5t({selected:e,show:t,onClick:r,children:o}){let i=["cut-type-button"];return e&&i.push("cut-type--selected"),t&&i.push("cut-type--show"),t8e.default.createElement(oe,{onClick:r,className:i.join(" ")},o)}var Tv=P5t;var r8e=P("react-bootstrap");var cX=class extends Ss.default.Component{constructor(){super(...arguments);y(this,"state",{cutTypeMenuVisible:!1});y(this,"toggleCutTypeMenu",()=>{this.setState({cutTypeMenuVisible:!this.state.cutTypeMenuVisible})});y(this,"setTypeFill",()=>{this.props.onChangeType("fill"),this.toggleCutTypeMenu()});y(this,"setOutlineStyleInside",()=>{this.props.onChangeOutlineStyle("inside"),this.toggleCutTypeMenu()});y(this,"setOutlineStyleOutside",()=>{this.props.onChangeOutlineStyle("outside"),this.toggleCutTypeMenu()});y(this,"setOutlineStyleOnPath",()=>{this.props.onChangeOutlineStyle("on-path"),this.toggleCutTypeMenu()})}render(){let{cutTypeMenuVisible:r}=this.state,{type:o,outlineStyle:i}=this.props,n=o==="fill",s=o==="outline"&&i==="on-path",a=o==="outline"&&i==="inside",l=o==="outline"&&i==="outside";return Ss.default.createElement("div",{className:"cut-type-picker"},Ss.default.createElement(r8e.Anchor,{className:"cut-type-picker__title",onClick:this.toggleCutTypeMenu},"Cut Path",Ss.default.createElement("span",{className:"cut-type-picker__menu-visibility-toggler"},r?Ss.default.createElement("i",{className:"bi bi-caret-up"}):Ss.default.createElement("i",{className:"bi bi-caret-down"}))),Ss.default.createElement("div",{id:"cut-type-picker__menu",className:`cut-type-picker__outline-style-menu ${r?"abs":""}`},Ss.default.createElement(Tv,{selected:n,onClick:r?this.setTypeFill:this.toggleCutTypeMenu,show:r},Ss.default.createElement("img",{src:EASEL_ASSETS.images.fillCut}),Ss.default.createElement("span",null,"Clear out a pocket")),Ss.default.createElement(Tv,{selected:s,onClick:r?this.setOutlineStyleOnPath:this.toggleCutTypeMenu,show:r},Ss.default.createElement("img",{src:EASEL_ASSETS.images.onPathCut}),Ss.default.createElement("span",null,"Cut on shape path")),Ss.default.createElement(Tv,{selected:l,onClick:r?this.setOutlineStyleOutside:this.toggleCutTypeMenu,show:r},Ss.default.createElement("img",{src:EASEL_ASSETS.images.outsideCut}),Ss.default.createElement("span",null,"Cut outside shape path")),Ss.default.createElement(Tv,{selected:a,onClick:r?this.setOutlineStyleInside:this.toggleCutTypeMenu,show:r},Ss.default.createElement("img",{src:EASEL_ASSETS.images.insideCut}),Ss.default.createElement("span",null,"Cut inside shape path"))))}},o8e=cX;var _d=M(P("react"),1),a8e=P("react-redux");var Au=M(P("react"),1),n8e=P("react-bootstrap"),ED=P("react-redux");var w5t=function({materialThicknessInches:e,preferredUnitsPerInch:t,unit:r}){return{generate:function(){let n,s,a,l=function(h,f){return h===0?[0]:f%h===0?[1,f/h]:f%2===0&&h%2===0?[h/2,f/2]:[h,f]},c=function(h,f){let x=l(h,f);return x.length===1?{numerator:x[0],denominator:1}:{numerator:x[0],denominator:x[1]}};r==="in"?(a=1,s=1,e<.2?s=32:e<.4?s=16:e<.77?s=8:e<1.1?s=4:e<3&&(s=2)):(a=10,s=1,e<.11811?(a=1,s=2):e<.393701?(a=1,s=1):e<.787402?(a=2,s=1):e<1.9685&&(a=5,s=1));let u=[],p=n=0;for(;n<=e*t+1e-4;){let h=p/s/t,f=c(p,s);u.push({numerator:f.numerator,denominator:f.denominator,value:h,percentage:h/e*100,unit:r}),p+=a,n+=a/s}let m=u[u.length-1];return Math.abs(m.value-e)<1e-4&&(m.value=e,m.percentage=100),u}}},i8e=w5t;var _5t=({onClick:e})=>{let t=(0,ED.useSelector)(q.getMaterialThickness),r=(0,ED.useSelector)(Me.preferredUnitsPerInch),o=(0,ED.useSelector)(Me.getPreferredUnit),i=i8e({materialThicknessInches:t,preferredUnitsPerInch:r,unit:o}).generate();return Au.default.createElement(Au.default.Fragment,null,i.map((n,s)=>Au.default.createElement(n8e.Anchor,{key:`tick-${s}`,className:"tick",onMouseDown:()=>e(n.value),style:{top:`${n.percentage}%`}},Au.default.createElement("div",{className:"frac"},n.unit==="in"&&(n.denominator===1?Au.default.createElement(Au.default.Fragment,null,n.numerator,Au.default.createElement("span",null,"\u2033")):Au.default.createElement(Au.default.Fragment,null,Au.default.createElement("sup",null,n.numerator),"/",Au.default.createElement("sub",null,n.denominator),Au.default.createElement("span",null,"\u2033"))),n.unit==="mm"&&`${(n.numerator/n.denominator).toFixed(n.denominator>1?1:0)} mm`))))},s8e=_5t;var k5t=e=>{let{value:t,min:r,max:o,onChange:i,layers:n}=e,s=(0,_d.useRef)(null),[a,l]=(0,_d.useState)(t),c=(0,_d.useRef)(),u=(0,a8e.useDispatch)(),p=(b,S)=>{let w=(S-s.current.y)/c.current.offsetHeight,_=(o-r)*w+a;return Xt.clamp(_,r,o)},m=b=>{u(nr.actions.beginGroup()),s.current={x:b.clientX,y:b.clientY,pointerId:b.pointerId},l(t),b.currentTarget&&b.currentTarget.setPointerCapture(b.pointerId),b.stopPropagation(),b.preventDefault()},h=b=>{s.current!=null&&i(p(b.clientX,b.clientY)),b.stopPropagation(),b.preventDefault()},f=b=>{if(s.current!=null&&i(p(b.clientX,b.clientY)),b.currentTarget&&s.current?.pointerId)try{b.currentTarget.releasePointerCapture(s.current.pointerId)}catch{}s.current=null,u(nr.actions.endGroup()),b.stopPropagation(),b.preventDefault()},x=()=>{if(n==null||n.length<=1)return{};let b=0,S=[];for(let{rgb:w,bottomZ:_,relativeTo:E}of Array.from(n)){let A=100*-((E==="top"?0:-o)+_)/o;S.push(`rgb(${w.join(", ")}) ${b+1}%`),S.push(`rgb(${w.join(", ")}) ${A-1}%`),b=A}return{background:`linear-gradient(to bottom, ${S.join(", ")})`}},v=100*(t-r)/(o-r);return _d.default.createElement("div",{className:"depth-slider"},_d.default.createElement("div",{className:"depth-slider__track",ref:c,style:x()},_d.default.createElement("div",{className:"depth-slider__ticks"},_d.default.createElement(s8e,{onClick:i})),_d.default.createElement("div",{className:"depth-slider__handle",style:{top:`${v}%`},onPointerDown:m,onPointerMove:h,onPointerUp:f})))},l8e=k5t;var uX=class extends Zi.default.Component{constructor(){super(...arguments);y(this,"onChangeDepthInches",r=>{r=Xt.clamp(r,0,this.props.materialThickness);let o={depth:r};r<this.props.materialThickness&&(o.additionalDepthAmount=0),this.props.setCutParams(this.props.selectedVolumeIds,o)});y(this,"setType",r=>{this.props.setCutParams(this.props.combinableVolumeIds,{type:r})});y(this,"setOutlineStyle",r=>{if(r==="outside"||r==="inside"){for(let o of this.props.selectedVolumes)if(gl.process(o.shape).open().any()){Fe("Cannot offset open paths","If you've imported an SVG, check for open paths and join them before importing."),H.trackEvent("Offset Open Path Error");return}}this.props.setCutParams(this.props.combinableVolumeIds,{outlineStyle:r,type:"outline"})});y(this,"onChangeTabPreference",r=>{let o=r.target.checked;this.props.setCutParams(this.props.selectedVolumeIds,{tabPreference:o})});y(this,"setTabCount",r=>{r=Math.floor(r),this.props.setCutParams(this.props.selectedVolumeIds,{tabCount:r})});y(this,"volumeIsPlausiblyTwoDimensional",r=>{switch(r.shape.type){case"drill":case"line":return!1;case"polygon":case"polyline":return r.shape.points.length>2;case"path":return r.shape.points[0]&&r.shape.points[0].length>2;default:return!0}});y(this,"shouldShowCutType",()=>{let r,o=this.props.selectedVolumes.filter(i=>i.shape.type!=="drill");if(o.length===0)return!1;for(r of o)if(!this.volumeIsPlausiblyTwoDimensional(r))return!1;return!0});y(this,"getRepresentativeCut",()=>this.props.selectedVolumes.filter(r=>r.cut.depth!=null).reduce((r,o)=>r.cut.depth>o.cut.depth?r:o).cut);y(this,"getTabSettingsElements",r=>{let{tabLength:o,tabHeight:i,tabCount:n}=r;return Zi.default.createElement("div",{className:"tab-settings"},Zi.default.createElement("div",{className:"form-group"},Zi.default.createElement("label",{htmlFor:"cut-tab-length",className:"control-label"},"Length"),Zi.default.createElement(Yt,{variant:"trailing-zeros",id:"cut-tab-length",value:o,onCommit:s=>{this.props.setCutParams(this.props.selectedVolumeIds,{tabLength:s})}})),Zi.default.createElement("div",{className:"form-group"},Zi.default.createElement("label",{htmlFor:"cut-tab-height",className:"control-label"},"Height"),Zi.default.createElement(Yt,{variant:"trailing-zeros",id:"cut-tab-height",value:i,max:this.props.materialThickness,onCommit:s=>{this.props.setCutParams(this.props.selectedVolumeIds,{tabHeight:s})}})),Zi.default.createElement("div",{className:"form-group"},Zi.default.createElement("label",{htmlFor:"cut-tab-count",className:"control-label"},"Quantity"),Zi.default.createElement($4e,{id:"cut-tab-count",size:"2",initialValue:n,min:me.MIN_TAB_COUNT,max:me.MAX_TAB_COUNT,onChange:this.setTabCount})))});y(this,"resetTabLocations",()=>{this.props.setCutParams(this.props.selectedVolumeIds,{tabs:null})})}render(){if(this.props.selectedVolumes.length>0){let r,o=this.getRepresentativeCut(),i=o.depth,n=o.type,s=o.outlineStyle,a=o.depth===this.props.materialThickness,l=a&&n==="outline";return this.shouldShowCutType()&&(r=Zi.default.createElement(o8e,{type:n,outlineStyle:s,onChangeType:this.setType,onChangeOutlineStyle:this.setOutlineStyle})),Zi.default.createElement("div",{className:"cut-properties"},Zi.default.createElement(l8e,{value:i,min:0,max:this.props.materialThickness,layers:this.props.materialLayers,onChange:this.onChangeDepthInches}),Zi.default.createElement("div",{className:"form-group"},Zi.default.createElement(Yt,{variant:"decimal-long",key:this.props.selectedVolumeIds.join(","),id:"cut-depth-text",label:"Depth",value:i,min:0,onCommit:this.onChangeDepthInches})),a&&Zi.default.createElement(e8e,{representativeCut:o,preferredUnit:this.props.preferredUnit,selectedVolumes:this.props.selectedVolumes.filter(c=>c.cut.depth===this.props.materialThickness)}),r,l&&Zi.default.createElement("div",{className:"tabs-input"},Zi.default.createElement("div",{className:"tabs-input__checkbox-container"},Zi.default.createElement("input",{id:"use-tabs",type:"checkbox",checked:o.tabPreference,onChange:this.onChangeTabPreference}),Zi.default.createElement("label",{className:"tabs-input__label",htmlFor:"use-tabs"},"Use Tabs"),Zi.default.createElement(je,{placement:"top",id:"additional-depth-input__tooltip",tooltipContent:"Reset any custom placed tabs."},Zi.default.createElement("i",{className:"bi bi-arrow-clockwise tabs-input__checkbox-container__refresh",onClick:this.resetTabLocations}))),o.tabPreference&&o.tabs&&this.getTabSettingsElements(o)))}}},c8e=uX;var Rr=M(P("react"),1),Ax=P("react-redux");function T5t({selectedVolumes:e}){let t=(0,Ax.useDispatch)(),r=(0,Ax.useSelector)(Ie.editingVolumeId),o=(0,Ax.useSelector)(ye.getVolumesById),i=(0,Ax.useSelector)(Ci.getVisible),n=He(i?U.measurement.hideMeasureLine:U.measurement.showMeasureLine),s=e[0],a=ho(s);a&&(s={...s,shape:Up.measurementLineToPathShape(s.shape,o)});let l=s,c=ct().premultipliedBy(Xe.boundingBoxMatrix(l.shape,Oe.pathBoundingBox(l.shape.points))).premultipliedBy(Xe.shapeMatrix(l.shape)),u=l.shape.points[0].map(f=>c.transformedPoint(f)),p=Math.abs(u[0].x-u[1].x),m=Math.abs(u[0].y-u[1].y),h=()=>{r!=null&&t(W.actions.cancelEditingVolume()),n(),t(Ci.actions.toggleVisible())};return i&&Rr.default.createElement("div",{className:"measurement-properties"},Rr.default.createElement("div",{className:"section-header pb-2"},"Measure"),!a&&Rr.default.createElement(Rr.default.Fragment,null,Rr.default.createElement("div",{className:"measurement-properties__property-row"},Rr.default.createElement("span",{className:"measurement-properties__subheader measurement-properties__label"},"Angle"),Rr.default.createElement(Vn,{initialValue:`${(Math.atan2(m,p)*180/Math.PI).toFixed(1)}\xB0`,disabled:!0})),Rr.default.createElement("div",{className:"measurement-properties__property-row"},Rr.default.createElement("span",{className:"measurement-properties__subheader measurement-properties__label"},"Horizontal"),Rr.default.createElement(Yt,{variant:"trailing-zeros",value:p,disabled:!0})),Rr.default.createElement("div",{className:"measurement-properties__property-row"},Rr.default.createElement("span",{className:"measurement-properties__subheader measurement-properties__label"},"Vertical"),Rr.default.createElement(Yt,{variant:"trailing-zeros",value:m,disabled:!0}))),Rr.default.createElement("div",{className:"measurement-properties__subheader"},"Start"),Rr.default.createElement("div",{className:"measurement-properties__points"},Rr.default.createElement("div",null,Rr.default.createElement("label",{htmlFor:"measurement-properties__start-pt-x",className:"measurement-properties__label"},"X"),Rr.default.createElement(Yt,{variant:"trailing-zeros",id:"measurement-properties__start-pt-x",value:u[0].x,disabled:!0})),Rr.default.createElement("div",null,Rr.default.createElement("label",{htmlFor:"measurement-properties__start-pt-y",className:"measurement-properties__label"},"Y"),Rr.default.createElement(Yt,{variant:"trailing-zeros",id:"measurement_properties__start-pt-y",value:u[0].y,disabled:!0}))),Rr.default.createElement("div",{className:"measurement-properties__subheader"},"End"),Rr.default.createElement("div",{className:"measurement-properties__points"},Rr.default.createElement("div",null,Rr.default.createElement("label",{htmlFor:"measurement-properties__end-pt-x",className:"measurement-properties__label"},"X"),Rr.default.createElement(Yt,{variant:"trailing-zeros",id:"measurement-properties__end-pt-x",value:u[1].x,disabled:!0})),Rr.default.createElement("div",null,Rr.default.createElement("label",{htmlFor:"measurement-properties__end-pt-y",className:"measurement-properties__label"},"Y"),Rr.default.createElement(Yt,{variant:"trailing-zeros",id:"measurement_properties__end-pt-y",value:u[1].y,disabled:!0}))),Rr.default.createElement(oe,{className:"measurement-properties__footer-row",onClick:h},Rr.default.createElement("span",null,"Measure Lines"),Rr.default.createElement(je,{placement:"top",tooltipContent:"Hide/Show M"},Rr.default.createElement("img",{src:i?EASEL_ASSETS.images.guideLinesVisible:EASEL_ASSETS.images.guideLinesNotVisible}))))}var u8e=T5t;var Rs=M(P("react"),1),d8e=P("react-redux");var pX=M(P("prop-types"),1),qh=M(P("react"),1);var MD=class extends qh.default.Component{constructor(){super(...arguments);y(this,"onClickStraight",()=>{this.props.onSetStyle("straight")});y(this,"onClickCurved",()=>{this.props.onSetStyle("curved")})}render(){return qh.default.createElement("div",{className:"property-button-pair"},qh.default.createElement(oe,{"data-button-type":"curve-button",className:`property-button ${this.props.style==="curved"?"property-button--selected":""}`,onClick:this.onClickCurved},qh.default.createElement("img",{src:EASEL_ASSETS.images.curveAnchor,alt:"Change point style to curved"}),qh.default.createElement("span",null,"Curved")),qh.default.createElement(oe,{"data-button-type":"straight-button",className:`property-button ${this.props.style==="straight"?"property-button--selected":""}`,onClick:this.onClickStraight},qh.default.createElement("img",{src:EASEL_ASSETS.images.straightAnchor,alt:"Change point style to straight"}),qh.default.createElement("span",null,"Straight")))}};y(MD,"propTypes",{style:pX.default.oneOf(["curved","straight"]).isRequired,onSetStyle:pX.default.func.isRequired});var p8e=MD;function dX({editingVolume:e,selectedVolumes:t,selectedPoints:r,editablePointStyle:o}){let i=(0,d8e.useDispatch)(),n=()=>Qc.isMac()?"Opt":"Alt",s=b=>{i(W.actions.startEditingVolume({volume:t[0]})),b.preventDefault()},a=b=>{i(W.actions.cancelEditingVolume()),b.preventDefault()},l=()=>e!=null&&r.length===1&&r[0].pointIndices.length===1,c=()=>{if(!l())return null;let b=r[0].subpathIndex,S=r[0].pointIndices[0],_=Xe.pathifyShape(e.shape).points[b];return _==null?null:_[S]},u=()=>{let b=c();if(b==null)return null;let S=Xe.pathifyShape(e.shape);return ct().premultipliedBy(Xe.boundingBoxMatrix(S,Oe.pathBoundingBox(S.points))).premultipliedBy(Xe.shapeMatrix(S)).transformedPoint(b)},p=b=>{let S=u();S&&h({x:b-S.x,y:0})},m=b=>{let S=u();S&&h({x:0,y:b-S.y})},h=b=>{let S=Xe.pathifyShape(e.shape),w=Xe.pathWithTranslatedPoints({delta:b,pointType:"anchor",shape:S,points:r});i(W.actions.volumesSetShapeParams([e.id],w)),H.trackEventOnce("Edit path point coordinates",{"Line Type":e.cut.type==="measurement"?"Measurement":"Vector"})},f=b=>{let S=r[0].subpathIndex,w=r[0].pointIndices[0],_=Xe.pathifyShape(e.shape),E;b==="curved"?E=Xe.pathWithMirroredPoint({shape:_,subpathIndex:S,pointIndex:w}):E=Xe.pathWithStraightPoint({shape:_,subpathIndex:S,pointIndex:w}),i(W.actions.volumesSetShapeParams([e.id],E,"Change Point Style"))};if(t.length!==1||["text","drill"].indexOf(t[0].shape.type)!==-1)return null;let x=c(),v=u();return Rs.default.createElement("div",{className:"point-editing-panel property-panel"},e&&Rs.default.createElement("div",null,Rs.default.createElement("a",{className:"property-panel-header property-depressed",href:"#",onClick:a},Rs.default.createElement("span",null,"Stop editing"),Rs.default.createElement("kbd",{className:"depressed"},"E")),x&&Rs.default.createElement("div",{className:"point-editing-panel__position-inputs"},Rs.default.createElement("label",{className:"point-editing-panel__position-input-label"},"X",Rs.default.createElement(Yt,{variant:"trailing-zeros",value:v.x,onCommit:p})),Rs.default.createElement("label",{className:"point-editing-panel__position-input-label"},"Y",Rs.default.createElement(Yt,{variant:"trailing-zeros",value:v.y,onCommit:m}))),x&&o&&Rs.default.createElement(p8e,{style:x.lh!=null&&x.rh!=null?"curved":"straight",onSetStyle:f}),Rs.default.createElement("div",{className:"property-panel__info center-text"},Rs.default.createElement("i",{className:"bi bi-info-circle fa-lg"}),Rs.default.createElement("span",{className:"property-panel__text"},"Hold the ",Rs.default.createElement("kbd",null,n())," key to disable snapping"))),!e&&!t.every(b=>ho(b))&&Rs.default.createElement("a",{className:"property-panel-header",href:"#",onClick:s},Rs.default.createElement("span",null,"Edit points"),Rs.default.createElement("kbd",null,"E")))}var Nn=M(P("react"),1),D8e=M(A8e(),1);var h0t={bboxIsEqual(e,t){return e.top===t.top&&e.left===t.left&&e.bottom===t.bottom&&e.right===t.right},overlapY:function(e,t){return e.bottom>=t.top&&e.bottom<=t.bottom?{top:t.top-e.bottom,bottom:t.bottom-e.top}:e.top<=t.bottom&&e.top>=t.top?{top:t.top-e.bottom,bottom:t.bottom-e.top}:e.top<=t.top&&e.bottom>=t.bottom||t.top<=e.top&&t.bottom>=e.bottom?{top:t.top-e.bottom,bottom:t.bottom-e.top}:{top:0,bottom:0}},overlapX:function(e,t){return e.right>=t.left&&e.right<=t.right?{left:t.left-e.right,right:t.right-e.left}:e.left<=t.right&&e.left>=t.left?{left:t.left-e.right,right:t.right-e.left}:e.left<=t.left&&e.right>=t.right||t.left<=e.left&&t.right>=e.right?{left:t.left-e.right,right:t.right-e.left}:{left:0,right:0}},bboxWithDelta(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},containerToKeepOut(e){return[{left:-1/0,right:e.left,top:-1/0,bottom:1/0},{left:e.right,right:1/0,top:-1/0,bottom:1/0},{left:-1/0,right:1/0,top:e.bottom,bottom:1/0},{left:-1/0,right:1/0,top:-1/0,bottom:e.top}]},isValid(e,t){return t.reduce((r,o)=>{let i=this.overlapX(e,o),n=this.overlapY(e,o);return r&&(i.left===0||i.right===0||n.top===0||n.bottom===0)},!0)},constrainPositionDelta(e,t,r){let o=[],i={x:0,y:0};r=r.slice(),t!=null&&r.push(...this.containerToKeepOut(t));let n=function(s,a,l){if(a.length===0){o.push(l);return}let c=a[a.length-1],u=this.bboxWithDelta(s,l),p=this.overlapY(u,c),m=this.overlapX(u,c);isFinite(m.right)&&n(s,a.slice(0,a.length-1),{x:l.x+m.right,y:l.y}),isFinite(p.bottom)&&n(s,a.slice(0,a.length-1),{x:l.x,y:l.y+p.bottom}),isFinite(p.top)&&n(s,a.slice(0,a.length-1),{x:l.x,y:l.y+p.top}),isFinite(m.left)&&n(s,a.slice(0,a.length-1),{x:l.x+m.left,y:l.y})}.bind(this);if(n(e,r,i),o=o.filter(s=>this.isValid(this.bboxWithDelta(e,s),r)),o.length===0)throw new Error("No valid position found for the given constrains");return o.reduce((s,a)=>Math.abs(s.x)+Math.abs(s.y)<Math.abs(a.x)+Math.abs(a.y)?s:a)}},I8e=h0t;var g0t=({keepOutSelectors:e=[],containerSelector:t="body",dependencies:r=[],className:o,bounds:i,axis:n="both",scale:s=1,disabled:a=!1,initialPosition:l={x:0,y:0},onPositionChange:c,children:u})=>{let[p,m]=(0,Nn.useState)(l),h=(0,Nn.useRef)(null);(0,Nn.useEffect)(()=>{m(l)},[l]);let f=(0,Nn.useCallback)(()=>{let O=document.querySelector(t).getBoundingClientRect();return{top:O.top,bottom:O.bottom,left:O.left,right:O.right}},[t]),x=(0,Nn.useMemo)(()=>e.map(O=>document.querySelector(O)).filter(O=>O!=null),[e]),v=(0,Nn.useCallback)(()=>x.map(O=>O.getBoundingClientRect()),[x]),b=(0,Nn.useCallback)(O=>{if(h.current==null)return;let L=h.current.getBoundingClientRect(),R=f(),z=v();try{let{x:I,y:F}=I8e.constrainPositionDelta(L,R,z);m({x:O.x+I,y:O.y+F})}catch(I){console.error("Failed to constrain position:",I)}},[f,v]),S=(0,Nn.useCallback)((O,L)=>{b(L)},[b]),w=(0,Nn.useCallback)((O,L)=>{b(L)},[b]),_=(0,Nn.useRef)(),E=(0,Nn.useRef)(p);E.current=p,(0,Nn.useEffect)(()=>{if(_.current){let O=_.current,L=!e.every((z,I)=>z===O.keepOutSelectors[I]),R=r.some((z,I)=>z!==O.dependencies[I]);(L||R)&&b(E.current)}_.current={keepOutSelectors:[...e],dependencies:[...r]}},[e,r,b]);let T=(0,Nn.useCallback)((O,L)=>{w(O,L),c&&c(L)},[w,c]),A=(0,Nn.useCallback)(O=>{let L=O.target;return L.tagName!=="INPUT"&&L.tagName!=="A"?void 0:!1},[]);return Nn.default.createElement(D8e.default,{nodeRef:h,axis:n,position:p,bounds:i,onDrag:S,onStop:T,onStart:A,scale:s,disabled:a},Nn.default.createElement("div",{className:o,ref:h},u))},FD=g0t;var WD=P("react"),y0t=(e={x:0,y:0})=>{let[t,r]=(0,WD.useState)(e),o=(0,WD.useCallback)(i=>{r(i)},[]);return{position:t,onPositionChange:o}},N8e=y0t;var x0t=e=>{let t=(0,pl.useDispatch)(),{position:r,onPositionChange:o}=N8e(),i=(0,pl.useSelector)(Ie.editingVolumeId),n=(0,pl.useSelector)(Ie.selectedVolumeIds),s=(0,pl.useSelector)(Me.getPreferredUnit),a=(0,pl.useSelector)(Me.preferredUnitsPerInch),l=(0,pl.useSelector)(Me.inchesPerPreferredUnit),c=(0,pl.useSelector)(q.getMaterialThickness),u=(0,pl.useSelector)(q.getActiveMaterial),p=(0,pl.useSelector)(Ie.selectedPoints),m=(0,pl.useSelector)(Ie.getLastObjectPropertyTab),h=(0,pl.useSelector)(Ie.multipleVolumeRotation),f=(0,pl.useSelector)(I=>ye.getVolumeById(I,i)),x=(0,pl.useSelector)(I=>ye.getVolumes(I,n)),v=(0,pl.useSelector)(I=>ye.getGroupsForVolumes(I,n)),b=u?.color?.layers,S=(0,Nu.useCallback)((I,F)=>{t(W.actions.volumesSetCutParams(I,F))},[t]),w=(0,Nu.useCallback)(I=>{I&&t(W.actions.setLastObjectPropertyTab(I))},[t]);if(x.length===0)return null;let _=x.length>0&&x.every(I=>I.cut.type==="measurement"),E=x.length>0&&x.every(I=>!ho(I)),T=Ee.combinableVolumeIds(x),A=x.length===1&&x[0].cut.type==="drill",O=n.length>1,L=x.filter(I=>I.cut.type!=="measurement"),R=L.map(I=>I.id),z=n.join();return Nu.default.createElement(FD,{keepOutSelectors:[".project-settings",".toolbar"],containerSelector:e.containerClass?`.${e.containerClass}`:"#editor-container",dependencies:[i],className:"object-properties",bounds:e.draggableBoundsContainerSelector,initialPosition:r,onPositionChange:o},Nu.default.createElement("div",{className:"property-panel"},!_&&Nu.default.createElement(Dv.Tabs,{id:"object-properties-tabs",fill:!0,activeKey:m,transition:!1,onSelect:w},Nu.default.createElement(Dv.Tab,{eventKey:"shape",title:"Shape"},Nu.default.createElement(q4e,{selectedVolumeIds:O?R:n,selectedVolumes:O?L:x,disableAnchors:A,multipleVolumeRotation:h,selectedVolumeGroups:v,key:z})),Nu.default.createElement(Dv.Tab,{eventKey:"cut",title:"Cut"},Nu.default.createElement(c8e,{selectedVolumeIds:O?R:n,selectedVolumes:O?L:x,combinableVolumeIds:T,preferredUnit:s,materialThickness:c,materialLayers:b,preferredUnitsPerInch:a,setCutParams:S,inchesPerPreferredUnit:l}))),_&&Nu.default.createElement(u8e,{selectedVolumes:x})),E&&Nu.default.createElement(dX,{selectedVolumes:x,editingVolume:f,selectedPoints:p,editablePointStyle:!_}))},O8e=x0t;var Bx=M(P("react"),1);var Lu=M(P("react"),1);var v1=M(P("react"),1),Nv=P("react-redux");var b0t=({simulate:e})=>{let t=(0,Nv.useSelector)(n=>(W.getGcodePasses(n)||[]).length>0),r=(0,Nv.useSelector)(Nr.isDesignReady),o=(0,Nv.useSelector)(Nr.isDesignWorking),i=(0,Nv.useSelector)(Nr.isDesignDisabled);return v1.default.createElement("div",{id:"preview-controls__status"},r&&v1.default.createElement("span",{className:"preview-visibility-controls__status"},v1.default.createElement("i",{className:"bi bi-check preview-visibility-controls__status-indicator"}),"Detailed"),o&&v1.default.createElement("span",{className:"preview-visibility-controls__status"},v1.default.createElement(Re,{className:"preview-visibility-controls__status-indicator"}),"Generating\u2026"),i&&v1.default.createElement(oe,{onClick:()=>J.emit("generate-design"),className:"btn btn-default"},"Detailed view"),!t&&v1.default.createElement(oe,{onClick:e,className:"btn btn-default"},"Simulate"))},L8e=b0t;var Ou=M(P("prop-types"),1),S1=M(P("react"),1);var Td=M(P("react"),1);var VD=class extends Td.default.Component{constructor(t){super(t),this.state={showMenu:!1},this.toggleShowMenu=this.toggleShowMenu.bind(this)}toggleShowMenu(){this.setState({showMenu:!this.state.showMenu})}render(){return Td.default.createElement(Td.default.Fragment,null,Td.default.createElement(je,{placement:"top",tooltipContent:"Additional view settings"},Td.default.createElement(oe,{onClick:this.props.onToggleMenu??this.toggleShowMenu,className:"preview-options-menu__toggle btn btn-default"},Td.default.createElement("i",{className:"bi bi-three-dots-vertical"}))),(this.props.open??this.state.showMenu)&&Td.default.createElement("div",{className:"preview-options-menu"},Td.default.createElement("div",{className:"preview-options-menu__title"},"Show / Hide"),this.props.children))}};VD.Checkbox=({title:e,enabled:t=!0,value:r,onClick:o})=>Td.default.createElement("div",{className:`preview-options-menu__checkbox ${t?"":"preview-options-menu__checkbox--disabled"}`,onClick:o},e,Td.default.createElement("i",{className:`bi ${r?"bi-check-square":"bi-square"} fs-5`}));var cy=VD;var UD=class extends S1.default.Component{constructor(){super(...arguments);y(this,"state",{showOptions:!1});y(this,"toggleMaterialVisibility",()=>{this.props.onSetMaterialVisible(!this.props.materialVisible)});y(this,"toggleProductPreviewEnabled",()=>{let{productPreviewEnabled:r}=this.props;r||H.trackEventOnce("Started Product Preview"),this.props.onSetProductPreviewEnabled(!r)});y(this,"toggleToolpathVisibility",()=>{this.props.onSetToolpathsVisible()});y(this,"toggleUncutAreasVisibility",()=>{this.props.onSetUncutAreasVisible(!this.props.uncutAreasVisible)});y(this,"toggleWasteboardVisibility",()=>{this.props.onSetWasteboardVisible(!this.props.wasteboardVisible)});y(this,"toggleOptionsMenu",()=>{this.setState({showOptions:!this.state.showOptions})})}render(){let{materialVisible:r,toolpathsVisible:o,toolpathsGenerated:i,uncutAreasVisible:n,wasteboardVisible:s,isVCarvingBitInUse:a,productPreviewEnabled:l}=this.props;return S1.default.createElement(cy,{open:this.state.showOptions,onToggleMenu:this.toggleOptionsMenu},S1.default.createElement(cy.Checkbox,{title:"Product Preview",enabled:r,value:l,onClick:this.toggleProductPreviewEnabled}),S1.default.createElement(cy.Checkbox,{title:"Wasteboard",value:s,onClick:this.toggleWasteboardVisibility}),S1.default.createElement(cy.Checkbox,{title:"Material",enabled:!l,value:r,onClick:this.toggleMaterialVisibility}),S1.default.createElement(cy.Checkbox,{title:"Toolpaths",enabled:i&&!l,value:o,onClick:this.toggleToolpathVisibility}),!a&&S1.default.createElement(cy.Checkbox,{title:"Uncut Areas",enabled:!l,value:n,onClick:this.toggleUncutAreasVisibility}))}};y(UD,"propTypes",{materialVisible:Ou.default.bool.isRequired,productPreviewEnabled:Ou.default.bool.isRequired,toolpathsVisible:Ou.default.bool.isRequired,toolpathsGenerated:Ou.default.bool.isRequired,uncutAreasVisible:Ou.default.bool.isRequired,wasteboardVisible:Ou.default.bool.isRequired,isVCarvingBitInUse:Ou.default.bool,onSetMaterialVisible:Ou.default.func,onSetProductPreviewEnabled:Ou.default.func,onSetToolpathsVisible:Ou.default.func,onSetUncutAreasVisible:Ou.default.func,onSetWasteboardVisible:Ou.default.func});var B8e=UD;var wX=M(P("prop-types"),1),Ov=M(P("react"),1);var F8e=M(P("file-saver"),1);var RD=class extends Ov.default.Component{constructor(t){super(t)}onExportClick(){H.trackEvent("Export Product Preview");let{previewPanel:t}=this.props;t.renderer.render(),t.renderer.setAfterNextRender(this.exportImage.bind(this))}async exportImage(){let{previewPanel:t}=this.props,r=await s_(t.renderer.getDOMElement(),"jpeg");(0,F8e.default)(r,`${this.props.projectName}.jpg`)}render(){return Ov.default.createElement(je,{placement:"top",id:"preview-export-tooltip",tooltipContent:"Download an image preview of the current view"},Ov.default.createElement(oe,{onClick:this.onExportClick.bind(this),className:"btn btn-default",title:"Download Preview"},Ov.default.createElement("i",{className:"bi bi-camera"})))}};RD.propTypes={previewPanel:wX.default.object,projectName:wX.default.string.isRequired};var W8e=RD;var jD=M(P("react"),1);var _X=class extends jD.default.Component{constructor(t){super(t)}onExitClick(){H.trackEventOnce("Exit Product Preview"),this.props.onSetProductPreviewEnabled(!1)}render(){return jD.default.createElement("div",{id:"preview-exit",className:"preview-visibility-controls"},jD.default.createElement(oe,{onClick:this.onExitClick.bind(this),className:"btn btn-default",title:"Exit Product Preview"},"Exit"))}},V8e=_X;var GD=M(P("three"),1),C1=M(P("react"),1);var kX=class extends C1.default.Component{componentDidMount(){let{previewPanel:t,editorSize:r}=this.props;this.raycaster=new GD.Raycaster,this.onMouseDownHandler=this.onMouseDown.bind(this),this.onMouseMoveHandler=this.onMouseMove.bind(this),this.onMouseUpHandler=this.onMouseUp.bind(this);let o=r.width/window.innerWidth;this.setState({previousEditorRatio:o}),o>me.DEFAULT_PRODUCT_PREVIEW_EDITOR_FRACTION&&this.resizeEditor(me.DEFAULT_PRODUCT_PREVIEW_EDITOR_FRACTION),this.addEventListeners(t)}componentWillUnmount(){let{previewPanel:t,editorSize:r}=this.props,{previousEditorRatio:o}=this.state;this.removeEventListeners(t),Math.abs(r.width-window.innerWidth*me.DEFAULT_PRODUCT_PREVIEW_EDITOR_FRACTION)<1&&this.resizeEditor(o)}resizeEditor(t){let{editorSize:r,workpieceViewport:o,setEditorFraction:i,materialDimensions:n,panTo:s,xyZeroLocation:a,workArea:l}=this.props,c=Si.getCenter(r,o);i(t),s({...c,materialDimensions:n,xyZeroLocation:a,workArea:l})}addEventListeners(t){let{canvas:r}=t.renderer.getRenderContext();r.addEventListener("mousedown",this.onMouseDownHandler),r.addEventListener("mousemove",this.onMouseMoveHandler),r.addEventListener("mouseup",this.onMouseUpHandler)}removeEventListeners(t){let{canvas:r}=t.renderer.getRenderContext();r.removeEventListener("mousedown",this.onMouseDownHandler),r.removeEventListener("mousemove",this.onMouseMoveHandler),r.removeEventListener("mouseup",this.onMouseUpHandler)}onMouseDown(t){this.dragged=!1,this.clickStartPosition=this.getLocationFromEvent(t)}onMouseMove(t){if(this.clickStartPosition&&!this.dragged){let r=this.getLocationFromEvent(t);ar(this.clickStartPosition,r)>5&&(this.dragged=!0)}}getLocationFromEvent(t){return{x:t.clientX,y:t.clientY}}onMouseUp(t){if(!this.clickStartPosition||this.dragged)return;this.clickStartPosition=null;let r=this.groupMouseOver(t);if(r!=null){if(t.button===0)this.props.toggleMaterialGroupVisible(r);else if(t.button===2){let o=[...new Set(this.props.designPreview.getGroups())],i=o.indexOf(r);o.splice(i,1),this.props.setHiddenMaterialGroups(o)}}}groupMouseOver(t){let{previewPanel:r}=this.props,o=new GD.Vector2;o.x=t.offsetX/r.getDOMElement().clientWidth*2-1,o.y=-(t.offsetY/r.getDOMElement().clientHeight)*2+1,this.raycaster.setFromCamera(o,r.getCamera());let n=this.raycaster.intersectObjects(r.renderer.scene.children).map(s=>s.object.group).filter(s=>s!=null);if(n=[...new Set(n)],n.length>0)return n[0]}onUnhideAll(){this.props.setHiddenMaterialGroups([])}render(){let{isVCarvingBitInUse:t}=this.props;return!t&&C1.default.createElement(C1.default.Fragment,null,C1.default.createElement("div",{id:"product-preview-help-text"},"Click on cutouts to show/hide areas of the material."),C1.default.createElement("div",{id:"product-preview-unhide",className:"preview-visibility-controls"},C1.default.createElement(oe,{onClick:this.onUnhideAll.bind(this),className:"btn btn-default",title:"Unhide All"},C1.default.createElement("i",{className:"bi bi-eye"}))))}},v0t=ne({mapStateToProps:e=>({workpieceViewport:St.getWorkpieceViewport(e),isVCarvingBitInUse:re.isVCarvingBitInUse(e),materialDimensions:q.getMaterialDimensions(e),xyZeroLocation:q.getXYZeroLocation(e),workArea:Y.getWorkArea(e)}),mapDispatchToProps:{toggleMaterialGroupVisible:Nr.actions.toggleMaterialGroupVisible,setHiddenMaterialGroups:Nr.actions.setHiddenMaterialGroups,setEditorFraction:W.actions.setEditorFraction,panTo:W.actions.panViewportTo},component:kX}),U8e=v0t;var Ji=M(P("react"),1),Oc=P("react-redux");function S0t(){let[e,t]=(0,Ji.useState)(null),[r,o]=(0,Ji.useState)(null),[i,n]=(0,Ji.useState)(null),s=(0,Ji.useRef)(0),a=(0,Ji.useRef)(!1),l=(0,Ji.useRef)(null),c=(0,Oc.useSelector)(q.getMaterialThickness),u=(0,Oc.useSelector)(re.bit),p=(0,Oc.useSelector)(re.detailBit),m=(0,Oc.useSelector)(re.detailBitEnabled),h=(0,Oc.useSelector)(re.outlineBit),f=(0,Oc.useSelector)(re.outlineBitEnabled),x=(0,Oc.useSelector)(q.getActiveMaterial),v=(0,Oc.useSelector)(Y.getMachineSettingsState),b=(0,Oc.useSelector)(et.getCurrentProfileId),S=(0,Oc.useSelector)(A=>Q.isProEnabled(Date.now(),A)),w=(0,Oc.useSelector)(Ge.getSettings),_=(0,Oc.useSelector)(ye.getVolumes),E=(0,Oc.useSelector)(Wi.getCutSettings),T=(0,Ji.useCallback)(()=>{if(a.current){l.current=T;return}let A=++s.current;a.current=!0;let O=Wo.findSavedCustomSettings(E,x,u,b),L=S3(O,"bit",x,u,v,S,w),R=le(w,L.getSettings()),z={};if(m){let F=Wo.findSavedCustomSettings(E,x,p,b),B=S3(F,"detailBit",x,p,v,S,w);z=le(w,B.getSettings())}let I={};if(f){let F=Wo.findSavedCustomSettings(E,x,h,b),B=S3(F,"outlineBit",x,h,v,S,w);I=le(w,B.getSettings())}Qs.calculateEstimate2D({volumes:_,bit:u,detailBit:p,useDetailBit:m,outlineBit:h,useOutlineBit:f,materialThickness:c,jobSettings:{roughingJobSettings:R,finishingJobSettings:z,outlineJobSettings:I}}).then(({roughing:F,finishing:B,outlines:j})=>{A===s.current&&(t(F),o(B),n(j))}).finally(()=>{if(a.current=!1,l.current){let F=l.current;l.current=null,F()}})},[u,p,m,h,f,S,w,b,v,x,c,E,_]);return(0,Ji.useEffect)(()=>T(),[T]),e!=null&&_.length>0&&Ji.default.createElement(Ji.default.Fragment,null,Ji.default.createElement("div",{className:"carve-guesstimate__estimate-label"},"ESTIMATE ",Ji.default.createElement("i",{className:"bi bi-clock"})),Ji.default.createElement("div",{className:"carve-guesstimate__estimate"},Ji.default.createElement("div",null,"Roughing: ",Ji.default.createElement("div",{className:"carve-guesstimate__estimate__value"},fa.approximateDuration(e))),r!=null&&r>0&&Ji.default.createElement("div",null,"Finishing: ",Ji.default.createElement("div",{className:"carve-guesstimate__estimate__value"},fa.approximateDuration(r))),i!=null&&i>0&&Ji.default.createElement("div",null,"Outlines: ",Ji.default.createElement("div",{className:"carve-guesstimate__estimate__value"},fa.approximateDuration(i)))))}var R8e=S0t;var TX=class extends Lu.default.Component{constructor(){super(...arguments);y(this,"state",{toolpathsVisible:!1});y(this,"simulate",()=>{this.props.trackProjectEvent(U.simulatedToolpaths),J.emit("generate-toolpaths"),this.setState({toolpathsVisible:!0})});y(this,"toggleToolpathsVisible",()=>{this.setState({toolpathsVisible:!this.state.toolpathsVisible})})}componentDidUpdate(r){let{designPreview:o,uncutAreasVisible:i,materialVisible:n,productPreviewEnabled:s,hiddenMaterialGroups:a,wasteboardVisible:l}=this.props;(r.uncutAreasVisible!==i||r.materialVisible!==n||r.productPreviewEnabled!==s||r.hiddenMaterialGroups!==a||r.wasteboardVisible!==l)&&o?.updateVisibility(i,n,s,a,l)}render(){let{toolpathsGenerated:r,previewPanel:o,gcodePasses:i,materialVisible:n,setMaterialVisible:s,uncutAreasVisible:a,setUncutAreasVisible:l,wasteboardVisible:c,setWasteboardVisible:u,isVCarvingBitInUse:p,productPreviewEnabled:m,setProductPreviewEnabled:h,designPreview:f,materialThickness:x,editorSize:v}=this.props,{toolpathsVisible:b}=this.state;return Lu.default.createElement("div",{id:"preview-controls"},!r&&!m&&Lu.default.createElement(R8e,null),!m&&Lu.default.createElement(L8e,{simulate:this.simulate}),r&&o!=null&&!m&&Lu.default.createElement("div",{className:"toolpath-option-controls"},Lu.default.createElement(TA,{gcodePasses:i,previewPanel:o,toolpathsVisible:b,materialThickness:x})),m&&Lu.default.createElement(Lu.default.Fragment,null,Lu.default.createElement(U8e,{editorSize:v,previewPanel:o,designPreview:f}),Lu.default.createElement(W8e,{previewPanel:o,projectName:this.props.projectName}),Lu.default.createElement(V8e,{onSetProductPreviewEnabled:h})),Lu.default.createElement(B8e,{materialVisible:n,onSetMaterialVisible:s,toolpathsGenerated:r,toolpathsVisible:b,onSetToolpathsVisible:this.toggleToolpathsVisible,uncutAreasVisible:a,onSetUncutAreasVisible:l,wasteboardVisible:c,onSetWasteboardVisible:u,isVCarvingBitInUse:p,productPreviewEnabled:m,onSetProductPreviewEnabled:h}))}},C0t=ne({mapStateToProps:e=>{let t=W.getGcodePasses(e)||[];return{gcodePasses:t,materialVisible:Nr.materialVisible(e),uncutAreasVisible:Nr.uncutAreasVisible(e),wasteboardVisible:Nr.wasteboardVisible(e),toolpathsGenerated:t.length>0,isVCarvingBitInUse:re.isVCarvingBitInUse(e),productPreviewEnabled:Nr.productPreviewEnabled(e),materialThickness:q.getMaterialThickness(e),hiddenMaterialGroups:Nr.hiddenMaterialGroups(e),projectName:ge.getProjectName(e)}},mapDispatchToProps:e=>({setMaterialVisible:t=>e(Nr.actions.setMaterialVisible(t)),setUncutAreasVisible:t=>e(Nr.actions.setUncutAreasVisible(t)),setWasteboardVisible:t=>e(Nr.actions.setWasteboardVisible(t)),setProductPreviewEnabled:t=>e(Nr.actions.setProductPreviewEnabled(t)),trackProjectEvent:(t,r)=>e(Bt(t,r))}),component:TX}),j8e=C0t;var EX=class extends Bx.default.Component{constructor(){super(...arguments);y(this,"previewPanel",null);y(this,"designPreview",null)}componentDidMount(){try{let r=new z0({automateCamera:!0});this.container.appendChild(r.getDOMElement()),r.setSize(this.props.previewWidth,this.props.previewHeight);let o=W3.init(r),i=X0().init(r.render.bind(r)).getMesh(),n=ba([i]);o.setWasteboardElement(n),Ju.init(o),this.previewPanel=r,this.designPreview=o}catch(r){console.error(r)}}componentWillUnmount(){Ju.disable(),this.designPreview?.releaseGraphics(),this.previewPanel?.dispose()}componentDidUpdate(r){(r.previewWidth!==this.props.previewWidth||r.previewHeight!==this.props.previewHeight)&&this.previewPanel?.setSize(this.props.previewWidth,this.props.previewHeight)}render(){return Bx.default.createElement("div",{ref:r=>this.container=r,style:{marginLeft:this.props.marginLeft,position:"relative"}},this.previewPanel&&this.designPreview&&Bx.default.createElement(j8e,{editorSize:this.props.editorSize,previewPanel:this.previewPanel,designPreview:this.designPreview}),Bx.default.createElement(jI,{style:{top:"60px"}},Bx.default.createElement(RI,null)))}},G8e=EX;var P0t={observe:function(e,t,r){if(typeof ResizeObserver=="function"){let o=new ResizeObserver(i=>{let{width:n,height:s}=i[0].contentRect;r({width:n,height:s})});return o.observe(e),o.disconnect.bind(o)}else{let o={...t},i=setInterval(()=>{(e.clientWidth!==o.width||e.clientHeight!==o.height)&&(r({width:e.clientWidth,height:e.clientHeight}),o.width=e.clientWidth,o.height=e.clientHeight)},100);return()=>clearInterval(i)}}},H8e=P0t;var Fx=M(P("react"),1),zD=P("react-redux"),HD=P("react-bootstrap");var w0t="https://support.easel.com/hc/en-us/articles/41253165704211-Copy-Paste-Designs-in-Easel";function MX(){let e=(0,zD.useSelector)(B2.isPasteErrorVisible),t=(0,zD.useDispatch)();return Fx.default.createElement(HD.Toast,{className:"position-absolute top-0 start-0 m-3",show:e,onClose:()=>t(B2.actions.showPasteError(!1))},Fx.default.createElement(HD.Toast.Header,null,Fx.default.createElement("strong",{className:"me-auto"},"Paste Error")),Fx.default.createElement(HD.Toast.Body,null,"Ensure clipboard access is enabled in your browser. See our ",Fx.default.createElement("a",{href:w0t,target:"_blank",rel:"noopener"},"copy/paste guide")," for addtional support."))}var J8e=P("react-bootstrap");var Md=M(P("react"),1),AX=P("react-redux");var Bu=M(P("react"),1),YD=P("react-redux");var XD=e=>{switch(e){case"left":return{icon:"start",label:"left",trackingLabel:"Left"};case"horizontal":return{icon:"center",label:"center",trackingLabel:"Center Vertical"};case"right":return{icon:"end",label:"right",trackingLabel:"Right"};case"bottom":return{icon:"bottom",label:"bottom",trackingLabel:"Bottom"};case"vertical":return{icon:"middle",label:"middle",trackingLabel:"Center Horizontal"};case"top":return{icon:"top",label:"top",trackingLabel:"Top"}}},_0t=({disabled:e})=>Bu.default.createElement(Bu.default.Fragment,null,Bu.default.createElement(Wx,{direction:"left",disabled:e}),Bu.default.createElement(Wx,{direction:"horizontal",disabled:e}),Bu.default.createElement(Wx,{direction:"right",disabled:e}),Bu.default.createElement(Wx,{direction:"bottom",disabled:e}),Bu.default.createElement(Wx,{direction:"vertical",disabled:e}),Bu.default.createElement(Wx,{direction:"top",disabled:e})),Wx=({direction:e,disabled:t})=>{let r=(0,YD.useDispatch)(),o=(0,YD.useSelector)(Ie.selectedVolumeIds),i=He(U.alignedShapes,{Direction:XD(e).trackingLabel}),n=s=>{t||(i(),r(W.actions.volumesAlign(o,s)))};return Bu.default.createElement(je,{placement:"top",tooltipContent:`Align ${XD(e).label}`,delay:0},Bu.default.createElement("span",{className:"d-inline-block"},Bu.default.createElement("button",{className:"btn btn-flat alignment-actions__icon",disabled:t,onClick:()=>n(e),"aria-label":`Align ${XD(e).label}`},Bu.default.createElement("i",{className:`bi bi-align-${XD(e).icon}`}))))},z8e=_0t;var Zh=M(P("react"),1),qD=P("react-redux");var k0t=()=>{let e=(0,qD.useDispatch)(),t=(0,qD.useSelector)(Ie.selectedVolumeIds),r=He(U.layeringTool,{action:"Move forward"}),o=He(U.layeringTool,{action:"Move backward"}),i=n=>{n==="backward"?(o(),e(W.actions.volumesMoveBackward(t))):(r(),e(W.actions.volumesMoveForward(t)))};return Zh.default.createElement(Zh.default.Fragment,null,Zh.default.createElement(je,{placement:"bottom",tooltipContent:"Move forward",delay:0},Zh.default.createElement("button",{className:"btn btn-flat alignment-actions__icon",onClick:()=>i("forward"),"aria-label":"Move forward"},Zh.default.createElement("i",{className:"bi bi-front"}))),Zh.default.createElement(je,{placement:"bottom",tooltipContent:"Move  backward",delay:0},Zh.default.createElement("button",{className:"btn btn-flat alignment-actions__icon",onClick:()=>i("backward"),"aria-label":"Move backward"},Zh.default.createElement("i",{className:"bi bi-back"}))))},X8e=k0t;var Vx=M(P("react"),1),Y8e=P("react-redux");var T0t=()=>{let e=(0,Y8e.useSelector)(Ie.selectedVolumeIds),t=He(U.combinedShapes),r=()=>{e.length<2||(t(),VP.combineSelection())};return Vx.default.createElement(Vx.default.Fragment,null,Vx.default.createElement(je,{placement:"bottom",tooltipContent:"Combine",delay:0},Vx.default.createElement("button",{className:"btn btn-flat alignment-actions__icon",onClick:()=>r(),"aria-label":"Combine"},Vx.default.createElement("i",{className:"bi bi-union"}))))},q8e=T0t;var Ed=M(P("react"),1),$D=P("react-redux");var E0t=({disabled:e})=>{let t=(0,$D.useDispatch)(),r=(0,$D.useSelector)(Ie.selectedVolumeIds),o=He(U.distributedShapes,{axis:"x"}),i=He(U.distributedShapes,{axis:"y"}),n=s=>{s==="x"?o():i(),t(W.actions.volumesDistribute(r,s))};return Ed.default.createElement(Ed.default.Fragment,null,Ed.default.createElement(je,{placement:"bottom",tooltipContent:"Distribute vertically",delay:0},Ed.default.createElement("span",{className:"d-inline-block"},Ed.default.createElement("button",{className:"btn btn-flat alignment-actions__icon",disabled:e,onClick:()=>n("y"),"aria-label":"Distribute vertically"},Ed.default.createElement("i",{className:"bi bi-distribute-vertical"})))),Ed.default.createElement(je,{placement:"bottom",tooltipContent:"Distribute horizontally",delay:0},Ed.default.createElement("span",{className:"d-inline-block"},Ed.default.createElement("button",{className:"btn btn-flat alignment-actions__icon",disabled:e,onClick:()=>n("x"),"aria-label":"Distribute horizontally"},Ed.default.createElement("i",{className:"bi bi-distribute-horizontal"})))))},$8e=E0t;var M0t=()=>{let[e,t]=(0,Md.useState)({x:0,y:0}),r=(0,AX.useSelector)(Ie.selectedVolumeIds),o=(0,AX.useSelector)(c=>ye.getVolumes(c,r)),[i,n]=tc(o,c=>!c.group),s=Object.keys(ec(n,c=>c.group||"")).filter(Boolean),a=s.length+i.length>=2,l=s.length+i.length>=3;return Md.default.createElement(FD,{keepOutSelectors:[".project-settings",".toolbar"],containerSelector:"#editor-container",bounds:".wrapper__main",initialPosition:e,onPositionChange:t,className:"alignment-panel"},Md.default.createElement(Ol,{title:"Alignment",defaultOpen:!0,size:"sm"},Md.default.createElement("div",{className:"alignment-actions alignment-actions-b-variant"},Md.default.createElement(z8e,{disabled:!a}),Md.default.createElement(X8e,null),Md.default.createElement(q8e,null),Md.default.createElement("span",null,"\xA0"),Md.default.createElement($8e,{disabled:!l}))))},Z8e=M0t;var IX=class extends Ki.default.Component{constructor(){super(...arguments);y(this,"state",{});y(this,"setContainerRef",r=>{this.container=r});y(this,"setEditorSize",({width:r,height:o})=>{this.props.setEditorSize({width:parseInt(r)*this.props.editorFraction,height:parseInt(o)})})}componentDidMount(){this.stopResizeObserve=H8e.observe(this.container,{width:this.state.width,height:this.state.height},({width:r,height:o})=>{this.setEditorSize({width:r,height:o})}),this.setEditorSize({width:this.container.clientWidth,height:this.container.clientHeight})}componentWillUnmount(){this.stopResizeObserve()}render(){let{editorSize:r,windowSize:o,isThreeD:i,selectedVolumes:n}=this.props,s=46,a=180,l=250,c=15,u=o.width-r.width,p={top:this.container?.getBoundingClientRect().top,bottom:o.height,left:0,right:o.width};return Ki.default.createElement("div",{id:"editor-container",ref:this.setContainerRef},Ki.default.createElement(MX,null),Ki.default.createElement(n4e,{isThreeD:i}),!i&&Ki.default.createElement(Ki.default.Fragment,null,Ki.default.createElement("div",{id:"left-panel",style:{width:r.width,height:r.height}},Ki.default.createElement(F4e,{viewWidth:r.width,viewHeight:r.height}),r.width>=a&&Ki.default.createElement(EI,null),n.length>0&&Ki.default.createElement(Z8e,null),r.width>=l&&Ki.default.createElement(O8e,{containerBbox:p,draggableBoundsContainerSelector:`.${this.props.containerClass}`}),r.width>=s&&!this.props.isThreeD&&!this.props.isExternalGcode&&Ki.default.createElement(g6e,null)),Ki.default.createElement("div",{id:"right-panel",style:{width:u,height:r.height}},DISABLE_3D?Ki.default.createElement(y6e,null):Ki.default.createElement(G8e,{editorSize:r,previewWidth:u-c,previewHeight:r.height,marginLeft:c}),Ki.default.createElement(W4e,{scrollBarWidth:c,editorSize:r})),Ki.default.createElement(S6e,null),Ki.default.createElement(T6e,{panelWidth:o.width,panelHeight:r.height})),i&&Ki.default.createElement(Q6e,{panelWidth:o.width,panelHeight:r.height}),this.props.loadingStatus!=="complete"&&Ki.default.createElement(Ki.default.Fragment,null,Ki.default.createElement("div",{className:"editor-container__overlay"},this.props.loadingStatus!=="error"&&Ki.default.createElement(J8e.Spinner,{color:"white",size:100}))))}},A0t=ne({mapStateToProps:e=>({editorSize:St.getEditorSize(e),windowSize:St.getWindowSize(e),editorFraction:St.getEditorFraction(e),isThreeD:Ue.isThreeD(e),isExternalGcode:W.getExternalGcode(e)!=null,loadingStatus:W.getLoadingStatus(e),selectedVolumes:ye.getVolumes(e,Ie.selectedVolumeIds(e))}),mapDispatchToProps:{setEditorSize:W.actions.setEditorSize},component:IX}),K8e=A0t;var js=M(P("react"),1);var ro=M(P("react"),1),ebe=P("react-redux"),Lv=P("react-bootstrap");var Jh=M(P("react"),1),DX=P("react-redux");var I0t=({workpieceId:e})=>{let t=(0,DX.useSelector)(o=>W.getLoadingStatus(o,e)),r=(0,DX.useSelector)(o=>W.getSaveState(o,e));if(t!=="complete"){let o="bi-cloud",i="Workpiece not loaded";return t==="loading"?(o="bi-cloud-arrow-down",i="Loading workpiece..."):t==="error"&&(o="bi-cloud-slash",i="Error loading workpiece"),Jh.default.createElement("div",{className:"workpiece-thumbnail__status-overlay",title:i},Jh.default.createElement("i",{className:`bi ${o}`}))}if(it("workpiece_saving")){if(r?.isSaved)return Jh.default.createElement("div",{className:"workpiece-thumbnail__status-overlay",title:"Saved"},Jh.default.createElement("i",{className:"bi bi-cloud-check"}));if(r?.isSaving)return Jh.default.createElement("div",{className:"workpiece-thumbnail__status-overlay",title:"Saving..."},Jh.default.createElement("i",{className:"bi bi-cloud-arrow-up"}));if(r?.isUnsaved)return Jh.default.createElement("div",{className:"workpiece-thumbnail__status-overlay",title:"Unsaved changes"},Jh.default.createElement("i",{className:"bi bi-cloud-upload"}))}return null},Q8e=I0t;var D0t=({workpiece:e,active:t,onClick:r,onDelete:o,onDuplicate:i,index:n,dragging:s,onDragOver:a,onDragEnd:l,onDragStart:c})=>{let{id:u,thumbnailUrl:p,note:m,name:h}=e,[f,x]=(0,ro.useState)(!1),v=(0,ro.useRef)(null),b=(0,ebe.useSelector)(L=>W.getThumbnail(L,u));(0,ro.useEffect)(()=>{let L=z=>{!v.current?.contains(z.target)&&z.target.dataset.workpieceId!==u&&x(!1)},R=document.getElementById("app-container");if(R)return R.addEventListener("click",L),()=>R.removeEventListener("click",L)},[u]),(0,ro.useEffect)(()=>{t||x(!1)},[t]);let S=L=>{L.target.dataset.workpieceId!==u&&(O(),r(u))},w=()=>{O(),o?.(u)},_=()=>{O(),J.emit("show-rename-workpiece",u,h)},E=L=>{L.preventDefault(),x(!f)},T=L=>{L.stopPropagation(),O(),i(u)},A=L=>{L.stopPropagation(),O(),J.emit("show-notes-workpiece",u,h,m)},O=()=>{x(!1)};return ro.default.createElement("div",{className:`workpiece-thumbnail ${t?"workpiece-thumbnail--active":""}`,onClick:S,"data-workpiece-index":n,draggable:!1,onDragOver:()=>a?.(n??0)},ro.default.createElement("div",{className:"workpiece-thumbnail__inner",ref:v,onDragEnd:l,draggable:!0,onDragStart:L=>c?.(L,n??0)},h&&ro.default.createElement(ro.default.Fragment,null,ro.default.createElement("div",{className:"workpiece-thumbnail__text-container"},ro.default.createElement("span",{className:"workpiece-thumbnail__text"},h))),ro.default.createElement("div",{className:`workpiece-thumbnail__content ${s?" workpiece-thumbnail__content--dragging":""}`},ro.default.createElement("img",{className:"workpiece-thumbnail__content__image",draggable:!1,src:b??p}),ro.default.createElement(Q8e,{workpieceId:u})),m!=null&&ro.default.createElement(ro.default.Fragment,null,ro.default.createElement("div",{className:"workpiece-thumbnail__note"},ro.default.createElement("i",{className:"bi bi-file-earmark-text",title:m,onClick:A}))),ro.default.createElement("div",{className:`workpiece-thumbnail__context ${f?"workpiece-thumbnail__context--active":""}`},ro.default.createElement("div",{className:"workpiece-thumbnail__context__toggle",onClick:E},ro.default.createElement("i",{className:"bi bi-chevron-down","data-workpiece-id":u})),f&&ro.default.createElement(ro.default.Fragment,null,ro.default.createElement("div",{className:"workpiece-thumbnail__context__menu context-menu"},ro.default.createElement("div",{className:"dropdown-menu"},ro.default.createElement(Lv.Anchor,{className:"dropdown-item",onClick:_},"Rename"),ro.default.createElement(Lv.Anchor,{className:"dropdown-item",onClick:A},"Notes\u2026"),ro.default.createElement(Lv.Anchor,{className:"dropdown-item",onClick:T},"Duplicate"),o&&ro.default.createElement(Lv.Anchor,{className:"dropdown-item",onClick:w},"Delete")))))))},tbe=D0t;var N0t=e=>{let t=()=>{let T=document.createElement("img");return T.src=me.TRANSPARENT_PIXEL_EMBED,T},[r,o]=(0,js.useState)(e.workpieces),[i,n]=(0,js.useState)(null),[s,a]=(0,js.useState)(!1),[l]=(0,js.useState)(()=>t());(0,js.useEffect)(()=>{o(e.workpieces)},[e.activeWorkpieceId,e.workpieces]);let c=T=>{e.showWorkpiece({linkToken:e.projectLinkToken,id:T})},u=async()=>{let{isReadOnly:T,projectLinkToken:A}=e;await e.createAndShowWorkpiece({projectLinkToken:T?null:A,workpieceData:{id:Tt()}}),e.homeViewport({xyZeroLocation:e.xyZeroLocation,materialDimensions:e.materialDimensions,workArea:e.workArea})},p=async T=>{let{isReadOnly:A,projectLinkToken:O}=e;await e.showWorkpiece({id:T,linkToken:O}),e.duplicateWorkpiece({newId:Tt(),originalId:T,projectLinkToken:A?null:O})},m=T=>{let{deleteWorkpiece:A,isReadOnly:O,projectLinkToken:L}=e;As("Delete workpiece?","This will permanently delete the workpiece.",()=>A({id:T,projectLinkToken:O?null:L}))},h=(T,A)=>{n(r[A]),a(!0),T.dataTransfer.setDragImage(l,0,0)},f=T=>{let A=r[T];if(!i||i===A)return;let O=r.filter(L=>L!==i);O.splice(T,0,i),o(O)},x=()=>{e.reorderWorkpieces(r),n(null),a(!1)},{activeWorkpieceId:v,workpiecesVisible:b,setWorkpiecesVisible:S,projectName:w}=e,_=w?`Workpieces for "${w}"`:"Workpieces",E=r.length>1?m:void 0;return js.default.createElement("div",{id:"workpieces-container",className:b?"fullsize":"smaller"},js.default.createElement("div",{className:"workpieces-container__toggle",onClick:()=>S(!b)},_,js.default.createElement("i",{className:`bi ${b?"bi-chevron-double-down":"bi-chevron-double-up"}`}),js.default.createElement("a",{target:"_blank",rel:"noreferrer",onClick:T=>T.stopPropagation(),href:"https://inventables.zendesk.com/hc/en-us/articles/360012453294-Walkthrough-Tutorial-Workpieces"},js.default.createElement("i",{className:"bi bi-question-circle-fill"}))),js.default.createElement("div",{className:"workpieces-container__workpieces"},r.map((T,A)=>js.default.createElement(tbe,{workpiece:T,key:T.id,index:A,active:T.id===v,onClick:c,onDuplicate:p,onDelete:E,onDragOver:f,onDragStart:h,onDragEnd:x,dragging:s})),js.default.createElement("div",{className:"workpiece-thumbnail workpiece-thumbnail--add-workpiece-button"},js.default.createElement("div",{className:"workpiece-thumbnail__inner"},js.default.createElement("div",{className:"workpiece-thumbnail__content",onClick:u},js.default.createElement("img",{src:EASEL_ASSETS.images?.addLayer}))))))},O0t=ne({mapStateToProps:e=>({workpiecesVisible:St.getWorkpiecesVisible(e),workArea:Y.getWorkArea(e),xyZeroLocation:q.getXYZeroLocation(e),materialDimensions:q.getMaterialDimensions(e),projectName:ge.getProjectName(e),projectLinkToken:ge.getProjectLinkToken(e),isReadOnly:ge.isReadOnly(e),workpieces:W.getWorkpieces(e),activeWorkpieceId:W.getActiveId(e)}),mapDispatchToProps:{homeViewport:W.actions.homeViewport,setWorkpiecesVisible:W.actions.setWorkpiecesVisible,reorderWorkpieces:W.actions.reorderWorkpieces,showWorkpiece:W.actions.showWorkpiece,duplicateWorkpiece:W.actions.duplicateWorkpiece,deleteWorkpiece:W.actions.deleteWorkpiece,createAndShowWorkpiece:W.actions.createAndShowWorkpiece},component:N0t}),rbe=O0t;var jr=M(P("react"),1);var Fu=M(P("react"),1),Bv=P("react");function L0t({featureLink:e,featureTitle:t}){let[r,o]=(0,Bv.useState)(0),[i,n]=(0,Bv.useState)(!1),s=(0,Bv.useRef)(null);function a(){OT.sendFeedback(s.current.value,e),n(!0)}function l(u){let p=u.target.value.length;o(p)}let c=5e3;return Fu.default.createElement("div",{className:"feature-feedback"},Fu.default.createElement("strong",null,"Leave feedback for ",t),i?Fu.default.createElement("p",{className:"feature-feedback__description"},"Thank you for your feedback!"):Fu.default.createElement("div",null,Fu.default.createElement("p",{className:"feature-feedback__description"},"We\u2019re always looking to improve Easel and value your feedback. Please write your comments, concerns, or ideas in the box below."),Fu.default.createElement("p",{className:"feature-feedback__description"},Fu.default.createElement("strong",null,"Note:")," This is not a support channel. If you need support, visit our ",Fu.default.createElement(oe,{href:"https://support.easel.com",target:"_blank"},"support center"),"."),Fu.default.createElement("label",{htmlFor:"feature-modal-feedback",style:{display:"none"}},"User feedback"),Fu.default.createElement("textarea",{ref:s,id:"feature-feedback",className:"form-control feature-feedback__input-text",onChange:l,maxLength:c}),r===c&&Fu.default.createElement("p",{className:"character-count"},"You have reached the maximum character limit."),Fu.default.createElement("button",{className:"btn btn-primary",disabled:r<1,onClick:a},"Send")))}var obe=L0t;var ibe=async(e,t)=>pa(`/features/${e}/enabled`,JSON.stringify({enabled:t.toString()})),B0t=async e=>ibe(e,!0),F0t=async e=>ibe(e,!1),W0t={enable:B0t,disable:F0t},NX=W0t;var OX=class extends jr.default.Component{constructor(){super(...arguments);y(this,"state",{selectedFeature:this.props.features[0],showCopied:!1});y(this,"organizeFeaturesByMonth",()=>{let r=[];return this.props.features.forEach(o=>{let i=r.find(n=>o.launchedAtAsMonthYear===n.launchedAtAsMonthYear);i?i.features.push(o):r.push({launchedAtAsMonthYear:o.launchedAtAsMonthYear,features:[o]})}),r});y(this,"featureLink",r=>location.host+"/features/"+r.link);y(this,"onClickIcon",r=>{H.trackEvent(U.featuresModalShared,{source:r,feature:this.state.selectedFeature.title})});y(this,"onFeatureClick",r=>{this.setState({selectedFeature:r}),H.trackEvent(U.featuresModalFeatureViewed,{feature:r.title})});y(this,"enableFeature",async r=>{H.trackEvent(U.featuresModalEnabledFeature,{Feature:r.title,"Access Grant":r.accessGrant}),NX.enable(r.link).then(()=>{window.location.reload()}).catch(()=>Ut("A problem occured while enabling this feature."))});y(this,"disableFeature",async r=>{H.trackEvent(U.featuresModalDisabledFeature,{Feature:r.title,"Access Grant":r.accessGrant}),NX.disable(r.link).then(()=>{window.location.reload()}).catch(()=>Ut("A problem occured while disabling this feature."))})}componentDidUpdate(r){!r.visible&&this.props.visible&&H.trackEvent(U.featuresModalFeatureViewed,{feature:this.props.features[0].title})}render(){let{selectedFeature:r}=this.state;return this.props.visible&&jr.default.createElement("div",{className:"features-container"},jr.default.createElement("div",{className:"features-container__header"},jr.default.createElement("div",{className:"features-container__title"},"Development Updates"),jr.default.createElement("button",{className:"btn-close","aria-label":"Close",onClick:this.props.hide})),jr.default.createElement("div",null,this.props.error&&this.props.error),jr.default.createElement("div",{className:"features-container__body"},jr.default.createElement("div",{className:"features-container__categories"},this.organizeFeaturesByMonth().map(o=>jr.default.createElement("div",{key:o.launchedAtAsMonthYear},jr.default.createElement("h6",{className:"features-container__monthyear-header"},o.launchedAtAsMonthYear),jr.default.createElement("ul",{className:"nav nav-stacked nav-pills flex-column features-container__nav"},o.features.map(i=>jr.default.createElement("li",{key:i.title,className:`features-container__category ${i===r?"active":""}`,onClick:()=>this.onFeatureClick(i)},i.title)))))),jr.default.createElement("div",{className:"features-container__column-content"},jr.default.createElement("div",{className:"features-container__column-content-container"},jr.default.createElement("div",{key:`feature-${r.title}`},jr.default.createElement("h3",null,r.title),jr.default.createElement("div",{dangerouslySetInnerHTML:{__html:r.description},className:"features-container__description"}),jr.default.createElement("hr",null),jr.default.createElement("div",{className:"features-container__description-footer"},jr.default.createElement("footer",{className:"features-container__footer"},jr.default.createElement("div",null,jr.default.createElement("strong",null,"Share this feature"),jr.default.createElement(AM,{copyLink:this.featureLink(r),emailLink:`mailto:?subject=Check out ${r.title} in Easel!&body=Have you heard about ${r.title} in Easel? To learn more, check out ${this.featureLink(r)}.`,externalLink:`/features/${r.link}`,fbParams:`?t=${r.title}&u=${this.featureLink(r)}`,onClickIcon:this.onClickIcon})),r.accessGrant&&!it(r.accessGrant)?jr.default.createElement("div",{className:"features-container__activation-prompt"},jr.default.createElement("h4",null,"Feature Testing Agreement"),jr.default.createElement("p",null,"By activating this feature, you agree to provide feedback to Easel in the form of a short survey, phone call, or other means."),jr.default.createElement("p",null,jr.default.createElement("button",{type:"button",className:"btn btn-primary",onClick:()=>this.enableFeature(r)},"Enable this feature"))):jr.default.createElement("div",{className:"features-container__feedback"},r.isCollectingFeedback&&jr.default.createElement(obe,{featureLink:r.link,featureTitle:r.title}),r.accessGrant&&it(r.accessGrant)&&jr.default.createElement("div",{className:"feature-deactivation-prompt"},jr.default.createElement("p",null,"Change your mind?"),jr.default.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>this.disableFeature(r)},"Disable this feature"))))))))))}},V0t=ne({mapStateToProps:function(e){return{error:dm.getErrorMessage(e),features:dm.getFeatures(e),visible:Cd.isPageVisible(e,"features")}},mapDispatchToProps:e=>({hide(){e(Cd.actions.hidePage())},updateFeature(t){e(dm.actions.updateFeature(t))}}),component:OX}),nbe=V0t;var Ux=M(P("react"),1);var LX=class extends Ux.default.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r}),H.trackEvent(U.uiError,{error:t,errorInfo:r})}render(){return this.state.hasError?Ux.default.createElement("div",{className:"error-boundary"},Ux.default.createElement("h1",{className:"error-boundary__header"},"Something went wrong.",Ux.default.createElement("br",null),"Please refresh your browser."),Ux.default.createElement("img",{className:"error-boundary__sad-easel",alt:"Sad Easel Logo",src:EASEL_ASSETS.images.sadEasel}),!1):this.props.children}},sbe=LX;var BX=M(P("react"),1);var FX=class extends BX.default.Component{constructor(){super(...arguments);y(this,"setPageTitle",()=>{let{currentProjectName:r,carvingPercentComplete:o,carvingProjectName:i,machineConnectionState:n}=this.props,s=r?`Easel - ${r}`:"Easel";return o&&["paused","running"].includes(n)&&(s=`${s} - (Carving ${i}, ${o.toFixed(0)}% completed)`),document.title=s})}render(){return this.setPageTitle(),BX.default.createElement("div",null)}},U0t=ne({mapStateToProps:function(e){return{currentProjectName:ge.getProjectName(e),carvingProjectName:e.jobStatus.projectName,carvingPercentComplete:e.jobStatus.percentComplete,machineConnectionState:ie.getConnectionState(e)}},component:FX}),abe=U0t;var Rx=M(P("react"),1),lbe=P("react-redux");var R0t=({onFileSelect:e})=>{let t=(0,Rx.useRef)(null),r=(0,lbe.useDispatch)(),o=He(U.importedSVG),i=(0,Rx.useCallback)(async n=>{let s=n.target.files?.[0];if(!s)return;r(ge.actions.setContainsImportedSVG(!0)),o();let a=new FileReader;a.onload=function(){let u=this.result;R_().load(u)},a.readAsText(s);let l=ge.getProjectLinkToken(N.store.getState()),c=new FormData;c.append("imported_file[file]",s),l&&c.append("imported_file[project_link_token]",l);try{await fetch("/imported_files",{method:"POST",headers:zx(),body:c})}catch(u){console.error("Failed to upload imported file:",u)}t.current&&(t.current.value=""),e?.()},[r,o,e]);return Rx.default.createElement("input",{ref:t,type:"file",accept:".svg",tabIndex:-1,id:"svg-file-input",onChange:i,style:{display:"none"}})},cbe=R0t;var j0t=()=>dl.default.createElement(sbe,null,dl.default.createElement(V_,null,dl.default.createElement(abe,null),dl.default.createElement(Bue,null),dl.default.createElement(cbe,null),dl.default.createElement("div",{className:"wrapper__content"},dl.default.createElement(Z7e,null),dl.default.createElement("div",{className:"wrapper__main"},dl.default.createElement("div",{className:"wrapper__flex"},dl.default.createElement(nbe,null)),dl.default.createElement("div",{className:"wrapper__flex"},dl.default.createElement(Lue,null),dl.default.createElement(K8e,{containerClass:"wrapper__main"}),dl.default.createElement(rbe,null)))),dl.default.createElement(P7e,null))),ube=j0t;var WX=[],VX=(...e)=>WX.push(e),pbe=window.onerror;window.onerror=function(...e){console.error(...e||[]),typeof pbe=="function"&&pbe(...e||[]),VX(...e||[])};var G0t={enableTracking(){window.addEventListener("unhandledrejection",({reason:t})=>{let r=t.message??t.statusText??t.toString();window.onerror(r,"Unhandled promise rejection",0,0,t)});let e={};VX=function(t,r,o,i,n){let s=`${r}:${o}:${i}`;e[s]==null&&(H.trackEvent("Uncaught Error",{message:t,url:r,lineNumber:o,column:i,object:n!=null?n.stack:"(no error object)"}),e[s]=!0)};for(let t of WX)VX(t||[]);WX=null}},dbe=G0t;var mbe=e=>(N.store.dispatch(ge.actions.loadProjectData(e)),Li.setProjectSaveParams(e.project),o3.initialize(e.project),e.readonly&&H.trackEvent(U.shared.openedSharedProject,{Name:e.project.name,"Link Token":e.project.link_token,"Parent Gallery URL":e.project.gallery_project?.url,"Parent Publish Date":e.project.gallery_project?.created_at,"Parent Created Date":e.project.created_at,"Parent Project Owner User":e.project.user_email}),e.project);var z0t={start:function(){N.store.dispatch(Y.actions.setMachineType(ze.CARVEY));let e=q.getMaterialByName(N.store.getState(),"Two-Color HDPE");N.store.dispatch(W.actions.selectMaterial(e));let t={id:"other-bit",type:qe.straight,width:.0625,unit:"in"};N.store.dispatch(W.actions.setMainBit(t));let r={x:6,y:6,z:.125};N.store.dispatch(W.actions.setMaterialDimensions({dimensions:r})),N.store.dispatch(W.actions.volumesRemoveAll()),fetch(tm.getUrlToRequestWithOriginHeader(EASEL_ASSETS.svgs.carveyFirstJob)).then(o=>o.text()).then(o=>Ku.svgStringToVolumes(o)).then(o=>{o=o.map(n=>le(n,{shape:{center:{x:n.shape.center.x+.6,y:n.shape.center.y+.5}},cut:{depth:.062}}));let i=Dr.getShiftWithState(o,N.store.getState());N.store.dispatch(W.actions.volumesAdd(o,i)),J.emit("show-carvey-welcome")})}},fbe=z0t;var Fv=()=>$("#main-bit-link"),ZD=()=>$("#material"),hbe=null,gbe=null,ybe=null,X0t=function(e){Ju.disableDetailedPreview();let t=$(".app-container"),r=$(".material-settings-panel"),o=[{content:"<p>Here&#8217;s where you&#8217;ll create your design.</p><p>Select the text by clicking it to get started.</p>",container:t,target:$("#left-panel"),my:"bottom center",at:"center center",closeButton:!0,bind:["onSelectShape"],onSelectShape(m){let h=ye.getVolumes(N.store.getState(),Ie.selectedVolumeIds(N.store.getState()));h.length===1&&h[0].shape.type==="text"&&setTimeout(()=>m.next())},setup(){ybe=N.store.subscribeWithSelector(Ie.selectedVolumeIds,this.onSelectShape)},teardown(){ybe(),H.trackEvent("Intro Walkthrough - Select Text")}},{content:"<p>You can change your cut and shape settings here.</p>",highlightTarget:!0,container:t,setup(){return{target:$(".object-properties")}},nextButton:!0,my:"right center",at:"center center",closeButton:!0,teardown(){H.trackEvent("Intro Walkthrough - Cut Settings")}},{content:"<p>This is the 3D preview. As you adjust your design, you can see your changes here in real-time. Click and drag to rotate the preview, or Shift+click and drag to pan. Use the scroll wheel to zoom in and out.</p>",highlightTarget:!1,nextButton:!0,container:t,target:$("#right-panel"),my:"bottom center",at:"center center",closeButton:!0,teardown(){H.trackEvent("Intro Walkthrough - 3D Preview")}},{content:"<p>If your design is complex, a rough 3D preview will be shown until you click the &ldquo;Detailed view&rdquo; button. Try it now.</p>",highlightTarget:!1,container:t,target:$("#preview-controls__status"),my:"bottom center",at:"top center",closeButton:!0,bind:["onDesignVisible"],onDesignVisible(m){Nr.isDesignReady(N.store.getState())&&m.next()},setup(){gbe=N.store.subscribeWithSelector(Nr.isDesignReady,this.onDesignVisible)},teardown(){gbe(),H.trackEvent("Intro Walkthrough - Generated Detailed Preview")}},{content:"<p>Notice how the preview shows that some of the details won't be carved? That&#8217;s because your current bit size is too large to carve those parts out.</p>",highlightTarget:!1,nextButton:!0,container:t,target:$("#right-panel"),my:"bottom center",at:"center center",closeButton:!0,teardown(){H.trackEvent("Intro Walkthrough - Red Preview")}},{content:"<p>Click here to choose a smaller bit.</p>",highlightTarget:!0,container:t,target:Fv(),my:"top center",at:"bottom center",closeButton:!0,bind:["onBitMenu"],onBitMenu(m){m.next()},setup(){Fv().parent().on("click",this.onBitMenu)},teardown(){Fv().parent().off("click",this.onBitMenu),H.trackEvent("Intro Walkthrough - Open Bit Menu")}},{content:"<p>Try changing your bit to the 60 degree V-Bit</p>",container:t,target:Fv().parent().find(".dropdown-menu"),my:"right center",at:"center center",closeButton:!0,bind:["onBitSizeChange"],onBitSizeChange(m){re.isVCarvingBitInUse(N.store.getState())&&m.next()},setup(){hbe=N.store.subscribeWithSelector(re.bitParams,this.onBitSizeChange)},teardown(){hbe(),Fv()[0].click(),H.trackEvent("Intro Walkthrough - Change Bit")}},{content:"<p>Awesome! Now you&#8217;ll be able to carve the whole design.</p>",highlightTarget:!1,nextButton:!0,closeButton:!0,container:t,target:$("#right-panel"),my:"bottom center",at:"center center",teardown(){H.trackEvent("Intro Walkthrough - Red Goes Away")}},{content:"<p>Almost ready to carve. Click here to set your material.</p>",container:t,target:ZD(),closeButton:!0,bind:["onMaterialMenu"],onMaterialMenu(m){m.next()},setup(){ZD().parent().on("click",this.onMaterialMenu)},teardown(){$("#material-x-input")[0].focus(),ZD().parent().off("click",this.onMaterialMenu),H.trackEvent("Intro Walkthrough - Open Material Library")},my:"top center",at:"bottom center"},{content:"<p>Enter your material dimensions. Make sure that the thickness (Z) is accurate.</p>",container:t,target:r,nextButton:!0,closeButton:!0,teardown(){ZD().dropdown("toggle")},my:"left center",at:"center center"},{content:"<p>You&#8217;re good to go! Make sure your machine&#8217;s connected, then just click Carve.</p>",highlightTarget:!1,container:t,target:$(".machine-status-indicator"),my:"top right",at:"bottom center",closeButton:!0,bind:["onCarve"],onCarve(){p.next()},setup(){return $(".machine-status-indicator").on("click",this.onCarve),H.trackEvent(U.completedTutorial),{target:$(".machine-status-indicator").filter(":visible")}},teardown(){$(".machine-status-indicator").off("click",this.onCarve),H.trackEvent("Intro Walkthrough - Click Carve")}}],i={id:"other-bit",width:.125,unit:"in",type:qe.straight},n=re.findById(N.store.getState(),"INVENTABLES_BLACK_BIT")??i;N.store.dispatch(W.actions.setMainBit(n)),N.store.dispatch(W.actions.volumesRemoveAll());let s="Josefin",a=ii.measure({text:e,font:qr.getFont(s,"easel")}),l=2.25;a.width*=l/a.height,a.height=l;let c={shape:{type:"text",text:e,font:s,width:a.width,height:a.height,center:{x:4+a.width/2,y:1.875},rotation:0,flipping:{}},cut:{type:"fill",depth:q.getMaterialThickness(N.store.getState())*.4}},u=Dr.getShiftWithState([c],N.store.getState());N.store.dispatch(W.actions.volumesAdd([c],u));let p=new Tourist.Tour({steps:o,tipClass:"Bootstrap",tipOptions:{offset:2,showEffect:"slidein"}});fetch(tm.getUrlToRequestWithOriginHeader(EASEL_ASSETS.svgs.firstJob)).then(m=>m.text()).then(m=>Ku.svgStringToVolumes(m)).then(m=>{let h=q.getMaterialThickness(N.store.getState())*.4,f=m.map(v=>le(v,{cut:{depth:h}})),x=Dr.getShiftWithState(f,N.store.getState());N.store.dispatch(W.actions.volumesAdd(f,x))}).then(()=>{H.trackEvent(U.startedTutorial),p.start()})},Y0t=function(e){let t="Josefin",r=_s[t];return qr.loadFont(t,r.opentypePath,"easel",r.baselineOffsetFraction).then(()=>N.store.dispatch(ft.actions.setFontData([{name:t,font:r}]))).then(()=>X0t(e))},q0t={start:Y0t},xbe=q0t;var $0t={start:function(e){let t=parseInt(e.x),r=parseInt(e.y),o=N.store.getState(),i=et.getMachineProfiles(o).find(m=>Hs.machineTypeFromProfile(m)===ze.XCARVE_PRO);i!=null?N.store.dispatch(et.actions.setCurrentProfileId(i.id)):(N.store.dispatch(Y.actions.setMachineType(ze.XCARVE_PRO)),N.store.dispatch(Y.actions.updateWorkArea({x:t,y:r})));let n={id:"other-bit",type:qe.straight,width:1.125,unit:"in"};N.store.dispatch(W.actions.setMainBit(n));let s=q.getMaterialByName(N.store.getState(),"MDF");N.store.dispatch(W.actions.selectMaterial(s));let a={x:t,y:r,z:.75};N.store.dispatch(W.actions.setMaterialDimensions({dimensions:a})),N.store.dispatch(W.actions.setUseCustomJobSettings("bit",!0)),N.store.dispatch(W.actions.setSpindleSpeed("bit",18e3)),N.store.dispatch(W.actions.setDepthPerPass("bit",.01)),N.store.dispatch(W.actions.setPlungeRate("bit",50)),N.store.dispatch(W.actions.setFeedRate("bit",200)),N.store.dispatch(W.actions.setFillAngle("bit",0)),N.store.dispatch(W.actions.volumesRemoveAll());let l={id:ye.newId(),shape:{type:"rectangle",width:t,height:r+n.width,center:{x:t/2,y:r/2},anchored:!1,rotation:0,flipping:{},isProportionLocked:!0},cut:{type:"fill",depth:.01,outlineStyle:"on-path"}},c=Dr.getShiftWithState([l],N.store.getState());N.store.dispatch(W.actions.volumesAdd([l],c));let u=q.getXYZeroLocation(o),p=Y.getWorkArea(o);W.actions.homeViewport({xyZeroLocation:u,materialDimensions:a,workArea:p}),J.emit("show-planing-welcome")}},bbe=$0t;var Z0t=function(){return{finished:()=>{let o=document.querySelector(".global-loading");o&&o.classList.add("fade-out")},loading:o=>{let i=document.querySelector(".global-loading .loading-container .loading-message");i&&(i.textContent=o||"Loading...")},loaded:()=>{let o=document.querySelector(".global-loading .loading-container .loading-message");o&&(o.textContent="Loading complete!")}}},vbe=Z0t;function J0t(e){for(var t=[[/Edg\//,/Edg\/(\d+)/,80],[/OPR\//,/OPR\/(\d+)/,67],[/Chrome\//,/Chrome\/(\d+)/,80],[/CriOS\//,/CriOS\/(\d+)/,100],[/Safari\//,/Version\/(\d+)/,14],[/Firefox\//,/Firefox\/(\d+)/,74]],r=0;r<t.length;r++){var o=t[r],i=o[0],n=o[1],s=o[2];if(e.match(i)){var a=e.match(new RegExp(n));if(a){var l=parseInt(a[1],10);if(l>=s)return"es2020"}break}}return"legacy"}var Vv=typeof window>"u"?{}:window,P1=Vv.userflow;P1||(UX="https://js.userflow.com/",Wv=null,P1=Vv.userflow={_stubbed:!0,load:function(){return Wv||(Wv=new Promise(function(e,t){var r=document.createElement("script");r.async=!0;var o=Vv.USERFLOWJS_ENV_VARS||{},i=o.USERFLOWJS_BROWSER_TARGET||J0t(navigator.userAgent);i==="es2020"?(r.type="module",r.src=o.USERFLOWJS_ES2020_URL||UX+"es2020/userflow.js"):r.src=o.USERFLOWJS_LEGACY_URL||UX+"legacy/userflow.js",r.onload=function(){e()},r.onerror=function(){document.head.removeChild(r),Wv=null;var n=new Error("Could not load Userflow.js");console.error(n.message),t(n)},document.head.appendChild(r)})),Wv}},RX=Vv.USERFLOWJS_QUEUE=Vv.USERFLOWJS_QUEUE||[],ri=function(e){P1[e]=function(){var t=Array.prototype.slice.call(arguments);P1.load(),RX.push([e,null,t])}},Wu=function(e){P1[e]=function(){var t=Array.prototype.slice.call(arguments);P1.load();var r,o=new Promise(function(i,n){r={resolve:i,reject:n}});return RX.push([e,r,t]),o}},jX=function(e,t){P1[e]=function(){return t}},ri("_setTargetEnv"),ri("closeResourceCenter"),ri("disableEvalJs"),ri("init"),ri("off"),ri("on"),ri("prepareAudio"),ri("registerCustomInput"),ri("remount"),ri("reset"),ri("setBaseZIndex"),ri("setCustomInputSelector"),ri("setCustomNavigate"),ri("setCustomScrollIntoView"),ri("setInferenceAttributeFilter"),ri("setInferenceAttributeNames"),ri("setInferenceClassNameFilter"),ri("setResourceCenterLauncherHidden"),ri("setScrollPadding"),ri("setServerEndpoint"),ri("setShadowDomEnabled"),ri("setPageTrackingDisabled"),ri("setUrlFilter"),ri("setLinkUrlDecorator"),ri("openResourceCenter"),ri("toggleResourceCenter"),Wu("endAll"),Wu("endAllFlows"),Wu("endChecklist"),Wu("group"),Wu("identify"),Wu("identifyAnonymous"),Wu("start"),Wu("startFlow"),Wu("startWalk"),Wu("track"),Wu("updateGroup"),Wu("updateUser"),jX("getResourceCenterState",null),jX("isIdentified",!1));var UX,Wv,RX,ri,Wu,jX,JD=P1;var Sbe=()=>{JD.start("4c1ba0ad-5f49-41d7-bd90-484ffc346a3e",{once:!0}),H.trackEvent(U.userFlowManuallyStartedChecklist)};var K0t=e=>(H.trackEvent(U.userFlowBeforeInit),JD.init("ct_wysbeokxhfdxtcjiupqopyqclm"),JD.identify(e.email,{name:e.name,email:e.email,device_type:window.innerWidth>800?"desktop":"mobile",access_grants:(globalThis.ACCESS_GRANTS||[]).join(",")}).then(()=>([".popover-content",".modal-body","#userflow--jobs","#userflow--job","#userflow--project-cabinetmaker","#userflow--project-easelpro",".readonly-nav"].forEach(r=>{document.querySelector(r)&&H.trackEvent(U.userFlowElementPresent,{element:r})}),H.trackEvent(U.userFlowAfterInit),!0))),Cbe=K0t;var Q0t={undoByToken:{}},KD=Q0t;var zX=(e,t)=>t.some(r=>e instanceof r),Pbe,wbe;function e1t(){return Pbe||(Pbe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t1t(){return wbe||(wbe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var XX=new WeakMap,GX=new WeakMap,QD=new WeakMap;function r1t(e){let t=new Promise((r,o)=>{let i=()=>{e.removeEventListener("success",n),e.removeEventListener("error",s)},n=()=>{r(w1(e.result)),i()},s=()=>{o(e.error),i()};e.addEventListener("success",n),e.addEventListener("error",s)});return QD.set(t,e),t}function o1t(e){if(XX.has(e))return;let t=new Promise((r,o)=>{let i=()=>{e.removeEventListener("complete",n),e.removeEventListener("error",s),e.removeEventListener("abort",s)},n=()=>{r(),i()},s=()=>{o(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",n),e.addEventListener("error",s),e.addEventListener("abort",s)});XX.set(e,t)}var YX={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return XX.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return w1(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Ebe(e){YX=e(YX)}function i1t(e){return t1t().includes(e)?function(...t){return e.apply(qX(this),t),w1(this.request)}:function(...t){return w1(e.apply(qX(this),t))}}function n1t(e){return typeof e=="function"?i1t(e):(e instanceof IDBTransaction&&o1t(e),zX(e,e1t())?new Proxy(e,YX):e)}function w1(e){if(e instanceof IDBRequest)return r1t(e);if(GX.has(e))return GX.get(e);let t=n1t(e);return t!==e&&(GX.set(e,t),QD.set(t,e)),t}var qX=e=>QD.get(e);function Mbe(e,t,{blocked:r,upgrade:o,blocking:i,terminated:n}={}){let s=indexedDB.open(e,t),a=w1(s);return o&&s.addEventListener("upgradeneeded",l=>{o(w1(s.result),l.oldVersion,l.newVersion,w1(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{n&&l.addEventListener("close",()=>n()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function Abe(e,{blocked:t}={}){let r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",o=>t(o.oldVersion,o)),w1(r).then(()=>{})}var s1t=["get","getKey","getAll","getAllKeys","count"],a1t=["put","add","delete","clear"],HX=new Map;function _be(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(HX.get(t))return HX.get(t);let r=t.replace(/FromIndex$/,""),o=t!==r,i=a1t.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(i||s1t.includes(r)))return;let n=async function(s,...a){let l=this.transaction(s,i?"readwrite":"readonly"),c=l.store;return o&&(c=c.index(a.shift())),(await Promise.all([c[r](...a),i&&l.done]))[0]};return HX.set(t,n),n}Ebe(e=>({...e,get:(t,r,o)=>_be(t,r)||e.get(t,r,o),has:(t,r)=>!!_be(t,r)||e.has(t,r)}));var l1t=["continue","continuePrimaryKey","advance"],kbe={},$X=new WeakMap,Ibe=new WeakMap,c1t={get(e,t){if(!l1t.includes(t))return e[t];let r=kbe[t];return r||(r=kbe[t]=function(...o){$X.set(this,Ibe.get(this)[t](...o))}),r}};async function*u1t(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;let r=new Proxy(t,c1t);for(Ibe.set(r,t),QD.set(r,qX(t));t;)yield r,t=await($X.get(r)||t.continue()),$X.delete(r)}function Tbe(e,t){return t===Symbol.asyncIterator&&zX(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&zX(e,[IDBIndex,IDBObjectStore])}Ebe(e=>({...e,get(t,r,o){return Tbe(t,r)?u1t:e.get(t,r,o)},has(t,r){return Tbe(t,r)||e.has(t,r)}}));async function Dbe(e,t=5e3){let r=new Promise((o,i)=>setTimeout(()=>i(new Error(`Operation timed out after ${t}ms`)),t));return Promise.race([e(),r])}var Ap="projects",af="workpieces",ZX=class e{constructor(t){y(this,"db");this.db=t}static async create(){Abe("EaselOfflineDB");try{let t=await Dbe(()=>Mbe("EaselOfflineDB_2",2,{upgrade(r){if(r.objectStoreNames.contains(Ap)||r.createObjectStore(Ap,{keyPath:"key"}).createIndex("linkToken","linkToken",{unique:!1}),!r.objectStoreNames.contains(af)){let o=r.createObjectStore(af,{keyPath:"clientId"});o.createIndex("projectKey","projectKey",{unique:!1}),o.createIndex("linkToken","linkToken",{unique:!1})}},blocked(){console.warn("Database upgrade blocked by another connection")},blocking(){console.warn("Database connection is blocking an upgrade")}}));return new e(t)}catch(t){return console.error("Failed to open IndexedDB",t),null}}async storeProject(t){let r={...t,key:`${t.linkToken}_${t.saveClient}`,updatedAt:Date.now()};return await this.db.put(Ap,r),t.linkToken}async storeWorkpiece(t,r){let o={...t,projectKey:`${t.linkToken}_${t.saveClient}`},i=await this.loadProject(t.linkToken,t.saveClient);if(i){i.updatedAt=Date.now();let n=this.db.transaction([af,Ap],"readwrite");await Promise.all([n.objectStore(af).put(o),n.objectStore(Ap).put(i)]),await n.done}else r&&(this.storeProject(r),await this.db.put(af,o));return t.clientId}async loadLastProjectByLinkToken(t){return t==null?null:(await this.db.transaction(Ap,"readonly").objectStore(Ap).index("linkToken").getAll(t)).sort((o,i)=>i.updatedAt-o.updatedAt)[0]??null}async loadProject(t,r){return await this.db.get(Ap,`${t}_${r}`)}async loadWorkpieces(t){return await this.db.getAllFromIndex(af,"projectKey",t)}async clearByLinkToken(t,r){let o=this.db.transaction([Ap,af],"readwrite"),i=new Set,n=async()=>{let c=await o.objectStore(Ap).index("linkToken").openCursor(IDBKeyRange.only(t));for(;c;){let u=c.value;(r===void 0||u.saveVersion<=r)&&(i.add(u.key),await c.delete()),c=await c.continue()}},s=async()=>{if(i.size===0)return;let c=await o.objectStore(af).index("linkToken").openCursor(IDBKeyRange.only(t));for(;c;){let u=c.value;i.has(u.projectKey)&&await c.delete(),c=await c.continue()}};await n(),await s(),await o.done}async clearAll(){let t=this.db.transaction([Ap,af],"readwrite");await Promise.all([t.objectStore(Ap).clear(),t.objectStore(af).clear()]),await t.done}},Nbe=ZX;var Obe=async function(e,t){let r=await t.loadLastProjectByLinkToken(e);if(r)try{await Gr.update(r.linkToken,{project:{...r.snapshotData,save_client:r.saveClient,save_key:r.saveKey,save_version:r.saveVersion}});let o=await t.loadWorkpieces(r.key),[i,n]=tc(o,s=>!!s.isDeleted);H.trackEvent("Uploading Offline Data",{project:r.linkToken,numDeletedWorkpieces:i.length,numUpsertWorkpieces:n.length}),await Promise.all([...(n??[]).map(s=>Gr.upsertWorkpiece(e,r.saveVersion,{workpiece:{...s.snapshotData,client_id:s.clientId}})),...(i??[]).map(s=>s.backendId!=null?Gr.deleteWorkpiece(e,s.backendId):Promise.resolve())]),await t.clearAll()}catch(o){throw new Error(`Failed to sync offline changes ${o}`)}};var p1t=function(e,t){if(t==null)throw new Error(`baseReducer must not be null for ${e}`);return function(r,o){let i=r[e],n=t(i,{fullState:r,...o});if(n===i){if(r!=null)return r;throw new Error(`${e} returned an undefined state`)}else{let s={...r};return s[e]=n,s}}},Et=p1t;var d1t=function(e,t){return(t??[]).map(function(r){let o=e?.[r];if(o)return{snapshot:o,token:r}}).filter(r=>r!=null)},Lbe=function(e){return Object.fromEntries(Object.entries(e).map(([t,r])=>r._sliceProperties?.undoable===!1||["undoByToken","metadata","modal"].includes(t)||r.byWorkpieceId?null:[t,r]).filter(t=>t))},m1t=function(e,t){if(e==="internalGcode")return{};if(e==="threeDPrototype"){let{preview:r,...o}=t;return o}else if(e==="editor"){let{newPathPoints:r,multipleVolumeRotation:o}=t;return{newPathPoints:r,multipleVolumeRotation:o}}return t},Bbe=function(e){let t={...e};return delete t.undoByToken,delete t.undo,t},Fbe=(e,t,r)=>{let o=t(e),i=d1t(e.undoByToken,r),n=i[i.length-1],s=i[0];return e={...e,...n?.snapshot},s&&s.token&&(e=xi(e,["undoByToken",s.token],o)),e},f1t=function(e,t){if(t.payload?.undoDescription&&!t.type.startsWith("undo/")){let r=nr.getActionToken(e);Object.keys(e).forEach(o=>{let{byWorkpieceId:i,activeWorkpieceId:n}=e[o];i&&n!==wo&&(e=xi(e,[o,"byWorkpieceId",n,"undoByToken",r],m1t(o,Bbe(i[n]))))}),e=xi(e,["undoByToken",r],Lbe(e))}if([nr.actions.undo.type,nr.actions.redo.type].includes(t.type)){let r=t.payload;Object.keys(e).forEach(o=>{let{byWorkpieceId:i,activeWorkpieceId:n}=e[o];i&&n!==wo&&o!=="undo"&&(e=xi(e,[o,"byWorkpieceId",n],Fbe(i[n],Bbe,r)))}),e=Fbe(e,Lbe,r)}return e},Wbe={reducer:f1t};var h1t=100,JX=vbe(),g1t=function(){addEventListener("beforeunload",e=>{Li.isDirty()&&e.preventDefault()})};var y1t=()=>new Promise(e=>setTimeout(e,h1t)),Uv=e=>e.load({serial:!1}),x1t=(e,t)=>nt(e).register(e,t),b1t=function(e){let t=[];return e&&t.push(EASEL_ASSETS.javascripts.tour),x1t("project-components-loader",(r,o)=>v3.loadScripts(...t).then(r,o))},v1t=({userName:e,showIntro:t,showCarveyIntro:r,showPlaningProjectParams:o,showUserModal:i,loadedDirectly:n,newProject:s})=>(g1t(),y1t().then(()=>{JX.finished();let a=N.store.getState();H.trackProjectEvent(U.loadedProject,a,{...n&&{"Loading time (ms)":Math.round(performance.now())},"Easel Pro Content":Array.from(xo.getInUseProFeatures(a)).map(l=>l.label)}),t?xbe.start(e):r?fbe.start(e):o.show?bbe.start(o):s?N.store.dispatch(vt.actions.showProjectStartModal()):i&&(H.trackEvent(U.showedAccountModal,{proRequired:!1}),N.store.dispatch(De.actions.showUserModalAccountTab()))})),S1t=function(e,t){Li.init(vl,N.store,t);let r=s2(N.store,t),o=i3({fontManager:qr,googleFontManager:qd,uploadedFontManager:h5});return Promise.resolve(mbe(e)).then(o.loadFontsInSavedProjectData).then(i=>vl.load(i,JX.loading)).then(i=>{i&&JX.loaded(),Li.setupAutosave(),it("workpiece_saving")&&r.setupAutosave()})},C1t=function(e){let t=e.message??e.statusText??e.toString();Fe("An error occurred loading Easel",t),window.onerror(t,"init.js",0,0,e)},Rv=null,P1t=function(){let e=document.getElementById("easel-mount-point");(0,KX.createRoot)(e).render(jx.default.createElement(QX.default.Provider,{store:N.store},jx.default.createElement(ym.Provider,{value:A5},jx.default.createElement(ube)))),Rv&&(Rv.unmount(),Rv=null)},w1t=function(){let e=document.getElementById("easel-mount-pre-project-point");Rv=(0,KX.createRoot)(e),Rv.render(jx.default.createElement(QX.default.Provider,{store:N.store},jx.default.createElement(Oue)))},_1t=function(e){N.createStore([Et("undo",nr.reducer),Wbe.reducer,Et("workpieces",W.reducer),Et("userModal",De.reducer),Et("features",dm.reducer),Et("app",Hr.reducer),Et("toolbox",En.reducer),Et("cutSettings",Wi.reducer),Et("user",Q.reducer),Et("unit",Me.reducer),Et("firmwareVersions",ac.reducer),Et("jobStatus",Ro.reducer),Et("page",Cd.reducer),Et("projects",Kt.reducer),Et("troubleshooting",ys.reducer),Et("font",ft.reducer),Et("easelPro",Jr.reducer),Et("designElements",bg.reducer),Et("preview",Nr.reducer),Et("saveStatus",ko.reducer),Et("notifications",qa.reducer),Et("measurement",Ci.reducer),Et("machineSettings",Y.reducer),Et("machineProfiles",et.reducer),Et("walkthrough",At.reducer),Et("xcpTesting",Mm.reducer),Et("labels",Kc.reducer),Et("localSenderVersion",jo.reducer),Et("cabinetDesigner",am.reducer),Et("stats",qP.reducer),Et("estimate",dte),Et("manufacturing",Ha.reducer),Et("manufacturingUI",IA.reducer),Et("cabinets",zu.reducer),Et("metadata",ge.reducer),Et("stripe",qf.reducer),Et("bits",re.reducer),Et("materials",q.reducer),Et("toasts",B2.reducer),Et("feedbackForm",y0.reducer),Et("machineState",ie.reducer),Et("modal",vt.reducer),Et("galleryProject",zo.reducer),Et("gallery",tn.reducer)],KD),N.store.dispatch(Q.actions.loadServerInfo(e)),N.store.dispatch(tn.actions.setCollections(e.collections))},k1t=function(e){let{newUser:t,showIntro:r,showCarveyIntro:o,showPlaningProjectParams:i,showUserModal:n,newProject:s,experimentAssignments:a}=e,l=globalThis.EASEL_PROJECT_LINK_TOKEN=e.linkToken;_1t(e),H.enable(e.env,aD(e.isAdmin,N.store)),dbe.enableTracking();let c=e.currentUserName,u=b1t(r),p=nt.group("project-list"),m=nt.group("init"),h=nt.group("post-init"),f=nt.group("post-launch"),x=Nbe.create().then(S=>{if(S)return Obe(l,S).then(()=>S).catch(w=>(console.error("Error syncing offline saves",w),N?.store?.dispatch(ko.actions.setUnsavedWithError("Failed to sync offline edits.")),S))}),v=l?x.then(()=>Gr.get(l,!0)):new Promise(()=>{}),b=Uv(p).then(()=>w1t()).then(()=>Uv(u)).then(()=>Uv(m)).then(()=>Uv(h));return Promise.all([v,b,x]).then(([S,,w])=>S1t(S,w)).then(P1t).then(()=>v1t({newUser:t,userName:c,showIntro:r,showCarveyIntro:o,showPlaningProjectParams:i,showUserModal:n,loadedDirectly:!!l,newProject:s,experimentAssignments:a})).then(()=>Uv(f)).then(()=>{let S=it("userflow_checklist");if(S&&!r)return Cbe({email:e.userEmail,name:e.name}).then(w=>{w&&S&&Sbe()})}).catch(C1t)},Vbe=k1t;var Zbe=M(P("react-redux"),1),Jbe=P("react-dom/client"),oY=M(P("react"),1);var Kh=M(P("react"),1);function T1t(e){return Kh.default.createElement(Kh.default.Fragment,null,Kh.default.createElement("div",{className:"sign-in-component__role-header"},"Thank you for signing up!"),Kh.default.createElement("div",{className:"sign-in-component__role-details"},Kh.default.createElement("p",null,"A verification email has been sent to ",Kh.default.createElement("b",null,e.email),". Please check your email for a confirmation link to complete your sign-up."),Kh.default.createElement("p",null,"Learn more about ",Kh.default.createElement("a",{href:"https://support.easel.com/hc/en-us/articles/360012726134-Easel-Pro-Educator-Account",title:"Easel Pro Educator Accounts",target:"_blank",rel:"noreferrer"},"Easel Pro Educator Accounts"),".")))}var Ube=T1t;var yr=M(P("react"),1);function E1t(e){let[t,r]=(0,yr.useState)(""),[o,i]=(0,yr.useState)(""),[n,s]=(0,yr.useState)(""),[a,l]=(0,yr.useState)(""),[c,u]=(0,yr.useState)(!1),[p,m]=(0,yr.useState)([]),[h,f]=(0,yr.useState)(!1),[x,v]=(0,yr.useState)(""),[b,S]=(0,yr.useState)(!1),w=T=>{u(T.target.checked),grecaptcha.ready(()=>{grecaptcha.execute(e.siteKey3,{action:"login"}).then(A=>{v(A)})})},_=()=>{let T=[];return t.length===0&&T.push("Email required"),o.length===0&&T.push("Full Name required"),a.length===0&&T.push("Password required"),c||T.push("You must consent to the Inventables Privacy Policy","You must consent to the Inventables Terms of Service","You must consent to the Inventables End User License Agreement"),m(T),T.length===0};return yr.default.createElement(yr.default.Fragment,null,yr.default.createElement("h4",{className:"sign-in-component__header"},"Sign up for a free Easel account"),yr.default.createElement("p",{className:"mb-0"},"You\u2019ll get immediate access to Cabinetmaker and Easel Pro. No credit card required."),yr.default.createElement("form",{className:"sign-in-component__form-container",onSubmit:T=>{if(T.preventDefault(),!_())return;f(!0);let A={email:t,password:a,full_name:o,accepted_privacy_policy:1,accepted_terms_of_service:1,accepted_end_user_license_agreement:1,identity_properties:e.identityProperties,utm_properties:e.utm,phone_number:n};A.recaptcha_response=b?grecaptcha.getResponse():x,e.role&&(A.role=e.role),Fn.createUser(A).then(O=>(O.auto_signin?e.onAutoSignin(O):e.onUserCreate(t),H.reset(t))).then(()=>{H.identify(t),H.trackEvent(U.signedUp)}).catch(O=>{let L=O.errors??["Error registering the account."];m(L),f(!1),b?grecaptcha.reset():(S(!0),grecaptcha.render("recaptcha-container",{sitekey:e.siteKey}))})}},yr.default.createElement(S6,{errors:p}),yr.default.createElement("div",{className:"form-group"},yr.default.createElement("label",{htmlFor:"email",className:"sign-in-component__label form-label"},"Email"),yr.default.createElement("input",{id:"email",className:"sign-in-component__input",type:"email",name:"email",value:t,onChange:T=>r(T.target.value)}),yr.default.createElement("label",{htmlFor:"full-name",className:"sign-in-component__label form-label"},"Full Name"),yr.default.createElement("input",{id:"full-name",className:"sign-in-component__input",type:"text",name:"full name",value:o,onChange:T=>i(T.target.value)}),yr.default.createElement("label",{htmlFor:"phone-number",className:"sign-in-component__label form-label"},"Business Phone Number"),yr.default.createElement("input",{id:"phone-number",className:"sign-in-component__input",type:"tel",value:n,onChange:T=>s(T.target.value)}),yr.default.createElement("label",{htmlFor:"password",className:"sign-in-component__label form-label"},"Password"),yr.default.createElement("input",{id:"password",className:"sign-in-component__input",type:"password",name:"password",value:a,onChange:T=>l(T.target.value)})),yr.default.createElement("div",{className:"form-group"},yr.default.createElement("div",{className:"sign-in-component__checkbox-row"},yr.default.createElement("input",{id:"policyChecked",type:"checkbox",name:"policyChecked",className:"sign-in-component__checkbox",checked:c,onChange:w}),yr.default.createElement("label",{className:"sign-in-component__checkbox-label",htmlFor:"policyChecked"},"I consent to the Easel ",yr.default.createElement("a",{href:"https://easel.com/pages/privacy-policy",target:"_blank",rel:"noreferrer"},"PRIVACY POLICY"),",\xA0",yr.default.createElement("a",{href:"https://easel.com/pages/terms-of-service",target:"_blank",rel:"noreferrer"},"TERMS OF USE"),", and\xA0",yr.default.createElement("a",{href:"https://easel.com/pages/easel-pro-eula",target:"_blank",rel:"noreferrer"},"END USER LICENSE AGREEMENT"))),yr.default.createElement("div",{id:"recaptcha-container",className:"sign-in-component__recaptcha-container"})),yr.default.createElement("button",{className:"sign-in-component__submit-btn"},h&&yr.default.createElement(Re,{color:"white"}),!h&&"Continue")),yr.default.createElement("p",null,"Already have an account? ",yr.default.createElement(oe,{onClick:()=>e.setAction("returning")},"Log in"),"."))}var Rbe=E1t;var _1=M(P("react"),1);function M1t(e){let[t,r]=(0,_1.useState)("registration"),[o,i]=(0,_1.useState)("");return _1.default.createElement(_1.default.Fragment,null,t==="registration"&&_1.default.createElement(Rbe,{...e,onUserCreate:a=>{i(a),r("confirmation")},onAutoSignin:a=>{e.onAutoSignin&&e.onAutoSignin(a)}}),t==="confirmation"&&_1.default.createElement(Ube,{email:o}))}var jbe=M1t;var Ip=M(P("react"),1);var ml=M(P("react"),1);function A1t(e){return ml.default.createElement(ml.default.Fragment,null,ml.default.createElement("div",{className:"sign-in-component__role-header"},"Which app do you want to design with now?"),ml.default.createElement("div",{className:"sign-in-component__role-details"},"You\u2018ll have access to both Cabinetmaker and Easel after completing sign-up."),ml.default.createElement("div",{className:"sign-in-component__app-picker"},ml.default.createElement("div",{className:"sign-in-component__app-option"},ml.default.createElement(oe,{onClick:()=>e.onSetDestination("cabinetmaker")},ml.default.createElement("img",{className:"img-fluid",src:EASEL_ASSETS.images.loginCabinetmaker,alt:"Dark kitchen cabinet"}),ml.default.createElement("div",{className:"sign-in-component__app-header"},"Cabinetmaker"),ml.default.createElement("div",{className:"sign-in-component__app-details"},"Design, configure, and cut cabinets in minutes."))),ml.default.createElement("div",{className:"sign-in-component__app-option"},ml.default.createElement(oe,{onClick:()=>e.onSetDestination("easelpro")},ml.default.createElement("img",{className:"img-fluid",src:EASEL_ASSETS.images.loginEaselPro,alt:"CNC carving a sign"}),ml.default.createElement("div",{className:"sign-in-component__app-header"},"Easel Pro"),ml.default.createElement("div",{className:"sign-in-component__app-details"},"Create unique high-level carvings with a click of a button.")))))}var Gbe=A1t;var Ad=M(P("react"),1);var eY=EASEL_ASSETS.images;function tY(){let e=async()=>{try{return(await Gr.create()).link_token}catch(s){return console.error(s),null}},t=He(U.selectedEaselGettingStartedOption),r=()=>{t({choice:"Machine Setup"}),window.location.href="/setup"},o=()=>{t({choice:"Intro Project"}),window.location.href="/intro"},i=async()=>{let s=await e();s&&(t({choice:"New Project"}),window.location.href=`/projects/${s}`)},n=[{label:"Set up my CNC machine",description:"If you don\u2019t have a CNC ready to use, you can come back to this step later.",image:eY.cncMachine,alt:"Image of a CNC machine",onClick:r,imgStyle:{height:"50px"}},{label:"Take a guided tour",description:"Our quick walkthrough will show you everything you need to know!",image:eY.signPost,alt:"Image of a signpost with directions",onClick:o,imgStyle:{height:"50px"}},{label:"Start a new project",description:"Already know how to use Easel? Dive right into your first project!",image:eY.pencilAndSetSquare,alt:"Image of a pencil and rafter square",onClick:i,imgStyle:{height:"40px"}}];return Ad.default.createElement(Ad.default.Fragment,null,Ad.default.createElement("h4",{className:"sign-in-component__role-header"},"Where would you like to begin?"),Ad.default.createElement("div",{className:"easel-getting-started"},n.map((s,a)=>Ad.default.createElement("div",{key:`option-${a}`,className:"easel-getting-started__option"},Ad.default.createElement("button",{className:"btn btn-outline-secondary btn-lg",onClick:()=>{s.onClick()}},Ad.default.createElement("div",{className:"easel-getting-started__option-label"},Ad.default.createElement("img",{src:s.image,alt:s.alt,style:s.imgStyle}),Ad.default.createElement("h5",null,s.label))),Ad.default.createElement("p",{className:"easel-getting-started__description"},s.description)))))}var xr=M(P("react"),1);var I1t=async e=>kt("/interests",JSON.stringify({interest:e,focus})),D1t={createInterest:I1t},rY=D1t;var Hbe=[{label:"Professional",description:"For work, business and making money",interests:["I run my own business","I'm a professional designer or fabricator","I have a side-hustle","I want to start a business or side-hustle"],header:"Tell us about your business!",subheader:"Thousands of entrepreneurs, business owners, and professionals use Easel to achieve their goals!",image:EASEL_ASSETS.images.interestProfessional},{label:"Personal",description:"For personal use, learning and fun",interests:["I want to start a business or side-hustle","I want to learn how to use a CNC","I want to complete personal projects","I want to make gifts for friends and family"],header:"What is your primary goal?",subheader:"Whether you're learning, making gifts, or working on personal projects, we've got you covered!",image:EASEL_ASSETS.images.interestPersonal},{label:"Educational",description:"For teachers, educators and students",interests:["Student","Teacher or Educator","Other School Employee"],header:"Which option best describes you?",subheader:"Whether you're learning or teaching, you can find success with hands-on learning in Easel!",image:EASEL_ASSETS.images.interestEducational}];function N1t(e){let[t,r]=(0,xr.useState)(!1),[o,i]=(0,xr.useState)(void 0),n=e.role==="cabinetmaker"?"cabinetmaker":"easel";return xr.default.createElement("div",{className:"form-group"},!o&&xr.default.createElement(O1t,{onSelectFocus:l=>{r(!0),rY.createInterest({app:n,focus:l}).finally(()=>{H.trackEvent(U.answeredOnboardingSurvey,{App:n,Step:"Focus",Value:l}),r(!1),i(l)})},submitting:t}),o&&xr.default.createElement(L1t,{focus:o,onSelectInterest:l=>{r(!0),rY.createInterest({app:n,interest:l,focus:o}).finally(()=>{H.trackEvent(U.answeredOnboardingSurvey,{App:n,Step:"Interest",Value:l}),e.onSubmitSurvey()})},submitting:t}))}function O1t({onSelectFocus:e,submitting:t}){return xr.default.createElement(xr.default.Fragment,null,xr.default.createElement("h3",{className:"sign-in-component__role-header"},"Are you planning to use Easel for personal or professional purposes?"),xr.default.createElement("p",{className:"sign-in-component__role-details"},"Whatever your goals are, we\u2018re here to help you find success with Easel."),xr.default.createElement("div",{className:"d-grid gap-3 position-relative"},t&&xr.default.createElement("div",{className:"inline-loading-overlay"},xr.default.createElement(Re,{size:25})),Hbe.sort(()=>Math.random()-.5).map((r,o)=>xr.default.createElement("div",{key:`focus-${o}`,className:`btn btn-outline-secondary btn-lg ${t?"disabled":""}`,onClick:()=>e(r.label)},xr.default.createElement("div",{className:"d-flex align-items-center"},xr.default.createElement("img",{src:r.image,alt:`Image of a ${r.label} user type`}),xr.default.createElement("div",{className:"flex-grow-1 ms-3"},xr.default.createElement("h4",{className:`mt-2 ${r.label.toLowerCase()}`},r.label),xr.default.createElement("p",null,r.description)))))))}function L1t({focus:e,onSelectInterest:t,submitting:r}){let o=Hbe.find(a=>a.label===e),[i,n]=(0,xr.useState)(""),s=(0,xr.useMemo)(()=>o.interests.sort(()=>Math.random()-.5),[o.interests]);return xr.default.createElement(xr.default.Fragment,null,xr.default.createElement("h3",{className:"sign-in-component__role-header"},o.header),xr.default.createElement("p",{className:"sign-in-component__role-details"},o.subheader),xr.default.createElement("div",{className:"d-grid gap-3 position-relative"},r&&xr.default.createElement("div",{className:"inline-loading-overlay"},xr.default.createElement(Re,{size:25})),s.map((a,l)=>xr.default.createElement("button",{key:`interest-${l}`,type:"button",className:"btn btn-outline-secondary btn-lg",onClick:()=>t(a),disabled:r},a)),e!=="Educational"&&xr.default.createElement(xr.default.Fragment,null,xr.default.createElement("div",{className:"btn btn-outline-secondary btn-lg"},xr.default.createElement("div",{className:"input-group"},xr.default.createElement("input",{type:"text",className:"form-control",placeholder:"Other...",disabled:r,value:i,onChange:a=>n(a.target.value),onKeyDown:a=>{a.key==="Enter"&&t(i)}}),xr.default.createElement("button",{className:"btn btn-outline-dark",type:"button",disabled:r||i?.trim().length===0,onClick:()=>t(i)},"Continue"))),xr.default.createElement("button",{type:"button",className:"btn btn-link text-black",onClick:()=>t("Other"),disabled:r},"Skip for now"))))}var zbe=N1t;var oi=M(P("react"),1);function B1t(e){let t=(0,oi.useRef)(null),[r,o]=(0,oi.useState)(""),[i,n]=(0,oi.useState)(""),[s,a]=(0,oi.useState)([]),[l,c]=(0,oi.useState)(!1),u=f=>{f.key==="Enter"&&(f.preventDefault(),p(f))},p=f=>{f.preventDefault(),t.current.checkValidity()&&m()},m=()=>{c(!0),Fn.logInUser({email:r,password:i,role:e.role,identity_properties:e.identityProperties,utm_properties:e.utm}).then(f=>{e.onSignIn(`${e.redirect||f.redirect||"/"}${window.location.hash}`,f.role,f.segmented),document.querySelector('meta[name="csrf-token"]').setAttribute("content",f.csrf_token),globalThis.EASEL_USER={loggedIn:!0,email:r}}).catch(f=>{a(f.errors??["Error processing login"]),c(!1)})},h=!!e.noticeFlash?.notice;return oi.default.createElement(oi.default.Fragment,null,oi.default.createElement("h4",{className:"sign-in-component__header"},"Log in"),oi.default.createElement(S6,{errors:s}),oi.default.createElement("div",{className:"sign-in-component__form-container"},oi.default.createElement("form",{ref:t,className:"form-group",method:"POST",onSubmit:p},h&&e.noticeFlash&&oi.default.createElement("div",{className:"alert alert-info"},e.noticeFlash.notice),oi.default.createElement("label",{htmlFor:"email",className:"sign-in-component__label form-label"},"Email"),oi.default.createElement("input",{id:"email",className:"sign-in-component__input",type:"email",name:"email",value:r,onChange:f=>o(f.target.value),onKeyDown:f=>u(f),required:!0}),oi.default.createElement("label",{htmlFor:"password",className:"sign-in-component__label form-label"},"Password"),oi.default.createElement("input",{id:"password",className:"sign-in-component__input",type:"password",name:"password",value:i,onChange:f=>n(f.target.value),onKeyDown:f=>u(f),required:!0,minLength:6}),oi.default.createElement("p",{className:"text-end"},oi.default.createElement("a",{href:e.newUserPasswordPath},"Forgot password?")),oi.default.createElement("p",null,"Have questions about how we use your data? ",oi.default.createElement("a",{href:"https://easel.com/pages/privacy-policy",target:"_blank",rel:"noreferrer"},"Learn more")),oi.default.createElement("button",{type:"submit",className:"sign-in-component__submit-btn"},l&&oi.default.createElement(Re,{color:"white"}),!l&&"Continue"))),oi.default.createElement("p",null,"New user? ",oi.default.createElement(oe,{onClick:()=>e.setAction("new")},"Sign up"),"."))}var Xbe=B1t;var k1=M(P("react"),1);var F1t=["Cabinet Business","Woodworking Business","General Contractor","Hobby or Side Hustle","Homeowner","Architect or Designer"].sort(()=>Math.random()-.5);function W1t(e){let[t,r]=(0,k1.useState)(!1),o=i=>{r(!0),H.identify(void 0,{"Cabinetry Interest":i}),H.trackEvent(U.answeredOnboardingSurvey,{"Cabinetry Interest":i}),e.onSubmitSurvey()};return k1.default.createElement("div",{className:"form-group"},k1.default.createElement("h3",{className:"sign-in-component__role-header"},"Occupation/Role:"),k1.default.createElement("p",{className:"sign-in-component__role-details"},"You\u2018ll have access to both Cabinetmaker and Easel after completing sign-up."),k1.default.createElement("div",{className:"d-grid gap-3"},F1t.map((i,n)=>k1.default.createElement("button",{key:`interest-${n}`,type:"button",className:"btn btn-outline-dark btn-lg",onClick:()=>o(i),disabled:t},i))))}var Ybe=W1t;function V1t(e){let[t,r]=(0,Ip.useState)("signin"),[o,i]=(0,Ip.useState)(e.role),[n,s]=(0,Ip.useState)(void 0),a=(m,h,f)=>{f?window.location.href=m:(s(m),u(h))},l=m=>{window.location.href=m.redirect||"/"},c=m=>{i(m),u(m)},u=m=>{switch(m){case"cabinetmaker":s("/cabinetmaker-signup"),r("survey");break;case"easelpro":r("multi-survey");break;default:r("destination")}},p=async()=>{o==="easelpro"?r("easel-getting-started"):window.location.href=n??"/"};return Ip.default.createElement(Ip.default.Fragment,null,t==="signin"&&Ip.default.createElement(Xbe,{...e,onSignIn:a,onAutoSignin:l}),t==="destination"&&Ip.default.createElement(Gbe,{onSetDestination:c}),t==="survey"&&Ip.default.createElement(Ybe,{role:o,onSubmitSurvey:p}),t==="multi-survey"&&Ip.default.createElement(zbe,{role:o,onSubmitSurvey:p}),t==="easel-getting-started"&&Ip.default.createElement(tY,null))}var qbe=V1t;var U1t=M(P("react"),1);var lf=M(P("react"),1);function R1t(e){let[t,r]=(0,lf.useState)(e.showTab??(e.role?"new":"returning")),o=i=>{window.location.href=i.redirect||"/"};return lf.default.createElement("div",{className:"sign-in-component fade show"},lf.default.createElement("div",{className:"sign-in-component__sign-in-box"},lf.default.createElement("div",{className:"sign-in-component__body"},lf.default.createElement("section",{className:"sign-in-component__logo-container"},lf.default.createElement("img",{src:EASEL_ASSETS.images.grayEasel,alt:"Brand Logo"})," Easel"),!1,t==="returning"&&lf.default.createElement(qbe,{...e,setAction:r}),t==="new"&&lf.default.createElement(jbe,{...e,setAction:r,onAutoSignin:o}))))}var $be=R1t;var j1t=(e,t)=>{N.createStore([Et("user",Q.reducer),Et("unit",Me.reducer),Et("page",Cd.reducer),Et("notifications",qa.reducer),Et("machineSettings",Y.reducer),Et("stats",qP.reducer),Et("metadata",ge.reducer),Et("machineState",ie.reducer)],KD),H.enable(e,aD(t.isAdmin,N.store)),t.return_to==="/jobs"&&(t.role=hJ.cabinetmaker);let r=document.getElementById("sign-in-mount-point");(0,Jbe.createRoot)(r).render(oY.default.createElement(Zbe.default.Provider,{store:N.store},oY.default.createElement($be,t)),r)},Kbe=j1t;window.EaselInit=Vbe;window.EaselSignIn=Kbe;window._EASEL={};})();
/*! Fabric.js Copyright 2008-2014, Printio (Juriy Zaytsev, Maxim Chernyak) */
/*! Bundled license information:

@segment/analytics-next/dist/pkg/vendor/tsub/tsub.js:
  (*! For license information please see tsub.js.LICENSE.txt *)

engine.io-parser/lib/utf8.js:
  (*! https://mths.be/utf8js v2.1.2 by @mathias *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.1 | MIT *)

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
//# sourceMappingURL=https://d1ruu3w8cmk6tc.cloudfront.net/assets/easel.js-1ac995f7ad71ce0372d31591a45120e9eb867272a6d7368613e2c85ebdc40dd8.map
//!
;
