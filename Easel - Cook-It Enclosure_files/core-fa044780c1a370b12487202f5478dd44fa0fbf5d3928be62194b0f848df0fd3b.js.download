"use strict";(()=>{var cre=Object.create;var Qx=Object.defineProperty;var fre=Object.getOwnPropertyDescriptor;var hre=Object.getOwnPropertyNames;var pre=Object.getPrototypeOf,dre=Object.prototype.hasOwnProperty;var mre=(t,e,n)=>e in t?Qx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var gre=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var kt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),gl=(t,e)=>{for(var n in e)Qx(t,n,{get:e[n],enumerable:!0})},vre=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of hre(e))!dre.call(t,i)&&i!==n&&Qx(t,i,{get:()=>e[i],enumerable:!(r=fre(e,i))||r.enumerable});return t};var F=(t,e,n)=>(n=t!=null?cre(pre(t)):{},vre(e||!t||!t.__esModule?Qx(n,"default",{value:t,enumerable:!0}):n,t));var M3=(t,e,n)=>mre(t,typeof e!="symbol"?e+"":e,n);var P3=kt((A3,e_)=>{(function(t,e){"use strict";typeof e_=="object"&&typeof e_.exports=="object"?e_.exports=t.document?e(t,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return e(n)}:e(t)})(typeof window<"u"?window:A3,function(t,e){"use strict";var n=[],r=Object.getPrototypeOf,i=n.slice,o=n.flat?function(g){return n.flat.call(g)}:function(g){return n.concat.apply([],g)},s=n.push,a=n.indexOf,l={},u=l.toString,c=l.hasOwnProperty,h=c.toString,p=h.call(Object),d={},v=function(w){return typeof w=="function"&&typeof w.nodeType!="number"&&typeof w.item!="function"},b=function(w){return w!=null&&w===w.window},S=t.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function T(g,w,P){P=P||S;var I,V,H=P.createElement("script");if(H.text=g,w)for(I in y)V=w[I]||w.getAttribute&&w.getAttribute(I),V&&H.setAttribute(I,V);P.head.appendChild(H).parentNode.removeChild(H)}function E(g){return g==null?g+"":typeof g=="object"||typeof g=="function"?l[u.call(g)]||"object":typeof g}var A="3.7.1",N=/HTML$/i,x=function(g,w){return new x.fn.init(g,w)};x.fn=x.prototype={jquery:A,constructor:x,length:0,toArray:function(){return i.call(this)},get:function(g){return g==null?i.call(this):g<0?this[g+this.length]:this[g]},pushStack:function(g){var w=x.merge(this.constructor(),g);return w.prevObject=this,w},each:function(g){return x.each(this,g)},map:function(g){return this.pushStack(x.map(this,function(w,P){return g.call(w,P,w)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(x.grep(this,function(g,w){return(w+1)%2}))},odd:function(){return this.pushStack(x.grep(this,function(g,w){return w%2}))},eq:function(g){var w=this.length,P=+g+(g<0?w:0);return this.pushStack(P>=0&&P<w?[this[P]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},x.extend=x.fn.extend=function(){var g,w,P,I,V,H,Y=arguments[0]||{},Se=1,de=arguments.length,Pe=!1;for(typeof Y=="boolean"&&(Pe=Y,Y=arguments[Se]||{},Se++),typeof Y!="object"&&!v(Y)&&(Y={}),Se===de&&(Y=this,Se--);Se<de;Se++)if((g=arguments[Se])!=null)for(w in g)I=g[w],!(w==="__proto__"||Y===I)&&(Pe&&I&&(x.isPlainObject(I)||(V=Array.isArray(I)))?(P=Y[w],V&&!Array.isArray(P)?H=[]:!V&&!x.isPlainObject(P)?H={}:H=P,V=!1,Y[w]=x.extend(Pe,H,I)):I!==void 0&&(Y[w]=I));return Y},x.extend({expando:"jQuery"+(A+Math.random()).replace(/\D/g,""),isReady:!0,error:function(g){throw new Error(g)},noop:function(){},isPlainObject:function(g){var w,P;return!g||u.call(g)!=="[object Object]"?!1:(w=r(g),w?(P=c.call(w,"constructor")&&w.constructor,typeof P=="function"&&h.call(P)===p):!0)},isEmptyObject:function(g){var w;for(w in g)return!1;return!0},globalEval:function(g,w,P){T(g,{nonce:w&&w.nonce},P)},each:function(g,w){var P,I=0;if(D(g))for(P=g.length;I<P&&w.call(g[I],I,g[I])!==!1;I++);else for(I in g)if(w.call(g[I],I,g[I])===!1)break;return g},text:function(g){var w,P="",I=0,V=g.nodeType;if(!V)for(;w=g[I++];)P+=x.text(w);return V===1||V===11?g.textContent:V===9?g.documentElement.textContent:V===3||V===4?g.nodeValue:P},makeArray:function(g,w){var P=w||[];return g!=null&&(D(Object(g))?x.merge(P,typeof g=="string"?[g]:g):s.call(P,g)),P},inArray:function(g,w,P){return w==null?-1:a.call(w,g,P)},isXMLDoc:function(g){var w=g&&g.namespaceURI,P=g&&(g.ownerDocument||g).documentElement;return!N.test(w||P&&P.nodeName||"HTML")},merge:function(g,w){for(var P=+w.length,I=0,V=g.length;I<P;I++)g[V++]=w[I];return g.length=V,g},grep:function(g,w,P){for(var I,V=[],H=0,Y=g.length,Se=!P;H<Y;H++)I=!w(g[H],H),I!==Se&&V.push(g[H]);return V},map:function(g,w,P){var I,V,H=0,Y=[];if(D(g))for(I=g.length;H<I;H++)V=w(g[H],H,P),V!=null&&Y.push(V);else for(H in g)V=w(g[H],H,P),V!=null&&Y.push(V);return o(Y)},guid:1,support:d}),typeof Symbol=="function"&&(x.fn[Symbol.iterator]=n[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(g,w){l["[object "+w+"]"]=w.toLowerCase()});function D(g){var w=!!g&&"length"in g&&g.length,P=E(g);return v(g)||b(g)?!1:P==="array"||w===0||typeof w=="number"&&w>0&&w-1 in g}function k(g,w){return g.nodeName&&g.nodeName.toLowerCase()===w.toLowerCase()}var U=n.pop,L=n.sort,j=n.splice,ie="[\\x20\\t\\r\\n\\f]",se=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g");x.contains=function(g,w){var P=w&&w.parentNode;return g===P||!!(P&&P.nodeType===1&&(g.contains?g.contains(P):g.compareDocumentPosition&&g.compareDocumentPosition(P)&16))};var fe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function _e(g,w){return w?g==="\0"?"\uFFFD":g.slice(0,-1)+"\\"+g.charCodeAt(g.length-1).toString(16)+" ":"\\"+g}x.escapeSelector=function(g){return(g+"").replace(fe,_e)};var J=S,te=s;(function(){var g,w,P,I,V,H=te,Y,Se,de,Pe,qe,at=x.expando,Ge=0,bt=0,yn=lc(),Hn=lc(),wn=lc(),kr=lc(),Fr=function(C,B){return C===B&&(V=!0),0},Ko="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",W="(?:\\\\[\\da-fA-F]{1,6}"+ie+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",z="\\["+ie+"*("+W+")(?:"+ie+"*([*^$|!~]?=)"+ie+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+W+"))|)"+ie+"*\\]",le=":("+W+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+z+")*)|.*)\\)|)",pe=new RegExp(ie+"+","g"),Fe=new RegExp("^"+ie+"*,"+ie+"*"),dt=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),wt=new RegExp(ie+"|>"),nt=new RegExp(le),Dt=new RegExp("^"+W+"$"),Vt={ID:new RegExp("^#("+W+")"),CLASS:new RegExp("^\\.("+W+")"),TAG:new RegExp("^("+W+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+le),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+Ko+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},Qt=/^(?:input|select|textarea|button)$/i,mn=/^h\d$/i,Fn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ii=/[+~]/,ar=new RegExp("\\\\[\\da-fA-F]{1,6}"+ie+"?|\\\\([^\\r\\n\\f])","g"),Ur=function(C,B){var X="0x"+C.slice(1)-65536;return B||(X<0?String.fromCharCode(X+65536):String.fromCharCode(X>>10|55296,X&1023|56320))},Fa=function(){Jo()},ho=Ip(function(C){return C.disabled===!0&&k(C,"fieldset")},{dir:"parentNode",next:"legend"});function ml(){try{return Y.activeElement}catch{}}try{H.apply(n=i.call(J.childNodes),J.childNodes),n[J.childNodes.length].nodeType}catch{H={apply:function(B,X){te.apply(B,i.call(X))},call:function(B){te.apply(B,i.call(arguments,1))}}}function En(C,B,X,re){var he,Ie,Me,He,Ue,ht,At,Ft=B&&B.ownerDocument,un=B?B.nodeType:9;if(X=X||[],typeof C!="string"||!C||un!==1&&un!==9&&un!==11)return X;if(!re&&(Jo(B),B=B||Y,de)){if(un!==11&&(Ue=Fn.exec(C)))if(he=Ue[1]){if(un===9)if(Me=B.getElementById(he)){if(Me.id===he)return H.call(X,Me),X}else return X;else if(Ft&&(Me=Ft.getElementById(he))&&En.contains(B,Me)&&Me.id===he)return H.call(X,Me),X}else{if(Ue[2])return H.apply(X,B.getElementsByTagName(C)),X;if((he=Ue[3])&&B.getElementsByClassName)return H.apply(X,B.getElementsByClassName(he)),X}if(!kr[C+" "]&&(!Pe||!Pe.test(C))){if(At=C,Ft=B,un===1&&(wt.test(C)||dt.test(C))){for(Ft=ii.test(C)&&Gf(B.parentNode)||B,(Ft!=B||!d.scope)&&((He=B.getAttribute("id"))?He=x.escapeSelector(He):B.setAttribute("id",He=at)),ht=$f(C),Ie=ht.length;Ie--;)ht[Ie]=(He?"#"+He:":scope")+" "+Qi(ht[Ie]);At=ht.join(",")}try{return H.apply(X,Ft.querySelectorAll(At)),X}catch{kr(C,!0)}finally{He===at&&B.removeAttribute("id")}}}return O(C.replace(se,"$1"),B,X,re)}function lc(){var C=[];function B(X,re){return C.push(X+" ")>w.cacheLength&&delete B[C.shift()],B[X+" "]=re}return B}function po(C){return C[at]=!0,C}function Ua(C){var B=Y.createElement("fieldset");try{return!!C(B)}catch{return!1}finally{B.parentNode&&B.parentNode.removeChild(B),B=null}}function ia(C){return function(B){return k(B,"input")&&B.type===C}}function Wf(C){return function(B){return(k(B,"input")||k(B,"button"))&&B.type===C}}function ru(C){return function(B){return"form"in B?B.parentNode&&B.disabled===!1?"label"in B?"label"in B.parentNode?B.parentNode.disabled===C:B.disabled===C:B.isDisabled===C||B.isDisabled!==!C&&ho(B)===C:B.disabled===C:"label"in B?B.disabled===C:!1}}function iu(C){return po(function(B){return B=+B,po(function(X,re){for(var he,Ie=C([],X.length,B),Me=Ie.length;Me--;)X[he=Ie[Me]]&&(X[he]=!(re[he]=X[he]))})})}function Gf(C){return C&&typeof C.getElementsByTagName<"u"&&C}function Jo(C){var B,X=C?C.ownerDocument||C:J;return X==Y||X.nodeType!==9||!X.documentElement||(Y=X,Se=Y.documentElement,de=!x.isXMLDoc(Y),qe=Se.matches||Se.webkitMatchesSelector||Se.msMatchesSelector,Se.msMatchesSelector&&J!=Y&&(B=Y.defaultView)&&B.top!==B&&B.addEventListener("unload",Fa),d.getById=Ua(function(re){return Se.appendChild(re).id=x.expando,!Y.getElementsByName||!Y.getElementsByName(x.expando).length}),d.disconnectedMatch=Ua(function(re){return qe.call(re,"*")}),d.scope=Ua(function(){return Y.querySelectorAll(":scope")}),d.cssHas=Ua(function(){try{return Y.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),d.getById?(w.filter.ID=function(re){var he=re.replace(ar,Ur);return function(Ie){return Ie.getAttribute("id")===he}},w.find.ID=function(re,he){if(typeof he.getElementById<"u"&&de){var Ie=he.getElementById(re);return Ie?[Ie]:[]}}):(w.filter.ID=function(re){var he=re.replace(ar,Ur);return function(Ie){var Me=typeof Ie.getAttributeNode<"u"&&Ie.getAttributeNode("id");return Me&&Me.value===he}},w.find.ID=function(re,he){if(typeof he.getElementById<"u"&&de){var Ie,Me,He,Ue=he.getElementById(re);if(Ue){if(Ie=Ue.getAttributeNode("id"),Ie&&Ie.value===re)return[Ue];for(He=he.getElementsByName(re),Me=0;Ue=He[Me++];)if(Ie=Ue.getAttributeNode("id"),Ie&&Ie.value===re)return[Ue]}return[]}}),w.find.TAG=function(re,he){return typeof he.getElementsByTagName<"u"?he.getElementsByTagName(re):he.querySelectorAll(re)},w.find.CLASS=function(re,he){if(typeof he.getElementsByClassName<"u"&&de)return he.getElementsByClassName(re)},Pe=[],Ua(function(re){var he;Se.appendChild(re).innerHTML="<a id='"+at+"' href='' disabled='disabled'></a><select id='"+at+"-\r\\' disabled='disabled'><option selected=''></option></select>",re.querySelectorAll("[selected]").length||Pe.push("\\["+ie+"*(?:value|"+Ko+")"),re.querySelectorAll("[id~="+at+"-]").length||Pe.push("~="),re.querySelectorAll("a#"+at+"+*").length||Pe.push(".#.+[+~]"),re.querySelectorAll(":checked").length||Pe.push(":checked"),he=Y.createElement("input"),he.setAttribute("type","hidden"),re.appendChild(he).setAttribute("name","D"),Se.appendChild(re).disabled=!0,re.querySelectorAll(":disabled").length!==2&&Pe.push(":enabled",":disabled"),he=Y.createElement("input"),he.setAttribute("name",""),re.appendChild(he),re.querySelectorAll("[name='']").length||Pe.push("\\["+ie+"*name"+ie+"*="+ie+`*(?:''|"")`)}),d.cssHas||Pe.push(":has"),Pe=Pe.length&&new RegExp(Pe.join("|")),Fr=function(re,he){if(re===he)return V=!0,0;var Ie=!re.compareDocumentPosition-!he.compareDocumentPosition;return Ie||(Ie=(re.ownerDocument||re)==(he.ownerDocument||he)?re.compareDocumentPosition(he):1,Ie&1||!d.sortDetached&&he.compareDocumentPosition(re)===Ie?re===Y||re.ownerDocument==J&&En.contains(J,re)?-1:he===Y||he.ownerDocument==J&&En.contains(J,he)?1:I?a.call(I,re)-a.call(I,he):0:Ie&4?-1:1)}),Y}En.matches=function(C,B){return En(C,null,null,B)},En.matchesSelector=function(C,B){if(Jo(C),de&&!kr[B+" "]&&(!Pe||!Pe.test(B)))try{var X=qe.call(C,B);if(X||d.disconnectedMatch||C.document&&C.document.nodeType!==11)return X}catch{kr(B,!0)}return En(B,Y,null,[C]).length>0},En.contains=function(C,B){return(C.ownerDocument||C)!=Y&&Jo(C),x.contains(C,B)},En.attr=function(C,B){(C.ownerDocument||C)!=Y&&Jo(C);var X=w.attrHandle[B.toLowerCase()],re=X&&c.call(w.attrHandle,B.toLowerCase())?X(C,B,!de):void 0;return re!==void 0?re:C.getAttribute(B)},En.error=function(C){throw new Error("Syntax error, unrecognized expression: "+C)},x.uniqueSort=function(C){var B,X=[],re=0,he=0;if(V=!d.sortStable,I=!d.sortStable&&i.call(C,0),L.call(C,Fr),V){for(;B=C[he++];)B===C[he]&&(re=X.push(he));for(;re--;)j.call(C,X[re],1)}return I=null,C},x.fn.uniqueSort=function(){return this.pushStack(x.uniqueSort(i.apply(this)))},w=x.expr={cacheLength:50,createPseudo:po,match:Vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(C){return C[1]=C[1].replace(ar,Ur),C[3]=(C[3]||C[4]||C[5]||"").replace(ar,Ur),C[2]==="~="&&(C[3]=" "+C[3]+" "),C.slice(0,4)},CHILD:function(C){return C[1]=C[1].toLowerCase(),C[1].slice(0,3)==="nth"?(C[3]||En.error(C[0]),C[4]=+(C[4]?C[5]+(C[6]||1):2*(C[3]==="even"||C[3]==="odd")),C[5]=+(C[7]+C[8]||C[3]==="odd")):C[3]&&En.error(C[0]),C},PSEUDO:function(C){var B,X=!C[6]&&C[2];return Vt.CHILD.test(C[0])?null:(C[3]?C[2]=C[4]||C[5]||"":X&&nt.test(X)&&(B=$f(X,!0))&&(B=X.indexOf(")",X.length-B)-X.length)&&(C[0]=C[0].slice(0,B),C[2]=X.slice(0,B)),C.slice(0,3))}},filter:{TAG:function(C){var B=C.replace(ar,Ur).toLowerCase();return C==="*"?function(){return!0}:function(X){return k(X,B)}},CLASS:function(C){var B=yn[C+" "];return B||(B=new RegExp("(^|"+ie+")"+C+"("+ie+"|$)"))&&yn(C,function(X){return B.test(typeof X.className=="string"&&X.className||typeof X.getAttribute<"u"&&X.getAttribute("class")||"")})},ATTR:function(C,B,X){return function(re){var he=En.attr(re,C);return he==null?B==="!=":B?(he+="",B==="="?he===X:B==="!="?he!==X:B==="^="?X&&he.indexOf(X)===0:B==="*="?X&&he.indexOf(X)>-1:B==="$="?X&&he.slice(-X.length)===X:B==="~="?(" "+he.replace(pe," ")+" ").indexOf(X)>-1:B==="|="?he===X||he.slice(0,X.length+1)===X+"-":!1):!0}},CHILD:function(C,B,X,re,he){var Ie=C.slice(0,3)!=="nth",Me=C.slice(-4)!=="last",He=B==="of-type";return re===1&&he===0?function(Ue){return!!Ue.parentNode}:function(Ue,ht,At){var Ft,un,Wt,Vn,br,Te=Ie!==Me?"nextSibling":"previousSibling",ke=Ue.parentNode,st=He&&Ue.nodeName.toLowerCase(),_t=!At&&!He,sn=!1;if(ke){if(Ie){for(;Te;){for(Wt=Ue;Wt=Wt[Te];)if(He?k(Wt,st):Wt.nodeType===1)return!1;br=Te=C==="only"&&!br&&"nextSibling"}return!0}if(br=[Me?ke.firstChild:ke.lastChild],Me&&_t){for(un=ke[at]||(ke[at]={}),Ft=un[C]||[],Vn=Ft[0]===Ge&&Ft[1],sn=Vn&&Ft[2],Wt=Vn&&ke.childNodes[Vn];Wt=++Vn&&Wt&&Wt[Te]||(sn=Vn=0)||br.pop();)if(Wt.nodeType===1&&++sn&&Wt===Ue){un[C]=[Ge,Vn,sn];break}}else if(_t&&(un=Ue[at]||(Ue[at]={}),Ft=un[C]||[],Vn=Ft[0]===Ge&&Ft[1],sn=Vn),sn===!1)for(;(Wt=++Vn&&Wt&&Wt[Te]||(sn=Vn=0)||br.pop())&&!((He?k(Wt,st):Wt.nodeType===1)&&++sn&&(_t&&(un=Wt[at]||(Wt[at]={}),un[C]=[Ge,sn]),Wt===Ue)););return sn-=he,sn===re||sn%re===0&&sn/re>=0}}},PSEUDO:function(C,B){var X,re=w.pseudos[C]||w.setFilters[C.toLowerCase()]||En.error("unsupported pseudo: "+C);return re[at]?re(B):re.length>1?(X=[C,C,"",B],w.setFilters.hasOwnProperty(C.toLowerCase())?po(function(he,Ie){for(var Me,He=re(he,B),Ue=He.length;Ue--;)Me=a.call(he,He[Ue]),he[Me]=!(Ie[Me]=He[Ue])}):function(he){return re(he,0,X)}):re}},pseudos:{not:po(function(C){var B=[],X=[],re=Dp(C.replace(se,"$1"));return re[at]?po(function(he,Ie,Me,He){for(var Ue,ht=re(he,null,He,[]),At=he.length;At--;)(Ue=ht[At])&&(he[At]=!(Ie[At]=Ue))}):function(he,Ie,Me){return B[0]=he,re(B,null,Me,X),B[0]=null,!X.pop()}}),has:po(function(C){return function(B){return En(C,B).length>0}}),contains:po(function(C){return C=C.replace(ar,Ur),function(B){return(B.textContent||x.text(B)).indexOf(C)>-1}}),lang:po(function(C){return Dt.test(C||"")||En.error("unsupported lang: "+C),C=C.replace(ar,Ur).toLowerCase(),function(B){var X;do if(X=de?B.lang:B.getAttribute("xml:lang")||B.getAttribute("lang"))return X=X.toLowerCase(),X===C||X.indexOf(C+"-")===0;while((B=B.parentNode)&&B.nodeType===1);return!1}}),target:function(C){var B=t.location&&t.location.hash;return B&&B.slice(1)===C.id},root:function(C){return C===Se},focus:function(C){return C===ml()&&Y.hasFocus()&&!!(C.type||C.href||~C.tabIndex)},enabled:ru(!1),disabled:ru(!0),checked:function(C){return k(C,"input")&&!!C.checked||k(C,"option")&&!!C.selected},selected:function(C){return C.parentNode&&C.parentNode.selectedIndex,C.selected===!0},empty:function(C){for(C=C.firstChild;C;C=C.nextSibling)if(C.nodeType<6)return!1;return!0},parent:function(C){return!w.pseudos.empty(C)},header:function(C){return mn.test(C.nodeName)},input:function(C){return Qt.test(C.nodeName)},button:function(C){return k(C,"input")&&C.type==="button"||k(C,"button")},text:function(C){var B;return k(C,"input")&&C.type==="text"&&((B=C.getAttribute("type"))==null||B.toLowerCase()==="text")},first:iu(function(){return[0]}),last:iu(function(C,B){return[B-1]}),eq:iu(function(C,B,X){return[X<0?X+B:X]}),even:iu(function(C,B){for(var X=0;X<B;X+=2)C.push(X);return C}),odd:iu(function(C,B){for(var X=1;X<B;X+=2)C.push(X);return C}),lt:iu(function(C,B,X){var re;for(X<0?re=X+B:X>B?re=B:re=X;--re>=0;)C.push(re);return C}),gt:iu(function(C,B,X){for(var re=X<0?X+B:X;++re<B;)C.push(re);return C})}},w.pseudos.nth=w.pseudos.eq;for(g in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[g]=ia(g);for(g in{submit:!0,reset:!0})w.pseudos[g]=Wf(g);function uc(){}uc.prototype=w.filters=w.pseudos,w.setFilters=new uc;function $f(C,B){var X,re,he,Ie,Me,He,Ue,ht=Hn[C+" "];if(ht)return B?0:ht.slice(0);for(Me=C,He=[],Ue=w.preFilter;Me;){(!X||(re=Fe.exec(Me)))&&(re&&(Me=Me.slice(re[0].length)||Me),He.push(he=[])),X=!1,(re=dt.exec(Me))&&(X=re.shift(),he.push({value:X,type:re[0].replace(se," ")}),Me=Me.slice(X.length));for(Ie in w.filter)(re=Vt[Ie].exec(Me))&&(!Ue[Ie]||(re=Ue[Ie](re)))&&(X=re.shift(),he.push({value:X,type:Ie,matches:re}),Me=Me.slice(X.length));if(!X)break}return B?Me.length:Me?En.error(C):Hn(C,He).slice(0)}function Qi(C){for(var B=0,X=C.length,re="";B<X;B++)re+=C[B].value;return re}function Ip(C,B,X){var re=B.dir,he=B.next,Ie=he||re,Me=X&&Ie==="parentNode",He=bt++;return B.first?function(Ue,ht,At){for(;Ue=Ue[re];)if(Ue.nodeType===1||Me)return C(Ue,ht,At);return!1}:function(Ue,ht,At){var Ft,un,Wt=[Ge,He];if(At){for(;Ue=Ue[re];)if((Ue.nodeType===1||Me)&&C(Ue,ht,At))return!0}else for(;Ue=Ue[re];)if(Ue.nodeType===1||Me)if(un=Ue[at]||(Ue[at]={}),he&&k(Ue,he))Ue=Ue[re]||Ue;else{if((Ft=un[Ie])&&Ft[0]===Ge&&Ft[1]===He)return Wt[2]=Ft[2];if(un[Ie]=Wt,Wt[2]=C(Ue,ht,At))return!0}return!1}}function Np(C){return C.length>1?function(B,X,re){for(var he=C.length;he--;)if(!C[he](B,X,re))return!1;return!0}:C[0]}function Wg(C,B,X){for(var re=0,he=B.length;re<he;re++)En(C,B[re],X);return X}function Qo(C,B,X,re,he){for(var Ie,Me=[],He=0,Ue=C.length,ht=B!=null;He<Ue;He++)(Ie=C[He])&&(!X||X(Ie,re,he))&&(Me.push(Ie),ht&&B.push(He));return Me}function Op(C,B,X,re,he,Ie){return re&&!re[at]&&(re=Op(re)),he&&!he[at]&&(he=Op(he,Ie)),po(function(Me,He,Ue,ht){var At,Ft,un,Wt,Vn=[],br=[],Te=He.length,ke=Me||Wg(B||"*",Ue.nodeType?[Ue]:Ue,[]),st=C&&(Me||!B)?Qo(ke,Vn,C,Ue,ht):ke;if(X?(Wt=he||(Me?C:Te||re)?[]:He,X(st,Wt,Ue,ht)):Wt=st,re)for(At=Qo(Wt,br),re(At,[],Ue,ht),Ft=At.length;Ft--;)(un=At[Ft])&&(Wt[br[Ft]]=!(st[br[Ft]]=un));if(Me){if(he||C){if(he){for(At=[],Ft=Wt.length;Ft--;)(un=Wt[Ft])&&At.push(st[Ft]=un);he(null,Wt=[],At,ht)}for(Ft=Wt.length;Ft--;)(un=Wt[Ft])&&(At=he?a.call(Me,un):Vn[Ft])>-1&&(Me[At]=!(He[At]=un))}}else Wt=Qo(Wt===He?Wt.splice(Te,Wt.length):Wt),he?he(null,He,Wt,ht):H.apply(He,Wt)})}function Gg(C){for(var B,X,re,he=C.length,Ie=w.relative[C[0].type],Me=Ie||w.relative[" "],He=Ie?1:0,Ue=Ip(function(Ft){return Ft===B},Me,!0),ht=Ip(function(Ft){return a.call(B,Ft)>-1},Me,!0),At=[function(Ft,un,Wt){var Vn=!Ie&&(Wt||un!=P)||((B=un).nodeType?Ue(Ft,un,Wt):ht(Ft,un,Wt));return B=null,Vn}];He<he;He++)if(X=w.relative[C[He].type])At=[Ip(Np(At),X)];else{if(X=w.filter[C[He].type].apply(null,C[He].matches),X[at]){for(re=++He;re<he&&!w.relative[C[re].type];re++);return Op(He>1&&Np(At),He>1&&Qi(C.slice(0,He-1).concat({value:C[He-2].type===" "?"*":""})).replace(se,"$1"),X,He<re&&Gg(C.slice(He,re)),re<he&&Gg(C=C.slice(re)),re<he&&Qi(C))}At.push(X)}return Np(At)}function Lp(C,B){var X=B.length>0,re=C.length>0,he=function(Ie,Me,He,Ue,ht){var At,Ft,un,Wt=0,Vn="0",br=Ie&&[],Te=[],ke=P,st=Ie||re&&w.find.TAG("*",ht),_t=Ge+=ke==null?1:Math.random()||.1,sn=st.length;for(ht&&(P=Me==Y||Me||ht);Vn!==sn&&(At=st[Vn])!=null;Vn++){if(re&&At){for(Ft=0,!Me&&At.ownerDocument!=Y&&(Jo(At),He=!de);un=C[Ft++];)if(un(At,Me||Y,He)){H.call(Ue,At);break}ht&&(Ge=_t)}X&&((At=!un&&At)&&Wt--,Ie&&br.push(At))}if(Wt+=Vn,X&&Vn!==Wt){for(Ft=0;un=B[Ft++];)un(br,Te,Me,He);if(Ie){if(Wt>0)for(;Vn--;)br[Vn]||Te[Vn]||(Te[Vn]=U.call(Ue));Te=Qo(Te)}H.apply(Ue,Te),ht&&!Ie&&Te.length>0&&Wt+B.length>1&&x.uniqueSort(Ue)}return ht&&(Ge=_t,P=ke),br};return X?po(he):he}function Dp(C,B){var X,re=[],he=[],Ie=wn[C+" "];if(!Ie){for(B||(B=$f(C)),X=B.length;X--;)Ie=Gg(B[X]),Ie[at]?re.push(Ie):he.push(Ie);Ie=wn(C,Lp(he,re)),Ie.selector=C}return Ie}function O(C,B,X,re){var he,Ie,Me,He,Ue,ht=typeof C=="function"&&C,At=!re&&$f(C=ht.selector||C);if(X=X||[],At.length===1){if(Ie=At[0]=At[0].slice(0),Ie.length>2&&(Me=Ie[0]).type==="ID"&&B.nodeType===9&&de&&w.relative[Ie[1].type]){if(B=(w.find.ID(Me.matches[0].replace(ar,Ur),B)||[])[0],B)ht&&(B=B.parentNode);else return X;C=C.slice(Ie.shift().value.length)}for(he=Vt.needsContext.test(C)?0:Ie.length;he--&&(Me=Ie[he],!w.relative[He=Me.type]);)if((Ue=w.find[He])&&(re=Ue(Me.matches[0].replace(ar,Ur),ii.test(Ie[0].type)&&Gf(B.parentNode)||B))){if(Ie.splice(he,1),C=re.length&&Qi(Ie),!C)return H.apply(X,re),X;break}}return(ht||Dp(C,At))(re,B,!de,X,!B||ii.test(C)&&Gf(B.parentNode)||B),X}d.sortStable=at.split("").sort(Fr).join("")===at,Jo(),d.sortDetached=Ua(function(C){return C.compareDocumentPosition(Y.createElement("fieldset"))&1}),x.find=En,x.expr[":"]=x.expr.pseudos,x.unique=x.uniqueSort,En.compile=Dp,En.select=O,En.setDocument=Jo,En.tokenize=$f,En.escape=x.escapeSelector,En.getText=x.text,En.isXML=x.isXMLDoc,En.selectors=x.expr,En.support=x.support,En.uniqueSort=x.uniqueSort})();var ne=function(g,w,P){for(var I=[],V=P!==void 0;(g=g[w])&&g.nodeType!==9;)if(g.nodeType===1){if(V&&x(g).is(P))break;I.push(g)}return I},xe=function(g,w){for(var P=[];g;g=g.nextSibling)g.nodeType===1&&g!==w&&P.push(g);return P},Ce=x.expr.match.needsContext,Le=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function rt(g,w,P){return v(w)?x.grep(g,function(I,V){return!!w.call(I,V,I)!==P}):w.nodeType?x.grep(g,function(I){return I===w!==P}):typeof w!="string"?x.grep(g,function(I){return a.call(w,I)>-1!==P}):x.filter(w,g,P)}x.filter=function(g,w,P){var I=w[0];return P&&(g=":not("+g+")"),w.length===1&&I.nodeType===1?x.find.matchesSelector(I,g)?[I]:[]:x.find.matches(g,x.grep(w,function(V){return V.nodeType===1}))},x.fn.extend({find:function(g){var w,P,I=this.length,V=this;if(typeof g!="string")return this.pushStack(x(g).filter(function(){for(w=0;w<I;w++)if(x.contains(V[w],this))return!0}));for(P=this.pushStack([]),w=0;w<I;w++)x.find(g,V[w],P);return I>1?x.uniqueSort(P):P},filter:function(g){return this.pushStack(rt(this,g||[],!1))},not:function(g){return this.pushStack(rt(this,g||[],!0))},is:function(g){return!!rt(this,typeof g=="string"&&Ce.test(g)?x(g):g||[],!1).length}});var ot,Ae=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ze=x.fn.init=function(g,w,P){var I,V;if(!g)return this;if(P=P||ot,typeof g=="string")if(g[0]==="<"&&g[g.length-1]===">"&&g.length>=3?I=[null,g,null]:I=Ae.exec(g),I&&(I[1]||!w))if(I[1]){if(w=w instanceof x?w[0]:w,x.merge(this,x.parseHTML(I[1],w&&w.nodeType?w.ownerDocument||w:S,!0)),Le.test(I[1])&&x.isPlainObject(w))for(I in w)v(this[I])?this[I](w[I]):this.attr(I,w[I]);return this}else return V=S.getElementById(I[2]),V&&(this[0]=V,this.length=1),this;else return!w||w.jquery?(w||P).find(g):this.constructor(w).find(g);else{if(g.nodeType)return this[0]=g,this.length=1,this;if(v(g))return P.ready!==void 0?P.ready(g):g(x)}return x.makeArray(g,this)};ze.prototype=x.fn,ot=x(S);var je=/^(?:parents|prev(?:Until|All))/,it={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({has:function(g){var w=x(g,this),P=w.length;return this.filter(function(){for(var I=0;I<P;I++)if(x.contains(this,w[I]))return!0})},closest:function(g,w){var P,I=0,V=this.length,H=[],Y=typeof g!="string"&&x(g);if(!Ce.test(g)){for(;I<V;I++)for(P=this[I];P&&P!==w;P=P.parentNode)if(P.nodeType<11&&(Y?Y.index(P)>-1:P.nodeType===1&&x.find.matchesSelector(P,g))){H.push(P);break}}return this.pushStack(H.length>1?x.uniqueSort(H):H)},index:function(g){return g?typeof g=="string"?a.call(x(g),this[0]):a.call(this,g.jquery?g[0]:g):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(g,w){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(g,w))))},addBack:function(g){return this.add(g==null?this.prevObject:this.prevObject.filter(g))}});function pt(g,w){for(;(g=g[w])&&g.nodeType!==1;);return g}x.each({parent:function(g){var w=g.parentNode;return w&&w.nodeType!==11?w:null},parents:function(g){return ne(g,"parentNode")},parentsUntil:function(g,w,P){return ne(g,"parentNode",P)},next:function(g){return pt(g,"nextSibling")},prev:function(g){return pt(g,"previousSibling")},nextAll:function(g){return ne(g,"nextSibling")},prevAll:function(g){return ne(g,"previousSibling")},nextUntil:function(g,w,P){return ne(g,"nextSibling",P)},prevUntil:function(g,w,P){return ne(g,"previousSibling",P)},siblings:function(g){return xe((g.parentNode||{}).firstChild,g)},children:function(g){return xe(g.firstChild)},contents:function(g){return g.contentDocument!=null&&r(g.contentDocument)?g.contentDocument:(k(g,"template")&&(g=g.content||g),x.merge([],g.childNodes))}},function(g,w){x.fn[g]=function(P,I){var V=x.map(this,w,P);return g.slice(-5)!=="Until"&&(I=P),I&&typeof I=="string"&&(V=x.filter(I,V)),this.length>1&&(it[g]||x.uniqueSort(V),je.test(g)&&V.reverse()),this.pushStack(V)}});var It=/[^\x20\t\r\n\f]+/g;function Nt(g){var w={};return x.each(g.match(It)||[],function(P,I){w[I]=!0}),w}x.Callbacks=function(g){g=typeof g=="string"?Nt(g):x.extend({},g);var w,P,I,V,H=[],Y=[],Se=-1,de=function(){for(V=V||g.once,I=w=!0;Y.length;Se=-1)for(P=Y.shift();++Se<H.length;)H[Se].apply(P[0],P[1])===!1&&g.stopOnFalse&&(Se=H.length,P=!1);g.memory||(P=!1),w=!1,V&&(P?H=[]:H="")},Pe={add:function(){return H&&(P&&!w&&(Se=H.length-1,Y.push(P)),function qe(at){x.each(at,function(Ge,bt){v(bt)?(!g.unique||!Pe.has(bt))&&H.push(bt):bt&&bt.length&&E(bt)!=="string"&&qe(bt)})}(arguments),P&&!w&&de()),this},remove:function(){return x.each(arguments,function(qe,at){for(var Ge;(Ge=x.inArray(at,H,Ge))>-1;)H.splice(Ge,1),Ge<=Se&&Se--}),this},has:function(qe){return qe?x.inArray(qe,H)>-1:H.length>0},empty:function(){return H&&(H=[]),this},disable:function(){return V=Y=[],H=P="",this},disabled:function(){return!H},lock:function(){return V=Y=[],!P&&!w&&(H=P=""),this},locked:function(){return!!V},fireWith:function(qe,at){return V||(at=at||[],at=[qe,at.slice?at.slice():at],Y.push(at),w||de()),this},fire:function(){return Pe.fireWith(this,arguments),this},fired:function(){return!!I}};return Pe};function mt(g){return g}function K(g){throw g}function ye(g,w,P,I){var V;try{g&&v(V=g.promise)?V.call(g).done(w).fail(P):g&&v(V=g.then)?V.call(g,w,P):w.apply(void 0,[g].slice(I))}catch(H){P.apply(void 0,[H])}}x.extend({Deferred:function(g){var w=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],P="pending",I={state:function(){return P},always:function(){return V.done(arguments).fail(arguments),this},catch:function(H){return I.then(null,H)},pipe:function(){var H=arguments;return x.Deferred(function(Y){x.each(w,function(Se,de){var Pe=v(H[de[4]])&&H[de[4]];V[de[1]](function(){var qe=Pe&&Pe.apply(this,arguments);qe&&v(qe.promise)?qe.promise().progress(Y.notify).done(Y.resolve).fail(Y.reject):Y[de[0]+"With"](this,Pe?[qe]:arguments)})}),H=null}).promise()},then:function(H,Y,Se){var de=0;function Pe(qe,at,Ge,bt){return function(){var yn=this,Hn=arguments,wn=function(){var Fr,Ko;if(!(qe<de)){if(Fr=Ge.apply(yn,Hn),Fr===at.promise())throw new TypeError("Thenable self-resolution");Ko=Fr&&(typeof Fr=="object"||typeof Fr=="function")&&Fr.then,v(Ko)?bt?Ko.call(Fr,Pe(de,at,mt,bt),Pe(de,at,K,bt)):(de++,Ko.call(Fr,Pe(de,at,mt,bt),Pe(de,at,K,bt),Pe(de,at,mt,at.notifyWith))):(Ge!==mt&&(yn=void 0,Hn=[Fr]),(bt||at.resolveWith)(yn,Hn))}},kr=bt?wn:function(){try{wn()}catch(Fr){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(Fr,kr.error),qe+1>=de&&(Ge!==K&&(yn=void 0,Hn=[Fr]),at.rejectWith(yn,Hn))}};qe?kr():(x.Deferred.getErrorHook?kr.error=x.Deferred.getErrorHook():x.Deferred.getStackHook&&(kr.error=x.Deferred.getStackHook()),t.setTimeout(kr))}}return x.Deferred(function(qe){w[0][3].add(Pe(0,qe,v(Se)?Se:mt,qe.notifyWith)),w[1][3].add(Pe(0,qe,v(H)?H:mt)),w[2][3].add(Pe(0,qe,v(Y)?Y:K))}).promise()},promise:function(H){return H!=null?x.extend(H,I):I}},V={};return x.each(w,function(H,Y){var Se=Y[2],de=Y[5];I[Y[1]]=Se.add,de&&Se.add(function(){P=de},w[3-H][2].disable,w[3-H][3].disable,w[0][2].lock,w[0][3].lock),Se.add(Y[3].fire),V[Y[0]]=function(){return V[Y[0]+"With"](this===V?void 0:this,arguments),this},V[Y[0]+"With"]=Se.fireWith}),I.promise(V),g&&g.call(V,V),V},when:function(g){var w=arguments.length,P=w,I=Array(P),V=i.call(arguments),H=x.Deferred(),Y=function(Se){return function(de){I[Se]=this,V[Se]=arguments.length>1?i.call(arguments):de,--w||H.resolveWith(I,V)}};if(w<=1&&(ye(g,H.done(Y(P)).resolve,H.reject,!w),H.state()==="pending"||v(V[P]&&V[P].then)))return H.then();for(;P--;)ye(V[P],Y(P),H.reject);return H.promise()}});var ge=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(g,w){t.console&&t.console.warn&&g&&ge.test(g.name)&&t.console.warn("jQuery.Deferred exception: "+g.message,g.stack,w)},x.readyException=function(g){t.setTimeout(function(){throw g})};var Q=x.Deferred();x.fn.ready=function(g){return Q.then(g).catch(function(w){x.readyException(w)}),this},x.extend({isReady:!1,readyWait:1,ready:function(g){(g===!0?--x.readyWait:x.isReady)||(x.isReady=!0,!(g!==!0&&--x.readyWait>0)&&Q.resolveWith(S,[x]))}}),x.ready.then=Q.then;function q(){S.removeEventListener("DOMContentLoaded",q),t.removeEventListener("load",q),x.ready()}S.readyState==="complete"||S.readyState!=="loading"&&!S.documentElement.doScroll?t.setTimeout(x.ready):(S.addEventListener("DOMContentLoaded",q),t.addEventListener("load",q));var ve=function(g,w,P,I,V,H,Y){var Se=0,de=g.length,Pe=P==null;if(E(P)==="object"){V=!0;for(Se in P)ve(g,w,Se,P[Se],!0,H,Y)}else if(I!==void 0&&(V=!0,v(I)||(Y=!0),Pe&&(Y?(w.call(g,I),w=null):(Pe=w,w=function(qe,at,Ge){return Pe.call(x(qe),Ge)})),w))for(;Se<de;Se++)w(g[Se],P,Y?I:I.call(g[Se],Se,w(g[Se],P)));return V?g:Pe?w.call(g):de?w(g[0],P):H},ue=/^-ms-/,xt=/-([a-z])/g;function ae(g,w){return w.toUpperCase()}function $(g){return g.replace(ue,"ms-").replace(xt,ae)}var De=function(g){return g.nodeType===1||g.nodeType===9||!+g.nodeType};function Ke(){this.expando=x.expando+Ke.uid++}Ke.uid=1,Ke.prototype={cache:function(g){var w=g[this.expando];return w||(w={},De(g)&&(g.nodeType?g[this.expando]=w:Object.defineProperty(g,this.expando,{value:w,configurable:!0}))),w},set:function(g,w,P){var I,V=this.cache(g);if(typeof w=="string")V[$(w)]=P;else for(I in w)V[$(I)]=w[I];return V},get:function(g,w){return w===void 0?this.cache(g):g[this.expando]&&g[this.expando][$(w)]},access:function(g,w,P){return w===void 0||w&&typeof w=="string"&&P===void 0?this.get(g,w):(this.set(g,w,P),P!==void 0?P:w)},remove:function(g,w){var P,I=g[this.expando];if(I!==void 0){if(w!==void 0)for(Array.isArray(w)?w=w.map($):(w=$(w),w=w in I?[w]:w.match(It)||[]),P=w.length;P--;)delete I[w[P]];(w===void 0||x.isEmptyObject(I))&&(g.nodeType?g[this.expando]=void 0:delete g[this.expando])}},hasData:function(g){var w=g[this.expando];return w!==void 0&&!x.isEmptyObject(w)}};var Ee=new Ke,Be=new Ke,Ze=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ut=/[A-Z]/g;function Pt(g){return g==="true"?!0:g==="false"?!1:g==="null"?null:g===+g+""?+g:Ze.test(g)?JSON.parse(g):g}function zt(g,w,P){var I;if(P===void 0&&g.nodeType===1)if(I="data-"+w.replace(ut,"-$&").toLowerCase(),P=g.getAttribute(I),typeof P=="string"){try{P=Pt(P)}catch{}Be.set(g,w,P)}else P=void 0;return P}x.extend({hasData:function(g){return Be.hasData(g)||Ee.hasData(g)},data:function(g,w,P){return Be.access(g,w,P)},removeData:function(g,w){Be.remove(g,w)},_data:function(g,w,P){return Ee.access(g,w,P)},_removeData:function(g,w){Ee.remove(g,w)}}),x.fn.extend({data:function(g,w){var P,I,V,H=this[0],Y=H&&H.attributes;if(g===void 0){if(this.length&&(V=Be.get(H),H.nodeType===1&&!Ee.get(H,"hasDataAttrs"))){for(P=Y.length;P--;)Y[P]&&(I=Y[P].name,I.indexOf("data-")===0&&(I=$(I.slice(5)),zt(H,I,V[I])));Ee.set(H,"hasDataAttrs",!0)}return V}return typeof g=="object"?this.each(function(){Be.set(this,g)}):ve(this,function(Se){var de;if(H&&Se===void 0)return de=Be.get(H,g),de!==void 0||(de=zt(H,g),de!==void 0)?de:void 0;this.each(function(){Be.set(this,g,Se)})},null,w,arguments.length>1,null,!0)},removeData:function(g){return this.each(function(){Be.remove(this,g)})}}),x.extend({queue:function(g,w,P){var I;if(g)return w=(w||"fx")+"queue",I=Ee.get(g,w),P&&(!I||Array.isArray(P)?I=Ee.access(g,w,x.makeArray(P)):I.push(P)),I||[]},dequeue:function(g,w){w=w||"fx";var P=x.queue(g,w),I=P.length,V=P.shift(),H=x._queueHooks(g,w),Y=function(){x.dequeue(g,w)};V==="inprogress"&&(V=P.shift(),I--),V&&(w==="fx"&&P.unshift("inprogress"),delete H.stop,V.call(g,Y,H)),!I&&H&&H.empty.fire()},_queueHooks:function(g,w){var P=w+"queueHooks";return Ee.get(g,P)||Ee.access(g,P,{empty:x.Callbacks("once memory").add(function(){Ee.remove(g,[w+"queue",P])})})}}),x.fn.extend({queue:function(g,w){var P=2;return typeof g!="string"&&(w=g,g="fx",P--),arguments.length<P?x.queue(this[0],g):w===void 0?this:this.each(function(){var I=x.queue(this,g,w);x._queueHooks(this,g),g==="fx"&&I[0]!=="inprogress"&&x.dequeue(this,g)})},dequeue:function(g){return this.each(function(){x.dequeue(this,g)})},clearQueue:function(g){return this.queue(g||"fx",[])},promise:function(g,w){var P,I=1,V=x.Deferred(),H=this,Y=this.length,Se=function(){--I||V.resolveWith(H,[H])};for(typeof g!="string"&&(w=g,g=void 0),g=g||"fx";Y--;)P=Ee.get(H[Y],g+"queueHooks"),P&&P.empty&&(I++,P.empty.add(Se));return Se(),V.promise(w)}});var Qe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Je=new RegExp("^(?:([+-])=|)("+Qe+")([a-z%]*)$","i"),gt=["Top","Right","Bottom","Left"],vt=S.documentElement,Ct=function(g){return x.contains(g.ownerDocument,g)},rn={composed:!0};vt.getRootNode&&(Ct=function(g){return x.contains(g.ownerDocument,g)||g.getRootNode(rn)===g.ownerDocument});var fn=function(g,w){return g=w||g,g.style.display==="none"||g.style.display===""&&Ct(g)&&x.css(g,"display")==="none"};function kn(g,w,P,I){var V,H,Y=20,Se=I?function(){return I.cur()}:function(){return x.css(g,w,"")},de=Se(),Pe=P&&P[3]||(x.cssNumber[w]?"":"px"),qe=g.nodeType&&(x.cssNumber[w]||Pe!=="px"&&+de)&&Je.exec(x.css(g,w));if(qe&&qe[3]!==Pe){for(de=de/2,Pe=Pe||qe[3],qe=+de||1;Y--;)x.style(g,w,qe+Pe),(1-H)*(1-(H=Se()/de||.5))<=0&&(Y=0),qe=qe/H;qe=qe*2,x.style(g,w,qe+Pe),P=P||[]}return P&&(qe=+qe||+de||0,V=P[1]?qe+(P[1]+1)*P[2]:+P[2],I&&(I.unit=Pe,I.start=qe,I.end=V)),V}var we={};function Et(g){var w,P=g.ownerDocument,I=g.nodeName,V=we[I];return V||(w=P.body.appendChild(P.createElement(I)),V=x.css(w,"display"),w.parentNode.removeChild(w),V==="none"&&(V="block"),we[I]=V,V)}function et(g,w){for(var P,I,V=[],H=0,Y=g.length;H<Y;H++)I=g[H],I.style&&(P=I.style.display,w?(P==="none"&&(V[H]=Ee.get(I,"display")||null,V[H]||(I.style.display="")),I.style.display===""&&fn(I)&&(V[H]=Et(I))):P!=="none"&&(V[H]="none",Ee.set(I,"display",P)));for(H=0;H<Y;H++)V[H]!=null&&(g[H].style.display=V[H]);return g}x.fn.extend({show:function(){return et(this,!0)},hide:function(){return et(this)},toggle:function(g){return typeof g=="boolean"?g?this.show():this.hide():this.each(function(){fn(this)?x(this).show():x(this).hide()})}});var tt=/^(?:checkbox|radio)$/i,Ot=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Zt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var g=S.createDocumentFragment(),w=g.appendChild(S.createElement("div")),P=S.createElement("input");P.setAttribute("type","radio"),P.setAttribute("checked","checked"),P.setAttribute("name","t"),w.appendChild(P),d.checkClone=w.cloneNode(!0).cloneNode(!0).lastChild.checked,w.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!w.cloneNode(!0).lastChild.defaultValue,w.innerHTML="<option></option>",d.option=!!w.lastChild})();var hn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};hn.tbody=hn.tfoot=hn.colgroup=hn.caption=hn.thead,hn.th=hn.td,d.option||(hn.optgroup=hn.option=[1,"<select multiple='multiple'>","</select>"]);function Sn(g,w){var P;return typeof g.getElementsByTagName<"u"?P=g.getElementsByTagName(w||"*"):typeof g.querySelectorAll<"u"?P=g.querySelectorAll(w||"*"):P=[],w===void 0||w&&k(g,w)?x.merge([g],P):P}function Yn(g,w){for(var P=0,I=g.length;P<I;P++)Ee.set(g[P],"globalEval",!w||Ee.get(w[P],"globalEval"))}var zn=/<|&#?\w+;/;function Di(g,w,P,I,V){for(var H,Y,Se,de,Pe,qe,at=w.createDocumentFragment(),Ge=[],bt=0,yn=g.length;bt<yn;bt++)if(H=g[bt],H||H===0)if(E(H)==="object")x.merge(Ge,H.nodeType?[H]:H);else if(!zn.test(H))Ge.push(w.createTextNode(H));else{for(Y=Y||at.appendChild(w.createElement("div")),Se=(Ot.exec(H)||["",""])[1].toLowerCase(),de=hn[Se]||hn._default,Y.innerHTML=de[1]+x.htmlPrefilter(H)+de[2],qe=de[0];qe--;)Y=Y.lastChild;x.merge(Ge,Y.childNodes),Y=at.firstChild,Y.textContent=""}for(at.textContent="",bt=0;H=Ge[bt++];){if(I&&x.inArray(H,I)>-1){V&&V.push(H);continue}if(Pe=Ct(H),Y=Sn(at.appendChild(H),"script"),Pe&&Yn(Y),P)for(qe=0;H=Y[qe++];)Zt.test(H.type||"")&&P.push(H)}return at}var $r=/^([^.]*)(?:\.(.+)|)/;function Kn(){return!0}function Sr(){return!1}function Cn(g,w,P,I,V,H){var Y,Se;if(typeof w=="object"){typeof P!="string"&&(I=I||P,P=void 0);for(Se in w)Cn(g,Se,P,I,w[Se],H);return g}if(I==null&&V==null?(V=P,I=P=void 0):V==null&&(typeof P=="string"?(V=I,I=void 0):(V=I,I=P,P=void 0)),V===!1)V=Sr;else if(!V)return g;return H===1&&(Y=V,V=function(de){return x().off(de),Y.apply(this,arguments)},V.guid=Y.guid||(Y.guid=x.guid++)),g.each(function(){x.event.add(this,w,V,I,P)})}x.event={global:{},add:function(g,w,P,I,V){var H,Y,Se,de,Pe,qe,at,Ge,bt,yn,Hn,wn=Ee.get(g);if(De(g))for(P.handler&&(H=P,P=H.handler,V=H.selector),V&&x.find.matchesSelector(vt,V),P.guid||(P.guid=x.guid++),(de=wn.events)||(de=wn.events=Object.create(null)),(Y=wn.handle)||(Y=wn.handle=function(kr){return typeof x<"u"&&x.event.triggered!==kr.type?x.event.dispatch.apply(g,arguments):void 0}),w=(w||"").match(It)||[""],Pe=w.length;Pe--;)Se=$r.exec(w[Pe])||[],bt=Hn=Se[1],yn=(Se[2]||"").split(".").sort(),bt&&(at=x.event.special[bt]||{},bt=(V?at.delegateType:at.bindType)||bt,at=x.event.special[bt]||{},qe=x.extend({type:bt,origType:Hn,data:I,handler:P,guid:P.guid,selector:V,needsContext:V&&x.expr.match.needsContext.test(V),namespace:yn.join(".")},H),(Ge=de[bt])||(Ge=de[bt]=[],Ge.delegateCount=0,(!at.setup||at.setup.call(g,I,yn,Y)===!1)&&g.addEventListener&&g.addEventListener(bt,Y)),at.add&&(at.add.call(g,qe),qe.handler.guid||(qe.handler.guid=P.guid)),V?Ge.splice(Ge.delegateCount++,0,qe):Ge.push(qe),x.event.global[bt]=!0)},remove:function(g,w,P,I,V){var H,Y,Se,de,Pe,qe,at,Ge,bt,yn,Hn,wn=Ee.hasData(g)&&Ee.get(g);if(!(!wn||!(de=wn.events))){for(w=(w||"").match(It)||[""],Pe=w.length;Pe--;){if(Se=$r.exec(w[Pe])||[],bt=Hn=Se[1],yn=(Se[2]||"").split(".").sort(),!bt){for(bt in de)x.event.remove(g,bt+w[Pe],P,I,!0);continue}for(at=x.event.special[bt]||{},bt=(I?at.delegateType:at.bindType)||bt,Ge=de[bt]||[],Se=Se[2]&&new RegExp("(^|\\.)"+yn.join("\\.(?:.*\\.|)")+"(\\.|$)"),Y=H=Ge.length;H--;)qe=Ge[H],(V||Hn===qe.origType)&&(!P||P.guid===qe.guid)&&(!Se||Se.test(qe.namespace))&&(!I||I===qe.selector||I==="**"&&qe.selector)&&(Ge.splice(H,1),qe.selector&&Ge.delegateCount--,at.remove&&at.remove.call(g,qe));Y&&!Ge.length&&((!at.teardown||at.teardown.call(g,yn,wn.handle)===!1)&&x.removeEvent(g,bt,wn.handle),delete de[bt])}x.isEmptyObject(de)&&Ee.remove(g,"handle events")}},dispatch:function(g){var w,P,I,V,H,Y,Se=new Array(arguments.length),de=x.event.fix(g),Pe=(Ee.get(this,"events")||Object.create(null))[de.type]||[],qe=x.event.special[de.type]||{};for(Se[0]=de,w=1;w<arguments.length;w++)Se[w]=arguments[w];if(de.delegateTarget=this,!(qe.preDispatch&&qe.preDispatch.call(this,de)===!1)){for(Y=x.event.handlers.call(this,de,Pe),w=0;(V=Y[w++])&&!de.isPropagationStopped();)for(de.currentTarget=V.elem,P=0;(H=V.handlers[P++])&&!de.isImmediatePropagationStopped();)(!de.rnamespace||H.namespace===!1||de.rnamespace.test(H.namespace))&&(de.handleObj=H,de.data=H.data,I=((x.event.special[H.origType]||{}).handle||H.handler).apply(V.elem,Se),I!==void 0&&(de.result=I)===!1&&(de.preventDefault(),de.stopPropagation()));return qe.postDispatch&&qe.postDispatch.call(this,de),de.result}},handlers:function(g,w){var P,I,V,H,Y,Se=[],de=w.delegateCount,Pe=g.target;if(de&&Pe.nodeType&&!(g.type==="click"&&g.button>=1)){for(;Pe!==this;Pe=Pe.parentNode||this)if(Pe.nodeType===1&&!(g.type==="click"&&Pe.disabled===!0)){for(H=[],Y={},P=0;P<de;P++)I=w[P],V=I.selector+" ",Y[V]===void 0&&(Y[V]=I.needsContext?x(V,this).index(Pe)>-1:x.find(V,this,null,[Pe]).length),Y[V]&&H.push(I);H.length&&Se.push({elem:Pe,handlers:H})}}return Pe=this,de<w.length&&Se.push({elem:Pe,handlers:w.slice(de)}),Se},addProp:function(g,w){Object.defineProperty(x.Event.prototype,g,{enumerable:!0,configurable:!0,get:v(w)?function(){if(this.originalEvent)return w(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[g]},set:function(P){Object.defineProperty(this,g,{enumerable:!0,configurable:!0,writable:!0,value:P})}})},fix:function(g){return g[x.expando]?g:new x.Event(g)},special:{load:{noBubble:!0},click:{setup:function(g){var w=this||g;return tt.test(w.type)&&w.click&&k(w,"input")&&Zo(w,"click",!0),!1},trigger:function(g){var w=this||g;return tt.test(w.type)&&w.click&&k(w,"input")&&Zo(w,"click"),!0},_default:function(g){var w=g.target;return tt.test(w.type)&&w.click&&k(w,"input")&&Ee.get(w,"click")||k(w,"a")}},beforeunload:{postDispatch:function(g){g.result!==void 0&&g.originalEvent&&(g.originalEvent.returnValue=g.result)}}}};function Zo(g,w,P){if(!P){Ee.get(g,w)===void 0&&x.event.add(g,w,Kn);return}Ee.set(g,w,!1),x.event.add(g,w,{namespace:!1,handler:function(I){var V,H=Ee.get(this,w);if(I.isTrigger&1&&this[w]){if(H)(x.event.special[w]||{}).delegateType&&I.stopPropagation();else if(H=i.call(arguments),Ee.set(this,w,H),this[w](),V=Ee.get(this,w),Ee.set(this,w,!1),H!==V)return I.stopImmediatePropagation(),I.preventDefault(),V}else H&&(Ee.set(this,w,x.event.trigger(H[0],H.slice(1),this)),I.stopPropagation(),I.isImmediatePropagationStopped=Kn)}})}x.removeEvent=function(g,w,P){g.removeEventListener&&g.removeEventListener(w,P)},x.Event=function(g,w){if(!(this instanceof x.Event))return new x.Event(g,w);g&&g.type?(this.originalEvent=g,this.type=g.type,this.isDefaultPrevented=g.defaultPrevented||g.defaultPrevented===void 0&&g.returnValue===!1?Kn:Sr,this.target=g.target&&g.target.nodeType===3?g.target.parentNode:g.target,this.currentTarget=g.currentTarget,this.relatedTarget=g.relatedTarget):this.type=g,w&&x.extend(this,w),this.timeStamp=g&&g.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Sr,isPropagationStopped:Sr,isImmediatePropagationStopped:Sr,isSimulated:!1,preventDefault:function(){var g=this.originalEvent;this.isDefaultPrevented=Kn,g&&!this.isSimulated&&g.preventDefault()},stopPropagation:function(){var g=this.originalEvent;this.isPropagationStopped=Kn,g&&!this.isSimulated&&g.stopPropagation()},stopImmediatePropagation:function(){var g=this.originalEvent;this.isImmediatePropagationStopped=Kn,g&&!this.isSimulated&&g.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},function(g,w){function P(I){if(S.documentMode){var V=Ee.get(this,"handle"),H=x.event.fix(I);H.type=I.type==="focusin"?"focus":"blur",H.isSimulated=!0,V(I),H.target===H.currentTarget&&V(H)}else x.event.simulate(w,I.target,x.event.fix(I))}x.event.special[g]={setup:function(){var I;if(Zo(this,g,!0),S.documentMode)I=Ee.get(this,w),I||this.addEventListener(w,P),Ee.set(this,w,(I||0)+1);else return!1},trigger:function(){return Zo(this,g),!0},teardown:function(){var I;if(S.documentMode)I=Ee.get(this,w)-1,I?Ee.set(this,w,I):(this.removeEventListener(w,P),Ee.remove(this,w));else return!1},_default:function(I){return Ee.get(I.target,g)},delegateType:w},x.event.special[w]={setup:function(){var I=this.ownerDocument||this.document||this,V=S.documentMode?this:I,H=Ee.get(V,w);H||(S.documentMode?this.addEventListener(w,P):I.addEventListener(g,P,!0)),Ee.set(V,w,(H||0)+1)},teardown:function(){var I=this.ownerDocument||this.document||this,V=S.documentMode?this:I,H=Ee.get(V,w)-1;H?Ee.set(V,w,H):(S.documentMode?this.removeEventListener(w,P):I.removeEventListener(g,P,!0),Ee.remove(V,w))}}}),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(g,w){x.event.special[g]={delegateType:w,bindType:w,handle:function(P){var I,V=this,H=P.relatedTarget,Y=P.handleObj;return(!H||H!==V&&!x.contains(V,H))&&(P.type=Y.origType,I=Y.handler.apply(this,arguments),P.type=w),I}}}),x.fn.extend({on:function(g,w,P,I){return Cn(this,g,w,P,I)},one:function(g,w,P,I){return Cn(this,g,w,P,I,1)},off:function(g,w,P){var I,V;if(g&&g.preventDefault&&g.handleObj)return I=g.handleObj,x(g.delegateTarget).off(I.namespace?I.origType+"."+I.namespace:I.origType,I.selector,I.handler),this;if(typeof g=="object"){for(V in g)this.off(V,w,g[V]);return this}return(w===!1||typeof w=="function")&&(P=w,w=void 0),P===!1&&(P=Sr),this.each(function(){x.event.remove(this,g,P,w)})}});var pi=/<script|<style|<link/i,Xr=/checked\s*(?:[^=]|=\s*.checked.)/i,pl=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function _s(g,w){return k(g,"table")&&k(w.nodeType!==11?w:w.firstChild,"tr")&&x(g).children("tbody")[0]||g}function ta(g){return g.type=(g.getAttribute("type")!==null)+"/"+g.type,g}function Ao(g){return(g.type||"").slice(0,5)==="true/"?g.type=g.type.slice(5):g.removeAttribute("type"),g}function ka(g,w){var P,I,V,H,Y,Se,de;if(w.nodeType===1){if(Ee.hasData(g)&&(H=Ee.get(g),de=H.events,de)){Ee.remove(w,"handle events");for(V in de)for(P=0,I=de[V].length;P<I;P++)x.event.add(w,V,de[V][P])}Be.hasData(g)&&(Y=Be.access(g),Se=x.extend({},Y),Be.set(w,Se))}}function Ss(g,w){var P=w.nodeName.toLowerCase();P==="input"&&tt.test(g.type)?w.checked=g.checked:(P==="input"||P==="textarea")&&(w.defaultValue=g.defaultValue)}function ki(g,w,P,I){w=o(w);var V,H,Y,Se,de,Pe,qe=0,at=g.length,Ge=at-1,bt=w[0],yn=v(bt);if(yn||at>1&&typeof bt=="string"&&!d.checkClone&&Xr.test(bt))return g.each(function(Hn){var wn=g.eq(Hn);yn&&(w[0]=bt.call(this,Hn,wn.html())),ki(wn,w,P,I)});if(at&&(V=Di(w,g[0].ownerDocument,!1,g,I),H=V.firstChild,V.childNodes.length===1&&(V=H),H||I)){for(Y=x.map(Sn(V,"script"),ta),Se=Y.length;qe<at;qe++)de=V,qe!==Ge&&(de=x.clone(de,!0,!0),Se&&x.merge(Y,Sn(de,"script"))),P.call(g[qe],de,qe);if(Se)for(Pe=Y[Y.length-1].ownerDocument,x.map(Y,Ao),qe=0;qe<Se;qe++)de=Y[qe],Zt.test(de.type||"")&&!Ee.access(de,"globalEval")&&x.contains(Pe,de)&&(de.src&&(de.type||"").toLowerCase()!=="module"?x._evalUrl&&!de.noModule&&x._evalUrl(de.src,{nonce:de.nonce||de.getAttribute("nonce")},Pe):T(de.textContent.replace(pl,""),de,Pe))}return g}function ee(g,w,P){for(var I,V=w?x.filter(w,g):g,H=0;(I=V[H])!=null;H++)!P&&I.nodeType===1&&x.cleanData(Sn(I)),I.parentNode&&(P&&Ct(I)&&Yn(Sn(I,"script")),I.parentNode.removeChild(I));return g}x.extend({htmlPrefilter:function(g){return g},clone:function(g,w,P){var I,V,H,Y,Se=g.cloneNode(!0),de=Ct(g);if(!d.noCloneChecked&&(g.nodeType===1||g.nodeType===11)&&!x.isXMLDoc(g))for(Y=Sn(Se),H=Sn(g),I=0,V=H.length;I<V;I++)Ss(H[I],Y[I]);if(w)if(P)for(H=H||Sn(g),Y=Y||Sn(Se),I=0,V=H.length;I<V;I++)ka(H[I],Y[I]);else ka(g,Se);return Y=Sn(Se,"script"),Y.length>0&&Yn(Y,!de&&Sn(g,"script")),Se},cleanData:function(g){for(var w,P,I,V=x.event.special,H=0;(P=g[H])!==void 0;H++)if(De(P)){if(w=P[Ee.expando]){if(w.events)for(I in w.events)V[I]?x.event.remove(P,I):x.removeEvent(P,I,w.handle);P[Ee.expando]=void 0}P[Be.expando]&&(P[Be.expando]=void 0)}}}),x.fn.extend({detach:function(g){return ee(this,g,!0)},remove:function(g){return ee(this,g)},text:function(g){return ve(this,function(w){return w===void 0?x.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=w)})},null,g,arguments.length)},append:function(){return ki(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var w=_s(this,g);w.appendChild(g)}})},prepend:function(){return ki(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var w=_s(this,g);w.insertBefore(g,w.firstChild)}})},before:function(){return ki(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this)})},after:function(){return ki(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this.nextSibling)})},empty:function(){for(var g,w=0;(g=this[w])!=null;w++)g.nodeType===1&&(x.cleanData(Sn(g,!1)),g.textContent="");return this},clone:function(g,w){return g=g??!1,w=w??g,this.map(function(){return x.clone(this,g,w)})},html:function(g){return ve(this,function(w){var P=this[0]||{},I=0,V=this.length;if(w===void 0&&P.nodeType===1)return P.innerHTML;if(typeof w=="string"&&!pi.test(w)&&!hn[(Ot.exec(w)||["",""])[1].toLowerCase()]){w=x.htmlPrefilter(w);try{for(;I<V;I++)P=this[I]||{},P.nodeType===1&&(x.cleanData(Sn(P,!1)),P.innerHTML=w);P=0}catch{}}P&&this.empty().append(w)},null,g,arguments.length)},replaceWith:function(){var g=[];return ki(this,arguments,function(w){var P=this.parentNode;x.inArray(this,g)<0&&(x.cleanData(Sn(this)),P&&P.replaceChild(w,this))},g)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(g,w){x.fn[g]=function(P){for(var I,V=[],H=x(P),Y=H.length-1,Se=0;Se<=Y;Se++)I=Se===Y?this:this.clone(!0),x(H[Se])[w](I),s.apply(V,I.get());return this.pushStack(V)}});var Re=new RegExp("^("+Qe+")(?!px)[a-z%]+$","i"),Ve=/^--/,We=function(g){var w=g.ownerDocument.defaultView;return(!w||!w.opener)&&(w=t),w.getComputedStyle(g)},Oe=function(g,w,P){var I,V,H={};for(V in w)H[V]=g.style[V],g.style[V]=w[V];I=P.call(g);for(V in w)g.style[V]=H[V];return I},Tt=new RegExp(gt.join("|"),"i");(function(){function g(){if(Pe){de.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Pe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",vt.appendChild(de).appendChild(Pe);var qe=t.getComputedStyle(Pe);P=qe.top!=="1%",Se=w(qe.marginLeft)===12,Pe.style.right="60%",H=w(qe.right)===36,I=w(qe.width)===36,Pe.style.position="absolute",V=w(Pe.offsetWidth/3)===12,vt.removeChild(de),Pe=null}}function w(qe){return Math.round(parseFloat(qe))}var P,I,V,H,Y,Se,de=S.createElement("div"),Pe=S.createElement("div");Pe.style&&(Pe.style.backgroundClip="content-box",Pe.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle=Pe.style.backgroundClip==="content-box",x.extend(d,{boxSizingReliable:function(){return g(),I},pixelBoxStyles:function(){return g(),H},pixelPosition:function(){return g(),P},reliableMarginLeft:function(){return g(),Se},scrollboxSize:function(){return g(),V},reliableTrDimensions:function(){var qe,at,Ge,bt;return Y==null&&(qe=S.createElement("table"),at=S.createElement("tr"),Ge=S.createElement("div"),qe.style.cssText="position:absolute;left:-11111px;border-collapse:separate",at.style.cssText="box-sizing:content-box;border:1px solid",at.style.height="1px",Ge.style.height="9px",Ge.style.display="block",vt.appendChild(qe).appendChild(at).appendChild(Ge),bt=t.getComputedStyle(at),Y=parseInt(bt.height,10)+parseInt(bt.borderTopWidth,10)+parseInt(bt.borderBottomWidth,10)===at.offsetHeight,vt.removeChild(qe)),Y}}))})();function Lt(g,w,P){var I,V,H,Y,Se=Ve.test(w),de=g.style;return P=P||We(g),P&&(Y=P.getPropertyValue(w)||P[w],Se&&Y&&(Y=Y.replace(se,"$1")||void 0),Y===""&&!Ct(g)&&(Y=x.style(g,w)),!d.pixelBoxStyles()&&Re.test(Y)&&Tt.test(w)&&(I=de.width,V=de.minWidth,H=de.maxWidth,de.minWidth=de.maxWidth=de.width=Y,Y=P.width,de.width=I,de.minWidth=V,de.maxWidth=H)),Y!==void 0?Y+"":Y}function jt(g,w){return{get:function(){if(g()){delete this.get;return}return(this.get=w).apply(this,arguments)}}}var Ht=["Webkit","Moz","ms"],an=S.createElement("div").style,dn={};function Kt(g){for(var w=g[0].toUpperCase()+g.slice(1),P=Ht.length;P--;)if(g=Ht[P]+w,g in an)return g}function Mn(g){var w=x.cssProps[g]||dn[g];return w||(g in an?g:dn[g]=Kt(g)||g)}var sr=/^(none|table(?!-c[ea]).+)/,Zn={position:"absolute",visibility:"hidden",display:"block"},Ar={letterSpacing:"0",fontWeight:"400"};function Pn(g,w,P){var I=Je.exec(w);return I?Math.max(0,I[2]-(P||0))+(I[3]||"px"):w}function Gt(g,w,P,I,V,H){var Y=w==="width"?1:0,Se=0,de=0,Pe=0;if(P===(I?"border":"content"))return 0;for(;Y<4;Y+=2)P==="margin"&&(Pe+=x.css(g,P+gt[Y],!0,V)),I?(P==="content"&&(de-=x.css(g,"padding"+gt[Y],!0,V)),P!=="margin"&&(de-=x.css(g,"border"+gt[Y]+"Width",!0,V))):(de+=x.css(g,"padding"+gt[Y],!0,V),P!=="padding"?de+=x.css(g,"border"+gt[Y]+"Width",!0,V):Se+=x.css(g,"border"+gt[Y]+"Width",!0,V));return!I&&H>=0&&(de+=Math.max(0,Math.ceil(g["offset"+w[0].toUpperCase()+w.slice(1)]-H-de-Se-.5))||0),de+Pe}function Rn(g,w,P){var I=We(g),V=!d.boxSizingReliable()||P,H=V&&x.css(g,"boxSizing",!1,I)==="border-box",Y=H,Se=Lt(g,w,I),de="offset"+w[0].toUpperCase()+w.slice(1);if(Re.test(Se)){if(!P)return Se;Se="auto"}return(!d.boxSizingReliable()&&H||!d.reliableTrDimensions()&&k(g,"tr")||Se==="auto"||!parseFloat(Se)&&x.css(g,"display",!1,I)==="inline")&&g.getClientRects().length&&(H=x.css(g,"boxSizing",!1,I)==="border-box",Y=de in g,Y&&(Se=g[de])),Se=parseFloat(Se)||0,Se+Gt(g,w,P||(H?"border":"content"),Y,I,Se)+"px"}x.extend({cssHooks:{opacity:{get:function(g,w){if(w){var P=Lt(g,"opacity");return P===""?"1":P}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(g,w,P,I){if(!(!g||g.nodeType===3||g.nodeType===8||!g.style)){var V,H,Y,Se=$(w),de=Ve.test(w),Pe=g.style;if(de||(w=Mn(Se)),Y=x.cssHooks[w]||x.cssHooks[Se],P!==void 0){if(H=typeof P,H==="string"&&(V=Je.exec(P))&&V[1]&&(P=kn(g,w,V),H="number"),P==null||P!==P)return;H==="number"&&!de&&(P+=V&&V[3]||(x.cssNumber[Se]?"":"px")),!d.clearCloneStyle&&P===""&&w.indexOf("background")===0&&(Pe[w]="inherit"),(!Y||!("set"in Y)||(P=Y.set(g,P,I))!==void 0)&&(de?Pe.setProperty(w,P):Pe[w]=P)}else return Y&&"get"in Y&&(V=Y.get(g,!1,I))!==void 0?V:Pe[w]}},css:function(g,w,P,I){var V,H,Y,Se=$(w),de=Ve.test(w);return de||(w=Mn(Se)),Y=x.cssHooks[w]||x.cssHooks[Se],Y&&"get"in Y&&(V=Y.get(g,!0,P)),V===void 0&&(V=Lt(g,w,I)),V==="normal"&&w in Ar&&(V=Ar[w]),P===""||P?(H=parseFloat(V),P===!0||isFinite(H)?H||0:V):V}}),x.each(["height","width"],function(g,w){x.cssHooks[w]={get:function(P,I,V){if(I)return sr.test(x.css(P,"display"))&&(!P.getClientRects().length||!P.getBoundingClientRect().width)?Oe(P,Zn,function(){return Rn(P,w,V)}):Rn(P,w,V)},set:function(P,I,V){var H,Y=We(P),Se=!d.scrollboxSize()&&Y.position==="absolute",de=Se||V,Pe=de&&x.css(P,"boxSizing",!1,Y)==="border-box",qe=V?Gt(P,w,V,Pe,Y):0;return Pe&&Se&&(qe-=Math.ceil(P["offset"+w[0].toUpperCase()+w.slice(1)]-parseFloat(Y[w])-Gt(P,w,"border",!1,Y)-.5)),qe&&(H=Je.exec(I))&&(H[3]||"px")!=="px"&&(P.style[w]=I,I=x.css(P,w)),Pn(P,I,qe)}}}),x.cssHooks.marginLeft=jt(d.reliableMarginLeft,function(g,w){if(w)return(parseFloat(Lt(g,"marginLeft"))||g.getBoundingClientRect().left-Oe(g,{marginLeft:0},function(){return g.getBoundingClientRect().left}))+"px"}),x.each({margin:"",padding:"",border:"Width"},function(g,w){x.cssHooks[g+w]={expand:function(P){for(var I=0,V={},H=typeof P=="string"?P.split(" "):[P];I<4;I++)V[g+gt[I]+w]=H[I]||H[I-2]||H[0];return V}},g!=="margin"&&(x.cssHooks[g+w].set=Pn)}),x.fn.extend({css:function(g,w){return ve(this,function(P,I,V){var H,Y,Se={},de=0;if(Array.isArray(I)){for(H=We(P),Y=I.length;de<Y;de++)Se[I[de]]=x.css(P,I[de],!1,H);return Se}return V!==void 0?x.style(P,I,V):x.css(P,I)},g,w,arguments.length>1)}});function pn(g,w,P,I,V){return new pn.prototype.init(g,w,P,I,V)}x.Tween=pn,pn.prototype={constructor:pn,init:function(g,w,P,I,V,H){this.elem=g,this.prop=P,this.easing=V||x.easing._default,this.options=w,this.start=this.now=this.cur(),this.end=I,this.unit=H||(x.cssNumber[P]?"":"px")},cur:function(){var g=pn.propHooks[this.prop];return g&&g.get?g.get(this):pn.propHooks._default.get(this)},run:function(g){var w,P=pn.propHooks[this.prop];return this.options.duration?this.pos=w=x.easing[this.easing](g,this.options.duration*g,0,1,this.options.duration):this.pos=w=g,this.now=(this.end-this.start)*w+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),P&&P.set?P.set(this):pn.propHooks._default.set(this),this}},pn.prototype.init.prototype=pn.prototype,pn.propHooks={_default:{get:function(g){var w;return g.elem.nodeType!==1||g.elem[g.prop]!=null&&g.elem.style[g.prop]==null?g.elem[g.prop]:(w=x.css(g.elem,g.prop,""),!w||w==="auto"?0:w)},set:function(g){x.fx.step[g.prop]?x.fx.step[g.prop](g):g.elem.nodeType===1&&(x.cssHooks[g.prop]||g.elem.style[Mn(g.prop)]!=null)?x.style(g.elem,g.prop,g.now+g.unit):g.elem[g.prop]=g.now}}},pn.propHooks.scrollTop=pn.propHooks.scrollLeft={set:function(g){g.elem.nodeType&&g.elem.parentNode&&(g.elem[g.prop]=g.now)}},x.easing={linear:function(g){return g},swing:function(g){return .5-Math.cos(g*Math.PI)/2},_default:"swing"},x.fx=pn.prototype.init,x.fx.step={};var Pr,Ji,Jt=/^(?:toggle|show|hide)$/,na=/queueHooks$/;function Jn(){Ji&&(S.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Jn):t.setTimeout(Jn,x.fx.interval),x.fx.tick())}function Fi(){return t.setTimeout(function(){Pr=void 0}),Pr=Date.now()}function Ei(g,w){var P,I=0,V={height:g};for(w=w?1:0;I<4;I+=2-w)P=gt[I],V["margin"+P]=V["padding"+P]=g;return w&&(V.opacity=V.width=g),V}function ri(g,w,P){for(var I,V=(_.tweeners[w]||[]).concat(_.tweeners["*"]),H=0,Y=V.length;H<Y;H++)if(I=V[H].call(P,w,g))return I}function f(g,w,P){var I,V,H,Y,Se,de,Pe,qe,at="width"in w||"height"in w,Ge=this,bt={},yn=g.style,Hn=g.nodeType&&fn(g),wn=Ee.get(g,"fxshow");P.queue||(Y=x._queueHooks(g,"fx"),Y.unqueued==null&&(Y.unqueued=0,Se=Y.empty.fire,Y.empty.fire=function(){Y.unqueued||Se()}),Y.unqueued++,Ge.always(function(){Ge.always(function(){Y.unqueued--,x.queue(g,"fx").length||Y.empty.fire()})}));for(I in w)if(V=w[I],Jt.test(V)){if(delete w[I],H=H||V==="toggle",V===(Hn?"hide":"show"))if(V==="show"&&wn&&wn[I]!==void 0)Hn=!0;else continue;bt[I]=wn&&wn[I]||x.style(g,I)}if(de=!x.isEmptyObject(w),!(!de&&x.isEmptyObject(bt))){at&&g.nodeType===1&&(P.overflow=[yn.overflow,yn.overflowX,yn.overflowY],Pe=wn&&wn.display,Pe==null&&(Pe=Ee.get(g,"display")),qe=x.css(g,"display"),qe==="none"&&(Pe?qe=Pe:(et([g],!0),Pe=g.style.display||Pe,qe=x.css(g,"display"),et([g]))),(qe==="inline"||qe==="inline-block"&&Pe!=null)&&x.css(g,"float")==="none"&&(de||(Ge.done(function(){yn.display=Pe}),Pe==null&&(qe=yn.display,Pe=qe==="none"?"":qe)),yn.display="inline-block")),P.overflow&&(yn.overflow="hidden",Ge.always(function(){yn.overflow=P.overflow[0],yn.overflowX=P.overflow[1],yn.overflowY=P.overflow[2]})),de=!1;for(I in bt)de||(wn?"hidden"in wn&&(Hn=wn.hidden):wn=Ee.access(g,"fxshow",{display:Pe}),H&&(wn.hidden=!Hn),Hn&&et([g],!0),Ge.done(function(){Hn||et([g]),Ee.remove(g,"fxshow");for(I in bt)x.style(g,I,bt[I])})),de=ri(Hn?wn[I]:0,I,Ge),I in wn||(wn[I]=de.start,Hn&&(de.end=de.start,de.start=0))}}function m(g,w){var P,I,V,H,Y;for(P in g)if(I=$(P),V=w[I],H=g[P],Array.isArray(H)&&(V=H[1],H=g[P]=H[0]),P!==I&&(g[I]=H,delete g[P]),Y=x.cssHooks[I],Y&&"expand"in Y){H=Y.expand(H),delete g[I];for(P in H)P in g||(g[P]=H[P],w[P]=V)}else w[I]=V}function _(g,w,P){var I,V,H=0,Y=_.prefilters.length,Se=x.Deferred().always(function(){delete de.elem}),de=function(){if(V)return!1;for(var at=Pr||Fi(),Ge=Math.max(0,Pe.startTime+Pe.duration-at),bt=Ge/Pe.duration||0,yn=1-bt,Hn=0,wn=Pe.tweens.length;Hn<wn;Hn++)Pe.tweens[Hn].run(yn);return Se.notifyWith(g,[Pe,yn,Ge]),yn<1&&wn?Ge:(wn||Se.notifyWith(g,[Pe,1,0]),Se.resolveWith(g,[Pe]),!1)},Pe=Se.promise({elem:g,props:x.extend({},w),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},P),originalProperties:w,originalOptions:P,startTime:Pr||Fi(),duration:P.duration,tweens:[],createTween:function(at,Ge){var bt=x.Tween(g,Pe.opts,at,Ge,Pe.opts.specialEasing[at]||Pe.opts.easing);return Pe.tweens.push(bt),bt},stop:function(at){var Ge=0,bt=at?Pe.tweens.length:0;if(V)return this;for(V=!0;Ge<bt;Ge++)Pe.tweens[Ge].run(1);return at?(Se.notifyWith(g,[Pe,1,0]),Se.resolveWith(g,[Pe,at])):Se.rejectWith(g,[Pe,at]),this}}),qe=Pe.props;for(m(qe,Pe.opts.specialEasing);H<Y;H++)if(I=_.prefilters[H].call(Pe,g,qe,Pe.opts),I)return v(I.stop)&&(x._queueHooks(Pe.elem,Pe.opts.queue).stop=I.stop.bind(I)),I;return x.map(qe,ri,Pe),v(Pe.opts.start)&&Pe.opts.start.call(g,Pe),Pe.progress(Pe.opts.progress).done(Pe.opts.done,Pe.opts.complete).fail(Pe.opts.fail).always(Pe.opts.always),x.fx.timer(x.extend(de,{elem:g,anim:Pe,queue:Pe.opts.queue})),Pe}x.Animation=x.extend(_,{tweeners:{"*":[function(g,w){var P=this.createTween(g,w);return kn(P.elem,g,Je.exec(w),P),P}]},tweener:function(g,w){v(g)?(w=g,g=["*"]):g=g.match(It);for(var P,I=0,V=g.length;I<V;I++)P=g[I],_.tweeners[P]=_.tweeners[P]||[],_.tweeners[P].unshift(w)},prefilters:[f],prefilter:function(g,w){w?_.prefilters.unshift(g):_.prefilters.push(g)}}),x.speed=function(g,w,P){var I=g&&typeof g=="object"?x.extend({},g):{complete:P||!P&&w||v(g)&&g,duration:g,easing:P&&w||w&&!v(w)&&w};return x.fx.off?I.duration=0:typeof I.duration!="number"&&(I.duration in x.fx.speeds?I.duration=x.fx.speeds[I.duration]:I.duration=x.fx.speeds._default),(I.queue==null||I.queue===!0)&&(I.queue="fx"),I.old=I.complete,I.complete=function(){v(I.old)&&I.old.call(this),I.queue&&x.dequeue(this,I.queue)},I},x.fn.extend({fadeTo:function(g,w,P,I){return this.filter(fn).css("opacity",0).show().end().animate({opacity:w},g,P,I)},animate:function(g,w,P,I){var V=x.isEmptyObject(g),H=x.speed(w,P,I),Y=function(){var Se=_(this,x.extend({},g),H);(V||Ee.get(this,"finish"))&&Se.stop(!0)};return Y.finish=Y,V||H.queue===!1?this.each(Y):this.queue(H.queue,Y)},stop:function(g,w,P){var I=function(V){var H=V.stop;delete V.stop,H(P)};return typeof g!="string"&&(P=w,w=g,g=void 0),w&&this.queue(g||"fx",[]),this.each(function(){var V=!0,H=g!=null&&g+"queueHooks",Y=x.timers,Se=Ee.get(this);if(H)Se[H]&&Se[H].stop&&I(Se[H]);else for(H in Se)Se[H]&&Se[H].stop&&na.test(H)&&I(Se[H]);for(H=Y.length;H--;)Y[H].elem===this&&(g==null||Y[H].queue===g)&&(Y[H].anim.stop(P),V=!1,Y.splice(H,1));(V||!P)&&x.dequeue(this,g)})},finish:function(g){return g!==!1&&(g=g||"fx"),this.each(function(){var w,P=Ee.get(this),I=P[g+"queue"],V=P[g+"queueHooks"],H=x.timers,Y=I?I.length:0;for(P.finish=!0,x.queue(this,g,[]),V&&V.stop&&V.stop.call(this,!0),w=H.length;w--;)H[w].elem===this&&H[w].queue===g&&(H[w].anim.stop(!0),H.splice(w,1));for(w=0;w<Y;w++)I[w]&&I[w].finish&&I[w].finish.call(this);delete P.finish})}}),x.each(["toggle","show","hide"],function(g,w){var P=x.fn[w];x.fn[w]=function(I,V,H){return I==null||typeof I=="boolean"?P.apply(this,arguments):this.animate(Ei(w,!0),I,V,H)}}),x.each({slideDown:Ei("show"),slideUp:Ei("hide"),slideToggle:Ei("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(g,w){x.fn[g]=function(P,I,V){return this.animate(w,P,I,V)}}),x.timers=[],x.fx.tick=function(){var g,w=0,P=x.timers;for(Pr=Date.now();w<P.length;w++)g=P[w],!g()&&P[w]===g&&P.splice(w--,1);P.length||x.fx.stop(),Pr=void 0},x.fx.timer=function(g){x.timers.push(g),x.fx.start()},x.fx.interval=13,x.fx.start=function(){Ji||(Ji=!0,Jn())},x.fx.stop=function(){Ji=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(g,w){return g=x.fx&&x.fx.speeds[g]||g,w=w||"fx",this.queue(w,function(P,I){var V=t.setTimeout(P,g);I.stop=function(){t.clearTimeout(V)}})},function(){var g=S.createElement("input"),w=S.createElement("select"),P=w.appendChild(S.createElement("option"));g.type="checkbox",d.checkOn=g.value!=="",d.optSelected=P.selected,g=S.createElement("input"),g.value="t",g.type="radio",d.radioValue=g.value==="t"}();var M,R=x.expr.attrHandle;x.fn.extend({attr:function(g,w){return ve(this,x.attr,g,w,arguments.length>1)},removeAttr:function(g){return this.each(function(){x.removeAttr(this,g)})}}),x.extend({attr:function(g,w,P){var I,V,H=g.nodeType;if(!(H===3||H===8||H===2)){if(typeof g.getAttribute>"u")return x.prop(g,w,P);if((H!==1||!x.isXMLDoc(g))&&(V=x.attrHooks[w.toLowerCase()]||(x.expr.match.bool.test(w)?M:void 0)),P!==void 0){if(P===null){x.removeAttr(g,w);return}return V&&"set"in V&&(I=V.set(g,P,w))!==void 0?I:(g.setAttribute(w,P+""),P)}return V&&"get"in V&&(I=V.get(g,w))!==null?I:(I=x.find.attr(g,w),I??void 0)}},attrHooks:{type:{set:function(g,w){if(!d.radioValue&&w==="radio"&&k(g,"input")){var P=g.value;return g.setAttribute("type",w),P&&(g.value=P),w}}}},removeAttr:function(g,w){var P,I=0,V=w&&w.match(It);if(V&&g.nodeType===1)for(;P=V[I++];)g.removeAttribute(P)}}),M={set:function(g,w,P){return w===!1?x.removeAttr(g,P):g.setAttribute(P,P),P}},x.each(x.expr.match.bool.source.match(/\w+/g),function(g,w){var P=R[w]||x.find.attr;R[w]=function(I,V,H){var Y,Se,de=V.toLowerCase();return H||(Se=R[de],R[de]=Y,Y=P(I,V,H)!=null?de:null,R[de]=Se),Y}});var G=/^(?:input|select|textarea|button)$/i,Z=/^(?:a|area)$/i;x.fn.extend({prop:function(g,w){return ve(this,x.prop,g,w,arguments.length>1)},removeProp:function(g){return this.each(function(){delete this[x.propFix[g]||g]})}}),x.extend({prop:function(g,w,P){var I,V,H=g.nodeType;if(!(H===3||H===8||H===2))return(H!==1||!x.isXMLDoc(g))&&(w=x.propFix[w]||w,V=x.propHooks[w]),P!==void 0?V&&"set"in V&&(I=V.set(g,P,w))!==void 0?I:g[w]=P:V&&"get"in V&&(I=V.get(g,w))!==null?I:g[w]},propHooks:{tabIndex:{get:function(g){var w=x.find.attr(g,"tabindex");return w?parseInt(w,10):G.test(g.nodeName)||Z.test(g.nodeName)&&g.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.optSelected||(x.propHooks.selected={get:function(g){var w=g.parentNode;return w&&w.parentNode&&w.parentNode.selectedIndex,null},set:function(g){var w=g.parentNode;w&&(w.selectedIndex,w.parentNode&&w.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this});function ce(g){var w=g.match(It)||[];return w.join(" ")}function be(g){return g.getAttribute&&g.getAttribute("class")||""}function Xe(g){return Array.isArray(g)?g:typeof g=="string"?g.match(It)||[]:[]}x.fn.extend({addClass:function(g){var w,P,I,V,H,Y;return v(g)?this.each(function(Se){x(this).addClass(g.call(this,Se,be(this)))}):(w=Xe(g),w.length?this.each(function(){if(I=be(this),P=this.nodeType===1&&" "+ce(I)+" ",P){for(H=0;H<w.length;H++)V=w[H],P.indexOf(" "+V+" ")<0&&(P+=V+" ");Y=ce(P),I!==Y&&this.setAttribute("class",Y)}}):this)},removeClass:function(g){var w,P,I,V,H,Y;return v(g)?this.each(function(Se){x(this).removeClass(g.call(this,Se,be(this)))}):arguments.length?(w=Xe(g),w.length?this.each(function(){if(I=be(this),P=this.nodeType===1&&" "+ce(I)+" ",P){for(H=0;H<w.length;H++)for(V=w[H];P.indexOf(" "+V+" ")>-1;)P=P.replace(" "+V+" "," ");Y=ce(P),I!==Y&&this.setAttribute("class",Y)}}):this):this.attr("class","")},toggleClass:function(g,w){var P,I,V,H,Y=typeof g,Se=Y==="string"||Array.isArray(g);return v(g)?this.each(function(de){x(this).toggleClass(g.call(this,de,be(this),w),w)}):typeof w=="boolean"&&Se?w?this.addClass(g):this.removeClass(g):(P=Xe(g),this.each(function(){if(Se)for(H=x(this),V=0;V<P.length;V++)I=P[V],H.hasClass(I)?H.removeClass(I):H.addClass(I);else(g===void 0||Y==="boolean")&&(I=be(this),I&&Ee.set(this,"__className__",I),this.setAttribute&&this.setAttribute("class",I||g===!1?"":Ee.get(this,"__className__")||""))}))},hasClass:function(g){var w,P,I=0;for(w=" "+g+" ";P=this[I++];)if(P.nodeType===1&&(" "+ce(be(P))+" ").indexOf(w)>-1)return!0;return!1}});var lt=/\r/g;x.fn.extend({val:function(g){var w,P,I,V=this[0];return arguments.length?(I=v(g),this.each(function(H){var Y;this.nodeType===1&&(I?Y=g.call(this,H,x(this).val()):Y=g,Y==null?Y="":typeof Y=="number"?Y+="":Array.isArray(Y)&&(Y=x.map(Y,function(Se){return Se==null?"":Se+""})),w=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],(!w||!("set"in w)||w.set(this,Y,"value")===void 0)&&(this.value=Y))})):V?(w=x.valHooks[V.type]||x.valHooks[V.nodeName.toLowerCase()],w&&"get"in w&&(P=w.get(V,"value"))!==void 0?P:(P=V.value,typeof P=="string"?P.replace(lt,""):P??"")):void 0}}),x.extend({valHooks:{option:{get:function(g){var w=x.find.attr(g,"value");return w??ce(x.text(g))}},select:{get:function(g){var w,P,I,V=g.options,H=g.selectedIndex,Y=g.type==="select-one",Se=Y?null:[],de=Y?H+1:V.length;for(H<0?I=de:I=Y?H:0;I<de;I++)if(P=V[I],(P.selected||I===H)&&!P.disabled&&(!P.parentNode.disabled||!k(P.parentNode,"optgroup"))){if(w=x(P).val(),Y)return w;Se.push(w)}return Se},set:function(g,w){for(var P,I,V=g.options,H=x.makeArray(w),Y=V.length;Y--;)I=V[Y],(I.selected=x.inArray(x.valHooks.option.get(I),H)>-1)&&(P=!0);return P||(g.selectedIndex=-1),H}}}}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(g,w){if(Array.isArray(w))return g.checked=x.inArray(x(g).val(),w)>-1}},d.checkOn||(x.valHooks[this].get=function(g){return g.getAttribute("value")===null?"on":g.value})});var ft=t.location,Mt={guid:Date.now()},gn=/\?/;x.parseXML=function(g){var w,P;if(!g||typeof g!="string")return null;try{w=new t.DOMParser().parseFromString(g,"text/xml")}catch{}return P=w&&w.getElementsByTagName("parsererror")[0],(!w||P)&&x.error("Invalid XML: "+(P?x.map(P.childNodes,function(I){return I.textContent}).join(`
`):g)),w};var on=/^(?:focusinfocus|focusoutblur)$/,An=function(g){g.stopPropagation()};x.extend(x.event,{trigger:function(g,w,P,I){var V,H,Y,Se,de,Pe,qe,at,Ge=[P||S],bt=c.call(g,"type")?g.type:g,yn=c.call(g,"namespace")?g.namespace.split("."):[];if(H=at=Y=P=P||S,!(P.nodeType===3||P.nodeType===8)&&!on.test(bt+x.event.triggered)&&(bt.indexOf(".")>-1&&(yn=bt.split("."),bt=yn.shift(),yn.sort()),de=bt.indexOf(":")<0&&"on"+bt,g=g[x.expando]?g:new x.Event(bt,typeof g=="object"&&g),g.isTrigger=I?2:3,g.namespace=yn.join("."),g.rnamespace=g.namespace?new RegExp("(^|\\.)"+yn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,g.result=void 0,g.target||(g.target=P),w=w==null?[g]:x.makeArray(w,[g]),qe=x.event.special[bt]||{},!(!I&&qe.trigger&&qe.trigger.apply(P,w)===!1))){if(!I&&!qe.noBubble&&!b(P)){for(Se=qe.delegateType||bt,on.test(Se+bt)||(H=H.parentNode);H;H=H.parentNode)Ge.push(H),Y=H;Y===(P.ownerDocument||S)&&Ge.push(Y.defaultView||Y.parentWindow||t)}for(V=0;(H=Ge[V++])&&!g.isPropagationStopped();)at=H,g.type=V>1?Se:qe.bindType||bt,Pe=(Ee.get(H,"events")||Object.create(null))[g.type]&&Ee.get(H,"handle"),Pe&&Pe.apply(H,w),Pe=de&&H[de],Pe&&Pe.apply&&De(H)&&(g.result=Pe.apply(H,w),g.result===!1&&g.preventDefault());return g.type=bt,!I&&!g.isDefaultPrevented()&&(!qe._default||qe._default.apply(Ge.pop(),w)===!1)&&De(P)&&de&&v(P[bt])&&!b(P)&&(Y=P[de],Y&&(P[de]=null),x.event.triggered=bt,g.isPropagationStopped()&&at.addEventListener(bt,An),P[bt](),g.isPropagationStopped()&&at.removeEventListener(bt,An),x.event.triggered=void 0,Y&&(P[de]=Y)),g.result}},simulate:function(g,w,P){var I=x.extend(new x.Event,P,{type:g,isSimulated:!0});x.event.trigger(I,null,w)}}),x.fn.extend({trigger:function(g,w){return this.each(function(){x.event.trigger(g,w,this)})},triggerHandler:function(g,w){var P=this[0];if(P)return x.event.trigger(g,w,P,!0)}});var jr=/\[\]$/,Yr=/\r?\n/g,Ui=/^(?:submit|button|image|reset|file)$/i,Bf=/^(?:input|select|textarea|keygen)/i;function dl(g,w,P,I){var V;if(Array.isArray(w))x.each(w,function(H,Y){P||jr.test(g)?I(g,Y):dl(g+"["+(typeof Y=="object"&&Y!=null?H:"")+"]",Y,P,I)});else if(!P&&E(w)==="object")for(V in w)dl(g+"["+V+"]",w[V],P,I);else I(g,w)}x.param=function(g,w){var P,I=[],V=function(H,Y){var Se=v(Y)?Y():Y;I[I.length]=encodeURIComponent(H)+"="+encodeURIComponent(Se??"")};if(g==null)return"";if(Array.isArray(g)||g.jquery&&!x.isPlainObject(g))x.each(g,function(){V(this.name,this.value)});else for(P in g)dl(P,g[P],w,V);return I.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var g=x.prop(this,"elements");return g?x.makeArray(g):this}).filter(function(){var g=this.type;return this.name&&!x(this).is(":disabled")&&Bf.test(this.nodeName)&&!Ui.test(g)&&(this.checked||!tt.test(g))}).map(function(g,w){var P=x(this).val();return P==null?null:Array.isArray(P)?x.map(P,function(I){return{name:w.name,value:I.replace(Yr,`\r
`)}}):{name:w.name,value:P.replace(Yr,`\r
`)}}).get()}});var ra=/%20/g,zf=/#.*$/,bs=/([?&])_=[^&]*/,Hf=/^(.*?):[ \t]*([^\r\n]*)$/mg,kg=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fg=/^(?:GET|HEAD)$/,qr=/^\/\//,Cp={},sc={},Mp="*/".concat("*"),ac=S.createElement("a");ac.href=ft.href;function eu(g){return function(w,P){typeof w!="string"&&(P=w,w="*");var I,V=0,H=w.toLowerCase().match(It)||[];if(v(P))for(;I=H[V++];)I[0]==="+"?(I=I.slice(1)||"*",(g[I]=g[I]||[]).unshift(P)):(g[I]=g[I]||[]).push(P)}}function Ap(g,w,P,I){var V={},H=g===sc;function Y(Se){var de;return V[Se]=!0,x.each(g[Se]||[],function(Pe,qe){var at=qe(w,P,I);if(typeof at=="string"&&!H&&!V[at])return w.dataTypes.unshift(at),Y(at),!1;if(H)return!(de=at)}),de}return Y(w.dataTypes[0])||!V["*"]&&Y("*")}function tu(g,w){var P,I,V=x.ajaxSettings.flatOptions||{};for(P in w)w[P]!==void 0&&((V[P]?g:I||(I={}))[P]=w[P]);return I&&x.extend(!0,g,I),g}function Pp(g,w,P){for(var I,V,H,Y,Se=g.contents,de=g.dataTypes;de[0]==="*";)de.shift(),I===void 0&&(I=g.mimeType||w.getResponseHeader("Content-Type"));if(I){for(V in Se)if(Se[V]&&Se[V].test(I)){de.unshift(V);break}}if(de[0]in P)H=de[0];else{for(V in P){if(!de[0]||g.converters[V+" "+de[0]]){H=V;break}Y||(Y=V)}H=H||Y}if(H)return H!==de[0]&&de.unshift(H),P[H]}function Ug(g,w,P,I){var V,H,Y,Se,de,Pe={},qe=g.dataTypes.slice();if(qe[1])for(Y in g.converters)Pe[Y.toLowerCase()]=g.converters[Y];for(H=qe.shift();H;)if(g.responseFields[H]&&(P[g.responseFields[H]]=w),!de&&I&&g.dataFilter&&(w=g.dataFilter(w,g.dataType)),de=H,H=qe.shift(),H){if(H==="*")H=de;else if(de!=="*"&&de!==H){if(Y=Pe[de+" "+H]||Pe["* "+H],!Y){for(V in Pe)if(Se=V.split(" "),Se[1]===H&&(Y=Pe[de+" "+Se[0]]||Pe["* "+Se[0]],Y)){Y===!0?Y=Pe[V]:Pe[V]!==!0&&(H=Se[0],qe.unshift(Se[1]));break}}if(Y!==!0)if(Y&&g.throws)w=Y(w);else try{w=Y(w)}catch(at){return{state:"parsererror",error:Y?at:"No conversion from "+de+" to "+H}}}}return{state:"success",data:w}}x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ft.href,type:"GET",isLocal:kg.test(ft.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Mp,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(g,w){return w?tu(tu(g,x.ajaxSettings),w):tu(x.ajaxSettings,g)},ajaxPrefilter:eu(Cp),ajaxTransport:eu(sc),ajax:function(g,w){typeof g=="object"&&(w=g,g=void 0),w=w||{};var P,I,V,H,Y,Se,de,Pe,qe,at,Ge=x.ajaxSetup({},w),bt=Ge.context||Ge,yn=Ge.context&&(bt.nodeType||bt.jquery)?x(bt):x.event,Hn=x.Deferred(),wn=x.Callbacks("once memory"),kr=Ge.statusCode||{},Fr={},Ko={},W="canceled",z={readyState:0,getResponseHeader:function(pe){var Fe;if(de){if(!H)for(H={};Fe=Hf.exec(V);)H[Fe[1].toLowerCase()+" "]=(H[Fe[1].toLowerCase()+" "]||[]).concat(Fe[2]);Fe=H[pe.toLowerCase()+" "]}return Fe==null?null:Fe.join(", ")},getAllResponseHeaders:function(){return de?V:null},setRequestHeader:function(pe,Fe){return de==null&&(pe=Ko[pe.toLowerCase()]=Ko[pe.toLowerCase()]||pe,Fr[pe]=Fe),this},overrideMimeType:function(pe){return de==null&&(Ge.mimeType=pe),this},statusCode:function(pe){var Fe;if(pe)if(de)z.always(pe[z.status]);else for(Fe in pe)kr[Fe]=[kr[Fe],pe[Fe]];return this},abort:function(pe){var Fe=pe||W;return P&&P.abort(Fe),le(0,Fe),this}};if(Hn.promise(z),Ge.url=((g||Ge.url||ft.href)+"").replace(qr,ft.protocol+"//"),Ge.type=w.method||w.type||Ge.method||Ge.type,Ge.dataTypes=(Ge.dataType||"*").toLowerCase().match(It)||[""],Ge.crossDomain==null){Se=S.createElement("a");try{Se.href=Ge.url,Se.href=Se.href,Ge.crossDomain=ac.protocol+"//"+ac.host!=Se.protocol+"//"+Se.host}catch{Ge.crossDomain=!0}}if(Ge.data&&Ge.processData&&typeof Ge.data!="string"&&(Ge.data=x.param(Ge.data,Ge.traditional)),Ap(Cp,Ge,w,z),de)return z;Pe=x.event&&Ge.global,Pe&&x.active++===0&&x.event.trigger("ajaxStart"),Ge.type=Ge.type.toUpperCase(),Ge.hasContent=!Fg.test(Ge.type),I=Ge.url.replace(zf,""),Ge.hasContent?Ge.data&&Ge.processData&&(Ge.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Ge.data=Ge.data.replace(ra,"+")):(at=Ge.url.slice(I.length),Ge.data&&(Ge.processData||typeof Ge.data=="string")&&(I+=(gn.test(I)?"&":"?")+Ge.data,delete Ge.data),Ge.cache===!1&&(I=I.replace(bs,"$1"),at=(gn.test(I)?"&":"?")+"_="+Mt.guid+++at),Ge.url=I+at),Ge.ifModified&&(x.lastModified[I]&&z.setRequestHeader("If-Modified-Since",x.lastModified[I]),x.etag[I]&&z.setRequestHeader("If-None-Match",x.etag[I])),(Ge.data&&Ge.hasContent&&Ge.contentType!==!1||w.contentType)&&z.setRequestHeader("Content-Type",Ge.contentType),z.setRequestHeader("Accept",Ge.dataTypes[0]&&Ge.accepts[Ge.dataTypes[0]]?Ge.accepts[Ge.dataTypes[0]]+(Ge.dataTypes[0]!=="*"?", "+Mp+"; q=0.01":""):Ge.accepts["*"]);for(qe in Ge.headers)z.setRequestHeader(qe,Ge.headers[qe]);if(Ge.beforeSend&&(Ge.beforeSend.call(bt,z,Ge)===!1||de))return z.abort();if(W="abort",wn.add(Ge.complete),z.done(Ge.success),z.fail(Ge.error),P=Ap(sc,Ge,w,z),!P)le(-1,"No Transport");else{if(z.readyState=1,Pe&&yn.trigger("ajaxSend",[z,Ge]),de)return z;Ge.async&&Ge.timeout>0&&(Y=t.setTimeout(function(){z.abort("timeout")},Ge.timeout));try{de=!1,P.send(Fr,le)}catch(pe){if(de)throw pe;le(-1,pe)}}function le(pe,Fe,dt,wt){var nt,Dt,Vt,Qt,mn,Fn=Fe;de||(de=!0,Y&&t.clearTimeout(Y),P=void 0,V=wt||"",z.readyState=pe>0?4:0,nt=pe>=200&&pe<300||pe===304,dt&&(Qt=Pp(Ge,z,dt)),!nt&&x.inArray("script",Ge.dataTypes)>-1&&x.inArray("json",Ge.dataTypes)<0&&(Ge.converters["text script"]=function(){}),Qt=Ug(Ge,Qt,z,nt),nt?(Ge.ifModified&&(mn=z.getResponseHeader("Last-Modified"),mn&&(x.lastModified[I]=mn),mn=z.getResponseHeader("etag"),mn&&(x.etag[I]=mn)),pe===204||Ge.type==="HEAD"?Fn="nocontent":pe===304?Fn="notmodified":(Fn=Qt.state,Dt=Qt.data,Vt=Qt.error,nt=!Vt)):(Vt=Fn,(pe||!Fn)&&(Fn="error",pe<0&&(pe=0))),z.status=pe,z.statusText=(Fe||Fn)+"",nt?Hn.resolveWith(bt,[Dt,Fn,z]):Hn.rejectWith(bt,[z,Fn,Vt]),z.statusCode(kr),kr=void 0,Pe&&yn.trigger(nt?"ajaxSuccess":"ajaxError",[z,Ge,nt?Dt:Vt]),wn.fireWith(bt,[z,Fn]),Pe&&(yn.trigger("ajaxComplete",[z,Ge]),--x.active||x.event.trigger("ajaxStop")))}return z},getJSON:function(g,w,P){return x.get(g,w,P,"json")},getScript:function(g,w){return x.get(g,void 0,w,"script")}}),x.each(["get","post"],function(g,w){x[w]=function(P,I,V,H){return v(I)&&(H=H||V,V=I,I=void 0),x.ajax(x.extend({url:P,type:w,dataType:H,data:I,success:V},x.isPlainObject(P)&&P))}}),x.ajaxPrefilter(function(g){var w;for(w in g.headers)w.toLowerCase()==="content-type"&&(g.contentType=g.headers[w]||"")}),x._evalUrl=function(g,w,P){return x.ajax({url:g,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(I){x.globalEval(I,w,P)}})},x.fn.extend({wrapAll:function(g){var w;return this[0]&&(v(g)&&(g=g.call(this[0])),w=x(g,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&w.insertBefore(this[0]),w.map(function(){for(var P=this;P.firstElementChild;)P=P.firstElementChild;return P}).append(this)),this},wrapInner:function(g){return v(g)?this.each(function(w){x(this).wrapInner(g.call(this,w))}):this.each(function(){var w=x(this),P=w.contents();P.length?P.wrapAll(g):w.append(g)})},wrap:function(g){var w=v(g);return this.each(function(P){x(this).wrapAll(w?g.call(this,P):g)})},unwrap:function(g){return this.parent(g).not("body").each(function(){x(this).replaceWith(this.childNodes)}),this}}),x.expr.pseudos.hidden=function(g){return!x.expr.pseudos.visible(g)},x.expr.pseudos.visible=function(g){return!!(g.offsetWidth||g.offsetHeight||g.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Bg={0:200,1223:204},nu=x.ajaxSettings.xhr();d.cors=!!nu&&"withCredentials"in nu,d.ajax=nu=!!nu,x.ajaxTransport(function(g){var w,P;if(d.cors||nu&&!g.crossDomain)return{send:function(I,V){var H,Y=g.xhr();if(Y.open(g.type,g.url,g.async,g.username,g.password),g.xhrFields)for(H in g.xhrFields)Y[H]=g.xhrFields[H];g.mimeType&&Y.overrideMimeType&&Y.overrideMimeType(g.mimeType),!g.crossDomain&&!I["X-Requested-With"]&&(I["X-Requested-With"]="XMLHttpRequest");for(H in I)Y.setRequestHeader(H,I[H]);w=function(Se){return function(){w&&(w=P=Y.onload=Y.onerror=Y.onabort=Y.ontimeout=Y.onreadystatechange=null,Se==="abort"?Y.abort():Se==="error"?typeof Y.status!="number"?V(0,"error"):V(Y.status,Y.statusText):V(Bg[Y.status]||Y.status,Y.statusText,(Y.responseType||"text")!=="text"||typeof Y.responseText!="string"?{binary:Y.response}:{text:Y.responseText},Y.getAllResponseHeaders()))}},Y.onload=w(),P=Y.onerror=Y.ontimeout=w("error"),Y.onabort!==void 0?Y.onabort=P:Y.onreadystatechange=function(){Y.readyState===4&&t.setTimeout(function(){w&&P()})},w=w("abort");try{Y.send(g.hasContent&&g.data||null)}catch(Se){if(w)throw Se}},abort:function(){w&&w()}}}),x.ajaxPrefilter(function(g){g.crossDomain&&(g.contents.script=!1)}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(g){return x.globalEval(g),g}}}),x.ajaxPrefilter("script",function(g){g.cache===void 0&&(g.cache=!1),g.crossDomain&&(g.type="GET")}),x.ajaxTransport("script",function(g){if(g.crossDomain||g.scriptAttrs){var w,P;return{send:function(I,V){w=x("<script>").attr(g.scriptAttrs||{}).prop({charset:g.scriptCharset,src:g.url}).on("load error",P=function(H){w.remove(),P=null,H&&V(H.type==="error"?404:200,H.type)}),S.head.appendChild(w[0])},abort:function(){P&&P()}}}});var Rp=[],Vf=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var g=Rp.pop()||x.expando+"_"+Mt.guid++;return this[g]=!0,g}}),x.ajaxPrefilter("json jsonp",function(g,w,P){var I,V,H,Y=g.jsonp!==!1&&(Vf.test(g.url)?"url":typeof g.data=="string"&&(g.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Vf.test(g.data)&&"data");if(Y||g.dataTypes[0]==="jsonp")return I=g.jsonpCallback=v(g.jsonpCallback)?g.jsonpCallback():g.jsonpCallback,Y?g[Y]=g[Y].replace(Vf,"$1"+I):g.jsonp!==!1&&(g.url+=(gn.test(g.url)?"&":"?")+g.jsonp+"="+I),g.converters["script json"]=function(){return H||x.error(I+" was not called"),H[0]},g.dataTypes[0]="json",V=t[I],t[I]=function(){H=arguments},P.always(function(){V===void 0?x(t).removeProp(I):t[I]=V,g[I]&&(g.jsonpCallback=w.jsonpCallback,Rp.push(I)),H&&v(V)&&V(H[0]),H=V=void 0}),"script"}),d.createHTMLDocument=function(){var g=S.implementation.createHTMLDocument("").body;return g.innerHTML="<form></form><form></form>",g.childNodes.length===2}(),x.parseHTML=function(g,w,P){if(typeof g!="string")return[];typeof w=="boolean"&&(P=w,w=!1);var I,V,H;return w||(d.createHTMLDocument?(w=S.implementation.createHTMLDocument(""),I=w.createElement("base"),I.href=S.location.href,w.head.appendChild(I)):w=S),V=Le.exec(g),H=!P&&[],V?[w.createElement(V[1])]:(V=Di([g],w,H),H&&H.length&&x(H).remove(),x.merge([],V.childNodes))},x.fn.load=function(g,w,P){var I,V,H,Y=this,Se=g.indexOf(" ");return Se>-1&&(I=ce(g.slice(Se)),g=g.slice(0,Se)),v(w)?(P=w,w=void 0):w&&typeof w=="object"&&(V="POST"),Y.length>0&&x.ajax({url:g,type:V||"GET",dataType:"html",data:w}).done(function(de){H=arguments,Y.html(I?x("<div>").append(x.parseHTML(de)).find(I):de)}).always(P&&function(de,Pe){Y.each(function(){P.apply(this,H||[de.responseText,Pe,de])})}),this},x.expr.pseudos.animated=function(g){return x.grep(x.timers,function(w){return g===w.elem}).length},x.offset={setOffset:function(g,w,P){var I,V,H,Y,Se,de,Pe,qe=x.css(g,"position"),at=x(g),Ge={};qe==="static"&&(g.style.position="relative"),Se=at.offset(),H=x.css(g,"top"),de=x.css(g,"left"),Pe=(qe==="absolute"||qe==="fixed")&&(H+de).indexOf("auto")>-1,Pe?(I=at.position(),Y=I.top,V=I.left):(Y=parseFloat(H)||0,V=parseFloat(de)||0),v(w)&&(w=w.call(g,P,x.extend({},Se))),w.top!=null&&(Ge.top=w.top-Se.top+Y),w.left!=null&&(Ge.left=w.left-Se.left+V),"using"in w?w.using.call(g,Ge):at.css(Ge)}},x.fn.extend({offset:function(g){if(arguments.length)return g===void 0?this:this.each(function(V){x.offset.setOffset(this,g,V)});var w,P,I=this[0];if(I)return I.getClientRects().length?(w=I.getBoundingClientRect(),P=I.ownerDocument.defaultView,{top:w.top+P.pageYOffset,left:w.left+P.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var g,w,P,I=this[0],V={top:0,left:0};if(x.css(I,"position")==="fixed")w=I.getBoundingClientRect();else{for(w=this.offset(),P=I.ownerDocument,g=I.offsetParent||P.documentElement;g&&(g===P.body||g===P.documentElement)&&x.css(g,"position")==="static";)g=g.parentNode;g&&g!==I&&g.nodeType===1&&(V=x(g).offset(),V.top+=x.css(g,"borderTopWidth",!0),V.left+=x.css(g,"borderLeftWidth",!0))}return{top:w.top-V.top-x.css(I,"marginTop",!0),left:w.left-V.left-x.css(I,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var g=this.offsetParent;g&&x.css(g,"position")==="static";)g=g.offsetParent;return g||vt})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(g,w){var P=w==="pageYOffset";x.fn[g]=function(I){return ve(this,function(V,H,Y){var Se;if(b(V)?Se=V:V.nodeType===9&&(Se=V.defaultView),Y===void 0)return Se?Se[w]:V[H];Se?Se.scrollTo(P?Se.pageXOffset:Y,P?Y:Se.pageYOffset):V[H]=Y},g,I,arguments.length)}}),x.each(["top","left"],function(g,w){x.cssHooks[w]=jt(d.pixelPosition,function(P,I){if(I)return I=Lt(P,w),Re.test(I)?x(P).position()[w]+"px":I})}),x.each({Height:"height",Width:"width"},function(g,w){x.each({padding:"inner"+g,content:w,"":"outer"+g},function(P,I){x.fn[I]=function(V,H){var Y=arguments.length&&(P||typeof V!="boolean"),Se=P||(V===!0||H===!0?"margin":"border");return ve(this,function(de,Pe,qe){var at;return b(de)?I.indexOf("outer")===0?de["inner"+g]:de.document.documentElement["client"+g]:de.nodeType===9?(at=de.documentElement,Math.max(de.body["scroll"+g],at["scroll"+g],de.body["offset"+g],at["offset"+g],at["client"+g])):qe===void 0?x.css(de,Pe,Se):x.style(de,Pe,qe,Se)},w,Y?V:void 0,Y)}})}),x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(g,w){x.fn[w]=function(P){return this.on(w,P)}}),x.fn.extend({bind:function(g,w,P){return this.on(g,null,w,P)},unbind:function(g,w){return this.off(g,null,w)},delegate:function(g,w,P,I){return this.on(w,g,P,I)},undelegate:function(g,w,P){return arguments.length===1?this.off(g,"**"):this.off(w,g||"**",P)},hover:function(g,w){return this.on("mouseenter",g).on("mouseleave",w||g)}}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(g,w){x.fn[w]=function(P,I){return arguments.length>0?this.on(w,null,P,I):this.trigger(w)}});var zg=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;x.proxy=function(g,w){var P,I,V;if(typeof w=="string"&&(P=g[w],w=g,g=P),!!v(g))return I=i.call(arguments,2),V=function(){return g.apply(w||this,I.concat(i.call(arguments)))},V.guid=g.guid=g.guid||x.guid++,V},x.holdReady=function(g){g?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=k,x.isFunction=v,x.isWindow=b,x.camelCase=$,x.type=E,x.now=Date.now,x.isNumeric=function(g){var w=x.type(g);return(w==="number"||w==="string")&&!isNaN(g-parseFloat(g))},x.trim=function(g){return g==null?"":(g+"").replace(zg,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return x});var Hg=t.jQuery,Vg=t.$;return x.noConflict=function(g){return t.$===x&&(t.$=Vg),g&&t.jQuery===x&&(t.jQuery=Hg),x},typeof e>"u"&&(t.jQuery=t.$=x),x})});var I3=kt((R3,fA)=>{(function(){"use strict";var t=function(e,n){e.rails!==n&&e.error("jquery-ujs has already been loaded!");var r,i=e(document);e.rails=r={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form:not([data-turbo=true])",formInputClickSelector:"form:not([data-turbo=true]) input[type=submit], form:not([data-turbo=true]) input[type=image], form:not([data-turbo=true]) button[type=submit], form:not([data-turbo=true]) button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(o){var s=r.csrfToken();s&&o.setRequestHeader("X-CSRF-Token",s)},refreshCSRFTokens:function(){e('form input[name="'+r.csrfParam()+'"]').val(r.csrfToken())},fire:function(o,s,a){var l=e.Event(s);return o.trigger(l,a),l.result!==!1},confirm:function(o){return confirm(o)},ajax:function(o){return e.ajax(o)},href:function(o){return o[0].href},isRemote:function(o){return o.data("remote")!==n&&o.data("remote")!==!1},handleRemote:function(o){var s,a,l,u,c,h;if(r.fire(o,"ajax:before")){if(u=o.data("with-credentials")||null,c=o.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,o.is("form")){s=o.data("ujs:submit-button-formmethod")||o.attr("method"),a=o.data("ujs:submit-button-formaction")||o.attr("action"),l=e(o[0]).serializeArray();var p=o.data("ujs:submit-button");p&&(l.push(p),o.data("ujs:submit-button",null)),o.data("ujs:submit-button-formmethod",null),o.data("ujs:submit-button-formaction",null)}else o.is(r.inputChangeSelector)?(s=o.data("method"),a=o.data("url"),l=o.serialize(),o.data("params")&&(l=l+"&"+o.data("params"))):o.is(r.buttonClickSelector)?(s=o.data("method")||"get",a=o.data("url"),l=o.serialize(),o.data("params")&&(l=l+"&"+o.data("params"))):(s=o.data("method"),a=r.href(o),l=o.data("params")||null);return h={type:s||"GET",data:l,dataType:c,beforeSend:function(d,v){if(v.dataType===n&&d.setRequestHeader("accept","*/*;q=0.5, "+v.accepts.script),r.fire(o,"ajax:beforeSend",[d,v]))o.trigger("ajax:send",d);else return!1},success:function(d,v,b){o.trigger("ajax:success",[d,v,b])},complete:function(d,v){o.trigger("ajax:complete",[d,v])},error:function(d,v,b){o.trigger("ajax:error",[d,v,b])},crossDomain:r.isCrossDomain(a)},u&&(h.xhrFields={withCredentials:u}),a&&(h.url=a),r.ajax(h)}else return!1},isCrossDomain:function(o){var s=document.createElement("a");s.href=location.href;var a=document.createElement("a");try{return a.href=o,a.href=a.href,!((!a.protocol||a.protocol===":")&&!a.host||s.protocol+"//"+s.host==a.protocol+"//"+a.host)}catch{return!0}},handleMethod:function(o){var s=r.href(o),a=o.data("method"),l=o.attr("target"),u=r.csrfToken(),c=r.csrfParam(),h=e('<form method="post" action="'+s+'"></form>'),p='<input name="_method" value="'+a+'" type="hidden" />';c!==n&&u!==n&&!r.isCrossDomain(s)&&(p+='<input name="'+c+'" value="'+u+'" type="hidden" />'),l&&h.attr("target",l),h.hide().append(p).appendTo("body"),h.submit()},formElements:function(o,s){return o.is("form")?e(o[0].elements).filter(s):o.find(s)},disableFormElements:function(o){r.formElements(o,r.disableSelector).each(function(){r.disableFormElement(e(this))})},disableFormElement:function(o){var s,a;s=o.is("button")?"html":"val",a=o.data("disable-with"),a!==n&&(o.data("ujs:enable-with",o[s]()),o[s](a)),o.prop("disabled",!0),o.data("ujs:disabled",!0)},enableFormElements:function(o){r.formElements(o,r.enableSelector).each(function(){r.enableFormElement(e(this))})},enableFormElement:function(o){var s=o.is("button")?"html":"val";o.data("ujs:enable-with")!==n&&(o[s](o.data("ujs:enable-with")),o.removeData("ujs:enable-with")),o.prop("disabled",!1),o.removeData("ujs:disabled")},allowAction:function(o){var s=o.data("confirm"),a=!1,l;if(!s)return!0;if(r.fire(o,"confirm")){try{a=r.confirm(s)}catch(u){(console.error||console.log).call(console,u.stack||u)}l=r.fire(o,"confirm:complete",[a])}return a&&l},blankInputs:function(o,s,a){var l=e(),u,c,h,p,d=s||"input,textarea",v=o.find(d),b={};return v.each(function(){u=e(this),u.is("input[type=radio]")?(p=u.attr("name"),b[p]||(o.find('input[type=radio]:checked[name="'+p+'"]').length===0&&(h=o.find('input[type=radio][name="'+p+'"]'),l=l.add(h)),b[p]=p)):(c=u.is("input[type=checkbox],input[type=radio]")?u.is(":checked"):!!u.val(),c===a&&(l=l.add(u)))}),l.length?l:!1},nonBlankInputs:function(o,s){return r.blankInputs(o,s,!0)},stopEverything:function(o){return e(o.target).trigger("ujs:everythingStopped"),o.stopImmediatePropagation(),!1},disableElement:function(o){var s=o.data("disable-with");s!==n&&(o.data("ujs:enable-with",o.html()),o.html(s)),o.on("click.railsDisable",function(a){return r.stopEverything(a)}),o.data("ujs:disabled",!0)},enableElement:function(o){o.data("ujs:enable-with")!==n&&(o.html(o.data("ujs:enable-with")),o.removeData("ujs:enable-with")),o.off("click.railsDisable"),o.removeData("ujs:disabled")}},r.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(o,s,a){o.crossDomain||r.CSRFProtection(a)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var o=e(this);o.data("ujs:disabled")&&e.rails.enableFormElement(o)}),e(e.rails.linkDisableSelector).each(function(){var o=e(this);o.data("ujs:disabled")&&e.rails.enableElement(o)})}),i.on("ajax:complete",r.linkDisableSelector,function(){r.enableElement(e(this))}),i.on("ajax:complete",r.buttonDisableSelector,function(){r.enableFormElement(e(this))}),i.on("click.rails",r.linkClickSelector,function(o){var s=e(this),a=s.data("method"),l=s.data("params"),u=o.metaKey||o.ctrlKey;if(!r.allowAction(s))return r.stopEverything(o);if(!u&&s.is(r.linkDisableSelector)&&r.disableElement(s),r.isRemote(s)){if(u&&(!a||a==="GET")&&!l)return!0;var c=r.handleRemote(s);return c===!1?r.enableElement(s):c.fail(function(){r.enableElement(s)}),!1}else if(a)return r.handleMethod(s),!1}),i.on("click.rails",r.buttonClickSelector,function(o){var s=e(this);if(!r.allowAction(s)||!r.isRemote(s))return r.stopEverything(o);s.is(r.buttonDisableSelector)&&r.disableFormElement(s);var a=r.handleRemote(s);return a===!1?r.enableFormElement(s):a.fail(function(){r.enableFormElement(s)}),!1}),i.on("change.rails",r.inputChangeSelector,function(o){var s=e(this);return!r.allowAction(s)||!r.isRemote(s)?r.stopEverything(o):(r.handleRemote(s),!1)}),i.on("submit.rails",r.formSubmitSelector,function(o){var s=e(this),a=r.isRemote(s),l,u;if(!r.allowAction(s))return r.stopEverything(o);if(s.attr("novalidate")===n)if(s.data("ujs:formnovalidate-button")===n){if(l=r.blankInputs(s,r.requiredInputSelector,!1),l&&r.fire(s,"ajax:aborted:required",[l]))return r.stopEverything(o)}else s.data("ujs:formnovalidate-button",n);if(a){if(u=r.nonBlankInputs(s,r.fileInputSelector),u){setTimeout(function(){r.disableFormElements(s)},13);var c=r.fire(s,"ajax:aborted:file",[u]);return c||setTimeout(function(){r.enableFormElements(s)},13),c}return r.handleRemote(s),!1}else setTimeout(function(){r.disableFormElements(s)},13)}),i.on("click.rails",r.formInputClickSelector,function(o){var s=e(this);if(!r.allowAction(s))return r.stopEverything(o);var a=s.attr("name"),l=a?{name:a,value:s.val()}:null,u=s.closest("form");u.length===0&&(u=e("#"+s.attr("form"))),u.data("ujs:submit-button",l),u.data("ujs:formnovalidate-button",s.attr("formnovalidate")),u.data("ujs:submit-button-formaction",s.attr("formaction")),u.data("ujs:submit-button-formmethod",s.attr("formmethod"))}),i.on("ajax:send.rails",r.formSubmitSelector,function(o){this===o.target&&r.disableFormElements(e(this))}),i.on("ajax:complete.rails",r.formSubmitSelector,function(o){this===o.target&&r.enableFormElements(e(this))}),e(function(){r.refreshCSRFTokens()}))};window.jQuery?t(jQuery):typeof R3=="object"&&typeof fA=="object"&&(fA.exports=t)})()});var X3=kt(Gn=>{"use strict";var $g=Symbol.for("react.element"),_re=Symbol.for("react.portal"),Sre=Symbol.for("react.fragment"),bre=Symbol.for("react.strict_mode"),wre=Symbol.for("react.profiler"),Ere=Symbol.for("react.provider"),Tre=Symbol.for("react.context"),Cre=Symbol.for("react.forward_ref"),Mre=Symbol.for("react.suspense"),Are=Symbol.for("react.memo"),Pre=Symbol.for("react.lazy"),D3=Symbol.iterator;function Rre(t){return t===null||typeof t!="object"?null:(t=D3&&t[D3]||t["@@iterator"],typeof t=="function"?t:null)}var U3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B3=Object.assign,z3={};function Up(t,e,n){this.props=t,this.context=e,this.refs=z3,this.updater=n||U3}Up.prototype.isReactComponent={};Up.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Up.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function H3(){}H3.prototype=Up.prototype;function pA(t,e,n){this.props=t,this.context=e,this.refs=z3,this.updater=n||U3}var dA=pA.prototype=new H3;dA.constructor=pA;B3(dA,Up.prototype);dA.isPureReactComponent=!0;var k3=Array.isArray,V3=Object.prototype.hasOwnProperty,mA={current:null},W3={key:!0,ref:!0,__self:!0,__source:!0};function G3(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)V3.call(e,r)&&!W3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$g,type:t,key:o,ref:s,props:i,_owner:mA.current}}function Ire(t,e){return{$$typeof:$g,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gA(t){return typeof t=="object"&&t!==null&&t.$$typeof===$g}function Nre(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var F3=/\/+/g;function hA(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Nre(""+t.key):e.toString(36)}function r_(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case $g:case _re:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+hA(s,0):r,k3(i)?(n="",t!=null&&(n=t.replace(F3,"$&/")+"/"),r_(i,e,n,"",function(u){return u})):i!=null&&(gA(i)&&(i=Ire(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(F3,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",k3(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+hA(o,a);s+=r_(o,e,n,l,i)}else if(l=Rre(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+hA(o,a++),s+=r_(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function n_(t,e,n){if(t==null)return t;var r=[],i=0;return r_(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Ore(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Po={current:null},i_={transition:null},Lre={ReactCurrentDispatcher:Po,ReactCurrentBatchConfig:i_,ReactCurrentOwner:mA};function $3(){throw Error("act(...) is not supported in production builds of React.")}Gn.Children={map:n_,forEach:function(t,e,n){n_(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return n_(t,function(){e++}),e},toArray:function(t){return n_(t,function(e){return e})||[]},only:function(t){if(!gA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Gn.Component=Up;Gn.Fragment=Sre;Gn.Profiler=wre;Gn.PureComponent=pA;Gn.StrictMode=bre;Gn.Suspense=Mre;Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lre;Gn.act=$3;Gn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=B3({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=mA.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)V3.call(e,l)&&!W3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:$g,type:t.type,key:i,ref:o,props:r,_owner:s}};Gn.createContext=function(t){return t={$$typeof:Tre,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ere,_context:t},t.Consumer=t};Gn.createElement=G3;Gn.createFactory=function(t){var e=G3.bind(null,t);return e.type=t,e};Gn.createRef=function(){return{current:null}};Gn.forwardRef=function(t){return{$$typeof:Cre,render:t}};Gn.isValidElement=gA;Gn.lazy=function(t){return{$$typeof:Pre,_payload:{_status:-1,_result:t},_init:Ore}};Gn.memo=function(t,e){return{$$typeof:Are,type:t,compare:e===void 0?null:e}};Gn.startTransition=function(t){var e=i_.transition;i_.transition={};try{t()}finally{i_.transition=e}};Gn.unstable_act=$3;Gn.useCallback=function(t,e){return Po.current.useCallback(t,e)};Gn.useContext=function(t){return Po.current.useContext(t)};Gn.useDebugValue=function(){};Gn.useDeferredValue=function(t){return Po.current.useDeferredValue(t)};Gn.useEffect=function(t,e){return Po.current.useEffect(t,e)};Gn.useId=function(){return Po.current.useId()};Gn.useImperativeHandle=function(t,e,n){return Po.current.useImperativeHandle(t,e,n)};Gn.useInsertionEffect=function(t,e){return Po.current.useInsertionEffect(t,e)};Gn.useLayoutEffect=function(t,e){return Po.current.useLayoutEffect(t,e)};Gn.useMemo=function(t,e){return Po.current.useMemo(t,e)};Gn.useReducer=function(t,e,n){return Po.current.useReducer(t,e,n)};Gn.useRef=function(t){return Po.current.useRef(t)};Gn.useState=function(t){return Po.current.useState(t)};Gn.useSyncExternalStore=function(t,e,n){return Po.current.useSyncExternalStore(t,e,n)};Gn.useTransition=function(){return Po.current.useTransition()};Gn.version="18.3.1"});var me=kt((cPe,j3)=>{"use strict";j3.exports=X3()});var q3=kt(o_=>{"use strict";var Dre=me(),kre=Symbol.for("react.element"),Fre=Symbol.for("react.fragment"),Ure=Object.prototype.hasOwnProperty,Bre=Dre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zre={key:!0,ref:!0,__self:!0,__source:!0};function Y3(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Ure.call(e,r)&&!zre.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:kre,type:t,key:o,ref:s,props:i,_owner:Bre.current}}o_.Fragment=Fre;o_.jsx=Y3;o_.jsxs=Y3});var $e=kt((hPe,Z3)=>{"use strict";Z3.exports=q3()});var sF=kt(wr=>{"use strict";function _A(t,e){var n=t.length;t.push(e);e:for(;0<n;){var r=n-1>>>1,i=t[r];if(0<s_(i,e))t[r]=e,t[n]=i,n=r;else break e}}function Ba(t){return t.length===0?null:t[0]}function l_(t){if(t.length===0)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;e:for(var r=0,i=t.length,o=i>>>1;r<o;){var s=2*(r+1)-1,a=t[s],l=s+1,u=t[l];if(0>s_(a,n))l<i&&0>s_(u,a)?(t[r]=u,t[l]=n,r=l):(t[r]=a,t[s]=n,r=s);else if(l<i&&0>s_(u,n))t[r]=u,t[l]=n,r=l;else break e}}return e}function s_(t,e){var n=t.sortIndex-e.sortIndex;return n!==0?n:t.id-e.id}typeof performance=="object"&&typeof performance.now=="function"?(K3=performance,wr.unstable_now=function(){return K3.now()}):(vA=Date,J3=vA.now(),wr.unstable_now=function(){return vA.now()-J3});var K3,vA,J3,vl=[],cc=[],Hre=1,oa=null,mo=3,u_=!1,Xf=!1,jg=!1,tF=typeof setTimeout=="function"?setTimeout:null,nF=typeof clearTimeout=="function"?clearTimeout:null,Q3=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function SA(t){for(var e=Ba(cc);e!==null;){if(e.callback===null)l_(cc);else if(e.startTime<=t)l_(cc),e.sortIndex=e.expirationTime,_A(vl,e);else break;e=Ba(cc)}}function bA(t){if(jg=!1,SA(t),!Xf)if(Ba(vl)!==null)Xf=!0,EA(wA);else{var e=Ba(cc);e!==null&&TA(bA,e.startTime-t)}}function wA(t,e){Xf=!1,jg&&(jg=!1,nF(Yg),Yg=-1),u_=!0;var n=mo;try{for(SA(e),oa=Ba(vl);oa!==null&&(!(oa.expirationTime>e)||t&&!oF());){var r=oa.callback;if(typeof r=="function"){oa.callback=null,mo=oa.priorityLevel;var i=r(oa.expirationTime<=e);e=wr.unstable_now(),typeof i=="function"?oa.callback=i:oa===Ba(vl)&&l_(vl),SA(e)}else l_(vl);oa=Ba(vl)}if(oa!==null)var o=!0;else{var s=Ba(cc);s!==null&&TA(bA,s.startTime-e),o=!1}return o}finally{oa=null,mo=n,u_=!1}}var c_=!1,a_=null,Yg=-1,rF=5,iF=-1;function oF(){return!(wr.unstable_now()-iF<rF)}function yA(){if(a_!==null){var t=wr.unstable_now();iF=t;var e=!0;try{e=a_(!0,t)}finally{e?Xg():(c_=!1,a_=null)}}else c_=!1}var Xg;typeof Q3=="function"?Xg=function(){Q3(yA)}:typeof MessageChannel<"u"?(xA=new MessageChannel,eF=xA.port2,xA.port1.onmessage=yA,Xg=function(){eF.postMessage(null)}):Xg=function(){tF(yA,0)};var xA,eF;function EA(t){a_=t,c_||(c_=!0,Xg())}function TA(t,e){Yg=tF(function(){t(wr.unstable_now())},e)}wr.unstable_IdlePriority=5;wr.unstable_ImmediatePriority=1;wr.unstable_LowPriority=4;wr.unstable_NormalPriority=3;wr.unstable_Profiling=null;wr.unstable_UserBlockingPriority=2;wr.unstable_cancelCallback=function(t){t.callback=null};wr.unstable_continueExecution=function(){Xf||u_||(Xf=!0,EA(wA))};wr.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):rF=0<t?Math.floor(1e3/t):5};wr.unstable_getCurrentPriorityLevel=function(){return mo};wr.unstable_getFirstCallbackNode=function(){return Ba(vl)};wr.unstable_next=function(t){switch(mo){case 1:case 2:case 3:var e=3;break;default:e=mo}var n=mo;mo=e;try{return t()}finally{mo=n}};wr.unstable_pauseExecution=function(){};wr.unstable_requestPaint=function(){};wr.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=mo;mo=t;try{return e()}finally{mo=n}};wr.unstable_scheduleCallback=function(t,e,n){var r=wr.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,t){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=n+i,t={id:Hre++,callback:e,priorityLevel:t,startTime:n,expirationTime:i,sortIndex:-1},n>r?(t.sortIndex=n,_A(cc,t),Ba(vl)===null&&t===Ba(cc)&&(jg?(nF(Yg),Yg=-1):jg=!0,TA(bA,n-r))):(t.sortIndex=i,_A(vl,t),Xf||u_||(Xf=!0,EA(wA))),t};wr.unstable_shouldYield=oF;wr.unstable_wrapCallback=function(t){var e=mo;return function(){var n=mo;mo=e;try{return t.apply(this,arguments)}finally{mo=n}}}});var lF=kt((dPe,aF)=>{"use strict";aF.exports=sF()});var h4=kt(As=>{"use strict";var Vre=me(),Cs=lF();function Rt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mU=new Set,gv={};function oh(t,e){od(t,e),od(t+"Capture",e)}function od(t,e){for(gv[t]=e,t=0;t<e.length;t++)mU.add(e[t])}var cu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),YA=Object.prototype.hasOwnProperty,Wre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uF={},cF={};function Gre(t){return YA.call(cF,t)?!0:YA.call(uF,t)?!1:Wre.test(t)?cF[t]=!0:(uF[t]=!0,!1)}function $re(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Xre(t,e,n,r){if(e===null||typeof e>"u"||$re(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function No(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var no={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){no[t]=new No(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];no[e]=new No(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){no[t]=new No(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){no[t]=new No(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){no[t]=new No(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){no[t]=new No(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){no[t]=new No(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){no[t]=new No(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){no[t]=new No(t,5,!1,t.toLowerCase(),null,!1,!1)});var zP=/[\-:]([a-z])/g;function HP(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zP,HP);no[e]=new No(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zP,HP);no[e]=new No(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zP,HP);no[e]=new No(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){no[t]=new No(t,1,!1,t.toLowerCase(),null,!1,!1)});no.xlinkHref=new No("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){no[t]=new No(t,1,!1,t.toLowerCase(),null,!0,!0)});function VP(t,e,n,r){var i=no.hasOwnProperty(e)?no[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Xre(e,n,i,r)&&(n=null),r||i===null?Gre(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var du=Vre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,f_=Symbol.for("react.element"),Hp=Symbol.for("react.portal"),Vp=Symbol.for("react.fragment"),WP=Symbol.for("react.strict_mode"),qA=Symbol.for("react.profiler"),gU=Symbol.for("react.provider"),vU=Symbol.for("react.context"),GP=Symbol.for("react.forward_ref"),ZA=Symbol.for("react.suspense"),KA=Symbol.for("react.suspense_list"),$P=Symbol.for("react.memo"),hc=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var yU=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var fF=Symbol.iterator;function qg(t){return t===null||typeof t!="object"?null:(t=fF&&t[fF]||t["@@iterator"],typeof t=="function"?t:null)}var Hr=Object.assign,CA;function rv(t){if(CA===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);CA=e&&e[1]||""}return`
`+CA+t}var MA=!1;function AA(t,e){if(!t||MA)return"";MA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{MA=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rv(t):""}function jre(t){switch(t.tag){case 5:return rv(t.type);case 16:return rv("Lazy");case 13:return rv("Suspense");case 19:return rv("SuspenseList");case 0:case 2:case 15:return t=AA(t.type,!1),t;case 11:return t=AA(t.type.render,!1),t;case 1:return t=AA(t.type,!0),t;default:return""}}function JA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vp:return"Fragment";case Hp:return"Portal";case qA:return"Profiler";case WP:return"StrictMode";case ZA:return"Suspense";case KA:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vU:return(t.displayName||"Context")+".Consumer";case gU:return(t._context.displayName||"Context")+".Provider";case GP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $P:return e=t.displayName||null,e!==null?e:JA(t.type)||"Memo";case hc:e=t._payload,t=t._init;try{return JA(t(e))}catch{}}return null}function Yre(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return JA(e);case 8:return e===WP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xU(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qre(t){var e=xU(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function h_(t){t._valueTracker||(t._valueTracker=qre(t))}function _U(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xU(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function z_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function QA(t,e){var n=e.checked;return Hr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hF(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Cc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function SU(t,e){e=e.checked,e!=null&&VP(t,"checked",e,!1)}function eP(t,e){SU(t,e);var n=Cc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tP(t,e.type,n):e.hasOwnProperty("defaultValue")&&tP(t,e.type,Cc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pF(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tP(t,e,n){(e!=="number"||z_(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var iv=Array.isArray;function Qp(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nP(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Rt(91));return Hr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dF(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Rt(92));if(iv(n)){if(1<n.length)throw Error(Rt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cc(n)}}function bU(t,e){var n=Cc(e.value),r=Cc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function mF(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wU(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rP(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wU(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var p_,EU=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(p_=p_||document.createElement("div"),p_.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=p_.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vv(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var av={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zre=["Webkit","ms","Moz","O"];Object.keys(av).forEach(function(t){Zre.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),av[e]=av[t]})});function TU(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||av.hasOwnProperty(t)&&av[t]?(""+e).trim():e+"px"}function CU(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=TU(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Kre=Hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iP(t,e){if(e){if(Kre[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Rt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Rt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Rt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Rt(62))}}function oP(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sP=null;function XP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var aP=null,ed=null,td=null;function gF(t){if(t=Dv(t)){if(typeof aP!="function")throw Error(Rt(280));var e=t.stateNode;e&&(e=dS(e),aP(t.stateNode,t.type,e))}}function MU(t){ed?td?td.push(t):td=[t]:ed=t}function AU(){if(ed){var t=ed,e=td;if(td=ed=null,gF(t),e)for(t=0;t<e.length;t++)gF(e[t])}}function PU(t,e){return t(e)}function RU(){}var PA=!1;function IU(t,e,n){if(PA)return t(e,n);PA=!0;try{return PU(t,e,n)}finally{PA=!1,(ed!==null||td!==null)&&(RU(),AU())}}function yv(t,e){var n=t.stateNode;if(n===null)return null;var r=dS(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Rt(231,e,typeof n));return n}var lP=!1;if(cu)try{Bp={},Object.defineProperty(Bp,"passive",{get:function(){lP=!0}}),window.addEventListener("test",Bp,Bp),window.removeEventListener("test",Bp,Bp)}catch{lP=!1}var Bp;function Jre(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var lv=!1,H_=null,V_=!1,uP=null,Qre={onError:function(t){lv=!0,H_=t}};function eie(t,e,n,r,i,o,s,a,l){lv=!1,H_=null,Jre.apply(Qre,arguments)}function tie(t,e,n,r,i,o,s,a,l){if(eie.apply(this,arguments),lv){if(lv){var u=H_;lv=!1,H_=null}else throw Error(Rt(198));V_||(V_=!0,uP=u)}}function sh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function NU(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vF(t){if(sh(t)!==t)throw Error(Rt(188))}function nie(t){var e=t.alternate;if(!e){if(e=sh(t),e===null)throw Error(Rt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return vF(i),t;if(o===r)return vF(i),e;o=o.sibling}throw Error(Rt(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Rt(189))}}if(n.alternate!==r)throw Error(Rt(190))}if(n.tag!==3)throw Error(Rt(188));return n.stateNode.current===n?t:e}function OU(t){return t=nie(t),t!==null?LU(t):null}function LU(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=LU(t);if(e!==null)return e;t=t.sibling}return null}var DU=Cs.unstable_scheduleCallback,yF=Cs.unstable_cancelCallback,rie=Cs.unstable_shouldYield,iie=Cs.unstable_requestPaint,ai=Cs.unstable_now,oie=Cs.unstable_getCurrentPriorityLevel,jP=Cs.unstable_ImmediatePriority,kU=Cs.unstable_UserBlockingPriority,W_=Cs.unstable_NormalPriority,sie=Cs.unstable_LowPriority,FU=Cs.unstable_IdlePriority,cS=null,Sl=null;function aie(t){if(Sl&&typeof Sl.onCommitFiberRoot=="function")try{Sl.onCommitFiberRoot(cS,t,void 0,(t.current.flags&128)===128)}catch{}}var Ga=Math.clz32?Math.clz32:cie,lie=Math.log,uie=Math.LN2;function cie(t){return t>>>=0,t===0?32:31-(lie(t)/uie|0)|0}var d_=64,m_=4194304;function ov(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function G_(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ov(a):(o&=s,o!==0&&(r=ov(o)))}else s=n&~i,s!==0?r=ov(s):o!==0&&(r=ov(o));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ga(e),i=1<<n,r|=t[n],e&=~i;return r}function fie(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hie(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ga(o),a=1<<s,l=i[s];l===-1?((a&n)===0||(a&r)!==0)&&(i[s]=fie(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function cP(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function UU(){var t=d_;return d_<<=1,(d_&4194240)===0&&(d_=64),t}function RA(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ov(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ga(e),t[e]=n}function pie(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ga(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function YP(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ga(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ur=0;function BU(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var zU,qP,HU,VU,WU,fP=!1,g_=[],yc=null,xc=null,_c=null,xv=new Map,_v=new Map,dc=[],die="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xF(t,e){switch(t){case"focusin":case"focusout":yc=null;break;case"dragenter":case"dragleave":xc=null;break;case"mouseover":case"mouseout":_c=null;break;case"pointerover":case"pointerout":xv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_v.delete(e.pointerId)}}function Zg(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Dv(e),e!==null&&qP(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function mie(t,e,n,r,i){switch(e){case"focusin":return yc=Zg(yc,t,e,n,r,i),!0;case"dragenter":return xc=Zg(xc,t,e,n,r,i),!0;case"mouseover":return _c=Zg(_c,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return xv.set(o,Zg(xv.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,_v.set(o,Zg(_v.get(o)||null,t,e,n,r,i)),!0}return!1}function GU(t){var e=qf(t.target);if(e!==null){var n=sh(e);if(n!==null){if(e=n.tag,e===13){if(e=NU(n),e!==null){t.blockedOn=e,WU(t.priority,function(){HU(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function R_(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hP(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sP=r,n.target.dispatchEvent(r),sP=null}else return e=Dv(n),e!==null&&qP(e),t.blockedOn=n,!1;e.shift()}return!0}function _F(t,e,n){R_(t)&&n.delete(e)}function gie(){fP=!1,yc!==null&&R_(yc)&&(yc=null),xc!==null&&R_(xc)&&(xc=null),_c!==null&&R_(_c)&&(_c=null),xv.forEach(_F),_v.forEach(_F)}function Kg(t,e){t.blockedOn===e&&(t.blockedOn=null,fP||(fP=!0,Cs.unstable_scheduleCallback(Cs.unstable_NormalPriority,gie)))}function Sv(t){function e(i){return Kg(i,t)}if(0<g_.length){Kg(g_[0],t);for(var n=1;n<g_.length;n++){var r=g_[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yc!==null&&Kg(yc,t),xc!==null&&Kg(xc,t),_c!==null&&Kg(_c,t),xv.forEach(e),_v.forEach(e),n=0;n<dc.length;n++)r=dc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<dc.length&&(n=dc[0],n.blockedOn===null);)GU(n),n.blockedOn===null&&dc.shift()}var nd=du.ReactCurrentBatchConfig,$_=!0;function vie(t,e,n,r){var i=ur,o=nd.transition;nd.transition=null;try{ur=1,ZP(t,e,n,r)}finally{ur=i,nd.transition=o}}function yie(t,e,n,r){var i=ur,o=nd.transition;nd.transition=null;try{ur=4,ZP(t,e,n,r)}finally{ur=i,nd.transition=o}}function ZP(t,e,n,r){if($_){var i=hP(t,e,n,r);if(i===null)FA(t,e,r,X_,n),xF(t,r);else if(mie(i,t,e,n,r))r.stopPropagation();else if(xF(t,r),e&4&&-1<die.indexOf(t)){for(;i!==null;){var o=Dv(i);if(o!==null&&zU(o),o=hP(t,e,n,r),o===null&&FA(t,e,r,X_,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else FA(t,e,r,null,n)}}var X_=null;function hP(t,e,n,r){if(X_=null,t=XP(r),t=qf(t),t!==null)if(e=sh(t),e===null)t=null;else if(n=e.tag,n===13){if(t=NU(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return X_=t,null}function $U(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oie()){case jP:return 1;case kU:return 4;case W_:case sie:return 16;case FU:return 536870912;default:return 16}default:return 16}}var gc=null,KP=null,I_=null;function XU(){if(I_)return I_;var t,e=KP,n=e.length,r,i="value"in gc?gc.value:gc.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return I_=i.slice(t,1<r?1-r:void 0)}function N_(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function v_(){return!0}function SF(){return!1}function Ms(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?v_:SF,this.isPropagationStopped=SF,this}return Hr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=v_)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=v_)},persist:function(){},isPersistent:v_}),e}var hd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},JP=Ms(hd),Lv=Hr({},hd,{view:0,detail:0}),xie=Ms(Lv),IA,NA,Jg,fS=Hr({},Lv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:QP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jg&&(Jg&&t.type==="mousemove"?(IA=t.screenX-Jg.screenX,NA=t.screenY-Jg.screenY):NA=IA=0,Jg=t),IA)},movementY:function(t){return"movementY"in t?t.movementY:NA}}),bF=Ms(fS),_ie=Hr({},fS,{dataTransfer:0}),Sie=Ms(_ie),bie=Hr({},Lv,{relatedTarget:0}),OA=Ms(bie),wie=Hr({},hd,{animationName:0,elapsedTime:0,pseudoElement:0}),Eie=Ms(wie),Tie=Hr({},hd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cie=Ms(Tie),Mie=Hr({},hd,{data:0}),wF=Ms(Mie),Aie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iie(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Rie[t])?!!e[t]:!1}function QP(){return Iie}var Nie=Hr({},Lv,{key:function(t){if(t.key){var e=Aie[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=N_(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pie[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:QP,charCode:function(t){return t.type==="keypress"?N_(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?N_(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oie=Ms(Nie),Lie=Hr({},fS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EF=Ms(Lie),Die=Hr({},Lv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:QP}),kie=Ms(Die),Fie=Hr({},hd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uie=Ms(Fie),Bie=Hr({},fS,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zie=Ms(Bie),Hie=[9,13,27,32],eR=cu&&"CompositionEvent"in window,uv=null;cu&&"documentMode"in document&&(uv=document.documentMode);var Vie=cu&&"TextEvent"in window&&!uv,jU=cu&&(!eR||uv&&8<uv&&11>=uv),TF=" ",CF=!1;function YU(t,e){switch(t){case"keyup":return Hie.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qU(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wp=!1;function Wie(t,e){switch(t){case"compositionend":return qU(e);case"keypress":return e.which!==32?null:(CF=!0,TF);case"textInput":return t=e.data,t===TF&&CF?null:t;default:return null}}function Gie(t,e){if(Wp)return t==="compositionend"||!eR&&YU(t,e)?(t=XU(),I_=KP=gc=null,Wp=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jU&&e.locale!=="ko"?null:e.data;default:return null}}var $ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MF(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$ie[t.type]:e==="textarea"}function ZU(t,e,n,r){MU(r),e=j_(e,"onChange"),0<e.length&&(n=new JP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cv=null,bv=null;function Xie(t){aB(t,0)}function hS(t){var e=Xp(t);if(_U(e))return t}function jie(t,e){if(t==="change")return e}var KU=!1;cu&&(cu?(x_="oninput"in document,x_||(LA=document.createElement("div"),LA.setAttribute("oninput","return;"),x_=typeof LA.oninput=="function"),y_=x_):y_=!1,KU=y_&&(!document.documentMode||9<document.documentMode));var y_,x_,LA;function AF(){cv&&(cv.detachEvent("onpropertychange",JU),bv=cv=null)}function JU(t){if(t.propertyName==="value"&&hS(bv)){var e=[];ZU(e,bv,t,XP(t)),IU(Xie,e)}}function Yie(t,e,n){t==="focusin"?(AF(),cv=e,bv=n,cv.attachEvent("onpropertychange",JU)):t==="focusout"&&AF()}function qie(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hS(bv)}function Zie(t,e){if(t==="click")return hS(e)}function Kie(t,e){if(t==="input"||t==="change")return hS(e)}function Jie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xa=typeof Object.is=="function"?Object.is:Jie;function wv(t,e){if(Xa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!YA.call(e,i)||!Xa(t[i],e[i]))return!1}return!0}function PF(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function RF(t,e){var n=PF(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=PF(n)}}function QU(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QU(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eB(){for(var t=window,e=z_();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=z_(t.document)}return e}function tR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qie(t){var e=eB(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&QU(n.ownerDocument.documentElement,n)){if(r!==null&&tR(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=RF(n,o);var s=RF(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eoe=cu&&"documentMode"in document&&11>=document.documentMode,Gp=null,pP=null,fv=null,dP=!1;function IF(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dP||Gp==null||Gp!==z_(r)||(r=Gp,"selectionStart"in r&&tR(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fv&&wv(fv,r)||(fv=r,r=j_(pP,"onSelect"),0<r.length&&(e=new JP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Gp)))}function __(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $p={animationend:__("Animation","AnimationEnd"),animationiteration:__("Animation","AnimationIteration"),animationstart:__("Animation","AnimationStart"),transitionend:__("Transition","TransitionEnd")},DA={},tB={};cu&&(tB=document.createElement("div").style,"AnimationEvent"in window||(delete $p.animationend.animation,delete $p.animationiteration.animation,delete $p.animationstart.animation),"TransitionEvent"in window||delete $p.transitionend.transition);function pS(t){if(DA[t])return DA[t];if(!$p[t])return t;var e=$p[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tB)return DA[t]=e[n];return t}var nB=pS("animationend"),rB=pS("animationiteration"),iB=pS("animationstart"),oB=pS("transitionend"),sB=new Map,NF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ac(t,e){sB.set(t,e),oh(e,[t])}for(S_=0;S_<NF.length;S_++)b_=NF[S_],OF=b_.toLowerCase(),LF=b_[0].toUpperCase()+b_.slice(1),Ac(OF,"on"+LF);var b_,OF,LF,S_;Ac(nB,"onAnimationEnd");Ac(rB,"onAnimationIteration");Ac(iB,"onAnimationStart");Ac("dblclick","onDoubleClick");Ac("focusin","onFocus");Ac("focusout","onBlur");Ac(oB,"onTransitionEnd");od("onMouseEnter",["mouseout","mouseover"]);od("onMouseLeave",["mouseout","mouseover"]);od("onPointerEnter",["pointerout","pointerover"]);od("onPointerLeave",["pointerout","pointerover"]);oh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oh("onBeforeInput",["compositionend","keypress","textInput","paste"]);oh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),toe=new Set("cancel close invalid load scroll toggle".split(" ").concat(sv));function DF(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,tie(r,e,void 0,t),t.currentTarget=null}function aB(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;DF(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;DF(i,a,u),o=l}}}if(V_)throw t=uP,V_=!1,uP=null,t}function Rr(t,e){var n=e[xP];n===void 0&&(n=e[xP]=new Set);var r=t+"__bubble";n.has(r)||(lB(e,t,2,!1),n.add(r))}function kA(t,e,n){var r=0;e&&(r|=4),lB(n,t,r,e)}var w_="_reactListening"+Math.random().toString(36).slice(2);function Ev(t){if(!t[w_]){t[w_]=!0,mU.forEach(function(n){n!=="selectionchange"&&(toe.has(n)||kA(n,!1,t),kA(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[w_]||(e[w_]=!0,kA("selectionchange",!1,e))}}function lB(t,e,n,r){switch($U(e)){case 1:var i=vie;break;case 4:i=yie;break;default:i=ZP}n=i.bind(null,e,n,t),i=void 0,!lP||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function FA(t,e,n,r,i){var o=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=qf(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}IU(function(){var u=o,c=XP(n),h=[];e:{var p=sB.get(t);if(p!==void 0){var d=JP,v=t;switch(t){case"keypress":if(N_(n)===0)break e;case"keydown":case"keyup":d=Oie;break;case"focusin":v="focus",d=OA;break;case"focusout":v="blur",d=OA;break;case"beforeblur":case"afterblur":d=OA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=bF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Sie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=kie;break;case nB:case rB:case iB:d=Eie;break;case oB:d=Uie;break;case"scroll":d=xie;break;case"wheel":d=zie;break;case"copy":case"cut":case"paste":d=Cie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=EF}var b=(e&4)!==0,S=!b&&t==="scroll",y=b?p!==null?p+"Capture":null:p;b=[];for(var T=u,E;T!==null;){E=T;var A=E.stateNode;if(E.tag===5&&A!==null&&(E=A,y!==null&&(A=yv(T,y),A!=null&&b.push(Tv(T,A,E)))),S)break;T=T.return}0<b.length&&(p=new d(p,v,null,n,c),h.push({event:p,listeners:b}))}}if((e&7)===0){e:{if(p=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",p&&n!==sP&&(v=n.relatedTarget||n.fromElement)&&(qf(v)||v[fu]))break e;if((d||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,d?(v=n.relatedTarget||n.toElement,d=u,v=v?qf(v):null,v!==null&&(S=sh(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(d=null,v=u),d!==v)){if(b=bF,A="onMouseLeave",y="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(b=EF,A="onPointerLeave",y="onPointerEnter",T="pointer"),S=d==null?p:Xp(d),E=v==null?p:Xp(v),p=new b(A,T+"leave",d,n,c),p.target=S,p.relatedTarget=E,A=null,qf(c)===u&&(b=new b(y,T+"enter",v,n,c),b.target=E,b.relatedTarget=S,A=b),S=A,d&&v)t:{for(b=d,y=v,T=0,E=b;E;E=zp(E))T++;for(E=0,A=y;A;A=zp(A))E++;for(;0<T-E;)b=zp(b),T--;for(;0<E-T;)y=zp(y),E--;for(;T--;){if(b===y||y!==null&&b===y.alternate)break t;b=zp(b),y=zp(y)}b=null}else b=null;d!==null&&kF(h,p,d,b,!1),v!==null&&S!==null&&kF(h,S,v,b,!0)}}e:{if(p=u?Xp(u):window,d=p.nodeName&&p.nodeName.toLowerCase(),d==="select"||d==="input"&&p.type==="file")var N=jie;else if(MF(p))if(KU)N=Kie;else{N=qie;var x=Yie}else(d=p.nodeName)&&d.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=Zie);if(N&&(N=N(t,u))){ZU(h,N,n,c);break e}x&&x(t,p,u),t==="focusout"&&(x=p._wrapperState)&&x.controlled&&p.type==="number"&&tP(p,"number",p.value)}switch(x=u?Xp(u):window,t){case"focusin":(MF(x)||x.contentEditable==="true")&&(Gp=x,pP=u,fv=null);break;case"focusout":fv=pP=Gp=null;break;case"mousedown":dP=!0;break;case"contextmenu":case"mouseup":case"dragend":dP=!1,IF(h,n,c);break;case"selectionchange":if(eoe)break;case"keydown":case"keyup":IF(h,n,c)}var D;if(eR)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wp?YU(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(jU&&n.locale!=="ko"&&(Wp||k!=="onCompositionStart"?k==="onCompositionEnd"&&Wp&&(D=XU()):(gc=c,KP="value"in gc?gc.value:gc.textContent,Wp=!0)),x=j_(u,k),0<x.length&&(k=new wF(k,t,null,n,c),h.push({event:k,listeners:x}),D?k.data=D:(D=qU(n),D!==null&&(k.data=D)))),(D=Vie?Wie(t,n):Gie(t,n))&&(u=j_(u,"onBeforeInput"),0<u.length&&(c=new wF("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=D))}aB(h,e)})}function Tv(t,e,n){return{instance:t,listener:e,currentTarget:n}}function j_(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=yv(t,n),o!=null&&r.unshift(Tv(t,o,i)),o=yv(t,e),o!=null&&r.push(Tv(t,o,i))),t=t.return}return r}function zp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kF(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=yv(n,o),l!=null&&s.unshift(Tv(n,l,a))):i||(l=yv(n,o),l!=null&&s.push(Tv(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var noe=/\r\n?/g,roe=/\u0000|\uFFFD/g;function FF(t){return(typeof t=="string"?t:""+t).replace(noe,`
`).replace(roe,"")}function E_(t,e,n){if(e=FF(e),FF(t)!==e&&n)throw Error(Rt(425))}function Y_(){}var mP=null,gP=null;function vP(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yP=typeof setTimeout=="function"?setTimeout:void 0,ioe=typeof clearTimeout=="function"?clearTimeout:void 0,UF=typeof Promise=="function"?Promise:void 0,ooe=typeof queueMicrotask=="function"?queueMicrotask:typeof UF<"u"?function(t){return UF.resolve(null).then(t).catch(soe)}:yP;function soe(t){setTimeout(function(){throw t})}function UA(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Sv(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sv(e)}function Sc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function BF(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pd=Math.random().toString(36).slice(2),_l="__reactFiber$"+pd,Cv="__reactProps$"+pd,fu="__reactContainer$"+pd,xP="__reactEvents$"+pd,aoe="__reactListeners$"+pd,loe="__reactHandles$"+pd;function qf(t){var e=t[_l];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fu]||n[_l]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=BF(t);t!==null;){if(n=t[_l])return n;t=BF(t)}return e}t=n,n=t.parentNode}return null}function Dv(t){return t=t[_l]||t[fu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xp(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Rt(33))}function dS(t){return t[Cv]||null}var _P=[],jp=-1;function Pc(t){return{current:t}}function Ir(t){0>jp||(t.current=_P[jp],_P[jp]=null,jp--)}function Er(t,e){jp++,_P[jp]=t.current,t.current=e}var Mc={},xo=Pc(Mc),rs=Pc(!1),eh=Mc;function sd(t,e){var n=t.type.contextTypes;if(!n)return Mc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function is(t){return t=t.childContextTypes,t!=null}function q_(){Ir(rs),Ir(xo)}function zF(t,e,n){if(xo.current!==Mc)throw Error(Rt(168));Er(xo,e),Er(rs,n)}function uB(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Rt(108,Yre(t)||"Unknown",i));return Hr({},n,r)}function Z_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mc,eh=xo.current,Er(xo,t),Er(rs,rs.current),!0}function HF(t,e,n){var r=t.stateNode;if(!r)throw Error(Rt(169));n?(t=uB(t,e,eh),r.__reactInternalMemoizedMergedChildContext=t,Ir(rs),Ir(xo),Er(xo,t)):Ir(rs),Er(rs,n)}var su=null,mS=!1,BA=!1;function cB(t){su===null?su=[t]:su.push(t)}function uoe(t){mS=!0,cB(t)}function Rc(){if(!BA&&su!==null){BA=!0;var t=0,e=ur;try{var n=su;for(ur=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}su=null,mS=!1}catch(i){throw su!==null&&(su=su.slice(t+1)),DU(jP,Rc),i}finally{ur=e,BA=!1}}return null}var Yp=[],qp=0,K_=null,J_=0,sa=[],aa=0,th=null,au=1,lu="";function jf(t,e){Yp[qp++]=J_,Yp[qp++]=K_,K_=t,J_=e}function fB(t,e,n){sa[aa++]=au,sa[aa++]=lu,sa[aa++]=th,th=t;var r=au;t=lu;var i=32-Ga(r)-1;r&=~(1<<i),n+=1;var o=32-Ga(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,au=1<<32-Ga(e)+i|n<<i|r,lu=o+t}else au=1<<o|n<<i|r,lu=t}function nR(t){t.return!==null&&(jf(t,1),fB(t,1,0))}function rR(t){for(;t===K_;)K_=Yp[--qp],Yp[qp]=null,J_=Yp[--qp],Yp[qp]=null;for(;t===th;)th=sa[--aa],sa[aa]=null,lu=sa[--aa],sa[aa]=null,au=sa[--aa],sa[aa]=null}var Ts=null,Es=null,Lr=!1,Wa=null;function hB(t,e){var n=la(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function VF(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ts=t,Es=Sc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ts=t,Es=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=th!==null?{id:au,overflow:lu}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=la(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ts=t,Es=null,!0):!1;default:return!1}}function SP(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bP(t){if(Lr){var e=Es;if(e){var n=e;if(!VF(t,e)){if(SP(t))throw Error(Rt(418));e=Sc(n.nextSibling);var r=Ts;e&&VF(t,e)?hB(r,n):(t.flags=t.flags&-4097|2,Lr=!1,Ts=t)}}else{if(SP(t))throw Error(Rt(418));t.flags=t.flags&-4097|2,Lr=!1,Ts=t}}}function WF(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ts=t}function T_(t){if(t!==Ts)return!1;if(!Lr)return WF(t),Lr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vP(t.type,t.memoizedProps)),e&&(e=Es)){if(SP(t))throw pB(),Error(Rt(418));for(;e;)hB(t,e),e=Sc(e.nextSibling)}if(WF(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Rt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Es=Sc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Es=null}}else Es=Ts?Sc(t.stateNode.nextSibling):null;return!0}function pB(){for(var t=Es;t;)t=Sc(t.nextSibling)}function ad(){Es=Ts=null,Lr=!1}function iR(t){Wa===null?Wa=[t]:Wa.push(t)}var coe=du.ReactCurrentBatchConfig;function Qg(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Rt(309));var r=n.stateNode}if(!r)throw Error(Rt(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Rt(284));if(!n._owner)throw Error(Rt(290,t))}return t}function C_(t,e){throw t=Object.prototype.toString.call(e),Error(Rt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function GF(t){var e=t._init;return e(t._payload)}function dB(t){function e(y,T){if(t){var E=y.deletions;E===null?(y.deletions=[T],y.flags|=16):E.push(T)}}function n(y,T){if(!t)return null;for(;T!==null;)e(y,T),T=T.sibling;return null}function r(y,T){for(y=new Map;T!==null;)T.key!==null?y.set(T.key,T):y.set(T.index,T),T=T.sibling;return y}function i(y,T){return y=Tc(y,T),y.index=0,y.sibling=null,y}function o(y,T,E){return y.index=E,t?(E=y.alternate,E!==null?(E=E.index,E<T?(y.flags|=2,T):E):(y.flags|=2,T)):(y.flags|=1048576,T)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,T,E,A){return T===null||T.tag!==6?(T=XA(E,y.mode,A),T.return=y,T):(T=i(T,E),T.return=y,T)}function l(y,T,E,A){var N=E.type;return N===Vp?c(y,T,E.props.children,A,E.key):T!==null&&(T.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===hc&&GF(N)===T.type)?(A=i(T,E.props),A.ref=Qg(y,T,E),A.return=y,A):(A=B_(E.type,E.key,E.props,null,y.mode,A),A.ref=Qg(y,T,E),A.return=y,A)}function u(y,T,E,A){return T===null||T.tag!==4||T.stateNode.containerInfo!==E.containerInfo||T.stateNode.implementation!==E.implementation?(T=jA(E,y.mode,A),T.return=y,T):(T=i(T,E.children||[]),T.return=y,T)}function c(y,T,E,A,N){return T===null||T.tag!==7?(T=Qf(E,y.mode,A,N),T.return=y,T):(T=i(T,E),T.return=y,T)}function h(y,T,E){if(typeof T=="string"&&T!==""||typeof T=="number")return T=XA(""+T,y.mode,E),T.return=y,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case f_:return E=B_(T.type,T.key,T.props,null,y.mode,E),E.ref=Qg(y,null,T),E.return=y,E;case Hp:return T=jA(T,y.mode,E),T.return=y,T;case hc:var A=T._init;return h(y,A(T._payload),E)}if(iv(T)||qg(T))return T=Qf(T,y.mode,E,null),T.return=y,T;C_(y,T)}return null}function p(y,T,E,A){var N=T!==null?T.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:a(y,T,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case f_:return E.key===N?l(y,T,E,A):null;case Hp:return E.key===N?u(y,T,E,A):null;case hc:return N=E._init,p(y,T,N(E._payload),A)}if(iv(E)||qg(E))return N!==null?null:c(y,T,E,A,null);C_(y,E)}return null}function d(y,T,E,A,N){if(typeof A=="string"&&A!==""||typeof A=="number")return y=y.get(E)||null,a(T,y,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case f_:return y=y.get(A.key===null?E:A.key)||null,l(T,y,A,N);case Hp:return y=y.get(A.key===null?E:A.key)||null,u(T,y,A,N);case hc:var x=A._init;return d(y,T,E,x(A._payload),N)}if(iv(A)||qg(A))return y=y.get(E)||null,c(T,y,A,N,null);C_(T,A)}return null}function v(y,T,E,A){for(var N=null,x=null,D=T,k=T=0,U=null;D!==null&&k<E.length;k++){D.index>k?(U=D,D=null):U=D.sibling;var L=p(y,D,E[k],A);if(L===null){D===null&&(D=U);break}t&&D&&L.alternate===null&&e(y,D),T=o(L,T,k),x===null?N=L:x.sibling=L,x=L,D=U}if(k===E.length)return n(y,D),Lr&&jf(y,k),N;if(D===null){for(;k<E.length;k++)D=h(y,E[k],A),D!==null&&(T=o(D,T,k),x===null?N=D:x.sibling=D,x=D);return Lr&&jf(y,k),N}for(D=r(y,D);k<E.length;k++)U=d(D,y,k,E[k],A),U!==null&&(t&&U.alternate!==null&&D.delete(U.key===null?k:U.key),T=o(U,T,k),x===null?N=U:x.sibling=U,x=U);return t&&D.forEach(function(j){return e(y,j)}),Lr&&jf(y,k),N}function b(y,T,E,A){var N=qg(E);if(typeof N!="function")throw Error(Rt(150));if(E=N.call(E),E==null)throw Error(Rt(151));for(var x=N=null,D=T,k=T=0,U=null,L=E.next();D!==null&&!L.done;k++,L=E.next()){D.index>k?(U=D,D=null):U=D.sibling;var j=p(y,D,L.value,A);if(j===null){D===null&&(D=U);break}t&&D&&j.alternate===null&&e(y,D),T=o(j,T,k),x===null?N=j:x.sibling=j,x=j,D=U}if(L.done)return n(y,D),Lr&&jf(y,k),N;if(D===null){for(;!L.done;k++,L=E.next())L=h(y,L.value,A),L!==null&&(T=o(L,T,k),x===null?N=L:x.sibling=L,x=L);return Lr&&jf(y,k),N}for(D=r(y,D);!L.done;k++,L=E.next())L=d(D,y,k,L.value,A),L!==null&&(t&&L.alternate!==null&&D.delete(L.key===null?k:L.key),T=o(L,T,k),x===null?N=L:x.sibling=L,x=L);return t&&D.forEach(function(ie){return e(y,ie)}),Lr&&jf(y,k),N}function S(y,T,E,A){if(typeof E=="object"&&E!==null&&E.type===Vp&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case f_:e:{for(var N=E.key,x=T;x!==null;){if(x.key===N){if(N=E.type,N===Vp){if(x.tag===7){n(y,x.sibling),T=i(x,E.props.children),T.return=y,y=T;break e}}else if(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===hc&&GF(N)===x.type){n(y,x.sibling),T=i(x,E.props),T.ref=Qg(y,x,E),T.return=y,y=T;break e}n(y,x);break}else e(y,x);x=x.sibling}E.type===Vp?(T=Qf(E.props.children,y.mode,A,E.key),T.return=y,y=T):(A=B_(E.type,E.key,E.props,null,y.mode,A),A.ref=Qg(y,T,E),A.return=y,y=A)}return s(y);case Hp:e:{for(x=E.key;T!==null;){if(T.key===x)if(T.tag===4&&T.stateNode.containerInfo===E.containerInfo&&T.stateNode.implementation===E.implementation){n(y,T.sibling),T=i(T,E.children||[]),T.return=y,y=T;break e}else{n(y,T);break}else e(y,T);T=T.sibling}T=jA(E,y.mode,A),T.return=y,y=T}return s(y);case hc:return x=E._init,S(y,T,x(E._payload),A)}if(iv(E))return v(y,T,E,A);if(qg(E))return b(y,T,E,A);C_(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,T!==null&&T.tag===6?(n(y,T.sibling),T=i(T,E),T.return=y,y=T):(n(y,T),T=XA(E,y.mode,A),T.return=y,y=T),s(y)):n(y,T)}return S}var ld=dB(!0),mB=dB(!1),Q_=Pc(null),eS=null,Zp=null,oR=null;function sR(){oR=Zp=eS=null}function aR(t){var e=Q_.current;Ir(Q_),t._currentValue=e}function wP(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function rd(t,e){eS=t,oR=Zp=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(ns=!0),t.firstContext=null)}function ca(t){var e=t._currentValue;if(oR!==t)if(t={context:t,memoizedValue:e,next:null},Zp===null){if(eS===null)throw Error(Rt(308));Zp=t,eS.dependencies={lanes:0,firstContext:t}}else Zp=Zp.next=t;return e}var Zf=null;function lR(t){Zf===null?Zf=[t]:Zf.push(t)}function gB(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,lR(e)):(n.next=i.next,i.next=n),e.interleaved=n,hu(t,r)}function hu(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pc=!1;function uR(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function uu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Qn&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hu(t,n)}return i=r.interleaved,i===null?(e.next=e,lR(r)):(e.next=i.next,i.next=e),r.interleaved=e,hu(t,n)}function O_(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,YP(t,n)}}function $F(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function tS(t,e,n,r){var i=t.updateQueue;pc=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var p=a.lane,d=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(p=e,d=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){h=v.call(d,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,p=typeof v=="function"?v.call(d,h,p):v,p==null)break e;h=Hr({},h,p);break e;case 2:pc=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else d={eventTime:d,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);rh|=s,t.lanes=s,t.memoizedState=h}}function XF(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Rt(191,i));i.call(r)}}}var kv={},bl=Pc(kv),Mv=Pc(kv),Av=Pc(kv);function Kf(t){if(t===kv)throw Error(Rt(174));return t}function cR(t,e){switch(Er(Av,e),Er(Mv,t),Er(bl,kv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rP(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rP(e,t)}Ir(bl),Er(bl,e)}function ud(){Ir(bl),Ir(Mv),Ir(Av)}function yB(t){Kf(Av.current);var e=Kf(bl.current),n=rP(e,t.type);e!==n&&(Er(Mv,t),Er(bl,n))}function fR(t){Mv.current===t&&(Ir(bl),Ir(Mv))}var Br=Pc(0);function nS(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zA=[];function hR(){for(var t=0;t<zA.length;t++)zA[t]._workInProgressVersionPrimary=null;zA.length=0}var L_=du.ReactCurrentDispatcher,HA=du.ReactCurrentBatchConfig,nh=0,zr=null,Ti=null,Bi=null,rS=!1,hv=!1,Pv=0,foe=0;function go(){throw Error(Rt(321))}function pR(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xa(t[n],e[n]))return!1;return!0}function dR(t,e,n,r,i,o){if(nh=o,zr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,L_.current=t===null||t.memoizedState===null?moe:goe,t=n(r,i),hv){o=0;do{if(hv=!1,Pv=0,25<=o)throw Error(Rt(301));o+=1,Bi=Ti=null,e.updateQueue=null,L_.current=voe,t=n(r,i)}while(hv)}if(L_.current=iS,e=Ti!==null&&Ti.next!==null,nh=0,Bi=Ti=zr=null,rS=!1,e)throw Error(Rt(300));return t}function mR(){var t=Pv!==0;return Pv=0,t}function xl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bi===null?zr.memoizedState=Bi=t:Bi=Bi.next=t,Bi}function fa(){if(Ti===null){var t=zr.alternate;t=t!==null?t.memoizedState:null}else t=Ti.next;var e=Bi===null?zr.memoizedState:Bi.next;if(e!==null)Bi=e,Ti=t;else{if(t===null)throw Error(Rt(310));Ti=t,t={memoizedState:Ti.memoizedState,baseState:Ti.baseState,baseQueue:Ti.baseQueue,queue:Ti.queue,next:null},Bi===null?zr.memoizedState=Bi=t:Bi=Bi.next=t}return Bi}function Rv(t,e){return typeof e=="function"?e(t):e}function VA(t){var e=fa(),n=e.queue;if(n===null)throw Error(Rt(311));n.lastRenderedReducer=t;var r=Ti,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((nh&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,zr.lanes|=c,rh|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Xa(r,e.memoizedState)||(ns=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,zr.lanes|=o,rh|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function WA(t){var e=fa(),n=e.queue;if(n===null)throw Error(Rt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Xa(o,e.memoizedState)||(ns=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function xB(){}function _B(t,e){var n=zr,r=fa(),i=e(),o=!Xa(r.memoizedState,i);if(o&&(r.memoizedState=i,ns=!0),r=r.queue,gR(wB.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Bi!==null&&Bi.memoizedState.tag&1){if(n.flags|=2048,Iv(9,bB.bind(null,n,r,i,e),void 0,null),zi===null)throw Error(Rt(349));(nh&30)!==0||SB(n,e,i)}return i}function SB(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=zr.updateQueue,e===null?(e={lastEffect:null,stores:null},zr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bB(t,e,n,r){e.value=n,e.getSnapshot=r,EB(e)&&TB(t)}function wB(t,e,n){return n(function(){EB(e)&&TB(t)})}function EB(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xa(t,n)}catch{return!0}}function TB(t){var e=hu(t,1);e!==null&&$a(e,t,1,-1)}function jF(t){var e=xl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rv,lastRenderedState:t},e.queue=t,t=t.dispatch=doe.bind(null,zr,t),[e.memoizedState,t]}function Iv(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=zr.updateQueue,e===null?(e={lastEffect:null,stores:null},zr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function CB(){return fa().memoizedState}function D_(t,e,n,r){var i=xl();zr.flags|=t,i.memoizedState=Iv(1|e,n,void 0,r===void 0?null:r)}function gS(t,e,n,r){var i=fa();r=r===void 0?null:r;var o=void 0;if(Ti!==null){var s=Ti.memoizedState;if(o=s.destroy,r!==null&&pR(r,s.deps)){i.memoizedState=Iv(e,n,o,r);return}}zr.flags|=t,i.memoizedState=Iv(1|e,n,o,r)}function YF(t,e){return D_(8390656,8,t,e)}function gR(t,e){return gS(2048,8,t,e)}function MB(t,e){return gS(4,2,t,e)}function AB(t,e){return gS(4,4,t,e)}function PB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function RB(t,e,n){return n=n!=null?n.concat([t]):null,gS(4,4,PB.bind(null,e,t),n)}function vR(){}function IB(t,e){var n=fa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pR(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function NB(t,e){var n=fa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pR(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function OB(t,e,n){return(nh&21)===0?(t.baseState&&(t.baseState=!1,ns=!0),t.memoizedState=n):(Xa(n,e)||(n=UU(),zr.lanes|=n,rh|=n,t.baseState=!0),e)}function hoe(t,e){var n=ur;ur=n!==0&&4>n?n:4,t(!0);var r=HA.transition;HA.transition={};try{t(!1),e()}finally{ur=n,HA.transition=r}}function LB(){return fa().memoizedState}function poe(t,e,n){var r=Ec(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DB(t))kB(e,n);else if(n=gB(t,e,n,r),n!==null){var i=Io();$a(n,t,r,i),FB(n,e,r)}}function doe(t,e,n){var r=Ec(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DB(t))kB(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Xa(a,s)){var l=e.interleaved;l===null?(i.next=i,lR(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=gB(t,e,i,r),n!==null&&(i=Io(),$a(n,t,r,i),FB(n,e,r))}}function DB(t){var e=t.alternate;return t===zr||e!==null&&e===zr}function kB(t,e){hv=rS=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function FB(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,YP(t,n)}}var iS={readContext:ca,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},moe={readContext:ca,useCallback:function(t,e){return xl().memoizedState=[t,e===void 0?null:e],t},useContext:ca,useEffect:YF,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,D_(4194308,4,PB.bind(null,e,t),n)},useLayoutEffect:function(t,e){return D_(4194308,4,t,e)},useInsertionEffect:function(t,e){return D_(4,2,t,e)},useMemo:function(t,e){var n=xl();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xl();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=poe.bind(null,zr,t),[r.memoizedState,t]},useRef:function(t){var e=xl();return t={current:t},e.memoizedState=t},useState:jF,useDebugValue:vR,useDeferredValue:function(t){return xl().memoizedState=t},useTransition:function(){var t=jF(!1),e=t[0];return t=hoe.bind(null,t[1]),xl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=zr,i=xl();if(Lr){if(n===void 0)throw Error(Rt(407));n=n()}else{if(n=e(),zi===null)throw Error(Rt(349));(nh&30)!==0||SB(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,YF(wB.bind(null,r,o,t),[t]),r.flags|=2048,Iv(9,bB.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=xl(),e=zi.identifierPrefix;if(Lr){var n=lu,r=au;n=(r&~(1<<32-Ga(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pv++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=foe++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},goe={readContext:ca,useCallback:IB,useContext:ca,useEffect:gR,useImperativeHandle:RB,useInsertionEffect:MB,useLayoutEffect:AB,useMemo:NB,useReducer:VA,useRef:CB,useState:function(){return VA(Rv)},useDebugValue:vR,useDeferredValue:function(t){var e=fa();return OB(e,Ti.memoizedState,t)},useTransition:function(){var t=VA(Rv)[0],e=fa().memoizedState;return[t,e]},useMutableSource:xB,useSyncExternalStore:_B,useId:LB,unstable_isNewReconciler:!1},voe={readContext:ca,useCallback:IB,useContext:ca,useEffect:gR,useImperativeHandle:RB,useInsertionEffect:MB,useLayoutEffect:AB,useMemo:NB,useReducer:WA,useRef:CB,useState:function(){return WA(Rv)},useDebugValue:vR,useDeferredValue:function(t){var e=fa();return Ti===null?e.memoizedState=t:OB(e,Ti.memoizedState,t)},useTransition:function(){var t=WA(Rv)[0],e=fa().memoizedState;return[t,e]},useMutableSource:xB,useSyncExternalStore:_B,useId:LB,unstable_isNewReconciler:!1};function Ha(t,e){if(t&&t.defaultProps){e=Hr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function EP(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Hr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vS={isMounted:function(t){return(t=t._reactInternals)?sh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Io(),i=Ec(t),o=uu(r,i);o.payload=e,n!=null&&(o.callback=n),e=bc(t,o,i),e!==null&&($a(e,t,i,r),O_(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Io(),i=Ec(t),o=uu(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=bc(t,o,i),e!==null&&($a(e,t,i,r),O_(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Io(),r=Ec(t),i=uu(n,r);i.tag=2,e!=null&&(i.callback=e),e=bc(t,i,r),e!==null&&($a(e,t,r,n),O_(e,t,r))}};function qF(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!wv(n,r)||!wv(i,o):!0}function UB(t,e,n){var r=!1,i=Mc,o=e.contextType;return typeof o=="object"&&o!==null?o=ca(o):(i=is(e)?eh:xo.current,r=e.contextTypes,o=(r=r!=null)?sd(t,i):Mc),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vS,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ZF(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vS.enqueueReplaceState(e,e.state,null)}function TP(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},uR(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ca(o):(o=is(e)?eh:xo.current,i.context=sd(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(EP(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vS.enqueueReplaceState(i,i.state,null),tS(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cd(t,e){try{var n="",r=e;do n+=jre(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function GA(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function CP(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yoe=typeof WeakMap=="function"?WeakMap:Map;function BB(t,e,n){n=uu(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sS||(sS=!0,kP=r),CP(t,e)},n}function zB(t,e,n){n=uu(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){CP(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){CP(t,e),typeof r!="function"&&(wc===null?wc=new Set([this]):wc.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function KF(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yoe;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Noe.bind(null,t,e,n),e.then(t,t))}function JF(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function QF(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=uu(-1,1),e.tag=2,bc(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var xoe=du.ReactCurrentOwner,ns=!1;function Ro(t,e,n,r){e.child=t===null?mB(e,null,n,r):ld(e,t.child,n,r)}function eU(t,e,n,r,i){n=n.render;var o=e.ref;return rd(e,i),r=dR(t,e,n,r,o,i),n=mR(),t!==null&&!ns?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pu(t,e,i)):(Lr&&n&&nR(e),e.flags|=1,Ro(t,e,r,i),e.child)}function tU(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!TR(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,HB(t,e,o,r,i)):(t=B_(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,(t.lanes&i)===0){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:wv,n(s,r)&&t.ref===e.ref)return pu(t,e,i)}return e.flags|=1,t=Tc(o,r),t.ref=e.ref,t.return=e,e.child=t}function HB(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(wv(o,r)&&t.ref===e.ref)if(ns=!1,e.pendingProps=r=o,(t.lanes&i)!==0)(t.flags&131072)!==0&&(ns=!0);else return e.lanes=t.lanes,pu(t,e,i)}return MP(t,e,n,r,i)}function VB(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Er(Jp,ws),ws|=n;else{if((n&1073741824)===0)return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Er(Jp,ws),ws|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Er(Jp,ws),ws|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Er(Jp,ws),ws|=r;return Ro(t,e,i,n),e.child}function WB(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function MP(t,e,n,r,i){var o=is(n)?eh:xo.current;return o=sd(e,o),rd(e,i),n=dR(t,e,n,r,o,i),r=mR(),t!==null&&!ns?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pu(t,e,i)):(Lr&&r&&nR(e),e.flags|=1,Ro(t,e,n,i),e.child)}function nU(t,e,n,r,i){if(is(n)){var o=!0;Z_(e)}else o=!1;if(rd(e,i),e.stateNode===null)k_(t,e),UB(e,n,r),TP(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ca(u):(u=is(n)?eh:xo.current,u=sd(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ZF(e,s,r,u),pc=!1;var p=e.memoizedState;s.state=p,tS(e,r,s,i),l=e.memoizedState,a!==r||p!==l||rs.current||pc?(typeof c=="function"&&(EP(e,n,c,r),l=e.memoizedState),(a=pc||qF(e,n,a,r,p,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,vB(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ha(e.type,a),s.props=u,h=e.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ca(l):(l=is(n)?eh:xo.current,l=sd(e,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||p!==l)&&ZF(e,s,r,l),pc=!1,p=e.memoizedState,s.state=p,tS(e,r,s,i);var v=e.memoizedState;a!==h||p!==v||rs.current||pc?(typeof d=="function"&&(EP(e,n,d,r),v=e.memoizedState),(u=pc||qF(e,n,u,r,p,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return AP(t,e,n,r,o,i)}function AP(t,e,n,r,i,o){WB(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&HF(e,n,!1),pu(t,e,o);r=e.stateNode,xoe.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ld(e,t.child,null,o),e.child=ld(e,null,a,o)):Ro(t,e,a,o),e.memoizedState=r.state,i&&HF(e,n,!0),e.child}function GB(t){var e=t.stateNode;e.pendingContext?zF(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zF(t,e.context,!1),cR(t,e.containerInfo)}function rU(t,e,n,r,i){return ad(),iR(i),e.flags|=256,Ro(t,e,n,r),e.child}var PP={dehydrated:null,treeContext:null,retryLane:0};function RP(t){return{baseLanes:t,cachePool:null,transitions:null}}function $B(t,e,n){var r=e.pendingProps,i=Br.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Er(Br,i&1),t===null)return bP(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=s):o=_S(s,r,0,null),t=Qf(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=RP(n),e.memoizedState=PP,t):yR(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _oe(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(s&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Tc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Tc(a,o):(o=Qf(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?RP(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=PP,r}return o=t.child,t=o.sibling,r=Tc(o,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yR(t,e){return e=_S({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function M_(t,e,n,r){return r!==null&&iR(r),ld(e,t.child,null,n),t=yR(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _oe(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=GA(Error(Rt(422))),M_(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=_S({mode:"visible",children:r.children},i,0,null),o=Qf(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,(e.mode&1)!==0&&ld(e,t.child,null,s),e.child.memoizedState=RP(s),e.memoizedState=PP,o);if((e.mode&1)===0)return M_(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Rt(419)),r=GA(o,r,void 0),M_(t,e,s,r)}if(a=(s&t.childLanes)!==0,ns||a){if(r=zi,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|s))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,hu(t,i),$a(r,t,i,-1))}return ER(),r=GA(Error(Rt(421))),M_(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Ooe.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Es=Sc(i.nextSibling),Ts=e,Lr=!0,Wa=null,t!==null&&(sa[aa++]=au,sa[aa++]=lu,sa[aa++]=th,au=t.id,lu=t.overflow,th=e),e=yR(e,r.children),e.flags|=4096,e)}function iU(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wP(t.return,e,n)}function $A(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function XB(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ro(t,e,r.children,n),r=Br.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iU(t,n,e);else if(t.tag===19)iU(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Er(Br,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&nS(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$A(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nS(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$A(e,!0,n,null,o);break;case"together":$A(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function k_(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pu(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),rh|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(Rt(153));if(e.child!==null){for(t=e.child,n=Tc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Tc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Soe(t,e,n){switch(e.tag){case 3:GB(e),ad();break;case 5:yB(e);break;case 1:is(e.type)&&Z_(e);break;case 4:cR(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Er(Q_,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Er(Br,Br.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?$B(t,e,n):(Er(Br,Br.current&1),t=pu(t,e,n),t!==null?t.sibling:null);Er(Br,Br.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return XB(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Er(Br,Br.current),r)break;return null;case 22:case 23:return e.lanes=0,VB(t,e,n)}return pu(t,e,n)}var jB,IP,YB,qB;jB=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};IP=function(){};YB=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Kf(bl.current);var o=null;switch(n){case"input":i=QA(t,i),r=QA(t,r),o=[];break;case"select":i=Hr({},i,{value:void 0}),r=Hr({},r,{value:void 0}),o=[];break;case"textarea":i=nP(t,i),r=nP(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Y_)}iP(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gv.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i?.[u],r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gv.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Rr("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};qB=function(t,e,n,r){n!==r&&(e.flags|=4)};function ev(t,e){if(!Lr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vo(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function boe(t,e,n){var r=e.pendingProps;switch(rR(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vo(e),null;case 1:return is(e.type)&&q_(),vo(e),null;case 3:return r=e.stateNode,ud(),Ir(rs),Ir(xo),hR(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(T_(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Wa!==null&&(BP(Wa),Wa=null))),IP(t,e),vo(e),null;case 5:fR(e);var i=Kf(Av.current);if(n=e.type,t!==null&&e.stateNode!=null)YB(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Rt(166));return vo(e),null}if(t=Kf(bl.current),T_(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[_l]=e,r[Cv]=o,t=(e.mode&1)!==0,n){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(i=0;i<sv.length;i++)Rr(sv[i],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":hF(r,o),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Rr("invalid",r);break;case"textarea":dF(r,o),Rr("invalid",r)}iP(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&E_(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&E_(r.textContent,a,t),i=["children",""+a]):gv.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Rr("scroll",r)}switch(n){case"input":h_(r),pF(r,o,!0);break;case"textarea":h_(r),mF(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Y_)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wU(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[_l]=e,t[Cv]=r,jB(t,e,!1,!1),e.stateNode=t;e:{switch(s=oP(n,r),n){case"dialog":Rr("cancel",t),Rr("close",t),i=r;break;case"iframe":case"object":case"embed":Rr("load",t),i=r;break;case"video":case"audio":for(i=0;i<sv.length;i++)Rr(sv[i],t);i=r;break;case"source":Rr("error",t),i=r;break;case"img":case"image":case"link":Rr("error",t),Rr("load",t),i=r;break;case"details":Rr("toggle",t),i=r;break;case"input":hF(t,r),i=QA(t,r),Rr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Hr({},r,{value:void 0}),Rr("invalid",t);break;case"textarea":dF(t,r),i=nP(t,r),Rr("invalid",t);break;default:i=r}iP(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?CU(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&EU(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vv(t,l):typeof l=="number"&&vv(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(gv.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Rr("scroll",t):l!=null&&VP(t,o,l,s))}switch(n){case"input":h_(t),pF(t,r,!1);break;case"textarea":h_(t),mF(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Cc(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Qp(t,!!r.multiple,o,!1):r.defaultValue!=null&&Qp(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Y_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vo(e),null;case 6:if(t&&e.stateNode!=null)qB(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Rt(166));if(n=Kf(Av.current),Kf(bl.current),T_(e)){if(r=e.stateNode,n=e.memoizedProps,r[_l]=e,(o=r.nodeValue!==n)&&(t=Ts,t!==null))switch(t.tag){case 3:E_(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&E_(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_l]=e,e.stateNode=r}return vo(e),null;case 13:if(Ir(Br),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Lr&&Es!==null&&(e.mode&1)!==0&&(e.flags&128)===0)pB(),ad(),e.flags|=98560,o=!1;else if(o=T_(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Rt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Rt(317));o[_l]=e}else ad(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;vo(e),o=!1}else Wa!==null&&(BP(Wa),Wa=null),o=!0;if(!o)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Br.current&1)!==0?Ci===0&&(Ci=3):ER())),e.updateQueue!==null&&(e.flags|=4),vo(e),null);case 4:return ud(),IP(t,e),t===null&&Ev(e.stateNode.containerInfo),vo(e),null;case 10:return aR(e.type._context),vo(e),null;case 17:return is(e.type)&&q_(),vo(e),null;case 19:if(Ir(Br),o=e.memoizedState,o===null)return vo(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ev(o,!1);else{if(Ci!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=nS(t),s!==null){for(e.flags|=128,ev(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Er(Br,Br.current&1|2),e.child}t=t.sibling}o.tail!==null&&ai()>fd&&(e.flags|=128,r=!0,ev(o,!1),e.lanes=4194304)}else{if(!r)if(t=nS(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ev(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Lr)return vo(e),null}else 2*ai()-o.renderingStartTime>fd&&n!==1073741824&&(e.flags|=128,r=!0,ev(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ai(),e.sibling=null,n=Br.current,Er(Br,r?n&1|2:n&1),e):(vo(e),null);case 22:case 23:return wR(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(ws&1073741824)!==0&&(vo(e),e.subtreeFlags&6&&(e.flags|=8192)):vo(e),null;case 24:return null;case 25:return null}throw Error(Rt(156,e.tag))}function woe(t,e){switch(rR(e),e.tag){case 1:return is(e.type)&&q_(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ud(),Ir(rs),Ir(xo),hR(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return fR(e),null;case 13:if(Ir(Br),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Rt(340));ad()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ir(Br),null;case 4:return ud(),null;case 10:return aR(e.type._context),null;case 22:case 23:return wR(),null;case 24:return null;default:return null}}var A_=!1,yo=!1,Eoe=typeof WeakSet=="function"?WeakSet:Set,en=null;function Kp(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Zr(t,e,r)}else n.current=null}function NP(t,e,n){try{n()}catch(r){Zr(t,e,r)}}var oU=!1;function Toe(t,e){if(mP=$_,t=eB(),tR(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,p=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(d=h.firstChild)!==null;)p=h,h=d;for(;;){if(h===t)break t;if(p===n&&++u===i&&(a=s),p===o&&++c===r&&(l=s),(d=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gP={focusedElem:t,selectionRange:n},$_=!1,en=e;en!==null;)if(e=en,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,en=t;else for(;en!==null;){e=en;try{var v=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,S=v.memoizedState,y=e.stateNode,T=y.getSnapshotBeforeUpdate(e.elementType===e.type?b:Ha(e.type,b),S);y.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Rt(163))}}catch(A){Zr(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,en=t;break}en=e.return}return v=oU,oU=!1,v}function pv(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&NP(e,n,o)}i=i.next}while(i!==r)}}function yS(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function OP(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ZB(t){var e=t.alternate;e!==null&&(t.alternate=null,ZB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_l],delete e[Cv],delete e[xP],delete e[aoe],delete e[loe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KB(t){return t.tag===5||t.tag===3||t.tag===4}function sU(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function LP(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Y_));else if(r!==4&&(t=t.child,t!==null))for(LP(t,e,n),t=t.sibling;t!==null;)LP(t,e,n),t=t.sibling}function DP(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(DP(t,e,n),t=t.sibling;t!==null;)DP(t,e,n),t=t.sibling}var eo=null,Va=!1;function fc(t,e,n){for(n=n.child;n!==null;)JB(t,e,n),n=n.sibling}function JB(t,e,n){if(Sl&&typeof Sl.onCommitFiberUnmount=="function")try{Sl.onCommitFiberUnmount(cS,n)}catch{}switch(n.tag){case 5:yo||Kp(n,e);case 6:var r=eo,i=Va;eo=null,fc(t,e,n),eo=r,Va=i,eo!==null&&(Va?(t=eo,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):eo.removeChild(n.stateNode));break;case 18:eo!==null&&(Va?(t=eo,n=n.stateNode,t.nodeType===8?UA(t.parentNode,n):t.nodeType===1&&UA(t,n),Sv(t)):UA(eo,n.stateNode));break;case 4:r=eo,i=Va,eo=n.stateNode.containerInfo,Va=!0,fc(t,e,n),eo=r,Va=i;break;case 0:case 11:case 14:case 15:if(!yo&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&NP(n,e,s),i=i.next}while(i!==r)}fc(t,e,n);break;case 1:if(!yo&&(Kp(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Zr(n,e,a)}fc(t,e,n);break;case 21:fc(t,e,n);break;case 22:n.mode&1?(yo=(r=yo)||n.memoizedState!==null,fc(t,e,n),yo=r):fc(t,e,n);break;default:fc(t,e,n)}}function aU(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Eoe),e.forEach(function(r){var i=Loe.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function za(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:eo=a.stateNode,Va=!1;break e;case 3:eo=a.stateNode.containerInfo,Va=!0;break e;case 4:eo=a.stateNode.containerInfo,Va=!0;break e}a=a.return}if(eo===null)throw Error(Rt(160));JB(o,s,i),eo=null,Va=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Zr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QB(e,t),e=e.sibling}function QB(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(za(e,t),yl(t),r&4){try{pv(3,t,t.return),yS(3,t)}catch(b){Zr(t,t.return,b)}try{pv(5,t,t.return)}catch(b){Zr(t,t.return,b)}}break;case 1:za(e,t),yl(t),r&512&&n!==null&&Kp(n,n.return);break;case 5:if(za(e,t),yl(t),r&512&&n!==null&&Kp(n,n.return),t.flags&32){var i=t.stateNode;try{vv(i,"")}catch(b){Zr(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&SU(i,o),oP(a,s);var u=oP(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?CU(i,h):c==="dangerouslySetInnerHTML"?EU(i,h):c==="children"?vv(i,h):VP(i,c,h,u)}switch(a){case"input":eP(i,o);break;case"textarea":bU(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?Qp(i,!!o.multiple,d,!1):p!==!!o.multiple&&(o.defaultValue!=null?Qp(i,!!o.multiple,o.defaultValue,!0):Qp(i,!!o.multiple,o.multiple?[]:"",!1))}i[Cv]=o}catch(b){Zr(t,t.return,b)}}break;case 6:if(za(e,t),yl(t),r&4){if(t.stateNode===null)throw Error(Rt(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){Zr(t,t.return,b)}}break;case 3:if(za(e,t),yl(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sv(e.containerInfo)}catch(b){Zr(t,t.return,b)}break;case 4:za(e,t),yl(t);break;case 13:za(e,t),yl(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(SR=ai())),r&4&&aU(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(yo=(u=yo)||c,za(e,t),yo=u):za(e,t),yl(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&(t.mode&1)!==0)for(en=t,c=t.child;c!==null;){for(h=en=c;en!==null;){switch(p=en,d=p.child,p.tag){case 0:case 11:case 14:case 15:pv(4,p,p.return);break;case 1:Kp(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){Zr(r,n,b)}}break;case 5:Kp(p,p.return);break;case 22:if(p.memoizedState!==null){uU(h);continue}}d!==null?(d.return=p,en=d):uU(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=TU("display",s))}catch(b){Zr(t,t.return,b)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){Zr(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:za(e,t),yl(t),r&4&&aU(t);break;case 21:break;default:za(e,t),yl(t)}}function yl(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(KB(n)){var r=n;break e}n=n.return}throw Error(Rt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vv(i,""),r.flags&=-33);var o=sU(t);DP(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=sU(t);LP(t,a,s);break;default:throw Error(Rt(161))}}catch(l){Zr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Coe(t,e,n){en=t,e4(t,e,n)}function e4(t,e,n){for(var r=(t.mode&1)!==0;en!==null;){var i=en,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||A_;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||yo;a=A_;var u=yo;if(A_=s,(yo=l)&&!u)for(en=i;en!==null;)s=en,l=s.child,s.tag===22&&s.memoizedState!==null?cU(i):l!==null?(l.return=s,en=l):cU(i);for(;o!==null;)en=o,e4(o,e,n),o=o.sibling;en=i,A_=a,yo=u}lU(t,e,n)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,en=o):lU(t,e,n)}}function lU(t){for(;en!==null;){var e=en;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:yo||yS(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yo)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ha(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&XF(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}XF(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Sv(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Rt(163))}yo||e.flags&512&&OP(e)}catch(p){Zr(e,e.return,p)}}if(e===t){en=null;break}if(n=e.sibling,n!==null){n.return=e.return,en=n;break}en=e.return}}function uU(t){for(;en!==null;){var e=en;if(e===t){en=null;break}var n=e.sibling;if(n!==null){n.return=e.return,en=n;break}en=e.return}}function cU(t){for(;en!==null;){var e=en;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yS(4,e)}catch(l){Zr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Zr(e,i,l)}}var o=e.return;try{OP(e)}catch(l){Zr(e,o,l)}break;case 5:var s=e.return;try{OP(e)}catch(l){Zr(e,s,l)}}}catch(l){Zr(e,e.return,l)}if(e===t){en=null;break}var a=e.sibling;if(a!==null){a.return=e.return,en=a;break}en=e.return}}var Moe=Math.ceil,oS=du.ReactCurrentDispatcher,xR=du.ReactCurrentOwner,ua=du.ReactCurrentBatchConfig,Qn=0,zi=null,mi=null,to=0,ws=0,Jp=Pc(0),Ci=0,Nv=null,rh=0,xS=0,_R=0,dv=null,ts=null,SR=0,fd=1/0,ou=null,sS=!1,kP=null,wc=null,P_=!1,vc=null,aS=0,mv=0,FP=null,F_=-1,U_=0;function Io(){return(Qn&6)!==0?ai():F_!==-1?F_:F_=ai()}function Ec(t){return(t.mode&1)===0?1:(Qn&2)!==0&&to!==0?to&-to:coe.transition!==null?(U_===0&&(U_=UU()),U_):(t=ur,t!==0||(t=window.event,t=t===void 0?16:$U(t.type)),t)}function $a(t,e,n,r){if(50<mv)throw mv=0,FP=null,Error(Rt(185));Ov(t,n,r),((Qn&2)===0||t!==zi)&&(t===zi&&((Qn&2)===0&&(xS|=n),Ci===4&&mc(t,to)),os(t,r),n===1&&Qn===0&&(e.mode&1)===0&&(fd=ai()+500,mS&&Rc()))}function os(t,e){var n=t.callbackNode;hie(t,e);var r=G_(t,t===zi?to:0);if(r===0)n!==null&&yF(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yF(n),e===1)t.tag===0?uoe(fU.bind(null,t)):cB(fU.bind(null,t)),ooe(function(){(Qn&6)===0&&Rc()}),n=null;else{switch(BU(r)){case 1:n=jP;break;case 4:n=kU;break;case 16:n=W_;break;case 536870912:n=FU;break;default:n=W_}n=l4(n,t4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function t4(t,e){if(F_=-1,U_=0,(Qn&6)!==0)throw Error(Rt(327));var n=t.callbackNode;if(id()&&t.callbackNode!==n)return null;var r=G_(t,t===zi?to:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=lS(t,r);else{e=r;var i=Qn;Qn|=2;var o=r4();(zi!==t||to!==e)&&(ou=null,fd=ai()+500,Jf(t,e));do try{Roe();break}catch(a){n4(t,a)}while(!0);sR(),oS.current=o,Qn=i,mi!==null?e=0:(zi=null,to=0,e=Ci)}if(e!==0){if(e===2&&(i=cP(t),i!==0&&(r=i,e=UP(t,i))),e===1)throw n=Nv,Jf(t,0),mc(t,r),os(t,ai()),n;if(e===6)mc(t,r);else{if(i=t.current.alternate,(r&30)===0&&!Aoe(i)&&(e=lS(t,r),e===2&&(o=cP(t),o!==0&&(r=o,e=UP(t,o))),e===1))throw n=Nv,Jf(t,0),mc(t,r),os(t,ai()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Rt(345));case 2:Yf(t,ts,ou);break;case 3:if(mc(t,r),(r&130023424)===r&&(e=SR+500-ai(),10<e)){if(G_(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Io(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=yP(Yf.bind(null,t,ts,ou),e);break}Yf(t,ts,ou);break;case 4:if(mc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Ga(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ai()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Moe(r/1960))-r,10<r){t.timeoutHandle=yP(Yf.bind(null,t,ts,ou),r);break}Yf(t,ts,ou);break;case 5:Yf(t,ts,ou);break;default:throw Error(Rt(329))}}}return os(t,ai()),t.callbackNode===n?t4.bind(null,t):null}function UP(t,e){var n=dv;return t.current.memoizedState.isDehydrated&&(Jf(t,e).flags|=256),t=lS(t,e),t!==2&&(e=ts,ts=n,e!==null&&BP(e)),t}function BP(t){ts===null?ts=t:ts.push.apply(ts,t)}function Aoe(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Xa(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mc(t,e){for(e&=~_R,e&=~xS,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ga(e),r=1<<n;t[n]=-1,e&=~r}}function fU(t){if((Qn&6)!==0)throw Error(Rt(327));id();var e=G_(t,0);if((e&1)===0)return os(t,ai()),null;var n=lS(t,e);if(t.tag!==0&&n===2){var r=cP(t);r!==0&&(e=r,n=UP(t,r))}if(n===1)throw n=Nv,Jf(t,0),mc(t,e),os(t,ai()),n;if(n===6)throw Error(Rt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yf(t,ts,ou),os(t,ai()),null}function bR(t,e){var n=Qn;Qn|=1;try{return t(e)}finally{Qn=n,Qn===0&&(fd=ai()+500,mS&&Rc())}}function ih(t){vc!==null&&vc.tag===0&&(Qn&6)===0&&id();var e=Qn;Qn|=1;var n=ua.transition,r=ur;try{if(ua.transition=null,ur=1,t)return t()}finally{ur=r,ua.transition=n,Qn=e,(Qn&6)===0&&Rc()}}function wR(){ws=Jp.current,Ir(Jp)}function Jf(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ioe(n)),mi!==null)for(n=mi.return;n!==null;){var r=n;switch(rR(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&q_();break;case 3:ud(),Ir(rs),Ir(xo),hR();break;case 5:fR(r);break;case 4:ud();break;case 13:Ir(Br);break;case 19:Ir(Br);break;case 10:aR(r.type._context);break;case 22:case 23:wR()}n=n.return}if(zi=t,mi=t=Tc(t.current,null),to=ws=e,Ci=0,Nv=null,_R=xS=rh=0,ts=dv=null,Zf!==null){for(e=0;e<Zf.length;e++)if(n=Zf[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Zf=null}return t}function n4(t,e){do{var n=mi;try{if(sR(),L_.current=iS,rS){for(var r=zr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rS=!1}if(nh=0,Bi=Ti=zr=null,hv=!1,Pv=0,xR.current=null,n===null||n.return===null){Ci=1,Nv=e,mi=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=to,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if((c.mode&1)===0&&(h===0||h===11||h===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=JF(s);if(d!==null){d.flags&=-257,QF(d,s,a,o,e),d.mode&1&&KF(o,u,e),e=d,l=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if((e&1)===0){KF(o,u,e),ER();break e}l=Error(Rt(426))}}else if(Lr&&a.mode&1){var S=JF(s);if(S!==null){(S.flags&65536)===0&&(S.flags|=256),QF(S,s,a,o,e),iR(cd(l,a));break e}}o=l=cd(l,a),Ci!==4&&(Ci=2),dv===null?dv=[o]:dv.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=BB(o,l,e);$F(o,y);break e;case 1:a=l;var T=o.type,E=o.stateNode;if((o.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(wc===null||!wc.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var A=zB(o,a,e);$F(o,A);break e}}o=o.return}while(o!==null)}o4(n)}catch(N){e=N,mi===n&&n!==null&&(mi=n=n.return);continue}break}while(!0)}function r4(){var t=oS.current;return oS.current=iS,t===null?iS:t}function ER(){(Ci===0||Ci===3||Ci===2)&&(Ci=4),zi===null||(rh&268435455)===0&&(xS&268435455)===0||mc(zi,to)}function lS(t,e){var n=Qn;Qn|=2;var r=r4();(zi!==t||to!==e)&&(ou=null,Jf(t,e));do try{Poe();break}catch(i){n4(t,i)}while(!0);if(sR(),Qn=n,oS.current=r,mi!==null)throw Error(Rt(261));return zi=null,to=0,Ci}function Poe(){for(;mi!==null;)i4(mi)}function Roe(){for(;mi!==null&&!rie();)i4(mi)}function i4(t){var e=a4(t.alternate,t,ws);t.memoizedProps=t.pendingProps,e===null?o4(t):mi=e,xR.current=null}function o4(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=boe(n,e,ws),n!==null){mi=n;return}}else{if(n=woe(n,e),n!==null){n.flags&=32767,mi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ci=6,mi=null;return}}if(e=e.sibling,e!==null){mi=e;return}mi=e=t}while(e!==null);Ci===0&&(Ci=5)}function Yf(t,e,n){var r=ur,i=ua.transition;try{ua.transition=null,ur=1,Ioe(t,e,n,r)}finally{ua.transition=i,ur=r}return null}function Ioe(t,e,n,r){do id();while(vc!==null);if((Qn&6)!==0)throw Error(Rt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Rt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(pie(t,o),t===zi&&(mi=zi=null,to=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||P_||(P_=!0,l4(W_,function(){return id(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=ua.transition,ua.transition=null;var s=ur;ur=1;var a=Qn;Qn|=4,xR.current=null,Toe(t,n),QB(n,t),Qie(gP),$_=!!mP,gP=mP=null,t.current=n,Coe(n,t,i),iie(),Qn=a,ur=s,ua.transition=o}else t.current=n;if(P_&&(P_=!1,vc=t,aS=i),o=t.pendingLanes,o===0&&(wc=null),aie(n.stateNode,r),os(t,ai()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(sS)throw sS=!1,t=kP,kP=null,t;return(aS&1)!==0&&t.tag!==0&&id(),o=t.pendingLanes,(o&1)!==0?t===FP?mv++:(mv=0,FP=t):mv=0,Rc(),null}function id(){if(vc!==null){var t=BU(aS),e=ua.transition,n=ur;try{if(ua.transition=null,ur=16>t?16:t,vc===null)var r=!1;else{if(t=vc,vc=null,aS=0,(Qn&6)!==0)throw Error(Rt(331));var i=Qn;for(Qn|=4,en=t.current;en!==null;){var o=en,s=o.child;if((en.flags&16)!==0){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(en=u;en!==null;){var c=en;switch(c.tag){case 0:case 11:case 15:pv(8,c,o)}var h=c.child;if(h!==null)h.return=c,en=h;else for(;en!==null;){c=en;var p=c.sibling,d=c.return;if(ZB(c),c===u){en=null;break}if(p!==null){p.return=d,en=p;break}en=d}}}var v=o.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}en=o}}if((o.subtreeFlags&2064)!==0&&s!==null)s.return=o,en=s;else e:for(;en!==null;){if(o=en,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:pv(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,en=y;break e}en=o.return}}var T=t.current;for(en=T;en!==null;){s=en;var E=s.child;if((s.subtreeFlags&2064)!==0&&E!==null)E.return=s,en=E;else e:for(s=T;en!==null;){if(a=en,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:yS(9,a)}}catch(N){Zr(a,a.return,N)}if(a===s){en=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,en=A;break e}en=a.return}}if(Qn=i,Rc(),Sl&&typeof Sl.onPostCommitFiberRoot=="function")try{Sl.onPostCommitFiberRoot(cS,t)}catch{}r=!0}return r}finally{ur=n,ua.transition=e}}return!1}function hU(t,e,n){e=cd(n,e),e=BB(t,e,1),t=bc(t,e,1),e=Io(),t!==null&&(Ov(t,1,e),os(t,e))}function Zr(t,e,n){if(t.tag===3)hU(t,t,n);else for(;e!==null;){if(e.tag===3){hU(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wc===null||!wc.has(r))){t=cd(n,t),t=zB(e,t,1),e=bc(e,t,1),t=Io(),e!==null&&(Ov(e,1,t),os(e,t));break}}e=e.return}}function Noe(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Io(),t.pingedLanes|=t.suspendedLanes&n,zi===t&&(to&n)===n&&(Ci===4||Ci===3&&(to&130023424)===to&&500>ai()-SR?Jf(t,0):_R|=n),os(t,e)}function s4(t,e){e===0&&((t.mode&1)===0?e=1:(e=m_,m_<<=1,(m_&130023424)===0&&(m_=4194304)));var n=Io();t=hu(t,e),t!==null&&(Ov(t,e,n),os(t,n))}function Ooe(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),s4(t,n)}function Loe(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Rt(314))}r!==null&&r.delete(e),s4(t,n)}var a4;a4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rs.current)ns=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return ns=!1,Soe(t,e,n);ns=(t.flags&131072)!==0}else ns=!1,Lr&&(e.flags&1048576)!==0&&fB(e,J_,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;k_(t,e),t=e.pendingProps;var i=sd(e,xo.current);rd(e,n),i=dR(null,e,r,t,i,n);var o=mR();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,is(r)?(o=!0,Z_(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uR(e),i.updater=vS,e.stateNode=i,i._reactInternals=e,TP(e,r,t,n),e=AP(null,e,r,!0,o,n)):(e.tag=0,Lr&&o&&nR(e),Ro(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(k_(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=koe(r),t=Ha(r,t),i){case 0:e=MP(null,e,r,t,n);break e;case 1:e=nU(null,e,r,t,n);break e;case 11:e=eU(null,e,r,t,n);break e;case 14:e=tU(null,e,r,Ha(r.type,t),n);break e}throw Error(Rt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ha(r,i),MP(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ha(r,i),nU(t,e,r,i,n);case 3:e:{if(GB(e),t===null)throw Error(Rt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,vB(t,e),tS(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=cd(Error(Rt(423)),e),e=rU(t,e,r,n,i);break e}else if(r!==i){i=cd(Error(Rt(424)),e),e=rU(t,e,r,n,i);break e}else for(Es=Sc(e.stateNode.containerInfo.firstChild),Ts=e,Lr=!0,Wa=null,n=mB(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ad(),r===i){e=pu(t,e,n);break e}Ro(t,e,r,n)}e=e.child}return e;case 5:return yB(e),t===null&&bP(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,vP(r,i)?s=null:o!==null&&vP(r,o)&&(e.flags|=32),WB(t,e),Ro(t,e,s,n),e.child;case 6:return t===null&&bP(e),null;case 13:return $B(t,e,n);case 4:return cR(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ld(e,null,r,n):Ro(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ha(r,i),eU(t,e,r,i,n);case 7:return Ro(t,e,e.pendingProps,n),e.child;case 8:return Ro(t,e,e.pendingProps.children,n),e.child;case 12:return Ro(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Er(Q_,r._currentValue),r._currentValue=s,o!==null)if(Xa(o.value,s)){if(o.children===i.children&&!rs.current){e=pu(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=uu(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),wP(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Rt(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),wP(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ro(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,rd(e,n),i=ca(i),r=r(i),e.flags|=1,Ro(t,e,r,n),e.child;case 14:return r=e.type,i=Ha(r,e.pendingProps),i=Ha(r.type,i),tU(t,e,r,i,n);case 15:return HB(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ha(r,i),k_(t,e),e.tag=1,is(r)?(t=!0,Z_(e)):t=!1,rd(e,n),UB(e,r,i),TP(e,r,i,n),AP(null,e,r,!0,t,n);case 19:return XB(t,e,n);case 22:return VB(t,e,n)}throw Error(Rt(156,e.tag))};function l4(t,e){return DU(t,e)}function Doe(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(t,e,n,r){return new Doe(t,e,n,r)}function TR(t){return t=t.prototype,!(!t||!t.isReactComponent)}function koe(t){if(typeof t=="function")return TR(t)?1:0;if(t!=null){if(t=t.$$typeof,t===GP)return 11;if(t===$P)return 14}return 2}function Tc(t,e){var n=t.alternate;return n===null?(n=la(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function B_(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")TR(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Vp:return Qf(n.children,i,o,e);case WP:s=8,i|=8;break;case qA:return t=la(12,n,e,i|2),t.elementType=qA,t.lanes=o,t;case ZA:return t=la(13,n,e,i),t.elementType=ZA,t.lanes=o,t;case KA:return t=la(19,n,e,i),t.elementType=KA,t.lanes=o,t;case yU:return _S(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gU:s=10;break e;case vU:s=9;break e;case GP:s=11;break e;case $P:s=14;break e;case hc:s=16,r=null;break e}throw Error(Rt(130,t==null?t:typeof t,""))}return e=la(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Qf(t,e,n,r){return t=la(7,t,r,e),t.lanes=n,t}function _S(t,e,n,r){return t=la(22,t,r,e),t.elementType=yU,t.lanes=n,t.stateNode={isHidden:!1},t}function XA(t,e,n){return t=la(6,t,null,e),t.lanes=n,t}function jA(t,e,n){return e=la(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Foe(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=RA(0),this.expirationTimes=RA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=RA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function CR(t,e,n,r,i,o,s,a,l){return t=new Foe(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=la(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uR(o),t}function Uoe(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hp,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function u4(t){if(!t)return Mc;t=t._reactInternals;e:{if(sh(t)!==t||t.tag!==1)throw Error(Rt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(is(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Rt(171))}if(t.tag===1){var n=t.type;if(is(n))return uB(t,n,e)}return e}function c4(t,e,n,r,i,o,s,a,l){return t=CR(n,r,!0,t,i,o,s,a,l),t.context=u4(null),n=t.current,r=Io(),i=Ec(n),o=uu(r,i),o.callback=e??null,bc(n,o,i),t.current.lanes=i,Ov(t,i,r),os(t,r),t}function SS(t,e,n,r){var i=e.current,o=Io(),s=Ec(i);return n=u4(n),e.context===null?e.context=n:e.pendingContext=n,e=uu(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bc(i,e,s),t!==null&&($a(t,i,s,o),O_(t,i,s)),s}function uS(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pU(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function MR(t,e){pU(t,e),(t=t.alternate)&&pU(t,e)}function Boe(){return null}var f4=typeof reportError=="function"?reportError:function(t){console.error(t)};function AR(t){this._internalRoot=t}bS.prototype.render=AR.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Rt(409));SS(t,e,null,null)};bS.prototype.unmount=AR.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ih(function(){SS(null,t,null,null)}),e[fu]=null}};function bS(t){this._internalRoot=t}bS.prototype.unstable_scheduleHydration=function(t){if(t){var e=VU();t={blockedOn:null,target:t,priority:e};for(var n=0;n<dc.length&&e!==0&&e<dc[n].priority;n++);dc.splice(n,0,t),n===0&&GU(t)}};function PR(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dU(){}function zoe(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=uS(s);o.call(u)}}var s=c4(e,r,t,0,null,!1,!1,"",dU);return t._reactRootContainer=s,t[fu]=s.current,Ev(t.nodeType===8?t.parentNode:t),ih(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=uS(l);a.call(u)}}var l=CR(t,0,!1,null,null,!1,!1,"",dU);return t._reactRootContainer=l,t[fu]=l.current,Ev(t.nodeType===8?t.parentNode:t),ih(function(){SS(e,l,n,r)}),l}function ES(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=uS(s);a.call(l)}}SS(e,s,t,i)}else s=zoe(n,e,t,i,r);return uS(s)}zU=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ov(e.pendingLanes);n!==0&&(YP(e,n|1),os(e,ai()),(Qn&6)===0&&(fd=ai()+500,Rc()))}break;case 13:ih(function(){var r=hu(t,1);if(r!==null){var i=Io();$a(r,t,1,i)}}),MR(t,1)}};qP=function(t){if(t.tag===13){var e=hu(t,134217728);if(e!==null){var n=Io();$a(e,t,134217728,n)}MR(t,134217728)}};HU=function(t){if(t.tag===13){var e=Ec(t),n=hu(t,e);if(n!==null){var r=Io();$a(n,t,e,r)}MR(t,e)}};VU=function(){return ur};WU=function(t,e){var n=ur;try{return ur=t,e()}finally{ur=n}};aP=function(t,e,n){switch(e){case"input":if(eP(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=dS(r);if(!i)throw Error(Rt(90));_U(r),eP(r,i)}}}break;case"textarea":bU(t,n);break;case"select":e=n.value,e!=null&&Qp(t,!!n.multiple,e,!1)}};PU=bR;RU=ih;var Hoe={usingClientEntryPoint:!1,Events:[Dv,Xp,dS,MU,AU,bR]},tv={findFiberByHostInstance:qf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Voe={bundleType:tv.bundleType,version:tv.version,rendererPackageName:tv.rendererPackageName,rendererConfig:tv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:du.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=OU(t),t===null?null:t.stateNode},findFiberByHostInstance:tv.findFiberByHostInstance||Boe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(nv=__REACT_DEVTOOLS_GLOBAL_HOOK__,!nv.isDisabled&&nv.supportsFiber))try{cS=nv.inject(Voe),Sl=nv}catch{}var nv;As.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hoe;As.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!PR(e))throw Error(Rt(200));return Uoe(t,e,null,n)};As.createRoot=function(t,e){if(!PR(t))throw Error(Rt(299));var n=!1,r="",i=f4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=CR(t,1,!1,null,null,n,!1,r,i),t[fu]=e.current,Ev(t.nodeType===8?t.parentNode:t),new AR(e)};As.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Rt(188)):(t=Object.keys(t).join(","),Error(Rt(268,t)));return t=OU(e),t=t===null?null:t.stateNode,t};As.flushSync=function(t){return ih(t)};As.hydrate=function(t,e,n){if(!wS(e))throw Error(Rt(200));return ES(null,t,e,!0,n)};As.hydrateRoot=function(t,e,n){if(!PR(t))throw Error(Rt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=f4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=c4(e,null,t,1,n??null,i,!1,o,s),t[fu]=e.current,Ev(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new bS(e)};As.render=function(t,e,n){if(!wS(e))throw Error(Rt(200));return ES(null,t,e,!1,n)};As.unmountComponentAtNode=function(t){if(!wS(t))throw Error(Rt(40));return t._reactRootContainer?(ih(function(){ES(null,null,t,!1,function(){t._reactRootContainer=null,t[fu]=null})}),!0):!1};As.unstable_batchedUpdates=bR;As.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!wS(n))throw Error(Rt(200));if(t==null||t._reactInternals===void 0)throw Error(Rt(38));return ES(t,e,n,!1,r)};As.version="18.3.1-next-f1338f8080-20240426"});var Ic=kt((gPe,d4)=>{"use strict";function p4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p4)}catch(t){console.error(t)}}p4(),d4.exports=h4()});var g4=kt(RR=>{"use strict";var m4=Ic();RR.createRoot=m4.createRoot,RR.hydrateRoot=m4.hydrateRoot;var vPe});var az=kt(dd=>{"use strict";var F4=me();function In(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ss=Object.prototype.hasOwnProperty,Woe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v4={},y4={};function U4(t){return ss.call(y4,t)?!0:ss.call(v4,t)?!1:Woe.test(t)?y4[t]=!0:(v4[t]=!0,!1)}function Lo(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var ro={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ro[t]=new Lo(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ro[e]=new Lo(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ro[t]=new Lo(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ro[t]=new Lo(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ro[t]=new Lo(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ro[t]=new Lo(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ro[t]=new Lo(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ro[t]=new Lo(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ro[t]=new Lo(t,5,!1,t.toLowerCase(),null,!1,!1)});var BR=/[\-:]([a-z])/g;function zR(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(BR,zR);ro[e]=new Lo(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(BR,zR);ro[e]=new Lo(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(BR,zR);ro[e]=new Lo(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ro[t]=new Lo(t,1,!1,t.toLowerCase(),null,!1,!1)});ro.xlinkHref=new Lo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ro[t]=new Lo(t,1,!1,t.toLowerCase(),null,!0,!0)});var MS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Goe=["Webkit","ms","Moz","O"];Object.keys(MS).forEach(function(t){Goe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),MS[e]=MS[t]})});var $oe=/["'&<>]/;function Oo(t){if(typeof t=="boolean"||typeof t=="number")return""+t;t=""+t;var e=$oe.exec(t);if(e){var n="",r,i=0;for(r=e.index;r<t.length;r++){switch(t.charCodeAt(r)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}i!==r&&(n+=t.substring(i,r)),i=r+1,n+=e}t=i!==r?n+t.substring(i,r):n}return t}var Xoe=/([A-Z])/g,joe=/^ms-/,LR=Array.isArray;function mu(t,e){return{insertionMode:t,selectedValue:e}}function Yoe(t,e,n){switch(e){case"select":return mu(1,n.value!=null?n.value:n.defaultValue);case"svg":return mu(2,null);case"math":return mu(3,null);case"foreignObject":return mu(1,null);case"table":return mu(4,null);case"thead":case"tbody":case"tfoot":return mu(5,null);case"colgroup":return mu(7,null);case"tr":return mu(6,null)}return 4<=t.insertionMode||t.insertionMode===0?mu(1,null):t}var x4=new Map;function B4(t,e,n){if(typeof n!="object")throw Error(In(62));e=!0;for(var r in n)if(ss.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var o=Oo(r);i=Oo((""+i).trim())}else{o=r;var s=x4.get(o);s!==void 0||(s=Oo(o.replace(Xoe,"-$1").toLowerCase().replace(joe,"-ms-")),x4.set(o,s)),o=s,i=typeof i=="number"?i===0||ss.call(MS,r)?""+i:i+"px":Oo((""+i).trim())}e?(e=!1,t.push(' style="',o,":",i)):t.push(";",o,":",i)}}e||t.push('"')}function Ps(t,e,n,r){switch(n){case"style":B4(t,e,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(e=ro.hasOwnProperty(n)?ro[n]:null,e!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(n=e.attributeName,e.type){case 3:r&&t.push(" ",n,'=""');break;case 4:r===!0?t.push(" ",n,'=""'):r!==!1&&t.push(" ",n,'="',Oo(r),'"');break;case 5:isNaN(r)||t.push(" ",n,'="',Oo(r),'"');break;case 6:!isNaN(r)&&1<=r&&t.push(" ",n,'="',Oo(r),'"');break;default:e.sanitizeURL&&(r=""+r),t.push(" ",n,'="',Oo(r),'"')}}else if(U4(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(e=n.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}t.push(" ",n,'="',Oo(r),'"')}}}function AS(t,e,n){if(e!=null){if(n!=null)throw Error(In(60));if(typeof e!="object"||!("__html"in e))throw Error(In(61));e=e.__html,e!=null&&t.push(""+e)}}function qoe(t){var e="";return F4.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function IR(t,e,n,r){t.push(wl(n));var i=n=null,o;for(o in e)if(ss.call(e,o)){var s=e[o];if(s!=null)switch(o){case"children":n=s;break;case"dangerouslySetInnerHTML":i=s;break;default:Ps(t,r,o,s)}}return t.push(">"),AS(t,i,n),typeof n=="string"?(t.push(Oo(n)),null):n}var Zoe=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,_4=new Map;function wl(t){var e=_4.get(t);if(e===void 0){if(!Zoe.test(t))throw Error(In(65,t));e="<"+t,_4.set(t,e)}return e}function Koe(t,e,n,r,i){switch(e){case"select":t.push(wl("select"));var o=null,s=null;for(c in n)if(ss.call(n,c)){var a=n[c];if(a!=null)switch(c){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Ps(t,r,c,a)}}return t.push(">"),AS(t,s,o),o;case"option":s=i.selectedValue,t.push(wl("option"));var l=a=null,u=null,c=null;for(o in n)if(ss.call(n,o)){var h=n[o];if(h!=null)switch(o){case"children":a=h;break;case"selected":u=h;break;case"dangerouslySetInnerHTML":c=h;break;case"value":l=h;default:Ps(t,r,o,h)}}if(s!=null)if(n=l!==null?""+l:qoe(a),LR(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){t.push(' selected=""');break}}else""+s===n&&t.push(' selected=""');else u&&t.push(' selected=""');return t.push(">"),AS(t,c,a),a;case"textarea":t.push(wl("textarea")),c=s=o=null;for(a in n)if(ss.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":c=l;break;case"value":o=l;break;case"defaultValue":s=l;break;case"dangerouslySetInnerHTML":throw Error(In(91));default:Ps(t,r,a,l)}if(o===null&&s!==null&&(o=s),t.push(">"),c!=null){if(o!=null)throw Error(In(92));if(LR(c)&&1<c.length)throw Error(In(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&t.push(`
`),o!==null&&t.push(Oo(""+o)),null;case"input":t.push(wl("input")),l=c=a=o=null;for(s in n)if(ss.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(In(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":c=u;break;case"value":o=u;break;default:Ps(t,r,s,u)}return c!==null?Ps(t,r,"checked",c):l!==null&&Ps(t,r,"checked",l),o!==null?Ps(t,r,"value",o):a!==null&&Ps(t,r,"value",a),t.push("/>"),null;case"menuitem":t.push(wl("menuitem"));for(var p in n)if(ss.call(n,p)&&(o=n[p],o!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(In(400));default:Ps(t,r,p,o)}return t.push(">"),null;case"title":t.push(wl("title")),o=null;for(h in n)if(ss.call(n,h)&&(s=n[h],s!=null))switch(h){case"children":o=s;break;case"dangerouslySetInnerHTML":throw Error(In(434));default:Ps(t,r,h,s)}return t.push(">"),o;case"listing":case"pre":t.push(wl(e)),s=o=null;for(l in n)if(ss.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Ps(t,r,l,a)}if(t.push(">"),s!=null){if(o!=null)throw Error(In(60));if(typeof s!="object"||!("__html"in s))throw Error(In(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?t.push(`
`,n):t.push(""+n))}return typeof o=="string"&&o[0]===`
`&&t.push(`
`),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":t.push(wl(e));for(var d in n)if(ss.call(n,d)&&(o=n[d],o!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(In(399,e));default:Ps(t,r,d,o)}return t.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return IR(t,n,e,r);case"html":return i.insertionMode===0&&t.push("<!DOCTYPE html>"),IR(t,n,e,r);default:if(e.indexOf("-")===-1&&typeof n.is!="string")return IR(t,n,e,r);t.push(wl(e)),s=o=null;for(u in n)if(ss.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":B4(t,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:U4(u)&&typeof a!="function"&&typeof a!="symbol"&&t.push(" ",u,'="',Oo(a),'"')}return t.push(">"),AS(t,s,o),o}}function S4(t,e,n){if(t.push('<!--$?--><template id="'),n===null)throw Error(In(395));return t.push(n),t.push('"></template>')}function Joe(t,e,n,r){switch(n.insertionMode){case 0:case 1:return t.push('<div hidden id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 2:return t.push('<svg aria-hidden="true" style="display:none" id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 3:return t.push('<math aria-hidden="true" style="display:none" id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 4:return t.push('<table hidden id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 5:return t.push('<table hidden><tbody id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 6:return t.push('<table hidden><tr id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 7:return t.push('<table hidden><colgroup id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');default:throw Error(In(397))}}function Qoe(t,e){switch(e.insertionMode){case 0:case 1:return t.push("</div>");case 2:return t.push("</svg>");case 3:return t.push("</math>");case 4:return t.push("</table>");case 5:return t.push("</tbody></table>");case 6:return t.push("</tr></table>");case 7:return t.push("</colgroup></table>");default:throw Error(In(397))}}var ese=/[<\u2028\u2029]/g;function NR(t){return JSON.stringify(t).replace(ese,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function tse(t,e){return e=e===void 0?"":e,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:e+"P:",segmentPrefix:e+"S:",boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:t}}function b4(t,e,n,r){return n.generateStaticMarkup?(t.push(Oo(e)),!1):(e===""?t=r:(r&&t.push("<!-- -->"),t.push(Oo(e)),t=!0),t)}var Bv=Object.assign,nse=Symbol.for("react.element"),z4=Symbol.for("react.portal"),H4=Symbol.for("react.fragment"),V4=Symbol.for("react.strict_mode"),W4=Symbol.for("react.profiler"),G4=Symbol.for("react.provider"),$4=Symbol.for("react.context"),X4=Symbol.for("react.forward_ref"),j4=Symbol.for("react.suspense"),Y4=Symbol.for("react.suspense_list"),q4=Symbol.for("react.memo"),HR=Symbol.for("react.lazy"),rse=Symbol.for("react.scope"),ise=Symbol.for("react.debug_trace_mode"),ose=Symbol.for("react.legacy_hidden"),sse=Symbol.for("react.default_value"),w4=Symbol.iterator;function DR(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H4:return"Fragment";case z4:return"Portal";case W4:return"Profiler";case V4:return"StrictMode";case j4:return"Suspense";case Y4:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $4:return(t.displayName||"Context")+".Consumer";case G4:return(t._context.displayName||"Context")+".Provider";case X4:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q4:return e=t.displayName||null,e!==null?e:DR(t.type)||"Memo";case HR:e=t._payload,t=t._init;try{return DR(t(e))}catch{}}return null}var Z4={};function E4(t,e){if(t=t.contextTypes,!t)return Z4;var n={},r;for(r in t)n[r]=e[r];return n}var lh=null;function FS(t,e){if(t!==e){t.context._currentValue2=t.parentValue,t=t.parent;var n=e.parent;if(t===null){if(n!==null)throw Error(In(401))}else{if(n===null)throw Error(In(401));FS(t,n)}e.context._currentValue2=e.value}}function K4(t){t.context._currentValue2=t.parentValue,t=t.parent,t!==null&&K4(t)}function J4(t){var e=t.parent;e!==null&&J4(e),t.context._currentValue2=t.value}function Q4(t,e){if(t.context._currentValue2=t.parentValue,t=t.parent,t===null)throw Error(In(402));t.depth===e.depth?FS(t,e):Q4(t,e)}function ez(t,e){var n=e.parent;if(n===null)throw Error(In(402));t.depth===n.depth?FS(t,n):ez(t,n),e.context._currentValue2=e.value}function NS(t){var e=lh;e!==t&&(e===null?J4(t):t===null?K4(e):e.depth===t.depth?FS(e,t):e.depth>t.depth?Q4(e,t):ez(e,t),lh=t)}var T4={isMounted:function(){return!1},enqueueSetState:function(t,e){t=t._reactInternals,t.queue!==null&&t.queue.push(e)},enqueueReplaceState:function(t,e){t=t._reactInternals,t.replace=!0,t.queue=[e]},enqueueForceUpdate:function(){}};function C4(t,e,n,r){var i=t.state!==void 0?t.state:null;t.updater=T4,t.props=n,t.state=i;var o={queue:[],replace:!1};t._reactInternals=o;var s=e.contextType;if(t.context=typeof s=="object"&&s!==null?s._currentValue2:r,s=e.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,i),i=s==null?i:Bv({},i,s),t.state=i),typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function"&&(typeof t.UNSAFE_componentWillMount=="function"||typeof t.componentWillMount=="function"))if(e=t.state,typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount(),e!==t.state&&T4.enqueueReplaceState(t,t.state,null),o.queue!==null&&0<o.queue.length)if(e=o.queue,s=o.replace,o.queue=null,o.replace=!1,s&&e.length===1)t.state=e[0];else{for(o=s?e[0]:t.state,i=!0,s=s?1:0;s<e.length;s++){var a=e[s];a=typeof a=="function"?a.call(t,o,n,r):a,a!=null&&(i?(i=!1,o=Bv({},o,a)):Bv(o,a))}t.state=o}else o.queue=null}var ase={id:1,overflow:""};function kR(t,e,n){var r=t.id;t=t.overflow;var i=32-PS(r)-1;r&=~(1<<i),n+=1;var o=32-PS(e)+i;if(30<o){var s=i-i%5;return o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,{id:1<<32-PS(e)+i|n<<i|r,overflow:o+t}}return{id:1<<o|n<<i|r,overflow:t}}var PS=Math.clz32?Math.clz32:cse,lse=Math.log,use=Math.LN2;function cse(t){return t>>>=0,t===0?32:31-(lse(t)/use|0)|0}function fse(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hse=typeof Object.is=="function"?Object.is:fse,gu=null,VR=null,RS=null,Tr=null,Fv=!1,OS=!1,zv=0,Nc=null,US=0;function ah(){if(gu===null)throw Error(In(321));return gu}function M4(){if(0<US)throw Error(In(312));return{memoizedState:null,queue:null,next:null}}function WR(){return Tr===null?RS===null?(Fv=!1,RS=Tr=M4()):(Fv=!0,Tr=RS):Tr.next===null?(Fv=!1,Tr=Tr.next=M4()):(Fv=!0,Tr=Tr.next),Tr}function GR(){VR=gu=null,OS=!1,RS=null,US=0,Tr=Nc=null}function tz(t,e){return typeof e=="function"?e(t):e}function A4(t,e,n){if(gu=ah(),Tr=WR(),Fv){var r=Tr.queue;if(e=r.dispatch,Nc!==null&&(n=Nc.get(r),n!==void 0)){Nc.delete(r),r=Tr.memoizedState;do r=t(r,n.action),n=n.next;while(n!==null);return Tr.memoizedState=r,[r,e]}return[Tr.memoizedState,e]}return t=t===tz?typeof e=="function"?e():e:n!==void 0?n(e):e,Tr.memoizedState=t,t=Tr.queue={last:null,dispatch:null},t=t.dispatch=pse.bind(null,gu,t),[Tr.memoizedState,t]}function P4(t,e){if(gu=ah(),Tr=WR(),e=e===void 0?null:e,Tr!==null){var n=Tr.memoizedState;if(n!==null&&e!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<e.length;i++)if(!hse(e[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return t=t(),Tr.memoizedState=[t,e],t}function pse(t,e,n){if(25<=US)throw Error(In(301));if(t===gu)if(OS=!0,t={action:n,next:null},Nc===null&&(Nc=new Map),n=Nc.get(e),n===void 0)Nc.set(e,t);else{for(e=n;e.next!==null;)e=e.next;e.next=t}}function dse(){throw Error(In(394))}function TS(){}var R4={readContext:function(t){return t._currentValue2},useContext:function(t){return ah(),t._currentValue2},useMemo:P4,useReducer:A4,useRef:function(t){gu=ah(),Tr=WR();var e=Tr.memoizedState;return e===null?(t={current:t},Tr.memoizedState=t):e},useState:function(t){return A4(tz,t)},useInsertionEffect:TS,useLayoutEffect:function(){},useCallback:function(t,e){return P4(function(){return t},e)},useImperativeHandle:TS,useEffect:TS,useDebugValue:TS,useDeferredValue:function(t){return ah(),t},useTransition:function(){return ah(),[!1,dse]},useId:function(){var t=VR.treeContext,e=t.overflow;t=t.id,t=(t&~(1<<32-PS(t)-1)).toString(32)+e;var n=IS;if(n===null)throw Error(In(404));return e=zv++,t=":"+n.idPrefix+"R"+t,0<e&&(t+="H"+e.toString(32)),t+":"},useMutableSource:function(t,e){return ah(),e(t._source)},useSyncExternalStore:function(t,e,n){if(n===void 0)throw Error(In(407));return n()}},IS=null,OR=F4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function mse(t){return console.error(t),null}function Uv(){}function gse(t,e,n,r,i,o,s,a,l){var u=[],c=new Set;return e={destination:null,responseState:e,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?mse:i,onAllReady:o===void 0?Uv:o,onShellReady:s===void 0?Uv:s,onShellError:a===void 0?Uv:a,onFatalError:l===void 0?Uv:l},n=LS(e,0,null,n,!1,!1),n.parentFlushed=!0,t=$R(e,t,null,n,c,Z4,null,ase),u.push(t),e}function $R(t,e,n,r,i,o,s,a){t.allPendingTasks++,n===null?t.pendingRootTasks++:n.pendingTasks++;var l={node:e,ping:function(){var u=t.pingedTasks;u.push(l),u.length===1&&iz(t)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:o,context:s,treeContext:a};return i.add(l),l}function LS(t,e,n,r,i,o){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:o}}function Hv(t,e){if(t=t.onError(e),t!=null&&typeof t!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function DS(t,e){var n=t.onShellError;n(e),n=t.onFatalError,n(e),t.destination!==null?(t.status=2,t.destination.destroy(e)):(t.status=1,t.fatalError=e)}function I4(t,e,n,r,i){for(gu={},VR=e,zv=0,t=n(r,i);OS;)OS=!1,zv=0,US+=1,Tr=null,t=n(r,i);return GR(),t}function N4(t,e,n,r){var i=n.render(),o=r.childContextTypes;if(o!=null){var s=e.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in o))throw Error(In(108,DR(r)||"Unknown",a));r=Bv({},s,n)}e.legacyContext=r,Rs(t,e,i),e.legacyContext=s}else Rs(t,e,i)}function O4(t,e){if(t&&t.defaultProps){e=Bv({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function FR(t,e,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=E4(n,e.legacyContext);var o=n.contextType;o=new n(r,typeof o=="object"&&o!==null?o._currentValue2:i),C4(o,n,r,i),N4(t,e,o,n)}else{o=E4(n,e.legacyContext),i=I4(t,e,n,r,o);var s=zv!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)C4(i,n,r,o),N4(t,e,i,n);else if(s){r=e.treeContext,e.treeContext=kR(r,1,0);try{Rs(t,e,i)}finally{e.treeContext=r}}else Rs(t,e,i)}else if(typeof n=="string"){switch(i=e.blockedSegment,o=Koe(i.chunks,n,r,t.responseState,i.formatContext),i.lastPushedText=!1,s=i.formatContext,i.formatContext=Yoe(s,n,r),UR(t,e,o),i.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",n,">")}i.lastPushedText=!1}else{switch(n){case ose:case ise:case V4:case W4:case H4:Rs(t,e,r.children);return;case Y4:Rs(t,e,r.children);return;case rse:throw Error(In(343));case j4:e:{n=e.blockedBoundary,i=e.blockedSegment,o=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},l=LS(t,i.chunks.length,a,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=LS(t,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=a,e.blockedSegment=u;try{if(UR(t,e,r),t.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,kS(a,u),a.pendingTasks===0)break e}catch(c){u.status=4,a.forceClientRender=!0,a.errorDigest=Hv(t,c)}finally{e.blockedBoundary=n,e.blockedSegment=i}e=$R(t,o,n,l,s,e.legacyContext,e.context,e.treeContext),t.pingedTasks.push(e)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case X4:if(r=I4(t,e,n.render,r,i),zv!==0){n=e.treeContext,e.treeContext=kR(n,1,0);try{Rs(t,e,r)}finally{e.treeContext=n}}else Rs(t,e,r);return;case q4:n=n.type,r=O4(n,r),FR(t,e,n,r,i);return;case G4:if(i=r.children,n=n._context,r=r.value,o=n._currentValue2,n._currentValue2=r,s=lh,lh=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:o,value:r},e.context=r,Rs(t,e,i),t=lh,t===null)throw Error(In(403));r=t.parentValue,t.context._currentValue2=r===sse?t.context._defaultValue:r,t=lh=t.parent,e.context=t;return;case $4:r=r.children,r=r(n._currentValue2),Rs(t,e,r);return;case HR:i=n._init,n=i(n._payload),r=O4(n,r),FR(t,e,n,r,void 0);return}throw Error(In(130,n==null?n:typeof n,""))}}function Rs(t,e,n){if(e.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case nse:FR(t,e,n.type,n.props,n.ref);return;case z4:throw Error(In(257));case HR:var r=n._init;n=r(n._payload),Rs(t,e,n);return}if(LR(n)){L4(t,e,n);return}if(n===null||typeof n!="object"?r=null:(r=w4&&n[w4]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);L4(t,e,i)}return}throw t=Object.prototype.toString.call(n),Error(In(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}typeof n=="string"?(r=e.blockedSegment,r.lastPushedText=b4(e.blockedSegment.chunks,n,t.responseState,r.lastPushedText)):typeof n=="number"&&(r=e.blockedSegment,r.lastPushedText=b4(e.blockedSegment.chunks,""+n,t.responseState,r.lastPushedText))}function L4(t,e,n){for(var r=n.length,i=0;i<r;i++){var o=e.treeContext;e.treeContext=kR(o,r,i);try{UR(t,e,n[i])}finally{e.treeContext=o}}}function UR(t,e,n){var r=e.blockedSegment.formatContext,i=e.legacyContext,o=e.context;try{return Rs(t,e,n)}catch(l){if(GR(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var s=e.blockedSegment,a=LS(t,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,t=$R(t,e.node,e.blockedBoundary,a,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,n.then(t,t),e.blockedSegment.formatContext=r,e.legacyContext=i,e.context=o,NS(o)}else throw e.blockedSegment.formatContext=r,e.legacyContext=i,e.context=o,NS(o),l}}function vse(t){var e=t.blockedBoundary;t=t.blockedSegment,t.status=3,rz(this,e,t)}function nz(t,e,n){var r=t.blockedBoundary;t.blockedSegment.status=3,r===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,t=n===void 0?Error(In(432)):n,r.errorDigest=e.onError(t),r.parentFlushed&&e.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return nz(i,e,n)}),r.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(r=e.onAllReady,r()))}function kS(t,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var n=e.children[0];n.id=e.id,n.parentFlushed=!0,n.status===1&&kS(t,n)}else t.completedSegments.push(e)}function rz(t,e,n){if(e===null){if(n.parentFlushed){if(t.completedRootSegment!==null)throw Error(In(389));t.completedRootSegment=n}t.pendingRootTasks--,t.pendingRootTasks===0&&(t.onShellError=Uv,e=t.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(n.parentFlushed&&n.status===1&&kS(e,n),e.parentFlushed&&t.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(vse,t),e.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(kS(e,n),e.completedSegments.length===1&&e.parentFlushed&&t.partialBoundaries.push(e)));t.allPendingTasks--,t.allPendingTasks===0&&(t=t.onAllReady,t())}function iz(t){if(t.status!==2){var e=lh,n=OR.current;OR.current=R4;var r=IS;IS=t.responseState;try{var i=t.pingedTasks,o;for(o=0;o<i.length;o++){var s=i[o],a=t,l=s.blockedSegment;if(l.status===0){NS(s.context);try{Rs(a,s,s.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),s.abortSet.delete(s),l.status=1,rz(a,s.blockedBoundary,l)}catch(v){if(GR(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),l.status=4;var c=s.blockedBoundary,h=v,p=Hv(a,h);if(c===null?DS(a,h):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=p,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,a.allPendingTasks===0){var d=a.onAllReady;d()}}}finally{}}}i.splice(0,o),t.destination!==null&&XR(t,t.destination)}catch(v){Hv(t,v),DS(t,v)}finally{IS=r,OR.current=n,n===R4&&NS(e)}}}function CS(t,e,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=t.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,t=t.responseState,e.push('<template id="'),e.push(t.placeholderPrefix),t=r.toString(16),e.push(t),e.push('"></template>');case 1:n.status=2;var i=!0;r=n.chunks;var o=0;n=n.children;for(var s=0;s<n.length;s++){for(i=n[s];o<i.index;o++)e.push(r[o]);i=BS(t,e,i)}for(;o<r.length-1;o++)e.push(r[o]);return o<r.length&&(i=e.push(r[o])),i;default:throw Error(In(390))}}function BS(t,e,n){var r=n.boundary;if(r===null)return CS(t,e,n);if(r.parentFlushed=!0,r.forceClientRender)return t.responseState.generateStaticMarkup||(r=r.errorDigest,e.push("<!--$!-->"),e.push("<template"),r&&(e.push(' data-dgst="'),r=Oo(r),e.push(r),e.push('"')),e.push("></template>")),CS(t,e,n),t=t.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),t;if(0<r.pendingTasks){r.rootSegmentID=t.nextSegmentId++,0<r.completedSegments.length&&t.partialBoundaries.push(r);var i=t.responseState,o=i.nextSuspenseID++;return i=i.boundaryPrefix+o.toString(16),r=r.id=i,S4(e,t.responseState,r),CS(t,e,n),e.push("<!--/$-->")}if(r.byteSize>t.progressiveChunkSize)return r.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(r),S4(e,t.responseState,r.id),CS(t,e,n),e.push("<!--/$-->");if(t.responseState.generateStaticMarkup||e.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(In(391));return BS(t,e,n[0]),t=t.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),t}function D4(t,e,n){return Joe(e,t.responseState,n.formatContext,n.id),BS(t,e,n),Qoe(e,n.formatContext)}function k4(t,e,n){for(var r=n.completedSegments,i=0;i<r.length;i++)oz(t,e,n,r[i]);if(r.length=0,t=t.responseState,r=n.id,n=n.rootSegmentID,e.push(t.startInlineScript),t.sentCompleteBoundaryFunction?e.push('$RC("'):(t.sentCompleteBoundaryFunction=!0,e.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(In(395));return n=n.toString(16),e.push(r),e.push('","'),e.push(t.segmentPrefix),e.push(n),e.push('")<\/script>')}function oz(t,e,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(In(392));return D4(t,e,r)}return D4(t,e,r),t=t.responseState,e.push(t.startInlineScript),t.sentCompleteSegmentFunction?e.push('$RS("'):(t.sentCompleteSegmentFunction=!0,e.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),e.push(t.segmentPrefix),i=i.toString(16),e.push(i),e.push('","'),e.push(t.placeholderPrefix),e.push(i),e.push('")<\/script>')}function XR(t,e){try{var n=t.completedRootSegment;if(n!==null&&t.pendingRootTasks===0){BS(t,e,n),t.completedRootSegment=null;var r=t.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)e.push(r[n]);n<r.length&&e.push(r[n])}var i=t.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var s=i[o];r=e;var a=t.responseState,l=s.id,u=s.errorDigest,c=s.errorMessage,h=s.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(In(395));if(r.push(l),r.push('"'),u||c||h){r.push(",");var p=NR(u||"");r.push(p)}if(c||h){r.push(",");var d=NR(c||"");r.push(d)}if(h){r.push(",");var v=NR(h);r.push(v)}if(!r.push(")<\/script>")){t.destination=null,o++,i.splice(0,o);return}}i.splice(0,o);var b=t.completedBoundaries;for(o=0;o<b.length;o++)if(!k4(t,e,b[o])){t.destination=null,o++,b.splice(0,o);return}b.splice(0,o);var S=t.partialBoundaries;for(o=0;o<S.length;o++){var y=S[o];e:{i=t,s=e;var T=y.completedSegments;for(a=0;a<T.length;a++)if(!oz(i,s,y,T[a])){a++,T.splice(0,a);var E=!1;break e}T.splice(0,a),E=!0}if(!E){t.destination=null,o++,S.splice(0,o);return}}S.splice(0,o);var A=t.completedBoundaries;for(o=0;o<A.length;o++)if(!k4(t,e,A[o])){t.destination=null,o++,A.splice(0,o);return}A.splice(0,o)}finally{t.allPendingTasks===0&&t.pingedTasks.length===0&&t.clientRenderedBoundaries.length===0&&t.completedBoundaries.length===0&&e.push(null)}}function yse(t,e){try{var n=t.abortableTasks;n.forEach(function(r){return nz(r,t,e)}),n.clear(),t.destination!==null&&XR(t,t.destination)}catch(r){Hv(t,r),DS(t,r)}}function xse(){}function sz(t,e,n,r){var i=!1,o=null,s="",a={push:function(u){return u!==null&&(s+=u),!0},destroy:function(u){i=!0,o=u}},l=!1;if(t=gse(t,tse(n,e?e.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,xse,void 0,function(){l=!0},void 0,void 0),iz(t),yse(t,r),t.status===1)t.status=2,a.destroy(t.fatalError);else if(t.status!==2&&t.destination===null){t.destination=a;try{XR(t,a)}catch(u){Hv(t,u),DS(t,u)}}if(i)throw o;if(!l)throw Error(In(426));return s}dd.renderToNodeStream=function(){throw Error(In(207))};dd.renderToStaticMarkup=function(t,e){return sz(t,e,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};dd.renderToStaticNodeStream=function(){throw Error(In(208))};dd.renderToString=function(t,e){return sz(t,e,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};dd.version="18.3.1"});var o6=kt(pI=>{"use strict";var Lz=me();function Bn(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ns=null,Os=0;function ln(t,e){if(e.length!==0)if(512<e.length)0<Os&&(t.enqueue(new Uint8Array(Ns.buffer,0,Os)),Ns=new Uint8Array(512),Os=0),t.enqueue(e);else{var n=Ns.length-Os;n<e.length&&(n===0?t.enqueue(Ns):(Ns.set(e.subarray(0,n),Os),t.enqueue(Ns),e=e.subarray(n)),Ns=new Uint8Array(512),Os=0),Ns.set(e,Os),Os+=e.length}}function Nr(t,e){return ln(t,e),!0}function lz(t){Ns&&0<Os&&(t.enqueue(new Uint8Array(Ns.buffer,0,Os)),Ns=null,Os=0)}var Dz=new TextEncoder;function Wn(t){return Dz.encode(t)}function $t(t){return Dz.encode(t)}function kz(t,e){typeof t.error=="function"?t.error(e):t.close()}var as=Object.prototype.hasOwnProperty,_se=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uz={},cz={};function Fz(t){return as.call(cz,t)?!0:as.call(uz,t)?!1:_se.test(t)?cz[t]=!0:(uz[t]=!0,!1)}function Do(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var oo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){oo[t]=new Do(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];oo[e]=new Do(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){oo[t]=new Do(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){oo[t]=new Do(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){oo[t]=new Do(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){oo[t]=new Do(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){oo[t]=new Do(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){oo[t]=new Do(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){oo[t]=new Do(t,5,!1,t.toLowerCase(),null,!1,!1)});var iI=/[\-:]([a-z])/g;function oI(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iI,oI);oo[e]=new Do(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iI,oI);oo[e]=new Do(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iI,oI);oo[e]=new Do(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){oo[t]=new Do(t,1,!1,t.toLowerCase(),null,!1,!1)});oo.xlinkHref=new Do("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){oo[t]=new Do(t,1,!1,t.toLowerCase(),null,!0,!0)});var VS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sse=["Webkit","ms","Moz","O"];Object.keys(VS).forEach(function(t){Sse.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),VS[e]=VS[t]})});var bse=/["'&<>]/;function io(t){if(typeof t=="boolean"||typeof t=="number")return""+t;t=""+t;var e=bse.exec(t);if(e){var n="",r,i=0;for(r=e.index;r<t.length;r++){switch(t.charCodeAt(r)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}i!==r&&(n+=t.substring(i,r)),i=r+1,n+=e}t=i!==r?n+t.substring(i,r):n}return t}var wse=/([A-Z])/g,Ese=/^ms-/,QR=Array.isArray,Tse=$t("<script>"),Cse=$t("<\/script>"),Mse=$t('<script src="'),Ase=$t('<script type="module" src="'),fz=$t('" async=""><\/script>'),Pse=/(<\/|<)(s)(cript)/gi;function Rse(t,e,n,r){return""+e+(n==="s"?"\\u0073":"\\u0053")+r}function Ise(t,e,n,r,i){t=t===void 0?"":t,e=e===void 0?Tse:$t('<script nonce="'+io(e)+'">');var o=[];if(n!==void 0&&o.push(e,Wn((""+n).replace(Pse,Rse)),Cse),r!==void 0)for(n=0;n<r.length;n++)o.push(Mse,Wn(io(r[n])),fz);if(i!==void 0)for(r=0;r<i.length;r++)o.push(Ase,Wn(io(i[r])),fz);return{bootstrapChunks:o,startInlineScript:e,placeholderPrefix:$t(t+"P:"),segmentPrefix:$t(t+"S:"),boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function El(t,e){return{insertionMode:t,selectedValue:e}}function Nse(t){return El(t==="http://www.w3.org/2000/svg"?2:t==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function Ose(t,e,n){switch(e){case"select":return El(1,n.value!=null?n.value:n.defaultValue);case"svg":return El(2,null);case"math":return El(3,null);case"foreignObject":return El(1,null);case"table":return El(4,null);case"thead":case"tbody":case"tfoot":return El(5,null);case"colgroup":return El(7,null);case"tr":return El(6,null)}return 4<=t.insertionMode||t.insertionMode===0?El(1,null):t}var sI=$t("<!-- -->");function hz(t,e,n,r){return e===""?r:(r&&t.push(sI),t.push(Wn(io(e))),!0)}var pz=new Map,Lse=$t(' style="'),dz=$t(":"),Dse=$t(";");function Uz(t,e,n){if(typeof n!="object")throw Error(Bn(62));e=!0;for(var r in n)if(as.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var o=Wn(io(r));i=Wn(io((""+i).trim()))}else{o=r;var s=pz.get(o);s!==void 0||(s=$t(io(o.replace(wse,"-$1").toLowerCase().replace(Ese,"-ms-"))),pz.set(o,s)),o=s,i=typeof i=="number"?i===0||as.call(VS,r)?Wn(""+i):Wn(i+"px"):Wn(io((""+i).trim()))}e?(e=!1,t.push(Lse,o,dz,i)):t.push(Dse,o,dz,i)}}e||t.push(uh)}var Oc=$t(" "),md=$t('="'),uh=$t('"'),mz=$t('=""');function Is(t,e,n,r){switch(n){case"style":Uz(t,e,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(e=oo.hasOwnProperty(n)?oo[n]:null,e!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(n=Wn(e.attributeName),e.type){case 3:r&&t.push(Oc,n,mz);break;case 4:r===!0?t.push(Oc,n,mz):r!==!1&&t.push(Oc,n,md,Wn(io(r)),uh);break;case 5:isNaN(r)||t.push(Oc,n,md,Wn(io(r)),uh);break;case 6:!isNaN(r)&&1<=r&&t.push(Oc,n,md,Wn(io(r)),uh);break;default:e.sanitizeURL&&(r=""+r),t.push(Oc,n,md,Wn(io(r)),uh)}}else if(Fz(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(e=n.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}t.push(Oc,Wn(n),md,Wn(io(r)),uh)}}}var Lc=$t(">"),gz=$t("/>");function WS(t,e,n){if(e!=null){if(n!=null)throw Error(Bn(60));if(typeof e!="object"||!("__html"in e))throw Error(Bn(61));e=e.__html,e!=null&&t.push(Wn(""+e))}}function kse(t){var e="";return Lz.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}var jR=$t(' selected=""');function YR(t,e,n,r){t.push(Tl(n));var i=n=null,o;for(o in e)if(as.call(e,o)){var s=e[o];if(s!=null)switch(o){case"children":n=s;break;case"dangerouslySetInnerHTML":i=s;break;default:Is(t,r,o,s)}}return t.push(Lc),WS(t,i,n),typeof n=="string"?(t.push(Wn(io(n))),null):n}var qR=$t(`
`),Fse=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,vz=new Map;function Tl(t){var e=vz.get(t);if(e===void 0){if(!Fse.test(t))throw Error(Bn(65,t));e=$t("<"+t),vz.set(t,e)}return e}var Use=$t("<!DOCTYPE html>");function Bse(t,e,n,r,i){switch(e){case"select":t.push(Tl("select"));var o=null,s=null;for(c in n)if(as.call(n,c)){var a=n[c];if(a!=null)switch(c){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Is(t,r,c,a)}}return t.push(Lc),WS(t,s,o),o;case"option":s=i.selectedValue,t.push(Tl("option"));var l=a=null,u=null,c=null;for(o in n)if(as.call(n,o)){var h=n[o];if(h!=null)switch(o){case"children":a=h;break;case"selected":u=h;break;case"dangerouslySetInnerHTML":c=h;break;case"value":l=h;default:Is(t,r,o,h)}}if(s!=null)if(n=l!==null?""+l:kse(a),QR(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){t.push(jR);break}}else""+s===n&&t.push(jR);else u&&t.push(jR);return t.push(Lc),WS(t,c,a),a;case"textarea":t.push(Tl("textarea")),c=s=o=null;for(a in n)if(as.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":c=l;break;case"value":o=l;break;case"defaultValue":s=l;break;case"dangerouslySetInnerHTML":throw Error(Bn(91));default:Is(t,r,a,l)}if(o===null&&s!==null&&(o=s),t.push(Lc),c!=null){if(o!=null)throw Error(Bn(92));if(QR(c)&&1<c.length)throw Error(Bn(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&t.push(qR),o!==null&&t.push(Wn(io(""+o))),null;case"input":t.push(Tl("input")),l=c=a=o=null;for(s in n)if(as.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Bn(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":c=u;break;case"value":o=u;break;default:Is(t,r,s,u)}return c!==null?Is(t,r,"checked",c):l!==null&&Is(t,r,"checked",l),o!==null?Is(t,r,"value",o):a!==null&&Is(t,r,"value",a),t.push(gz),null;case"menuitem":t.push(Tl("menuitem"));for(var p in n)if(as.call(n,p)&&(o=n[p],o!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Bn(400));default:Is(t,r,p,o)}return t.push(Lc),null;case"title":t.push(Tl("title")),o=null;for(h in n)if(as.call(n,h)&&(s=n[h],s!=null))switch(h){case"children":o=s;break;case"dangerouslySetInnerHTML":throw Error(Bn(434));default:Is(t,r,h,s)}return t.push(Lc),o;case"listing":case"pre":t.push(Tl(e)),s=o=null;for(l in n)if(as.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Is(t,r,l,a)}if(t.push(Lc),s!=null){if(o!=null)throw Error(Bn(60));if(typeof s!="object"||!("__html"in s))throw Error(Bn(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?t.push(qR,Wn(n)):t.push(Wn(""+n)))}return typeof o=="string"&&o[0]===`
`&&t.push(qR),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":t.push(Tl(e));for(var d in n)if(as.call(n,d)&&(o=n[d],o!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(Bn(399,e));default:Is(t,r,d,o)}return t.push(gz),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return YR(t,n,e,r);case"html":return i.insertionMode===0&&t.push(Use),YR(t,n,e,r);default:if(e.indexOf("-")===-1&&typeof n.is!="string")return YR(t,n,e,r);t.push(Tl(e)),s=o=null;for(u in n)if(as.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":Uz(t,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Fz(u)&&typeof a!="function"&&typeof a!="symbol"&&t.push(Oc,Wn(u),md,Wn(io(a)),uh)}return t.push(Lc),WS(t,s,o),o}}var zse=$t("</"),Hse=$t(">"),Vse=$t('<template id="'),Wse=$t('"></template>'),Gse=$t("<!--$-->"),$se=$t('<!--$?--><template id="'),Xse=$t('"></template>'),jse=$t("<!--$!-->"),Yse=$t("<!--/$-->"),qse=$t("<template"),Zse=$t('"'),Kse=$t(' data-dgst="');$t(' data-msg="');$t(' data-stck="');var Jse=$t("></template>");function yz(t,e,n){if(ln(t,$se),n===null)throw Error(Bn(395));return ln(t,n),Nr(t,Xse)}var Qse=$t('<div hidden id="'),eae=$t('">'),tae=$t("</div>"),nae=$t('<svg aria-hidden="true" style="display:none" id="'),rae=$t('">'),iae=$t("</svg>"),oae=$t('<math aria-hidden="true" style="display:none" id="'),sae=$t('">'),aae=$t("</math>"),lae=$t('<table hidden id="'),uae=$t('">'),cae=$t("</table>"),fae=$t('<table hidden><tbody id="'),hae=$t('">'),pae=$t("</tbody></table>"),dae=$t('<table hidden><tr id="'),mae=$t('">'),gae=$t("</tr></table>"),vae=$t('<table hidden><colgroup id="'),yae=$t('">'),xae=$t("</colgroup></table>");function _ae(t,e,n,r){switch(n.insertionMode){case 0:case 1:return ln(t,Qse),ln(t,e.segmentPrefix),ln(t,Wn(r.toString(16))),Nr(t,eae);case 2:return ln(t,nae),ln(t,e.segmentPrefix),ln(t,Wn(r.toString(16))),Nr(t,rae);case 3:return ln(t,oae),ln(t,e.segmentPrefix),ln(t,Wn(r.toString(16))),Nr(t,sae);case 4:return ln(t,lae),ln(t,e.segmentPrefix),ln(t,Wn(r.toString(16))),Nr(t,uae);case 5:return ln(t,fae),ln(t,e.segmentPrefix),ln(t,Wn(r.toString(16))),Nr(t,hae);case 6:return ln(t,dae),ln(t,e.segmentPrefix),ln(t,Wn(r.toString(16))),Nr(t,mae);case 7:return ln(t,vae),ln(t,e.segmentPrefix),ln(t,Wn(r.toString(16))),Nr(t,yae);default:throw Error(Bn(397))}}function Sae(t,e){switch(e.insertionMode){case 0:case 1:return Nr(t,tae);case 2:return Nr(t,iae);case 3:return Nr(t,aae);case 4:return Nr(t,cae);case 5:return Nr(t,pae);case 6:return Nr(t,gae);case 7:return Nr(t,xae);default:throw Error(Bn(397))}}var bae=$t('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),wae=$t('$RS("'),Eae=$t('","'),Tae=$t('")<\/script>'),Cae=$t('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Mae=$t('$RC("'),Aae=$t('","'),Pae=$t('")<\/script>'),Rae=$t('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Iae=$t('$RX("'),Nae=$t('"'),Oae=$t(")<\/script>"),ZR=$t(","),Lae=/[<\u2028\u2029]/g;function KR(t){return JSON.stringify(t).replace(Lae,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Gv=Object.assign,Dae=Symbol.for("react.element"),Bz=Symbol.for("react.portal"),zz=Symbol.for("react.fragment"),Hz=Symbol.for("react.strict_mode"),Vz=Symbol.for("react.profiler"),Wz=Symbol.for("react.provider"),Gz=Symbol.for("react.context"),$z=Symbol.for("react.forward_ref"),Xz=Symbol.for("react.suspense"),jz=Symbol.for("react.suspense_list"),Yz=Symbol.for("react.memo"),aI=Symbol.for("react.lazy"),kae=Symbol.for("react.scope"),Fae=Symbol.for("react.debug_trace_mode"),Uae=Symbol.for("react.legacy_hidden"),Bae=Symbol.for("react.default_value"),xz=Symbol.iterator;function eI(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zz:return"Fragment";case Bz:return"Portal";case Vz:return"Profiler";case Hz:return"StrictMode";case Xz:return"Suspense";case jz:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gz:return(t.displayName||"Context")+".Consumer";case Wz:return(t._context.displayName||"Context")+".Provider";case $z:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yz:return e=t.displayName||null,e!==null?e:eI(t.type)||"Memo";case aI:e=t._payload,t=t._init;try{return eI(t(e))}catch{}}return null}var qz={};function _z(t,e){if(t=t.contextTypes,!t)return qz;var n={},r;for(r in t)n[r]=e[r];return n}var fh=null;function JS(t,e){if(t!==e){t.context._currentValue=t.parentValue,t=t.parent;var n=e.parent;if(t===null){if(n!==null)throw Error(Bn(401))}else{if(n===null)throw Error(Bn(401));JS(t,n)}e.context._currentValue=e.value}}function Zz(t){t.context._currentValue=t.parentValue,t=t.parent,t!==null&&Zz(t)}function Kz(t){var e=t.parent;e!==null&&Kz(e),t.context._currentValue=t.value}function Jz(t,e){if(t.context._currentValue=t.parentValue,t=t.parent,t===null)throw Error(Bn(402));t.depth===e.depth?JS(t,e):Jz(t,e)}function Qz(t,e){var n=e.parent;if(n===null)throw Error(Bn(402));t.depth===n.depth?JS(t,n):Qz(t,n),e.context._currentValue=e.value}function jS(t){var e=fh;e!==t&&(e===null?Kz(t):t===null?Zz(e):e.depth===t.depth?JS(e,t):e.depth>t.depth?Jz(e,t):Qz(e,t),fh=t)}var Sz={isMounted:function(){return!1},enqueueSetState:function(t,e){t=t._reactInternals,t.queue!==null&&t.queue.push(e)},enqueueReplaceState:function(t,e){t=t._reactInternals,t.replace=!0,t.queue=[e]},enqueueForceUpdate:function(){}};function bz(t,e,n,r){var i=t.state!==void 0?t.state:null;t.updater=Sz,t.props=n,t.state=i;var o={queue:[],replace:!1};t._reactInternals=o;var s=e.contextType;if(t.context=typeof s=="object"&&s!==null?s._currentValue:r,s=e.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,i),i=s==null?i:Gv({},i,s),t.state=i),typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function"&&(typeof t.UNSAFE_componentWillMount=="function"||typeof t.componentWillMount=="function"))if(e=t.state,typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount(),e!==t.state&&Sz.enqueueReplaceState(t,t.state,null),o.queue!==null&&0<o.queue.length)if(e=o.queue,s=o.replace,o.queue=null,o.replace=!1,s&&e.length===1)t.state=e[0];else{for(o=s?e[0]:t.state,i=!0,s=s?1:0;s<e.length;s++){var a=e[s];a=typeof a=="function"?a.call(t,o,n,r):a,a!=null&&(i?(i=!1,o=Gv({},o,a)):Gv(o,a))}t.state=o}else o.queue=null}var zae={id:1,overflow:""};function tI(t,e,n){var r=t.id;t=t.overflow;var i=32-GS(r)-1;r&=~(1<<i),n+=1;var o=32-GS(e)+i;if(30<o){var s=i-i%5;return o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,{id:1<<32-GS(e)+i|n<<i|r,overflow:o+t}}return{id:1<<o|n<<i|r,overflow:t}}var GS=Math.clz32?Math.clz32:Wae,Hae=Math.log,Vae=Math.LN2;function Wae(t){return t>>>=0,t===0?32:31-(Hae(t)/Vae|0)|0}function Gae(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $ae=typeof Object.is=="function"?Object.is:Gae,vu=null,lI=null,$S=null,Cr=null,Vv=!1,YS=!1,$v=0,Dc=null,QS=0;function ch(){if(vu===null)throw Error(Bn(321));return vu}function wz(){if(0<QS)throw Error(Bn(312));return{memoizedState:null,queue:null,next:null}}function uI(){return Cr===null?$S===null?(Vv=!1,$S=Cr=wz()):(Vv=!0,Cr=$S):Cr.next===null?(Vv=!1,Cr=Cr.next=wz()):(Vv=!0,Cr=Cr.next),Cr}function cI(){lI=vu=null,YS=!1,$S=null,QS=0,Cr=Dc=null}function e6(t,e){return typeof e=="function"?e(t):e}function Ez(t,e,n){if(vu=ch(),Cr=uI(),Vv){var r=Cr.queue;if(e=r.dispatch,Dc!==null&&(n=Dc.get(r),n!==void 0)){Dc.delete(r),r=Cr.memoizedState;do r=t(r,n.action),n=n.next;while(n!==null);return Cr.memoizedState=r,[r,e]}return[Cr.memoizedState,e]}return t=t===e6?typeof e=="function"?e():e:n!==void 0?n(e):e,Cr.memoizedState=t,t=Cr.queue={last:null,dispatch:null},t=t.dispatch=Xae.bind(null,vu,t),[Cr.memoizedState,t]}function Tz(t,e){if(vu=ch(),Cr=uI(),e=e===void 0?null:e,Cr!==null){var n=Cr.memoizedState;if(n!==null&&e!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<e.length;i++)if(!$ae(e[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return t=t(),Cr.memoizedState=[t,e],t}function Xae(t,e,n){if(25<=QS)throw Error(Bn(301));if(t===vu)if(YS=!0,t={action:n,next:null},Dc===null&&(Dc=new Map),n=Dc.get(e),n===void 0)Dc.set(e,t);else{for(e=n;e.next!==null;)e=e.next;e.next=t}}function jae(){throw Error(Bn(394))}function zS(){}var Cz={readContext:function(t){return t._currentValue},useContext:function(t){return ch(),t._currentValue},useMemo:Tz,useReducer:Ez,useRef:function(t){vu=ch(),Cr=uI();var e=Cr.memoizedState;return e===null?(t={current:t},Cr.memoizedState=t):e},useState:function(t){return Ez(e6,t)},useInsertionEffect:zS,useLayoutEffect:function(){},useCallback:function(t,e){return Tz(function(){return t},e)},useImperativeHandle:zS,useEffect:zS,useDebugValue:zS,useDeferredValue:function(t){return ch(),t},useTransition:function(){return ch(),[!1,jae]},useId:function(){var t=lI.treeContext,e=t.overflow;t=t.id,t=(t&~(1<<32-GS(t)-1)).toString(32)+e;var n=XS;if(n===null)throw Error(Bn(404));return e=$v++,t=":"+n.idPrefix+"R"+t,0<e&&(t+="H"+e.toString(32)),t+":"},useMutableSource:function(t,e){return ch(),e(t._source)},useSyncExternalStore:function(t,e,n){if(n===void 0)throw Error(Bn(407));return n()}},XS=null,JR=Lz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Yae(t){return console.error(t),null}function Wv(){}function qae(t,e,n,r,i,o,s,a,l){var u=[],c=new Set;return e={destination:null,responseState:e,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?Yae:i,onAllReady:o===void 0?Wv:o,onShellReady:s===void 0?Wv:s,onShellError:a===void 0?Wv:a,onFatalError:l===void 0?Wv:l},n=qS(e,0,null,n,!1,!1),n.parentFlushed=!0,t=fI(e,t,null,n,c,qz,null,zae),u.push(t),e}function fI(t,e,n,r,i,o,s,a){t.allPendingTasks++,n===null?t.pendingRootTasks++:n.pendingTasks++;var l={node:e,ping:function(){var u=t.pingedTasks;u.push(l),u.length===1&&r6(t)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:o,context:s,treeContext:a};return i.add(l),l}function qS(t,e,n,r,i,o){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:o}}function Xv(t,e){if(t=t.onError(e),t!=null&&typeof t!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function ZS(t,e){var n=t.onShellError;n(e),n=t.onFatalError,n(e),t.destination!==null?(t.status=2,kz(t.destination,e)):(t.status=1,t.fatalError=e)}function Mz(t,e,n,r,i){for(vu={},lI=e,$v=0,t=n(r,i);YS;)YS=!1,$v=0,QS+=1,Cr=null,t=n(r,i);return cI(),t}function Az(t,e,n,r){var i=n.render(),o=r.childContextTypes;if(o!=null){var s=e.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in o))throw Error(Bn(108,eI(r)||"Unknown",a));r=Gv({},s,n)}e.legacyContext=r,Ls(t,e,i),e.legacyContext=s}else Ls(t,e,i)}function Pz(t,e){if(t&&t.defaultProps){e=Gv({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function nI(t,e,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=_z(n,e.legacyContext);var o=n.contextType;o=new n(r,typeof o=="object"&&o!==null?o._currentValue:i),bz(o,n,r,i),Az(t,e,o,n)}else{o=_z(n,e.legacyContext),i=Mz(t,e,n,r,o);var s=$v!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)bz(i,n,r,o),Az(t,e,i,n);else if(s){r=e.treeContext,e.treeContext=tI(r,1,0);try{Ls(t,e,i)}finally{e.treeContext=r}}else Ls(t,e,i)}else if(typeof n=="string"){switch(i=e.blockedSegment,o=Bse(i.chunks,n,r,t.responseState,i.formatContext),i.lastPushedText=!1,s=i.formatContext,i.formatContext=Ose(s,n,r),rI(t,e,o),i.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(zse,Wn(n),Hse)}i.lastPushedText=!1}else{switch(n){case Uae:case Fae:case Hz:case Vz:case zz:Ls(t,e,r.children);return;case jz:Ls(t,e,r.children);return;case kae:throw Error(Bn(343));case Xz:e:{n=e.blockedBoundary,i=e.blockedSegment,o=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},l=qS(t,i.chunks.length,a,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=qS(t,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=a,e.blockedSegment=u;try{if(rI(t,e,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(sI),u.status=1,KS(a,u),a.pendingTasks===0)break e}catch(c){u.status=4,a.forceClientRender=!0,a.errorDigest=Xv(t,c)}finally{e.blockedBoundary=n,e.blockedSegment=i}e=fI(t,o,n,l,s,e.legacyContext,e.context,e.treeContext),t.pingedTasks.push(e)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case $z:if(r=Mz(t,e,n.render,r,i),$v!==0){n=e.treeContext,e.treeContext=tI(n,1,0);try{Ls(t,e,r)}finally{e.treeContext=n}}else Ls(t,e,r);return;case Yz:n=n.type,r=Pz(n,r),nI(t,e,n,r,i);return;case Wz:if(i=r.children,n=n._context,r=r.value,o=n._currentValue,n._currentValue=r,s=fh,fh=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:o,value:r},e.context=r,Ls(t,e,i),t=fh,t===null)throw Error(Bn(403));r=t.parentValue,t.context._currentValue=r===Bae?t.context._defaultValue:r,t=fh=t.parent,e.context=t;return;case Gz:r=r.children,r=r(n._currentValue),Ls(t,e,r);return;case aI:i=n._init,n=i(n._payload),r=Pz(n,r),nI(t,e,n,r,void 0);return}throw Error(Bn(130,n==null?n:typeof n,""))}}function Ls(t,e,n){if(e.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case Dae:nI(t,e,n.type,n.props,n.ref);return;case Bz:throw Error(Bn(257));case aI:var r=n._init;n=r(n._payload),Ls(t,e,n);return}if(QR(n)){Rz(t,e,n);return}if(n===null||typeof n!="object"?r=null:(r=xz&&n[xz]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);Rz(t,e,i)}return}throw t=Object.prototype.toString.call(n),Error(Bn(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}typeof n=="string"?(r=e.blockedSegment,r.lastPushedText=hz(e.blockedSegment.chunks,n,t.responseState,r.lastPushedText)):typeof n=="number"&&(r=e.blockedSegment,r.lastPushedText=hz(e.blockedSegment.chunks,""+n,t.responseState,r.lastPushedText))}function Rz(t,e,n){for(var r=n.length,i=0;i<r;i++){var o=e.treeContext;e.treeContext=tI(o,r,i);try{rI(t,e,n[i])}finally{e.treeContext=o}}}function rI(t,e,n){var r=e.blockedSegment.formatContext,i=e.legacyContext,o=e.context;try{return Ls(t,e,n)}catch(l){if(cI(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var s=e.blockedSegment,a=qS(t,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,t=fI(t,e.node,e.blockedBoundary,a,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,n.then(t,t),e.blockedSegment.formatContext=r,e.legacyContext=i,e.context=o,jS(o)}else throw e.blockedSegment.formatContext=r,e.legacyContext=i,e.context=o,jS(o),l}}function Zae(t){var e=t.blockedBoundary;t=t.blockedSegment,t.status=3,n6(this,e,t)}function t6(t,e,n){var r=t.blockedBoundary;t.blockedSegment.status=3,r===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,t=n===void 0?Error(Bn(432)):n,r.errorDigest=e.onError(t),r.parentFlushed&&e.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return t6(i,e,n)}),r.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(r=e.onAllReady,r()))}function KS(t,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var n=e.children[0];n.id=e.id,n.parentFlushed=!0,n.status===1&&KS(t,n)}else t.completedSegments.push(e)}function n6(t,e,n){if(e===null){if(n.parentFlushed){if(t.completedRootSegment!==null)throw Error(Bn(389));t.completedRootSegment=n}t.pendingRootTasks--,t.pendingRootTasks===0&&(t.onShellError=Wv,e=t.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(n.parentFlushed&&n.status===1&&KS(e,n),e.parentFlushed&&t.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(Zae,t),e.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(KS(e,n),e.completedSegments.length===1&&e.parentFlushed&&t.partialBoundaries.push(e)));t.allPendingTasks--,t.allPendingTasks===0&&(t=t.onAllReady,t())}function r6(t){if(t.status!==2){var e=fh,n=JR.current;JR.current=Cz;var r=XS;XS=t.responseState;try{var i=t.pingedTasks,o;for(o=0;o<i.length;o++){var s=i[o],a=t,l=s.blockedSegment;if(l.status===0){jS(s.context);try{Ls(a,s,s.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(sI),s.abortSet.delete(s),l.status=1,n6(a,s.blockedBoundary,l)}catch(v){if(cI(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),l.status=4;var c=s.blockedBoundary,h=v,p=Xv(a,h);if(c===null?ZS(a,h):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=p,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,a.allPendingTasks===0){var d=a.onAllReady;d()}}}finally{}}}i.splice(0,o),t.destination!==null&&hI(t,t.destination)}catch(v){Xv(t,v),ZS(t,v)}finally{XS=r,JR.current=n,n===Cz&&jS(e)}}}function HS(t,e,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=t.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,t=t.responseState,ln(e,Vse),ln(e,t.placeholderPrefix),t=Wn(r.toString(16)),ln(e,t),Nr(e,Wse);case 1:n.status=2;var i=!0;r=n.chunks;var o=0;n=n.children;for(var s=0;s<n.length;s++){for(i=n[s];o<i.index;o++)ln(e,r[o]);i=eb(t,e,i)}for(;o<r.length-1;o++)ln(e,r[o]);return o<r.length&&(i=Nr(e,r[o])),i;default:throw Error(Bn(390))}}function eb(t,e,n){var r=n.boundary;if(r===null)return HS(t,e,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,Nr(e,jse),ln(e,qse),r&&(ln(e,Kse),ln(e,Wn(io(r))),ln(e,Zse)),Nr(e,Jse),HS(t,e,n);else if(0<r.pendingTasks){r.rootSegmentID=t.nextSegmentId++,0<r.completedSegments.length&&t.partialBoundaries.push(r);var i=t.responseState,o=i.nextSuspenseID++;i=$t(i.boundaryPrefix+o.toString(16)),r=r.id=i,yz(e,t.responseState,r),HS(t,e,n)}else if(r.byteSize>t.progressiveChunkSize)r.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(r),yz(e,t.responseState,r.id),HS(t,e,n);else{if(Nr(e,Gse),n=r.completedSegments,n.length!==1)throw Error(Bn(391));eb(t,e,n[0])}return Nr(e,Yse)}function Iz(t,e,n){return _ae(e,t.responseState,n.formatContext,n.id),eb(t,e,n),Sae(e,n.formatContext)}function Nz(t,e,n){for(var r=n.completedSegments,i=0;i<r.length;i++)i6(t,e,n,r[i]);if(r.length=0,t=t.responseState,r=n.id,n=n.rootSegmentID,ln(e,t.startInlineScript),t.sentCompleteBoundaryFunction?ln(e,Mae):(t.sentCompleteBoundaryFunction=!0,ln(e,Cae)),r===null)throw Error(Bn(395));return n=Wn(n.toString(16)),ln(e,r),ln(e,Aae),ln(e,t.segmentPrefix),ln(e,n),Nr(e,Pae)}function i6(t,e,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Bn(392));return Iz(t,e,r)}return Iz(t,e,r),t=t.responseState,ln(e,t.startInlineScript),t.sentCompleteSegmentFunction?ln(e,wae):(t.sentCompleteSegmentFunction=!0,ln(e,bae)),ln(e,t.segmentPrefix),i=Wn(i.toString(16)),ln(e,i),ln(e,Eae),ln(e,t.placeholderPrefix),ln(e,i),Nr(e,Tae)}function hI(t,e){Ns=new Uint8Array(512),Os=0;try{var n=t.completedRootSegment;if(n!==null&&t.pendingRootTasks===0){eb(t,e,n),t.completedRootSegment=null;var r=t.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)ln(e,r[n]);n<r.length&&Nr(e,r[n])}var i=t.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var s=i[o];r=e;var a=t.responseState,l=s.id,u=s.errorDigest,c=s.errorMessage,h=s.errorComponentStack;if(ln(r,a.startInlineScript),a.sentClientRenderFunction?ln(r,Iae):(a.sentClientRenderFunction=!0,ln(r,Rae)),l===null)throw Error(Bn(395));if(ln(r,l),ln(r,Nae),(u||c||h)&&(ln(r,ZR),ln(r,Wn(KR(u||"")))),(c||h)&&(ln(r,ZR),ln(r,Wn(KR(c||"")))),h&&(ln(r,ZR),ln(r,Wn(KR(h)))),!Nr(r,Oae)){t.destination=null,o++,i.splice(0,o);return}}i.splice(0,o);var p=t.completedBoundaries;for(o=0;o<p.length;o++)if(!Nz(t,e,p[o])){t.destination=null,o++,p.splice(0,o);return}p.splice(0,o),lz(e),Ns=new Uint8Array(512),Os=0;var d=t.partialBoundaries;for(o=0;o<d.length;o++){var v=d[o];e:{i=t,s=e;var b=v.completedSegments;for(a=0;a<b.length;a++)if(!i6(i,s,v,b[a])){a++,b.splice(0,a);var S=!1;break e}b.splice(0,a),S=!0}if(!S){t.destination=null,o++,d.splice(0,o);return}}d.splice(0,o);var y=t.completedBoundaries;for(o=0;o<y.length;o++)if(!Nz(t,e,y[o])){t.destination=null,o++,y.splice(0,o);return}y.splice(0,o)}finally{lz(e),t.allPendingTasks===0&&t.pingedTasks.length===0&&t.clientRenderedBoundaries.length===0&&t.completedBoundaries.length===0&&e.close()}}function Oz(t,e){try{var n=t.abortableTasks;n.forEach(function(r){return t6(r,t,e)}),n.clear(),t.destination!==null&&hI(t,t.destination)}catch(r){Xv(t,r),ZS(t,r)}}pI.renderToReadableStream=function(t,e){return new Promise(function(n,r){var i,o,s=new Promise(function(c,h){o=c,i=h}),a=qae(t,Ise(e?e.identifierPrefix:void 0,e?e.nonce:void 0,e?e.bootstrapScriptContent:void 0,e?e.bootstrapScripts:void 0,e?e.bootstrapModules:void 0),Nse(e?e.namespaceURI:void 0),e?e.progressiveChunkSize:void 0,e?e.onError:void 0,o,function(){var c=new ReadableStream({type:"bytes",pull:function(h){if(a.status===1)a.status=2,kz(h,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=h;try{hI(a,h)}catch(p){Xv(a,p),ZS(a,p)}}},cancel:function(){Oz(a)}},{highWaterMark:0});c.allReady=s,n(c)},function(c){s.catch(function(){}),r(c)},i);if(e&&e.signal){var l=e.signal,u=function(){Oz(a,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}r6(a)})};pI.version="18.3.1"});var a6=kt(hh=>{"use strict";var gd,s6;gd=az(),s6=o6();hh.version=gd.version;hh.renderToString=gd.renderToString;hh.renderToStaticMarkup=gd.renderToStaticMarkup;hh.renderToNodeStream=gd.renderToNodeStream;hh.renderToStaticNodeStream=gd.renderToStaticNodeStream;hh.renderToReadableStream=s6.renderToReadableStream});var u6=kt((bPe,l6)=>{"use strict";var Kae="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";l6.exports=Kae});var p6=kt((wPe,h6)=>{"use strict";var Jae=u6();function c6(){}function f6(){}f6.resetWarningCache=c6;h6.exports=function(){function t(r,i,o,s,a,l){if(l!==Jae){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:f6,resetWarningCache:c6};return n.PropTypes=n,n}});var ja=kt((CPe,d6)=>{d6.exports=p6()();var EPe,TPe});var x6=kt(y6=>{"use strict";var vd=me();function ale(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lle=typeof Object.is=="function"?Object.is:ale,ule=vd.useState,cle=vd.useEffect,fle=vd.useLayoutEffect,hle=vd.useDebugValue;function ple(t,e){var n=e(),r=ule({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return fle(function(){i.value=n,i.getSnapshot=e,yI(i)&&o({inst:i})},[t,n,e]),cle(function(){return yI(i)&&o({inst:i}),t(function(){yI(i)&&o({inst:i})})},[t]),hle(n),n}function yI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lle(t,n)}catch{return!0}}function dle(t,e){return e()}var mle=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dle:ple;y6.useSyncExternalStore=vd.useSyncExternalStore!==void 0?vd.useSyncExternalStore:mle});var xI=kt((APe,_6)=>{"use strict";_6.exports=x6()});var b6=kt(S6=>{"use strict";var tb=me(),gle=xI();function vle(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yle=typeof Object.is=="function"?Object.is:vle,xle=gle.useSyncExternalStore,_le=tb.useRef,Sle=tb.useEffect,ble=tb.useMemo,wle=tb.useDebugValue;S6.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=_le(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=ble(function(){function l(d){if(!u){if(u=!0,c=d,d=r(d),i!==void 0&&s.hasValue){var v=s.value;if(i(v,d))return h=v}return h=d}if(v=h,yle(c,d))return v;var b=r(d);return i!==void 0&&i(v,b)?v:(c=d,h=b)}var u=!1,c,h,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,i]);var a=xle(t,o[0],o[1]);return Sle(function(){s.hasValue=!0,s.value=a},[a]),wle(a),a}});var E6=kt((RPe,w6)=>{"use strict";w6.exports=b6()});var D6=kt(cr=>{"use strict";var Vi=typeof Symbol=="function"&&Symbol.for,SI=Vi?Symbol.for("react.element"):60103,bI=Vi?Symbol.for("react.portal"):60106,ob=Vi?Symbol.for("react.fragment"):60107,sb=Vi?Symbol.for("react.strict_mode"):60108,ab=Vi?Symbol.for("react.profiler"):60114,lb=Vi?Symbol.for("react.provider"):60109,ub=Vi?Symbol.for("react.context"):60110,wI=Vi?Symbol.for("react.async_mode"):60111,cb=Vi?Symbol.for("react.concurrent_mode"):60111,fb=Vi?Symbol.for("react.forward_ref"):60112,hb=Vi?Symbol.for("react.suspense"):60113,Mle=Vi?Symbol.for("react.suspense_list"):60120,pb=Vi?Symbol.for("react.memo"):60115,db=Vi?Symbol.for("react.lazy"):60116,Ale=Vi?Symbol.for("react.block"):60121,Ple=Vi?Symbol.for("react.fundamental"):60117,Rle=Vi?Symbol.for("react.responder"):60118,Ile=Vi?Symbol.for("react.scope"):60119;function Ds(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case SI:switch(t=t.type,t){case wI:case cb:case ob:case ab:case sb:case hb:return t;default:switch(t=t&&t.$$typeof,t){case ub:case fb:case db:case pb:case lb:return t;default:return e}}case bI:return e}}}function L6(t){return Ds(t)===cb}cr.AsyncMode=wI;cr.ConcurrentMode=cb;cr.ContextConsumer=ub;cr.ContextProvider=lb;cr.Element=SI;cr.ForwardRef=fb;cr.Fragment=ob;cr.Lazy=db;cr.Memo=pb;cr.Portal=bI;cr.Profiler=ab;cr.StrictMode=sb;cr.Suspense=hb;cr.isAsyncMode=function(t){return L6(t)||Ds(t)===wI};cr.isConcurrentMode=L6;cr.isContextConsumer=function(t){return Ds(t)===ub};cr.isContextProvider=function(t){return Ds(t)===lb};cr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===SI};cr.isForwardRef=function(t){return Ds(t)===fb};cr.isFragment=function(t){return Ds(t)===ob};cr.isLazy=function(t){return Ds(t)===db};cr.isMemo=function(t){return Ds(t)===pb};cr.isPortal=function(t){return Ds(t)===bI};cr.isProfiler=function(t){return Ds(t)===ab};cr.isStrictMode=function(t){return Ds(t)===sb};cr.isSuspense=function(t){return Ds(t)===hb};cr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ob||t===cb||t===ab||t===sb||t===hb||t===Mle||typeof t=="object"&&t!==null&&(t.$$typeof===db||t.$$typeof===pb||t.$$typeof===lb||t.$$typeof===ub||t.$$typeof===fb||t.$$typeof===Ple||t.$$typeof===Rle||t.$$typeof===Ile||t.$$typeof===Ale)};cr.typeOf=Ds});var F6=kt((GPe,k6)=>{"use strict";k6.exports=D6()});var G6=kt(($Pe,W6)=>{"use strict";var EI=F6(),Nle={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ole={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Lle={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},H6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TI={};TI[EI.ForwardRef]=Lle;TI[EI.Memo]=H6;function U6(t){return EI.isMemo(t)?H6:TI[t.$$typeof]||Nle}var Dle=Object.defineProperty,kle=Object.getOwnPropertyNames,B6=Object.getOwnPropertySymbols,Fle=Object.getOwnPropertyDescriptor,Ule=Object.getPrototypeOf,z6=Object.prototype;function V6(t,e,n){if(typeof e!="string"){if(z6){var r=Ule(e);r&&r!==z6&&V6(t,r,n)}var i=kle(e);B6&&(i=i.concat(B6(e)));for(var o=U6(t),s=U6(e),a=0;a<i.length;++a){var l=i[a];if(!Ole[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var u=Fle(e,l);try{Dle(t,l,u)}catch{}}}}return t}W6.exports=V6});var X6=kt(fr=>{"use strict";var CI=Symbol.for("react.element"),MI=Symbol.for("react.portal"),mb=Symbol.for("react.fragment"),gb=Symbol.for("react.strict_mode"),vb=Symbol.for("react.profiler"),yb=Symbol.for("react.provider"),xb=Symbol.for("react.context"),Ble=Symbol.for("react.server_context"),_b=Symbol.for("react.forward_ref"),Sb=Symbol.for("react.suspense"),bb=Symbol.for("react.suspense_list"),wb=Symbol.for("react.memo"),Eb=Symbol.for("react.lazy"),zle=Symbol.for("react.offscreen"),$6;$6=Symbol.for("react.module.reference");function ha(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case CI:switch(t=t.type,t){case mb:case vb:case gb:case Sb:case bb:return t;default:switch(t=t&&t.$$typeof,t){case Ble:case xb:case _b:case Eb:case wb:case yb:return t;default:return e}}case MI:return e}}}fr.ContextConsumer=xb;fr.ContextProvider=yb;fr.Element=CI;fr.ForwardRef=_b;fr.Fragment=mb;fr.Lazy=Eb;fr.Memo=wb;fr.Portal=MI;fr.Profiler=vb;fr.StrictMode=gb;fr.Suspense=Sb;fr.SuspenseList=bb;fr.isAsyncMode=function(){return!1};fr.isConcurrentMode=function(){return!1};fr.isContextConsumer=function(t){return ha(t)===xb};fr.isContextProvider=function(t){return ha(t)===yb};fr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===CI};fr.isForwardRef=function(t){return ha(t)===_b};fr.isFragment=function(t){return ha(t)===mb};fr.isLazy=function(t){return ha(t)===Eb};fr.isMemo=function(t){return ha(t)===wb};fr.isPortal=function(t){return ha(t)===MI};fr.isProfiler=function(t){return ha(t)===vb};fr.isStrictMode=function(t){return ha(t)===gb};fr.isSuspense=function(t){return ha(t)===Sb};fr.isSuspenseList=function(t){return ha(t)===bb};fr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===mb||t===vb||t===gb||t===Sb||t===bb||t===zle||typeof t=="object"&&t!==null&&(t.$$typeof===Eb||t.$$typeof===wb||t.$$typeof===yb||t.$$typeof===xb||t.$$typeof===_b||t.$$typeof===$6||t.getModuleId!==void 0)};fr.typeOf=ha});var Y6=kt((jPe,j6)=>{"use strict";j6.exports=X6()});var yt=kt((MLe,jE)=>{(function(){"use strict";var t={}.hasOwnProperty,e="[native code]";function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var l in o)t.call(o,l)&&o[l]&&r.push(l)}}}return r.join(" ")}typeof jE<"u"&&jE.exports?(n.default=n,jE.exports=n):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return n}):window.classNames=n})()});var Ny=kt((ALe,CW)=>{"use strict";var i_e=function(t,e,n,r,i,o,s,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,s,a],c=0;l=new Error(e.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};CW.exports=i_e});var vf=kt((WUe,qX)=>{"use strict";var aSe=!1,YX=function(){};aSe&&(jX=function(e,n){var r=arguments.length;n=new Array(r>1?r-1:0);for(var i=1;i<r;i++)n[i-1]=arguments[i];var o=0,s="Warning: "+e.replace(/%s/g,function(){return n[o++]});typeof console<"u"&&console.error(s);try{throw new Error(s)}catch{}},YX=function(t,e,n){var r=arguments.length;n=new Array(r>2?r-2:0);for(var i=2;i<r;i++)n[i-2]=arguments[i];if(e===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");t||jX.apply(null,[e].concat(n))});var jX;qX.exports=YX});var AJ=kt((cM,MJ)=>{(function(t,e){typeof cM=="object"&&typeof MJ<"u"?e(cM):typeof define=="function"&&define.amd?define(["exports"],e):e(t.ActiveStorage={})})(cM,function(t){"use strict";function e(J,te){return te={exports:{}},J(te,te.exports),te.exports}var n=e(function(J,te){(function(ne){J.exports=ne()})(function(ne){var xe=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function Ce(ye,ge){var Q=ye[0],q=ye[1],ve=ye[2],ue=ye[3];Q+=(q&ve|~q&ue)+ge[0]-680876936|0,Q=(Q<<7|Q>>>25)+q|0,ue+=(Q&q|~Q&ve)+ge[1]-389564586|0,ue=(ue<<12|ue>>>20)+Q|0,ve+=(ue&Q|~ue&q)+ge[2]+606105819|0,ve=(ve<<17|ve>>>15)+ue|0,q+=(ve&ue|~ve&Q)+ge[3]-1044525330|0,q=(q<<22|q>>>10)+ve|0,Q+=(q&ve|~q&ue)+ge[4]-176418897|0,Q=(Q<<7|Q>>>25)+q|0,ue+=(Q&q|~Q&ve)+ge[5]+1200080426|0,ue=(ue<<12|ue>>>20)+Q|0,ve+=(ue&Q|~ue&q)+ge[6]-1473231341|0,ve=(ve<<17|ve>>>15)+ue|0,q+=(ve&ue|~ve&Q)+ge[7]-45705983|0,q=(q<<22|q>>>10)+ve|0,Q+=(q&ve|~q&ue)+ge[8]+1770035416|0,Q=(Q<<7|Q>>>25)+q|0,ue+=(Q&q|~Q&ve)+ge[9]-1958414417|0,ue=(ue<<12|ue>>>20)+Q|0,ve+=(ue&Q|~ue&q)+ge[10]-42063|0,ve=(ve<<17|ve>>>15)+ue|0,q+=(ve&ue|~ve&Q)+ge[11]-1990404162|0,q=(q<<22|q>>>10)+ve|0,Q+=(q&ve|~q&ue)+ge[12]+1804603682|0,Q=(Q<<7|Q>>>25)+q|0,ue+=(Q&q|~Q&ve)+ge[13]-40341101|0,ue=(ue<<12|ue>>>20)+Q|0,ve+=(ue&Q|~ue&q)+ge[14]-1502002290|0,ve=(ve<<17|ve>>>15)+ue|0,q+=(ve&ue|~ve&Q)+ge[15]+1236535329|0,q=(q<<22|q>>>10)+ve|0,Q+=(q&ue|ve&~ue)+ge[1]-165796510|0,Q=(Q<<5|Q>>>27)+q|0,ue+=(Q&ve|q&~ve)+ge[6]-1069501632|0,ue=(ue<<9|ue>>>23)+Q|0,ve+=(ue&q|Q&~q)+ge[11]+643717713|0,ve=(ve<<14|ve>>>18)+ue|0,q+=(ve&Q|ue&~Q)+ge[0]-373897302|0,q=(q<<20|q>>>12)+ve|0,Q+=(q&ue|ve&~ue)+ge[5]-701558691|0,Q=(Q<<5|Q>>>27)+q|0,ue+=(Q&ve|q&~ve)+ge[10]+38016083|0,ue=(ue<<9|ue>>>23)+Q|0,ve+=(ue&q|Q&~q)+ge[15]-660478335|0,ve=(ve<<14|ve>>>18)+ue|0,q+=(ve&Q|ue&~Q)+ge[4]-405537848|0,q=(q<<20|q>>>12)+ve|0,Q+=(q&ue|ve&~ue)+ge[9]+568446438|0,Q=(Q<<5|Q>>>27)+q|0,ue+=(Q&ve|q&~ve)+ge[14]-1019803690|0,ue=(ue<<9|ue>>>23)+Q|0,ve+=(ue&q|Q&~q)+ge[3]-187363961|0,ve=(ve<<14|ve>>>18)+ue|0,q+=(ve&Q|ue&~Q)+ge[8]+1163531501|0,q=(q<<20|q>>>12)+ve|0,Q+=(q&ue|ve&~ue)+ge[13]-1444681467|0,Q=(Q<<5|Q>>>27)+q|0,ue+=(Q&ve|q&~ve)+ge[2]-51403784|0,ue=(ue<<9|ue>>>23)+Q|0,ve+=(ue&q|Q&~q)+ge[7]+1735328473|0,ve=(ve<<14|ve>>>18)+ue|0,q+=(ve&Q|ue&~Q)+ge[12]-1926607734|0,q=(q<<20|q>>>12)+ve|0,Q+=(q^ve^ue)+ge[5]-378558|0,Q=(Q<<4|Q>>>28)+q|0,ue+=(Q^q^ve)+ge[8]-2022574463|0,ue=(ue<<11|ue>>>21)+Q|0,ve+=(ue^Q^q)+ge[11]+1839030562|0,ve=(ve<<16|ve>>>16)+ue|0,q+=(ve^ue^Q)+ge[14]-35309556|0,q=(q<<23|q>>>9)+ve|0,Q+=(q^ve^ue)+ge[1]-1530992060|0,Q=(Q<<4|Q>>>28)+q|0,ue+=(Q^q^ve)+ge[4]+1272893353|0,ue=(ue<<11|ue>>>21)+Q|0,ve+=(ue^Q^q)+ge[7]-155497632|0,ve=(ve<<16|ve>>>16)+ue|0,q+=(ve^ue^Q)+ge[10]-1094730640|0,q=(q<<23|q>>>9)+ve|0,Q+=(q^ve^ue)+ge[13]+681279174|0,Q=(Q<<4|Q>>>28)+q|0,ue+=(Q^q^ve)+ge[0]-358537222|0,ue=(ue<<11|ue>>>21)+Q|0,ve+=(ue^Q^q)+ge[3]-722521979|0,ve=(ve<<16|ve>>>16)+ue|0,q+=(ve^ue^Q)+ge[6]+76029189|0,q=(q<<23|q>>>9)+ve|0,Q+=(q^ve^ue)+ge[9]-640364487|0,Q=(Q<<4|Q>>>28)+q|0,ue+=(Q^q^ve)+ge[12]-421815835|0,ue=(ue<<11|ue>>>21)+Q|0,ve+=(ue^Q^q)+ge[15]+530742520|0,ve=(ve<<16|ve>>>16)+ue|0,q+=(ve^ue^Q)+ge[2]-995338651|0,q=(q<<23|q>>>9)+ve|0,Q+=(ve^(q|~ue))+ge[0]-198630844|0,Q=(Q<<6|Q>>>26)+q|0,ue+=(q^(Q|~ve))+ge[7]+1126891415|0,ue=(ue<<10|ue>>>22)+Q|0,ve+=(Q^(ue|~q))+ge[14]-1416354905|0,ve=(ve<<15|ve>>>17)+ue|0,q+=(ue^(ve|~Q))+ge[5]-57434055|0,q=(q<<21|q>>>11)+ve|0,Q+=(ve^(q|~ue))+ge[12]+1700485571|0,Q=(Q<<6|Q>>>26)+q|0,ue+=(q^(Q|~ve))+ge[3]-1894986606|0,ue=(ue<<10|ue>>>22)+Q|0,ve+=(Q^(ue|~q))+ge[10]-1051523|0,ve=(ve<<15|ve>>>17)+ue|0,q+=(ue^(ve|~Q))+ge[1]-2054922799|0,q=(q<<21|q>>>11)+ve|0,Q+=(ve^(q|~ue))+ge[8]+1873313359|0,Q=(Q<<6|Q>>>26)+q|0,ue+=(q^(Q|~ve))+ge[15]-30611744|0,ue=(ue<<10|ue>>>22)+Q|0,ve+=(Q^(ue|~q))+ge[6]-1560198380|0,ve=(ve<<15|ve>>>17)+ue|0,q+=(ue^(ve|~Q))+ge[13]+1309151649|0,q=(q<<21|q>>>11)+ve|0,Q+=(ve^(q|~ue))+ge[4]-145523070|0,Q=(Q<<6|Q>>>26)+q|0,ue+=(q^(Q|~ve))+ge[11]-1120210379|0,ue=(ue<<10|ue>>>22)+Q|0,ve+=(Q^(ue|~q))+ge[2]+718787259|0,ve=(ve<<15|ve>>>17)+ue|0,q+=(ue^(ve|~Q))+ge[9]-343485551|0,q=(q<<21|q>>>11)+ve|0,ye[0]=Q+ye[0]|0,ye[1]=q+ye[1]|0,ye[2]=ve+ye[2]|0,ye[3]=ue+ye[3]|0}function Le(ye){var ge=[],Q;for(Q=0;Q<64;Q+=4)ge[Q>>2]=ye.charCodeAt(Q)+(ye.charCodeAt(Q+1)<<8)+(ye.charCodeAt(Q+2)<<16)+(ye.charCodeAt(Q+3)<<24);return ge}function rt(ye){var ge=[],Q;for(Q=0;Q<64;Q+=4)ge[Q>>2]=ye[Q]+(ye[Q+1]<<8)+(ye[Q+2]<<16)+(ye[Q+3]<<24);return ge}function ot(ye){var ge=ye.length,Q=[1732584193,-271733879,-1732584194,271733878],q,ve,ue,xt,ae,$;for(q=64;q<=ge;q+=64)Ce(Q,Le(ye.substring(q-64,q)));for(ye=ye.substring(q-64),ve=ye.length,ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],q=0;q<ve;q+=1)ue[q>>2]|=ye.charCodeAt(q)<<(q%4<<3);if(ue[q>>2]|=128<<(q%4<<3),q>55)for(Ce(Q,ue),q=0;q<16;q+=1)ue[q]=0;return xt=ge*8,xt=xt.toString(16).match(/(.*?)(.{0,8})$/),ae=parseInt(xt[2],16),$=parseInt(xt[1],16)||0,ue[14]=ae,ue[15]=$,Ce(Q,ue),Q}function Ae(ye){var ge=ye.length,Q=[1732584193,-271733879,-1732584194,271733878],q,ve,ue,xt,ae,$;for(q=64;q<=ge;q+=64)Ce(Q,rt(ye.subarray(q-64,q)));for(ye=q-64<ge?ye.subarray(q-64):new Uint8Array(0),ve=ye.length,ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],q=0;q<ve;q+=1)ue[q>>2]|=ye[q]<<(q%4<<3);if(ue[q>>2]|=128<<(q%4<<3),q>55)for(Ce(Q,ue),q=0;q<16;q+=1)ue[q]=0;return xt=ge*8,xt=xt.toString(16).match(/(.*?)(.{0,8})$/),ae=parseInt(xt[2],16),$=parseInt(xt[1],16)||0,ue[14]=ae,ue[15]=$,Ce(Q,ue),Q}function ze(ye){var ge="",Q;for(Q=0;Q<4;Q+=1)ge+=xe[ye>>Q*8+4&15]+xe[ye>>Q*8&15];return ge}function je(ye){var ge;for(ge=0;ge<ye.length;ge+=1)ye[ge]=ze(ye[ge]);return ye.join("")}je(ot("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function ye(ge,Q){return ge=ge|0||0,ge<0?Math.max(ge+Q,0):Math.min(ge,Q)}ArrayBuffer.prototype.slice=function(ge,Q){var q=this.byteLength,ve=ye(ge,q),ue=q,xt,ae,$,De;return Q!==ne&&(ue=ye(Q,q)),ve>ue?new ArrayBuffer(0):(xt=ue-ve,ae=new ArrayBuffer(xt),$=new Uint8Array(ae),De=new Uint8Array(this,ve,xt),$.set(De),ae)}}();function it(ye){return/[\u0080-\uFFFF]/.test(ye)&&(ye=unescape(encodeURIComponent(ye))),ye}function pt(ye,ge){var Q=ye.length,q=new ArrayBuffer(Q),ve=new Uint8Array(q),ue;for(ue=0;ue<Q;ue+=1)ve[ue]=ye.charCodeAt(ue);return ge?ve:q}function It(ye){return String.fromCharCode.apply(null,new Uint8Array(ye))}function Nt(ye,ge,Q){var q=new Uint8Array(ye.byteLength+ge.byteLength);return q.set(new Uint8Array(ye)),q.set(new Uint8Array(ge),ye.byteLength),Q?q:q.buffer}function mt(ye){var ge=[],Q=ye.length,q;for(q=0;q<Q-1;q+=2)ge.push(parseInt(ye.substr(q,2),16));return String.fromCharCode.apply(String,ge)}function K(){this.reset()}return K.prototype.append=function(ye){return this.appendBinary(it(ye)),this},K.prototype.appendBinary=function(ye){this._buff+=ye,this._length+=ye.length;var ge=this._buff.length,Q;for(Q=64;Q<=ge;Q+=64)Ce(this._hash,Le(this._buff.substring(Q-64,Q)));return this._buff=this._buff.substring(Q-64),this},K.prototype.end=function(ye){var ge=this._buff,Q=ge.length,q,ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ue;for(q=0;q<Q;q+=1)ve[q>>2]|=ge.charCodeAt(q)<<(q%4<<3);return this._finish(ve,Q),ue=je(this._hash),ye&&(ue=mt(ue)),this.reset(),ue},K.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},K.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},K.prototype.setState=function(ye){return this._buff=ye.buff,this._length=ye.length,this._hash=ye.hash,this},K.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},K.prototype._finish=function(ye,ge){var Q=ge,q,ve,ue;if(ye[Q>>2]|=128<<(Q%4<<3),Q>55)for(Ce(this._hash,ye),Q=0;Q<16;Q+=1)ye[Q]=0;q=this._length*8,q=q.toString(16).match(/(.*?)(.{0,8})$/),ve=parseInt(q[2],16),ue=parseInt(q[1],16)||0,ye[14]=ve,ye[15]=ue,Ce(this._hash,ye)},K.hash=function(ye,ge){return K.hashBinary(it(ye),ge)},K.hashBinary=function(ye,ge){var Q=ot(ye),q=je(Q);return ge?mt(q):q},K.ArrayBuffer=function(){this.reset()},K.ArrayBuffer.prototype.append=function(ye){var ge=Nt(this._buff.buffer,ye,!0),Q=ge.length,q;for(this._length+=ye.byteLength,q=64;q<=Q;q+=64)Ce(this._hash,rt(ge.subarray(q-64,q)));return this._buff=q-64<Q?new Uint8Array(ge.buffer.slice(q-64)):new Uint8Array(0),this},K.ArrayBuffer.prototype.end=function(ye){var ge=this._buff,Q=ge.length,q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ve,ue;for(ve=0;ve<Q;ve+=1)q[ve>>2]|=ge[ve]<<(ve%4<<3);return this._finish(q,Q),ue=je(this._hash),ye&&(ue=mt(ue)),this.reset(),ue},K.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},K.ArrayBuffer.prototype.getState=function(){var ye=K.prototype.getState.call(this);return ye.buff=It(ye.buff),ye},K.ArrayBuffer.prototype.setState=function(ye){return ye.buff=pt(ye.buff,!0),K.prototype.setState.call(this,ye)},K.ArrayBuffer.prototype.destroy=K.prototype.destroy,K.ArrayBuffer.prototype._finish=K.prototype._finish,K.ArrayBuffer.hash=function(ye,ge){var Q=Ae(new Uint8Array(ye)),q=je(Q);return ge?mt(q):q},K})}),r=function(J,te){if(!(J instanceof te))throw new TypeError("Cannot call a class as a function")},i=function(){function J(te,ne){for(var xe=0;xe<ne.length;xe++){var Ce=ne[xe];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(te,Ce.key,Ce)}}return function(te,ne,xe){return ne&&J(te.prototype,ne),xe&&J(te,xe),te}}(),o=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,s=function(){i(J,null,[{key:"create",value:function(ne,xe){var Ce=new J(ne);Ce.create(xe)}}]);function J(te){r(this,J),this.file=te,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}return i(J,[{key:"create",value:function(ne){var xe=this;this.callback=ne,this.md5Buffer=new n.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",function(Ce){return xe.fileReaderDidLoad(Ce)}),this.fileReader.addEventListener("error",function(Ce){return xe.fileReaderDidError(Ce)}),this.readNextChunk()}},{key:"fileReaderDidLoad",value:function(ne){if(this.md5Buffer.append(ne.target.result),!this.readNextChunk()){var xe=this.md5Buffer.end(!0),Ce=btoa(xe);this.callback(null,Ce)}}},{key:"fileReaderDidError",value:function(ne){this.callback("Error reading "+this.file.name)}},{key:"readNextChunk",value:function(){if(this.chunkIndex<this.chunkCount||this.chunkIndex==0&&this.chunkCount==0){var ne=this.chunkIndex*this.chunkSize,xe=Math.min(ne+this.chunkSize,this.file.size),Ce=o.call(this.file,ne,xe);return this.fileReader.readAsArrayBuffer(Ce),this.chunkIndex++,!0}else return!1}}]),J}();function a(J){var te=u(document.head,'meta[name="'+J+'"]');if(te)return te.getAttribute("content")}function l(J,te){typeof J=="string"&&(te=J,J=document);var ne=J.querySelectorAll(te);return h(ne)}function u(J,te){return typeof J=="string"&&(te=J,J=document),J.querySelector(te)}function c(J,te){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},xe=J.disabled,Ce=ne.bubbles,Le=ne.cancelable,rt=ne.detail,ot=document.createEvent("Event");ot.initEvent(te,Ce||!0,Le||!0),ot.detail=rt||{};try{J.disabled=!1,J.dispatchEvent(ot)}finally{J.disabled=xe}return ot}function h(J){return Array.isArray(J)?J:Array.from?Array.from(J):[].slice.call(J)}var p=function(){function J(te,ne,xe){var Ce=this;r(this,J),this.file=te,this.attributes={filename:te.name,content_type:te.type||"application/octet-stream",byte_size:te.size,checksum:ne},this.xhr=new XMLHttpRequest,this.xhr.open("POST",xe,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");var Le=a("csrf-token");Le!=null&&this.xhr.setRequestHeader("X-CSRF-Token",Le),this.xhr.addEventListener("load",function(rt){return Ce.requestDidLoad(rt)}),this.xhr.addEventListener("error",function(rt){return Ce.requestDidError(rt)})}return i(J,[{key:"create",value:function(ne){this.callback=ne,this.xhr.send(JSON.stringify({blob:this.attributes}))}},{key:"requestDidLoad",value:function(ne){if(this.status>=200&&this.status<300){var xe=this.response,Ce=xe.direct_upload;delete xe.direct_upload,this.attributes=xe,this.directUploadData=Ce,this.callback(null,this.toJSON())}else this.requestDidError(ne)}},{key:"requestDidError",value:function(ne){this.callback('Error creating Blob for "'+this.file.name+'". Status: '+this.status)}},{key:"toJSON",value:function(){var ne={};for(var xe in this.attributes)ne[xe]=this.attributes[xe];return ne}},{key:"status",get:function(){return this.xhr.status}},{key:"response",get:function(){var ne=this.xhr,xe=ne.responseType,Ce=ne.response;return xe=="json"?Ce:JSON.parse(Ce)}}]),J}(),d=function(){function J(te){var ne=this;r(this,J),this.blob=te,this.file=te.file;var xe=te.directUploadData,Ce=xe.url,Le=xe.headers;this.xhr=new XMLHttpRequest,this.xhr.open("PUT",Ce,!0),this.xhr.responseType="text";for(var rt in Le)this.xhr.setRequestHeader(rt,Le[rt]);this.xhr.addEventListener("load",function(ot){return ne.requestDidLoad(ot)}),this.xhr.addEventListener("error",function(ot){return ne.requestDidError(ot)})}return i(J,[{key:"create",value:function(ne){this.callback=ne,this.xhr.send(this.file.slice())}},{key:"requestDidLoad",value:function(ne){var xe=this.xhr,Ce=xe.status,Le=xe.response;Ce>=200&&Ce<300?this.callback(null,Le):this.requestDidError(ne)}},{key:"requestDidError",value:function(ne){this.callback('Error storing "'+this.file.name+'". Status: '+this.xhr.status)}}]),J}(),v=0,b=function(){function J(te,ne,xe){r(this,J),this.id=++v,this.file=te,this.url=ne,this.delegate=xe}return i(J,[{key:"create",value:function(ne){var xe=this;s.create(this.file,function(Ce,Le){if(Ce){ne(Ce);return}var rt=new p(xe.file,Le,xe.url);S(xe.delegate,"directUploadWillCreateBlobWithXHR",rt.xhr),rt.create(function(ot){if(ot)ne(ot);else{var Ae=new d(rt);S(xe.delegate,"directUploadWillStoreFileWithXHR",Ae.xhr),Ae.create(function(ze){ze?ne(ze):ne(null,rt.toJSON())})}})})}}]),J}();function S(J,te){if(J&&typeof J[te]=="function"){for(var ne=arguments.length,xe=Array(ne>2?ne-2:0),Ce=2;Ce<ne;Ce++)xe[Ce-2]=arguments[Ce];return J[te].apply(J,xe)}}var y=function(){function J(te,ne){r(this,J),this.input=te,this.file=ne,this.directUpload=new b(this.file,this.url,this),this.dispatch("initialize")}return i(J,[{key:"start",value:function(ne){var xe=this,Ce=document.createElement("input");Ce.type="hidden",Ce.name=this.input.name,this.input.insertAdjacentElement("beforebegin",Ce),this.dispatch("start"),this.directUpload.create(function(Le,rt){Le?(Ce.parentNode.removeChild(Ce),xe.dispatchError(Le)):Ce.value=rt.signed_id,xe.dispatch("end"),ne(Le)})}},{key:"uploadRequestDidProgress",value:function(ne){var xe=ne.loaded/ne.total*100;xe&&this.dispatch("progress",{progress:xe})}},{key:"dispatch",value:function(ne){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return xe.file=this.file,xe.id=this.directUpload.id,c(this.input,"direct-upload:"+ne,{detail:xe})}},{key:"dispatchError",value:function(ne){var xe=this.dispatch("error",{error:ne});xe.defaultPrevented||alert(ne)}},{key:"directUploadWillCreateBlobWithXHR",value:function(ne){this.dispatch("before-blob-request",{xhr:ne})}},{key:"directUploadWillStoreFileWithXHR",value:function(ne){var xe=this;this.dispatch("before-storage-request",{xhr:ne}),ne.upload.addEventListener("progress",function(Ce){return xe.uploadRequestDidProgress(Ce)})}},{key:"url",get:function(){return this.input.getAttribute("data-direct-upload-url")}}]),J}(),T="input[type=file][data-direct-upload-url]:not([disabled])",E=function(){function J(te){r(this,J),this.form=te,this.inputs=l(te,T).filter(function(ne){return ne.files.length})}return i(J,[{key:"start",value:function(ne){var xe=this,Ce=this.createDirectUploadControllers(),Le=function rt(){var ot=Ce.shift();ot?ot.start(function(Ae){Ae?(ne(Ae),xe.dispatch("end")):rt()}):(ne(),xe.dispatch("end"))};this.dispatch("start"),Le()}},{key:"createDirectUploadControllers",value:function(){var ne=[];return this.inputs.forEach(function(xe){h(xe.files).forEach(function(Ce){var Le=new y(xe,Ce);ne.push(Le)})}),ne}},{key:"dispatch",value:function(ne){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return c(this.form,"direct-uploads:"+ne,{detail:xe})}}]),J}(),A="data-direct-uploads-processing",N=new WeakMap,x=!1;function D(){x||(x=!0,document.addEventListener("click",k,!0),document.addEventListener("submit",U),document.addEventListener("ajax:before",L))}function k(J){var te=J.target;(te.tagName=="INPUT"||te.tagName=="BUTTON")&&te.type=="submit"&&te.form&&N.set(te.form,te)}function U(J){j(J)}function L(J){J.target.tagName=="FORM"&&j(J)}function j(J){var te=J.target;if(te.hasAttribute(A)){J.preventDefault();return}var ne=new E(te),xe=ne.inputs;xe.length&&(J.preventDefault(),te.setAttribute(A,""),xe.forEach(se),ne.start(function(Ce){te.removeAttribute(A),Ce?xe.forEach(fe):ie(te)}))}function ie(J){var te=N.get(J)||u(J,"input[type=submit], button[type=submit]");if(te){var ne=te,xe=ne.disabled;te.disabled=!1,te.focus(),te.click(),te.disabled=xe}else te=document.createElement("input"),te.type="submit",te.style.display="none",J.appendChild(te),te.click(),J.removeChild(te);N.delete(J)}function se(J){J.disabled=!0}function fe(J){J.disabled=!1}function _e(){window.ActiveStorage&&D()}setTimeout(_e,1),t.start=D,t.DirectUpload=b,Object.defineProperty(t,"__esModule",{value:!0})})});var RJ=kt((XXe,hM)=>{"use strict";(function(){"use strict";var t={};t.use_lines=!0,t.use_xyz=!1;var e=!1;typeof hM<"u"&&hM.exports?(hM.exports=t,e=!0):typeof document<"u"?window.ClipperLib=t:self.ClipperLib=t;var n;if(e){var r="chrome";n="Netscape"}else{var r=navigator.userAgent.toString().toLowerCase();n=navigator.appName}var i={};r.indexOf("chrome")!=-1&&r.indexOf("chromium")==-1?i.chrome=1:i.chrome=0,r.indexOf("chromium")!=-1?i.chromium=1:i.chromium=0,r.indexOf("safari")!=-1&&r.indexOf("chrome")==-1&&r.indexOf("chromium")==-1?i.safari=1:i.safari=0,r.indexOf("firefox")!=-1?i.firefox=1:i.firefox=0,r.indexOf("firefox/17")!=-1?i.firefox17=1:i.firefox17=0,r.indexOf("firefox/15")!=-1?i.firefox15=1:i.firefox15=0,r.indexOf("firefox/3")!=-1?i.firefox3=1:i.firefox3=0,r.indexOf("opera")!=-1?i.opera=1:i.opera=0,r.indexOf("msie 10")!=-1?i.msie10=1:i.msie10=0,r.indexOf("msie 9")!=-1?i.msie9=1:i.msie9=0,r.indexOf("msie 8")!=-1?i.msie8=1:i.msie8=0,r.indexOf("msie 7")!=-1?i.msie7=1:i.msie7=0,r.indexOf("msie ")!=-1?i.msie=1:i.msie=0,t.biginteger_used=null;var o,s=0xdeadbeefcafe,a=(s&16777215)==15715070;function l(f,m,_){t.biginteger_used=1,f!=null&&(typeof f=="number"&&typeof m>"u"?this.fromInt(f):typeof f=="number"?this.fromNumber(f,m,_):m==null&&typeof f!="string"?this.fromString(f,256):this.fromString(f,m))}function u(){return new l(null,void 0,void 0)}function c(f,m,_,M,R,G){for(;--G>=0;){var Z=m*this[f++]+_[M]+R;R=Math.floor(Z/67108864),_[M++]=Z&67108863}return R}function h(f,m,_,M,R,G){for(var Z=m&32767,ce=m>>15;--G>=0;){var be=this[f]&32767,Xe=this[f++]>>15,lt=ce*be+Xe*Z;be=Z*be+((lt&32767)<<15)+_[M]+(R&1073741823),R=(be>>>30)+(lt>>>15)+ce*Xe+(R>>>30),_[M++]=be&1073741823}return R}function p(f,m,_,M,R,G){for(var Z=m&16383,ce=m>>14;--G>=0;){var be=this[f]&16383,Xe=this[f++]>>14,lt=ce*be+Xe*Z;be=Z*be+((lt&16383)<<14)+_[M]+R,R=(be>>28)+(lt>>14)+ce*Xe,_[M++]=be&268435455}return R}a&&n=="Microsoft Internet Explorer"?(l.prototype.am=h,o=30):a&&n!="Netscape"?(l.prototype.am=c,o=26):(l.prototype.am=p,o=28),l.prototype.DB=o,l.prototype.DM=(1<<o)-1,l.prototype.DV=1<<o;var d=52;l.prototype.FV=Math.pow(2,d),l.prototype.F1=d-o,l.prototype.F2=2*o-d;var v="0123456789abcdefghijklmnopqrstuvwxyz",b=new Array,S,y;for(S=48,y=0;y<=9;++y)b[S++]=y;for(S=97,y=10;y<36;++y)b[S++]=y;for(S=65,y=10;y<36;++y)b[S++]=y;function T(f){return v.charAt(f)}function E(f,m){var _=b[f.charCodeAt(m)];return _??-1}function A(f){for(var m=this.t-1;m>=0;--m)f[m]=this[m];f.t=this.t,f.s=this.s}function N(f){this.t=1,this.s=f<0?-1:0,f>0?this[0]=f:f<-1?this[0]=f+this.DV:this.t=0}function x(f){var m=u();return m.fromInt(f),m}function D(f,m){var _;if(m==16)_=4;else if(m==8)_=3;else if(m==256)_=8;else if(m==2)_=1;else if(m==32)_=5;else if(m==4)_=2;else{this.fromRadix(f,m);return}this.t=0,this.s=0;for(var M=f.length,R=!1,G=0;--M>=0;){var Z=_==8?f[M]&255:E(f,M);if(Z<0){f.charAt(M)=="-"&&(R=!0);continue}R=!1,G==0?this[this.t++]=Z:G+_>this.DB?(this[this.t-1]|=(Z&(1<<this.DB-G)-1)<<G,this[this.t++]=Z>>this.DB-G):this[this.t-1]|=Z<<G,G+=_,G>=this.DB&&(G-=this.DB)}_==8&&(f[0]&128)!=0&&(this.s=-1,G>0&&(this[this.t-1]|=(1<<this.DB-G)-1<<G)),this.clamp(),R&&l.ZERO.subTo(this,this)}function k(){for(var f=this.s&this.DM;this.t>0&&this[this.t-1]==f;)--this.t}function U(f){if(this.s<0)return"-"+this.negate().toString(f);var m;if(f==16)m=4;else if(f==8)m=3;else if(f==2)m=1;else if(f==32)m=5;else if(f==4)m=2;else return this.toRadix(f);var _=(1<<m)-1,M,R=!1,G="",Z=this.t,ce=this.DB-Z*this.DB%m;if(Z-- >0)for(ce<this.DB&&(M=this[Z]>>ce)>0&&(R=!0,G=T(M));Z>=0;)ce<m?(M=(this[Z]&(1<<ce)-1)<<m-ce,M|=this[--Z]>>(ce+=this.DB-m)):(M=this[Z]>>(ce-=m)&_,ce<=0&&(ce+=this.DB,--Z)),M>0&&(R=!0),R&&(G+=T(M));return R?G:"0"}function L(){var f=u();return l.ZERO.subTo(this,f),f}function j(){return this.s<0?this.negate():this}function ie(f){var m=this.s-f.s;if(m!=0)return m;var _=this.t;if(m=_-f.t,m!=0)return this.s<0?-m:m;for(;--_>=0;)if((m=this[_]-f[_])!=0)return m;return 0}function se(f){var m=1,_;return(_=f>>>16)!=0&&(f=_,m+=16),(_=f>>8)!=0&&(f=_,m+=8),(_=f>>4)!=0&&(f=_,m+=4),(_=f>>2)!=0&&(f=_,m+=2),(_=f>>1)!=0&&(f=_,m+=1),m}function fe(){return this.t<=0?0:this.DB*(this.t-1)+se(this[this.t-1]^this.s&this.DM)}function _e(f,m){var _;for(_=this.t-1;_>=0;--_)m[_+f]=this[_];for(_=f-1;_>=0;--_)m[_]=0;m.t=this.t+f,m.s=this.s}function J(f,m){for(var _=f;_<this.t;++_)m[_-f]=this[_];m.t=Math.max(this.t-f,0),m.s=this.s}function te(f,m){var _=f%this.DB,M=this.DB-_,R=(1<<M)-1,G=Math.floor(f/this.DB),Z=this.s<<_&this.DM,ce;for(ce=this.t-1;ce>=0;--ce)m[ce+G+1]=this[ce]>>M|Z,Z=(this[ce]&R)<<_;for(ce=G-1;ce>=0;--ce)m[ce]=0;m[G]=Z,m.t=this.t+G+1,m.s=this.s,m.clamp()}function ne(f,m){m.s=this.s;var _=Math.floor(f/this.DB);if(_>=this.t){m.t=0;return}var M=f%this.DB,R=this.DB-M,G=(1<<M)-1;m[0]=this[_]>>M;for(var Z=_+1;Z<this.t;++Z)m[Z-_-1]|=(this[Z]&G)<<R,m[Z-_]=this[Z]>>M;M>0&&(m[this.t-_-1]|=(this.s&G)<<R),m.t=this.t-_,m.clamp()}function xe(f,m){for(var _=0,M=0,R=Math.min(f.t,this.t);_<R;)M+=this[_]-f[_],m[_++]=M&this.DM,M>>=this.DB;if(f.t<this.t){for(M-=f.s;_<this.t;)M+=this[_],m[_++]=M&this.DM,M>>=this.DB;M+=this.s}else{for(M+=this.s;_<f.t;)M-=f[_],m[_++]=M&this.DM,M>>=this.DB;M-=f.s}m.s=M<0?-1:0,M<-1?m[_++]=this.DV+M:M>0&&(m[_++]=M),m.t=_,m.clamp()}function Ce(f,m){var _=this.abs(),M=f.abs(),R=_.t;for(m.t=R+M.t;--R>=0;)m[R]=0;for(R=0;R<M.t;++R)m[R+_.t]=_.am(0,M[R],m,R,0,_.t);m.s=0,m.clamp(),this.s!=f.s&&l.ZERO.subTo(m,m)}function Le(f){for(var m=this.abs(),_=f.t=2*m.t;--_>=0;)f[_]=0;for(_=0;_<m.t-1;++_){var M=m.am(_,m[_],f,2*_,0,1);(f[_+m.t]+=m.am(_+1,2*m[_],f,2*_+1,M,m.t-_-1))>=m.DV&&(f[_+m.t]-=m.DV,f[_+m.t+1]=1)}f.t>0&&(f[f.t-1]+=m.am(_,m[_],f,2*_,0,1)),f.s=0,f.clamp()}function rt(f,m,_){var M=f.abs();if(!(M.t<=0)){var R=this.abs();if(R.t<M.t){m?.fromInt(0),_!=null&&this.copyTo(_);return}_==null&&(_=u());var G=u(),Z=this.s,ce=f.s,be=this.DB-se(M[M.t-1]);be>0?(M.lShiftTo(be,G),R.lShiftTo(be,_)):(M.copyTo(G),R.copyTo(_));var Xe=G.t,lt=G[Xe-1];if(lt!=0){var ft=lt*(1<<this.F1)+(Xe>1?G[Xe-2]>>this.F2:0),Mt=this.FV/ft,gn=(1<<this.F1)/ft,on=1<<this.F2,An=_.t,jr=An-Xe,Yr=m??u();for(G.dlShiftTo(jr,Yr),_.compareTo(Yr)>=0&&(_[_.t++]=1,_.subTo(Yr,_)),l.ONE.dlShiftTo(Xe,Yr),Yr.subTo(G,G);G.t<Xe;)G[G.t++]=0;for(;--jr>=0;){var Ui=_[--An]==lt?this.DM:Math.floor(_[An]*Mt+(_[An-1]+on)*gn);if((_[An]+=G.am(0,Ui,_,jr,0,Xe))<Ui)for(G.dlShiftTo(jr,Yr),_.subTo(Yr,_);_[An]<--Ui;)_.subTo(Yr,_)}m!=null&&(_.drShiftTo(Xe,m),Z!=ce&&l.ZERO.subTo(m,m)),_.t=Xe,_.clamp(),be>0&&_.rShiftTo(be,_),Z<0&&l.ZERO.subTo(_,_)}}}function ot(f){var m=u();return this.abs().divRemTo(f,null,m),this.s<0&&m.compareTo(l.ZERO)>0&&f.subTo(m,m),m}function Ae(f){this.m=f}function ze(f){return f.s<0||f.compareTo(this.m)>=0?f.mod(this.m):f}function je(f){return f}function it(f){f.divRemTo(this.m,null,f)}function pt(f,m,_){f.multiplyTo(m,_),this.reduce(_)}function It(f,m){f.squareTo(m),this.reduce(m)}Ae.prototype.convert=ze,Ae.prototype.revert=je,Ae.prototype.reduce=it,Ae.prototype.mulTo=pt,Ae.prototype.sqrTo=It;function Nt(){if(this.t<1)return 0;var f=this[0];if((f&1)==0)return 0;var m=f&3;return m=m*(2-(f&15)*m)&15,m=m*(2-(f&255)*m)&255,m=m*(2-((f&65535)*m&65535))&65535,m=m*(2-f*m%this.DV)%this.DV,m>0?this.DV-m:-m}function mt(f){this.m=f,this.mp=f.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<f.DB-15)-1,this.mt2=2*f.t}function K(f){var m=u();return f.abs().dlShiftTo(this.m.t,m),m.divRemTo(this.m,null,m),f.s<0&&m.compareTo(l.ZERO)>0&&this.m.subTo(m,m),m}function ye(f){var m=u();return f.copyTo(m),this.reduce(m),m}function ge(f){for(;f.t<=this.mt2;)f[f.t++]=0;for(var m=0;m<this.m.t;++m){var _=f[m]&32767,M=_*this.mpl+((_*this.mph+(f[m]>>15)*this.mpl&this.um)<<15)&f.DM;for(_=m+this.m.t,f[_]+=this.m.am(0,M,f,m,0,this.m.t);f[_]>=f.DV;)f[_]-=f.DV,f[++_]++}f.clamp(),f.drShiftTo(this.m.t,f),f.compareTo(this.m)>=0&&f.subTo(this.m,f)}function Q(f,m){f.squareTo(m),this.reduce(m)}function q(f,m,_){f.multiplyTo(m,_),this.reduce(_)}mt.prototype.convert=K,mt.prototype.revert=ye,mt.prototype.reduce=ge,mt.prototype.mulTo=q,mt.prototype.sqrTo=Q;function ve(){return(this.t>0?this[0]&1:this.s)==0}function ue(f,m){if(f>4294967295||f<1)return l.ONE;var _=u(),M=u(),R=m.convert(this),G=se(f)-1;for(R.copyTo(_);--G>=0;)if(m.sqrTo(_,M),(f&1<<G)>0)m.mulTo(M,R,_);else{var Z=_;_=M,M=Z}return m.revert(_)}function xt(f,m){var _;return f<256||m.isEven()?_=new Ae(m):_=new mt(m),this.exp(f,_)}l.prototype.copyTo=A,l.prototype.fromInt=N,l.prototype.fromString=D,l.prototype.clamp=k,l.prototype.dlShiftTo=_e,l.prototype.drShiftTo=J,l.prototype.lShiftTo=te,l.prototype.rShiftTo=ne,l.prototype.subTo=xe,l.prototype.multiplyTo=Ce,l.prototype.squareTo=Le,l.prototype.divRemTo=rt,l.prototype.invDigit=Nt,l.prototype.isEven=ve,l.prototype.exp=ue,l.prototype.toString=U,l.prototype.negate=L,l.prototype.abs=j,l.prototype.compareTo=ie,l.prototype.bitLength=fe,l.prototype.mod=ot,l.prototype.modPowInt=xt,l.ZERO=x(0),l.ONE=x(1);function ae(){var f=u();return this.copyTo(f),f}function $(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function De(){return this.t==0?this.s:this[0]<<24>>24}function Ke(){return this.t==0?this.s:this[0]<<16>>16}function Ee(f){return Math.floor(Math.LN2*this.DB/Math.log(f))}function Be(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function Ze(f){if(f==null&&(f=10),this.signum()==0||f<2||f>36)return"0";var m=this.chunkSize(f),_=Math.pow(f,m),M=x(_),R=u(),G=u(),Z="";for(this.divRemTo(M,R,G);R.signum()>0;)Z=(_+G.intValue()).toString(f).substr(1)+Z,R.divRemTo(M,R,G);return G.intValue().toString(f)+Z}function ut(f,m){this.fromInt(0),m==null&&(m=10);for(var _=this.chunkSize(m),M=Math.pow(m,_),R=!1,G=0,Z=0,ce=0;ce<f.length;++ce){var be=E(f,ce);if(be<0){f.charAt(ce)=="-"&&this.signum()==0&&(R=!0);continue}Z=m*Z+be,++G>=_&&(this.dMultiply(M),this.dAddOffset(Z,0),G=0,Z=0)}G>0&&(this.dMultiply(Math.pow(m,G)),this.dAddOffset(Z,0)),R&&l.ZERO.subTo(this,this)}function Pt(f,m,_){if(typeof m=="number")if(f<2)this.fromInt(1);else for(this.fromNumber(f,_),this.testBit(f-1)||this.bitwiseTo(l.ONE.shiftLeft(f-1),fn,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(m);)this.dAddOffset(2,0),this.bitLength()>f&&this.subTo(l.ONE.shiftLeft(f-1),this);else{var M=new Array,R=f&7;M.length=(f>>3)+1,m.nextBytes(M),R>0?M[0]&=(1<<R)-1:M[0]=0,this.fromString(M,256)}}function zt(){var f=this.t,m=new Array;m[0]=this.s;var _=this.DB-f*this.DB%8,M,R=0;if(f-- >0)for(_<this.DB&&(M=this[f]>>_)!=(this.s&this.DM)>>_&&(m[R++]=M|this.s<<this.DB-_);f>=0;)_<8?(M=(this[f]&(1<<_)-1)<<8-_,M|=this[--f]>>(_+=this.DB-8)):(M=this[f]>>(_-=8)&255,_<=0&&(_+=this.DB,--f)),(M&128)!=0&&(M|=-256),R==0&&(this.s&128)!=(M&128)&&++R,(R>0||M!=this.s)&&(m[R++]=M);return m}function Qe(f){return this.compareTo(f)==0}function Je(f){return this.compareTo(f)<0?this:f}function gt(f){return this.compareTo(f)>0?this:f}function vt(f,m,_){var M,R,G=Math.min(f.t,this.t);for(M=0;M<G;++M)_[M]=m(this[M],f[M]);if(f.t<this.t){for(R=f.s&this.DM,M=G;M<this.t;++M)_[M]=m(this[M],R);_.t=this.t}else{for(R=this.s&this.DM,M=G;M<f.t;++M)_[M]=m(R,f[M]);_.t=f.t}_.s=m(this.s,f.s),_.clamp()}function Ct(f,m){return f&m}function rn(f){var m=u();return this.bitwiseTo(f,Ct,m),m}function fn(f,m){return f|m}function kn(f){var m=u();return this.bitwiseTo(f,fn,m),m}function we(f,m){return f^m}function Et(f){var m=u();return this.bitwiseTo(f,we,m),m}function et(f,m){return f&~m}function tt(f){var m=u();return this.bitwiseTo(f,et,m),m}function Ot(){for(var f=u(),m=0;m<this.t;++m)f[m]=this.DM&~this[m];return f.t=this.t,f.s=~this.s,f}function Zt(f){var m=u();return f<0?this.rShiftTo(-f,m):this.lShiftTo(f,m),m}function hn(f){var m=u();return f<0?this.lShiftTo(-f,m):this.rShiftTo(f,m),m}function Sn(f){if(f==0)return-1;var m=0;return(f&65535)==0&&(f>>=16,m+=16),(f&255)==0&&(f>>=8,m+=8),(f&15)==0&&(f>>=4,m+=4),(f&3)==0&&(f>>=2,m+=2),(f&1)==0&&++m,m}function Yn(){for(var f=0;f<this.t;++f)if(this[f]!=0)return f*this.DB+Sn(this[f]);return this.s<0?this.t*this.DB:-1}function zn(f){for(var m=0;f!=0;)f&=f-1,++m;return m}function Di(){for(var f=0,m=this.s&this.DM,_=0;_<this.t;++_)f+=zn(this[_]^m);return f}function $r(f){var m=Math.floor(f/this.DB);return m>=this.t?this.s!=0:(this[m]&1<<f%this.DB)!=0}function Kn(f,m){var _=l.ONE.shiftLeft(f);return this.bitwiseTo(_,m,_),_}function Sr(f){return this.changeBit(f,fn)}function Cn(f){return this.changeBit(f,et)}function Zo(f){return this.changeBit(f,we)}function pi(f,m){for(var _=0,M=0,R=Math.min(f.t,this.t);_<R;)M+=this[_]+f[_],m[_++]=M&this.DM,M>>=this.DB;if(f.t<this.t){for(M+=f.s;_<this.t;)M+=this[_],m[_++]=M&this.DM,M>>=this.DB;M+=this.s}else{for(M+=this.s;_<f.t;)M+=f[_],m[_++]=M&this.DM,M>>=this.DB;M+=f.s}m.s=M<0?-1:0,M>0?m[_++]=M:M<-1&&(m[_++]=this.DV+M),m.t=_,m.clamp()}function Xr(f){var m=u();return this.addTo(f,m),m}function pl(f){var m=u();return this.subTo(f,m),m}function _s(f){var m=u();return this.multiplyTo(f,m),m}function ta(){var f=u();return this.squareTo(f),f}function Ao(f){var m=u();return this.divRemTo(f,m,null),m}function ka(f){var m=u();return this.divRemTo(f,null,m),m}function Ss(f){var m=u(),_=u();return this.divRemTo(f,m,_),new Array(m,_)}function ki(f){this[this.t]=this.am(0,f-1,this,0,0,this.t),++this.t,this.clamp()}function ee(f,m){if(f!=0){for(;this.t<=m;)this[this.t++]=0;for(this[m]+=f;this[m]>=this.DV;)this[m]-=this.DV,++m>=this.t&&(this[this.t++]=0),++this[m]}}function Re(){}function Ve(f){return f}function We(f,m,_){f.multiplyTo(m,_)}function Oe(f,m){f.squareTo(m)}Re.prototype.convert=Ve,Re.prototype.revert=Ve,Re.prototype.mulTo=We,Re.prototype.sqrTo=Oe;function Tt(f){return this.exp(f,new Re)}function Lt(f,m,_){var M=Math.min(this.t+f.t,m);for(_.s=0,_.t=M;M>0;)_[--M]=0;var R;for(R=_.t-this.t;M<R;++M)_[M+this.t]=this.am(0,f[M],_,M,0,this.t);for(R=Math.min(f.t,m);M<R;++M)this.am(0,f[M],_,M,0,m-M);_.clamp()}function jt(f,m,_){--m;var M=_.t=this.t+f.t-m;for(_.s=0;--M>=0;)_[M]=0;for(M=Math.max(m-this.t,0);M<f.t;++M)_[this.t+M-m]=this.am(m-M,f[M],_,0,0,this.t+M-m);_.clamp(),_.drShiftTo(1,_)}function Ht(f){this.r2=u(),this.q3=u(),l.ONE.dlShiftTo(2*f.t,this.r2),this.mu=this.r2.divide(f),this.m=f}function an(f){if(f.s<0||f.t>2*this.m.t)return f.mod(this.m);if(f.compareTo(this.m)<0)return f;var m=u();return f.copyTo(m),this.reduce(m),m}function dn(f){return f}function Kt(f){for(f.drShiftTo(this.m.t-1,this.r2),f.t>this.m.t+1&&(f.t=this.m.t+1,f.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);f.compareTo(this.r2)<0;)f.dAddOffset(1,this.m.t+1);for(f.subTo(this.r2,f);f.compareTo(this.m)>=0;)f.subTo(this.m,f)}function Mn(f,m){f.squareTo(m),this.reduce(m)}function sr(f,m,_){f.multiplyTo(m,_),this.reduce(_)}Ht.prototype.convert=an,Ht.prototype.revert=dn,Ht.prototype.reduce=Kt,Ht.prototype.mulTo=sr,Ht.prototype.sqrTo=Mn;function Zn(f,m){var _=f.bitLength(),M,R=x(1),G;if(_<=0)return R;_<18?M=1:_<48?M=3:_<144?M=4:_<768?M=5:M=6,_<8?G=new Ae(m):m.isEven()?G=new Ht(m):G=new mt(m);var Z=new Array,ce=3,be=M-1,Xe=(1<<M)-1;if(Z[1]=G.convert(this),M>1){var lt=u();for(G.sqrTo(Z[1],lt);ce<=Xe;)Z[ce]=u(),G.mulTo(lt,Z[ce-2],Z[ce]),ce+=2}var ft=f.t-1,Mt,gn=!0,on=u(),An;for(_=se(f[ft])-1;ft>=0;){for(_>=be?Mt=f[ft]>>_-be&Xe:(Mt=(f[ft]&(1<<_+1)-1)<<be-_,ft>0&&(Mt|=f[ft-1]>>this.DB+_-be)),ce=M;(Mt&1)==0;)Mt>>=1,--ce;if((_-=ce)<0&&(_+=this.DB,--ft),gn)Z[Mt].copyTo(R),gn=!1;else{for(;ce>1;)G.sqrTo(R,on),G.sqrTo(on,R),ce-=2;ce>0?G.sqrTo(R,on):(An=R,R=on,on=An),G.mulTo(on,Z[Mt],R)}for(;ft>=0&&(f[ft]&1<<_)==0;)G.sqrTo(R,on),An=R,R=on,on=An,--_<0&&(_=this.DB-1,--ft)}return G.revert(R)}function Ar(f){var m=this.s<0?this.negate():this.clone(),_=f.s<0?f.negate():f.clone();if(m.compareTo(_)<0){var M=m;m=_,_=M}var R=m.getLowestSetBit(),G=_.getLowestSetBit();if(G<0)return m;for(R<G&&(G=R),G>0&&(m.rShiftTo(G,m),_.rShiftTo(G,_));m.signum()>0;)(R=m.getLowestSetBit())>0&&m.rShiftTo(R,m),(R=_.getLowestSetBit())>0&&_.rShiftTo(R,_),m.compareTo(_)>=0?(m.subTo(_,m),m.rShiftTo(1,m)):(_.subTo(m,_),_.rShiftTo(1,_));return G>0&&_.lShiftTo(G,_),_}function Pn(f){if(f<=0)return 0;var m=this.DV%f,_=this.s<0?f-1:0;if(this.t>0)if(m==0)_=this[0]%f;else for(var M=this.t-1;M>=0;--M)_=(m*_+this[M])%f;return _}function Gt(f){var m=f.isEven();if(this.isEven()&&m||f.signum()==0)return l.ZERO;for(var _=f.clone(),M=this.clone(),R=x(1),G=x(0),Z=x(0),ce=x(1);_.signum()!=0;){for(;_.isEven();)_.rShiftTo(1,_),m?((!R.isEven()||!G.isEven())&&(R.addTo(this,R),G.subTo(f,G)),R.rShiftTo(1,R)):G.isEven()||G.subTo(f,G),G.rShiftTo(1,G);for(;M.isEven();)M.rShiftTo(1,M),m?((!Z.isEven()||!ce.isEven())&&(Z.addTo(this,Z),ce.subTo(f,ce)),Z.rShiftTo(1,Z)):ce.isEven()||ce.subTo(f,ce),ce.rShiftTo(1,ce);_.compareTo(M)>=0?(_.subTo(M,_),m&&R.subTo(Z,R),G.subTo(ce,G)):(M.subTo(_,M),m&&Z.subTo(R,Z),ce.subTo(G,ce))}if(M.compareTo(l.ONE)!=0)return l.ZERO;if(ce.compareTo(f)>=0)return ce.subtract(f);if(ce.signum()<0)ce.addTo(f,ce);else return ce;return ce.signum()<0?ce.add(f):ce}var Rn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],pn=(1<<26)/Rn[Rn.length-1];function Pr(f){var m,_=this.abs();if(_.t==1&&_[0]<=Rn[Rn.length-1]){for(m=0;m<Rn.length;++m)if(_[0]==Rn[m])return!0;return!1}if(_.isEven())return!1;for(m=1;m<Rn.length;){for(var M=Rn[m],R=m+1;R<Rn.length&&M<pn;)M*=Rn[R++];for(M=_.modInt(M);m<R;)if(M%Rn[m++]==0)return!1}return _.millerRabin(f)}function Ji(f){var m=this.subtract(l.ONE),_=m.getLowestSetBit();if(_<=0)return!1;var M=m.shiftRight(_);f=f+1>>1,f>Rn.length&&(f=Rn.length);for(var R=u(),G=0;G<f;++G){R.fromInt(Rn[Math.floor(Math.random()*Rn.length)]);var Z=R.modPow(M,this);if(Z.compareTo(l.ONE)!=0&&Z.compareTo(m)!=0){for(var ce=1;ce++<_&&Z.compareTo(m)!=0;)if(Z=Z.modPowInt(2,this),Z.compareTo(l.ONE)==0)return!1;if(Z.compareTo(m)!=0)return!1}}return!0}l.prototype.chunkSize=Ee,l.prototype.toRadix=Ze,l.prototype.fromRadix=ut,l.prototype.fromNumber=Pt,l.prototype.bitwiseTo=vt,l.prototype.changeBit=Kn,l.prototype.addTo=pi,l.prototype.dMultiply=ki,l.prototype.dAddOffset=ee,l.prototype.multiplyLowerTo=Lt,l.prototype.multiplyUpperTo=jt,l.prototype.modInt=Pn,l.prototype.millerRabin=Ji,l.prototype.clone=ae,l.prototype.intValue=$,l.prototype.byteValue=De,l.prototype.shortValue=Ke,l.prototype.signum=Be,l.prototype.toByteArray=zt,l.prototype.equals=Qe,l.prototype.min=Je,l.prototype.max=gt,l.prototype.and=rn,l.prototype.or=kn,l.prototype.xor=Et,l.prototype.andNot=tt,l.prototype.not=Ot,l.prototype.shiftLeft=Zt,l.prototype.shiftRight=hn,l.prototype.getLowestSetBit=Yn,l.prototype.bitCount=Di,l.prototype.testBit=$r,l.prototype.setBit=Sr,l.prototype.clearBit=Cn,l.prototype.flipBit=Zo,l.prototype.add=Xr,l.prototype.subtract=pl,l.prototype.multiply=_s,l.prototype.divide=Ao,l.prototype.remainder=ka,l.prototype.divideAndRemainder=Ss,l.prototype.modPow=Zn,l.prototype.modInverse=Gt,l.prototype.pow=Tt,l.prototype.gcd=Ar,l.prototype.isProbablePrime=Pr,l.prototype.square=ta;var Jt=l;Jt.prototype.IsNegative=function(){return this.compareTo(Jt.ZERO)==-1},Jt.op_Equality=function(f,m){return f.compareTo(m)==0},Jt.op_Inequality=function(f,m){return f.compareTo(m)!=0},Jt.op_GreaterThan=function(f,m){return f.compareTo(m)>0},Jt.op_LessThan=function(f,m){return f.compareTo(m)<0},Jt.op_Addition=function(f,m){return new Jt(f).add(new Jt(m))},Jt.op_Subtraction=function(f,m){return new Jt(f).subtract(new Jt(m))},Jt.Int128Mul=function(f,m){return new Jt(f).multiply(new Jt(m))},Jt.op_Division=function(f,m){return f.divide(m)},Jt.prototype.ToDouble=function(){return parseFloat(this.toString())};var na=function(f,m){var _;if(typeof Object.getOwnPropertyNames>"u"){for(_ in m.prototype)(typeof f.prototype[_]>"u"||f.prototype[_]===Object.prototype[_])&&(f.prototype[_]=m.prototype[_]);for(_ in m)typeof f[_]>"u"&&(f[_]=m[_]);f.$baseCtor=m}else{for(var M=Object.getOwnPropertyNames(m.prototype),R=0;R<M.length;R++)typeof Object.getOwnPropertyDescriptor(f.prototype,M[R])>"u"&&Object.defineProperty(f.prototype,M[R],Object.getOwnPropertyDescriptor(m.prototype,M[R]));for(_ in m)typeof f[_]>"u"&&(f[_]=m[_]);f.$baseCtor=m}};t.Path=function(){return[]},t.Paths=function(){return[]},t.DoublePoint=function(){var f=arguments;this.X=0,this.Y=0,f.length===1?(this.X=f[0].X,this.Y=f[0].Y):f.length===2&&(this.X=f[0],this.Y=f[1])},t.DoublePoint0=function(){this.X=0,this.Y=0},t.DoublePoint1=function(f){this.X=f.X,this.Y=f.Y},t.DoublePoint2=function(f,m){this.X=f,this.Y=m},t.PolyNode=function(){this.m_Parent=null,this.m_polygon=new t.Path,this.m_Index=0,this.m_jointype=0,this.m_endtype=0,this.m_Childs=[],this.IsOpen=!1},t.PolyNode.prototype.IsHoleNode=function(){for(var f=!0,m=this.m_Parent;m!==null;)f=!f,m=m.m_Parent;return f},t.PolyNode.prototype.ChildCount=function(){return this.m_Childs.length},t.PolyNode.prototype.Contour=function(){return this.m_polygon},t.PolyNode.prototype.AddChild=function(f){var m=this.m_Childs.length;this.m_Childs.push(f),f.m_Parent=this,f.m_Index=m},t.PolyNode.prototype.GetNext=function(){return this.m_Childs.length>0?this.m_Childs[0]:this.GetNextSiblingUp()},t.PolyNode.prototype.GetNextSiblingUp=function(){return this.m_Parent===null?null:this.m_Index===this.m_Parent.m_Childs.length-1?this.m_Parent.GetNextSiblingUp():this.m_Parent.m_Childs[this.m_Index+1]},t.PolyNode.prototype.Childs=function(){return this.m_Childs},t.PolyNode.prototype.Parent=function(){return this.m_Parent},t.PolyNode.prototype.IsHole=function(){return this.IsHoleNode()},t.PolyTree=function(){this.m_AllPolys=[],t.PolyNode.call(this)},t.PolyTree.prototype.Clear=function(){for(var f=0,m=this.m_AllPolys.length;f<m;f++)this.m_AllPolys[f]=null;this.m_AllPolys.length=0,this.m_Childs.length=0},t.PolyTree.prototype.GetFirst=function(){return this.m_Childs.length>0?this.m_Childs[0]:null},t.PolyTree.prototype.Total=function(){var f=this.m_AllPolys.length;return f>0&&this.m_Childs[0]!==this.m_AllPolys[0]&&f--,f},na(t.PolyTree,t.PolyNode),t.Math_Abs_Int64=t.Math_Abs_Int32=t.Math_Abs_Double=function(f){return Math.abs(f)},t.Math_Max_Int32_Int32=function(f,m){return Math.max(f,m)},i.msie||i.opera||i.safari?t.Cast_Int32=function(f){return f|0}:t.Cast_Int32=function(f){return~~f},i.chrome?t.Cast_Int64=function(f){return f<-2147483648||f>2147483647?f<0?Math.ceil(f):Math.floor(f):~~f}:i.firefox&&typeof Number.toInteger=="function"?t.Cast_Int64=function(f){return Number.toInteger(f)}:i.msie7||i.msie8?t.Cast_Int64=function(f){return parseInt(f,10)}:i.msie?t.Cast_Int64=function(f){return f<-2147483648||f>2147483647?f<0?Math.ceil(f):Math.floor(f):f|0}:t.Cast_Int64=function(f){return f<0?Math.ceil(f):Math.floor(f)},t.Clear=function(f){f.length=0},t.PI=3.141592653589793,t.PI2=2*3.141592653589793,t.IntPoint=function(){var f=arguments,m=f.length;if(this.X=0,this.Y=0,t.use_xyz)if(this.Z=0,m===3)this.X=f[0],this.Y=f[1],this.Z=f[2];else if(m===2)this.X=f[0],this.Y=f[1],this.Z=0;else if(m===1)if(f[0]instanceof t.DoublePoint){var _=f[0];this.X=t.Clipper.Round(_.X),this.Y=t.Clipper.Round(_.Y),this.Z=0}else{var M=f[0];typeof M.Z>"u"&&(M.Z=0),this.X=M.X,this.Y=M.Y,this.Z=M.Z}else this.X=0,this.Y=0,this.Z=0;else if(m===2)this.X=f[0],this.Y=f[1];else if(m===1)if(f[0]instanceof t.DoublePoint){var _=f[0];this.X=t.Clipper.Round(_.X),this.Y=t.Clipper.Round(_.Y)}else{var M=f[0];this.X=M.X,this.Y=M.Y}else this.X=0,this.Y=0},t.IntPoint.op_Equality=function(f,m){return f.X===m.X&&f.Y===m.Y},t.IntPoint.op_Inequality=function(f,m){return f.X!==m.X||f.Y!==m.Y},t.use_xyz?(t.IntPoint0=function(){this.X=0,this.Y=0,this.Z=0},t.IntPoint1=function(f){this.X=f.X,this.Y=f.Y,this.Z=f.Z},t.IntPoint1dp=function(f){this.X=t.Clipper.Round(f.X),this.Y=t.Clipper.Round(f.Y),this.Z=0},t.IntPoint2=function(f,m){this.X=f,this.Y=m,this.Z=0},t.IntPoint3=function(f,m,_){this.X=f,this.Y=m,this.Z=_}):(t.IntPoint0=function(){this.X=0,this.Y=0},t.IntPoint1=function(f){this.X=f.X,this.Y=f.Y},t.IntPoint1dp=function(f){this.X=t.Clipper.Round(f.X),this.Y=t.Clipper.Round(f.Y)},t.IntPoint2=function(f,m){this.X=f,this.Y=m}),t.IntRect=function(){var f=arguments,m=f.length;m===4?(this.left=f[0],this.top=f[1],this.right=f[2],this.bottom=f[3]):m===1?(this.left=ir.left,this.top=ir.top,this.right=ir.right,this.bottom=ir.bottom):(this.left=0,this.top=0,this.right=0,this.bottom=0)},t.IntRect0=function(){this.left=0,this.top=0,this.right=0,this.bottom=0},t.IntRect1=function(f){this.left=f.left,this.top=f.top,this.right=f.right,this.bottom=f.bottom},t.IntRect4=function(f,m,_,M){this.left=f,this.top=m,this.right=_,this.bottom=M},t.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3},t.PolyType={ptSubject:0,ptClip:1},t.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3},t.JoinType={jtSquare:0,jtRound:1,jtMiter:2},t.EndType={etOpenSquare:0,etOpenRound:1,etOpenButt:2,etClosedLine:3,etClosedPolygon:4},t.EdgeSide={esLeft:0,esRight:1},t.Direction={dRightToLeft:0,dLeftToRight:1},t.TEdge=function(){this.Bot=new t.IntPoint,this.Curr=new t.IntPoint,this.Top=new t.IntPoint,this.Delta=new t.IntPoint,this.Dx=0,this.PolyTyp=t.PolyType.ptSubject,this.Side=t.EdgeSide.esLeft,this.WindDelta=0,this.WindCnt=0,this.WindCnt2=0,this.OutIdx=0,this.Next=null,this.Prev=null,this.NextInLML=null,this.NextInAEL=null,this.PrevInAEL=null,this.NextInSEL=null,this.PrevInSEL=null},t.IntersectNode=function(){this.Edge1=null,this.Edge2=null,this.Pt=new t.IntPoint},t.MyIntersectNodeSort=function(){},t.MyIntersectNodeSort.Compare=function(f,m){var _=m.Pt.Y-f.Pt.Y;return _>0?1:_<0?-1:0},t.LocalMinima=function(){this.Y=0,this.LeftBound=null,this.RightBound=null,this.Next=null},t.Scanbeam=function(){this.Y=0,this.Next=null},t.Maxima=function(){this.X=0,this.Next=null,this.Prev=null},t.OutRec=function(){this.Idx=0,this.IsHole=!1,this.IsOpen=!1,this.FirstLeft=null,this.Pts=null,this.BottomPt=null,this.PolyNode=null},t.OutPt=function(){this.Idx=0,this.Pt=new t.IntPoint,this.Next=null,this.Prev=null},t.Join=function(){this.OutPt1=null,this.OutPt2=null,this.OffPt=new t.IntPoint},t.ClipperBase=function(){this.m_MinimaList=null,this.m_CurrentLM=null,this.m_edges=new Array,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1,this.PreserveCollinear=!1,this.m_MinimaList=null,this.m_CurrentLM=null,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},t.ClipperBase.horizontal=-9007199254740992,t.ClipperBase.Skip=-2,t.ClipperBase.Unassigned=-1,t.ClipperBase.tolerance=1e-20,t.ClipperBase.loRange=47453132,t.ClipperBase.hiRange=0xfffffffffffff,t.ClipperBase.near_zero=function(f){return f>-t.ClipperBase.tolerance&&f<t.ClipperBase.tolerance},t.ClipperBase.IsHorizontal=function(f){return f.Delta.Y===0},t.ClipperBase.prototype.PointIsVertex=function(f,m){var _=m;do{if(t.IntPoint.op_Equality(_.Pt,f))return!0;_=_.Next}while(_!==m);return!1},t.ClipperBase.prototype.PointOnLineSegment=function(f,m,_,M){return M?f.X===m.X&&f.Y===m.Y||f.X===_.X&&f.Y===_.Y||f.X>m.X==f.X<_.X&&f.Y>m.Y==f.Y<_.Y&&Jt.op_Equality(Jt.Int128Mul(f.X-m.X,_.Y-m.Y),Jt.Int128Mul(_.X-m.X,f.Y-m.Y)):f.X===m.X&&f.Y===m.Y||f.X===_.X&&f.Y===_.Y||f.X>m.X==f.X<_.X&&f.Y>m.Y==f.Y<_.Y&&(f.X-m.X)*(_.Y-m.Y)===(_.X-m.X)*(f.Y-m.Y)},t.ClipperBase.prototype.PointOnPolygon=function(f,m,_){for(var M=m;;){if(this.PointOnLineSegment(f,M.Pt,M.Next.Pt,_))return!0;if(M=M.Next,M===m)break}return!1},t.ClipperBase.prototype.SlopesEqual=t.ClipperBase.SlopesEqual=function(){var f=arguments,m=f.length,_,M,R,G,Z,ce,be;return m===3?(_=f[0],M=f[1],be=f[2],be?Jt.op_Equality(Jt.Int128Mul(_.Delta.Y,M.Delta.X),Jt.Int128Mul(_.Delta.X,M.Delta.Y)):t.Cast_Int64(_.Delta.Y*M.Delta.X)===t.Cast_Int64(_.Delta.X*M.Delta.Y)):m===4?(R=f[0],G=f[1],Z=f[2],be=f[3],be?Jt.op_Equality(Jt.Int128Mul(R.Y-G.Y,G.X-Z.X),Jt.Int128Mul(R.X-G.X,G.Y-Z.Y)):t.Cast_Int64((R.Y-G.Y)*(G.X-Z.X))-t.Cast_Int64((R.X-G.X)*(G.Y-Z.Y))===0):(R=f[0],G=f[1],Z=f[2],ce=f[3],be=f[4],be?Jt.op_Equality(Jt.Int128Mul(R.Y-G.Y,Z.X-ce.X),Jt.Int128Mul(R.X-G.X,Z.Y-ce.Y)):t.Cast_Int64((R.Y-G.Y)*(Z.X-ce.X))-t.Cast_Int64((R.X-G.X)*(Z.Y-ce.Y))===0)},t.ClipperBase.SlopesEqual3=function(f,m,_){return _?Jt.op_Equality(Jt.Int128Mul(f.Delta.Y,m.Delta.X),Jt.Int128Mul(f.Delta.X,m.Delta.Y)):t.Cast_Int64(f.Delta.Y*m.Delta.X)===t.Cast_Int64(f.Delta.X*m.Delta.Y)},t.ClipperBase.SlopesEqual4=function(f,m,_,M){return M?Jt.op_Equality(Jt.Int128Mul(f.Y-m.Y,m.X-_.X),Jt.Int128Mul(f.X-m.X,m.Y-_.Y)):t.Cast_Int64((f.Y-m.Y)*(m.X-_.X))-t.Cast_Int64((f.X-m.X)*(m.Y-_.Y))===0},t.ClipperBase.SlopesEqual5=function(f,m,_,M,R){return R?Jt.op_Equality(Jt.Int128Mul(f.Y-m.Y,_.X-M.X),Jt.Int128Mul(f.X-m.X,_.Y-M.Y)):t.Cast_Int64((f.Y-m.Y)*(_.X-M.X))-t.Cast_Int64((f.X-m.X)*(_.Y-M.Y))===0},t.ClipperBase.prototype.Clear=function(){this.DisposeLocalMinimaList();for(var f=0,m=this.m_edges.length;f<m;++f){for(var _=0,M=this.m_edges[f].length;_<M;++_)this.m_edges[f][_]=null;t.Clear(this.m_edges[f])}t.Clear(this.m_edges),this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},t.ClipperBase.prototype.DisposeLocalMinimaList=function(){for(;this.m_MinimaList!==null;){var f=this.m_MinimaList.Next;this.m_MinimaList=null,this.m_MinimaList=f}this.m_CurrentLM=null},t.ClipperBase.prototype.RangeTest=function(f,m){m.Value?(f.X>t.ClipperBase.hiRange||f.Y>t.ClipperBase.hiRange||-f.X>t.ClipperBase.hiRange||-f.Y>t.ClipperBase.hiRange)&&t.Error("Coordinate outside allowed range in RangeTest()."):(f.X>t.ClipperBase.loRange||f.Y>t.ClipperBase.loRange||-f.X>t.ClipperBase.loRange||-f.Y>t.ClipperBase.loRange)&&(m.Value=!0,this.RangeTest(f,m))},t.ClipperBase.prototype.InitEdge=function(f,m,_,M){f.Next=m,f.Prev=_,f.Curr.X=M.X,f.Curr.Y=M.Y,t.use_xyz&&(f.Curr.Z=M.Z),f.OutIdx=-1},t.ClipperBase.prototype.InitEdge2=function(f,m){f.Curr.Y>=f.Next.Curr.Y?(f.Bot.X=f.Curr.X,f.Bot.Y=f.Curr.Y,t.use_xyz&&(f.Bot.Z=f.Curr.Z),f.Top.X=f.Next.Curr.X,f.Top.Y=f.Next.Curr.Y,t.use_xyz&&(f.Top.Z=f.Next.Curr.Z)):(f.Top.X=f.Curr.X,f.Top.Y=f.Curr.Y,t.use_xyz&&(f.Top.Z=f.Curr.Z),f.Bot.X=f.Next.Curr.X,f.Bot.Y=f.Next.Curr.Y,t.use_xyz&&(f.Bot.Z=f.Next.Curr.Z)),this.SetDx(f),f.PolyTyp=m},t.ClipperBase.prototype.FindNextLocMin=function(f){for(var m;;){for(;t.IntPoint.op_Inequality(f.Bot,f.Prev.Bot)||t.IntPoint.op_Equality(f.Curr,f.Top);)f=f.Next;if(f.Dx!==t.ClipperBase.horizontal&&f.Prev.Dx!==t.ClipperBase.horizontal)break;for(;f.Prev.Dx===t.ClipperBase.horizontal;)f=f.Prev;for(m=f;f.Dx===t.ClipperBase.horizontal;)f=f.Next;if(f.Top.Y!==f.Prev.Bot.Y){m.Prev.Bot.X<f.Bot.X&&(f=m);break}}return f},t.ClipperBase.prototype.ProcessBound=function(f,m){var _,M=f,R;if(M.OutIdx===t.ClipperBase.Skip){if(f=M,m){for(;f.Top.Y===f.Next.Bot.Y;)f=f.Next;for(;f!==M&&f.Dx===t.ClipperBase.horizontal;)f=f.Prev}else{for(;f.Top.Y===f.Prev.Bot.Y;)f=f.Prev;for(;f!==M&&f.Dx===t.ClipperBase.horizontal;)f=f.Next}if(f===M)m?M=f.Next:M=f.Prev;else{m?f=M.Next:f=M.Prev;var G=new t.LocalMinima;G.Next=null,G.Y=f.Bot.Y,G.LeftBound=null,G.RightBound=f,f.WindDelta=0,M=this.ProcessBound(f,m),this.InsertLocalMinima(G)}return M}if(f.Dx===t.ClipperBase.horizontal&&(m?_=f.Prev:_=f.Next,_.OutIdx!==t.ClipperBase.Skip&&(_.Dx===t.ClipperBase.horizontal?_.Bot.X!==f.Bot.X&&_.Top.X!==f.Bot.X&&this.ReverseHorizontal(f):_.Bot.X!==f.Bot.X&&this.ReverseHorizontal(f))),_=f,m){for(;M.Top.Y===M.Next.Bot.Y&&M.Next.OutIdx!==t.ClipperBase.Skip;)M=M.Next;if(M.Dx===t.ClipperBase.horizontal&&M.Next.OutIdx!==t.ClipperBase.Skip){for(R=M;R.Prev.Dx===t.ClipperBase.horizontal;)R=R.Prev;R.Prev.Top.X>M.Next.Top.X&&(M=R.Prev)}for(;f!==M;)f.NextInLML=f.Next,f.Dx===t.ClipperBase.horizontal&&f!==_&&f.Bot.X!==f.Prev.Top.X&&this.ReverseHorizontal(f),f=f.Next;f.Dx===t.ClipperBase.horizontal&&f!==_&&f.Bot.X!==f.Prev.Top.X&&this.ReverseHorizontal(f),M=M.Next}else{for(;M.Top.Y===M.Prev.Bot.Y&&M.Prev.OutIdx!==t.ClipperBase.Skip;)M=M.Prev;if(M.Dx===t.ClipperBase.horizontal&&M.Prev.OutIdx!==t.ClipperBase.Skip){for(R=M;R.Next.Dx===t.ClipperBase.horizontal;)R=R.Next;(R.Next.Top.X===M.Prev.Top.X||R.Next.Top.X>M.Prev.Top.X)&&(M=R.Next)}for(;f!==M;)f.NextInLML=f.Prev,f.Dx===t.ClipperBase.horizontal&&f!==_&&f.Bot.X!==f.Next.Top.X&&this.ReverseHorizontal(f),f=f.Prev;f.Dx===t.ClipperBase.horizontal&&f!==_&&f.Bot.X!==f.Next.Top.X&&this.ReverseHorizontal(f),M=M.Prev}return M},t.ClipperBase.prototype.AddPath=function(f,m,_){t.use_lines?!_&&m===t.PolyType.ptClip&&t.Error("AddPath: Open paths must be subject."):_||t.Error("AddPath: Open paths have been disabled.");var M=f.length-1;if(_)for(;M>0&&t.IntPoint.op_Equality(f[M],f[0]);)--M;for(;M>0&&t.IntPoint.op_Equality(f[M],f[M-1]);)--M;if(_&&M<2||!_&&M<1)return!1;for(var R=new Array,G=0;G<=M;G++)R.push(new t.TEdge);var Z=!0;R[1].Curr.X=f[1].X,R[1].Curr.Y=f[1].Y,t.use_xyz&&(R[1].Curr.Z=f[1].Z);var ce={Value:this.m_UseFullRange};this.RangeTest(f[0],ce),this.m_UseFullRange=ce.Value,ce.Value=this.m_UseFullRange,this.RangeTest(f[M],ce),this.m_UseFullRange=ce.Value,this.InitEdge(R[0],R[1],R[M],f[0]),this.InitEdge(R[M],R[0],R[M-1],f[M]);for(var G=M-1;G>=1;--G)ce.Value=this.m_UseFullRange,this.RangeTest(f[G],ce),this.m_UseFullRange=ce.Value,this.InitEdge(R[G],R[G+1],R[G-1],f[G]);for(var be=R[0],Xe=be,lt=be;;){if(Xe.Curr===Xe.Next.Curr&&(_||Xe.Next!==be)){if(Xe===Xe.Next)break;Xe===be&&(be=Xe.Next),Xe=this.RemoveEdge(Xe),lt=Xe;continue}if(Xe.Prev===Xe.Next)break;if(_&&t.ClipperBase.SlopesEqual(Xe.Prev.Curr,Xe.Curr,Xe.Next.Curr,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(Xe.Prev.Curr,Xe.Curr,Xe.Next.Curr))){Xe===be&&(be=Xe.Next),Xe=this.RemoveEdge(Xe),Xe=Xe.Prev,lt=Xe;continue}if(Xe=Xe.Next,Xe===lt||!_&&Xe.Next===be)break}if(!_&&Xe===Xe.Next||_&&Xe.Prev===Xe.Next)return!1;_||(this.m_HasOpenPaths=!0,be.Prev.OutIdx=t.ClipperBase.Skip),Xe=be;do this.InitEdge2(Xe,m),Xe=Xe.Next,Z&&Xe.Curr.Y!==be.Curr.Y&&(Z=!1);while(Xe!==be);if(Z){if(_)return!1;Xe.Prev.OutIdx=t.ClipperBase.Skip;var ft=new t.LocalMinima;for(ft.Next=null,ft.Y=Xe.Bot.Y,ft.LeftBound=null,ft.RightBound=Xe,ft.RightBound.Side=t.EdgeSide.esRight,ft.RightBound.WindDelta=0;Xe.Bot.X!==Xe.Prev.Top.X&&this.ReverseHorizontal(Xe),Xe.Next.OutIdx!==t.ClipperBase.Skip;)Xe.NextInLML=Xe.Next,Xe=Xe.Next;return this.InsertLocalMinima(ft),this.m_edges.push(R),!0}this.m_edges.push(R);var Mt,gn=null;for(t.IntPoint.op_Equality(Xe.Prev.Bot,Xe.Prev.Top)&&(Xe=Xe.Next);Xe=this.FindNextLocMin(Xe),Xe!==gn;){gn===null&&(gn=Xe);var ft=new t.LocalMinima;ft.Next=null,ft.Y=Xe.Bot.Y,Xe.Dx<Xe.Prev.Dx?(ft.LeftBound=Xe.Prev,ft.RightBound=Xe,Mt=!1):(ft.LeftBound=Xe,ft.RightBound=Xe.Prev,Mt=!0),ft.LeftBound.Side=t.EdgeSide.esLeft,ft.RightBound.Side=t.EdgeSide.esRight,_?ft.LeftBound.Next===ft.RightBound?ft.LeftBound.WindDelta=-1:ft.LeftBound.WindDelta=1:ft.LeftBound.WindDelta=0,ft.RightBound.WindDelta=-ft.LeftBound.WindDelta,Xe=this.ProcessBound(ft.LeftBound,Mt),Xe.OutIdx===t.ClipperBase.Skip&&(Xe=this.ProcessBound(Xe,Mt));var on=this.ProcessBound(ft.RightBound,!Mt);on.OutIdx===t.ClipperBase.Skip&&(on=this.ProcessBound(on,!Mt)),ft.LeftBound.OutIdx===t.ClipperBase.Skip?ft.LeftBound=null:ft.RightBound.OutIdx===t.ClipperBase.Skip&&(ft.RightBound=null),this.InsertLocalMinima(ft),Mt||(Xe=on)}return!0},t.ClipperBase.prototype.AddPaths=function(f,m,_){for(var M=!1,R=0,G=f.length;R<G;++R)this.AddPath(f[R],m,_)&&(M=!0);return M},t.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3=function(f,m,_){return t.IntPoint.op_Equality(f,_)||t.IntPoint.op_Equality(f,m)||t.IntPoint.op_Equality(_,m)?!1:f.X!==_.X?m.X>f.X==m.X<_.X:m.Y>f.Y==m.Y<_.Y},t.ClipperBase.prototype.RemoveEdge=function(f){f.Prev.Next=f.Next,f.Next.Prev=f.Prev;var m=f.Next;return f.Prev=null,m},t.ClipperBase.prototype.SetDx=function(f){f.Delta.X=f.Top.X-f.Bot.X,f.Delta.Y=f.Top.Y-f.Bot.Y,f.Delta.Y===0?f.Dx=t.ClipperBase.horizontal:f.Dx=f.Delta.X/f.Delta.Y},t.ClipperBase.prototype.InsertLocalMinima=function(f){if(this.m_MinimaList===null)this.m_MinimaList=f;else if(f.Y>=this.m_MinimaList.Y)f.Next=this.m_MinimaList,this.m_MinimaList=f;else{for(var m=this.m_MinimaList;m.Next!==null&&f.Y<m.Next.Y;)m=m.Next;f.Next=m.Next,m.Next=f}},t.ClipperBase.prototype.PopLocalMinima=function(){this.m_CurrentLM!==null&&(this.m_CurrentLM=this.m_CurrentLM.Next)},t.ClipperBase.prototype.ReverseHorizontal=function(f){var m=f.Top.X;f.Top.X=f.Bot.X,f.Bot.X=m,t.use_xyz&&(m=f.Top.Z,f.Top.Z=f.Bot.Z,f.Bot.Z=m)},t.ClipperBase.prototype.Reset=function(){if(this.m_CurrentLM=this.m_MinimaList,this.m_CurrentLM!==null)for(var f=this.m_MinimaList;f!==null;){var m=f.LeftBound;m!==null&&(m.Curr.X=m.Bot.X,m.Curr.Y=m.Bot.Y,t.use_xyz&&(m.Curr.Z=m.Bot.Z),m.Side=t.EdgeSide.esLeft,m.OutIdx=t.ClipperBase.Unassigned),m=f.RightBound,m!==null&&(m.Curr.X=m.Bot.X,m.Curr.Y=m.Bot.Y,t.use_xyz&&(m.Curr.Z=m.Bot.Z),m.Side=t.EdgeSide.esRight,m.OutIdx=t.ClipperBase.Unassigned),f=f.Next}},t.Clipper=function(f){typeof f>"u"&&(f=0),this.m_PolyOuts=null,this.m_ClipType=t.ClipType.ctIntersection,this.m_Scanbeam=null,this.m_Maxima=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=null,this.m_IntersectNodeComparer=null,this.m_ExecuteLocked=!1,this.m_ClipFillType=t.PolyFillType.pftEvenOdd,this.m_SubjFillType=t.PolyFillType.pftEvenOdd,this.m_Joins=null,this.m_GhostJoins=null,this.m_UsingPolyTree=!1,this.ReverseSolution=!1,this.StrictlySimple=!1,t.ClipperBase.call(this),this.m_Scanbeam=null,this.m_Maxima=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=new Array,this.m_IntersectNodeComparer=t.MyIntersectNodeSort.Compare,this.m_ExecuteLocked=!1,this.m_UsingPolyTree=!1,this.m_PolyOuts=new Array,this.m_Joins=new Array,this.m_GhostJoins=new Array,this.ReverseSolution=(1&f)!==0,this.StrictlySimple=(2&f)!==0,this.PreserveCollinear=(4&f)!==0,t.use_xyz&&(this.ZFillFunction=null)},t.Clipper.ioReverseSolution=1,t.Clipper.ioStrictlySimple=2,t.Clipper.ioPreserveCollinear=4,t.Clipper.prototype.Clear=function(){this.m_edges.length!==0&&(this.DisposeAllPolyPts(),t.ClipperBase.prototype.Clear.call(this))},t.Clipper.prototype.DisposeScanbeamList=function(){for(;this.m_Scanbeam!==null;){var f=this.m_Scanbeam.Next;this.m_Scanbeam=null,this.m_Scanbeam=f}},t.Clipper.prototype.Reset=function(){t.ClipperBase.prototype.Reset.call(this),this.m_Scanbeam=null,this.m_Maxima=null,this.m_ActiveEdges=null,this.m_SortedEdges=null;for(var f=this.m_MinimaList;f!==null;)this.InsertScanbeam(f.Y),f=f.Next},t.Clipper.prototype.InsertScanbeam=function(f){if(this.m_Scanbeam===null)this.m_Scanbeam=new t.Scanbeam,this.m_Scanbeam.Next=null,this.m_Scanbeam.Y=f;else if(f>this.m_Scanbeam.Y){var m=new t.Scanbeam;m.Y=f,m.Next=this.m_Scanbeam,this.m_Scanbeam=m}else{for(var _=this.m_Scanbeam;_.Next!==null&&f<=_.Next.Y;)_=_.Next;if(f==_.Y)return;var m=new t.Scanbeam;m.Y=f,m.Next=_.Next,_.Next=m}},t.Clipper.prototype.InsertMaxima=function(f){var m=new t.Maxima;if(m.X=f,this.m_Maxima===null)this.m_Maxima=m,this.m_Maxima.Next=null,this.m_Maxima.Prev=null;else if(f<this.m_Maxima.X)m.Next=this.m_Maxima,m.Prev=null,this.m_Maxima=m;else{for(var _=this.m_Maxima;_.Next!==null&&f>=_.Next.X;)_=_.Next;if(f===_.X)return;m.Next=_.Next,m.Prev=_,_.Next!==null&&(_.Next.Prev=m),_.Next=m}},t.Clipper.prototype.Execute=function(){var f=arguments,m=f.length,_=f[1]instanceof t.PolyTree;if(m===4&&!_){var M=f[0],R=f[1],G=f[2],Z=f[3];if(this.m_ExecuteLocked)return!1;this.m_HasOpenPaths&&t.Error("Error: PolyTree struct is needed for open path clipping."),this.m_ExecuteLocked=!0,t.Clear(R),this.m_SubjFillType=G,this.m_ClipFillType=Z,this.m_ClipType=M,this.m_UsingPolyTree=!1;try{var ce=this.ExecuteInternal();ce&&this.BuildResult(R)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return ce}else if(m===4&&_){var M=f[0],be=f[1],G=f[2],Z=f[3];if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=!0,this.m_SubjFillType=G,this.m_ClipFillType=Z,this.m_ClipType=M,this.m_UsingPolyTree=!0;try{var ce=this.ExecuteInternal();ce&&this.BuildResult2(be)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return ce}else if(m===2&&!_){var M=f[0],R=f[1];return this.Execute(M,R,t.PolyFillType.pftEvenOdd,t.PolyFillType.pftEvenOdd)}else if(m===2&&_){var M=f[0],be=f[1];return this.Execute(M,be,t.PolyFillType.pftEvenOdd,t.PolyFillType.pftEvenOdd)}},t.Clipper.prototype.FixHoleLinkage=function(f){if(!(f.FirstLeft===null||f.IsHole!==f.FirstLeft.IsHole&&f.FirstLeft.Pts!==null)){for(var m=f.FirstLeft;m!==null&&(m.IsHole===f.IsHole||m.Pts===null);)m=m.FirstLeft;f.FirstLeft=m}},t.Clipper.prototype.ExecuteInternal=function(){try{if(this.Reset(),this.m_CurrentLM===null)return!1;var f=this.PopScanbeam();do{if(this.InsertLocalMinimaIntoAEL(f),this.ProcessHorizontals(),t.Clear(this.m_GhostJoins),this.m_Scanbeam===null)break;var m=this.PopScanbeam();if(!this.ProcessIntersections(m))return!1;this.ProcessEdgesAtTopOfScanbeam(m),f=m}while(this.m_Scanbeam!==null||this.m_CurrentLM!==null);for(var _=0,M=this.m_PolyOuts.length;_<M;_++){var R=this.m_PolyOuts[_];R.Pts===null||R.IsOpen||(R.IsHole^this.ReverseSolution)==this.Area(R)>0&&this.ReversePolyPtLinks(R.Pts)}this.JoinCommonEdges();for(var _=0,M=this.m_PolyOuts.length;_<M;_++){var R=this.m_PolyOuts[_];R.Pts!==null&&!R.IsOpen&&this.FixupOutPolygon(R)}return this.StrictlySimple&&this.DoSimplePolygons(),!0}finally{t.Clear(this.m_Joins),t.Clear(this.m_GhostJoins)}},t.Clipper.prototype.PopScanbeam=function(){var f=this.m_Scanbeam.Y;return this.m_Scanbeam=this.m_Scanbeam.Next,f},t.Clipper.prototype.DisposeAllPolyPts=function(){for(var f=0,m=this.m_PolyOuts.length;f<m;++f)this.DisposeOutRec(f);t.Clear(this.m_PolyOuts)},t.Clipper.prototype.DisposeOutRec=function(f){var m=this.m_PolyOuts[f];m.Pts=null,m=null,this.m_PolyOuts[f]=null},t.Clipper.prototype.AddJoin=function(f,m,_){var M=new t.Join;M.OutPt1=f,M.OutPt2=m,M.OffPt.X=_.X,M.OffPt.Y=_.Y,t.use_xyz&&(M.OffPt.Z=_.Z),this.m_Joins.push(M)},t.Clipper.prototype.AddGhostJoin=function(f,m){var _=new t.Join;_.OutPt1=f,_.OffPt.X=m.X,_.OffPt.Y=m.Y,t.use_xyz&&(_.OffPt.Z=m.Z),this.m_GhostJoins.push(_)},t.Clipper.prototype.SetZ=function(f,m,_){if(this.ZFillFunction!==null){if(f.Z!==0||this.ZFillFunction===null)return;t.IntPoint.op_Equality(f,m.Bot)?f.Z=m.Bot.Z:t.IntPoint.op_Equality(f,m.Top)?f.Z=m.Top.Z:t.IntPoint.op_Equality(f,_.Bot)?f.Z=_.Bot.Z:t.IntPoint.op_Equality(f,_.Top)?f.Z=_.Top.Z:this.ZFillFunction(m.Bot,m.Top,_.Bot,_.Top,f)}},t.Clipper.prototype.InsertLocalMinimaIntoAEL=function(f){for(;this.m_CurrentLM!==null&&this.m_CurrentLM.Y==f;){var m=this.m_CurrentLM.LeftBound,_=this.m_CurrentLM.RightBound;this.PopLocalMinima();var M=null;if(m===null?(this.InsertEdgeIntoAEL(_,null),this.SetWindingCount(_),this.IsContributing(_)&&(M=this.AddOutPt(_,_.Bot))):_===null?(this.InsertEdgeIntoAEL(m,null),this.SetWindingCount(m),this.IsContributing(m)&&(M=this.AddOutPt(m,m.Bot)),this.InsertScanbeam(m.Top.Y)):(this.InsertEdgeIntoAEL(m,null),this.InsertEdgeIntoAEL(_,m),this.SetWindingCount(m),_.WindCnt=m.WindCnt,_.WindCnt2=m.WindCnt2,this.IsContributing(m)&&(M=this.AddLocalMinPoly(m,_,m.Bot)),this.InsertScanbeam(m.Top.Y)),_!==null&&(t.ClipperBase.IsHorizontal(_)?this.AddEdgeToSEL(_):this.InsertScanbeam(_.Top.Y)),!(m===null||_===null)){if(M!==null&&t.ClipperBase.IsHorizontal(_)&&this.m_GhostJoins.length>0&&_.WindDelta!==0)for(var R=0,G=this.m_GhostJoins.length;R<G;R++){var Z=this.m_GhostJoins[R];this.HorzSegmentsOverlap(Z.OutPt1.Pt.X,Z.OffPt.X,_.Bot.X,_.Top.X)&&this.AddJoin(Z.OutPt1,M,Z.OffPt)}if(m.OutIdx>=0&&m.PrevInAEL!==null&&m.PrevInAEL.Curr.X===m.Bot.X&&m.PrevInAEL.OutIdx>=0&&t.ClipperBase.SlopesEqual(m.PrevInAEL,m,this.m_UseFullRange)&&m.WindDelta!==0&&m.PrevInAEL.WindDelta!==0){var ce=this.AddOutPt(m.PrevInAEL,m.Bot);this.AddJoin(M,ce,m.Top)}if(m.NextInAEL!==_){if(_.OutIdx>=0&&_.PrevInAEL.OutIdx>=0&&t.ClipperBase.SlopesEqual(_.PrevInAEL,_,this.m_UseFullRange)&&_.WindDelta!==0&&_.PrevInAEL.WindDelta!==0){var ce=this.AddOutPt(_.PrevInAEL,_.Bot);this.AddJoin(M,ce,_.Top)}var be=m.NextInAEL;if(be!==null)for(;be!==_;)this.IntersectEdges(_,be,m.Curr,!1),be=be.NextInAEL}}}},t.Clipper.prototype.InsertEdgeIntoAEL=function(f,m){if(this.m_ActiveEdges===null)f.PrevInAEL=null,f.NextInAEL=null,this.m_ActiveEdges=f;else if(m===null&&this.E2InsertsBeforeE1(this.m_ActiveEdges,f))f.PrevInAEL=null,f.NextInAEL=this.m_ActiveEdges,this.m_ActiveEdges.PrevInAEL=f,this.m_ActiveEdges=f;else{for(m===null&&(m=this.m_ActiveEdges);m.NextInAEL!==null&&!this.E2InsertsBeforeE1(m.NextInAEL,f);)m=m.NextInAEL;f.NextInAEL=m.NextInAEL,m.NextInAEL!==null&&(m.NextInAEL.PrevInAEL=f),f.PrevInAEL=m,m.NextInAEL=f}},t.Clipper.prototype.E2InsertsBeforeE1=function(f,m){return m.Curr.X===f.Curr.X?m.Top.Y>f.Top.Y?m.Top.X<t.Clipper.TopX(f,m.Top.Y):f.Top.X>t.Clipper.TopX(m,f.Top.Y):m.Curr.X<f.Curr.X},t.Clipper.prototype.IsEvenOddFillType=function(f){return f.PolyTyp===t.PolyType.ptSubject?this.m_SubjFillType===t.PolyFillType.pftEvenOdd:this.m_ClipFillType===t.PolyFillType.pftEvenOdd},t.Clipper.prototype.IsEvenOddAltFillType=function(f){return f.PolyTyp===t.PolyType.ptSubject?this.m_ClipFillType===t.PolyFillType.pftEvenOdd:this.m_SubjFillType===t.PolyFillType.pftEvenOdd},t.Clipper.prototype.IsContributing=function(f){var m,_;switch(f.PolyTyp===t.PolyType.ptSubject?(m=this.m_SubjFillType,_=this.m_ClipFillType):(m=this.m_ClipFillType,_=this.m_SubjFillType),m){case t.PolyFillType.pftEvenOdd:if(f.WindDelta===0&&f.WindCnt!==1)return!1;break;case t.PolyFillType.pftNonZero:if(Math.abs(f.WindCnt)!==1)return!1;break;case t.PolyFillType.pftPositive:if(f.WindCnt!==1)return!1;break;default:if(f.WindCnt!==-1)return!1;break}switch(this.m_ClipType){case t.ClipType.ctIntersection:switch(_){case t.PolyFillType.pftEvenOdd:case t.PolyFillType.pftNonZero:return f.WindCnt2!==0;case t.PolyFillType.pftPositive:return f.WindCnt2>0;default:return f.WindCnt2<0}case t.ClipType.ctUnion:switch(_){case t.PolyFillType.pftEvenOdd:case t.PolyFillType.pftNonZero:return f.WindCnt2===0;case t.PolyFillType.pftPositive:return f.WindCnt2<=0;default:return f.WindCnt2>=0}case t.ClipType.ctDifference:if(f.PolyTyp===t.PolyType.ptSubject)switch(_){case t.PolyFillType.pftEvenOdd:case t.PolyFillType.pftNonZero:return f.WindCnt2===0;case t.PolyFillType.pftPositive:return f.WindCnt2<=0;default:return f.WindCnt2>=0}else switch(_){case t.PolyFillType.pftEvenOdd:case t.PolyFillType.pftNonZero:return f.WindCnt2!==0;case t.PolyFillType.pftPositive:return f.WindCnt2>0;default:return f.WindCnt2<0}case t.ClipType.ctXor:if(f.WindDelta===0)switch(_){case t.PolyFillType.pftEvenOdd:case t.PolyFillType.pftNonZero:return f.WindCnt2===0;case t.PolyFillType.pftPositive:return f.WindCnt2<=0;default:return f.WindCnt2>=0}else return!0}return!0},t.Clipper.prototype.SetWindingCount=function(f){for(var m=f.PrevInAEL;m!==null&&(m.PolyTyp!==f.PolyTyp||m.WindDelta===0);)m=m.PrevInAEL;if(m===null)f.WindCnt=f.WindDelta===0?1:f.WindDelta,f.WindCnt2=0,m=this.m_ActiveEdges;else if(f.WindDelta===0&&this.m_ClipType!==t.ClipType.ctUnion)f.WindCnt=1,f.WindCnt2=m.WindCnt2,m=m.NextInAEL;else if(this.IsEvenOddFillType(f)){if(f.WindDelta===0){for(var _=!0,M=m.PrevInAEL;M!==null;)M.PolyTyp===m.PolyTyp&&M.WindDelta!==0&&(_=!_),M=M.PrevInAEL;f.WindCnt=_?0:1}else f.WindCnt=f.WindDelta;f.WindCnt2=m.WindCnt2,m=m.NextInAEL}else m.WindCnt*m.WindDelta<0?Math.abs(m.WindCnt)>1?m.WindDelta*f.WindDelta<0?f.WindCnt=m.WindCnt:f.WindCnt=m.WindCnt+f.WindDelta:f.WindCnt=f.WindDelta===0?1:f.WindDelta:f.WindDelta===0?f.WindCnt=m.WindCnt<0?m.WindCnt-1:m.WindCnt+1:m.WindDelta*f.WindDelta<0?f.WindCnt=m.WindCnt:f.WindCnt=m.WindCnt+f.WindDelta,f.WindCnt2=m.WindCnt2,m=m.NextInAEL;if(this.IsEvenOddAltFillType(f))for(;m!==f;)m.WindDelta!==0&&(f.WindCnt2=f.WindCnt2===0?1:0),m=m.NextInAEL;else for(;m!==f;)f.WindCnt2+=m.WindDelta,m=m.NextInAEL},t.Clipper.prototype.AddEdgeToSEL=function(f){this.m_SortedEdges===null?(this.m_SortedEdges=f,f.PrevInSEL=null,f.NextInSEL=null):(f.NextInSEL=this.m_SortedEdges,f.PrevInSEL=null,this.m_SortedEdges.PrevInSEL=f,this.m_SortedEdges=f)},t.Clipper.prototype.CopyAELToSEL=function(){var f=this.m_ActiveEdges;for(this.m_SortedEdges=f;f!==null;)f.PrevInSEL=f.PrevInAEL,f.NextInSEL=f.NextInAEL,f=f.NextInAEL},t.Clipper.prototype.SwapPositionsInAEL=function(f,m){if(!(f.NextInAEL==f.PrevInAEL||m.NextInAEL==m.PrevInAEL)){if(f.NextInAEL==m){var _=m.NextInAEL;_!==null&&(_.PrevInAEL=f);var M=f.PrevInAEL;M!==null&&(M.NextInAEL=m),m.PrevInAEL=M,m.NextInAEL=f,f.PrevInAEL=m,f.NextInAEL=_}else if(m.NextInAEL==f){var _=f.NextInAEL;_!==null&&(_.PrevInAEL=m);var M=m.PrevInAEL;M!==null&&(M.NextInAEL=f),f.PrevInAEL=M,f.NextInAEL=m,m.PrevInAEL=f,m.NextInAEL=_}else{var _=f.NextInAEL,M=f.PrevInAEL;f.NextInAEL=m.NextInAEL,f.NextInAEL!==null&&(f.NextInAEL.PrevInAEL=f),f.PrevInAEL=m.PrevInAEL,f.PrevInAEL!==null&&(f.PrevInAEL.NextInAEL=f),m.NextInAEL=_,m.NextInAEL!==null&&(m.NextInAEL.PrevInAEL=m),m.PrevInAEL=M,m.PrevInAEL!==null&&(m.PrevInAEL.NextInAEL=m)}f.PrevInAEL===null?this.m_ActiveEdges=f:m.PrevInAEL===null&&(this.m_ActiveEdges=m)}},t.Clipper.prototype.SwapPositionsInSEL=function(f,m){if(!(f.NextInSEL===null&&f.PrevInSEL===null)&&!(m.NextInSEL===null&&m.PrevInSEL===null)){if(f.NextInSEL===m){var _=m.NextInSEL;_!==null&&(_.PrevInSEL=f);var M=f.PrevInSEL;M!==null&&(M.NextInSEL=m),m.PrevInSEL=M,m.NextInSEL=f,f.PrevInSEL=m,f.NextInSEL=_}else if(m.NextInSEL===f){var _=f.NextInSEL;_!==null&&(_.PrevInSEL=m);var M=m.PrevInSEL;M!==null&&(M.NextInSEL=f),f.PrevInSEL=M,f.NextInSEL=m,m.PrevInSEL=f,m.NextInSEL=_}else{var _=f.NextInSEL,M=f.PrevInSEL;f.NextInSEL=m.NextInSEL,f.NextInSEL!==null&&(f.NextInSEL.PrevInSEL=f),f.PrevInSEL=m.PrevInSEL,f.PrevInSEL!==null&&(f.PrevInSEL.NextInSEL=f),m.NextInSEL=_,m.NextInSEL!==null&&(m.NextInSEL.PrevInSEL=m),m.PrevInSEL=M,m.PrevInSEL!==null&&(m.PrevInSEL.NextInSEL=m)}f.PrevInSEL===null?this.m_SortedEdges=f:m.PrevInSEL===null&&(this.m_SortedEdges=m)}},t.Clipper.prototype.AddLocalMaxPoly=function(f,m,_){this.AddOutPt(f,_),m.WindDelta===0&&this.AddOutPt(m,_),f.OutIdx===m.OutIdx?(f.OutIdx=-1,m.OutIdx=-1):f.OutIdx<m.OutIdx?this.AppendPolygon(f,m):this.AppendPolygon(m,f)},t.Clipper.prototype.AddLocalMinPoly=function(f,m,_){var M,R,G;if(t.ClipperBase.IsHorizontal(m)||f.Dx>m.Dx?(M=this.AddOutPt(f,_),m.OutIdx=f.OutIdx,f.Side=t.EdgeSide.esLeft,m.Side=t.EdgeSide.esRight,R=f,R.PrevInAEL===m?G=m.PrevInAEL:G=R.PrevInAEL):(M=this.AddOutPt(m,_),f.OutIdx=m.OutIdx,f.Side=t.EdgeSide.esRight,m.Side=t.EdgeSide.esLeft,R=m,R.PrevInAEL==f?G=f.PrevInAEL:G=R.PrevInAEL),G!==null&&G.OutIdx>=0&&t.Clipper.TopX(G,_.Y)==t.Clipper.TopX(R,_.Y)&&t.ClipperBase.SlopesEqual(R,G,this.m_UseFullRange)&&R.WindDelta!==0&&G.WindDelta!==0){var Z=this.AddOutPt(G,_);this.AddJoin(M,Z,R.Top)}return M},t.Clipper.prototype.CreateOutRec=function(){var f=new t.OutRec;return f.Idx=-1,f.IsHole=!1,f.IsOpen=!1,f.FirstLeft=null,f.Pts=null,f.BottomPt=null,f.PolyNode=null,this.m_PolyOuts.push(f),f.Idx=this.m_PolyOuts.length-1,f},t.Clipper.prototype.AddOutPt=function(f,m){if(f.OutIdx<0){var _=this.CreateOutRec();_.IsOpen=f.WindDelta===0;var M=new t.OutPt;return _.Pts=M,M.Idx=_.Idx,M.Pt.X=m.X,M.Pt.Y=m.Y,t.use_xyz&&(M.Pt.Z=m.Z),M.Next=M,M.Prev=M,_.IsOpen||this.SetHoleState(f,_),f.OutIdx=_.Idx,M}else{var _=this.m_PolyOuts[f.OutIdx],R=_.Pts,G=f.Side==t.EdgeSide.esLeft;if(G&&t.IntPoint.op_Equality(m,R.Pt))return R;if(!G&&t.IntPoint.op_Equality(m,R.Prev.Pt))return R.Prev;var M=new t.OutPt;return M.Idx=_.Idx,M.Pt.X=m.X,M.Pt.Y=m.Y,t.use_xyz&&(M.Pt.Z=m.Z),M.Next=R,M.Prev=R.Prev,M.Prev.Next=M,R.Prev=M,G&&(_.Pts=M),M}},t.Clipper.prototype.GetLastOutPt=function(f){var m=this.m_PolyOuts[f.OutIdx];return f.Side==t.EdgeSide.esLeft?m.Pts:m.Pts.Prev},t.Clipper.prototype.SwapPoints=function(f,m){var _=new t.IntPoint(f.Value);f.Value.X=m.Value.X,f.Value.Y=m.Value.Y,t.use_xyz&&(f.Value.Z=m.Value.Z),m.Value.X=_.X,m.Value.Y=_.Y,t.use_xyz&&(m.Value.Z=_.Z)},t.Clipper.prototype.HorzSegmentsOverlap=function(f,m,_,M){var R;return f>m&&(R=f,f=m,m=R),_>M&&(R=_,_=M,M=R),f<M&&_<m},t.Clipper.prototype.SetHoleState=function(f,m){for(var _=!1,M=f.PrevInAEL;M!==null;)M.OutIdx>=0&&M.WindDelta!=0&&(_=!_,m.FirstLeft===null&&(m.FirstLeft=this.m_PolyOuts[M.OutIdx])),M=M.PrevInAEL;_&&(m.IsHole=!0)},t.Clipper.prototype.GetDx=function(f,m){return f.Y===m.Y?t.ClipperBase.horizontal:(m.X-f.X)/(m.Y-f.Y)},t.Clipper.prototype.FirstIsBottomPt=function(f,m){for(var _=f.Prev;t.IntPoint.op_Equality(_.Pt,f.Pt)&&_!==f;)_=_.Prev;var M=Math.abs(this.GetDx(f.Pt,_.Pt));for(_=f.Next;t.IntPoint.op_Equality(_.Pt,f.Pt)&&_!==f;)_=_.Next;var R=Math.abs(this.GetDx(f.Pt,_.Pt));for(_=m.Prev;t.IntPoint.op_Equality(_.Pt,m.Pt)&&_!==m;)_=_.Prev;var G=Math.abs(this.GetDx(m.Pt,_.Pt));for(_=m.Next;t.IntPoint.op_Equality(_.Pt,m.Pt)&&_!==m;)_=_.Next;var Z=Math.abs(this.GetDx(m.Pt,_.Pt));return M>=G&&M>=Z||R>=G&&R>=Z},t.Clipper.prototype.GetBottomPt=function(f){for(var m=null,_=f.Next;_!==f;)_.Pt.Y>f.Pt.Y?(f=_,m=null):_.Pt.Y===f.Pt.Y&&_.Pt.X<=f.Pt.X&&(_.Pt.X<f.Pt.X?(m=null,f=_):_.Next!==f&&_.Prev!==f&&(m=_)),_=_.Next;if(m!==null)for(;m!==_;)for(this.FirstIsBottomPt(_,m)||(f=m),m=m.Next;t.IntPoint.op_Inequality(m.Pt,f.Pt);)m=m.Next;return f},t.Clipper.prototype.GetLowermostRec=function(f,m){f.BottomPt===null&&(f.BottomPt=this.GetBottomPt(f.Pts)),m.BottomPt===null&&(m.BottomPt=this.GetBottomPt(m.Pts));var _=f.BottomPt,M=m.BottomPt;return _.Pt.Y>M.Pt.Y?f:_.Pt.Y<M.Pt.Y?m:_.Pt.X<M.Pt.X?f:_.Pt.X>M.Pt.X||_.Next===_?m:M.Next===M||this.FirstIsBottomPt(_,M)?f:m},t.Clipper.prototype.Param1RightOfParam2=function(f,m){do if(f=f.FirstLeft,f===m)return!0;while(f!==null);return!1},t.Clipper.prototype.GetOutRec=function(f){for(var m=this.m_PolyOuts[f];m!==this.m_PolyOuts[m.Idx];)m=this.m_PolyOuts[m.Idx];return m},t.Clipper.prototype.AppendPolygon=function(f,m){var _=this.m_PolyOuts[f.OutIdx],M=this.m_PolyOuts[m.OutIdx],R;this.Param1RightOfParam2(_,M)?R=M:this.Param1RightOfParam2(M,_)?R=_:R=this.GetLowermostRec(_,M);var G=_.Pts,Z=G.Prev,ce=M.Pts,be=ce.Prev,Xe;f.Side===t.EdgeSide.esLeft?(m.Side===t.EdgeSide.esLeft?(this.ReversePolyPtLinks(ce),ce.Next=G,G.Prev=ce,Z.Next=be,be.Prev=Z,_.Pts=be):(be.Next=G,G.Prev=be,ce.Prev=Z,Z.Next=ce,_.Pts=ce),Xe=t.EdgeSide.esLeft):(m.Side===t.EdgeSide.esRight?(this.ReversePolyPtLinks(ce),Z.Next=be,be.Prev=Z,ce.Next=G,G.Prev=ce):(Z.Next=ce,ce.Prev=Z,G.Prev=be,be.Next=G),Xe=t.EdgeSide.esRight),_.BottomPt=null,R===M&&(M.FirstLeft!==_&&(_.FirstLeft=M.FirstLeft),_.IsHole=M.IsHole),M.Pts=null,M.BottomPt=null,M.FirstLeft=_;var lt=f.OutIdx,ft=m.OutIdx;f.OutIdx=-1,m.OutIdx=-1;for(var Mt=this.m_ActiveEdges;Mt!==null;){if(Mt.OutIdx===ft){Mt.OutIdx=lt,Mt.Side=Xe;break}Mt=Mt.NextInAEL}M.Idx=_.Idx},t.Clipper.prototype.ReversePolyPtLinks=function(f){if(f!==null){var m,_;m=f;do _=m.Next,m.Next=m.Prev,m.Prev=_,m=_;while(m!==f)}},t.Clipper.SwapSides=function(f,m){var _=f.Side;f.Side=m.Side,m.Side=_},t.Clipper.SwapPolyIndexes=function(f,m){var _=f.OutIdx;f.OutIdx=m.OutIdx,m.OutIdx=_},t.Clipper.prototype.IntersectEdges=function(f,m,_){var M=f.OutIdx>=0,R=m.OutIdx>=0;if(t.use_xyz&&this.SetZ(_,f,m),t.use_lines&&(f.WindDelta===0||m.WindDelta===0)){if(f.WindDelta===0&&m.WindDelta===0)return;f.PolyTyp===m.PolyTyp&&f.WindDelta!==m.WindDelta&&this.m_ClipType===t.ClipType.ctUnion?f.WindDelta===0?R&&(this.AddOutPt(f,_),M&&(f.OutIdx=-1)):M&&(this.AddOutPt(m,_),R&&(m.OutIdx=-1)):f.PolyTyp!==m.PolyTyp&&(f.WindDelta===0&&Math.abs(m.WindCnt)===1&&(this.m_ClipType!==t.ClipType.ctUnion||m.WindCnt2===0)?(this.AddOutPt(f,_),M&&(f.OutIdx=-1)):m.WindDelta===0&&Math.abs(f.WindCnt)===1&&(this.m_ClipType!==t.ClipType.ctUnion||f.WindCnt2===0)&&(this.AddOutPt(m,_),R&&(m.OutIdx=-1)));return}if(f.PolyTyp===m.PolyTyp)if(this.IsEvenOddFillType(f)){var G=f.WindCnt;f.WindCnt=m.WindCnt,m.WindCnt=G}else f.WindCnt+m.WindDelta===0?f.WindCnt=-f.WindCnt:f.WindCnt+=m.WindDelta,m.WindCnt-f.WindDelta===0?m.WindCnt=-m.WindCnt:m.WindCnt-=f.WindDelta;else this.IsEvenOddFillType(m)?f.WindCnt2=f.WindCnt2===0?1:0:f.WindCnt2+=m.WindDelta,this.IsEvenOddFillType(f)?m.WindCnt2=m.WindCnt2===0?1:0:m.WindCnt2-=f.WindDelta;var Z,ce,be,Xe;f.PolyTyp===t.PolyType.ptSubject?(Z=this.m_SubjFillType,be=this.m_ClipFillType):(Z=this.m_ClipFillType,be=this.m_SubjFillType),m.PolyTyp===t.PolyType.ptSubject?(ce=this.m_SubjFillType,Xe=this.m_ClipFillType):(ce=this.m_ClipFillType,Xe=this.m_SubjFillType);var lt,ft;switch(Z){case t.PolyFillType.pftPositive:lt=f.WindCnt;break;case t.PolyFillType.pftNegative:lt=-f.WindCnt;break;default:lt=Math.abs(f.WindCnt);break}switch(ce){case t.PolyFillType.pftPositive:ft=m.WindCnt;break;case t.PolyFillType.pftNegative:ft=-m.WindCnt;break;default:ft=Math.abs(m.WindCnt);break}if(M&&R)lt!==0&&lt!==1||ft!==0&&ft!==1||f.PolyTyp!==m.PolyTyp&&this.m_ClipType!==t.ClipType.ctXor?this.AddLocalMaxPoly(f,m,_):(this.AddOutPt(f,_),this.AddOutPt(m,_),t.Clipper.SwapSides(f,m),t.Clipper.SwapPolyIndexes(f,m));else if(M)(ft===0||ft===1)&&(this.AddOutPt(f,_),t.Clipper.SwapSides(f,m),t.Clipper.SwapPolyIndexes(f,m));else if(R)(lt===0||lt===1)&&(this.AddOutPt(m,_),t.Clipper.SwapSides(f,m),t.Clipper.SwapPolyIndexes(f,m));else if((lt===0||lt===1)&&(ft===0||ft===1)){var Mt,gn;switch(be){case t.PolyFillType.pftPositive:Mt=f.WindCnt2;break;case t.PolyFillType.pftNegative:Mt=-f.WindCnt2;break;default:Mt=Math.abs(f.WindCnt2);break}switch(Xe){case t.PolyFillType.pftPositive:gn=m.WindCnt2;break;case t.PolyFillType.pftNegative:gn=-m.WindCnt2;break;default:gn=Math.abs(m.WindCnt2);break}if(f.PolyTyp!==m.PolyTyp)this.AddLocalMinPoly(f,m,_);else if(lt===1&&ft===1)switch(this.m_ClipType){case t.ClipType.ctIntersection:Mt>0&&gn>0&&this.AddLocalMinPoly(f,m,_);break;case t.ClipType.ctUnion:Mt<=0&&gn<=0&&this.AddLocalMinPoly(f,m,_);break;case t.ClipType.ctDifference:(f.PolyTyp===t.PolyType.ptClip&&Mt>0&&gn>0||f.PolyTyp===t.PolyType.ptSubject&&Mt<=0&&gn<=0)&&this.AddLocalMinPoly(f,m,_);break;case t.ClipType.ctXor:this.AddLocalMinPoly(f,m,_);break}else t.Clipper.SwapSides(f,m)}},t.Clipper.prototype.DeleteFromAEL=function(f){var m=f.PrevInAEL,_=f.NextInAEL;m===null&&_===null&&f!==this.m_ActiveEdges||(m!==null?m.NextInAEL=_:this.m_ActiveEdges=_,_!==null&&(_.PrevInAEL=m),f.NextInAEL=null,f.PrevInAEL=null)},t.Clipper.prototype.DeleteFromSEL=function(f){var m=f.PrevInSEL,_=f.NextInSEL;m===null&&_===null&&f!==this.m_SortedEdges||(m!==null?m.NextInSEL=_:this.m_SortedEdges=_,_!==null&&(_.PrevInSEL=m),f.NextInSEL=null,f.PrevInSEL=null)},t.Clipper.prototype.UpdateEdgeIntoAEL=function(f){f.NextInLML===null&&t.Error("UpdateEdgeIntoAEL: invalid call");var m=f.PrevInAEL,_=f.NextInAEL;return f.NextInLML.OutIdx=f.OutIdx,m!==null?m.NextInAEL=f.NextInLML:this.m_ActiveEdges=f.NextInLML,_!==null&&(_.PrevInAEL=f.NextInLML),f.NextInLML.Side=f.Side,f.NextInLML.WindDelta=f.WindDelta,f.NextInLML.WindCnt=f.WindCnt,f.NextInLML.WindCnt2=f.WindCnt2,f=f.NextInLML,f.Curr.X=f.Bot.X,f.Curr.Y=f.Bot.Y,t.use_xyz&&(f.Curr.Z=f.Bot.Z),f.PrevInAEL=m,f.NextInAEL=_,t.ClipperBase.IsHorizontal(f)||this.InsertScanbeam(f.Top.Y),f},t.Clipper.prototype.ProcessHorizontals=function(){for(var f=this.m_SortedEdges;f!==null;)this.DeleteFromSEL(f),this.ProcessHorizontal(f),f=this.m_SortedEdges},t.Clipper.prototype.GetHorzDirection=function(f,m){f.Bot.X<f.Top.X?(m.Left=f.Bot.X,m.Right=f.Top.X,m.Dir=t.Direction.dLeftToRight):(m.Left=f.Top.X,m.Right=f.Bot.X,m.Dir=t.Direction.dRightToLeft)},t.Clipper.prototype.ProcessHorizontal=function(f){var m={Dir:null,Left:null,Right:null};this.GetHorzDirection(f,m);for(var _=m.Dir,M=m.Left,R=m.Right,G=f,Z=null;G.NextInLML!==null&&t.ClipperBase.IsHorizontal(G.NextInLML);)G=G.NextInLML;G.NextInLML===null&&(Z=this.GetMaximaPair(G));var ce=this.m_Maxima;if(ce!==null)if(_===t.Direction.dLeftToRight){for(;ce!==null&&ce.X<=f.Bot.X;)ce=ce.Next;ce!==null&&ce.X>=G.Top.X&&(ce=null)}else{for(;ce.Next!=null&&ce.Next.X<f.Bot.X;)ce=ce.Next;ce.X<=G.Top.X&&(ce=null)}for(var be=null;;){for(var Xe=f===G,lt=this.GetNextInAEL(f,_);lt!==null;){if(ce!=null)if(_===t.Direction.dLeftToRight)for(;ce!==null&&ce.X<lt.Curr.X;)f.OutIdx>=0&&this.AddOutPt(f,new t.IntPoint(ce.X,f.Bot.Y)),ce=ce.Next;else for(;ce!==null&&ce.X>lt.Curr.X;)f.OutIdx>=0&&this.AddOutPt(f,new t.IntPoint(ce.X,f.Bot.Y)),ce=ce.Prev;if(_===t.Direction.dLeftToRight&&lt.Curr.X>R||_===t.Direction.dRightToLeft&&lt.Curr.X<M||lt.Curr.X==f.Top.X&&f.NextInLML!=null&&lt.Dx<f.NextInLML.Dx)break;if(f.OutIdx>=0){be=this.AddOutPt(f,lt.Curr);for(var ft=this.m_SortedEdges;ft!==null;){if(ft.OutIdx>=0&&this.HorzSegmentsOverlap(f.Bot.X,f.Top.X,ft.Bot.X,ft.Top.X)){var Mt=this.GetLastOutPt(ft);this.AddJoin(Mt,be,ft.Top)}ft=ft.NextInSEL}this.AddGhostJoin(be,f.Bot)}if(lt===Z&&Xe){f.OutIdx>=0&&this.AddLocalMaxPoly(f,Z,f.Top),this.DeleteFromAEL(f),this.DeleteFromAEL(Z);return}if(_==t.Direction.dLeftToRight){var gn=new t.IntPoint(lt.Curr.X,f.Curr.Y);this.IntersectEdges(f,lt,gn)}else{var gn=new t.IntPoint(lt.Curr.X,f.Curr.Y);this.IntersectEdges(lt,f,gn)}var on=this.GetNextInAEL(lt,_);this.SwapPositionsInAEL(f,lt),lt=on}if(f.NextInLML==null||!t.ClipperBase.IsHorizontal(f.NextInLML))break;f=this.UpdateEdgeIntoAEL(f),f.OutIdx>=0&&this.AddOutPt(f,f.Bot);var m={Dir:_,Left:M,Right:R};this.GetHorzDirection(f,m),_=m.Dir,M=m.Left,R=m.Right}if(f.OutIdx>=0&&be===null){be=this.GetLastOutPt(f);for(var ft=this.m_SortedEdges;ft!==null;){if(ft.OutIdx>=0&&this.HorzSegmentsOverlap(f.Bot.X,f.Top.X,ft.Bot.X,ft.Top.X)){var Mt=this.GetLastOutPt(ft);this.AddJoin(Mt,be,ft.Top)}ft=ft.NextInSEL}this.AddGhostJoin(be,f.Top)}if(f.NextInLML!==null)if(f.OutIdx>=0){if(be=this.AddOutPt(f,f.Top),f=this.UpdateEdgeIntoAEL(f),f.WindDelta===0)return;var An=f.PrevInAEL,on=f.NextInAEL;if(An!==null&&An.Curr.X===f.Bot.X&&An.Curr.Y===f.Bot.Y&&An.WindDelta!==0&&An.OutIdx>=0&&An.Curr.Y>An.Top.Y&&t.ClipperBase.SlopesEqual(f,An,this.m_UseFullRange)){var Mt=this.AddOutPt(An,f.Bot);this.AddJoin(be,Mt,f.Top)}else if(on!==null&&on.Curr.X===f.Bot.X&&on.Curr.Y===f.Bot.Y&&on.WindDelta!==0&&on.OutIdx>=0&&on.Curr.Y>on.Top.Y&&t.ClipperBase.SlopesEqual(f,on,this.m_UseFullRange)){var Mt=this.AddOutPt(on,f.Bot);this.AddJoin(be,Mt,f.Top)}}else f=this.UpdateEdgeIntoAEL(f);else f.OutIdx>=0&&this.AddOutPt(f,f.Top),this.DeleteFromAEL(f)},t.Clipper.prototype.GetNextInAEL=function(f,m){return m===t.Direction.dLeftToRight?f.NextInAEL:f.PrevInAEL},t.Clipper.prototype.IsMinima=function(f){return f!==null&&f.Prev.NextInLML!==f&&f.Next.NextInLML!==f},t.Clipper.prototype.IsMaxima=function(f,m){return f!==null&&f.Top.Y===m&&f.NextInLML===null},t.Clipper.prototype.IsIntermediate=function(f,m){return f.Top.Y===m&&f.NextInLML!==null},t.Clipper.prototype.GetMaximaPair=function(f){var m=null;return t.IntPoint.op_Equality(f.Next.Top,f.Top)&&f.Next.NextInLML===null?m=f.Next:t.IntPoint.op_Equality(f.Prev.Top,f.Top)&&f.Prev.NextInLML===null&&(m=f.Prev),m!==null&&(m.OutIdx==-2||m.NextInAEL==m.PrevInAEL&&!t.ClipperBase.IsHorizontal(m))?null:m},t.Clipper.prototype.ProcessIntersections=function(f){if(this.m_ActiveEdges===null)return!0;try{if(this.BuildIntersectList(f),this.m_IntersectList.length===0)return!0;if(this.m_IntersectList.length===1||this.FixupIntersectionOrder())this.ProcessIntersectList();else return!1}catch{this.m_SortedEdges=null,this.m_IntersectList.length=0,t.Error("ProcessIntersections error")}return this.m_SortedEdges=null,!0},t.Clipper.prototype.BuildIntersectList=function(f){if(this.m_ActiveEdges!==null){var m=this.m_ActiveEdges;for(this.m_SortedEdges=m;m!==null;)m.PrevInSEL=m.PrevInAEL,m.NextInSEL=m.NextInAEL,m.Curr.X=t.Clipper.TopX(m,f),m=m.NextInAEL;for(var _=!0;_&&this.m_SortedEdges!==null;){for(_=!1,m=this.m_SortedEdges;m.NextInSEL!==null;){var M=m.NextInSEL,R=new t.IntPoint;if(m.Curr.X>M.Curr.X){this.IntersectPoint(m,M,R);var G=new t.IntersectNode;G.Edge1=m,G.Edge2=M,G.Pt.X=R.X,G.Pt.Y=R.Y,t.use_xyz&&(G.Pt.Z=R.Z),this.m_IntersectList.push(G),this.SwapPositionsInSEL(m,M),_=!0}else m=M}if(m.PrevInSEL!==null)m.PrevInSEL.NextInSEL=null;else break}this.m_SortedEdges=null}},t.Clipper.prototype.EdgesAdjacent=function(f){return f.Edge1.NextInSEL===f.Edge2||f.Edge1.PrevInSEL===f.Edge2},t.Clipper.IntersectNodeSort=function(f,m){return m.Pt.Y-f.Pt.Y},t.Clipper.prototype.FixupIntersectionOrder=function(){this.m_IntersectList.sort(this.m_IntersectNodeComparer),this.CopyAELToSEL();for(var f=this.m_IntersectList.length,m=0;m<f;m++){if(!this.EdgesAdjacent(this.m_IntersectList[m])){for(var _=m+1;_<f&&!this.EdgesAdjacent(this.m_IntersectList[_]);)_++;if(_===f)return!1;var M=this.m_IntersectList[m];this.m_IntersectList[m]=this.m_IntersectList[_],this.m_IntersectList[_]=M}this.SwapPositionsInSEL(this.m_IntersectList[m].Edge1,this.m_IntersectList[m].Edge2)}return!0},t.Clipper.prototype.ProcessIntersectList=function(){for(var f=0,m=this.m_IntersectList.length;f<m;f++){var _=this.m_IntersectList[f];this.IntersectEdges(_.Edge1,_.Edge2,_.Pt),this.SwapPositionsInAEL(_.Edge1,_.Edge2)}this.m_IntersectList.length=0};var Jn=function(f){return f<0?Math.ceil(f-.5):Math.round(f)},Fi=function(f){return f<0?Math.ceil(f-.5):Math.floor(f+.5)},Ei=function(f){return f<0?-Math.round(Math.abs(f)):Math.round(f)},ri=function(f){return f<0?(f-=.5,f<-2147483648?Math.ceil(f):f|0):(f+=.5,f>2147483647?Math.floor(f):f|0)};i.msie?t.Clipper.Round=Jn:i.chromium?t.Clipper.Round=Ei:i.safari?t.Clipper.Round=ri:t.Clipper.Round=Fi,t.Clipper.TopX=function(f,m){return m===f.Top.Y?f.Top.X:f.Bot.X+t.Clipper.Round(f.Dx*(m-f.Bot.Y))},t.Clipper.prototype.IntersectPoint=function(f,m,_){_.X=0,_.Y=0;var M,R;if(f.Dx===m.Dx){_.Y=f.Curr.Y,_.X=t.Clipper.TopX(f,_.Y);return}if(f.Delta.X===0)_.X=f.Bot.X,t.ClipperBase.IsHorizontal(m)?_.Y=m.Bot.Y:(R=m.Bot.Y-m.Bot.X/m.Dx,_.Y=t.Clipper.Round(_.X/m.Dx+R));else if(m.Delta.X===0)_.X=m.Bot.X,t.ClipperBase.IsHorizontal(f)?_.Y=f.Bot.Y:(M=f.Bot.Y-f.Bot.X/f.Dx,_.Y=t.Clipper.Round(_.X/f.Dx+M));else{M=f.Bot.X-f.Bot.Y*f.Dx,R=m.Bot.X-m.Bot.Y*m.Dx;var G=(R-M)/(f.Dx-m.Dx);_.Y=t.Clipper.Round(G),Math.abs(f.Dx)<Math.abs(m.Dx)?_.X=t.Clipper.Round(f.Dx*G+M):_.X=t.Clipper.Round(m.Dx*G+R)}if(_.Y<f.Top.Y||_.Y<m.Top.Y){if(f.Top.Y>m.Top.Y)return _.Y=f.Top.Y,_.X=t.Clipper.TopX(m,f.Top.Y),_.X<f.Top.X;_.Y=m.Top.Y,Math.abs(f.Dx)<Math.abs(m.Dx)?_.X=t.Clipper.TopX(f,_.Y):_.X=t.Clipper.TopX(m,_.Y)}_.Y>f.Curr.Y&&(_.Y=f.Curr.Y,Math.abs(f.Dx)>Math.abs(m.Dx)?_.X=t.Clipper.TopX(m,_.Y):_.X=t.Clipper.TopX(f,_.Y))},t.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(f){for(var m=this.m_ActiveEdges;m!==null;){var _=this.IsMaxima(m,f);if(_){var M=this.GetMaximaPair(m);_=M===null||!t.ClipperBase.IsHorizontal(M)}if(_){this.StrictlySimple&&this.InsertMaxima(m.Top.X);var R=m.PrevInAEL;this.DoMaxima(m),R===null?m=this.m_ActiveEdges:m=R.NextInAEL}else{if(this.IsIntermediate(m,f)&&t.ClipperBase.IsHorizontal(m.NextInLML)?(m=this.UpdateEdgeIntoAEL(m),m.OutIdx>=0&&this.AddOutPt(m,m.Bot),this.AddEdgeToSEL(m)):(m.Curr.X=t.Clipper.TopX(m,f),m.Curr.Y=f),this.StrictlySimple){var R=m.PrevInAEL;if(m.OutIdx>=0&&m.WindDelta!==0&&R!==null&&R.OutIdx>=0&&R.Curr.X===m.Curr.X&&R.WindDelta!==0){var G=new t.IntPoint(m.Curr);t.use_xyz&&this.SetZ(G,R,m);var Z=this.AddOutPt(R,G),ce=this.AddOutPt(m,G);this.AddJoin(Z,ce,G)}}m=m.NextInAEL}}for(this.ProcessHorizontals(),this.m_Maxima=null,m=this.m_ActiveEdges;m!==null;){if(this.IsIntermediate(m,f)){var Z=null;m.OutIdx>=0&&(Z=this.AddOutPt(m,m.Top)),m=this.UpdateEdgeIntoAEL(m);var R=m.PrevInAEL,be=m.NextInAEL;if(R!==null&&R.Curr.X===m.Bot.X&&R.Curr.Y===m.Bot.Y&&Z!==null&&R.OutIdx>=0&&R.Curr.Y>R.Top.Y&&t.ClipperBase.SlopesEqual(m,R,this.m_UseFullRange)&&m.WindDelta!==0&&R.WindDelta!==0){var ce=this.AddOutPt(R,m.Bot);this.AddJoin(Z,ce,m.Top)}else if(be!==null&&be.Curr.X===m.Bot.X&&be.Curr.Y==m.Bot.Y&&Z!==null&&be.OutIdx>=0&&be.Curr.Y>be.Top.Y&&t.ClipperBase.SlopesEqual(m,be,this.m_UseFullRange)&&m.WindDelta!==0&&be.WindDelta!==0){var ce=this.AddOutPt(be,m.Bot);this.AddJoin(Z,ce,m.Top)}}m=m.NextInAEL}},t.Clipper.prototype.DoMaxima=function(f){var m=this.GetMaximaPair(f);if(m===null){f.OutIdx>=0&&this.AddOutPt(f,f.Top),this.DeleteFromAEL(f);return}for(var _=f.NextInAEL;_!==null&&_!==m;)this.IntersectEdges(f,_,f.Top),this.SwapPositionsInAEL(f,_),_=f.NextInAEL;f.OutIdx===-1&&m.OutIdx===-1?(this.DeleteFromAEL(f),this.DeleteFromAEL(m)):f.OutIdx>=0&&m.OutIdx>=0?(f.OutIdx>=0&&this.AddLocalMaxPoly(f,m,f.Top),this.DeleteFromAEL(f),this.DeleteFromAEL(m)):t.use_lines&&f.WindDelta===0?(f.OutIdx>=0&&(this.AddOutPt(f,f.Top),f.OutIdx=-1),this.DeleteFromAEL(f),m.OutIdx>=0&&(this.AddOutPt(m,f.Top),m.OutIdx=-1),this.DeleteFromAEL(m)):t.Error("DoMaxima error")},t.Clipper.ReversePaths=function(f){for(var m=0,_=f.length;m<_;m++)f[m].reverse()},t.Clipper.Orientation=function(f){return t.Clipper.Area(f)>=0},t.Clipper.prototype.PointCount=function(f){if(f===null)return 0;var m=0,_=f;do m++,_=_.Next;while(_!==f);return m},t.Clipper.prototype.BuildResult=function(f){t.Clear(f);for(var m=0,_=this.m_PolyOuts.length;m<_;m++){var M=this.m_PolyOuts[m];if(M.Pts!==null){var R=M.Pts.Prev,G=this.PointCount(R);if(!(G<2)){for(var Z=new Array(G),ce=0;ce<G;ce++)Z[ce]=R.Pt,R=R.Prev;f.push(Z)}}}},t.Clipper.prototype.BuildResult2=function(f){f.Clear();for(var m=0,_=this.m_PolyOuts.length;m<_;m++){var M=this.m_PolyOuts[m],R=this.PointCount(M.Pts);if(!(M.IsOpen&&R<2||!M.IsOpen&&R<3)){this.FixHoleLinkage(M);var G=new t.PolyNode;f.m_AllPolys.push(G),M.PolyNode=G,G.m_polygon.length=R;for(var Z=M.Pts.Prev,ce=0;ce<R;ce++)G.m_polygon[ce]=Z.Pt,Z=Z.Prev}}for(var m=0,_=this.m_PolyOuts.length;m<_;m++){var M=this.m_PolyOuts[m];M.PolyNode!==null&&(M.IsOpen?(M.PolyNode.IsOpen=!0,f.AddChild(M.PolyNode)):M.FirstLeft!==null&&M.FirstLeft.PolyNode!==null?M.FirstLeft.PolyNode.AddChild(M.PolyNode):f.AddChild(M.PolyNode))}},t.Clipper.prototype.FixupOutPolygon=function(f){var m=null;f.BottomPt=null;for(var _=f.Pts,M=this.PreserveCollinear||this.StrictlySimple;;){if(_.Prev===_||_.Prev===_.Next){f.Pts=null;return}if(t.IntPoint.op_Equality(_.Pt,_.Next.Pt)||t.IntPoint.op_Equality(_.Pt,_.Prev.Pt)||t.ClipperBase.SlopesEqual(_.Prev.Pt,_.Pt,_.Next.Pt,this.m_UseFullRange)&&(!M||!this.Pt2IsBetweenPt1AndPt3(_.Prev.Pt,_.Pt,_.Next.Pt)))m=null,_.Prev.Next=_.Next,_.Next.Prev=_.Prev,_=_.Prev;else{if(_===m)break;m===null&&(m=_),_=_.Next}}f.Pts=_},t.Clipper.prototype.DupOutPt=function(f,m){var _=new t.OutPt;return _.Pt.X=f.Pt.X,_.Pt.Y=f.Pt.Y,t.use_xyz&&(_.Pt.Z=f.Pt.Z),_.Idx=f.Idx,m?(_.Next=f.Next,_.Prev=f,f.Next.Prev=_,f.Next=_):(_.Prev=f.Prev,_.Next=f,f.Prev.Next=_,f.Prev=_),_},t.Clipper.prototype.GetOverlap=function(f,m,_,M,R){return f<m?_<M?(R.Left=Math.max(f,_),R.Right=Math.min(m,M)):(R.Left=Math.max(f,M),R.Right=Math.min(m,_)):_<M?(R.Left=Math.max(m,_),R.Right=Math.min(f,M)):(R.Left=Math.max(m,M),R.Right=Math.min(f,_)),R.Left<R.Right},t.Clipper.prototype.JoinHorz=function(f,m,_,M,R,G){var Z=f.Pt.X>m.Pt.X?t.Direction.dRightToLeft:t.Direction.dLeftToRight,ce=_.Pt.X>M.Pt.X?t.Direction.dRightToLeft:t.Direction.dLeftToRight;if(Z===ce)return!1;if(Z===t.Direction.dLeftToRight){for(;f.Next.Pt.X<=R.X&&f.Next.Pt.X>=f.Pt.X&&f.Next.Pt.Y===R.Y;)f=f.Next;G&&f.Pt.X!==R.X&&(f=f.Next),m=this.DupOutPt(f,!G),t.IntPoint.op_Inequality(m.Pt,R)&&(f=m,f.Pt.X=R.X,f.Pt.Y=R.Y,t.use_xyz&&(f.Pt.Z=R.Z),m=this.DupOutPt(f,!G))}else{for(;f.Next.Pt.X>=R.X&&f.Next.Pt.X<=f.Pt.X&&f.Next.Pt.Y===R.Y;)f=f.Next;!G&&f.Pt.X!==R.X&&(f=f.Next),m=this.DupOutPt(f,G),t.IntPoint.op_Inequality(m.Pt,R)&&(f=m,f.Pt.X=R.X,f.Pt.Y=R.Y,t.use_xyz&&(f.Pt.Z=R.Z),m=this.DupOutPt(f,G))}if(ce===t.Direction.dLeftToRight){for(;_.Next.Pt.X<=R.X&&_.Next.Pt.X>=_.Pt.X&&_.Next.Pt.Y===R.Y;)_=_.Next;G&&_.Pt.X!==R.X&&(_=_.Next),M=this.DupOutPt(_,!G),t.IntPoint.op_Inequality(M.Pt,R)&&(_=M,_.Pt.X=R.X,_.Pt.Y=R.Y,t.use_xyz&&(_.Pt.Z=R.Z),M=this.DupOutPt(_,!G))}else{for(;_.Next.Pt.X>=R.X&&_.Next.Pt.X<=_.Pt.X&&_.Next.Pt.Y===R.Y;)_=_.Next;!G&&_.Pt.X!==R.X&&(_=_.Next),M=this.DupOutPt(_,G),t.IntPoint.op_Inequality(M.Pt,R)&&(_=M,_.Pt.X=R.X,_.Pt.Y=R.Y,t.use_xyz&&(_.Pt.Z=R.Z),M=this.DupOutPt(_,G))}return Z===t.Direction.dLeftToRight===G?(f.Prev=_,_.Next=f,m.Next=M,M.Prev=m):(f.Next=_,_.Prev=f,m.Prev=M,M.Next=m),!0},t.Clipper.prototype.JoinPoints=function(f,m,_){var M=f.OutPt1,R=new t.OutPt,G=f.OutPt2,Z=new t.OutPt,ce=f.OutPt1.Pt.Y===f.OffPt.Y;if(ce&&t.IntPoint.op_Equality(f.OffPt,f.OutPt1.Pt)&&t.IntPoint.op_Equality(f.OffPt,f.OutPt2.Pt)){if(m!==_)return!1;for(R=f.OutPt1.Next;R!==M&&t.IntPoint.op_Equality(R.Pt,f.OffPt);)R=R.Next;var be=R.Pt.Y>f.OffPt.Y;for(Z=f.OutPt2.Next;Z!==G&&t.IntPoint.op_Equality(Z.Pt,f.OffPt);)Z=Z.Next;var Xe=Z.Pt.Y>f.OffPt.Y;return be===Xe?!1:be?(R=this.DupOutPt(M,!1),Z=this.DupOutPt(G,!0),M.Prev=G,G.Next=M,R.Next=Z,Z.Prev=R,f.OutPt1=M,f.OutPt2=R,!0):(R=this.DupOutPt(M,!0),Z=this.DupOutPt(G,!1),M.Next=G,G.Prev=M,R.Prev=Z,Z.Next=R,f.OutPt1=M,f.OutPt2=R,!0)}else if(ce){for(R=M;M.Prev.Pt.Y===M.Pt.Y&&M.Prev!==R&&M.Prev!==G;)M=M.Prev;for(;R.Next.Pt.Y===R.Pt.Y&&R.Next!==M&&R.Next!==G;)R=R.Next;if(R.Next===M||R.Next===G)return!1;for(Z=G;G.Prev.Pt.Y===G.Pt.Y&&G.Prev!==Z&&G.Prev!==R;)G=G.Prev;for(;Z.Next.Pt.Y===Z.Pt.Y&&Z.Next!==G&&Z.Next!==M;)Z=Z.Next;if(Z.Next===G||Z.Next===M)return!1;var lt={Left:null,Right:null};if(!this.GetOverlap(M.Pt.X,R.Pt.X,G.Pt.X,Z.Pt.X,lt))return!1;var ft=lt.Left,Mt=lt.Right,gn=new t.IntPoint,on;return M.Pt.X>=ft&&M.Pt.X<=Mt?(gn.X=M.Pt.X,gn.Y=M.Pt.Y,t.use_xyz&&(gn.Z=M.Pt.Z),on=M.Pt.X>R.Pt.X):G.Pt.X>=ft&&G.Pt.X<=Mt?(gn.X=G.Pt.X,gn.Y=G.Pt.Y,t.use_xyz&&(gn.Z=G.Pt.Z),on=G.Pt.X>Z.Pt.X):R.Pt.X>=ft&&R.Pt.X<=Mt?(gn.X=R.Pt.X,gn.Y=R.Pt.Y,t.use_xyz&&(gn.Z=R.Pt.Z),on=R.Pt.X>M.Pt.X):(gn.X=Z.Pt.X,gn.Y=Z.Pt.Y,t.use_xyz&&(gn.Z=Z.Pt.Z),on=Z.Pt.X>G.Pt.X),f.OutPt1=M,f.OutPt2=G,this.JoinHorz(M,R,G,Z,gn,on)}else{for(R=M.Next;t.IntPoint.op_Equality(R.Pt,M.Pt)&&R!==M;)R=R.Next;var An=R.Pt.Y>M.Pt.Y||!t.ClipperBase.SlopesEqual(M.Pt,R.Pt,f.OffPt,this.m_UseFullRange);if(An){for(R=M.Prev;t.IntPoint.op_Equality(R.Pt,M.Pt)&&R!==M;)R=R.Prev;if(R.Pt.Y>M.Pt.Y||!t.ClipperBase.SlopesEqual(M.Pt,R.Pt,f.OffPt,this.m_UseFullRange))return!1}for(Z=G.Next;t.IntPoint.op_Equality(Z.Pt,G.Pt)&&Z!==G;)Z=Z.Next;var jr=Z.Pt.Y>G.Pt.Y||!t.ClipperBase.SlopesEqual(G.Pt,Z.Pt,f.OffPt,this.m_UseFullRange);if(jr){for(Z=G.Prev;t.IntPoint.op_Equality(Z.Pt,G.Pt)&&Z!==G;)Z=Z.Prev;if(Z.Pt.Y>G.Pt.Y||!t.ClipperBase.SlopesEqual(G.Pt,Z.Pt,f.OffPt,this.m_UseFullRange))return!1}return R===M||Z===G||R===Z||m===_&&An===jr?!1:An?(R=this.DupOutPt(M,!1),Z=this.DupOutPt(G,!0),M.Prev=G,G.Next=M,R.Next=Z,Z.Prev=R,f.OutPt1=M,f.OutPt2=R,!0):(R=this.DupOutPt(M,!0),Z=this.DupOutPt(G,!1),M.Next=G,G.Prev=M,R.Prev=Z,Z.Next=R,f.OutPt1=M,f.OutPt2=R,!0)}},t.Clipper.GetBounds=function(f){for(var m=0,_=f.length;m<_&&f[m].length===0;)m++;if(m===_)return new t.IntRect(0,0,0,0);var M=new t.IntRect;for(M.left=f[m][0].X,M.right=M.left,M.top=f[m][0].Y,M.bottom=M.top;m<_;m++)for(var R=0,G=f[m].length;R<G;R++)f[m][R].X<M.left?M.left=f[m][R].X:f[m][R].X>M.right&&(M.right=f[m][R].X),f[m][R].Y<M.top?M.top=f[m][R].Y:f[m][R].Y>M.bottom&&(M.bottom=f[m][R].Y);return M},t.Clipper.prototype.GetBounds2=function(f){var m=f,_=new t.IntRect;for(_.left=f.Pt.X,_.right=f.Pt.X,_.top=f.Pt.Y,_.bottom=f.Pt.Y,f=f.Next;f!==m;)f.Pt.X<_.left&&(_.left=f.Pt.X),f.Pt.X>_.right&&(_.right=f.Pt.X),f.Pt.Y<_.top&&(_.top=f.Pt.Y),f.Pt.Y>_.bottom&&(_.bottom=f.Pt.Y),f=f.Next;return _},t.Clipper.PointInPolygon=function(f,m){var _=0,M=m.length;if(M<3)return 0;for(var R=m[0],G=1;G<=M;++G){var Z=G===M?m[0]:m[G];if(Z.Y===f.Y&&(Z.X===f.X||R.Y===f.Y&&Z.X>f.X==R.X<f.X))return-1;if(R.Y<f.Y!=Z.Y<f.Y){if(R.X>=f.X)if(Z.X>f.X)_=1-_;else{var ce=(R.X-f.X)*(Z.Y-f.Y)-(Z.X-f.X)*(R.Y-f.Y);if(ce===0)return-1;ce>0==Z.Y>R.Y&&(_=1-_)}else if(Z.X>f.X){var ce=(R.X-f.X)*(Z.Y-f.Y)-(Z.X-f.X)*(R.Y-f.Y);if(ce===0)return-1;ce>0==Z.Y>R.Y&&(_=1-_)}}R=Z}return _},t.Clipper.prototype.PointInPolygon=function(f,m){var _=0,M=m,R=f.X,G=f.Y,Z=m.Pt.X,ce=m.Pt.Y;do{m=m.Next;var be=m.Pt.X,Xe=m.Pt.Y;if(Xe===G&&(be===R||ce===G&&be>R==Z<R))return-1;if(ce<G!=Xe<G){if(Z>=R)if(be>R)_=1-_;else{var lt=(Z-R)*(Xe-G)-(be-R)*(ce-G);if(lt===0)return-1;lt>0==Xe>ce&&(_=1-_)}else if(be>R){var lt=(Z-R)*(Xe-G)-(be-R)*(ce-G);if(lt===0)return-1;lt>0==Xe>ce&&(_=1-_)}}Z=be,ce=Xe}while(M!==m);return _},t.Clipper.prototype.Poly2ContainsPoly1=function(f,m){var _=f;do{var M=this.PointInPolygon(_.Pt,m);if(M>=0)return M>0;_=_.Next}while(_!==f);return!0},t.Clipper.prototype.FixupFirstLefts1=function(f,m){for(var _=0,M=this.m_PolyOuts.length;_<M;_++){var R=this.m_PolyOuts[_];if(!(R.Pts===null||R.FirstLeft===null)){var G=this.ParseFirstLeft(R.FirstLeft);G===f&&this.Poly2ContainsPoly1(R.Pts,m.Pts)&&(R.FirstLeft=m)}}},t.Clipper.prototype.FixupFirstLefts2=function(f,m){for(var _=0,M=this.m_PolyOuts,R=M.length,G=M[_];_<R;_++,G=M[_])G.FirstLeft===f&&(G.FirstLeft=m)},t.Clipper.ParseFirstLeft=function(f){for(;f!==null&&f.Pts===null;)f=f.FirstLeft;return f},t.Clipper.prototype.JoinCommonEdges=function(){for(var f=0,m=this.m_Joins.length;f<m;f++){var _=this.m_Joins[f],M=this.GetOutRec(_.OutPt1.Idx),R=this.GetOutRec(_.OutPt2.Idx);if(!(M.Pts===null||R.Pts===null)&&!(M.IsOpen||R.IsOpen)){var G;if(M===R?G=M:this.Param1RightOfParam2(M,R)?G=R:this.Param1RightOfParam2(R,M)?G=M:G=this.GetLowermostRec(M,R),!!this.JoinPoints(_,M,R))if(M===R){if(M.Pts=_.OutPt1,M.BottomPt=null,R=this.CreateOutRec(),R.Pts=_.OutPt2,this.UpdateOutPtIdxs(R),this.m_UsingPolyTree)for(var Z=0,ce=this.m_PolyOuts.length;Z<ce-1;Z++){var be=this.m_PolyOuts[Z];be.Pts===null||t.Clipper.ParseFirstLeft(be.FirstLeft)!==M||be.IsHole==M.IsHole||this.Poly2ContainsPoly1(be.Pts,_.OutPt2)&&(be.FirstLeft=R)}this.Poly2ContainsPoly1(R.Pts,M.Pts)?(R.IsHole=!M.IsHole,R.FirstLeft=M,this.m_UsingPolyTree&&this.FixupFirstLefts2(R,M),(R.IsHole^this.ReverseSolution)==this.Area(R)>0&&this.ReversePolyPtLinks(R.Pts)):this.Poly2ContainsPoly1(M.Pts,R.Pts)?(R.IsHole=M.IsHole,M.IsHole=!R.IsHole,R.FirstLeft=M.FirstLeft,M.FirstLeft=R,this.m_UsingPolyTree&&this.FixupFirstLefts2(M,R),(M.IsHole^this.ReverseSolution)==this.Area(M)>0&&this.ReversePolyPtLinks(M.Pts)):(R.IsHole=M.IsHole,R.FirstLeft=M.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(M,R))}else R.Pts=null,R.BottomPt=null,R.Idx=M.Idx,M.IsHole=G.IsHole,G===R&&(M.FirstLeft=R.FirstLeft),R.FirstLeft=M,this.m_UsingPolyTree&&this.FixupFirstLefts2(R,M)}}},t.Clipper.prototype.UpdateOutPtIdxs=function(f){var m=f.Pts;do m.Idx=f.Idx,m=m.Prev;while(m!==f.Pts)},t.Clipper.prototype.DoSimplePolygons=function(){for(var f=0;f<this.m_PolyOuts.length;){var m=this.m_PolyOuts[f++],_=m.Pts;if(!(_===null||m.IsOpen))do{for(var M=_.Next;M!==m.Pts;){if(t.IntPoint.op_Equality(_.Pt,M.Pt)&&M.Next!==_&&M.Prev!==_){var R=_.Prev,G=M.Prev;_.Prev=G,G.Next=_,M.Prev=R,R.Next=M,m.Pts=_;var Z=this.CreateOutRec();Z.Pts=M,this.UpdateOutPtIdxs(Z),this.Poly2ContainsPoly1(Z.Pts,m.Pts)?(Z.IsHole=!m.IsHole,Z.FirstLeft=m,this.m_UsingPolyTree&&this.FixupFirstLefts2(Z,m)):this.Poly2ContainsPoly1(m.Pts,Z.Pts)?(Z.IsHole=m.IsHole,m.IsHole=!Z.IsHole,Z.FirstLeft=m.FirstLeft,m.FirstLeft=Z,this.m_UsingPolyTree&&this.FixupFirstLefts2(m,Z)):(Z.IsHole=m.IsHole,Z.FirstLeft=m.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(m,Z)),M=_}M=M.Next}_=_.Next}while(_!==m.Pts)}},t.Clipper.Area=function(f){var m=f.length;if(m<3)return 0;for(var _=0,M=0,R=m-1;M<m;++M)_+=(f[R].X+f[M].X)*(f[R].Y-f[M].Y),R=M;return-_*.5},t.Clipper.prototype.Area=function(f){var m=f.Pts;if(m===null)return 0;var _=0;do _=_+(m.Prev.Pt.X+m.Pt.X)*(m.Prev.Pt.Y-m.Pt.Y),m=m.Next;while(m!==f.Pts);return _*.5},t.Clipper.SimplifyPolygon=function(f,m){var _=new Array,M=new t.Clipper(0);return M.StrictlySimple=!0,M.AddPath(f,t.PolyType.ptSubject,!0),M.Execute(t.ClipType.ctUnion,_,m,m),_},t.Clipper.SimplifyPolygons=function(f,m){typeof m>"u"&&(m=t.PolyFillType.pftEvenOdd);var _=new Array,M=new t.Clipper(0);return M.StrictlySimple=!0,M.AddPaths(f,t.PolyType.ptSubject,!0),M.Execute(t.ClipType.ctUnion,_,m,m),_},t.Clipper.DistanceSqrd=function(f,m){var _=f.X-m.X,M=f.Y-m.Y;return _*_+M*M},t.Clipper.DistanceFromLineSqrd=function(f,m,_){var M=m.Y-_.Y,R=_.X-m.X,G=M*m.X+R*m.Y;return G=M*f.X+R*f.Y-G,G*G/(M*M+R*R)},t.Clipper.SlopesNearCollinear=function(f,m,_,M){return Math.abs(f.X-m.X)>Math.abs(f.Y-m.Y)?f.X>m.X==f.X<_.X?t.Clipper.DistanceFromLineSqrd(f,m,_)<M:m.X>f.X==m.X<_.X?t.Clipper.DistanceFromLineSqrd(m,f,_)<M:t.Clipper.DistanceFromLineSqrd(_,f,m)<M:f.Y>m.Y==f.Y<_.Y?t.Clipper.DistanceFromLineSqrd(f,m,_)<M:m.Y>f.Y==m.Y<_.Y?t.Clipper.DistanceFromLineSqrd(m,f,_)<M:t.Clipper.DistanceFromLineSqrd(_,f,m)<M},t.Clipper.PointsAreClose=function(f,m,_){var M=f.X-m.X,R=f.Y-m.Y;return M*M+R*R<=_},t.Clipper.ExcludeOp=function(f){var m=f.Prev;return m.Next=f.Next,f.Next.Prev=m,m.Idx=0,m},t.Clipper.CleanPolygon=function(f,m){typeof m>"u"&&(m=1.415);var _=f.length;if(_===0)return new Array;for(var M=new Array(_),R=0;R<_;++R)M[R]=new t.OutPt;for(var R=0;R<_;++R)M[R].Pt=f[R],M[R].Next=M[(R+1)%_],M[R].Next.Prev=M[R],M[R].Idx=0;for(var G=m*m,Z=M[0];Z.Idx===0&&Z.Next!==Z.Prev;)t.Clipper.PointsAreClose(Z.Pt,Z.Prev.Pt,G)?(Z=t.Clipper.ExcludeOp(Z),_--):t.Clipper.PointsAreClose(Z.Prev.Pt,Z.Next.Pt,G)?(t.Clipper.ExcludeOp(Z.Next),Z=t.Clipper.ExcludeOp(Z),_-=2):t.Clipper.SlopesNearCollinear(Z.Prev.Pt,Z.Pt,Z.Next.Pt,G)?(Z=t.Clipper.ExcludeOp(Z),_--):(Z.Idx=1,Z=Z.Next);_<3&&(_=0);for(var ce=new Array(_),R=0;R<_;++R)ce[R]=new t.IntPoint(Z.Pt),Z=Z.Next;return M=null,ce},t.Clipper.CleanPolygons=function(f,m){for(var _=new Array(f.length),M=0,R=f.length;M<R;M++)_[M]=t.Clipper.CleanPolygon(f[M],m);return _},t.Clipper.Minkowski=function(f,m,_,M){var R=M?1:0,G=f.length,Z=m.length,ce=new Array;if(_)for(var be=0;be<Z;be++){for(var Xe=new Array(G),lt=0,ft=f.length,Mt=f[lt];lt<ft;lt++,Mt=f[lt])Xe[lt]=new t.IntPoint(m[be].X+Mt.X,m[be].Y+Mt.Y);ce.push(Xe)}else for(var be=0;be<Z;be++){for(var Xe=new Array(G),lt=0,ft=f.length,Mt=f[lt];lt<ft;lt++,Mt=f[lt])Xe[lt]=new t.IntPoint(m[be].X-Mt.X,m[be].Y-Mt.Y);ce.push(Xe)}for(var gn=new Array,be=0;be<Z-1+R;be++)for(var lt=0;lt<G;lt++){var on=new Array;on.push(ce[be%Z][lt%G]),on.push(ce[(be+1)%Z][lt%G]),on.push(ce[(be+1)%Z][(lt+1)%G]),on.push(ce[be%Z][(lt+1)%G]),t.Clipper.Orientation(on)||on.reverse(),gn.push(on)}return gn},t.Clipper.MinkowskiSum=function(f,m,_){if(m[0]instanceof Array){for(var R=m,Z=new t.Paths,G=new t.Clipper,ce=0;ce<R.length;++ce){var be=t.Clipper.Minkowski(f,R[ce],!0,_);if(G.AddPaths(be,t.PolyType.ptSubject,!0),_){var M=t.Clipper.TranslatePath(R[ce],f[0]);G.AddPath(M,t.PolyType.ptClip,!0)}}return G.Execute(t.ClipType.ctUnion,Z,t.PolyFillType.pftNonZero,t.PolyFillType.pftNonZero),Z}else{var M=m,R=t.Clipper.Minkowski(f,M,!0,_),G=new t.Clipper;return G.AddPaths(R,t.PolyType.ptSubject,!0),G.Execute(t.ClipType.ctUnion,R,t.PolyFillType.pftNonZero,t.PolyFillType.pftNonZero),R}},t.Clipper.TranslatePath=function(f,m){for(var _=new t.Path,M=0;M<f.length;M++)_.push(new t.IntPoint(f[M].X+m.X,f[M].Y+m.Y));return _},t.Clipper.MinkowskiDiff=function(f,m){var _=t.Clipper.Minkowski(f,m,!1,!0),M=new t.Clipper;return M.AddPaths(_,t.PolyType.ptSubject,!0),M.Execute(t.ClipType.ctUnion,_,t.PolyFillType.pftNonZero,t.PolyFillType.pftNonZero),_},t.Clipper.PolyTreeToPaths=function(f){var m=new Array;return t.Clipper.AddPolyNodeToPaths(f,t.Clipper.NodeType.ntAny,m),m},t.Clipper.AddPolyNodeToPaths=function(f,m,_){var M=!0;switch(m){case t.Clipper.NodeType.ntOpen:return;case t.Clipper.NodeType.ntClosed:M=!f.IsOpen;break;default:break}f.m_polygon.length>0&&M&&_.push(f.m_polygon);for(var R=0,G=f.Childs(),Z=G.length,ce=G[R];R<Z;R++,ce=G[R])t.Clipper.AddPolyNodeToPaths(ce,m,_)},t.Clipper.OpenPathsFromPolyTree=function(f){for(var m=new t.Paths,_=0,M=f.ChildCount();_<M;_++)f.Childs()[_].IsOpen&&m.push(f.Childs()[_].m_polygon);return m},t.Clipper.ClosedPathsFromPolyTree=function(f){var m=new t.Paths;return t.Clipper.AddPolyNodeToPaths(f,t.Clipper.NodeType.ntClosed,m),m},na(t.Clipper,t.ClipperBase),t.Clipper.NodeType={ntAny:0,ntOpen:1,ntClosed:2},t.ClipperOffset=function(f,m){typeof f>"u"&&(f=2),typeof m>"u"&&(m=t.ClipperOffset.def_arc_tolerance),this.m_destPolys=new t.Paths,this.m_srcPoly=new t.Path,this.m_destPoly=new t.Path,this.m_normals=new Array,this.m_delta=0,this.m_sinA=0,this.m_sin=0,this.m_cos=0,this.m_miterLim=0,this.m_StepsPerRad=0,this.m_lowest=new t.IntPoint,this.m_polyNodes=new t.PolyNode,this.MiterLimit=f,this.ArcTolerance=m,this.m_lowest.X=-1},t.ClipperOffset.two_pi=6.28318530717959,t.ClipperOffset.def_arc_tolerance=.25,t.ClipperOffset.prototype.Clear=function(){t.Clear(this.m_polyNodes.Childs()),this.m_lowest.X=-1},t.ClipperOffset.Round=t.Clipper.Round,t.ClipperOffset.prototype.AddPath=function(f,m,_){var M=f.length-1;if(!(M<0)){var R=new t.PolyNode;if(R.m_jointype=m,R.m_endtype=_,_===t.EndType.etClosedLine||_===t.EndType.etClosedPolygon)for(;M>0&&t.IntPoint.op_Equality(f[0],f[M]);)M--;R.m_polygon.push(f[0]);for(var G=0,Z=0,ce=1;ce<=M;ce++)t.IntPoint.op_Inequality(R.m_polygon[G],f[ce])&&(G++,R.m_polygon.push(f[ce]),(f[ce].Y>R.m_polygon[Z].Y||f[ce].Y===R.m_polygon[Z].Y&&f[ce].X<R.m_polygon[Z].X)&&(Z=G));if(!(_===t.EndType.etClosedPolygon&&G<2)&&(this.m_polyNodes.AddChild(R),_===t.EndType.etClosedPolygon))if(this.m_lowest.X<0)this.m_lowest=new t.IntPoint(this.m_polyNodes.ChildCount()-1,Z);else{var be=this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];(R.m_polygon[Z].Y>be.Y||R.m_polygon[Z].Y===be.Y&&R.m_polygon[Z].X<be.X)&&(this.m_lowest=new t.IntPoint(this.m_polyNodes.ChildCount()-1,Z))}}},t.ClipperOffset.prototype.AddPaths=function(f,m,_){for(var M=0,R=f.length;M<R;M++)this.AddPath(f[M],m,_)},t.ClipperOffset.prototype.FixOrientations=function(){if(this.m_lowest.X>=0&&!t.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon))for(var f=0;f<this.m_polyNodes.ChildCount();f++){var m=this.m_polyNodes.Childs()[f];(m.m_endtype===t.EndType.etClosedPolygon||m.m_endtype===t.EndType.etClosedLine&&t.Clipper.Orientation(m.m_polygon))&&m.m_polygon.reverse()}else for(var f=0;f<this.m_polyNodes.ChildCount();f++){var m=this.m_polyNodes.Childs()[f];m.m_endtype===t.EndType.etClosedLine&&!t.Clipper.Orientation(m.m_polygon)&&m.m_polygon.reverse()}},t.ClipperOffset.GetUnitNormal=function(f,m){var _=m.X-f.X,M=m.Y-f.Y;if(_===0&&M===0)return new t.DoublePoint(0,0);var R=1/Math.sqrt(_*_+M*M);return _*=R,M*=R,new t.DoublePoint(M,-_)},t.ClipperOffset.prototype.DoOffset=function(f){if(this.m_destPolys=new Array,this.m_delta=f,t.ClipperBase.near_zero(f)){for(var m=0;m<this.m_polyNodes.ChildCount();m++){var _=this.m_polyNodes.Childs()[m];_.m_endtype===t.EndType.etClosedPolygon&&this.m_destPolys.push(_.m_polygon)}return}this.MiterLimit>2?this.m_miterLim=2/(this.MiterLimit*this.MiterLimit):this.m_miterLim=.5;var M;this.ArcTolerance<=0?M=t.ClipperOffset.def_arc_tolerance:this.ArcTolerance>Math.abs(f)*t.ClipperOffset.def_arc_tolerance?M=Math.abs(f)*t.ClipperOffset.def_arc_tolerance:M=this.ArcTolerance;var R=3.14159265358979/Math.acos(1-M/Math.abs(f));this.m_sin=Math.sin(t.ClipperOffset.two_pi/R),this.m_cos=Math.cos(t.ClipperOffset.two_pi/R),this.m_StepsPerRad=R/t.ClipperOffset.two_pi,f<0&&(this.m_sin=-this.m_sin);for(var m=0;m<this.m_polyNodes.ChildCount();m++){var _=this.m_polyNodes.Childs()[m];this.m_srcPoly=_.m_polygon;var G=this.m_srcPoly.length;if(!(G===0||f<=0&&(G<3||_.m_endtype!==t.EndType.etClosedPolygon))){if(this.m_destPoly=new Array,G===1){if(_.m_jointype===t.JoinType.jtRound)for(var Z=1,ce=0,be=1;be<=R;be++){this.m_destPoly.push(new t.IntPoint(t.ClipperOffset.Round(this.m_srcPoly[0].X+Z*f),t.ClipperOffset.Round(this.m_srcPoly[0].Y+ce*f)));var Xe=Z;Z=Z*this.m_cos-this.m_sin*ce,ce=Xe*this.m_sin+ce*this.m_cos}else for(var Z=-1,ce=-1,be=0;be<4;++be)this.m_destPoly.push(new t.IntPoint(t.ClipperOffset.Round(this.m_srcPoly[0].X+Z*f),t.ClipperOffset.Round(this.m_srcPoly[0].Y+ce*f))),Z<0?Z=1:ce<0?ce=1:Z=-1;this.m_destPolys.push(this.m_destPoly);continue}this.m_normals.length=0;for(var be=0;be<G-1;be++)this.m_normals.push(t.ClipperOffset.GetUnitNormal(this.m_srcPoly[be],this.m_srcPoly[be+1]));if(_.m_endtype===t.EndType.etClosedLine||_.m_endtype===t.EndType.etClosedPolygon?this.m_normals.push(t.ClipperOffset.GetUnitNormal(this.m_srcPoly[G-1],this.m_srcPoly[0])):this.m_normals.push(new t.DoublePoint(this.m_normals[G-2])),_.m_endtype===t.EndType.etClosedPolygon){for(var lt=G-1,be=0;be<G;be++)lt=this.OffsetPoint(be,lt,_.m_jointype);this.m_destPolys.push(this.m_destPoly)}else if(_.m_endtype===t.EndType.etClosedLine){for(var lt=G-1,be=0;be<G;be++)lt=this.OffsetPoint(be,lt,_.m_jointype);this.m_destPolys.push(this.m_destPoly),this.m_destPoly=new Array;for(var ft=this.m_normals[G-1],be=G-1;be>0;be--)this.m_normals[be]=new t.DoublePoint(-this.m_normals[be-1].X,-this.m_normals[be-1].Y);this.m_normals[0]=new t.DoublePoint(-ft.X,-ft.Y),lt=0;for(var be=G-1;be>=0;be--)lt=this.OffsetPoint(be,lt,_.m_jointype);this.m_destPolys.push(this.m_destPoly)}else{for(var lt=0,be=1;be<G-1;++be)lt=this.OffsetPoint(be,lt,_.m_jointype);var Mt;if(_.m_endtype===t.EndType.etOpenButt){var be=G-1;Mt=new t.IntPoint(t.ClipperOffset.Round(this.m_srcPoly[be].X+this.m_normals[be].X*f),t.ClipperOffset.Round(this.m_srcPoly[be].Y+this.m_normals[be].Y*f)),this.m_destPoly.push(Mt),Mt=new t.IntPoint(t.ClipperOffset.Round(this.m_srcPoly[be].X-this.m_normals[be].X*f),t.ClipperOffset.Round(this.m_srcPoly[be].Y-this.m_normals[be].Y*f)),this.m_destPoly.push(Mt)}else{var be=G-1;lt=G-2,this.m_sinA=0,this.m_normals[be]=new t.DoublePoint(-this.m_normals[be].X,-this.m_normals[be].Y),_.m_endtype===t.EndType.etOpenSquare?this.DoSquare(be,lt):this.DoRound(be,lt)}for(var be=G-1;be>0;be--)this.m_normals[be]=new t.DoublePoint(-this.m_normals[be-1].X,-this.m_normals[be-1].Y);this.m_normals[0]=new t.DoublePoint(-this.m_normals[1].X,-this.m_normals[1].Y),lt=G-1;for(var be=lt-1;be>0;--be)lt=this.OffsetPoint(be,lt,_.m_jointype);_.m_endtype===t.EndType.etOpenButt?(Mt=new t.IntPoint(t.ClipperOffset.Round(this.m_srcPoly[0].X-this.m_normals[0].X*f),t.ClipperOffset.Round(this.m_srcPoly[0].Y-this.m_normals[0].Y*f)),this.m_destPoly.push(Mt),Mt=new t.IntPoint(t.ClipperOffset.Round(this.m_srcPoly[0].X+this.m_normals[0].X*f),t.ClipperOffset.Round(this.m_srcPoly[0].Y+this.m_normals[0].Y*f)),this.m_destPoly.push(Mt)):(lt=1,this.m_sinA=0,_.m_endtype===t.EndType.etOpenSquare?this.DoSquare(0,1):this.DoRound(0,1)),this.m_destPolys.push(this.m_destPoly)}}}},t.ClipperOffset.prototype.Execute=function(){var f=arguments,m=f[0]instanceof t.PolyTree;if(m){var _=f[0],M=f[1];_.Clear(),this.FixOrientations(),this.DoOffset(M);var R=new t.Clipper(0);if(R.AddPaths(this.m_destPolys,t.PolyType.ptSubject,!0),M>0)R.Execute(t.ClipType.ctUnion,_,t.PolyFillType.pftPositive,t.PolyFillType.pftPositive);else{var G=t.Clipper.GetBounds(this.m_destPolys),Z=new t.Path;if(Z.push(new t.IntPoint(G.left-10,G.bottom+10)),Z.push(new t.IntPoint(G.right+10,G.bottom+10)),Z.push(new t.IntPoint(G.right+10,G.top-10)),Z.push(new t.IntPoint(G.left-10,G.top-10)),R.AddPath(Z,t.PolyType.ptSubject,!0),R.ReverseSolution=!0,R.Execute(t.ClipType.ctUnion,_,t.PolyFillType.pftNegative,t.PolyFillType.pftNegative),_.ChildCount()===1&&_.Childs()[0].ChildCount()>0){var ce=_.Childs()[0];_.Childs()[0]=ce.Childs()[0],_.Childs()[0].m_Parent=_;for(var be=1;be<ce.ChildCount();be++)_.AddChild(ce.Childs()[be])}else _.Clear()}}else{var _=f[0],M=f[1];t.Clear(_),this.FixOrientations(),this.DoOffset(M);var R=new t.Clipper(0);if(R.AddPaths(this.m_destPolys,t.PolyType.ptSubject,!0),M>0)R.Execute(t.ClipType.ctUnion,_,t.PolyFillType.pftPositive,t.PolyFillType.pftPositive);else{var G=t.Clipper.GetBounds(this.m_destPolys),Z=new t.Path;Z.push(new t.IntPoint(G.left-10,G.bottom+10)),Z.push(new t.IntPoint(G.right+10,G.bottom+10)),Z.push(new t.IntPoint(G.right+10,G.top-10)),Z.push(new t.IntPoint(G.left-10,G.top-10)),R.AddPath(Z,t.PolyType.ptSubject,!0),R.ReverseSolution=!0,R.Execute(t.ClipType.ctUnion,_,t.PolyFillType.pftNegative,t.PolyFillType.pftNegative),_.length>0&&_.splice(0,1)}}},t.ClipperOffset.prototype.OffsetPoint=function(f,m,_){if(this.m_sinA=this.m_normals[m].X*this.m_normals[f].Y-this.m_normals[f].X*this.m_normals[m].Y,Math.abs(this.m_sinA*this.m_delta)<1){var M=this.m_normals[m].X*this.m_normals[f].X+this.m_normals[f].Y*this.m_normals[m].Y;if(M>0)return this.m_destPoly.push(new t.IntPoint(t.ClipperOffset.Round(this.m_srcPoly[f].X+this.m_normals[m].X*this.m_delta),t.ClipperOffset.Round(this.m_srcPoly[f].Y+this.m_normals[m].Y*this.m_delta))),m}else this.m_sinA>1?this.m_sinA=1:this.m_sinA<-1&&(this.m_sinA=-1);if(this.m_sinA*this.m_delta<0)this.m_destPoly.push(new t.IntPoint(t.ClipperOffset.Round(this.m_srcPoly[f].X+this.m_normals[m].X*this.m_delta),t.ClipperOffset.Round(this.m_srcPoly[f].Y+this.m_normals[m].Y*this.m_delta))),this.m_destPoly.push(new t.IntPoint(this.m_srcPoly[f])),this.m_destPoly.push(new t.IntPoint(t.ClipperOffset.Round(this.m_srcPoly[f].X+this.m_normals[f].X*this.m_delta),t.ClipperOffset.Round(this.m_srcPoly[f].Y+this.m_normals[f].Y*this.m_delta)));else switch(_){case t.JoinType.jtMiter:{var R=1+(this.m_normals[f].X*this.m_normals[m].X+this.m_normals[f].Y*this.m_normals[m].Y);R>=this.m_miterLim?this.DoMiter(f,m,R):this.DoSquare(f,m);break}case t.JoinType.jtSquare:this.DoSquare(f,m);break;case t.JoinType.jtRound:this.DoRound(f,m);break}return m=f,m},t.ClipperOffset.prototype.DoSquare=function(f,m){var _=Math.tan(Math.atan2(this.m_sinA,this.m_normals[m].X*this.m_normals[f].X+this.m_normals[m].Y*this.m_normals[f].Y)/4);this.m_destPoly.push(new t.IntPoint(t.ClipperOffset.Round(this.m_srcPoly[f].X+this.m_delta*(this.m_normals[m].X-this.m_normals[m].Y*_)),t.ClipperOffset.Round(this.m_srcPoly[f].Y+this.m_delta*(this.m_normals[m].Y+this.m_normals[m].X*_)))),this.m_destPoly.push(new t.IntPoint(t.ClipperOffset.Round(this.m_srcPoly[f].X+this.m_delta*(this.m_normals[f].X+this.m_normals[f].Y*_)),t.ClipperOffset.Round(this.m_srcPoly[f].Y+this.m_delta*(this.m_normals[f].Y-this.m_normals[f].X*_))))},t.ClipperOffset.prototype.DoMiter=function(f,m,_){var M=this.m_delta/_;this.m_destPoly.push(new t.IntPoint(t.ClipperOffset.Round(this.m_srcPoly[f].X+(this.m_normals[m].X+this.m_normals[f].X)*M),t.ClipperOffset.Round(this.m_srcPoly[f].Y+(this.m_normals[m].Y+this.m_normals[f].Y)*M)))},t.ClipperOffset.prototype.DoRound=function(f,m){for(var _=Math.atan2(this.m_sinA,this.m_normals[m].X*this.m_normals[f].X+this.m_normals[m].Y*this.m_normals[f].Y),M=Math.max(t.Cast_Int32(t.ClipperOffset.Round(this.m_StepsPerRad*Math.abs(_))),1),R=this.m_normals[m].X,G=this.m_normals[m].Y,Z,ce=0;ce<M;++ce)this.m_destPoly.push(new t.IntPoint(t.ClipperOffset.Round(this.m_srcPoly[f].X+R*this.m_delta),t.ClipperOffset.Round(this.m_srcPoly[f].Y+G*this.m_delta))),Z=R,R=R*this.m_cos-this.m_sin*G,G=Z*this.m_sin+G*this.m_cos;this.m_destPoly.push(new t.IntPoint(t.ClipperOffset.Round(this.m_srcPoly[f].X+this.m_normals[f].X*this.m_delta),t.ClipperOffset.Round(this.m_srcPoly[f].Y+this.m_normals[f].Y*this.m_delta)))},t.Error=function(f){typeof window<"u"&&window.onerror&&window.onerror(f,"clipper.js",0,0)},t.JS={},t.JS.AreaOfPolygon=function(f,m){return m||(m=1),t.Clipper.Area(f)/(m*m)},t.JS.AreaOfPolygons=function(f,m){m||(m=1);for(var _=0,M=0;M<f.length;M++)_+=t.Clipper.Area(f[M]);return _/(m*m)},t.JS.BoundsOfPath=function(f,m){return t.JS.BoundsOfPaths([f],m)},t.JS.BoundsOfPaths=function(f,m){m||(m=1);var _=t.Clipper.GetBounds(f);return _.left/=m,_.bottom/=m,_.right/=m,_.top/=m,_},t.JS.Clean=function(M,m){if(!(M instanceof Array))return[];var _=M[0]instanceof Array,M=t.JS.Clone(M);if(typeof m!="number"||m===null)return t.Error("Delta is not a number in Clean()."),M;if(M.length===0||M.length===1&&M[0].length===0||m<0)return M;_||(M=[M]);for(var R=M.length,G,Z,ce,be,Xe,lt,ft,Mt=[],gn=0;gn<R;gn++)if(Z=M[gn],G=Z.length,G!==0){if(G<3){ce=Z,Mt.push(ce);continue}for(ce=Z,be=m*m,Xe=Z[0],lt=1,ft=1;ft<G;ft++)(Z[ft].X-Xe.X)*(Z[ft].X-Xe.X)+(Z[ft].Y-Xe.Y)*(Z[ft].Y-Xe.Y)<=be||(ce[lt]=Z[ft],Xe=Z[ft],lt++);Xe=Z[lt-1],(Z[0].X-Xe.X)*(Z[0].X-Xe.X)+(Z[0].Y-Xe.Y)*(Z[0].Y-Xe.Y)<=be&&lt--,lt<G&&ce.splice(lt,G-lt),ce.length&&Mt.push(ce)}return!_&&Mt.length?Mt=Mt[0]:!_&&Mt.length===0?Mt=[]:_&&Mt.length===0&&(Mt=[[]]),Mt},t.JS.Clone=function(f){if(!(f instanceof Array))return[];if(f.length===0)return[];if(f.length===1&&f[0].length===0)return[[]];var m=f[0]instanceof Array;m||(f=[f]);var _=f.length,M,R,G,Z,ce=new Array(_);for(R=0;R<_;R++){for(M=f[R].length,Z=new Array(M),G=0;G<M;G++)Z[G]={X:f[R][G].X,Y:f[R][G].Y};ce[R]=Z}return m||(ce=ce[0]),ce},t.JS.Lighten=function(f,m){if(!(f instanceof Array))return[];if(typeof m!="number"||m===null)return t.Error("Tolerance is not a number in Lighten()."),t.JS.Clone(f);if(f.length===0||f.length===1&&f[0].length===0||m<0)return t.JS.Clone(f);f[0]instanceof Array||(f=[f]);var _,M,R,G,Z,ce,be,Xe,lt,ft,Mt,gn,on,An,jr,Yr,Ui,Bf=f.length,dl=m*m,ra=[];for(_=0;_<Bf;_++)if(R=f[_],ce=R.length,ce!==0){for(G=0;G<1e6;G++){for(Z=[],ce=R.length,R[ce-1].X!==R[0].X||R[ce-1].Y!==R[0].Y?(gn=1,R.push({X:R[0].X,Y:R[0].Y}),ce=R.length):gn=0,Mt=[],M=0;M<ce-2;M++)be=R[M],lt=R[M+1],Xe=R[M+2],Yr=be.X,Ui=be.Y,on=Xe.X-Yr,An=Xe.Y-Ui,(on!==0||An!==0)&&(jr=((lt.X-Yr)*on+(lt.Y-Ui)*An)/(on*on+An*An),jr>1?(Yr=Xe.X,Ui=Xe.Y):jr>0&&(Yr+=on*jr,Ui+=An*jr)),on=lt.X-Yr,An=lt.Y-Ui,ft=on*on+An*An,ft<=dl&&(Mt[M+1]=1,M++);for(Z.push({X:R[0].X,Y:R[0].Y}),M=1;M<ce-1;M++)Mt[M]||Z.push({X:R[M].X,Y:R[M].Y});if(Z.push({X:R[ce-1].X,Y:R[ce-1].Y}),gn&&R.pop(),Mt.length)R=Z;else break}ce=Z.length,Z[ce-1].X===Z[0].X&&Z[ce-1].Y===Z[0].Y&&Z.pop(),Z.length>2&&ra.push(Z)}return f[0]instanceof Array||(ra=ra[0]),typeof ra>"u"&&(ra=[[]]),ra},t.JS.PerimeterOfPath=function(f,m,_){if(typeof f>"u")return 0;var M=Math.sqrt,R=0,G,Z,ce=0,be=0,Xe=0,lt=0,ft=f.length;if(ft<2)return 0;for(m&&(f[ft]=f[0],ft++);--ft;)G=f[ft],ce=G.X,be=G.Y,Z=f[ft-1],Xe=Z.X,lt=Z.Y,R+=M((ce-Xe)*(ce-Xe)+(be-lt)*(be-lt));return m&&f.pop(),R/_},t.JS.PerimeterOfPaths=function(f,m,_){_||(_=1);for(var M=0,R=0;R<f.length;R++)M+=t.JS.PerimeterOfPath(f[R],m,_);return M},t.JS.ScaleDownPath=function(f,m){var _,M;for(m||(m=1),_=f.length;_--;)M=f[_],M.X=M.X/m,M.Y=M.Y/m},t.JS.ScaleDownPaths=function(f,m){var _,M,R;for(m||(m=1),_=f.length;_--;)for(M=f[_].length;M--;)R=f[_][M],R.X=R.X/m,R.Y=R.Y/m},t.JS.ScaleUpPath=function(f,m){var _,M,R=Math.round;for(m||(m=1),_=f.length;_--;)M=f[_],M.X=R(M.X*m),M.Y=R(M.Y*m)},t.JS.ScaleUpPaths=function(f,m){var _,M,R,G=Math.round;for(m||(m=1),_=f.length;_--;)for(M=f[_].length;M--;)R=f[_][M],R.X=G(R.X*m),R.Y=G(R.Y*m)},t.ExPolygons=function(){return[]},t.ExPolygon=function(){this.outer=null,this.holes=null},t.JS.AddOuterPolyNodeToExPolygons=function(f,m){var _=new t.ExPolygon;_.outer=f.Contour();var M=f.Childs(),R=M.length;_.holes=new Array(R);var G,Z,ce,be,Xe,lt;for(ce=0;ce<R;ce++)for(G=M[ce],_.holes[ce]=G.Contour(),be=0,Xe=G.Childs(),lt=Xe.length;be<lt;be++)Z=Xe[be],t.JS.AddOuterPolyNodeToExPolygons(Z,m);m.push(_)},t.JS.ExPolygonsToPaths=function(f){var m,_,M,R,G=new t.Paths;for(m=0,M=f.length;m<M;m++)for(G.push(f[m].outer),_=0,R=f[m].holes.length;_<R;_++)G.push(f[m].holes[_]);return G},t.JS.PolyTreeToExPolygons=function(f){var m=new t.ExPolygons,_,M,R,G;for(M=0,R=f.Childs(),G=R.length;M<G;M++)_=R[M],t.JS.AddOuterPolyNodeToExPolygons(_,m);return m}})()});var WJ=kt((jXe,VJ)=>{"use strict";var kJ={},FJ="apply",bi="concat",FD=String,Rbe=FD.prototype.toLowerCase,Si=Math,kD=Si.max,$l=Si.PI,IJ=Si.abs,Ibe="split",dM="array",Nbe=Object.prototype.toString,Obe={NaN:1,Infinity:1,"-Infinity":1},pM=parseFloat,NJ=FD.prototype.toUpperCase,gM="hasOwnProperty",Lbe=/,?([achlmqrstvxz]),?/gi,Dbe=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,kbe=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig;function Fbe(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function UJ(t,e,n){function r(){var i=Array.prototype.slice.call(arguments,0),o=i.join("\u2400"),s=r.cache=r.cache||{},a=r.count=r.count||[];return s[gM](o)?(Fbe(a,o),n?n(s[o]):s[o]):(a.length>=1e3&&delete s[a.shift()],a.push(o),s[o]=t[FJ](e,i),n?n(s[o]):s[o])}return r}function Ef(t){var e=zJ(t);return e.toString=function(){return this.join(",").replace(/,?([achlmqrstvxz]),?/gi,"$1")},e}function mx(t){var e=mx.ps=mx.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e[gM](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]}function OJ(t){var e=mx(t);if(e.abs)return Ef(e.abs);if((!mM(t,dM)||!mM(t&&t[0],dM))&&(t=BJ(t)),!t||!t.length)return[["M",0,0]];var n=[],r=0,i=0,o=0,s=0,a=0;t[0][0]=="M"&&(r=+t[0][1],i=+t[0][2],o=r,s=i,a++,n[0]=["M",r,i]);for(var l=t.length==3&&t[0][0]=="M"&&t[1][0].toUpperCase()=="R"&&t[2][0].toUpperCase()=="Z",u,c,h=a,p=t.length;h<p;h++){if(n.push(u=[]),c=t[h],c[0]!=NJ.call(c[0]))switch(u[0]=NJ.call(c[0]),u[0]){case"A":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+(c[6]+r),u[7]=+(c[7]+i);break;case"V":u[1]=+c[1]+i;break;case"H":u[1]=+c[1]+r;break;case"R":for(var d=[r,i][bi](c.slice(1)),v=2,b=d.length;v<b;v++)d[v]=+d[v]+r,d[++v]=+d[v]+i;n.pop(),n=n[bi](LJ(d,l));break;case"M":o=+c[1]+r,s=+c[2]+i;default:for(v=1,b=c.length;v<b;v++)u[v]=+c[v]+(v%2?r:i)}else if(c[0]=="R")d=[r,i][bi](c.slice(1)),n.pop(),n=n[bi](LJ(d,l)),u=["R"][bi](c.slice(-2));else for(var S=0,y=c.length;S<y;S++)u[S]=c[S];switch(u[0]){case"Z":r=o,i=s;break;case"H":r=u[1];break;case"V":i=u[1];break;case"M":o=u[u.length-2],s=u[u.length-1];default:r=u[u.length-2],i=u[u.length-1]}}return n.toString=Ube,e.abs=Ef(n),n}function Ube(){return this.join(",").replace(Lbe,"$1")}function LJ(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4==r?o[3]={x:+t[0],y:+t[1]}:i-2==r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4==r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}function mM(t,e){return e=Rbe.call(e),e=="finite"?!Obe[gM](+t):e=="array"?t instanceof Array:e=="null"&&t===null||e==typeof t&&t!==null||e=="object"&&t===Object(t)||e=="array"&&Array.isArray&&Array.isArray(t)||Nbe.call(t).slice(8,-1).toLowerCase()==e}function BJ(t){if(!t)return null;var e=mx(t);if(e.arr)return Ef(e.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return mM(t,dM)&&mM(t[0],dM)&&(r=Ef(t)),r.length||FD(t).replace(Dbe,function(i,o,s){var a=[],l=o.toLowerCase();if(s.replace(kbe,function(u,c){c&&a.push(+c)}),l=="m"&&a.length>2&&(r.push([o][bi](a.splice(0,2))),l="l",o=o=="m"?"l":"L"),l=="r")r.push([o][bi](a));else for(;a.length>=n[l]&&(r.push([o][bi](a.splice(0,n[l]))),!!n[l]););}),r.toString=BJ,e.arr=Ef(r),r}function zJ(t){if(typeof t=="function"||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[gM](n)&&(e[n]=zJ(t[n]));return e}function dx(t,e,n,r){return[t,e,n,r,n,r]}function DJ(t,e,n,r,i,o){var s=.3333333333333333,a=2/3;return[s*t+a*n,s*e+a*r,s*i+a*n,s*o+a*r,i,o]}function HJ(t,e,n,r,i,o,s,a,l,u){if(n===0||r===0)return dx(t,e,a,l);var c=$l*120/180,h=$l/180*(+i||0),p=[],d,v=UJ(function(It,Nt,mt){var K=It*Si.cos(mt)-Nt*Si.sin(mt),ye=It*Si.sin(mt)+Nt*Si.cos(mt);return{x:K,y:ye}});if(u)U=u[0],L=u[1],D=u[2],k=u[3];else{d=v(t,e,-h),t=d.x,e=d.y,d=v(a,l,-h),a=d.x,l=d.y;var b=Si.cos($l/180*i),S=Si.sin($l/180*i),y=(t-a)/2,T=(e-l)/2,E=y*y/(n*n)+T*T/(r*r);E>1&&(E=Si.sqrt(E),n=E*n,r=E*r);var A=n*n,N=r*r,x=(o==s?-1:1)*Si.sqrt(IJ((A*N-A*T*T-N*y*y)/(A*T*T+N*y*y))),D=x*n*T/r+(t+a)/2,k=x*-r*y/n+(e+l)/2,U=Si.asin(((e-k)/r).toFixed(9)),L=Si.asin(((l-k)/r).toFixed(9));U=t<D?$l-U:U,L=a<D?$l-L:L,U<0&&(U=$l*2+U),L<0&&(L=$l*2+L),s&&U>L&&(U=U-$l*2),!s&&L>U&&(L=L-$l*2)}var j=L-U;if(IJ(j)>c){var ie=L,se=a,fe=l;L=U+c*(s&&L>U?1:-1),a=D+n*Si.cos(L),l=k+r*Si.sin(L),p=HJ(a,l,n,r,i,0,s,se,fe,[L,ie,D,k])}j=L-U;var _e=Si.cos(U),J=Si.sin(U),te=Si.cos(L),ne=Si.sin(L),xe=Si.tan(j/4),Ce=4/3*n*xe,Le=4/3*r*xe,rt=[t,e],ot=[t+Ce*J,e-Le*_e],Ae=[a+Ce*ne,l-Le*te],ze=[a,l];if(ot[0]=2*rt[0]-ot[0],ot[1]=2*rt[1]-ot[1],u)return[ot,Ae,ze][bi](p);p=[ot,Ae,ze][bi](p).join()[Ibe](",");for(var je=[],it=0,pt=p.length;it<pt;it++)je[it]=it%2?v(p[it-1],p[it],h).y:v(p[it],p[it+1],h).x;return je}kJ.path2curve=UJ(function(t,e){var n=!e&&mx(t);if(!e&&n.curve)return Ef(n.curve);for(var r=OJ(t),i=e&&OJ(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=function(A,N,x){var D,k,U={T:1,Q:1};if(!A)return["C",N.x,N.y,N.x,N.y,N.x,N.y];switch(!(A[0]in U)&&(N.qx=N.qy=null),A[0]){case"M":N.X=A[1],N.Y=A[2];break;case"A":A=["C"][bi](HJ[FJ](0,[N.x,N.y][bi](A.slice(1))));break;case"S":x=="C"||x=="S"?(D=N.x*2-N.bx,k=N.y*2-N.by):(D=N.x,k=N.y),A=["C",D,k][bi](A.slice(1));break;case"T":x=="Q"||x=="T"?(N.qx=N.x*2-N.qx,N.qy=N.y*2-N.qy):(N.qx=N.x,N.qy=N.y),A=["C"][bi](DJ(N.x,N.y,N.qx,N.qy,A[1],A[2]));break;case"Q":N.qx=A[1],N.qy=A[2],A=["C"][bi](DJ(N.x,N.y,A[1],A[2],A[3],A[4]));break;case"L":A=["C"][bi](dx(N.x,N.y,A[1],A[2]));break;case"H":A=["C"][bi](dx(N.x,N.y,A[1],N.y));break;case"V":A=["C"][bi](dx(N.x,N.y,N.x,A[1]));break;case"Z":A=["C"][bi](dx(N.x,N.y,N.X,N.Y));break}return A},l=function(A,N){if(A[N].length>7){A[N].shift();for(var x=A[N];x.length;)c[N]="A",i&&(h[N]="A"),A.splice(N++,0,["C"][bi](x.splice(0,6)));A.splice(N,1),b=kD(r.length,i&&i.length||0)}},u=function(A,N,x,D,k){A&&N&&A[k][0]=="M"&&N[k][0]!="M"&&(N.splice(k,0,["M",D.x,D.y]),x.bx=0,x.by=0,x.x=A[k][1],x.y=A[k][2],b=kD(r.length,i&&i.length||0))},c=[],h=[],p="",d="",v=0,b=kD(r.length,i&&i.length||0);v<b;v++){r[v]&&(p=r[v][0]),p!="C"&&(c[v]=p,v&&(d=c[v-1])),r[v]=a(r[v],o,d),c[v]!="A"&&p=="C"&&(c[v]="C"),l(r,v),i&&(i[v]&&(p=i[v][0]),p!="C"&&(h[v]=p,v&&(d=h[v-1])),i[v]=a(i[v],s,d),h[v]!="A"&&p=="C"&&(h[v]="C"),l(i,v)),u(r,i,o,s,v),u(i,r,s,o,v);var S=r[v],y=i&&i[v],T=S.length,E=i&&y.length;o.x=S[T-2],o.y=S[T-1],o.bx=pM(S[T-4])||o.x,o.by=pM(S[T-3])||o.y,s.bx=i&&(pM(y[E-4])||s.x),s.by=i&&(pM(y[E-3])||s.y),s.x=i&&y[E-2],s.y=i&&y[E-1]}return i||(n.curve=Ef(r)),i?[r,i]:r},null,Ef);VJ.exports=kJ});var GJ=kt((UD,BD)=>{(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof UD<"u"?e():(e(),t.FileSaver={})})(UD,function(){"use strict";function t(a,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function e(a,l,u){var c=new XMLHttpRequest;c.open("GET",a),c.responseType="blob",c.onload=function(){s(c.response,l,u)},c.onerror=function(){console.error("could not download file")},c.send()}function n(a){var l=new XMLHttpRequest;l.open("HEAD",a,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function r(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(l)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(a,l,u){var c=i.URL||i.webkitURL,h=document.createElement("a");l=l||a.name||"download",h.download=l,h.rel="noopener",typeof a=="string"?(h.href=a,h.origin===location.origin?r(h):n(h.href)?e(a,l,u):r(h,h.target="_blank")):(h.href=c.createObjectURL(a),setTimeout(function(){c.revokeObjectURL(h.href)},4e4),setTimeout(function(){r(h)},0))}:"msSaveOrOpenBlob"in navigator?function(a,l,u){if(l=l||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(t(a,u),l);else if(n(a))e(a,l,u);else{var c=document.createElement("a");c.href=a,c.target="_blank",setTimeout(function(){r(c)})}}:function(a,l,u,c){if(c=c||open("","_blank"),c&&(c.document.title=c.document.body.innerText="downloading..."),typeof a=="string")return e(a,l,u);var h=a.type==="application/octet-stream",p=/constructor/i.test(i.HTMLElement)||i.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||h&&p||o)&&typeof FileReader<"u"){var v=new FileReader;v.onloadend=function(){var y=v.result;y=d?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=y:location=y,c=null},v.readAsDataURL(a)}else{var b=i.URL||i.webkitURL,S=b.createObjectURL(a);c?c.location=S:location.href=S,c=null,setTimeout(function(){b.revokeObjectURL(S)},4e4)}});i.saveAs=s.saveAs=s,typeof BD<"u"&&(BD.exports=s)})});var ck=kt((YXe,TQ)=>{var awe=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,lwe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];TQ.exports=function(e){var n=e,r=e.indexOf("["),i=e.indexOf("]");r!=-1&&i!=-1&&(e=e.substring(0,r)+e.substring(r,i).replace(/:/g,";")+e.substring(i,e.length));for(var o=awe.exec(e||""),s={},a=14;a--;)s[lwe[a]]=o[a]||"";return r!=-1&&i!=-1&&(s.source=n,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=uwe(s,s.path),s.queryKey=cwe(s,s.query),s};function uwe(t,e){var n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&r.splice(0,1),e.substr(e.length-1,1)=="/"&&r.splice(r.length-1,1),r}function cwe(t,e){var n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}});var MQ=kt((qXe,CQ)=>{var wx=1e3,Ex=wx*60,Tx=Ex*60,Cx=Tx*24,fwe=Cx*365.25;CQ.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return hwe(t);if(n==="number"&&isNaN(t)===!1)return e.long?dwe(t):pwe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function hwe(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*fwe;case"days":case"day":case"d":return n*Cx;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Tx;case"minutes":case"minute":case"mins":case"min":case"m":return n*Ex;case"seconds":case"second":case"secs":case"sec":case"s":return n*wx;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function pwe(t){return t>=Cx?Math.round(t/Cx)+"d":t>=Tx?Math.round(t/Tx)+"h":t>=Ex?Math.round(t/Ex)+"m":t>=wx?Math.round(t/wx)+"s":t+"ms"}function dwe(t){return PM(t,Cx,"day")||PM(t,Tx,"hour")||PM(t,Ex,"minute")||PM(t,wx,"second")||t+" ms"}function PM(t,e,n){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}});var PQ=kt(($n,AQ)=>{$n=AQ.exports=fk.debug=fk.default=fk;$n.coerce=_we;$n.disable=ywe;$n.enable=vwe;$n.enabled=xwe;$n.humanize=MQ();$n.instances=[];$n.names=[];$n.skips=[];$n.formatters={};function mwe(t){var e=0,n;for(n in t)e=(e<<5)-e+t.charCodeAt(n),e|=0;return $n.colors[Math.abs(e)%$n.colors.length]}function fk(t){var e;function n(){if(n.enabled){var r=n,i=+new Date,o=i-(e||i);r.diff=o,r.prev=e,r.curr=i,e=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=$n.coerce(s[0]),typeof s[0]!="string"&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(c,h){if(c==="%%")return c;l++;var p=$n.formatters[h];if(typeof p=="function"){var d=s[l];c=p.call(r,d),s.splice(l,1),l--}return c}),$n.formatArgs.call(r,s);var u=n.log||$n.log||console.log.bind(console);u.apply(r,s)}}return n.namespace=t,n.enabled=$n.enabled(t),n.useColors=$n.useColors(),n.color=mwe(t),n.destroy=gwe,typeof $n.init=="function"&&$n.init(n),$n.instances.push(n),n}function gwe(){var t=$n.instances.indexOf(this);return t!==-1?($n.instances.splice(t,1),!0):!1}function vwe(t){$n.save(t),$n.names=[],$n.skips=[];var e,n=(typeof t=="string"?t:"").split(/[\s,]+/),r=n.length;for(e=0;e<r;e++)n[e]&&(t=n[e].replace(/\*/g,".*?"),t[0]==="-"?$n.skips.push(new RegExp("^"+t.substr(1)+"$")):$n.names.push(new RegExp("^"+t+"$")));for(e=0;e<$n.instances.length;e++){var i=$n.instances[e];i.enabled=$n.enabled(i.namespace)}}function ywe(){$n.enable("")}function xwe(t){if(t[t.length-1]==="*")return!0;var e,n;for(e=0,n=$n.skips.length;e<n;e++)if($n.skips[e].test(t))return!1;for(e=0,n=$n.names.length;e<n;e++)if($n.names[e].test(t))return!0;return!1}function _we(t){return t instanceof Error?t.stack||t.message:t}});var Mx=kt((Xo,IQ)=>{Xo=IQ.exports=PQ();Xo.log=wwe;Xo.formatArgs=bwe;Xo.save=Ewe;Xo.load=RQ;Xo.useColors=Swe;Xo.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:Twe();Xo.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Swe(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}Xo.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};function bwe(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+Xo.humanize(this.diff),!!e){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(o){o!=="%%"&&(r++,o==="%c"&&(i=r))}),t.splice(i,0,n)}}function wwe(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function Ewe(t){try{t==null?Xo.storage.removeItem("debug"):Xo.storage.debug=t}catch{}}function RQ(){var t;try{t=Xo.storage.debug}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}Xo.enable(RQ());function Twe(){try{return window.localStorage}catch{}}});var LQ=kt((ZXe,OQ)=>{var Cwe=ck(),NQ=Mx()("socket.io-client:url");OQ.exports=Mwe;function Mwe(t,e){var n=t;e=e||typeof location<"u"&&location,t==null&&(t=e.protocol+"//"+e.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=e.protocol+t:t=e.host+t),/^(https?|wss?):\/\//.test(t)||(NQ("protocol-less url %s",t),typeof e<"u"?t=e.protocol+"//"+t:t="https://"+t),NQ("parse %s",t),n=Cwe(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var r=n.host.indexOf(":")!==-1,i=r?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port,n.href=n.protocol+"://"+i+(e&&e.port===n.port?"":":"+n.port),n}});var kQ=kt((KXe,DQ)=>{var Ax=1e3,Px=Ax*60,Rx=Px*60,Ix=Rx*24,Awe=Ix*365.25;DQ.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return Pwe(t);if(n==="number"&&isNaN(t)===!1)return e.long?Iwe(t):Rwe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Pwe(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Awe;case"days":case"day":case"d":return n*Ix;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Rx;case"minutes":case"minute":case"mins":case"min":case"m":return n*Px;case"seconds":case"second":case"secs":case"sec":case"s":return n*Ax;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Rwe(t){return t>=Ix?Math.round(t/Ix)+"d":t>=Rx?Math.round(t/Rx)+"h":t>=Px?Math.round(t/Px)+"m":t>=Ax?Math.round(t/Ax)+"s":t+"ms"}function Iwe(t){return RM(t,Ix,"day")||RM(t,Rx,"hour")||RM(t,Px,"minute")||RM(t,Ax,"second")||t+" ms"}function RM(t,e,n){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}});var UQ=kt((Xn,FQ)=>{Xn=FQ.exports=hk.debug=hk.default=hk;Xn.coerce=Fwe;Xn.disable=Dwe;Xn.enable=Lwe;Xn.enabled=kwe;Xn.humanize=kQ();Xn.instances=[];Xn.names=[];Xn.skips=[];Xn.formatters={};function Nwe(t){var e=0,n;for(n in t)e=(e<<5)-e+t.charCodeAt(n),e|=0;return Xn.colors[Math.abs(e)%Xn.colors.length]}function hk(t){var e;function n(){if(n.enabled){var r=n,i=+new Date,o=i-(e||i);r.diff=o,r.prev=e,r.curr=i,e=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=Xn.coerce(s[0]),typeof s[0]!="string"&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(c,h){if(c==="%%")return c;l++;var p=Xn.formatters[h];if(typeof p=="function"){var d=s[l];c=p.call(r,d),s.splice(l,1),l--}return c}),Xn.formatArgs.call(r,s);var u=n.log||Xn.log||console.log.bind(console);u.apply(r,s)}}return n.namespace=t,n.enabled=Xn.enabled(t),n.useColors=Xn.useColors(),n.color=Nwe(t),n.destroy=Owe,typeof Xn.init=="function"&&Xn.init(n),Xn.instances.push(n),n}function Owe(){var t=Xn.instances.indexOf(this);return t!==-1?(Xn.instances.splice(t,1),!0):!1}function Lwe(t){Xn.save(t),Xn.names=[],Xn.skips=[];var e,n=(typeof t=="string"?t:"").split(/[\s,]+/),r=n.length;for(e=0;e<r;e++)n[e]&&(t=n[e].replace(/\*/g,".*?"),t[0]==="-"?Xn.skips.push(new RegExp("^"+t.substr(1)+"$")):Xn.names.push(new RegExp("^"+t+"$")));for(e=0;e<Xn.instances.length;e++){var i=Xn.instances[e];i.enabled=Xn.enabled(i.namespace)}}function Dwe(){Xn.enable("")}function kwe(t){if(t[t.length-1]==="*")return!0;var e,n;for(e=0,n=Xn.skips.length;e<n;e++)if(Xn.skips[e].test(t))return!1;for(e=0,n=Xn.names.length;e<n;e++)if(Xn.names[e].test(t))return!0;return!1}function Fwe(t){return t instanceof Error?t.stack||t.message:t}});var HQ=kt((jo,zQ)=>{jo=zQ.exports=UQ();jo.log=zwe;jo.formatArgs=Bwe;jo.save=Hwe;jo.load=BQ;jo.useColors=Uwe;jo.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:Vwe();jo.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Uwe(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}jo.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};function Bwe(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+jo.humanize(this.diff),!!e){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(o){o!=="%%"&&(r++,o==="%c"&&(i=r))}),t.splice(i,0,n)}}function zwe(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function Hwe(t){try{t==null?jo.storage.removeItem("debug"):jo.storage.debug=t}catch{}}function BQ(){var t;try{t=jo.storage.debug}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}jo.enable(BQ());function Vwe(){try{return window.localStorage}catch{}}});var xp=kt((JXe,pk)=>{typeof pk<"u"&&(pk.exports=Ks);function Ks(t){if(t)return Wwe(t)}function Wwe(t){for(var e in Ks.prototype)t[e]=Ks.prototype[e];return t}Ks.prototype.on=Ks.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Ks.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Ks.prototype.off=Ks.prototype.removeListener=Ks.prototype.removeAllListeners=Ks.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Ks.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};Ks.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Ks.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var IM=kt((QXe,VQ)=>{var Gwe={}.toString;VQ.exports=Array.isArray||function(t){return Gwe.call(t)=="[object Array]"}});var dk=kt((e9e,WQ)=>{WQ.exports=Ywe;var $we=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",Xwe=typeof ArrayBuffer=="function",jwe=function(t){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer};function Ywe(t){return $we&&Buffer.isBuffer(t)||Xwe&&(t instanceof ArrayBuffer||jwe(t))}});var XQ=kt(NM=>{var vk=IM(),GQ=dk(),$Q=Object.prototype.toString,qwe=typeof Blob=="function"||typeof Blob<"u"&&$Q.call(Blob)==="[object BlobConstructor]",Zwe=typeof File=="function"||typeof File<"u"&&$Q.call(File)==="[object FileConstructor]";NM.deconstructPacket=function(t){var e=[],n=t.data,r=t;return r.data=mk(n,e),r.attachments=e.length,{packet:r,buffers:e}};function mk(t,e){if(!t)return t;if(GQ(t)){var n={_placeholder:!0,num:e.length};return e.push(t),n}else if(vk(t)){for(var r=new Array(t.length),i=0;i<t.length;i++)r[i]=mk(t[i],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){var r={};for(var o in t)r[o]=mk(t[o],e);return r}return t}NM.reconstructPacket=function(t,e){return t.data=gk(t.data,e),t.attachments=void 0,t};function gk(t,e){if(!t)return t;if(t&&t._placeholder===!0){var n=typeof t.num=="number"&&t.num>=0&&t.num<e.length;if(n)return e[t.num];throw new Error("illegal attachments")}else if(vk(t))for(var r=0;r<t.length;r++)t[r]=gk(t[r],e);else if(typeof t=="object")for(var i in t)t[i]=gk(t[i],e);return t}NM.removeBlobs=function(t,e){function n(o,s,a){if(!o)return o;if(qwe&&o instanceof Blob||Zwe&&o instanceof File){r++;var l=new FileReader;l.onload=function(){a?a[s]=this.result:i=this.result,--r||e(i)},l.readAsArrayBuffer(o)}else if(vk(o))for(var u=0;u<o.length;u++)n(o[u],u,o);else if(typeof o=="object"&&!GQ(o))for(var c in o)n(o[c],c,o)}var r=0,i=t;n(i),r||e(i)}});var LM=kt(Gr=>{var xk=HQ()("socket.io-parser"),Kwe=xp(),yk=XQ(),jQ=IM(),Jwe=dk();Gr.protocol=4;Gr.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"];Gr.CONNECT=0;Gr.DISCONNECT=1;Gr.EVENT=2;Gr.ACK=3;Gr.ERROR=4;Gr.BINARY_EVENT=5;Gr.BINARY_ACK=6;Gr.Encoder=YQ;Gr.Decoder=OM;function YQ(){}var Qwe=Gr.ERROR+'"encode error"';YQ.prototype.encode=function(t,e){if(xk("encoding packet %j",t),Gr.BINARY_EVENT===t.type||Gr.BINARY_ACK===t.type)t1e(t,e);else{var n=qQ(t);e([n])}};function qQ(t){var e=""+t.type;if((Gr.BINARY_EVENT===t.type||Gr.BINARY_ACK===t.type)&&(e+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(e+=t.nsp+","),t.id!=null&&(e+=t.id),t.data!=null){var n=e1e(t.data);if(n!==!1)e+=n;else return Qwe}return xk("encoded %j as %s",t,e),e}function e1e(t){try{return JSON.stringify(t)}catch{return!1}}function t1e(t,e){function n(r){var i=yk.deconstructPacket(r),o=qQ(i.packet),s=i.buffers;s.unshift(o),e(s)}yk.removeBlobs(t,n)}function OM(){this.reconstructor=null}Kwe(OM.prototype);OM.prototype.add=function(t){var e;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=r1e(t),Gr.BINARY_EVENT===e.type||Gr.BINARY_ACK===e.type?(this.reconstructor=new _k(e),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",e)):this.emit("decoded",e)}else if(Jwe(t)||t.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,this.emit("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)};function n1e(t,e){switch(t){case 0:return typeof e=="object";case 1:return e===void 0;case 4:return typeof e=="string"||typeof e=="object";case 2:case 5:return jQ(e)&&(typeof e[0]=="string"||typeof e[0]=="number");case 3:case 6:return jQ(e)}}function r1e(t){var e=0,n={type:Number(t.charAt(0))};if(Gr.types[n.type]==null)return o1e("unknown packet type "+n.type);if(Gr.BINARY_EVENT===n.type||Gr.BINARY_ACK===n.type){for(var r=e+1;t.charAt(++e)!=="-"&&e!=t.length;);var i=t.substring(r,e);if(i!=Number(i)||t.charAt(e)!=="-")throw new Error("Illegal attachments");n.attachments=Number(i)}if(t.charAt(e+1)==="/"){for(var r=e+1;++e;){var o=t.charAt(e);if(o===","||e===t.length)break}n.nsp=t.substring(r,e)}else n.nsp="/";var s=t.charAt(e+1);if(s!==""&&Number(s)==s){for(var r=e+1;++e;){var o=t.charAt(e);if(o==null||Number(o)!=o){--e;break}if(e===t.length)break}n.id=Number(t.substring(r,e+1))}if(t.charAt(++e)){var a=i1e(t.substr(e));if(n1e(n.type,a))n.data=a;else throw new Error("invalid payload")}return xk("decoded %s as %j",t,n),n}function i1e(t){try{return JSON.parse(t)}catch{return!1}}OM.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function _k(t){this.reconPack=t,this.buffers=[]}_k.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=yk.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null};_k.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function o1e(t){return{type:Gr.ERROR,data:"parser error: "+t}}});var ZQ=kt((r9e,Sk)=>{try{Sk.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{Sk.exports=!1}});var DM=kt((i9e,KQ)=>{KQ.exports=function(){return typeof self<"u"?self:typeof window<"u"?window:Function("return this")()}()});var kM=kt((o9e,JQ)=>{var s1e=ZQ(),a1e=DM();JQ.exports=function(t){var e=t.xdomain,n=t.xscheme,r=t.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!e||s1e))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!n&&r)return new XDomainRequest}catch{}if(!e)try{return new a1e[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}});var eee=kt((s9e,QQ)=>{QQ.exports=Object.keys||function(e){var n=[],r=Object.prototype.hasOwnProperty;for(var i in e)r.call(e,i)&&n.push(i);return n}});var bk=kt((a9e,nee)=>{var l1e=IM(),tee=Object.prototype.toString,u1e=typeof Blob=="function"||typeof Blob<"u"&&tee.call(Blob)==="[object BlobConstructor]",c1e=typeof File=="function"||typeof File<"u"&&tee.call(File)==="[object FileConstructor]";nee.exports=FM;function FM(t){if(!t||typeof t!="object")return!1;if(l1e(t)){for(var e=0,n=t.length;e<n;e++)if(FM(t[e]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(t)||typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||u1e&&t instanceof Blob||c1e&&t instanceof File)return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return FM(t.toJSON(),!0);for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&FM(t[r]))return!0;return!1}});var iee=kt((l9e,ree)=>{ree.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||r===0)return new ArrayBuffer(0);for(var i=new Uint8Array(t),o=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)o[a]=i[s];return o.buffer}});var see=kt((u9e,oee)=>{oee.exports=f1e;function f1e(t,e,n){var r=!1;return n=n||h1e,i.count=t,t===0?e():i;function i(o,s){if(i.count<=0)throw new Error("after called too many times");--i.count,o?(r=!0,e(o),e=n):i.count===0&&!r&&e(null,s)}}function h1e(){}});var cee=kt((c9e,uee)=>{var Pf=String.fromCharCode;function aee(t){for(var e=[],n=0,r=t.length,i,o;n<r;)i=t.charCodeAt(n++),i>=55296&&i<=56319&&n<r?(o=t.charCodeAt(n++),(o&64512)==56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),n--)):e.push(i);return e}function p1e(t){for(var e=t.length,n=-1,r,i="";++n<e;)r=t[n],r>65535&&(r-=65536,i+=Pf(r>>>10&1023|55296),r=56320|r&1023),i+=Pf(r);return i}function lee(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function wk(t,e){return Pf(t>>e&63|128)}function d1e(t,e){if((t&4294967168)==0)return Pf(t);var n="";return(t&4294965248)==0?n=Pf(t>>6&31|192):(t&4294901760)==0?(lee(t,e)||(t=65533),n=Pf(t>>12&15|224),n+=wk(t,6)):(t&4292870144)==0&&(n=Pf(t>>18&7|240),n+=wk(t,12),n+=wk(t,6)),n+=Pf(t&63|128),n}function m1e(t,e){e=e||{};for(var n=e.strict!==!1,r=aee(t),i=r.length,o=-1,s,a="";++o<i;)s=r[o],a+=d1e(s,n);return a}function Eg(){if(Rf>=BM)throw Error("Invalid byte index");var t=UM[Rf]&255;if(Rf++,(t&192)==128)return t&63;throw Error("Invalid continuation byte")}function g1e(t){var e,n,r,i,o;if(Rf>BM)throw Error("Invalid byte index");if(Rf==BM)return!1;if(e=UM[Rf]&255,Rf++,(e&128)==0)return e;if((e&224)==192){if(n=Eg(),o=(e&31)<<6|n,o>=128)return o;throw Error("Invalid continuation byte")}if((e&240)==224){if(n=Eg(),r=Eg(),o=(e&15)<<12|n<<6|r,o>=2048)return lee(o,t)?o:65533;throw Error("Invalid continuation byte")}if((e&248)==240&&(n=Eg(),r=Eg(),i=Eg(),o=(e&7)<<18|n<<12|r<<6|i,o>=65536&&o<=1114111))return o;throw Error("Invalid UTF-8 detected")}var UM,BM,Rf;function v1e(t,e){e=e||{};var n=e.strict!==!1;UM=aee(t),BM=UM.length,Rf=0;for(var r=[],i;(i=g1e(n))!==!1;)r.push(i);return p1e(r)}uee.exports={version:"2.1.2",encode:m1e,decode:v1e}});var fee=kt(Ek=>{(function(t){"use strict";Ek.encode=function(e){var n=new Uint8Array(e),r,i=n.length,o="";for(r=0;r<i;r+=3)o+=t[n[r]>>2],o+=t[(n[r]&3)<<4|n[r+1]>>4],o+=t[(n[r+1]&15)<<2|n[r+2]>>6],o+=t[n[r+2]&63];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},Ek.decode=function(e){var n=e.length*.75,r=e.length,i,o=0,s,a,l,u;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var c=new ArrayBuffer(n),h=new Uint8Array(c);for(i=0;i<r;i+=4)s=t.indexOf(e[i]),a=t.indexOf(e[i+1]),l=t.indexOf(e[i+2]),u=t.indexOf(e[i+3]),h[o++]=s<<2|a>>4,h[o++]=(a&15)<<4|l>>2,h[o++]=(l&3)<<6|u&63;return c}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")});var vee=kt((h9e,gee)=>{var Tg=typeof Tg<"u"?Tg:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,hee=function(){try{var t=new Blob(["hi"]);return t.size===2}catch{return!1}}(),y1e=hee&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return t.size===2}catch{return!1}}(),x1e=Tg&&Tg.prototype.append&&Tg.prototype.getBlob;function pee(t){return t.map(function(e){if(e.buffer instanceof ArrayBuffer){var n=e.buffer;if(e.byteLength!==n.byteLength){var r=new Uint8Array(e.byteLength);r.set(new Uint8Array(n,e.byteOffset,e.byteLength)),n=r.buffer}return n}return e})}function dee(t,e){e=e||{};var n=new Tg;return pee(t).forEach(function(r){n.append(r)}),e.type?n.getBlob(e.type):n.getBlob()}function mee(t,e){return new Blob(pee(t),e||{})}typeof Blob<"u"&&(dee.prototype=Blob.prototype,mee.prototype=Blob.prototype);gee.exports=function(){return hee?y1e?Blob:mee:x1e?dee:void 0}()});var _p=kt(_r=>{var _1e=eee(),S1e=bk(),zM=iee(),b1e=see(),yee=cee(),Tk;typeof ArrayBuffer<"u"&&(Tk=fee());var w1e=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),E1e=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),xee=w1e||E1e;_r.protocol=3;var HM=_r.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},Nx=_1e(HM),ol={type:"error",data:"parser error"},Js=vee();_r.encodePacket=function(t,e,n,r){typeof e=="function"&&(r=e,e=!1),typeof n=="function"&&(r=n,n=null);var i=t.data===void 0?void 0:t.data.buffer||t.data;if(typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer)return C1e(t,e,r);if(typeof Js<"u"&&i instanceof Js)return A1e(t,e,r);if(i&&i.base64)return T1e(t,r);var o=HM[t.type];return t.data!==void 0&&(o+=n?yee.encode(String(t.data),{strict:!1}):String(t.data)),r(""+o)};function T1e(t,e){var n="b"+_r.packets[t.type]+t.data.data;return e(n)}function C1e(t,e,n){if(!e)return _r.encodeBase64Packet(t,n);var r=t.data,i=new Uint8Array(r),o=new Uint8Array(1+r.byteLength);o[0]=HM[t.type];for(var s=0;s<i.length;s++)o[s+1]=i[s];return n(o.buffer)}function M1e(t,e,n){if(!e)return _r.encodeBase64Packet(t,n);var r=new FileReader;return r.onload=function(){_r.encodePacket({type:t.type,data:r.result},e,!0,n)},r.readAsArrayBuffer(t.data)}function A1e(t,e,n){if(!e)return _r.encodeBase64Packet(t,n);if(xee)return M1e(t,e,n);var r=new Uint8Array(1);r[0]=HM[t.type];var i=new Js([r.buffer,t.data]);return n(i)}_r.encodeBase64Packet=function(t,e){var n="b"+_r.packets[t.type];if(typeof Js<"u"&&t.data instanceof Js){var r=new FileReader;return r.onload=function(){var l=r.result.split(",")[1];e(n+l)},r.readAsDataURL(t.data)}var i;try{i=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch{for(var o=new Uint8Array(t.data),s=new Array(o.length),a=0;a<o.length;a++)s[a]=o[a];i=String.fromCharCode.apply(null,s)}return n+=btoa(i),e(n)};_r.decodePacket=function(t,e,n){if(t===void 0)return ol;if(typeof t=="string"){if(t.charAt(0)==="b")return _r.decodeBase64Packet(t.substr(1),e);if(n&&(t=P1e(t),t===!1))return ol;var i=t.charAt(0);return Number(i)!=i||!Nx[i]?ol:t.length>1?{type:Nx[i],data:t.substring(1)}:{type:Nx[i]}}var r=new Uint8Array(t),i=r[0],o=zM(t,1);return Js&&e==="blob"&&(o=new Js([o])),{type:Nx[i],data:o}};function P1e(t){try{t=yee.decode(t,{strict:!1})}catch{return!1}return t}_r.decodeBase64Packet=function(t,e){var n=Nx[t.charAt(0)];if(!Tk)return{type:n,data:{base64:!0,data:t.substr(1)}};var r=Tk.decode(t.substr(1));return e==="blob"&&Js&&(r=new Js([r])),{type:n,data:r}};_r.encodePayload=function(t,e,n){typeof e=="function"&&(n=e,e=null);var r=S1e(t);if(e&&r)return Js&&!xee?_r.encodePayloadAsBlob(t,n):_r.encodePayloadAsArrayBuffer(t,n);if(!t.length)return n("0:");function i(s){return s.length+":"+s}function o(s,a){_r.encodePacket(s,r?e:!1,!1,function(l){a(null,i(l))})}Ck(t,o,function(s,a){return n(a.join(""))})};function Ck(t,e,n){for(var r=new Array(t.length),i=b1e(t.length,n),o=function(a,l,u){e(l,function(c,h){r[a]=h,u(c,r)})},s=0;s<t.length;s++)o(s,t[s],i)}_r.decodePayload=function(t,e,n){if(typeof t!="string")return _r.decodePayloadAsBinary(t,e,n);typeof e=="function"&&(n=e,e=null);var r;if(t==="")return n(ol,0,1);for(var i="",o,s,a=0,l=t.length;a<l;a++){var u=t.charAt(a);if(u!==":"){i+=u;continue}if(i===""||i!=(o=Number(i))||(s=t.substr(a+1,o),i!=s.length))return n(ol,0,1);if(s.length){if(r=_r.decodePacket(s,e,!1),ol.type===r.type&&ol.data===r.data)return n(ol,0,1);var c=n(r,a+o,l);if(c===!1)return}a+=o,i=""}if(i!=="")return n(ol,0,1)};_r.encodePayloadAsArrayBuffer=function(t,e){if(!t.length)return e(new ArrayBuffer(0));function n(r,i){_r.encodePacket(r,!0,!0,function(o){return i(null,o)})}Ck(t,n,function(r,i){var o=i.reduce(function(l,u){var c;return typeof u=="string"?c=u.length:c=u.byteLength,l+c.toString().length+c+2},0),s=new Uint8Array(o),a=0;return i.forEach(function(l){var u=typeof l=="string",c=l;if(u){for(var d=new Uint8Array(l.length),h=0;h<l.length;h++)d[h]=l.charCodeAt(h);c=d.buffer}u?s[a++]=0:s[a++]=1;for(var p=c.byteLength.toString(),h=0;h<p.length;h++)s[a++]=parseInt(p[h]);s[a++]=255;for(var d=new Uint8Array(c),h=0;h<d.length;h++)s[a++]=d[h]}),e(s.buffer)})};_r.encodePayloadAsBlob=function(t,e){function n(r,i){_r.encodePacket(r,!0,!0,function(o){var s=new Uint8Array(1);if(s[0]=1,typeof o=="string"){for(var a=new Uint8Array(o.length),l=0;l<o.length;l++)a[l]=o.charCodeAt(l);o=a.buffer,s[0]=0}for(var u=o instanceof ArrayBuffer?o.byteLength:o.size,c=u.toString(),h=new Uint8Array(c.length+1),l=0;l<c.length;l++)h[l]=parseInt(c[l]);if(h[c.length]=255,Js){var p=new Js([s.buffer,h.buffer,o]);i(null,p)}})}Ck(t,n,function(r,i){return e(new Js(i))})};_r.decodePayloadAsBinary=function(t,e,n){typeof e=="function"&&(n=e,e=null);for(var r=t,i=[];r.byteLength>0;){for(var o=new Uint8Array(r),s=o[0]===0,a="",l=1;o[l]!==255;l++){if(a.length>310)return n(ol,0,1);a+=o[l]}r=zM(r,2+a.length),a=parseInt(a);var u=zM(r,0,a);if(s)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch{var c=new Uint8Array(u);u="";for(var l=0;l<c.length;l++)u+=String.fromCharCode(c[l])}i.push(u),r=zM(r,a)}var h=i.length;i.forEach(function(p,d){n(_r.decodePacket(p,e,!0),d,h)})}});var VM=kt((d9e,_ee)=>{var R1e=_p(),I1e=xp();_ee.exports=jl;function jl(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}I1e(jl.prototype);jl.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this};jl.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this};jl.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this};jl.prototype.send=function(t){if(this.readyState==="open")this.write(t);else throw new Error("Transport not open")};jl.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")};jl.prototype.onData=function(t){var e=R1e.decodePacket(t,this.socket.binaryType);this.onPacket(e)};jl.prototype.onPacket=function(t){this.emit("packet",t)};jl.prototype.onClose=function(){this.readyState="closed",this.emit("close")}});var Ox=kt(Mk=>{Mk.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e};Mk.decode=function(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}});var Lx=kt((g9e,See)=>{See.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}});var Rk=kt((v9e,Cee)=>{"use strict";var Eee="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),WM=64,Tee={},bee=0,If=0,wee;function Ak(t){var e="";do e=Eee[t%WM]+e,t=Math.floor(t/WM);while(t>0);return e}function N1e(t){var e=0;for(If=0;If<t.length;If++)e=e*WM+Tee[t.charAt(If)];return e}function Pk(){var t=Ak(+new Date);return t!==wee?(bee=0,wee=t):t+"."+Ak(bee++)}for(;If<WM;If++)Tee[Eee[If]]=If;Pk.encode=Ak;Pk.decode=N1e;Cee.exports=Pk});var Aee=kt((y9e,Mee)=>{var Dx=1e3,kx=Dx*60,Fx=kx*60,Ux=Fx*24,O1e=Ux*365.25;Mee.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return L1e(t);if(n==="number"&&isNaN(t)===!1)return e.long?k1e(t):D1e(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function L1e(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*O1e;case"days":case"day":case"d":return n*Ux;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Fx;case"minutes":case"minute":case"mins":case"min":case"m":return n*kx;case"seconds":case"second":case"secs":case"sec":case"s":return n*Dx;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function D1e(t){return t>=Ux?Math.round(t/Ux)+"d":t>=Fx?Math.round(t/Fx)+"h":t>=kx?Math.round(t/kx)+"m":t>=Dx?Math.round(t/Dx)+"s":t+"ms"}function k1e(t){return GM(t,Ux,"day")||GM(t,Fx,"hour")||GM(t,kx,"minute")||GM(t,Dx,"second")||t+" ms"}function GM(t,e,n){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}});var Ree=kt((jn,Pee)=>{jn=Pee.exports=Ik.debug=Ik.default=Ik;jn.coerce=V1e;jn.disable=z1e;jn.enable=B1e;jn.enabled=H1e;jn.humanize=Aee();jn.instances=[];jn.names=[];jn.skips=[];jn.formatters={};function F1e(t){var e=0,n;for(n in t)e=(e<<5)-e+t.charCodeAt(n),e|=0;return jn.colors[Math.abs(e)%jn.colors.length]}function Ik(t){var e;function n(){if(n.enabled){var r=n,i=+new Date,o=i-(e||i);r.diff=o,r.prev=e,r.curr=i,e=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=jn.coerce(s[0]),typeof s[0]!="string"&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(c,h){if(c==="%%")return c;l++;var p=jn.formatters[h];if(typeof p=="function"){var d=s[l];c=p.call(r,d),s.splice(l,1),l--}return c}),jn.formatArgs.call(r,s);var u=n.log||jn.log||console.log.bind(console);u.apply(r,s)}}return n.namespace=t,n.enabled=jn.enabled(t),n.useColors=jn.useColors(),n.color=F1e(t),n.destroy=U1e,typeof jn.init=="function"&&jn.init(n),jn.instances.push(n),n}function U1e(){var t=jn.instances.indexOf(this);return t!==-1?(jn.instances.splice(t,1),!0):!1}function B1e(t){jn.save(t),jn.names=[],jn.skips=[];var e,n=(typeof t=="string"?t:"").split(/[\s,]+/),r=n.length;for(e=0;e<r;e++)n[e]&&(t=n[e].replace(/\*/g,".*?"),t[0]==="-"?jn.skips.push(new RegExp("^"+t.substr(1)+"$")):jn.names.push(new RegExp("^"+t+"$")));for(e=0;e<jn.instances.length;e++){var i=jn.instances[e];i.enabled=jn.enabled(i.namespace)}}function z1e(){jn.enable("")}function H1e(t){if(t[t.length-1]==="*")return!0;var e,n;for(e=0,n=jn.skips.length;e<n;e++)if(jn.skips[e].test(t))return!1;for(e=0,n=jn.names.length;e<n;e++)if(jn.names[e].test(t))return!0;return!1}function V1e(t){return t instanceof Error?t.stack||t.message:t}});var Bx=kt((Yo,Nee)=>{Yo=Nee.exports=Ree();Yo.log=$1e;Yo.formatArgs=G1e;Yo.save=X1e;Yo.load=Iee;Yo.useColors=W1e;Yo.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:j1e();Yo.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function W1e(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}Yo.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};function G1e(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+Yo.humanize(this.diff),!!e){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(o){o!=="%%"&&(r++,o==="%c"&&(i=r))}),t.splice(i,0,n)}}function $1e(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function X1e(t){try{t==null?Yo.storage.removeItem("debug"):Yo.storage.debug=t}catch{}}function Iee(){var t;try{t=Yo.storage.debug}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}Yo.enable(Iee());function j1e(){try{return window.localStorage}catch{}}});var Nk=kt((x9e,Dee)=>{var Oee=VM(),Y1e=Ox(),Lee=_p(),q1e=Lx(),Z1e=Rk(),sl=Bx()("engine.io-client:polling");Dee.exports=Yl;var K1e=function(){var t=kM(),e=new t({xdomain:!1});return e.responseType!=null}();function Yl(t){var e=t&&t.forceBase64;(!K1e||e)&&(this.supportsBinary=!1),Oee.call(this,t)}q1e(Yl,Oee);Yl.prototype.name="polling";Yl.prototype.doOpen=function(){this.poll()};Yl.prototype.pause=function(t){var e=this;this.readyState="pausing";function n(){sl("paused"),e.readyState="paused",t()}if(this.polling||!this.writable){var r=0;this.polling&&(sl("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){sl("pre-pause polling complete"),--r||n()})),this.writable||(sl("we are currently writing - waiting to pause"),r++,this.once("drain",function(){sl("pre-pause writing complete"),--r||n()}))}else n()};Yl.prototype.poll=function(){sl("polling"),this.polling=!0,this.doPoll(),this.emit("poll")};Yl.prototype.onData=function(t){var e=this;sl("polling got data %s",t);var n=function(r,i,o){if(e.readyState==="opening"&&r.type==="open"&&e.onOpen(),r.type==="close")return e.onClose(),!1;e.onPacket(r)};Lee.decodePayload(t,this.socket.binaryType,n),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():sl('ignoring poll - transport state "%s"',this.readyState))};Yl.prototype.doClose=function(){var t=this;function e(){sl("writing close packet"),t.write([{type:"close"}])}this.readyState==="open"?(sl("transport open - closing"),e()):(sl("transport not open - deferring close"),this.once("open",e))};Yl.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};Lee.encodePayload(t,this.supportsBinary,function(r){e.doWrite(r,n)})};Yl.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";this.timestampRequests!==!1&&(t[this.timestampParam]=Z1e()),!this.supportsBinary&&!t.sid&&(t.b64=1),t=Y1e.encode(t),this.port&&(e==="https"&&Number(this.port)!==443||e==="http"&&Number(this.port)!==80)&&(n=":"+this.port),t.length&&(t="?"+t);var r=this.hostname.indexOf(":")!==-1;return e+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+t}});var zee=kt((_9e,Lk)=>{var J1e=kM(),Bee=Nk(),Q1e=xp(),eEe=Lx(),Ok=Bx()("engine.io-client:polling-xhr"),tEe=DM();Lk.exports=Cg;Lk.exports.Request=Li;function kee(){}function Cg(t){if(Bee.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,typeof location<"u"){var e=location.protocol==="https:",n=location.port;n||(n=e?443:80),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}}eEe(Cg,Bee);Cg.prototype.supportsBinary=!0;Cg.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.withCredentials=this.withCredentials,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new Li(t)};Cg.prototype.doWrite=function(t,e){var n=typeof t!="string"&&t!==void 0,r=this.request({method:"POST",data:t,isBinary:n}),i=this;r.on("success",e),r.on("error",function(o){i.onError("xhr post error",o)}),this.sendXhr=r};Cg.prototype.doPoll=function(){Ok("xhr poll");var t=this.request(),e=this;t.on("data",function(n){e.onData(n)}),t.on("error",function(n){e.onError("xhr poll error",n)}),this.pollXhr=t};function Li(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=t.async!==!1,this.data=t.data!==void 0?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}Q1e(Li.prototype);Li.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new J1e(t),n=this;try{Ok("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(var r in this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&e.setRequestHeader(r,this.extraHeaders[r])}}catch{}if(this.method==="POST")try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{e.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in e&&(e.withCredentials=this.withCredentials),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(e.readyState===2)try{var i=e.getResponseHeader("Content-Type");(n.supportsBinary&&i==="application/octet-stream"||i==="application/octet-stream; charset=UTF-8")&&(e.responseType="arraybuffer")}catch{}e.readyState===4&&(e.status===200||e.status===1223?n.onLoad():setTimeout(function(){n.onError(typeof e.status=="number"?e.status:0)},0))},Ok("xhr data %s",this.data),e.send(this.data)}catch(i){setTimeout(function(){n.onError(i)},0);return}typeof document<"u"&&(this.index=Li.requestsCount++,Li.requests[this.index]=this)};Li.prototype.onSuccess=function(){this.emit("success"),this.cleanup()};Li.prototype.onData=function(t){this.emit("data",t),this.onSuccess()};Li.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)};Li.prototype.cleanup=function(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=kee:this.xhr.onreadystatechange=kee,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Li.requests[this.index],this.xhr=null}};Li.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch{}e==="application/octet-stream"||e==="application/octet-stream; charset=UTF-8"?t=this.xhr.response||this.xhr.responseText:t=this.xhr.responseText}catch(n){this.onError(n)}t!=null&&this.onData(t)};Li.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR};Li.prototype.abort=function(){this.cleanup()};Li.requestsCount=0;Li.requests={};typeof document<"u"&&(typeof attachEvent=="function"?attachEvent("onunload",Uee):typeof addEventListener=="function"&&(Fee="onpagehide"in tEe?"pagehide":"unload",addEventListener(Fee,Uee,!1)));var Fee;function Uee(){for(var t in Li.requests)Li.requests.hasOwnProperty(t)&&Li.requests[t].abort()}});var Wee=kt((S9e,Vee)=>{var Dk=Nk(),nEe=Lx(),Hee=DM();Vee.exports=Mg;var rEe=/\n/g,iEe=/\\n/g,$M;function oEe(){}function Mg(t){Dk.call(this,t),this.query=this.query||{},$M||($M=Hee.___eio=Hee.___eio||[]),this.index=$M.length;var e=this;$M.push(function(n){e.onData(n)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){e.script&&(e.script.onerror=oEe)},!1)}nEe(Mg,Dk);Mg.prototype.supportsBinary=!1;Mg.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Dk.prototype.doClose.call(this)};Mg.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(i){t.onError("jsonp poll error",i)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e;var r=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var i=document.createElement("iframe");document.body.appendChild(i),document.body.removeChild(i)},100)};Mg.prototype.doWrite=function(t,e){var n=this;if(!this.form){var r=document.createElement("form"),i=document.createElement("textarea"),o=this.iframeId="eio_iframe_"+this.index,s;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=o,r.method="POST",r.setAttribute("accept-charset","utf-8"),i.name="d",r.appendChild(i),document.body.appendChild(r),this.form=r,this.area=i}this.form.action=this.uri();function a(){l(),e()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(c){n.onError("jsonp polling iframe removal error",c)}try{var u='<iframe src="javascript:0" name="'+n.iframeId+'">';s=document.createElement(u)}catch{s=document.createElement("iframe"),s.name=n.iframeId,s.src="javascript:0"}s.id=n.iframeId,n.form.appendChild(s),n.iframe=s}l(),t=t.replace(iEe,`\\
`),this.area.value=t.replace(rEe,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){n.iframe.readyState==="complete"&&a()}:this.iframe.onload=a}});var Gee=kt(()=>{});var Xee=kt((E9e,$ee)=>{var kk=VM(),sEe=_p(),aEe=Ox(),lEe=Lx(),uEe=Rk(),cEe=Bx()("engine.io-client:websocket"),XM,Fk;typeof WebSocket<"u"?XM=WebSocket:typeof self<"u"&&(XM=self.WebSocket||self.MozWebSocket);if(typeof window>"u")try{Fk=Gee()}catch{}var Ag=XM||Fk;$ee.exports=Da;function Da(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=XM&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(Ag=Fk),kk.call(this,t)}lEe(Da,kk);Da.prototype.name="websocket";Da.prototype.supportsBinary=!0;Da.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={};this.isReactNative||(n.agent=this.agent,n.perMessageDeflate=this.perMessageDeflate,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new Ag(t,e):new Ag(t):new Ag(t,e,n)}catch(r){return this.emit("error",r)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}};Da.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}};Da.prototype.write=function(t){var e=this;this.writable=!1;for(var n=t.length,r=0,i=n;r<i;r++)(function(s){sEe.encodePacket(s,e.supportsBinary,function(a){if(!e.usingBrowserWebSocket){var l={};if(s.options&&(l.compress=s.options.compress),e.perMessageDeflate){var u=typeof a=="string"?Buffer.byteLength(a):a.length;u<e.perMessageDeflate.threshold&&(l.compress=!1)}}try{e.usingBrowserWebSocket?e.ws.send(a):e.ws.send(a,l)}catch{cEe("websocket closed before onclose event")}--n||o()})})(t[r]);function o(){e.emit("flush"),setTimeout(function(){e.writable=!0,e.emit("drain")},0)}};Da.prototype.onClose=function(){kk.prototype.onClose.call(this)};Da.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()};Da.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";this.port&&(e==="wss"&&Number(this.port)!==443||e==="ws"&&Number(this.port)!==80)&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=uEe()),this.supportsBinary||(t.b64=1),t=aEe.encode(t),t.length&&(t="?"+t);var r=this.hostname.indexOf(":")!==-1;return e+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+t};Da.prototype.check=function(){return!!Ag&&!("__initialize"in Ag&&this.name===Da.prototype.name)}});var Bk=kt(Uk=>{var fEe=kM(),hEe=zee(),pEe=Wee(),dEe=Xee();Uk.polling=mEe;Uk.websocket=dEe;function mEe(t){var e,n=!1,r=!1,i=t.jsonp!==!1;if(typeof location<"u"){var o=location.protocol==="https:",s=location.port;s||(s=o?443:80),n=t.hostname!==location.hostname||s!==t.port,r=t.secure!==o}if(t.xdomain=n,t.xscheme=r,e=new fEe(t),"open"in e&&!t.forceJSONP)return new hEe(t);if(!i)throw new Error("JSONP disabled");return new pEe(t)}});var zk=kt((C9e,jee)=>{var gEe=[].indexOf;jee.exports=function(t,e){if(gEe)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}});var Kee=kt((M9e,Zee)=>{var vEe=Bk(),yEe=xp(),wi=Bx()("engine.io-client:socket"),xEe=zk(),qee=_p(),Yee=ck(),_Ee=Ox();Zee.exports=qn;function qn(t,e){if(!(this instanceof qn))return new qn(t,e);e=e||{},t&&typeof t=="object"&&(e=t,t=null),t?(t=Yee(t),e.hostname=t.host,e.secure=t.protocol==="https"||t.protocol==="wss",e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=Yee(e.host).host),this.secure=e.secure!=null?e.secure:typeof location<"u"&&location.protocol==="https:",e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=e.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=e.query||{},typeof this.query=="string"&&(this.query=_Ee.decode(this.query)),this.upgrade=e.upgrade!==!1,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=e.jsonp!==!1,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.withCredentials=e.withCredentials!==!1,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=e.perMessageDeflate!==!1?e.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||void 0,this.key=e.key||void 0,this.passphrase=e.passphrase||void 0,this.cert=e.cert||void 0,this.ca=e.ca||void 0,this.ciphers=e.ciphers||void 0,this.rejectUnauthorized=e.rejectUnauthorized===void 0?!0:e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}qn.priorWebsocketSuccess=!1;yEe(qn.prototype);qn.protocol=qee.protocol;qn.Socket=qn;qn.Transport=VM();qn.transports=Bk();qn.parser=_p();qn.prototype.createTransport=function(t){wi('creating transport "%s"',t);var e=SEe(this.query);e.EIO=qee.protocol,e.transport=t;var n=this.transportOptions[t]||{};this.id&&(e.sid=this.id);var r=new vEe[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative});return r};function SEe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}qn.prototype.open=function(){var t;if(this.rememberUpgrade&&qn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){var e=this;setTimeout(function(){e.emit("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)};qn.prototype.setTransport=function(t){wi("setting transport %s",t.name);var e=this;this.transport&&(wi("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(n){e.onPacket(n)}).on("error",function(n){e.onError(n)}).on("close",function(){e.onClose("transport close")})};qn.prototype.probe=function(t){wi('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,r=this;qn.priorWebsocketSuccess=!1;function i(){if(r.onlyBinaryUpgrades){var h=!this.supportsBinary&&r.transport.supportsBinary;n=n||h}n||(wi('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(p){if(!n)if(p.type==="pong"&&p.data==="probe"){if(wi('probe transport "%s" pong',t),r.upgrading=!0,r.emit("upgrading",e),!e)return;qn.priorWebsocketSuccess=e.name==="websocket",wi('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||r.readyState!=="closed"&&(wi("changing transport and sending upgrade packet"),c(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())})}else{wi('probe transport "%s" failed',t);var d=new Error("probe error");d.transport=e.name,r.emit("upgradeError",d)}}))}function o(){n||(n=!0,c(),e.close(),e=null)}function s(h){var p=new Error("probe error: "+h);p.transport=e.name,o(),wi('probe transport "%s" failed because of error: %s',t,h),r.emit("upgradeError",p)}function a(){s("transport closed")}function l(){s("socket closed")}function u(h){e&&h.name!==e.name&&(wi('"%s" works - aborting "%s"',h.name,e.name),o())}function c(){e.removeListener("open",i),e.removeListener("error",s),e.removeListener("close",a),r.removeListener("close",l),r.removeListener("upgrading",u)}e.once("open",i),e.once("error",s),e.once("close",a),this.once("close",l),this.once("upgrading",u),e.open()};qn.prototype.onOpen=function(){if(wi("socket open"),this.readyState="open",qn.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){wi("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}};qn.prototype.onPacket=function(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(wi('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data);break}else wi('packet received with socket readyState "%s"',this.readyState)};qn.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};qn.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){e.readyState!=="closed"&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)};qn.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){wi("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)};qn.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})};qn.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()};qn.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(wi("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};qn.prototype.write=qn.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this};qn.prototype.sendPacket=function(t,e,n,r){if(typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=null),!(this.readyState==="closing"||this.readyState==="closed")){n=n||{},n.compress=n.compress!==!1;var i={type:t,data:e,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}};qn.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():e()}):this.upgrading?r():e()}function e(){t.onClose("forced close"),wi("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function r(){t.once("upgrade",n),t.once("upgradeError",n)}return this};qn.prototype.onError=function(t){wi("socket error %j",t),qn.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)};qn.prototype.onClose=function(t,e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){wi('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),n.writeBuffer=[],n.prevBufferLen=0}};qn.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~xEe(this.transports,t[n])&&e.push(t[n]);return e}});var Jee=kt((A9e,Hk)=>{Hk.exports=Kee();Hk.exports.parser=_p()});var ete=kt((P9e,Qee)=>{Qee.exports=bEe;function bEe(t,e){var n=[];e=e||0;for(var r=e||0;r<t.length;r++)n[r-e]=t[r];return n}});var Vk=kt((R9e,tte)=>{tte.exports=wEe;function wEe(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}});var Wk=kt((I9e,rte)=>{var nte=[].slice;rte.exports=function(t,e){if(typeof e=="string"&&(e=t[e]),typeof e!="function")throw new Error("bind() requires a function");var n=nte.call(arguments,2);return function(){return e.apply(t,n.concat(nte.call(arguments)))}}});var Yk=kt((ste,ate)=>{var qo=LM(),ite=xp(),Xk=ete(),Gk=Vk(),$k=Wk(),al=Mx()("socket.io-client:socket"),EEe=Ox(),ote=bk();ate.exports=ste=ti;var TEe={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},jk=ite.prototype.emit;function ti(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}ite(ti.prototype);ti.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[Gk(t,"open",$k(this,"onopen")),Gk(t,"packet",$k(this,"onpacket")),Gk(t,"close",$k(this,"onclose"))]}};ti.prototype.open=ti.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)};ti.prototype.send=function(){var t=Xk(arguments);return t.unshift("message"),this.emit.apply(this,t),this};ti.prototype.emit=function(t){if(TEe.hasOwnProperty(t))return jk.apply(this,arguments),this;var e=Xk(arguments),n={type:(this.flags.binary!==void 0?this.flags.binary:ote(e))?qo.BINARY_EVENT:qo.EVENT,data:e};return n.options={},n.options.compress=!this.flags||this.flags.compress!==!1,typeof e[e.length-1]=="function"&&(al("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this};ti.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)};ti.prototype.onopen=function(){if(al("transport is open - connecting"),this.nsp!=="/")if(this.query){var t=typeof this.query=="object"?EEe.encode(this.query):this.query;al("sending connect packet with query %s",t),this.packet({type:qo.CONNECT,query:t})}else this.packet({type:qo.CONNECT})};ti.prototype.onclose=function(t){al("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)};ti.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===qo.ERROR&&t.nsp==="/";if(!(!e&&!n))switch(t.type){case qo.CONNECT:this.onconnect();break;case qo.EVENT:this.onevent(t);break;case qo.BINARY_EVENT:this.onevent(t);break;case qo.ACK:this.onack(t);break;case qo.BINARY_ACK:this.onack(t);break;case qo.DISCONNECT:this.ondisconnect();break;case qo.ERROR:this.emit("error",t.data);break}};ti.prototype.onevent=function(t){var e=t.data||[];al("emitting event %j",e),t.id!=null&&(al("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?jk.apply(this,e):this.receiveBuffer.push(e)};ti.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var r=Xk(arguments);al("sending ack %j",r),e.packet({type:ote(r)?qo.BINARY_ACK:qo.ACK,id:t,data:r})}}};ti.prototype.onack=function(t){var e=this.acks[t.id];typeof e=="function"?(al("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):al("bad ack %s",t.id)};ti.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()};ti.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)jk.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]};ti.prototype.ondisconnect=function(){al("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")};ti.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)};ti.prototype.close=ti.prototype.disconnect=function(){return this.connected&&(al("performing disconnect (%s)",this.nsp),this.packet({type:qo.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this};ti.prototype.compress=function(t){return this.flags.compress=t,this};ti.prototype.binary=function(t){return this.flags.binary=t,this}});var ute=kt((N9e,lte)=>{lte.exports=Pg;function Pg(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Pg.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};Pg.prototype.reset=function(){this.attempts=0};Pg.prototype.setMin=function(t){this.ms=t};Pg.prototype.setMax=function(t){this.max=t};Pg.prototype.setJitter=function(t){this.jitter=t}});var qk=kt((O9e,hte)=>{var CEe=Jee(),MEe=Yk(),AEe=xp(),PEe=LM(),Nf=Vk(),Rg=Wk(),Mo=Mx()("socket.io-client:manager"),cte=zk(),REe=ute(),fte=Object.prototype.hasOwnProperty;hte.exports=tr;function tr(t,e){if(!(this instanceof tr))return new tr(t,e);t&&typeof t=="object"&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new REe({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||PEe;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=e.autoConnect!==!1,this.autoConnect&&this.open()}tr.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)fte.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)};tr.prototype.updateSocketIds=function(){for(var t in this.nsps)fte.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))};tr.prototype.generateId=function(t){return(t==="/"?"":t+"#")+this.engine.id};AEe(tr.prototype);tr.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection};tr.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts};tr.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay};tr.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor};tr.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax};tr.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout};tr.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()};tr.prototype.open=tr.prototype.connect=function(t,e){if(Mo("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;Mo("opening %s",this.uri),this.engine=CEe(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=Nf(n,"open",function(){r.onopen(),t&&t()}),o=Nf(n,"error",function(l){if(Mo("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",l),t){var u=new Error("Connection error");u.data=l,t(u)}else r.maybeReconnectOnOpen()});if(this._timeout!==!1){var s=this._timeout;Mo("connect attempt will timeout after %d",s),s===0&&i.destroy();var a=setTimeout(function(){Mo("connect attempt timed out after %d",s),i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(i),this.subs.push(o),this};tr.prototype.onopen=function(){Mo("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(Nf(t,"data",Rg(this,"ondata"))),this.subs.push(Nf(t,"ping",Rg(this,"onping"))),this.subs.push(Nf(t,"pong",Rg(this,"onpong"))),this.subs.push(Nf(t,"error",Rg(this,"onerror"))),this.subs.push(Nf(t,"close",Rg(this,"onclose"))),this.subs.push(Nf(this.decoder,"decoded",Rg(this,"ondecoded")))};tr.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")};tr.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};tr.prototype.ondata=function(t){this.decoder.add(t)};tr.prototype.ondecoded=function(t){this.emit("packet",t)};tr.prototype.onerror=function(t){Mo("error",t),this.emitAll("error",t)};tr.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new MEe(this,t,e),this.nsps[t]=n;var r=this;n.on("connecting",i),n.on("connect",function(){n.id=r.generateId(t)}),this.autoConnect&&i()}function i(){~cte(r.connecting,n)||r.connecting.push(n)}return n};tr.prototype.destroy=function(t){var e=cte(this.connecting,t);~e&&this.connecting.splice(e,1),!this.connecting.length&&this.close()};tr.prototype.packet=function(t){Mo("writing packet %j",t);var e=this;t.query&&t.type===0&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()}))};tr.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}};tr.prototype.cleanup=function(){Mo("cleanup");for(var t=this.subs.length,e=0;e<t;e++){var n=this.subs.shift();n.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()};tr.prototype.close=tr.prototype.disconnect=function(){Mo("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()};tr.prototype.onclose=function(t){Mo("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()};tr.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)Mo("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();Mo("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(Mo("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),!t.skipReconnect&&t.open(function(r){r?(Mo("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",r.data)):(Mo("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}};tr.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}});var vte=kt((Sp,gte)=>{var IEe=LQ(),NEe=LM(),pte=qk(),dte=Mx()("socket.io-client");gte.exports=Sp=mte;var zx=Sp.managers={};function mte(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};var n=IEe(t),r=n.source,i=n.id,o=n.path,s=zx[i]&&o in zx[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,l;return a?(dte("ignoring socket cache for %s",r),l=pte(r,e)):(zx[i]||(dte("new io instance for %s",r),zx[i]=pte(r,e)),l=zx[i]),n.query&&!e.query&&(e.query=n.query),l.socket(n.path,e)}Sp.protocol=NEe.protocol;Sp.connect=mte;Sp.Manager=qk();Sp.Socket=Yk()});var jM=kt(()=>{});var Jne=kt((Jx,cA)=>{(function(t,e){"use strict";var n="0.7.35",r="",i="?",o="function",s="undefined",a="object",l="string",u="major",c="model",h="name",p="type",d="vendor",v="version",b="architecture",S="console",y="mobile",T="tablet",E="smarttv",A="wearable",N="embedded",x=350,D="Amazon",k="Apple",U="ASUS",L="BlackBerry",j="Browser",ie="Chrome",se="Edge",fe="Firefox",_e="Google",J="Huawei",te="LG",ne="Microsoft",xe="Motorola",Ce="Opera",Le="Samsung",rt="Sharp",ot="Sony",Ae="Viera",ze="Xiaomi",je="Zebra",it="Facebook",pt="Chromium OS",It="Mac OS",Nt=function(Ee,Be){var Ze={};for(var ut in Ee)Be[ut]&&Be[ut].length%2===0?Ze[ut]=Be[ut].concat(Ee[ut]):Ze[ut]=Ee[ut];return Ze},mt=function(Ee){for(var Be={},Ze=0;Ze<Ee.length;Ze++)Be[Ee[Ze].toUpperCase()]=Ee[Ze];return Be},K=function(Ee,Be){return typeof Ee===l?ye(Be).indexOf(ye(Ee))!==-1:!1},ye=function(Ee){return Ee.toLowerCase()},ge=function(Ee){return typeof Ee===l?Ee.replace(/[^\d\.]/g,r).split(".")[0]:e},Q=function(Ee,Be){if(typeof Ee===l)return Ee=Ee.replace(/^\s\s*/,r),typeof Be===s?Ee:Ee.substring(0,x)},q=function(Ee,Be){for(var Ze=0,ut,Pt,zt,Qe,Je,gt;Ze<Be.length&&!Je;){var vt=Be[Ze],Ct=Be[Ze+1];for(ut=Pt=0;ut<vt.length&&!Je&&vt[ut];)if(Je=vt[ut++].exec(Ee),Je)for(zt=0;zt<Ct.length;zt++)gt=Je[++Pt],Qe=Ct[zt],typeof Qe===a&&Qe.length>0?Qe.length===2?typeof Qe[1]==o?this[Qe[0]]=Qe[1].call(this,gt):this[Qe[0]]=Qe[1]:Qe.length===3?typeof Qe[1]===o&&!(Qe[1].exec&&Qe[1].test)?this[Qe[0]]=gt?Qe[1].call(this,gt,Qe[2]):e:this[Qe[0]]=gt?gt.replace(Qe[1],Qe[2]):e:Qe.length===4&&(this[Qe[0]]=gt?Qe[3].call(this,gt.replace(Qe[1],Qe[2])):e):this[Qe]=gt||e;Ze+=2}},ve=function(Ee,Be){for(var Ze in Be)if(typeof Be[Ze]===a&&Be[Ze].length>0){for(var ut=0;ut<Be[Ze].length;ut++)if(K(Be[Ze][ut],Ee))return Ze===i?e:Ze}else if(K(Be[Ze],Ee))return Ze===i?e:Ze;return Ee},ue={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},xt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ae={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,v],[/opios[\/ ]+([\w\.]+)/i],[v,[h,Ce+" Mini"]],[/\bopr\/([\w\.]+)/i],[v,[h,Ce]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,v],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[h,"UC"+j]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[v,[h,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[v,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[h,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+j],v],[/\bfocus\/([\w\.]+)/i],[v,[h,fe+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[h,Ce+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[h,Ce+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[h,"MIUI "+j]],[/fxios\/([-\w\.]+)/i],[v,[h,fe]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+j]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+j],v],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[h,v],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,it],v],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[h,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[h,ie+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,ie+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[h,"Android "+j]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[v,ve,ue]],[/(webkit|khtml)\/([\w\.]+)/i],[h,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[h,fe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[h,v],[/(cobalt)\/([\w\.]+)/i],[h,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,ye]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,r,ye]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,ye]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[d,Le],[p,T]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[d,Le],[p,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[d,k],[p,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[d,k],[p,T]],[/(macintosh);/i],[c,[d,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[d,rt],[p,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[d,J],[p,T]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[d,J],[p,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[d,ze],[p,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[d,ze],[p,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[d,"OPPO"],[p,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[d,"Vivo"],[p,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[c,[d,"Realme"],[p,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[d,xe],[p,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[d,xe],[p,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[d,te],[p,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[d,te],[p,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[d,"Lenovo"],[p,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[d,"Nokia"],[p,y]],[/(pixel c)\b/i],[c,[d,_e],[p,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[d,_e],[p,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[d,ot],[p,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[d,ot],[p,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[d,"OnePlus"],[p,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[d,D],[p,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[d,D],[p,y]],[/(playbook);[-\w\),; ]+(rim)/i],[c,d,[p,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[d,L],[p,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[d,U],[p,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[d,U],[p,y]],[/(nexus 9)/i],[c,[d,"HTC"],[p,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[d,[c,/_/g," "],[p,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[d,"Acer"],[p,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[d,"Meizu"],[p,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,c,[p,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,c,[p,T]],[/(surface duo)/i],[c,[d,ne],[p,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[d,"Fairphone"],[p,y]],[/(u304aa)/i],[c,[d,"AT&T"],[p,y]],[/\bsie-(\w*)/i],[c,[d,"Siemens"],[p,y]],[/\b(rct\w+) b/i],[c,[d,"RCA"],[p,T]],[/\b(venue[\d ]{2,7}) b/i],[c,[d,"Dell"],[p,T]],[/\b(q(?:mv|ta)\w+) b/i],[c,[d,"Verizon"],[p,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[d,"Barnes & Noble"],[p,T]],[/\b(tm\d{3}\w+) b/i],[c,[d,"NuVision"],[p,T]],[/\b(k88) b/i],[c,[d,"ZTE"],[p,T]],[/\b(nx\d{3}j) b/i],[c,[d,"ZTE"],[p,y]],[/\b(gen\d{3}) b.+49h/i],[c,[d,"Swiss"],[p,y]],[/\b(zur\d{3}) b/i],[c,[d,"Swiss"],[p,T]],[/\b((zeki)?tb.*\b) b/i],[c,[d,"Zeki"],[p,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],c,[p,T]],[/\b(ns-?\w{0,9}) b/i],[c,[d,"Insignia"],[p,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[d,"NextBook"],[p,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],c,[p,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],c,[p,y]],[/\b(ph-1) /i],[c,[d,"Essential"],[p,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[d,"Envizen"],[p,T]],[/\b(trio[-\w\. ]+) b/i],[c,[d,"MachSpeed"],[p,T]],[/\btu_(1491) b/i],[c,[d,"Rotor"],[p,T]],[/(shield[\w ]+) b/i],[c,[d,"Nvidia"],[p,T]],[/(sprint) (\w+)/i],[d,c,[p,y]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[d,ne],[p,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[d,je],[p,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[d,je],[p,y]],[/smart-tv.+(samsung)/i],[d,[p,E]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[d,Le],[p,E]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,te],[p,E]],[/(apple) ?tv/i],[d,[c,k+" TV"],[p,E]],[/crkey/i],[[c,ie+"cast"],[d,_e],[p,E]],[/droid.+aft(\w)( bui|\))/i],[c,[d,D],[p,E]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[d,rt],[p,E]],[/(bravia[\w ]+)( bui|\))/i],[c,[d,ot],[p,E]],[/(mitv-\w{5}) bui/i],[c,[d,ze],[p,E]],[/Hbbtv.*(technisat) (.*);/i],[d,c,[p,E]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[d,Q],[c,Q],[p,E]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,E]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,c,[p,S]],[/droid.+; (shield) bui/i],[c,[d,"Nvidia"],[p,S]],[/(playstation [345portablevi]+)/i],[c,[d,ot],[p,S]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[d,ne],[p,S]],[/((pebble))app/i],[d,c,[p,A]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[d,k],[p,A]],[/droid.+; (glass) \d/i],[c,[d,_e],[p,A]],[/droid.+; (wt63?0{2,3})\)/i],[c,[d,je],[p,A]],[/(quest( 2| pro)?)/i],[c,[d,it],[p,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[p,N]],[/(aeobc)\b/i],[c,[d,D],[p,N]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[c,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[p,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,y]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[h,se+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,v],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[h,[v,ve,xt]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,"Windows"],[v,ve,xt]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,It],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,v],[/\(bb(10);/i],[v,[h,L]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[h,fe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[h,ie+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,pt],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,v],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,v]]},$=function(Ee,Be){if(typeof Ee===a&&(Be=Ee,Ee=e),!(this instanceof $))return new $(Ee,Be).getResult();var Ze=typeof t!==s&&t.navigator?t.navigator:e,ut=Ee||(Ze&&Ze.userAgent?Ze.userAgent:r),Pt=Ze&&Ze.userAgentData?Ze.userAgentData:e,zt=Be?Nt(ae,Be):ae,Qe=Ze&&Ze.userAgent==ut;return this.getBrowser=function(){var Je={};return Je[h]=e,Je[v]=e,q.call(Je,ut,zt.browser),Je[u]=ge(Je[v]),Qe&&Ze&&Ze.brave&&typeof Ze.brave.isBrave==o&&(Je[h]="Brave"),Je},this.getCPU=function(){var Je={};return Je[b]=e,q.call(Je,ut,zt.cpu),Je},this.getDevice=function(){var Je={};return Je[d]=e,Je[c]=e,Je[p]=e,q.call(Je,ut,zt.device),Qe&&!Je[p]&&Pt&&Pt.mobile&&(Je[p]=y),Qe&&Je[c]=="Macintosh"&&Ze&&typeof Ze.standalone!==s&&Ze.maxTouchPoints&&Ze.maxTouchPoints>2&&(Je[c]="iPad",Je[p]=T),Je},this.getEngine=function(){var Je={};return Je[h]=e,Je[v]=e,q.call(Je,ut,zt.engine),Je},this.getOS=function(){var Je={};return Je[h]=e,Je[v]=e,q.call(Je,ut,zt.os),Qe&&!Je[h]&&Pt&&Pt.platform!="Unknown"&&(Je[h]=Pt.platform.replace(/chrome os/i,pt).replace(/macos/i,It)),Je},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ut},this.setUA=function(Je){return ut=typeof Je===l&&Je.length>x?Q(Je,x):Je,this},this.setUA(ut),this};$.VERSION=n,$.BROWSER=mt([h,v,u]),$.CPU=mt([b]),$.DEVICE=mt([c,d,p,S,y,E,T,A,N]),$.ENGINE=$.OS=mt([h,v]),typeof Jx!==s?(typeof cA!==s&&cA.exports&&(Jx=cA.exports=$),Jx.UAParser=$):typeof define===o&&define.amd?define(function(){return $}):typeof t!==s&&(t.UAParser=$);var De=typeof t!==s&&(t.jQuery||t.Zepto);if(De&&!De.ua){var Ke=new $;De.ua=Ke.getResult(),De.ua.get=function(){return Ke.getUA()},De.ua.set=function(Ee){Ke.setUA(Ee);var Be=Ke.getResult();for(var Ze in Be)De.ua[Ze]=Be[Ze]}}})(typeof window=="object"?window:Jx)});Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,writable:!0,value:function(){var t=typeof arguments[0]>"u"?1:Number(arguments[0])||0,e=[],n=e.forEach,r=function(i,o){n.call(i,function(s){o>0&&Array.isArray(s)?r(s,o-1):e.push(s)})};return r(this,t),e}});var C3=F(P3(),1),Qne=F(I3(),1);var t_={},yre=(()=>{var t=t_.url;return async function(e={}){var n,r=e,i,o,s=new Promise((O,C)=>{i=O,o=C}),a=typeof window=="object",l=typeof importScripts=="function",u=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(u){let{createRequire:O}=await import("module");var c=O(t_.url)}var h=!1;r.setup=function(){if(h)return;h=!0,r.initTBB();function O(Te,ke,st=_t=>_t){if(ke)for(let _t of ke)Te.push_back(st(_t));return Te}function C(Te,ke=st=>st){let st=[],_t=Te.size();for(let sn=0;sn<_t;sn++)st.push(ke(Te.get(sn)));return st}function B(Te,ke=st=>st){let st=[],_t=Te.size();for(let sn=0;sn<_t;sn++){let xr=Te.get(sn),di=xr.size(),es=[];for(let oi=0;oi<di;oi++)es.push(ke(xr.get(oi)));st.push(es)}return st}function X(Te){return Te[0].length<3&&(Te=[Te]),O(new r.Vector2_vec2,Te,ke=>O(new r.Vector_vec2,ke,st=>st instanceof Array?{x:st[0],y:st[1]}:st))}function re(Te){for(let ke=0;ke<Te.size();ke++)Te.get(ke).delete();Te.delete()}function he(Te){return Te[0]instanceof Array?{x:Te[0][0],y:Te[0][1]}:typeof Te[0]=="number"?{x:Te[0]||0,y:Te[1]||0}:Te[0]}function Ie(Te){return Te[0]instanceof Array?{x:Te[0][0],y:Te[0][1],z:Te[0][2]}:typeof Te[0]=="number"?{x:Te[0]||0,y:Te[1]||0,z:Te[2]||0}:Te[0]}function Me(Te){return Te=="EvenOdd"?0:Te=="NonZero"?1:Te=="Negative"?3:2}function He(Te){return Te=="Round"?1:Te=="Miter"?2:0}let Ue=r.CrossSection;function ht(Te,ke="Positive"){if(Te instanceof Ue)return Te;{let st=X(Te),_t=new Ue(st,Me(ke));return re(st),_t}}r.CrossSection.prototype.translate=function(...Te){return this._Translate(he(Te))},r.CrossSection.prototype.scale=function(Te){return typeof Te=="number"?this._Scale({x:Te,y:Te}):this._Scale(he([Te]))},r.CrossSection.prototype.mirror=function(Te){return this._Mirror(he([Te]))},r.CrossSection.prototype.warp=function(Te){let ke=Jo(function(_t){let sn=zt(_t,"double"),xr=zt(_t+8,"double"),di=[sn,xr];Te(di),Je(_t,di[0],"double"),Je(_t+8,di[1],"double")},"vi"),st=this._Warp(ke);return uc(ke),st},r.CrossSection.prototype.decompose=function(){let Te=this._Decompose(),ke=C(Te);return Te.delete(),ke},r.CrossSection.prototype.bounds=function(){let Te=this._Bounds();return{min:["x","y"].map(ke=>Te.min[ke]),max:["x","y"].map(ke=>Te.max[ke])}},r.CrossSection.prototype.offset=function(Te,ke="Round",st=2,_t=0){return this._Offset(Te,He(ke),st,_t)},r.CrossSection.prototype.simplify=function(Te=1e-6){return this._Simplify(Te)},r.CrossSection.prototype.extrude=function(Te,ke=0,st=0,_t=[1,1],sn=!1){_t=he([_t]);let xr=r._Extrude(this._ToPolygons(),Te,ke,st,_t);return sn?xr.translate([0,0,-Te/2]):xr},r.CrossSection.prototype.revolve=function(Te=0,ke=360){return r._Revolve(this._ToPolygons(),Te,ke)},r.CrossSection.prototype.add=function(Te){return this._add(ht(Te))},r.CrossSection.prototype.subtract=function(Te){return this._subtract(ht(Te))},r.CrossSection.prototype.intersect=function(Te){return this._intersect(ht(Te))},r.CrossSection.prototype.toPolygons=function(){let Te=this._ToPolygons(),ke=B(Te,st=>[st.x,st.y]);return Te.delete(),ke},r.Manifold.prototype.smoothOut=function(Te=60,ke=0){return this._SmoothOut(Te,ke)},r.Manifold.prototype.warp=function(Te){let ke=Jo(function(sn){let xr=zt(sn,"double"),di=zt(sn+8,"double"),es=zt(sn+16,"double"),oi=[xr,di,es];Te(oi),Je(sn,oi[0],"double"),Je(sn+8,oi[1],"double"),Je(sn+16,oi[2],"double")},"vi"),st=this._Warp(ke);uc(ke);let _t=st.status();if(_t!=="NoError")throw new r.ManifoldError(_t);return st},r.Manifold.prototype.calculateNormals=function(Te,ke=60){return this._CalculateNormals(Te,ke)},r.Manifold.prototype.setProperties=function(Te,ke){let st=this.numProp(),_t=Jo(function(xr,di,es){let oi=[];for(let si=0;si<Te;++si)oi[si]=zt(xr+8*si,"double");let kp=[];for(let si=0;si<3;++si)kp[si]=zt(di+8*si,"double");let Fp=[];for(let si=0;si<st;++si)Fp[si]=zt(es+8*si,"double");ke(oi,kp,Fp);for(let si=0;si<Te;++si)Je(xr+8*si,oi[si],"double")},"viii"),sn=this._SetProperties(Te,_t);return uc(_t),sn},r.Manifold.prototype.translate=function(...Te){return this._Translate(Ie(Te))},r.Manifold.prototype.rotate=function(Te,ke,st){return Array.isArray(Te)?this._Rotate(...Te):this._Rotate(Te,ke||0,st||0)},r.Manifold.prototype.scale=function(Te){return typeof Te=="number"?this._Scale({x:Te,y:Te,z:Te}):this._Scale(Ie([Te]))},r.Manifold.prototype.mirror=function(Te){return this._Mirror(Ie([Te]))},r.Manifold.prototype.trimByPlane=function(Te,ke=0){return this._TrimByPlane(Ie([Te]),ke)},r.Manifold.prototype.slice=function(Te=0){let ke=this._Slice(Te),st=new Ue(ke,Me("Positive"));return re(ke),st},r.Manifold.prototype.project=function(){let Te=this._Project(),ke=new Ue(Te,Me("Positive"));return re(Te),ke},r.Manifold.prototype.split=function(Te){let ke=this._Split(Te),st=C(ke);return ke.delete(),st},r.Manifold.prototype.splitByPlane=function(Te,ke=0){let st=this._SplitByPlane(Ie([Te]),ke),_t=C(st);return st.delete(),_t},r.Manifold.prototype.decompose=function(){let Te=this._Decompose(),ke=C(Te);return Te.delete(),ke},r.Manifold.prototype.boundingBox=function(){let Te=this._boundingBox();return{min:["x","y","z"].map(ke=>Te.min[ke]),max:["x","y","z"].map(ke=>Te.max[ke])}};class At{constructor({numProp:ke=3,triVerts:st=new Uint32Array,vertProperties:_t=new Float32Array,mergeFromVert:sn,mergeToVert:xr,runIndex:di,runOriginalID:es,faceID:oi,halfedgeTangent:kp,runTransform:Fp}={}){this.numProp=ke,this.triVerts=st,this.vertProperties=_t,this.mergeFromVert=sn,this.mergeToVert=xr,this.runIndex=di,this.runOriginalID=es,this.faceID=oi,this.halfedgeTangent=kp,this.runTransform=Fp}get numTri(){return this.triVerts.length/3}get numVert(){return this.vertProperties.length/this.numProp}get numRun(){return this.runOriginalID.length}merge(){let{changed:ke,mesh:st}=r._Merge(this);return Object.assign(this,{...st}),ke}verts(ke){return this.triVerts.subarray(3*ke,3*(ke+1))}position(ke){return this.vertProperties.subarray(this.numProp*ke,this.numProp*ke+3)}extras(ke){return this.vertProperties.subarray(this.numProp*ke+3,this.numProp*(ke+1))}tangent(ke){return this.halfedgeTangent.subarray(4*ke,4*(ke+1))}transform(ke){let st=new Array(16);for(let _t of[0,1,2,3])for(let sn of[0,1,2])st[4*_t+sn]=this.runTransform[12*ke+3*_t+sn];return st[15]=1,st}}r.Mesh=At,r.Manifold.prototype.getMesh=function(Te=-1){return new At(this._GetMeshJS(Te))},r.ManifoldError=function(ke,...st){let _t="Unknown error";switch(ke){case"NonFiniteVertex":_t="Non-finite vertex";break;case"NotManifold":_t="Not manifold";break;case"VertexOutOfBounds":_t="Vertex index out of bounds";break;case"PropertiesWrongLength":_t="Properties have wrong length";break;case"MissingPositionProperties":_t="Less than three properties";break;case"MergeVectorsDifferentLengths":_t="Merge vectors have different lengths";break;case"MergeIndexOutOfBounds":_t="Merge index out of bounds";break;case"TransformWrongLength":_t="Transform vector has wrong length";break;case"RunIndexWrongLength":_t="Run index vector has wrong length";break;case"FaceIDWrongLength":_t="Face ID vector has wrong length";case"InvalidConstruction":_t="Manifold constructed with invalid parameters"}let sn=Error.apply(this,[_t,...st]);sn.name=this.name="ManifoldError",this.message=sn.message,this.stack=sn.stack,this.code=ke},r.ManifoldError.prototype=Object.create(Error.prototype,{constructor:{value:r.ManifoldError,writable:!0,configurable:!0}}),r.CrossSection=function(Te,ke="Positive"){let st=X(Te),_t=new Ue(st,Me(ke));return re(st),_t},r.CrossSection.ofPolygons=function(Te,ke="Positive"){return new r.CrossSection(Te,ke)},r.CrossSection.square=function(...Te){let ke;Te.length==0?ke={x:1,y:1}:typeof Te[0]=="number"?ke={x:Te[0],y:Te[0]}:ke=he(Te);let st=Te[1]||!1;return r._Square(ke,st)},r.CrossSection.circle=function(Te,ke=0){return r._Circle(Te,ke)};function Ft(Te){return function(...ke){ke.length==1&&(ke=ke[0]);let st=new r.Vector_crossSection;for(let sn of ke)st.push_back(ht(sn));let _t=r["_crossSection"+Te](st);return st.delete(),_t}}r.CrossSection.compose=Ft("Compose"),r.CrossSection.union=Ft("UnionN"),r.CrossSection.difference=Ft("DifferenceN"),r.CrossSection.intersection=Ft("IntersectionN");function un(Te,ke){O(Te,ke,st=>st instanceof Array?{x:st[0],y:st[1]}:st)}r.CrossSection.hull=function(...Te){Te.length==1&&(Te=Te[0]);let ke=new r.Vector_vec2;for(let _t of Te)if(_t instanceof Ue)r._crossSectionCollectVertices(ke,_t);else if(_t instanceof Array&&_t.length==2&&typeof _t[0]=="number")ke.push_back({x:_t[0],y:_t[1]});else if(_t.x)ke.push_back(_t);else{let xr=_t[0].length==2&&typeof _t[0][0]=="number"||_t[0].x?[_t]:_t;for(let di of xr)un(ke,di)}let st=r._crossSectionHullPoints(ke);return ke.delete(),st},r.CrossSection.prototype=Object.create(Ue.prototype),Object.defineProperty(r.CrossSection,Symbol.hasInstance,{get:()=>Te=>Te instanceof Ue});let Wt=r.Manifold;r.Manifold=function(Te){let ke=new Wt(Te),st=ke.status();if(st!=="NoError")throw new r.ManifoldError(st);return ke},r.Manifold.ofMesh=function(Te){return new r.Manifold(Te)},r.Manifold.tetrahedron=function(){return r._Tetrahedron()},r.Manifold.cube=function(...Te){let ke;Te.length==0?ke={x:1,y:1,z:1}:typeof Te[0]=="number"?ke={x:Te[0],y:Te[0],z:Te[0]}:ke=Ie(Te);let st=Te[1]||!1;return r._Cube(ke,st)},r.Manifold.cylinder=function(Te,ke,st=-1,_t=0,sn=!1){return r._Cylinder(Te,ke,st,_t,sn)},r.Manifold.sphere=function(Te,ke=0){return r._Sphere(Te,ke)},r.Manifold.smooth=function(Te,ke=[]){let st=new r.Vector_smoothness;O(st,ke);let _t=r._Smooth(Te,st);return st.delete(),_t},r.Manifold.extrude=function(Te,ke,st=0,_t=0,sn=[1,1],xr=!1){return(Te instanceof Ue?Te:r.CrossSection(Te,"Positive")).extrude(ke,st,_t,sn,xr)},r.Manifold.revolve=function(Te,ke=0,st=360){return(Te instanceof Ue?Te:r.CrossSection(Te,"Positive")).revolve(ke,st)},r.Manifold.reserveIDs=function(Te){return r._ReserveIDs(Te)},r.Manifold.compose=function(Te){let ke=new r.Vector_manifold;O(ke,Te);let st=r._manifoldCompose(ke);return ke.delete(),st};function Vn(Te){return function(...ke){ke.length==1&&(ke=ke[0]);let st=new r.Vector_manifold;for(let sn of ke)st.push_back(sn);let _t=r["_manifold"+Te+"N"](st);return st.delete(),_t}}r.Manifold.union=Vn("Union"),r.Manifold.difference=Vn("Difference"),r.Manifold.intersection=Vn("Intersection"),r.Manifold.levelSet=function(Te,ke,st,_t=0,sn=-1){let xr={min:{x:ke.min[0],y:ke.min[1],z:ke.min[2]},max:{x:ke.max[0],y:ke.max[1],z:ke.max[2]}},di=Jo(function(oi){let kp=zt(oi,"double"),Fp=zt(oi+8,"double"),si=zt(oi+16,"double");return Te([kp,Fp,si])},"di"),es=r._LevelSet(di,xr,st,_t,sn);return uc(di),es};function br(Te,ke){O(Te,ke,st=>st instanceof Array?{x:st[0],y:st[1],z:st[2]}:st)}r.Manifold.hull=function(...Te){Te.length==1&&(Te=Te[0]);let ke=new r.Vector_vec3;for(let _t of Te)_t instanceof Wt?r._manifoldCollectVertices(ke,_t):_t instanceof Array&&_t.length==3&&typeof _t[0]=="number"?ke.push_back({x:_t[0],y:_t[1],z:_t[2]}):_t.x?ke.push_back(_t):br(ke,_t);let st=r._manifoldHullPoints(ke);return ke.delete(),st},r.Manifold.prototype=Object.create(Wt.prototype),Object.defineProperty(r.Manifold,Symbol.hasInstance,{get:()=>Te=>Te instanceof Wt}),r.triangulate=function(Te,ke=-1,st=!0){let _t=X(Te),sn=C(r._Triangulate(_t,ke,st),xr=>[xr[0],xr[1],xr[2]]);return re(_t),sn}};var p=Object.assign({},r),d=[],v="./this.program",b=(O,C)=>{throw C},S="";function y(O){return r.locateFile?r.locateFile(O,S):S+O}var T,E;if(u){var A=c("fs"),N=c("path");S=c("url").fileURLToPath(new URL("./",t_.url)),E=O=>{O=xt(O)?new URL(O):N.normalize(O);var C=A.readFileSync(O);return C},T=(O,C=!0)=>(O=xt(O)?new URL(O):N.normalize(O),new Promise((B,X)=>{A.readFile(O,C?void 0:"utf8",(re,he)=>{re?X(re):B(C?he.buffer:he)})})),!r.thisProgram&&process.argv.length>1&&(v=process.argv[1].replace(/\\/g,"/")),d=process.argv.slice(2),b=(O,C)=>{throw process.exitCode=O,C}}else(a||l)&&(l?S=self.location.href:typeof document<"u"&&document.currentScript&&(S=document.currentScript.src),t&&(S=t),S.startsWith("blob:")?S="":S=S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1),l&&(E=O=>{var C=new XMLHttpRequest;return C.open("GET",O,!1),C.responseType="arraybuffer",C.send(null),new Uint8Array(C.response)}),T=O=>xt(O)?new Promise((C,B)=>{var X=new XMLHttpRequest;X.open("GET",O,!0),X.responseType="arraybuffer",X.onload=()=>{(X.status==200||X.status==0&&X.response)&&B(X.response),C(X.status)},X.onerror=C,X.send(null)}):fetch(O,{credentials:"same-origin"}).then(C=>C.ok?C.arrayBuffer():Promise.reject(new Error(C.status+" : "+C.url))));var x=r.print||console.log.bind(console),D=r.printErr||console.error.bind(console);Object.assign(r,p),p=null,r.arguments&&(d=r.arguments),r.thisProgram&&(v=r.thisProgram),r.quit&&(b=r.quit);var k;r.wasmBinary&&(k=r.wasmBinary);var U,L=!1,j,ie,se,fe,_e,J,te,ne,xe;function Ce(){var O=U.buffer;r.HEAP8=ie=new Int8Array(O),r.HEAP16=fe=new Int16Array(O),r.HEAPU8=se=new Uint8Array(O),r.HEAPU16=_e=new Uint16Array(O),r.HEAP32=J=new Int32Array(O),r.HEAPU32=te=new Uint32Array(O),r.HEAPF32=ne=new Float32Array(O),r.HEAPF64=xe=new Float64Array(O)}var Le=[],rt=[],ot=[],Ae=!1;function ze(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)pt(r.preRun.shift());Pt(Le)}function je(){Ae=!0,Pt(rt)}function it(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)Nt(r.postRun.shift());Pt(ot)}function pt(O){Le.unshift(O)}function It(O){rt.unshift(O)}function Nt(O){ot.unshift(O)}var mt=0,K=null,ye=null;function ge(O){mt++,r.monitorRunDependencies?.(mt)}function Q(O){if(mt--,r.monitorRunDependencies?.(mt),mt==0&&(K!==null&&(clearInterval(K),K=null),ye)){var C=ye;ye=null,C()}}function q(O){r.onAbort?.(O),O="Aborted("+O+")",D(O),L=!0,j=1,O+=". Build with -sASSERTIONS for more info.";var C=new WebAssembly.RuntimeError(O);throw o(C),C}var ve="data:application/octet-stream;base64,",ue=O=>O.startsWith(ve),xt=O=>O.startsWith("file://");function ae(){if(r.locateFile){var O="manifold.wasm";return ue(O)?O:y(O)}return new URL("manifold.wasm",t_.url).href}var $;function De(O){if(O==$&&k)return new Uint8Array(k);if(E)return E(O);throw"both async and sync fetching of the wasm failed"}function Ke(O){return k?Promise.resolve().then(()=>De(O)):T(O).then(C=>new Uint8Array(C),()=>De(O))}function Ee(O,C,B){return Ke(O).then(X=>WebAssembly.instantiate(X,C)).then(B,X=>{D(`failed to asynchronously prepare wasm: ${X}`),q(X)})}function Be(O,C,B,X){return!O&&typeof WebAssembly.instantiateStreaming=="function"&&!ue(C)&&!xt(C)&&!u&&typeof fetch=="function"?fetch(C,{credentials:"same-origin"}).then(re=>{var he=WebAssembly.instantiateStreaming(re,B);return he.then(X,function(Ie){return D(`wasm streaming compile failed: ${Ie}`),D("falling back to ArrayBuffer instantiation"),Ee(C,B,X)})}):Ee(C,B,X)}function Ze(){return{a:$f}}function ut(){var O=Ze();function C(X,re){return Qi=X.exports,Qi=Gg(Qi),U=Qi.J,Ce(),R=Qi.M,It(Qi.K),Q("wasm-instantiate"),Qi}ge("wasm-instantiate");function B(X){C(X.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(O,C)}catch(X){D(`Module.instantiateWasm callback failed with error: ${X}`),o(X)}return $||($=ae()),Be(k,$,O,B).catch(o),{}}var Pt=O=>{for(;O.length>0;)O.shift()(r)};function zt(O,C="i8"){switch(C.endsWith("*")&&(C="*"),C){case"i1":return ie[O>>>0];case"i8":return ie[O>>>0];case"i16":return fe[O>>>1>>>0];case"i32":return J[O>>>2>>>0];case"i64":q("to do getValue(i64) use WASM_BIGINT");case"float":return ne[O>>>2>>>0];case"double":return xe[O>>>3>>>0];case"*":return te[O>>>2>>>0];default:q(`invalid type for getValue: ${C}`)}}var Qe=r.noExitRuntime||!0;function Je(O,C,B="i8"){switch(B.endsWith("*")&&(B="*"),B){case"i1":ie[O>>>0]=C;break;case"i8":ie[O>>>0]=C;break;case"i16":fe[O>>>1>>>0]=C;break;case"i32":J[O>>>2>>>0]=C;break;case"i64":q("to do setValue(i64) use WASM_BIGINT");case"float":ne[O>>>2>>>0]=C;break;case"double":xe[O>>>3>>>0]=C;break;case"*":te[O>>>2>>>0]=C;break;default:q(`invalid type for setValue: ${B}`)}}class gt{constructor(C){this.excPtr=C,this.ptr=C-24}set_type(C){te[this.ptr+4>>>2>>>0]=C}get_type(){return te[this.ptr+4>>>2>>>0]}set_destructor(C){te[this.ptr+8>>>2>>>0]=C}get_destructor(){return te[this.ptr+8>>>2>>>0]}set_caught(C){C=C?1:0,ie[this.ptr+12>>>0]=C}get_caught(){return ie[this.ptr+12>>>0]!=0}set_rethrown(C){C=C?1:0,ie[this.ptr+13>>>0]=C}get_rethrown(){return ie[this.ptr+13>>>0]!=0}init(C,B){this.set_adjusted_ptr(0),this.set_type(C),this.set_destructor(B)}set_adjusted_ptr(C){te[this.ptr+16>>>2>>>0]=C}get_adjusted_ptr(){return te[this.ptr+16>>>2>>>0]}get_exception_ptr(){var C=Op(this.get_type());if(C)return te[this.excPtr>>>2>>>0];var B=this.get_adjusted_ptr();return B!==0?B:this.excPtr}}var vt=0,Ct=0;function rn(O,C,B){O>>>=0,C>>>=0,B>>>=0;var X=new gt(O);throw X.init(C,B),vt=O,Ct++,vt}var fn=()=>{q("")},kn={},we=O=>{for(;O.length;){var C=O.pop(),B=O.pop();B(C)}};function Et(O){return this.fromWireType(te[O>>>2>>>0])}var et={},tt={},Ot={},Zt,hn=O=>{throw new Zt(O)},Sn=(O,C,B)=>{O.forEach(function(Me){Ot[Me]=C});function X(Me){var He=B(Me);He.length!==O.length&&hn("Mismatched type converter count");for(var Ue=0;Ue<O.length;++Ue)pi(O[Ue],He[Ue])}var re=new Array(C.length),he=[],Ie=0;C.forEach((Me,He)=>{tt.hasOwnProperty(Me)?re[He]=tt[Me]:(he.push(Me),et.hasOwnProperty(Me)||(et[Me]=[]),et[Me].push(()=>{re[He]=tt[Me],++Ie,Ie===he.length&&X(re)}))}),he.length===0&&X(re)},Yn=function(O){O>>>=0;var C=kn[O];delete kn[O];var B=C.rawConstructor,X=C.rawDestructor,re=C.fields,he=re.map(Ie=>Ie.getterReturnType).concat(re.map(Ie=>Ie.setterArgumentType));Sn([O],he,Ie=>{var Me={};return re.forEach((He,Ue)=>{var ht=He.fieldName,At=Ie[Ue],Ft=He.getter,un=He.getterContext,Wt=Ie[Ue+re.length],Vn=He.setter,br=He.setterContext;Me[ht]={read:Te=>At.fromWireType(Ft(un,Te)),write:(Te,ke)=>{var st=[];Vn(br,Te,Wt.toWireType(st,ke)),we(st)}}}),[{name:C.name,fromWireType:He=>{var Ue={};for(var ht in Me)Ue[ht]=Me[ht].read(He);return X(He),Ue},toWireType:(He,Ue)=>{for(var ht in Me)if(!(ht in Ue))throw new TypeError(`Missing field: "${ht}"`);var At=B();for(ht in Me)Me[ht].write(At,Ue[ht]);return He!==null&&He.push(X,At),At},argPackAdvance:Xr,readValueFromPointer:Et,destructorFunction:X}]})};function zn(O,C,B,X,re){O>>>=0,C>>>=0,B>>>=0}var Di=()=>{for(var O=new Array(256),C=0;C<256;++C)O[C]=String.fromCharCode(C);$r=O},$r,Kn=O=>{for(var C="",B=O;se[B>>>0];)C+=$r[se[B++>>>0]];return C},Sr,Cn=O=>{throw new Sr(O)};function Zo(O,C,B={}){var X=C.name;if(O||Cn(`type "${X}" must have a positive integer typeid pointer`),tt.hasOwnProperty(O)){if(B.ignoreDuplicateRegistrations)return;Cn(`Cannot register type '${X}' twice`)}if(tt[O]=C,delete Ot[O],et.hasOwnProperty(O)){var re=et[O];delete et[O],re.forEach(he=>he())}}function pi(O,C,B={}){if(!("argPackAdvance"in C))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Zo(O,C,B)}var Xr=8;function pl(O,C,B,X){O>>>=0,C>>>=0,C=Kn(C),pi(O,{name:C,fromWireType:function(re){return!!re},toWireType:function(re,he){return he?B:X},argPackAdvance:Xr,readValueFromPointer:function(re){return this.fromWireType(se[re>>>0])},destructorFunction:null})}var _s=O=>({count:O.count,deleteScheduled:O.deleteScheduled,preservePointerOnDelete:O.preservePointerOnDelete,ptr:O.ptr,ptrType:O.ptrType,smartPtr:O.smartPtr,smartPtrType:O.smartPtrType}),ta=O=>{function C(B){return B.$$.ptrType.registeredClass.name}Cn(C(O)+" instance already deleted")},Ao=!1,ka=O=>{},Ss=O=>{O.smartPtr?O.smartPtrType.rawDestructor(O.smartPtr):O.ptrType.registeredClass.rawDestructor(O.ptr)},ki=O=>{O.count.value-=1;var C=O.count.value===0;C&&Ss(O)},ee=(O,C,B)=>{if(C===B)return O;if(B.baseClass===void 0)return null;var X=ee(O,C,B.baseClass);return X===null?null:B.downcast(X)},Re={},Ve=()=>Object.keys(an).length,We=()=>{var O=[];for(var C in an)an.hasOwnProperty(C)&&O.push(an[C]);return O},Oe=[],Tt=()=>{for(;Oe.length;){var O=Oe.pop();O.$$.deleteScheduled=!1,O.delete()}},Lt,jt=O=>{Lt=O,Oe.length&&Lt&&Lt(Tt)},Ht=()=>{r.getInheritedInstanceCount=Ve,r.getLiveInheritedInstances=We,r.flushPendingDeletes=Tt,r.setDelayFunction=jt},an={},dn=(O,C)=>{for(C===void 0&&Cn("ptr should not be undefined");O.baseClass;)C=O.upcast(C),O=O.baseClass;return C},Kt=(O,C)=>(C=dn(O,C),an[C]),Mn=(O,C)=>{(!C.ptrType||!C.ptr)&&hn("makeClassHandle requires ptr and ptrType");var B=!!C.smartPtrType,X=!!C.smartPtr;return B!==X&&hn("Both smartPtrType and smartPtr must be specified"),C.count={value:1},Zn(Object.create(O,{$$:{value:C,writable:!0}}))};function sr(O){var C=this.getPointee(O);if(!C)return this.destructor(O),null;var B=Kt(this.registeredClass,C);if(B!==void 0){if(B.$$.count.value===0)return B.$$.ptr=C,B.$$.smartPtr=O,B.clone();var X=B.clone();return this.destructor(O),X}function re(){return this.isSmartPointer?Mn(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:C,smartPtrType:this,smartPtr:O}):Mn(this.registeredClass.instancePrototype,{ptrType:this,ptr:O})}var he=this.registeredClass.getActualType(C),Ie=Re[he];if(!Ie)return re.call(this);var Me;this.isConst?Me=Ie.constPointerType:Me=Ie.pointerType;var He=ee(C,this.registeredClass,Me.registeredClass);return He===null?re.call(this):this.isSmartPointer?Mn(Me.registeredClass.instancePrototype,{ptrType:Me,ptr:He,smartPtrType:this,smartPtr:O}):Mn(Me.registeredClass.instancePrototype,{ptrType:Me,ptr:He})}var Zn=O=>typeof FinalizationRegistry>"u"?(Zn=C=>C,O):(Ao=new FinalizationRegistry(C=>{ki(C.$$)}),Zn=C=>{var B=C.$$,X=!!B.smartPtr;if(X){var re={$$:B};Ao.register(C,re,C)}return C},ka=C=>Ao.unregister(C),Zn(O)),Ar=()=>{Object.assign(Pn.prototype,{isAliasOf(O){if(!(this instanceof Pn)||!(O instanceof Pn))return!1;var C=this.$$.ptrType.registeredClass,B=this.$$.ptr;O.$$=O.$$;for(var X=O.$$.ptrType.registeredClass,re=O.$$.ptr;C.baseClass;)B=C.upcast(B),C=C.baseClass;for(;X.baseClass;)re=X.upcast(re),X=X.baseClass;return C===X&&B===re},clone(){if(this.$$.ptr||ta(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var O=Zn(Object.create(Object.getPrototypeOf(this),{$$:{value:_s(this.$$)}}));return O.$$.count.value+=1,O.$$.deleteScheduled=!1,O},delete(){this.$$.ptr||ta(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Cn("Object already scheduled for deletion"),ka(this),ki(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||ta(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Cn("Object already scheduled for deletion"),Oe.push(this),Oe.length===1&&Lt&&Lt(Tt),this.$$.deleteScheduled=!0,this}})};function Pn(){}var Gt=(O,C)=>Object.defineProperty(C,"name",{value:O}),Rn=(O,C,B)=>{if(O[C].overloadTable===void 0){var X=O[C];O[C]=function(...re){return O[C].overloadTable.hasOwnProperty(re.length)||Cn(`Function '${B}' called with an invalid number of arguments (${re.length}) - expects one of (${O[C].overloadTable})!`),O[C].overloadTable[re.length].apply(this,re)},O[C].overloadTable=[],O[C].overloadTable[X.argCount]=X}},pn=(O,C,B)=>{r.hasOwnProperty(O)?((B===void 0||r[O].overloadTable!==void 0&&r[O].overloadTable[B]!==void 0)&&Cn(`Cannot register public name '${O}' twice`),Rn(r,O,O),r.hasOwnProperty(B)&&Cn(`Cannot register multiple overloads of a function with the same number of arguments (${B})!`),r[O].overloadTable[B]=C):(r[O]=C,B!==void 0&&(r[O].numArguments=B))},Pr=48,Ji=57,Jt=O=>{if(O===void 0)return"_unknown";O=O.replace(/[^a-zA-Z0-9_]/g,"$");var C=O.charCodeAt(0);return C>=Pr&&C<=Ji?`_${O}`:O};function na(O,C,B,X,re,he,Ie,Me){this.name=O,this.constructor=C,this.instancePrototype=B,this.rawDestructor=X,this.baseClass=re,this.getActualType=he,this.upcast=Ie,this.downcast=Me,this.pureVirtualFunctions=[]}var Jn=(O,C,B)=>{for(;C!==B;)C.upcast||Cn(`Expected null or instance of ${B.name}, got an instance of ${C.name}`),O=C.upcast(O),C=C.baseClass;return O};function Fi(O,C){if(C===null)return this.isReference&&Cn(`null is not a valid ${this.name}`),0;C.$$||Cn(`Cannot pass "${tu(C)}" as a ${this.name}`),C.$$.ptr||Cn(`Cannot pass deleted object as a pointer of type ${this.name}`);var B=C.$$.ptrType.registeredClass,X=Jn(C.$$.ptr,B,this.registeredClass);return X}function Ei(O,C){var B;if(C===null)return this.isReference&&Cn(`null is not a valid ${this.name}`),this.isSmartPointer?(B=this.rawConstructor(),O!==null&&O.push(this.rawDestructor,B),B):0;(!C||!C.$$)&&Cn(`Cannot pass "${tu(C)}" as a ${this.name}`),C.$$.ptr||Cn(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&C.$$.ptrType.isConst&&Cn(`Cannot convert argument of type ${C.$$.smartPtrType?C.$$.smartPtrType.name:C.$$.ptrType.name} to parameter type ${this.name}`);var X=C.$$.ptrType.registeredClass;if(B=Jn(C.$$.ptr,X,this.registeredClass),this.isSmartPointer)switch(C.$$.smartPtr===void 0&&Cn("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:C.$$.smartPtrType===this?B=C.$$.smartPtr:Cn(`Cannot convert argument of type ${C.$$.smartPtrType?C.$$.smartPtrType.name:C.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:B=C.$$.smartPtr;break;case 2:if(C.$$.smartPtrType===this)B=C.$$.smartPtr;else{var re=C.clone();B=this.rawShare(B,qr.toHandle(()=>re.delete())),O!==null&&O.push(this.rawDestructor,B)}break;default:Cn("Unsupporting sharing policy")}return B}function ri(O,C){if(C===null)return this.isReference&&Cn(`null is not a valid ${this.name}`),0;C.$$||Cn(`Cannot pass "${tu(C)}" as a ${this.name}`),C.$$.ptr||Cn(`Cannot pass deleted object as a pointer of type ${this.name}`),C.$$.ptrType.isConst&&Cn(`Cannot convert argument of type ${C.$$.ptrType.name} to parameter type ${this.name}`);var B=C.$$.ptrType.registeredClass,X=Jn(C.$$.ptr,B,this.registeredClass);return X}var f=()=>{Object.assign(m.prototype,{getPointee(O){return this.rawGetPointee&&(O=this.rawGetPointee(O)),O},destructor(O){this.rawDestructor?.(O)},argPackAdvance:Xr,readValueFromPointer:Et,fromWireType:sr})};function m(O,C,B,X,re,he,Ie,Me,He,Ue,ht){this.name=O,this.registeredClass=C,this.isReference=B,this.isConst=X,this.isSmartPointer=re,this.pointeeType=he,this.sharingPolicy=Ie,this.rawGetPointee=Me,this.rawConstructor=He,this.rawShare=Ue,this.rawDestructor=ht,!re&&C.baseClass===void 0?X?(this.toWireType=Fi,this.destructorFunction=null):(this.toWireType=ri,this.destructorFunction=null):this.toWireType=Ei}var _=(O,C,B)=>{r.hasOwnProperty(O)||hn("Replacing nonexistent public symbol"),r[O].overloadTable!==void 0&&B!==void 0?r[O].overloadTable[B]=C:(r[O]=C,r[O].argCount=B)},M=(O,C,B)=>{O=O.replace(/p/g,"i");var X=r["dynCall_"+O];return X(C,...B)},R,G=O=>R.get(O),Z=(O,C,B=[])=>{if(O.includes("j"))return M(O,C,B);var X=G(C)(...B);return O[0]=="p"?X>>>0:X},ce=(O,C)=>(...B)=>Z(O,C,B),be=(O,C)=>{O=Kn(O);function B(){return O.includes("j")||O.includes("p")?ce(O,C):G(C)}var X=B();return typeof X!="function"&&Cn(`unknown function pointer with signature ${O}: ${C}`),X},Xe=(O,C)=>{var B=Gt(C,function(X){this.name=C,this.message=X;var re=new Error(X).stack;re!==void 0&&(this.stack=this.toString()+`
`+re.replace(/^Error(:[^\n]*)?\n/,""))});return B.prototype=Object.create(O.prototype),B.prototype.constructor=B,B.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},B},lt,ft=O=>{var C=Np(O),B=Kn(C);return Qo(C),B},Mt=(O,C)=>{var B=[],X={};function re(he){if(!X[he]&&!tt[he]){if(Ot[he]){Ot[he].forEach(re);return}B.push(he),X[he]=!0}}throw C.forEach(re),new lt(`${O}: `+B.map(ft).join([", "]))};function gn(O,C,B,X,re,he,Ie,Me,He,Ue,ht,At,Ft){O>>>=0,C>>>=0,B>>>=0,X>>>=0,re>>>=0,he>>>=0,Ie>>>=0,Me>>>=0,He>>>=0,Ue>>>=0,ht>>>=0,At>>>=0,Ft>>>=0,ht=Kn(ht),he=be(re,he),Me&&(Me=be(Ie,Me)),Ue&&(Ue=be(He,Ue)),Ft=be(At,Ft);var un=Jt(ht);pn(un,function(){Mt(`Cannot construct ${ht} due to unbound types`,[X])}),Sn([O,C,B],X?[X]:[],Wt=>{var di;Wt=Wt[0];var Vn,br;X?(Vn=Wt.registeredClass,br=Vn.instancePrototype):br=Pn.prototype;var Te=Gt(ht,function(...es){if(Object.getPrototypeOf(this)!==ke)throw new Sr("Use 'new' to construct "+ht);if(st.constructor_body===void 0)throw new Sr(ht+" has no accessible constructor");var oi=st.constructor_body[es.length];if(oi===void 0)throw new Sr(`Tried to invoke ctor of ${ht} with invalid number of parameters (${es.length}) - expected (${Object.keys(st.constructor_body).toString()}) parameters instead!`);return oi.apply(this,es)}),ke=Object.create(br,{constructor:{value:Te}});Te.prototype=ke;var st=new na(ht,Te,ke,Ft,Vn,he,Me,Ue);st.baseClass&&((di=st.baseClass).__derivedClasses??(di.__derivedClasses=[]),st.baseClass.__derivedClasses.push(st));var _t=new m(ht,st,!0,!1,!1),sn=new m(ht+"*",st,!1,!1,!1),xr=new m(ht+" const*",st,!1,!0,!1);return Re[O]={pointerType:sn,constPointerType:xr},_(un,Te),[_t,sn,xr]})}var on=(O,C)=>{for(var B=[],X=0;X<O;X++)B.push(te[C+X*4>>>2>>>0]);return B};function An(O){for(var C=1;C<O.length;++C)if(O[C]!==null&&O[C].destructorFunction===void 0)return!0;return!1}function jr(O,C){if(!(O instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof O} which is not a function`);var B=Gt(O.name||"unknownFunctionName",function(){});B.prototype=O.prototype;var X=new B,re=O.apply(X,C);return re instanceof Object?re:X}function Yr(O,C,B,X){for(var re=An(O),he=O.length,Ie="",Me="",He=0;He<he-2;++He)Ie+=(He!==0?", ":"")+"arg"+He,Me+=(He!==0?", ":"")+"arg"+He+"Wired";var Ue=`
        return function (${Ie}) {
        if (arguments.length !== ${he-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${he-2}');
        }`;re&&(Ue+=`var destructors = [];
`);var ht=re?"destructors":"null",At=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];C&&(Ue+="var thisWired = classParam['toWireType']("+ht+`, this);
`);for(var He=0;He<he-2;++He)Ue+="var arg"+He+"Wired = argType"+He+"['toWireType']("+ht+", arg"+He+`);
`,At.push("argType"+He);if(C&&(Me="thisWired"+(Me.length>0?", ":"")+Me),Ue+=(B||X?"var rv = ":"")+"invoker(fn"+(Me.length>0?", ":"")+Me+`);
`,re)Ue+=`runDestructors(destructors);
`;else for(var He=C?1:2;He<O.length;++He){var Ft=He===1?"thisWired":"arg"+(He-2)+"Wired";O[He].destructorFunction!==null&&(Ue+=`${Ft}_dtor(${Ft});
`,At.push(`${Ft}_dtor`))}return B&&(Ue+=`var ret = retType['fromWireType'](rv);
return ret;
`),Ue+=`}
`,[At,Ue]}function Ui(O,C,B,X,re,he){var Ie=C.length;Ie<2&&Cn("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var Me=C[1]!==null&&B!==null,He=An(C),Ue=C[0].name!=="void",ht=[O,Cn,X,re,we,C[0],C[1]],At=0;At<Ie-2;++At)ht.push(C[At+2]);if(!He)for(var At=Me?1:2;At<C.length;++At)C[At].destructorFunction!==null&&ht.push(C[At].destructorFunction);let[Ft,un]=Yr(C,Me,Ue,he);Ft.push(un);var Wt=jr(Function,Ft)(...ht);return Gt(O,Wt)}var Bf=function(O,C,B,X,re,he){O>>>=0,B>>>=0,X>>>=0,re>>>=0,he>>>=0;var Ie=on(C,B);re=be(X,re),Sn([],[O],Me=>{Me=Me[0];var He=`constructor ${Me.name}`;if(Me.registeredClass.constructor_body===void 0&&(Me.registeredClass.constructor_body=[]),Me.registeredClass.constructor_body[C-1]!==void 0)throw new Sr(`Cannot register multiple constructors with identical number of parameters (${C-1}) for class '${Me.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return Me.registeredClass.constructor_body[C-1]=()=>{Mt(`Cannot construct ${Me.name} due to unbound types`,Ie)},Sn([],Ie,Ue=>(Ue.splice(1,0,null),Me.registeredClass.constructor_body[C-1]=Ui(He,Ue,null,re,he),[])),[]})},dl=O=>{O=O.trim();let C=O.indexOf("(");return C!==-1?O.substr(0,C):O},ra=function(O,C,B,X,re,he,Ie,Me,He){O>>>=0,C>>>=0,X>>>=0,re>>>=0,he>>>=0,Ie>>>=0;var Ue=on(B,X);C=Kn(C),C=dl(C),he=be(re,he),Sn([],[O],ht=>{ht=ht[0];var At=`${ht.name}.${C}`;C.startsWith("@@")&&(C=Symbol[C.substring(2)]),Me&&ht.registeredClass.pureVirtualFunctions.push(C);function Ft(){Mt(`Cannot call ${At} due to unbound types`,Ue)}var un=ht.registeredClass.instancePrototype,Wt=un[C];return Wt===void 0||Wt.overloadTable===void 0&&Wt.className!==ht.name&&Wt.argCount===B-2?(Ft.argCount=B-2,Ft.className=ht.name,un[C]=Ft):(Rn(un,C,At),un[C].overloadTable[B-2]=Ft),Sn([],Ue,Vn=>{var br=Ui(At,Vn,ht,he,Ie,He);return un[C].overloadTable===void 0?(br.argCount=B-2,un[C]=br):un[C].overloadTable[B-2]=br,[]}),[]})},zf=[],bs=[];function Hf(O){O>>>=0,O>9&&--bs[O+1]===0&&(bs[O]=void 0,zf.push(O))}var kg=()=>bs.length/2-5-zf.length,Fg=()=>{bs.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=kg},qr={toValue:O=>(O||Cn("Cannot use deleted val. handle = "+O),bs[O]),toHandle:O=>{switch(O){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{let C=zf.pop()||bs.length;return bs[C]=O,bs[C+1]=1,C}}}},Cp={name:"emscripten::val",fromWireType:O=>{var C=qr.toValue(O);return Hf(O),C},toWireType:(O,C)=>qr.toHandle(C),argPackAdvance:Xr,readValueFromPointer:Et,destructorFunction:null};function sc(O){return O>>>=0,pi(O,Cp)}var Mp=(O,C,B)=>{switch(C){case 1:return B?function(X){return this.fromWireType(ie[X>>>0])}:function(X){return this.fromWireType(se[X>>>0])};case 2:return B?function(X){return this.fromWireType(fe[X>>>1>>>0])}:function(X){return this.fromWireType(_e[X>>>1>>>0])};case 4:return B?function(X){return this.fromWireType(J[X>>>2>>>0])}:function(X){return this.fromWireType(te[X>>>2>>>0])};default:throw new TypeError(`invalid integer width (${C}): ${O}`)}};function ac(O,C,B,X){O>>>=0,C>>>=0,B>>>=0,C=Kn(C);function re(){}re.values={},pi(O,{name:C,constructor:re,fromWireType:function(he){return this.constructor.values[he]},toWireType:(he,Ie)=>Ie.value,argPackAdvance:Xr,readValueFromPointer:Mp(C,B,X),destructorFunction:null}),pn(C,re)}var eu=(O,C)=>{var B=tt[O];return B===void 0&&Cn(`${C} has unknown type ${ft(O)}`),B};function Ap(O,C,B){O>>>=0,C>>>=0;var X=eu(O,"enum");C=Kn(C);var re=X.constructor,he=Object.create(X.constructor.prototype,{value:{value:B},constructor:{value:Gt(`${X.name}_${C}`,function(){})}});re.values[B]=he,re[C]=he}var tu=O=>{if(O===null)return"null";var C=typeof O;return C==="object"||C==="array"||C==="function"?O.toString():""+O},Pp=(O,C)=>{switch(C){case 4:return function(B){return this.fromWireType(ne[B>>>2>>>0])};case 8:return function(B){return this.fromWireType(xe[B>>>3>>>0])};default:throw new TypeError(`invalid float width (${C}): ${O}`)}},Ug=function(O,C,B){O>>>=0,C>>>=0,B>>>=0,C=Kn(C),pi(O,{name:C,fromWireType:X=>X,toWireType:(X,re)=>re,argPackAdvance:Xr,readValueFromPointer:Pp(C,B),destructorFunction:null})};function Bg(O,C,B,X,re,he,Ie){O>>>=0,B>>>=0,X>>>=0,re>>>=0,he>>>=0;var Me=on(C,B);O=Kn(O),O=dl(O),re=be(X,re),pn(O,function(){Mt(`Cannot call ${O} due to unbound types`,Me)},C-1),Sn([],Me,He=>{var Ue=[He[0],null].concat(He.slice(1));return _(O,Ui(O,Ue,null,re,he,Ie),C-1),[]})}var nu=(O,C,B)=>{switch(C){case 1:return B?X=>ie[X>>>0]:X=>se[X>>>0];case 2:return B?X=>fe[X>>>1>>>0]:X=>_e[X>>>1>>>0];case 4:return B?X=>J[X>>>2>>>0]:X=>te[X>>>2>>>0];default:throw new TypeError(`invalid integer width (${C}): ${O}`)}};function Rp(O,C,B,X,re){O>>>=0,C>>>=0,B>>>=0,C=Kn(C),re===-1&&(re=4294967295);var he=ht=>ht;if(X===0){var Ie=32-8*B;he=ht=>ht<<Ie>>>Ie}var Me=C.includes("unsigned"),He=(ht,At)=>{},Ue;Me?Ue=function(ht,At){return He(At,this.name),At>>>0}:Ue=function(ht,At){return He(At,this.name),At},pi(O,{name:C,fromWireType:he,toWireType:Ue,argPackAdvance:Xr,readValueFromPointer:nu(C,B,X!==0),destructorFunction:null})}function Vf(O,C,B){O>>>=0,B>>>=0;var X=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],re=X[C];function he(Ie){var Me=te[Ie>>>2>>>0],He=te[Ie+4>>>2>>>0];return new re(ie.buffer,He,Me)}B=Kn(B),pi(O,{name:B,fromWireType:he,argPackAdvance:Xr,readValueFromPointer:he},{ignoreDuplicateRegistrations:!0})}function zg(O,C){O>>>=0,C>>>=0,sc(O)}var Hg=(O,C,B,X)=>{if(B>>>=0,!(X>0))return 0;for(var re=B,he=B+X-1,Ie=0;Ie<O.length;++Ie){var Me=O.charCodeAt(Ie);if(Me>=55296&&Me<=57343){var He=O.charCodeAt(++Ie);Me=65536+((Me&1023)<<10)|He&1023}if(Me<=127){if(B>=he)break;C[B++>>>0]=Me}else if(Me<=2047){if(B+1>=he)break;C[B++>>>0]=192|Me>>6,C[B++>>>0]=128|Me&63}else if(Me<=65535){if(B+2>=he)break;C[B++>>>0]=224|Me>>12,C[B++>>>0]=128|Me>>6&63,C[B++>>>0]=128|Me&63}else{if(B+3>=he)break;C[B++>>>0]=240|Me>>18,C[B++>>>0]=128|Me>>12&63,C[B++>>>0]=128|Me>>6&63,C[B++>>>0]=128|Me&63}}return C[B>>>0]=0,B-re},Vg=(O,C,B)=>Hg(O,se,C,B),g=O=>{for(var C=0,B=0;B<O.length;++B){var X=O.charCodeAt(B);X<=127?C++:X<=2047?C+=2:X>=55296&&X<=57343?(C+=4,++B):C+=3}return C},w=typeof TextDecoder<"u"?new TextDecoder:void 0,P=(O,C,B)=>{C>>>=0;for(var X=C+B,re=C;O[re]&&!(re>=X);)++re;if(re-C>16&&O.buffer&&w)return w.decode(O.subarray(C,re));for(var he="";C<re;){var Ie=O[C++];if(!(Ie&128)){he+=String.fromCharCode(Ie);continue}var Me=O[C++]&63;if((Ie&224)==192){he+=String.fromCharCode((Ie&31)<<6|Me);continue}var He=O[C++]&63;if((Ie&240)==224?Ie=(Ie&15)<<12|Me<<6|He:Ie=(Ie&7)<<18|Me<<12|He<<6|O[C++]&63,Ie<65536)he+=String.fromCharCode(Ie);else{var Ue=Ie-65536;he+=String.fromCharCode(55296|Ue>>10,56320|Ue&1023)}}return he},I=(O,C)=>(O>>>=0,O?P(se,O,C):"");function V(O,C){O>>>=0,C>>>=0,C=Kn(C);var B=C==="std::string";pi(O,{name:C,fromWireType(X){var re=te[X>>>2>>>0],he=X+4,Ie;if(B)for(var Me=he,He=0;He<=re;++He){var Ue=he+He;if(He==re||se[Ue>>>0]==0){var ht=Ue-Me,At=I(Me,ht);Ie===void 0?Ie=At:(Ie+="\0",Ie+=At),Me=Ue+1}}else{for(var Ft=new Array(re),He=0;He<re;++He)Ft[He]=String.fromCharCode(se[he+He>>>0]);Ie=Ft.join("")}return Qo(X),Ie},toWireType(X,re){re instanceof ArrayBuffer&&(re=new Uint8Array(re));var he,Ie=typeof re=="string";Ie||re instanceof Uint8Array||re instanceof Uint8ClampedArray||re instanceof Int8Array||Cn("Cannot pass non-string to std::string"),B&&Ie?he=g(re):he=re.length;var Me=Wg(4+he+1),He=Me+4;if(te[Me>>>2>>>0]=he,B&&Ie)Vg(re,He,he+1);else if(Ie)for(var Ue=0;Ue<he;++Ue){var ht=re.charCodeAt(Ue);ht>255&&(Qo(He),Cn("String has UTF-16 code units that do not fit in 8 bits")),se[He+Ue>>>0]=ht}else for(var Ue=0;Ue<he;++Ue)se[He+Ue>>>0]=re[Ue];return X!==null&&X.push(Qo,Me),Me},argPackAdvance:Xr,readValueFromPointer:Et,destructorFunction(X){Qo(X)}})}var H=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Y=(O,C)=>{for(var B=O,X=B>>1,re=X+C/2;!(X>=re)&&_e[X>>>0];)++X;if(B=X<<1,B-O>32&&H)return H.decode(se.subarray(O>>>0,B>>>0));for(var he="",Ie=0;!(Ie>=C/2);++Ie){var Me=fe[O+Ie*2>>>1>>>0];if(Me==0)break;he+=String.fromCharCode(Me)}return he},Se=(O,C,B)=>{if(B??(B=2147483647),B<2)return 0;B-=2;for(var X=C,re=B<O.length*2?B/2:O.length,he=0;he<re;++he){var Ie=O.charCodeAt(he);fe[C>>>1>>>0]=Ie,C+=2}return fe[C>>>1>>>0]=0,C-X},de=O=>O.length*2,Pe=(O,C)=>{for(var B=0,X="";!(B>=C/4);){var re=J[O+B*4>>>2>>>0];if(re==0)break;if(++B,re>=65536){var he=re-65536;X+=String.fromCharCode(55296|he>>10,56320|he&1023)}else X+=String.fromCharCode(re)}return X},qe=(O,C,B)=>{if(C>>>=0,B??(B=2147483647),B<4)return 0;for(var X=C,re=X+B-4,he=0;he<O.length;++he){var Ie=O.charCodeAt(he);if(Ie>=55296&&Ie<=57343){var Me=O.charCodeAt(++he);Ie=65536+((Ie&1023)<<10)|Me&1023}if(J[C>>>2>>>0]=Ie,C+=4,C+4>re)break}return J[C>>>2>>>0]=0,C-X},at=O=>{for(var C=0,B=0;B<O.length;++B){var X=O.charCodeAt(B);X>=55296&&X<=57343&&++B,C+=4}return C},Ge=function(O,C,B){O>>>=0,C>>>=0,B>>>=0,B=Kn(B);var X,re,he,Ie;C===2?(X=Y,re=Se,Ie=de,he=Me=>_e[Me>>>1>>>0]):C===4&&(X=Pe,re=qe,Ie=at,he=Me=>te[Me>>>2>>>0]),pi(O,{name:B,fromWireType:Me=>{for(var He=te[Me>>>2>>>0],Ue,ht=Me+4,At=0;At<=He;++At){var Ft=Me+4+At*C;if(At==He||he(Ft)==0){var un=Ft-ht,Wt=X(ht,un);Ue===void 0?Ue=Wt:(Ue+="\0",Ue+=Wt),ht=Ft+C}}return Qo(Me),Ue},toWireType:(Me,He)=>{typeof He!="string"&&Cn(`Cannot pass non-string to C++ string type ${B}`);var Ue=Ie(He),ht=Wg(4+Ue+C);return te[ht>>>2>>>0]=Ue/C,re(He,ht+4,Ue+C),Me!==null&&Me.push(Qo,ht),ht},argPackAdvance:Xr,readValueFromPointer:Et,destructorFunction(Me){Qo(Me)}})};function bt(O,C,B,X,re,he){O>>>=0,C>>>=0,B>>>=0,X>>>=0,re>>>=0,he>>>=0,kn[O]={name:Kn(C),rawConstructor:be(B,X),rawDestructor:be(re,he),fields:[]}}function yn(O,C,B,X,re,he,Ie,Me,He,Ue){O>>>=0,C>>>=0,B>>>=0,X>>>=0,re>>>=0,he>>>=0,Ie>>>=0,Me>>>=0,He>>>=0,Ue>>>=0,kn[O].fields.push({fieldName:Kn(C),getterReturnType:B,getter:be(X,re),getterContext:he,setterArgumentType:Ie,setter:be(Me,He),setterContext:Ue})}var Hn=function(O,C){O>>>=0,C>>>=0,C=Kn(C),pi(O,{isVoid:!0,name:C,argPackAdvance:0,fromWireType:()=>{},toWireType:(B,X)=>{}})};function wn(O,C,B){return O>>>=0,C>>>=0,B>>>=0,se.copyWithin(O>>>0,C>>>0,C+B>>>0)}var kr=(O,C,B)=>{var X=[],re=O.toWireType(X,B);return X.length&&(te[C>>>2>>>0]=qr.toHandle(X)),re};function Fr(O,C,B){return O>>>=0,C>>>=0,B>>>=0,O=qr.toValue(O),C=eu(C,"emval::as"),kr(C,B,O)}var Ko={},W=O=>{var C=Ko[O];return C===void 0?Kn(O):C},z=[];function le(O,C,B,X,re){return O>>>=0,C>>>=0,B>>>=0,X>>>=0,re>>>=0,O=z[O],C=qr.toValue(C),B=W(B),O(C,C[B],X,re)}function pe(O,C){return O>>>=0,C>>>=0,O=qr.toValue(O),C=qr.toValue(C),O==C}var Fe=O=>{var C=z.length;return z.push(O),C},dt=(O,C)=>{for(var B=new Array(O),X=0;X<O;++X)B[X]=eu(te[C+X*4>>>2>>>0],"parameter "+X);return B},wt=Reflect.construct;function nt(O,C,B){C>>>=0;var X=dt(O,C),re=X.shift();O--;var he=`return function (obj, func, destructorsRef, args) {
`,Ie=0,Me=[];B===0&&Me.push("obj");for(var He=["retType"],Ue=[re],ht=0;ht<O;++ht)Me.push("arg"+ht),He.push("argType"+ht),Ue.push(X[ht]),he+=`  var arg${ht} = argType${ht}.readValueFromPointer(args${Ie?"+"+Ie:""});
`,Ie+=X[ht].argPackAdvance;var At=B===1?"new func":"func.call";he+=`  var rv = ${At}(${Me.join(", ")});
`,re.isVoid||(He.push("emval_returnValue"),Ue.push(kr),he+=`  return emval_returnValue(retType, destructorsRef, rv);
`),he+=`};
`,He.push(he);var Ft=jr(Function,He)(...Ue),un=`methodCaller<(${X.map(Wt=>Wt.name).join(", ")}) => ${re.name}>`;return Fe(Gt(un,Ft))}function Dt(O,C){return O>>>=0,C>>>=0,O=qr.toValue(O),C=qr.toValue(C),qr.toHandle(O[C])}function Vt(O){O>>>=0,O>9&&(bs[O+1]+=1)}function Qt(O){return O>>>=0,qr.toHandle(W(O))}function mn(){return qr.toHandle({})}function Fn(O){O>>>=0;var C=qr.toValue(O);we(C),Hf(O)}function ii(O,C,B){O>>>=0,C>>>=0,B>>>=0,O=qr.toValue(O),C=qr.toValue(C),B=qr.toValue(B),O[C]=B}function ar(O,C){O>>>=0,C>>>=0,O=eu(O,"_emval_take_value");var B=O.readValueFromPointer(C);return qr.toHandle(B)}var Ur=()=>4294901760,Fa=O=>{var C=U.buffer,B=(O-C.byteLength+65535)/65536;try{return U.grow(B),Ce(),1}catch{}};function ho(O){O>>>=0;var C=se.length,B=Ur();if(O>B)return!1;for(var X=(He,Ue)=>He+(Ue-He%Ue)%Ue,re=1;re<=4;re*=2){var he=C*(1+.2/re);he=Math.min(he,O+100663296);var Ie=Math.min(B,X(Math.max(O,he),65536)),Me=Fa(Ie);if(Me)return!0}return!1}var ml=(O,C)=>{O<128?C.push(O):C.push(O%128|128,O>>7)},En=O=>{for(var C={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},B={parameters:[],results:O[0]=="v"?[]:[C[O[0]]]},X=1;X<O.length;++X)B.parameters.push(C[O[X]]);return B},lc=(O,C)=>{var B=O.slice(0,1),X=O.slice(1),re={i:127,p:127,j:126,f:125,d:124,e:111};C.push(96),ml(X.length,C);for(var he=0;he<X.length;++he)C.push(re[X[he]]);B=="v"?C.push(0):C.push(1,re[B])},po=(O,C)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(En(C),O);var B=[1];lc(C,B);var X=[0,97,115,109,1,0,0,0,1];ml(B.length,X),X.push(...B),X.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var re=new WebAssembly.Module(new Uint8Array(X)),he=new WebAssembly.Instance(re,{e:{f:O}}),Ie=he.exports.f;return Ie},Ua=(O,C)=>{if(ia)for(var B=O;B<O+C;B++){var X=G(B);X&&ia.set(X,B)}},ia,Wf=O=>(ia||(ia=new WeakMap,Ua(0,R.length)),ia.get(O)||0),ru=[],iu=()=>{if(ru.length)return ru.pop();try{R.grow(1)}catch(O){throw O instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":O}return R.length-1},Gf=(O,C)=>R.set(O,C),Jo=(O,C)=>{var B=Wf(O);if(B)return B;var X=iu();try{Gf(X,O)}catch(he){if(!(he instanceof TypeError))throw he;var re=po(O,C);Gf(X,re)}return ia.set(O,X),X},uc=O=>{ia.delete(G(O)),Gf(O,null),ru.push(O)};Zt=r.InternalError=class extends Error{constructor(C){super(C),this.name="InternalError"}},Di(),Sr=r.BindingError=class extends Error{constructor(C){super(C),this.name="BindingError"}},Ar(),Ht(),f(),lt=r.UnboundTypeError=Xe(Error,"UnboundTypeError"),Fg();var $f={i:rn,D:fn,n:Yn,C:zn,H:pl,h:gn,g:Bf,a:ra,G:sc,t:ac,e:Ap,x:Ug,c:Bg,j:Rp,f:Vf,k:zg,w:V,s:Ge,o:bt,l:yn,I:Hn,F:wn,v:Fr,z:le,b:Hf,m:pe,y:nt,B:Dt,u:Vt,q:Qt,A:mn,p:Fn,r:ii,d:ar,E:ho},Qi=ut(),Ip=()=>(Ip=Qi.K)(),Np=O=>(Np=Qi.L)(O),Wg=O=>(Wg=Qi.N)(O),Qo=O=>(Qo=Qi.O)(O),Op=O=>(Op=Qi.P)(O);function Gg(O){O=Object.assign({},O);var C=X=>re=>X(re)>>>0,B=X=>()=>X()>>>0;return O.L=C(O.L),O.N=C(O.N),O._emscripten_stack_alloc=C(O._emscripten_stack_alloc),O.emscripten_stack_get_current=B(O.emscripten_stack_get_current),O}r.addFunction=Jo,r.removeFunction=uc;var Lp;ye=function O(){Lp||Dp(),Lp||(ye=O)};function Dp(){if(mt>0||(ze(),mt>0))return;function O(){Lp||(Lp=!0,r.calledRun=!0,!L&&(je(),i(r),r.onRuntimeInitialized?.(),it()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),O()},1)):O()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return Dp(),n=s,n}})(),N3=yre;var O3={};var xre=(()=>{var t=O3.url;return function(e={}){var n,r=e,i,o,s=new Promise((W,z)=>{i=W,o=z}),a=!0,l=!1,u=Object.assign({},r),c=[],h="./this.program",p="";function d(W){return r.locateFile?r.locateFile(W,p):p+W}var v,b;(a||l)&&(l?p=self.location.href:typeof document<"u"&&document.currentScript&&(p=document.currentScript.src),t&&(p=t),p.startsWith("blob:")?p="":p=p.substr(0,p.replace(/[?#].*/,"").lastIndexOf("/")+1),v=W=>fetch(W,{credentials:"same-origin"}).then(z=>z.ok?z.arrayBuffer():Promise.reject(new Error(z.status+" : "+z.url))));var S=r.print||console.log.bind(console),y=r.printErr||console.error.bind(console);Object.assign(r,u),u=null,r.arguments&&(c=r.arguments),r.thisProgram&&(h=r.thisProgram);var T=r.wasmBinary,E,A=!1,N,x,D,k,U,L,j,ie,se,fe;function _e(){var W=E.buffer;r.HEAP8=N=new Int8Array(W),r.HEAP16=D=new Int16Array(W),r.HEAPU8=x=new Uint8Array(W),r.HEAPU16=k=new Uint16Array(W),r.HEAP32=U=new Int32Array(W),r.HEAPU32=L=new Uint32Array(W),r.HEAPF32=j=new Float32Array(W),r.HEAPF64=fe=new Float64Array(W),r.HEAP64=ie=new BigInt64Array(W),r.HEAPU64=se=new BigUint64Array(W)}var J=[],te=[],ne=[],xe=!1;function Ce(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)ot(r.preRun.shift());Ke(J)}function Le(){xe=!0,Ke(te)}function rt(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)ze(r.postRun.shift());Ke(ne)}function ot(W){J.unshift(W)}function Ae(W){te.unshift(W)}function ze(W){ne.unshift(W)}var je=0,it=null,pt=null;function It(W){je++,r.monitorRunDependencies?.(je)}function Nt(W){if(je--,r.monitorRunDependencies?.(je),je==0&&(it!==null&&(clearInterval(it),it=null),pt)){var z=pt;pt=null,z()}}function mt(W){r.onAbort?.(W),W="Aborted("+W+")",y(W),A=!0,W+=". Build with -sASSERTIONS for more info.";var z=new WebAssembly.RuntimeError(W);throw o(z),z}var K="data:application/octet-stream;base64,",ye=W=>W.startsWith(K);function ge(){if(r.locateFile){var W="clipper2z.wasm";return ye(W)?W:d(W)}return new URL("clipper2z.wasm",O3.url).href}var Q;function q(W){if(W==Q&&T)return new Uint8Array(T);if(b)return b(W);throw"both async and sync fetching of the wasm failed"}function ve(W){return T?Promise.resolve().then(()=>q(W)):v(W).then(z=>new Uint8Array(z),()=>q(W))}function ue(W,z,le){return ve(W).then(pe=>WebAssembly.instantiate(pe,z)).then(le,pe=>{y(`failed to asynchronously prepare wasm: ${pe}`),mt(pe)})}function xt(W,z,le,pe){return!W&&typeof WebAssembly.instantiateStreaming=="function"&&!ye(z)&&typeof fetch=="function"?fetch(z,{credentials:"same-origin"}).then(Fe=>{var dt=WebAssembly.instantiateStreaming(Fe,le);return dt.then(pe,function(wt){return y(`wasm streaming compile failed: ${wt}`),y("falling back to ArrayBuffer instantiation"),ue(z,le,pe)})}):ue(z,le,pe)}function ae(){return{a:V}}function $(){function W(pe,Fe){return H=pe.exports,E=H.t,_e(),Pr=H.w,Ae(H.u),Nt("wasm-instantiate"),H}It("wasm-instantiate");function z(pe){W(pe.instance)}var le=ae();if(r.instantiateWasm)try{return r.instantiateWasm(le,W)}catch(pe){y(`Module.instantiateWasm callback failed with error: ${pe}`),o(pe)}return Q??(Q=ge()),xt(T,Q,le,z).catch(o),{}}class De{constructor(z){M3(this,"name","ExitStatus");this.message=`Program terminated with exit(${z})`,this.status=z}}var Ke=W=>{for(;W.length>0;)W.shift()(r)},Ee=r.noExitRuntime||!0;class Be{constructor(z){this.excPtr=z,this.ptr=z-24}set_type(z){L[this.ptr+4>>2]=z}get_type(){return L[this.ptr+4>>2]}set_destructor(z){L[this.ptr+8>>2]=z}get_destructor(){return L[this.ptr+8>>2]}set_caught(z){z=z?1:0,N[this.ptr+12]=z}get_caught(){return N[this.ptr+12]!=0}set_rethrown(z){z=z?1:0,N[this.ptr+13]=z}get_rethrown(){return N[this.ptr+13]!=0}init(z,le){this.set_adjusted_ptr(0),this.set_type(z),this.set_destructor(le)}set_adjusted_ptr(z){L[this.ptr+16>>2]=z}get_adjusted_ptr(){return L[this.ptr+16>>2]}}var Ze=0,ut=0,Pt=(W,z,le)=>{var pe=new Be(W);throw pe.init(z,le),Ze=W,ut++,Ze},zt=()=>mt(""),Qe=W=>{if(W===null)return"null";var z=typeof W;return z==="object"||z==="array"||z==="function"?W.toString():""+W},Je=()=>{for(var W=new Array(256),z=0;z<256;++z)W[z]=String.fromCharCode(z);gt=W},gt,vt=W=>{for(var z="",le=W;x[le];)z+=gt[x[le++]];return z},Ct={},rn={},fn={},kn,we=W=>{throw new kn(W)},Et,et=W=>{throw new Et(W)},tt=(W,z,le)=>{W.forEach(nt=>fn[nt]=z);function pe(nt){var Dt=le(nt);Dt.length!==W.length&&et("Mismatched type converter count");for(var Vt=0;Vt<W.length;++Vt)Zt(W[Vt],Dt[Vt])}var Fe=new Array(z.length),dt=[],wt=0;z.forEach((nt,Dt)=>{rn.hasOwnProperty(nt)?Fe[Dt]=rn[nt]:(dt.push(nt),Ct.hasOwnProperty(nt)||(Ct[nt]=[]),Ct[nt].push(()=>{Fe[Dt]=rn[nt],++wt,wt===dt.length&&pe(Fe)}))}),dt.length===0&&pe(Fe)};function Ot(W,z,le={}){var pe=z.name;if(W||we(`type "${pe}" must have a positive integer typeid pointer`),rn.hasOwnProperty(W)){if(le.ignoreDuplicateRegistrations)return;we(`Cannot register type '${pe}' twice`)}if(rn[W]=z,delete fn[W],Ct.hasOwnProperty(W)){var Fe=Ct[W];delete Ct[W],Fe.forEach(dt=>dt())}}function Zt(W,z,le={}){return Ot(W,z,le)}var hn=(W,z,le)=>{switch(z){case 1:return le?pe=>N[pe]:pe=>x[pe];case 2:return le?pe=>D[pe>>1]:pe=>k[pe>>1];case 4:return le?pe=>U[pe>>2]:pe=>L[pe>>2];case 8:return le?pe=>ie[pe>>3]:pe=>se[pe>>3];default:throw new TypeError(`invalid integer width (${z}): ${W}`)}},Sn=(W,z,le,pe,Fe)=>{z=vt(z);var dt=z.indexOf("u")!=-1;dt&&(Fe=(1n<<64n)-1n),Zt(W,{name:z,fromWireType:wt=>wt,toWireType:function(wt,nt){if(typeof nt!="bigint"&&typeof nt!="number")throw new TypeError(`Cannot convert "${Qe(nt)}" to ${this.name}`);return typeof nt=="number"&&(nt=BigInt(nt)),nt},argPackAdvance:Yn,readValueFromPointer:hn(z,le,!dt),destructorFunction:null})},Yn=8,zn=(W,z,le,pe)=>{z=vt(z),Zt(W,{name:z,fromWireType:function(Fe){return!!Fe},toWireType:function(Fe,dt){return dt?le:pe},argPackAdvance:Yn,readValueFromPointer:function(Fe){return this.fromWireType(x[Fe])},destructorFunction:null})},Di=W=>({count:W.count,deleteScheduled:W.deleteScheduled,preservePointerOnDelete:W.preservePointerOnDelete,ptr:W.ptr,ptrType:W.ptrType,smartPtr:W.smartPtr,smartPtrType:W.smartPtrType}),$r=W=>{function z(le){return le.$$.ptrType.registeredClass.name}we(z(W)+" instance already deleted")},Kn=!1,Sr=W=>{},Cn=W=>{W.smartPtr?W.smartPtrType.rawDestructor(W.smartPtr):W.ptrType.registeredClass.rawDestructor(W.ptr)},Zo=W=>{W.count.value-=1;var z=W.count.value===0;z&&Cn(W)},pi=(W,z,le)=>{if(z===le)return W;if(le.baseClass===void 0)return null;var pe=pi(W,z,le.baseClass);return pe===null?null:le.downcast(pe)},Xr={},pl={},_s=(W,z)=>{for(z===void 0&&we("ptr should not be undefined");W.baseClass;)z=W.upcast(z),W=W.baseClass;return z},ta=(W,z)=>(z=_s(W,z),pl[z]),Ao=(W,z)=>{(!z.ptrType||!z.ptr)&&et("makeClassHandle requires ptr and ptrType");var le=!!z.smartPtrType,pe=!!z.smartPtr;return le!==pe&&et("Both smartPtrType and smartPtr must be specified"),z.count={value:1},Ss(Object.create(W,{$$:{value:z,writable:!0}}))};function ka(W){var z=this.getPointee(W);if(!z)return this.destructor(W),null;var le=ta(this.registeredClass,z);if(le!==void 0){if(le.$$.count.value===0)return le.$$.ptr=z,le.$$.smartPtr=W,le.clone();var pe=le.clone();return this.destructor(W),pe}function Fe(){return this.isSmartPointer?Ao(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:z,smartPtrType:this,smartPtr:W}):Ao(this.registeredClass.instancePrototype,{ptrType:this,ptr:W})}var dt=this.registeredClass.getActualType(z),wt=Xr[dt];if(!wt)return Fe.call(this);var nt;this.isConst?nt=wt.constPointerType:nt=wt.pointerType;var Dt=pi(z,this.registeredClass,nt.registeredClass);return Dt===null?Fe.call(this):this.isSmartPointer?Ao(nt.registeredClass.instancePrototype,{ptrType:nt,ptr:Dt,smartPtrType:this,smartPtr:W}):Ao(nt.registeredClass.instancePrototype,{ptrType:nt,ptr:Dt})}var Ss=W=>typeof FinalizationRegistry>"u"?(Ss=z=>z,W):(Kn=new FinalizationRegistry(z=>{Zo(z.$$)}),Ss=z=>{var le=z.$$,pe=!!le.smartPtr;if(pe){var Fe={$$:le};Kn.register(z,Fe,z)}return z},Sr=z=>Kn.unregister(z),Ss(W)),ki=[],ee=()=>{for(;ki.length;){var W=ki.pop();W.$$.deleteScheduled=!1,W.delete()}},Re,Ve=()=>{Object.assign(We.prototype,{isAliasOf(W){if(!(this instanceof We)||!(W instanceof We))return!1;var z=this.$$.ptrType.registeredClass,le=this.$$.ptr;W.$$=W.$$;for(var pe=W.$$.ptrType.registeredClass,Fe=W.$$.ptr;z.baseClass;)le=z.upcast(le),z=z.baseClass;for(;pe.baseClass;)Fe=pe.upcast(Fe),pe=pe.baseClass;return z===pe&&le===Fe},clone(){if(this.$$.ptr||$r(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var W=Ss(Object.create(Object.getPrototypeOf(this),{$$:{value:Di(this.$$)}}));return W.$$.count.value+=1,W.$$.deleteScheduled=!1,W},delete(){this.$$.ptr||$r(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&we("Object already scheduled for deletion"),Sr(this),Zo(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||$r(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&we("Object already scheduled for deletion"),ki.push(this),ki.length===1&&Re&&Re(ee),this.$$.deleteScheduled=!0,this}})};function We(){}var Oe=(W,z)=>Object.defineProperty(z,"name",{value:W}),Tt=(W,z,le)=>{if(W[z].overloadTable===void 0){var pe=W[z];W[z]=function(...Fe){return W[z].overloadTable.hasOwnProperty(Fe.length)||we(`Function '${le}' called with an invalid number of arguments (${Fe.length}) - expects one of (${W[z].overloadTable})!`),W[z].overloadTable[Fe.length].apply(this,Fe)},W[z].overloadTable=[],W[z].overloadTable[pe.argCount]=pe}},Lt=(W,z,le)=>{r.hasOwnProperty(W)?((le===void 0||r[W].overloadTable!==void 0&&r[W].overloadTable[le]!==void 0)&&we(`Cannot register public name '${W}' twice`),Tt(r,W,W),r[W].overloadTable.hasOwnProperty(le)&&we(`Cannot register multiple overloads of a function with the same number of arguments (${le})!`),r[W].overloadTable[le]=z):(r[W]=z,r[W].argCount=le)},jt=48,Ht=57,an=W=>{W=W.replace(/[^a-zA-Z0-9_]/g,"$");var z=W.charCodeAt(0);return z>=jt&&z<=Ht?`_${W}`:W};function dn(W,z,le,pe,Fe,dt,wt,nt){this.name=W,this.constructor=z,this.instancePrototype=le,this.rawDestructor=pe,this.baseClass=Fe,this.getActualType=dt,this.upcast=wt,this.downcast=nt,this.pureVirtualFunctions=[]}var Kt=(W,z,le)=>{for(;z!==le;)z.upcast||we(`Expected null or instance of ${le.name}, got an instance of ${z.name}`),W=z.upcast(W),z=z.baseClass;return W};function Mn(W,z){if(z===null)return this.isReference&&we(`null is not a valid ${this.name}`),0;z.$$||we(`Cannot pass "${Qe(z)}" as a ${this.name}`),z.$$.ptr||we(`Cannot pass deleted object as a pointer of type ${this.name}`);var le=z.$$.ptrType.registeredClass,pe=Kt(z.$$.ptr,le,this.registeredClass);return pe}function sr(W,z){var le;if(z===null)return this.isReference&&we(`null is not a valid ${this.name}`),this.isSmartPointer?(le=this.rawConstructor(),W!==null&&W.push(this.rawDestructor,le),le):0;(!z||!z.$$)&&we(`Cannot pass "${Qe(z)}" as a ${this.name}`),z.$$.ptr||we(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&z.$$.ptrType.isConst&&we(`Cannot convert argument of type ${z.$$.smartPtrType?z.$$.smartPtrType.name:z.$$.ptrType.name} to parameter type ${this.name}`);var pe=z.$$.ptrType.registeredClass;if(le=Kt(z.$$.ptr,pe,this.registeredClass),this.isSmartPointer)switch(z.$$.smartPtr===void 0&&we("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:z.$$.smartPtrType===this?le=z.$$.smartPtr:we(`Cannot convert argument of type ${z.$$.smartPtrType?z.$$.smartPtrType.name:z.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:le=z.$$.smartPtr;break;case 2:if(z.$$.smartPtrType===this)le=z.$$.smartPtr;else{var Fe=z.clone();le=this.rawShare(le,jr.toHandle(()=>Fe.delete())),W!==null&&W.push(this.rawDestructor,le)}break;default:we("Unsupporting sharing policy")}return le}function Zn(W,z){if(z===null)return this.isReference&&we(`null is not a valid ${this.name}`),0;z.$$||we(`Cannot pass "${Qe(z)}" as a ${this.name}`),z.$$.ptr||we(`Cannot pass deleted object as a pointer of type ${this.name}`),z.$$.ptrType.isConst&&we(`Cannot convert argument of type ${z.$$.ptrType.name} to parameter type ${this.name}`);var le=z.$$.ptrType.registeredClass,pe=Kt(z.$$.ptr,le,this.registeredClass);return pe}function Ar(W){return this.fromWireType(L[W>>2])}var Pn=()=>{Object.assign(Gt.prototype,{getPointee(W){return this.rawGetPointee&&(W=this.rawGetPointee(W)),W},destructor(W){this.rawDestructor?.(W)},argPackAdvance:Yn,readValueFromPointer:Ar,fromWireType:ka})};function Gt(W,z,le,pe,Fe,dt,wt,nt,Dt,Vt,Qt){this.name=W,this.registeredClass=z,this.isReference=le,this.isConst=pe,this.isSmartPointer=Fe,this.pointeeType=dt,this.sharingPolicy=wt,this.rawGetPointee=nt,this.rawConstructor=Dt,this.rawShare=Vt,this.rawDestructor=Qt,!Fe&&z.baseClass===void 0?pe?(this.toWireType=Mn,this.destructorFunction=null):(this.toWireType=Zn,this.destructorFunction=null):this.toWireType=sr}var Rn=(W,z,le)=>{r.hasOwnProperty(W)||et("Replacing nonexistent public symbol"),r[W].overloadTable!==void 0&&le!==void 0?r[W].overloadTable[le]=z:(r[W]=z,r[W].argCount=le)},pn=[],Pr,Ji=W=>{var z=pn[W];return z||(W>=pn.length&&(pn.length=W+1),pn[W]=z=Pr.get(W)),z},Jt=(W,z)=>{W=vt(W);function le(){return Ji(z)}var pe=le();return typeof pe!="function"&&we(`unknown function pointer with signature ${W}: ${z}`),pe},na=(W,z)=>{var le=Oe(z,function(pe){this.name=z,this.message=pe;var Fe=new Error(pe).stack;Fe!==void 0&&(this.stack=this.toString()+`
`+Fe.replace(/^Error(:[^\n]*)?\n/,""))});return le.prototype=Object.create(W.prototype),le.prototype.constructor=le,le.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},le},Jn,Fi=W=>{var z=Se(W),le=vt(z);return Pe(z),le},Ei=(W,z)=>{var le=[],pe={};function Fe(dt){if(!pe[dt]&&!rn[dt]){if(fn[dt]){fn[dt].forEach(Fe);return}le.push(dt),pe[dt]=!0}}throw z.forEach(Fe),new Jn(`${W}: `+le.map(Fi).join([", "]))},ri=(W,z,le,pe,Fe,dt,wt,nt,Dt,Vt,Qt,mn,Fn)=>{Qt=vt(Qt),dt=Jt(Fe,dt),nt&&(nt=Jt(wt,nt)),Vt&&(Vt=Jt(Dt,Vt)),Fn=Jt(mn,Fn);var ii=an(Qt);Lt(ii,function(){Ei(`Cannot construct ${Qt} due to unbound types`,[pe])}),tt([W,z,le],pe?[pe]:[],ar=>{var ia;ar=ar[0];var Ur,Fa;pe?(Ur=ar.registeredClass,Fa=Ur.instancePrototype):Fa=We.prototype;var ho=Oe(Qt,function(...Wf){if(Object.getPrototypeOf(this)!==ml)throw new kn("Use 'new' to construct "+Qt);if(En.constructor_body===void 0)throw new kn(Qt+" has no accessible constructor");var ru=En.constructor_body[Wf.length];if(ru===void 0)throw new kn(`Tried to invoke ctor of ${Qt} with invalid number of parameters (${Wf.length}) - expected (${Object.keys(En.constructor_body).toString()}) parameters instead!`);return ru.apply(this,Wf)}),ml=Object.create(Fa,{constructor:{value:ho}});ho.prototype=ml;var En=new dn(Qt,ho,ml,Fn,Ur,dt,nt,Vt);En.baseClass&&((ia=En.baseClass).__derivedClasses??(ia.__derivedClasses=[]),En.baseClass.__derivedClasses.push(En));var lc=new Gt(Qt,En,!0,!1,!1),po=new Gt(Qt+"*",En,!1,!1,!1),Ua=new Gt(Qt+" const*",En,!1,!0,!1);return Xr[W]={pointerType:po,constPointerType:Ua},Rn(ii,ho),[lc,po,Ua]})},f=(W,z)=>{for(var le=[],pe=0;pe<W;pe++)le.push(L[z+pe*4>>2]);return le},m=W=>{for(;W.length;){var z=W.pop(),le=W.pop();le(z)}};function _(W){for(var z=1;z<W.length;++z)if(W[z]!==null&&W[z].destructorFunction===void 0)return!0;return!1}function M(W,z){if(!(W instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof W} which is not a function`);var le=Oe(W.name||"unknownFunctionName",function(){});le.prototype=W.prototype;var pe=new le,Fe=W.apply(pe,z);return Fe instanceof Object?Fe:pe}function R(W,z,le,pe){var Fe=_(W),dt=W.length-2,wt=[],nt=["fn"];z&&nt.push("thisWired");for(var Dt=0;Dt<dt;++Dt)wt.push(`arg${Dt}`),nt.push(`arg${Dt}Wired`);wt=wt.join(","),nt=nt.join(",");var Vt=`return function (${wt}) {
`;Fe&&(Vt+=`var destructors = [];
`);var Qt=Fe?"destructors":"null",mn=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];z&&(Vt+=`var thisWired = classParam['toWireType'](${Qt}, this);
`);for(var Dt=0;Dt<dt;++Dt)Vt+=`var arg${Dt}Wired = argType${Dt}['toWireType'](${Qt}, arg${Dt});
`,mn.push(`argType${Dt}`);if(Vt+=(le||pe?"var rv = ":"")+`invoker(${nt});
`,Fe)Vt+=`runDestructors(destructors);
`;else for(var Dt=z?1:2;Dt<W.length;++Dt){var Fn=Dt===1?"thisWired":"arg"+(Dt-2)+"Wired";W[Dt].destructorFunction!==null&&(Vt+=`${Fn}_dtor(${Fn});
`,mn.push(`${Fn}_dtor`))}return le&&(Vt+=`var ret = retType['fromWireType'](rv);
return ret;
`),Vt+=`}
`,[mn,Vt]}function G(W,z,le,pe,Fe,dt){var wt=z.length;wt<2&&we("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var nt=z[1]!==null&&le!==null,Dt=_(z),Vt=z[0].name!=="void",Qt=[W,we,pe,Fe,m,z[0],z[1]],mn=0;mn<wt-2;++mn)Qt.push(z[mn+2]);if(!Dt)for(var mn=nt?1:2;mn<z.length;++mn)z[mn].destructorFunction!==null&&Qt.push(z[mn].destructorFunction);let[Fn,ii]=R(z,nt,Vt,dt);Fn.push(ii);var ar=M(Function,Fn)(...Qt);return Oe(W,ar)}var Z=(W,z,le,pe,Fe,dt)=>{var wt=f(z,le);Fe=Jt(pe,Fe),tt([],[W],nt=>{nt=nt[0];var Dt=`constructor ${nt.name}`;if(nt.registeredClass.constructor_body===void 0&&(nt.registeredClass.constructor_body=[]),nt.registeredClass.constructor_body[z-1]!==void 0)throw new kn(`Cannot register multiple constructors with identical number of parameters (${z-1}) for class '${nt.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return nt.registeredClass.constructor_body[z-1]=()=>{Ei(`Cannot construct ${nt.name} due to unbound types`,wt)},tt([],wt,Vt=>(Vt.splice(1,0,null),nt.registeredClass.constructor_body[z-1]=G(Dt,Vt,null,Fe,dt),[])),[]})},ce=W=>{W=W.trim();let z=W.indexOf("(");return z!==-1?W.substr(0,z):W},be=(W,z,le,pe,Fe,dt,wt,nt,Dt,Vt)=>{var Qt=f(le,pe);z=vt(z),z=ce(z),dt=Jt(Fe,dt),tt([],[W],mn=>{mn=mn[0];var Fn=`${mn.name}.${z}`;z.startsWith("@@")&&(z=Symbol[z.substring(2)]),nt&&mn.registeredClass.pureVirtualFunctions.push(z);function ii(){Ei(`Cannot call ${Fn} due to unbound types`,Qt)}var ar=mn.registeredClass.instancePrototype,Ur=ar[z];return Ur===void 0||Ur.overloadTable===void 0&&Ur.className!==mn.name&&Ur.argCount===le-2?(ii.argCount=le-2,ii.className=mn.name,ar[z]=ii):(Tt(ar,z,Fn),ar[z].overloadTable[le-2]=ii),tt([],Qt,Fa=>{var ho=G(Fn,Fa,mn,dt,wt,Dt);return ar[z].overloadTable===void 0?(ho.argCount=le-2,ar[z]=ho):ar[z].overloadTable[le-2]=ho,[]}),[]})},Xe=(W,z,le)=>(W instanceof Object||we(`${le} with invalid "this": ${W}`),W instanceof z.registeredClass.constructor||we(`${le} incompatible with "this" of type ${W.constructor.name}`),W.$$.ptr||we(`cannot call emscripten binding method ${le} on deleted object`),Kt(W.$$.ptr,W.$$.ptrType.registeredClass,z.registeredClass)),lt=(W,z,le,pe,Fe,dt,wt,nt,Dt,Vt)=>{z=vt(z),Fe=Jt(pe,Fe),tt([],[W],Qt=>{Qt=Qt[0];var mn=`${Qt.name}.${z}`,Fn={get(){Ei(`Cannot access ${mn} due to unbound types`,[le,wt])},enumerable:!0,configurable:!0};return Dt?Fn.set=()=>Ei(`Cannot access ${mn} due to unbound types`,[le,wt]):Fn.set=ii=>we(mn+" is a read-only property"),Object.defineProperty(Qt.registeredClass.instancePrototype,z,Fn),tt([],Dt?[le,wt]:[le],ii=>{var ar=ii[0],Ur={get(){var ho=Xe(this,Qt,mn+" getter");return ar.fromWireType(Fe(dt,ho))},enumerable:!0};if(Dt){Dt=Jt(nt,Dt);var Fa=ii[1];Ur.set=function(ho){var ml=Xe(this,Qt,mn+" setter"),En=[];Dt(Vt,ml,Fa.toWireType(En,ho)),m(En)}}return Object.defineProperty(Qt.registeredClass.instancePrototype,z,Ur),[]}),[]})},ft=[],Mt=[],gn=W=>{W>9&&--Mt[W+1]===0&&(Mt[W]=void 0,ft.push(W))},on=()=>Mt.length/2-5-ft.length,An=()=>{Mt.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=on},jr={toValue:W=>(W||we("Cannot use deleted val. handle = "+W),Mt[W]),toHandle:W=>{switch(W){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{let z=ft.pop()||Mt.length;return Mt[z]=W,Mt[z+1]=1,z}}}},Yr={name:"emscripten::val",fromWireType:W=>{var z=jr.toValue(W);return gn(W),z},toWireType:(W,z)=>jr.toHandle(z),argPackAdvance:Yn,readValueFromPointer:Ar,destructorFunction:null},Ui=W=>Zt(W,Yr),Bf=(W,z,le)=>{switch(z){case 1:return le?function(pe){return this.fromWireType(N[pe])}:function(pe){return this.fromWireType(x[pe])};case 2:return le?function(pe){return this.fromWireType(D[pe>>1])}:function(pe){return this.fromWireType(k[pe>>1])};case 4:return le?function(pe){return this.fromWireType(U[pe>>2])}:function(pe){return this.fromWireType(L[pe>>2])};default:throw new TypeError(`invalid integer width (${z}): ${W}`)}},dl=(W,z,le,pe)=>{z=vt(z);function Fe(){}Fe.values={},Zt(W,{name:z,constructor:Fe,fromWireType:function(dt){return this.constructor.values[dt]},toWireType:(dt,wt)=>wt.value,argPackAdvance:Yn,readValueFromPointer:Bf(z,le,pe),destructorFunction:null}),Lt(z,Fe)},ra=(W,z)=>{var le=rn[W];return le===void 0&&we(`${z} has unknown type ${Fi(W)}`),le},zf=(W,z,le)=>{var pe=ra(W,"enum");z=vt(z);var Fe=pe.constructor,dt=Object.create(pe.constructor.prototype,{value:{value:le},constructor:{value:Oe(`${pe.name}_${z}`,function(){})}});Fe.values[le]=dt,Fe[z]=dt},bs=(W,z)=>{switch(z){case 4:return function(le){return this.fromWireType(j[le>>2])};case 8:return function(le){return this.fromWireType(fe[le>>3])};default:throw new TypeError(`invalid float width (${z}): ${W}`)}},Hf=(W,z,le)=>{z=vt(z),Zt(W,{name:z,fromWireType:pe=>pe,toWireType:(pe,Fe)=>Fe,argPackAdvance:Yn,readValueFromPointer:bs(z,le),destructorFunction:null})},kg=(W,z,le,pe,Fe,dt,wt,nt)=>{var Dt=f(z,le);W=vt(W),W=ce(W),Fe=Jt(pe,Fe),Lt(W,function(){Ei(`Cannot call ${W} due to unbound types`,Dt)},z-1),tt([],Dt,Vt=>{var Qt=[Vt[0],null].concat(Vt.slice(1));return Rn(W,G(W,Qt,null,Fe,dt,wt),z-1),[]})},Fg=(W,z,le,pe,Fe)=>{z=vt(z),Fe===-1&&(Fe=4294967295);var dt=Qt=>Qt;if(pe===0){var wt=32-8*le;dt=Qt=>Qt<<wt>>>wt}var nt=z.includes("unsigned"),Dt=(Qt,mn)=>{},Vt;nt?Vt=function(Qt,mn){return Dt(mn,this.name),mn>>>0}:Vt=function(Qt,mn){return Dt(mn,this.name),mn},Zt(W,{name:z,fromWireType:dt,toWireType:Vt,argPackAdvance:Yn,readValueFromPointer:hn(z,le,pe!==0),destructorFunction:null})},qr=(W,z,le)=>{var pe=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array],Fe=pe[z];function dt(wt){var nt=L[wt>>2],Dt=L[wt+4>>2];return new Fe(N.buffer,Dt,nt)}le=vt(le),Zt(W,{name:le,fromWireType:dt,argPackAdvance:Yn,readValueFromPointer:dt},{ignoreDuplicateRegistrations:!0})},Cp=(W,z,le,pe)=>{if(!(pe>0))return 0;for(var Fe=le,dt=le+pe-1,wt=0;wt<W.length;++wt){var nt=W.charCodeAt(wt);if(nt>=55296&&nt<=57343){var Dt=W.charCodeAt(++wt);nt=65536+((nt&1023)<<10)|Dt&1023}if(nt<=127){if(le>=dt)break;z[le++]=nt}else if(nt<=2047){if(le+1>=dt)break;z[le++]=192|nt>>6,z[le++]=128|nt&63}else if(nt<=65535){if(le+2>=dt)break;z[le++]=224|nt>>12,z[le++]=128|nt>>6&63,z[le++]=128|nt&63}else{if(le+3>=dt)break;z[le++]=240|nt>>18,z[le++]=128|nt>>12&63,z[le++]=128|nt>>6&63,z[le++]=128|nt&63}}return z[le]=0,le-Fe},sc=(W,z,le)=>Cp(W,x,z,le),Mp=W=>{for(var z=0,le=0;le<W.length;++le){var pe=W.charCodeAt(le);pe<=127?z++:pe<=2047?z+=2:pe>=55296&&pe<=57343?(z+=4,++le):z+=3}return z},ac=typeof TextDecoder<"u"?new TextDecoder:void 0,eu=(W,z=0,le=NaN)=>{for(var pe=z+le,Fe=z;W[Fe]&&!(Fe>=pe);)++Fe;if(Fe-z>16&&W.buffer&&ac)return ac.decode(W.subarray(z,Fe));for(var dt="";z<Fe;){var wt=W[z++];if(!(wt&128)){dt+=String.fromCharCode(wt);continue}var nt=W[z++]&63;if((wt&224)==192){dt+=String.fromCharCode((wt&31)<<6|nt);continue}var Dt=W[z++]&63;if((wt&240)==224?wt=(wt&15)<<12|nt<<6|Dt:wt=(wt&7)<<18|nt<<12|Dt<<6|W[z++]&63,wt<65536)dt+=String.fromCharCode(wt);else{var Vt=wt-65536;dt+=String.fromCharCode(55296|Vt>>10,56320|Vt&1023)}}return dt},Ap=(W,z)=>W?eu(x,W,z):"",tu=(W,z)=>{z=vt(z);var le=z==="std::string";Zt(W,{name:z,fromWireType(pe){var Fe=L[pe>>2],dt=pe+4,wt;if(le)for(var nt=dt,Dt=0;Dt<=Fe;++Dt){var Vt=dt+Dt;if(Dt==Fe||x[Vt]==0){var Qt=Vt-nt,mn=Ap(nt,Qt);wt===void 0?wt=mn:(wt+="\0",wt+=mn),nt=Vt+1}}else{for(var Fn=new Array(Fe),Dt=0;Dt<Fe;++Dt)Fn[Dt]=String.fromCharCode(x[dt+Dt]);wt=Fn.join("")}return Pe(pe),wt},toWireType(pe,Fe){Fe instanceof ArrayBuffer&&(Fe=new Uint8Array(Fe));var dt,wt=typeof Fe=="string";wt||Fe instanceof Uint8Array||Fe instanceof Uint8ClampedArray||Fe instanceof Int8Array||we("Cannot pass non-string to std::string"),le&&wt?dt=Mp(Fe):dt=Fe.length;var nt=de(4+dt+1),Dt=nt+4;if(L[nt>>2]=dt,le&&wt)sc(Fe,Dt,dt+1);else if(wt)for(var Vt=0;Vt<dt;++Vt){var Qt=Fe.charCodeAt(Vt);Qt>255&&(Pe(Dt),we("String has UTF-16 code units that do not fit in 8 bits")),x[Dt+Vt]=Qt}else for(var Vt=0;Vt<dt;++Vt)x[Dt+Vt]=Fe[Vt];return pe!==null&&pe.push(Pe,nt),nt},argPackAdvance:Yn,readValueFromPointer:Ar,destructorFunction(pe){Pe(pe)}})},Pp=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Ug=(W,z)=>{for(var le=W,pe=le>>1,Fe=pe+z/2;!(pe>=Fe)&&k[pe];)++pe;if(le=pe<<1,le-W>32&&Pp)return Pp.decode(x.subarray(W,le));for(var dt="",wt=0;!(wt>=z/2);++wt){var nt=D[W+wt*2>>1];if(nt==0)break;dt+=String.fromCharCode(nt)}return dt},Bg=(W,z,le)=>{if(le??(le=2147483647),le<2)return 0;le-=2;for(var pe=z,Fe=le<W.length*2?le/2:W.length,dt=0;dt<Fe;++dt){var wt=W.charCodeAt(dt);D[z>>1]=wt,z+=2}return D[z>>1]=0,z-pe},nu=W=>W.length*2,Rp=(W,z)=>{for(var le=0,pe="";!(le>=z/4);){var Fe=U[W+le*4>>2];if(Fe==0)break;if(++le,Fe>=65536){var dt=Fe-65536;pe+=String.fromCharCode(55296|dt>>10,56320|dt&1023)}else pe+=String.fromCharCode(Fe)}return pe},Vf=(W,z,le)=>{if(le??(le=2147483647),le<4)return 0;for(var pe=z,Fe=pe+le-4,dt=0;dt<W.length;++dt){var wt=W.charCodeAt(dt);if(wt>=55296&&wt<=57343){var nt=W.charCodeAt(++dt);wt=65536+((wt&1023)<<10)|nt&1023}if(U[z>>2]=wt,z+=4,z+4>Fe)break}return U[z>>2]=0,z-pe},zg=W=>{for(var z=0,le=0;le<W.length;++le){var pe=W.charCodeAt(le);pe>=55296&&pe<=57343&&++le,z+=4}return z},Hg=(W,z,le)=>{le=vt(le);var pe,Fe,dt,wt;z===2?(pe=Ug,Fe=Bg,wt=nu,dt=nt=>k[nt>>1]):z===4&&(pe=Rp,Fe=Vf,wt=zg,dt=nt=>L[nt>>2]),Zt(W,{name:le,fromWireType:nt=>{for(var Dt=L[nt>>2],Vt,Qt=nt+4,mn=0;mn<=Dt;++mn){var Fn=nt+4+mn*z;if(mn==Dt||dt(Fn)==0){var ii=Fn-Qt,ar=pe(Qt,ii);Vt===void 0?Vt=ar:(Vt+="\0",Vt+=ar),Qt=Fn+z}}return Pe(nt),Vt},toWireType:(nt,Dt)=>{typeof Dt!="string"&&we(`Cannot pass non-string to C++ string type ${le}`);var Vt=wt(Dt),Qt=de(4+Vt+z);return L[Qt>>2]=Vt/z,Fe(Dt,Qt+4,Vt+z),nt!==null&&nt.push(Pe,Qt),Qt},argPackAdvance:Yn,readValueFromPointer:Ar,destructorFunction(nt){Pe(nt)}})},Vg=(W,z)=>{z=vt(z),Zt(W,{isVoid:!0,name:z,argPackAdvance:0,fromWireType:()=>{},toWireType:(le,pe)=>{}})},g=()=>2147483648,w=(W,z)=>Math.ceil(W/z)*z,P=W=>{var z=E.buffer,le=(W-z.byteLength+65535)/65536|0;try{return E.grow(le),_e(),1}catch{}},I=W=>{var z=x.length;W>>>=0;var le=g();if(W>le)return!1;for(var pe=1;pe<=4;pe*=2){var Fe=z*(1+.2/pe);Fe=Math.min(Fe,W+100663296);var dt=Math.min(le,w(Math.max(W,Fe),65536)),wt=P(dt);if(wt)return!0}return!1};Je(),kn=r.BindingError=class extends Error{constructor(z){super(z),this.name="BindingError"}},Et=r.InternalError=class extends Error{constructor(z){super(z),this.name="InternalError"}},Ve(),Pn(),Jn=r.UnboundTypeError=na(Error,"UnboundTypeError"),An();var V={i:Pt,q:zt,n:Sn,o:zn,g:ri,f:Z,a:be,e:lt,s:Ui,j:dl,c:zf,m:Hf,b:kg,h:Fg,d:qr,l:tu,k:Hg,p:Vg,r:I},H=$(),Y=()=>(Y=H.u)(),Se=W=>(Se=H.v)(W),de=W=>(de=H.x)(W),Pe=W=>(Pe=H.y)(W),qe;pt=function W(){qe||at(),qe||(pt=W)};function at(){if(je>0||(Ce(),je>0))return;function W(){qe||(qe=!0,r.calledRun=!0,!A&&(Le(),i(r),r.onRuntimeInitialized?.(),rt()))}r.setStatus?(r.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>r.setStatus(""),1),W()},1)):W()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();at();function Ge(W){if(W.length%2!=0)throw"MakePath64: intArray.length must be even";var z=W.map(function(pe){return typeof pe!="bigint"?BigInt(pe):pe});let le=new r.Path64;for(let pe=0;pe<z.length;pe+=2){let Fe=new r.Point64(z[pe],z[pe+1],BigInt(0));le.push_back(Fe)}return le}r.MakePath64=Ge;function bt(W){if(W.length%3!=0)throw"MakePathZ64: intArray.length must be multiple of 3";var z=W.map(function(pe){return typeof pe!="bigint"?BigInt(pe):pe});let le=new r.Path64;for(let pe=0;pe<z.length;pe+=3){let Fe=new r.Point64(z[pe],z[pe+1],z[pe+2]);le.push_back(Fe)}return le}r.MakePathZ64=bt;function yn(W){if(W.length%2!=0)throw"MakePathD: intArray.length must be even";let z=new r.PathD;for(let le=0;le<W.length;le+=2){let pe=new r.PointD(W[le],W[le+1],0);z.push_back(pe)}return z}r.MakePathD=yn;function Hn(W){if(W.length%3!=0)throw"MakePathZD: intArray.length must be multiple of 3";let z=new r.PathD;for(let le=0;le<W.length;le+=3){let pe=new r.PointD(W[le],W[le+1],W[le+2]);z.push_back(pe)}return z}r.MakePathZD=Hn;function wn(W){let z=new r.Path64;for(let le=0;le<W.size();le++){let pe=W.get(le),Fe=typeof pe.x!="bigint"?BigInt(Math.round(pe.x)):pe.x,dt=typeof pe.y!="bigint"?BigInt(Math.round(pe.y)):pe.y,wt=typeof pe.z!="bigint"?BigInt(Math.round(pe.z)):pe.z,nt=new r.Point64(Fe,dt,wt);z.push_back(nt)}return z}r.PathDToPath64=wn;function kr(W){let z=new r.PathD;for(let le=0;le<W.size();le++){let pe=W.get(le),Fe=new r.PointD(Number(pe.x),Number(pe.y),Number(pe.z));z.push_back(Fe)}return z}r.Path64ToPathD=kr;function Fr(W){let z=new r.PathsD;for(let le=0;le<W.size();le++){let pe=W.get(le),Fe=kr(pe);z.push_back(Fe)}return z}r.Paths64ToPathsD=Fr;function Ko(W){let z=new r.Paths64;for(let le=0;le<W.size();le++){let pe=W.get(le),Fe=wn(pe);z.push_back(Fe)}return z}return r.PathsDToPaths64=Ko,n=s,n}})(),L3=xre;var ere=F(me(),1),tre=F($e(),1),nre=F(Ic(),1),JAe=F(g4(),1),QAe=F(a6(),1),rre=F(ja(),1);var vI={};gl(vI,{__DO_NOT_USE__ActionTypes:()=>jv,applyMiddleware:()=>ole,bindActionCreators:()=>ile,combineReducers:()=>rle,compose:()=>v6,createStore:()=>gI,isAction:()=>sle,isPlainObject:()=>mI,legacy_createStore:()=>tle});function Hi(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Qae=typeof Symbol=="function"&&Symbol.observable||"@@observable",m6=Qae,dI=()=>Math.random().toString(36).substring(7).split("").join("."),ele={INIT:`@@redux/INIT${dI()}`,REPLACE:`@@redux/REPLACE${dI()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${dI()}`},jv=ele;function mI(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function gI(t,e,n){if(typeof t!="function")throw new Error(Hi(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Hi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Hi(1));return n(gI)(t,e)}let r=t,i=e,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((S,y)=>{s.set(y,S)}))}function c(){if(l)throw new Error(Hi(3));return i}function h(S){if(typeof S!="function")throw new Error(Hi(4));if(l)throw new Error(Hi(5));let y=!0;u();let T=a++;return s.set(T,S),function(){if(y){if(l)throw new Error(Hi(6));y=!1,u(),s.delete(T),o=null}}}function p(S){if(!mI(S))throw new Error(Hi(7));if(typeof S.type>"u")throw new Error(Hi(8));if(typeof S.type!="string")throw new Error(Hi(17));if(l)throw new Error(Hi(9));try{l=!0,i=r(i,S)}finally{l=!1}return(o=s).forEach(T=>{T()}),S}function d(S){if(typeof S!="function")throw new Error(Hi(10));r=S,p({type:jv.REPLACE})}function v(){let S=h;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Hi(11));function T(){let A=y;A.next&&A.next(c())}return T(),{unsubscribe:S(T)}},[m6](){return this}}}return p({type:jv.INIT}),{dispatch:p,subscribe:h,getState:c,replaceReducer:d,[m6]:v}}function tle(t,e,n){return gI(t,e,n)}function nle(t){Object.keys(t).forEach(e=>{let n=t[e];if(typeof n(void 0,{type:jv.INIT})>"u")throw new Error(Hi(12));if(typeof n(void 0,{type:jv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Hi(13))})}function rle(t){let e=Object.keys(t),n={};for(let s=0;s<e.length;s++){let a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}let r=Object.keys(n),i,o;try{nle(n)}catch(s){o=s}return function(a={},l){if(o)throw o;let u=!1,c={};for(let h=0;h<r.length;h++){let p=r[h],d=n[p],v=a[p],b=d(v,l);if(typeof b>"u"){let S=l&&l.type;throw new Error(Hi(14))}c[p]=b,u=u||b!==v}return u=u||r.length!==Object.keys(a).length,u?c:a}}function g6(t,e){return function(...n){return e(t.apply(this,n))}}function ile(t,e){if(typeof t=="function")return g6(t,e);if(typeof t!="object"||t===null)throw new Error(Hi(16));let n={};for(let r in t){let i=t[r];typeof i=="function"&&(n[r]=g6(i,e))}return n}function v6(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function ole(...t){return e=>(n,r)=>{let i=e(n,r),o=()=>{throw new Error(Hi(15))},s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},a=t.map(l=>l(s));return o=v6(...a)(i.dispatch),{...i,dispatch:o}}}function sle(t){return mI(t)&&"type"in t&&typeof t.type=="string"}var NI={};gl(NI,{Provider:()=>oH,ReactReduxContext:()=>so,batch:()=>nb.unstable_batchedUpdates,connect:()=>iH,createDispatchHook:()=>II,createSelectorHook:()=>_I,createStoreHook:()=>Jv,shallowEqual:()=>ph,useDispatch:()=>sH,useSelector:()=>O6,useStore:()=>Ab});var aH=F(xI()),lH=F(E6());var nb=F(Ic());function Ele(t){t()}var T6=Ele,C6=t=>T6=t,M6=()=>T6;var yd=F(me());var R6=F(me());var Yv=F(me()),A6=Symbol.for("react-redux-context"),P6=typeof globalThis<"u"?globalThis:{};function Tle(){var t;if(!Yv.createContext)return{};let e=(t=P6[A6])!=null?t:P6[A6]=new Map,n=e.get(Yv.createContext);return n||(n=Yv.createContext(null),e.set(Yv.createContext,n)),n}var so=Tle();function qv(t=so){return function(){return(0,R6.useContext)(t)}}var rb=qv();var ib=()=>{throw new Error("uSES not initialized!")};var I6=ib,N6=t=>{I6=t},Cle=(t,e)=>t===e;function _I(t=so){let e=t===so?rb:qv(t);return function(r,i={}){let{equalityFn:o=Cle,stabilityCheck:s=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:u,getServerState:c,stabilityCheck:h,noopCheck:p}=e(),d=(0,yd.useRef)(!0),v=(0,yd.useCallback)({[r.name](S){return r(S)}}[r.name],[r,h,s]),b=I6(u.addNestedSub,l.getState,c||l.getState,v,o);return(0,yd.useDebugValue)(b),b}}var O6=_I();function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ya.apply(null,arguments)}function yu(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var RI=F(G6()),hr=F(me()),tH=F(Y6());var Vle=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Wle(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,l,u,c,h,p;function d(T,E){return l=T,u=E,c=t(l,u),h=e(r,u),p=n(c,h,u),a=!0,p}function v(){return c=t(l,u),e.dependsOnOwnProps&&(h=e(r,u)),p=n(c,h,u),p}function b(){return t.dependsOnOwnProps&&(c=t(l,u)),e.dependsOnOwnProps&&(h=e(r,u)),p=n(c,h,u),p}function S(){let T=t(l,u),E=!s(T,c);return c=T,E&&(p=n(c,h,u)),p}function y(T,E){let A=!o(E,u),N=!i(T,l,E,u);return l=T,u=E,A&&N?v():A?b():N?S():p}return function(E,A){return a?y(E,A):d(E,A)}}function AI(t,e){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i}=e,o=yu(e,Vle),s=n(t,o),a=r(t,o),l=i(t,o);return Wle(s,a,l,t,o)}function PI(t,e){let n={};for(let r in t){let i=t[r];typeof i=="function"&&(n[r]=(...o)=>e(i(...o)))}return n}function Zv(t){return function(n){let r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function q6(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function Tb(t,e){return function(r,{displayName:i}){let o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=t,o.dependsOnOwnProps=q6(t);let u=o(a,l);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=q6(u),u=o(a,l)),u},o}}function xd(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function Z6(t){return t&&typeof t=="object"?Zv(e=>PI(t,e)):t?typeof t=="function"?Tb(t,"mapDispatchToProps"):xd(t,"mapDispatchToProps"):Zv(e=>({dispatch:e}))}function K6(t){return t?typeof t=="function"?Tb(t,"mapStateToProps"):xd(t,"mapStateToProps"):Zv(()=>({}))}function Gle(t,e,n){return Ya({},n,t,e)}function $le(t){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(l,u,c){let h=t(l,u,c);return o?i(h,s)||(s=h):(o=!0,s=h),s}}}function J6(t){return t?typeof t=="function"?$le(t):xd(t,"mergeProps"):()=>Gle}function Xle(){let t=M6(),e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var Q6={notify(){},get:()=>[]};function Cb(t,e){let n,r=Q6,i=0,o=!1;function s(b){c();let S=r.subscribe(b),y=!1;return()=>{y||(y=!0,S(),h())}}function a(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function u(){return o}function c(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=Xle())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Q6)}function p(){o||(o=!0,c())}function d(){o&&(o=!1,h())}let v={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:d,getListeners:()=>r};return v}var Mb=F(me()),jle=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_d=jle?Mb.useLayoutEffect:Mb.useEffect;function eH(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ph(t,e){if(eH(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;let n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!eH(t[n[i]],e[n[i]]))return!1;return!0}var Yle=["reactReduxForwardedRef"],nH=ib,rH=t=>{nH=t};var qle=[null,null];function Zle(t,e,n){_d(()=>t(...e),n)}function Kle(t,e,n,r,i,o){t.current=r,n.current=!1,i.current&&(i.current=null,o())}function Jle(t,e,n,r,i,o,s,a,l,u,c){if(!t)return()=>{};let h=!1,p=null,d=()=>{if(h||!a.current)return;let b=e.getState(),S,y;try{S=r(b,i.current)}catch(T){y=T,p=T}y||(p=null),S===o.current?s.current||u():(o.current=S,l.current=S,s.current=!0,c())};return n.onStateChange=d,n.trySubscribe(),d(),()=>{if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function Qle(t,e){return t===e}function eue(t,e,n,{pure:r,areStatesEqual:i=Qle,areOwnPropsEqual:o=ph,areStatePropsEqual:s=ph,areMergedPropsEqual:a=ph,forwardRef:l=!1,context:u=so}={}){let c=u,h=K6(t),p=Z6(e),d=J6(n),v=!!t;return S=>{let y=S.displayName||S.name||"Component",T=`Connect(${y})`,E={shouldHandleStateChanges:v,displayName:T,wrappedComponentName:y,WrappedComponent:S,initMapStateToProps:h,initMapDispatchToProps:p,initMergeProps:d,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function A(D){let[k,U,L]=hr.useMemo(()=>{let{reactReduxForwardedRef:ye}=D,ge=yu(D,Yle);return[D.context,ye,ge]},[D]),j=hr.useMemo(()=>k&&k.Consumer&&(0,tH.isContextConsumer)(hr.createElement(k.Consumer,null))?k:c,[k,c]),ie=hr.useContext(j),se=!!D.store&&!!D.store.getState&&!!D.store.dispatch,fe=!!ie&&!!ie.store,_e=se?D.store:ie.store,J=fe?ie.getServerState:_e.getState,te=hr.useMemo(()=>AI(_e.dispatch,E),[_e]),[ne,xe]=hr.useMemo(()=>{if(!v)return qle;let ye=Cb(_e,se?void 0:ie.subscription),ge=ye.notifyNestedSubs.bind(ye);return[ye,ge]},[_e,se,ie]),Ce=hr.useMemo(()=>se?ie:Ya({},ie,{subscription:ne}),[se,ie,ne]),Le=hr.useRef(),rt=hr.useRef(L),ot=hr.useRef(),Ae=hr.useRef(!1),ze=hr.useRef(!1),je=hr.useRef(!1),it=hr.useRef();_d(()=>(je.current=!0,()=>{je.current=!1}),[]);let pt=hr.useMemo(()=>()=>ot.current&&L===rt.current?ot.current:te(_e.getState(),L),[_e,L]),It=hr.useMemo(()=>ge=>ne?Jle(v,_e,ne,te,rt,Le,Ae,je,ot,xe,ge):()=>{},[ne]);Zle(Kle,[rt,Le,Ae,L,ot,xe]);let Nt;try{Nt=nH(It,pt,J?()=>te(J(),L):pt)}catch(ye){throw it.current&&(ye.message+=`
The error may be correlated with this previous error:
${it.current.stack}

`),ye}_d(()=>{it.current=void 0,ot.current=void 0,Le.current=Nt});let mt=hr.useMemo(()=>hr.createElement(S,Ya({},Nt,{ref:U})),[U,S,Nt]);return hr.useMemo(()=>v?hr.createElement(j.Provider,{value:Ce},mt):mt,[j,mt,Ce])}let x=hr.memo(A);if(x.WrappedComponent=S,x.displayName=A.displayName=T,l){let k=hr.forwardRef(function(L,j){return hr.createElement(x,Ya({},L,{reactReduxForwardedRef:j}))});return k.displayName=T,k.WrappedComponent=S,(0,RI.default)(k,S)}return(0,RI.default)(x,S)}}var iH=eue;var Kv=F(me());function tue({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){let s=Kv.useMemo(()=>{let u=Cb(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[t,r,i,o]),a=Kv.useMemo(()=>t.getState(),[t]);return _d(()=>{let{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]),Kv.createElement((e||so).Provider,{value:s},n)}var oH=tue;function Jv(t=so){let e=t===so?rb:qv(t);return function(){let{store:r}=e();return r}}var Ab=Jv();function II(t=so){let e=t===so?Ab:Jv(t);return function(){return e().dispatch}}var sH=II();N6(lH.useSyncExternalStoreWithSelector);rH(aH.useSyncExternalStore);C6(nb.unstable_batchedUpdates);var fO={};gl(fO,{ACESFilmicToneMapping:()=>SV,AddEquation:()=>Gc,AddOperation:()=>vV,AdditiveAnimationBlendMode:()=>eO,AdditiveBlending:()=>xN,AgXToneMapping:()=>wV,AlphaFormat:()=>Y2,AlwaysCompare:()=>UV,AlwaysDepth:()=>cV,AlwaysStencilFunc:()=>wN,AmbientLight:()=>K1,AnimationAction:()=>aE,AnimationClip:()=>Xh,AnimationLoader:()=>e2,AnimationMixer:()=>v2,AnimationObjectGroup:()=>g2,AnimationUtils:()=>Ome,ArcCurve:()=>m1,ArrayCamera:()=>t1,ArrowHelper:()=>B2,AttachedBindMode:()=>bN,Audio:()=>oE,AudioAnalyser:()=>d2,AudioContext:()=>cy,AudioListener:()=>h2,AudioLoader:()=>c2,AxesHelper:()=>z2,BackSide:()=>zo,BasicDepthPacking:()=>PV,BasicShadowMap:()=>rue,BatchedMesh:()=>c1,Bone:()=>$0,BooleanKeyframeTrack:()=>Fu,Box2:()=>C2,Box3:()=>ao,Box3Helper:()=>F2,BoxGeometry:()=>Fh,BoxHelper:()=>k2,BufferAttribute:()=>Un,BufferGeometry:()=>Tn,BufferGeometryLoader:()=>rE,ByteType:()=>$2,Cache:()=>Pu,Camera:()=>em,CameraHelper:()=>D2,CanvasTexture:()=>qN,CapsuleGeometry:()=>S1,CatmullRomCurve3:()=>g1,CineonToneMapping:()=>_V,CircleGeometry:()=>b1,ClampToEdgeWrapping:()=>ga,Clock:()=>iE,Color:()=>Xt,ColorKeyframeTrack:()=>sy,ColorManagement:()=>er,CompressedArrayTexture:()=>jN,CompressedCubeTexture:()=>YN,CompressedTexture:()=>rm,CompressedTextureLoader:()=>t2,ConeGeometry:()=>w1,ConstantAlphaFactor:()=>aV,ConstantColorFactor:()=>oV,Controls:()=>fy,CubeCamera:()=>Qw,CubeReflectionMapping:()=>Lu,CubeRefractionMapping:()=>Xc,CubeTexture:()=>Uh,CubeTextureLoader:()=>n2,CubeUVReflectionMapping:()=>am,CubicBezierCurve:()=>j0,CubicBezierCurve3:()=>v1,CubicInterpolant:()=>G1,CullFaceBack:()=>yN,CullFaceFront:()=>W5,CullFaceFrontBack:()=>nue,CullFaceNone:()=>V5,Curve:()=>Vs,CurvePath:()=>_1,CustomBlending:()=>$5,CustomToneMapping:()=>bV,CylinderGeometry:()=>om,Cylindrical:()=>E2,Data3DTexture:()=>F0,DataArrayTexture:()=>Kd,DataTexture:()=>va,DataTextureLoader:()=>r2,DataUtils:()=>cce,DecrementStencilOp:()=>due,DecrementWrapStencilOp:()=>gue,DefaultLoadingManager:()=>n8,DepthFormat:()=>Oh,DepthStencilFormat:()=>kh,DepthTexture:()=>H0,DetachedBindMode:()=>TV,DirectionalLight:()=>Z1,DirectionalLightHelper:()=>L2,DiscreteInterpolant:()=>$1,DisplayP3ColorSpace:()=>yE,DodecahedronGeometry:()=>E1,DoubleSide:()=>Ml,DstAlphaFactor:()=>eV,DstColorFactor:()=>nV,DynamicCopyUsage:()=>Iue,DynamicDrawUsage:()=>Tue,DynamicReadUsage:()=>Aue,EdgesGeometry:()=>T1,EllipseCurve:()=>im,EqualCompare:()=>LV,EqualDepth:()=>hV,EqualStencilFunc:()=>_ue,EquirectangularReflectionMapping:()=>T0,EquirectangularRefractionMapping:()=>C0,Euler:()=>zs,EventDispatcher:()=>ya,ExtrudeGeometry:()=>C1,FileLoader:()=>Gs,Float16BufferAttribute:()=>NN,Float32BufferAttribute:()=>Yt,FloatType:()=>us,Fog:()=>r1,FogExp2:()=>n1,FramebufferTexture:()=>XN,FrontSide:()=>Ou,Frustum:()=>Bh,GLBufferAttribute:()=>S2,GLSL1:()=>Oue,GLSL3:()=>EN,GreaterCompare:()=>DV,GreaterDepth:()=>dV,GreaterEqualCompare:()=>FV,GreaterEqualDepth:()=>pV,GreaterEqualStencilFunc:()=>Eue,GreaterStencilFunc:()=>bue,GridHelper:()=>N2,Group:()=>$c,HalfFloatType:()=>lm,HemisphereLight:()=>j1,HemisphereLightHelper:()=>I2,IcosahedronGeometry:()=>M1,ImageBitmapLoader:()=>u2,ImageLoader:()=>jh,ImageUtils:()=>Kw,IncrementStencilOp:()=>pue,IncrementWrapStencilOp:()=>mue,InstancedBufferAttribute:()=>Qa,InstancedBufferGeometry:()=>nE,InstancedInterleavedBuffer:()=>_2,InstancedMesh:()=>u1,Int16BufferAttribute:()=>RN,Int32BufferAttribute:()=>IN,Int8BufferAttribute:()=>MN,IntType:()=>cE,InterleavedBuffer:()=>jc,InterleavedBufferAttribute:()=>ku,Interpolant:()=>Vh,InterpolateDiscrete:()=>P0,InterpolateLinear:()=>Zw,InterpolateSmooth:()=>Sw,InvertStencilOp:()=>vue,KeepStencilOp:()=>Ch,KeyframeTrack:()=>Ws,LOD:()=>s1,LatheGeometry:()=>J0,Layers:()=>Jd,LessCompare:()=>OV,LessDepth:()=>fV,LessEqualCompare:()=>rO,LessEqualDepth:()=>E0,LessEqualStencilFunc:()=>Sue,LessStencilFunc:()=>xue,Light:()=>Dl,LightProbe:()=>eE,Line:()=>Ll,Line3:()=>M2,LineBasicMaterial:()=>lo,LineCurve:()=>Y0,LineCurve3:()=>y1,LineDashedMaterial:()=>W1,LineLoop:()=>p1,LineSegments:()=>xa,LinearDisplayP3ColorSpace:()=>dy,LinearFilter:()=>vi,LinearInterpolant:()=>oy,LinearMipMapLinearFilter:()=>aue,LinearMipMapNearestFilter:()=>sue,LinearMipmapLinearFilter:()=>Al,LinearMipmapNearestFilter:()=>d0,LinearSRGBColorSpace:()=>Bu,LinearToneMapping:()=>yV,LinearTransfer:()=>I0,Loader:()=>ji,LoaderUtils:()=>uy,LoadingManager:()=>ay,LoopOnce:()=>CV,LoopPingPong:()=>AV,LoopRepeat:()=>MV,LuminanceAlphaFormat:()=>K2,LuminanceFormat:()=>Z2,MOUSE:()=>qc,Material:()=>Xi,MaterialLoader:()=>tE,MathUtils:()=>oO,Matrix2:()=>T2,Matrix3:()=>Nn,Matrix4:()=>xn,MaxEquation:()=>q5,Mesh:()=>Qr,MeshBasicMaterial:()=>Ol,MeshDepthMaterial:()=>V0,MeshDistanceMaterial:()=>W0,MeshLambertMaterial:()=>H1,MeshMatcapMaterial:()=>V1,MeshNormalMaterial:()=>z1,MeshPhongMaterial:()=>U1,MeshPhysicalMaterial:()=>F1,MeshStandardMaterial:()=>iy,MeshToonMaterial:()=>B1,MinEquation:()=>Y5,MirroredRepeatWrapping:()=>A0,MixOperation:()=>gV,MultiplyBlending:()=>SN,MultiplyOperation:()=>hy,NearestFilter:()=>Gi,NearestMipMapLinearFilter:()=>oue,NearestMipMapNearestFilter:()=>iue,NearestMipmapLinearFilter:()=>Vd,NearestMipmapNearestFilter:()=>G2,NeutralToneMapping:()=>EV,NeverCompare:()=>NV,NeverDepth:()=>uV,NeverStencilFunc:()=>yue,NoBlending:()=>Ru,NoColorSpace:()=>Tu,NoToneMapping:()=>Iu,NormalAnimationBlendMode:()=>gE,NormalBlending:()=>Nh,NotEqualCompare:()=>kV,NotEqualDepth:()=>mV,NotEqualStencilFunc:()=>wue,NumberKeyframeTrack:()=>Wh,Object3D:()=>nr,ObjectLoader:()=>l2,ObjectSpaceNormalMap:()=>IV,OctahedronGeometry:()=>ny,OneFactor:()=>K5,OneMinusConstantAlphaFactor:()=>lV,OneMinusConstantColorFactor:()=>sV,OneMinusDstAlphaFactor:()=>tV,OneMinusDstColorFactor:()=>rV,OneMinusSrcAlphaFactor:()=>ww,OneMinusSrcColorFactor:()=>Q5,OrthographicCamera:()=>nm,P3Primaries:()=>O0,PCFShadowMap:()=>W2,PCFSoftShadowMap:()=>G5,PMREMGenerator:()=>z0,Path:()=>zh,PerspectiveCamera:()=>Mi,Plane:()=>ma,PlaneGeometry:()=>tm,PlaneHelper:()=>U2,PointLight:()=>q1,PointLightHelper:()=>R2,Points:()=>d1,PointsMaterial:()=>X0,PolarGridHelper:()=>O2,PolyhedronGeometry:()=>Yc,PositionalAudio:()=>p2,PropertyBinding:()=>pr,PropertyMixer:()=>sE,QuadraticBezierCurve:()=>q0,QuadraticBezierCurve3:()=>Z0,Quaternion:()=>Ai,QuaternionKeyframeTrack:()=>Gh,QuaternionLinearInterpolant:()=>X1,RED_GREEN_RGTC2_Format:()=>Yw,RED_RGTC1_Format:()=>Q2,REVISION:()=>lE,RGBADepthPacking:()=>RV,RGBAFormat:()=>Bo,RGBAIntegerFormat:()=>mE,RGBA_ASTC_10x10_Format:()=>Vw,RGBA_ASTC_10x5_Format:()=>Bw,RGBA_ASTC_10x6_Format:()=>zw,RGBA_ASTC_10x8_Format:()=>Hw,RGBA_ASTC_12x10_Format:()=>Ww,RGBA_ASTC_12x12_Format:()=>Gw,RGBA_ASTC_4x4_Format:()=>Iw,RGBA_ASTC_5x4_Format:()=>Nw,RGBA_ASTC_5x5_Format:()=>Ow,RGBA_ASTC_6x5_Format:()=>Lw,RGBA_ASTC_6x6_Format:()=>Dw,RGBA_ASTC_8x5_Format:()=>kw,RGBA_ASTC_8x6_Format:()=>Fw,RGBA_ASTC_8x8_Format:()=>Uw,RGBA_BPTC_Format:()=>x0,RGBA_ETC2_EAC_Format:()=>Rw,RGBA_PVRTC_2BPPV1_Format:()=>Mw,RGBA_PVRTC_4BPPV1_Format:()=>Cw,RGBA_S3TC_DXT1_Format:()=>g0,RGBA_S3TC_DXT3_Format:()=>v0,RGBA_S3TC_DXT5_Format:()=>y0,RGBDepthPacking:()=>uue,RGBFormat:()=>q2,RGBIntegerFormat:()=>lue,RGB_BPTC_SIGNED_Format:()=>$w,RGB_BPTC_UNSIGNED_Format:()=>Xw,RGB_ETC1_Format:()=>Aw,RGB_ETC2_Format:()=>Pw,RGB_PVRTC_2BPPV1_Format:()=>Tw,RGB_PVRTC_4BPPV1_Format:()=>Ew,RGB_S3TC_DXT1_Format:()=>m0,RGDepthPacking:()=>cue,RGFormat:()=>J2,RGIntegerFormat:()=>dE,RawShaderMaterial:()=>k1,Ray:()=>Nl,Raycaster:()=>b2,Rec709Primaries:()=>N0,RectAreaLight:()=>J1,RedFormat:()=>pE,RedIntegerFormat:()=>py,ReinhardToneMapping:()=>xV,RenderTarget:()=>Jw,RepeatWrapping:()=>M0,ReplaceStencilOp:()=>hue,ReverseSubtractEquation:()=>j5,RingGeometry:()=>A1,SIGNED_RED_GREEN_RGTC2_Format:()=>qw,SIGNED_RED_RGTC1_Format:()=>jw,SRGBColorSpace:()=>da,SRGBTransfer:()=>Mr,Scene:()=>i1,ShaderChunk:()=>Dn,ShaderLib:()=>Ja,ShaderMaterial:()=>Hs,ShadowMaterial:()=>D1,Shape:()=>Nu,ShapeGeometry:()=>P1,ShapePath:()=>H2,ShapeUtils:()=>Rl,ShortType:()=>X2,Skeleton:()=>l1,SkeletonHelper:()=>P2,SkinnedMesh:()=>a1,Source:()=>Mu,Sphere:()=>$i,SphereGeometry:()=>ry,Spherical:()=>sm,SphericalHarmonics3:()=>Q1,SplineCurve:()=>K0,SpotLight:()=>Y1,SpotLightHelper:()=>A2,Sprite:()=>o1,SpriteMaterial:()=>G0,SrcAlphaFactor:()=>bw,SrcAlphaSaturateFactor:()=>iV,SrcColorFactor:()=>J5,StaticCopyUsage:()=>Rue,StaticDrawUsage:()=>L0,StaticReadUsage:()=>Mue,StereoCamera:()=>f2,StreamCopyUsage:()=>Nue,StreamDrawUsage:()=>Cue,StreamReadUsage:()=>Pue,StringKeyframeTrack:()=>Uu,SubtractEquation:()=>X5,SubtractiveBlending:()=>_N,TOUCH:()=>Zc,TangentSpaceNormalMap:()=>Kc,TetrahedronGeometry:()=>R1,Texture:()=>yi,TextureLoader:()=>i2,TextureUtils:()=>Hde,TorusGeometry:()=>I1,TorusKnotGeometry:()=>N1,Triangle:()=>Au,TriangleFanDrawMode:()=>vE,TriangleStripDrawMode:()=>nO,TrianglesDrawMode:()=>tO,TubeGeometry:()=>O1,UVMapping:()=>uE,Uint16BufferAttribute:()=>U0,Uint32BufferAttribute:()=>B0,Uint8BufferAttribute:()=>AN,Uint8ClampedBufferAttribute:()=>PN,Uniform:()=>y2,UniformsGroup:()=>x2,UniformsLib:()=>Ut,UniformsUtils:()=>WV,UnsignedByteType:()=>Il,UnsignedInt248Type:()=>Dh,UnsignedInt5999Type:()=>j2,UnsignedIntType:()=>Du,UnsignedShort4444Type:()=>fE,UnsignedShort5551Type:()=>hE,UnsignedShortType:()=>qd,VSMShadowMap:()=>Cl,Vector2:()=>ct,Vector3:()=>oe,Vector4:()=>lr,VectorKeyframeTrack:()=>$h,VideoTexture:()=>$N,WebGL3DRenderTarget:()=>CN,WebGLArrayRenderTarget:()=>TN,WebGLCoordinateSystem:()=>Pl,WebGLCubeRenderTarget:()=>e1,WebGLMultipleRenderTargets:()=>V2,WebGLRenderTarget:()=>Bs,WebGLRenderer:()=>VN,WebGLUtils:()=>qV,WebGPUCoordinateSystem:()=>D0,WireframeGeometry:()=>L1,WrapAroundEnding:()=>R0,ZeroCurvatureEnding:()=>Ph,ZeroFactor:()=>Z5,ZeroSlopeEnding:()=>Rh,ZeroStencilOp:()=>fue,createCanvasElement:()=>zV});var lE="168",qc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Zc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},V5=0,yN=1,W5=2,nue=3,rue=0,W2=1,G5=2,Cl=3,Ou=0,zo=1,Ml=2,Ru=0,Nh=1,xN=2,_N=3,SN=4,$5=5,Gc=100,X5=101,j5=102,Y5=103,q5=104,Z5=200,K5=201,J5=202,Q5=203,bw=204,ww=205,eV=206,tV=207,nV=208,rV=209,iV=210,oV=211,sV=212,aV=213,lV=214,uV=0,cV=1,fV=2,E0=3,hV=4,pV=5,dV=6,mV=7,hy=0,gV=1,vV=2,Iu=0,yV=1,xV=2,_V=3,SV=4,bV=5,wV=6,EV=7,bN="attached",TV="detached",uE=300,Lu=301,Xc=302,T0=303,C0=304,am=306,M0=1e3,ga=1001,A0=1002,Gi=1003,G2=1004,iue=1004,Vd=1005,oue=1005,vi=1006,d0=1007,sue=1007,Al=1008,aue=1008,Il=1009,$2=1010,X2=1011,qd=1012,cE=1013,Du=1014,us=1015,lm=1016,fE=1017,hE=1018,Dh=1020,j2=35902,Y2=1021,q2=1022,Bo=1023,Z2=1024,K2=1025,Oh=1026,kh=1027,pE=1028,py=1029,J2=1030,dE=1031,lue=1032,mE=1033,m0=33776,g0=33777,v0=33778,y0=33779,Ew=35840,Tw=35841,Cw=35842,Mw=35843,Aw=36196,Pw=37492,Rw=37496,Iw=37808,Nw=37809,Ow=37810,Lw=37811,Dw=37812,kw=37813,Fw=37814,Uw=37815,Bw=37816,zw=37817,Hw=37818,Vw=37819,Ww=37820,Gw=37821,x0=36492,$w=36494,Xw=36495,Q2=36283,jw=36284,Yw=36285,qw=36286,CV=2200,MV=2201,AV=2202,P0=2300,Zw=2301,Sw=2302,Ph=2400,Rh=2401,R0=2402,gE=2500,eO=2501,tO=0,nO=1,vE=2,PV=3200,RV=3201,uue=3202,cue=3203,Kc=0,IV=1,Tu="",da="srgb",Bu="srgb-linear",yE="display-p3",dy="display-p3-linear",I0="linear",Mr="srgb",N0="rec709",O0="p3",fue=0,Ch=7680,hue=7681,pue=7682,due=7683,mue=34055,gue=34056,vue=5386,yue=512,xue=513,_ue=514,Sue=515,bue=516,wue=517,Eue=518,wN=519,NV=512,OV=513,LV=514,rO=515,DV=516,kV=517,FV=518,UV=519,L0=35044,Tue=35048,Cue=35040,Mue=35045,Aue=35049,Pue=35041,Rue=35046,Iue=35050,Nue=35042,Oue="100",EN="300 es",Pl=2e3,D0=2001,ya=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});let r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;let r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;let i=this._listeners[e];if(i!==void 0){let o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;let r=this._listeners[e.type];if(r!==void 0){e.target=this;let i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}},_o=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],uH=1234567,Lh=Math.PI/180,Zd=180/Math.PI;function Us(){let t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(_o[t&255]+_o[t>>8&255]+_o[t>>16&255]+_o[t>>24&255]+"-"+_o[e&255]+_o[e>>8&255]+"-"+_o[e>>16&15|64]+_o[e>>24&255]+"-"+_o[n&63|128]+_o[n>>8&255]+"-"+_o[n>>16&255]+_o[n>>24&255]+_o[r&255]+_o[r>>8&255]+_o[r>>16&255]+_o[r>>24&255]).toLowerCase()}function Jr(t,e,n){return Math.max(e,Math.min(n,t))}function iO(t,e){return(t%e+e)%e}function Lue(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Due(t,e,n){return t!==e?(n-t)/(e-t):0}function _0(t,e,n){return(1-n)*t+n*e}function kue(t,e,n,r){return _0(t,e,1-Math.exp(-n*r))}function Fue(t,e=1){return e-Math.abs(iO(t,e*2)-e)}function Uue(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Bue(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function zue(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Hue(t,e){return t+Math.random()*(e-t)}function Vue(t){return t*(.5-Math.random())}function Wue(t){t!==void 0&&(uH=t);let e=uH+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Gue(t){return t*Lh}function $ue(t){return t*Zd}function Xue(t){return(t&t-1)===0&&t!==0}function jue(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Yue(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function que(t,e,n,r,i){let o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),u=o((e+r)/2),c=s((e+r)/2),h=o((e-r)/2),p=s((e-r)/2),d=o((r-e)/2),v=s((r-e)/2);switch(i){case"XYX":t.set(a*c,l*h,l*p,a*u);break;case"YZY":t.set(l*p,a*c,l*h,a*u);break;case"ZXZ":t.set(l*h,l*p,a*c,a*u);break;case"XZX":t.set(a*c,l*v,l*d,a*u);break;case"YXY":t.set(l*d,a*c,l*v,a*u);break;case"ZYZ":t.set(l*v,l*d,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Uo(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function On(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}var oO={DEG2RAD:Lh,RAD2DEG:Zd,generateUUID:Us,clamp:Jr,euclideanModulo:iO,mapLinear:Lue,inverseLerp:Due,lerp:_0,damp:kue,pingpong:Fue,smoothstep:Uue,smootherstep:Bue,randInt:zue,randFloat:Hue,randFloatSpread:Vue,seededRandom:Wue,degToRad:Gue,radToDeg:$ue,isPowerOfTwo:Xue,ceilPowerOfTwo:jue,floorPowerOfTwo:Yue,setQuaternionFromProperEuler:que,normalize:On,denormalize:Uo},ct=class t{constructor(e=0,n=0){t.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){let n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;let r=this.dot(e)/n;return Math.acos(Jr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){let r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},Nn=class t{constructor(e,n,r,i,o,s,a,l,u){t.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,u)}set(e,n,r,i,o,s,a,l,u){let c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=n,c[4]=o,c[5]=l,c[6]=r,c[7]=s,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){let r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[3],l=r[6],u=r[1],c=r[4],h=r[7],p=r[2],d=r[5],v=r[8],b=i[0],S=i[3],y=i[6],T=i[1],E=i[4],A=i[7],N=i[2],x=i[5],D=i[8];return o[0]=s*b+a*T+l*N,o[3]=s*S+a*E+l*x,o[6]=s*y+a*A+l*D,o[1]=u*b+c*T+h*N,o[4]=u*S+c*E+h*x,o[7]=u*y+c*A+h*D,o[2]=p*b+d*T+v*N,o[5]=p*S+d*E+v*x,o[8]=p*y+d*A+v*D,this}multiplyScalar(e){let n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){let e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return n*s*c-n*a*u-r*o*c+r*a*l+i*o*u-i*s*l}invert(){let e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=c*s-a*u,p=a*l-c*o,d=u*o-s*l,v=n*h+r*p+i*d;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);let b=1/v;return e[0]=h*b,e[1]=(i*u-c*r)*b,e[2]=(a*r-i*s)*b,e[3]=p*b,e[4]=(c*n-i*l)*b,e[5]=(i*o-a*n)*b,e[6]=d*b,e[7]=(r*l-u*n)*b,e[8]=(s*n-r*o)*b,this}transpose(){let e,n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,s,a){let l=Math.cos(o),u=Math.sin(o);return this.set(r*l,r*u,-r*(l*s+u*a)+s+e,-i*u,i*l,-i*(-u*s+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(OI.makeScale(e,n)),this}rotate(e){return this.premultiply(OI.makeRotation(-e)),this}translate(e,n){return this.premultiply(OI.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){let n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){let n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){let r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}},OI=new Nn;function BV(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}var Zue={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Wd(t,e){return new Zue[t](e)}function k0(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function zV(){let t=k0("canvas");return t.style.display="block",t}var cH={};function Xd(t){t in cH||(cH[t]=!0,console.warn(t))}function Kue(t,e,n){return new Promise(function(r,i){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}}setTimeout(o,n)})}var fH=new Nn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),hH=new Nn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Qv={[Bu]:{transfer:I0,primaries:N0,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t,fromReference:t=>t},[da]:{transfer:Mr,primaries:N0,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[dy]:{transfer:I0,primaries:O0,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.applyMatrix3(hH),fromReference:t=>t.applyMatrix3(fH)},[yE]:{transfer:Mr,primaries:O0,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.convertSRGBToLinear().applyMatrix3(hH),fromReference:t=>t.applyMatrix3(fH).convertLinearToSRGB()}},Jue=new Set([Bu,dy]),er={enabled:!0,_workingColorSpace:Bu,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!Jue.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;let r=Qv[e].toReference,i=Qv[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Qv[t].primaries},getTransfer:function(t){return t===Tu?I0:Qv[t].transfer},getLuminanceCoefficients:function(t,e=this._workingColorSpace){return t.fromArray(Qv[e].luminanceCoefficients)}};function jd(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function LI(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}var Sd,Kw=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Sd===void 0&&(Sd=k0("canvas")),Sd.width=e.width,Sd.height=e.height;let r=Sd.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Sd}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){let n=k0("canvas");n.width=e.width,n.height=e.height;let r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);let i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=jd(o[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){let n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(jd(n[r]/255)*255):n[r]=jd(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},Que=0,Mu=class{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Que++}),this.uuid=Us(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){let n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];let r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push(DI(i[s].image)):o.push(DI(i[s]))}else o=DI(i);r.url=o}return n||(e.images[this.uuid]=r),r}};function DI(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Kw.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var ece=0,yi=class t extends ya{constructor(e=t.DEFAULT_IMAGE,n=t.DEFAULT_MAPPING,r=ga,i=ga,o=vi,s=Al,a=Bo,l=Il,u=t.DEFAULT_ANISOTROPY,c=Tu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ece++}),this.uuid=Us(),this.name="",this.source=new Mu(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ct(0,0),this.repeat=new ct(1,1),this.center=new ct(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Nn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){let n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==uE)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case M0:e.x=e.x-Math.floor(e.x);break;case ga:e.x=e.x<0?0:1;break;case A0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case M0:e.y=e.y-Math.floor(e.y);break;case ga:e.y=e.y<0?0:1;break;case A0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}};yi.DEFAULT_IMAGE=null;yi.DEFAULT_MAPPING=uE;yi.DEFAULT_ANISOTROPY=1;var lr=class t{constructor(e=0,n=0,r=0,i=1){t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let n=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o,l=e.elements,u=l[0],c=l[4],h=l[8],p=l[1],d=l[5],v=l[9],b=l[2],S=l[6],y=l[10];if(Math.abs(c-p)<.01&&Math.abs(h-b)<.01&&Math.abs(v-S)<.01){if(Math.abs(c+p)<.1&&Math.abs(h+b)<.1&&Math.abs(v+S)<.1&&Math.abs(u+d+y-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;let E=(u+1)/2,A=(d+1)/2,N=(y+1)/2,x=(c+p)/4,D=(h+b)/4,k=(v+S)/4;return E>A&&E>N?E<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(E),i=x/r,o=D/r):A>N?A<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(A),r=x/i,o=k/i):N<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(N),r=D/o,i=k/o),this.set(r,i,o,n),this}let T=Math.sqrt((S-v)*(S-v)+(h-b)*(h-b)+(p-c)*(p-c));return Math.abs(T)<.001&&(T=1),this.x=(S-v)/T,this.y=(h-b)/T,this.z=(p-c)/T,this.w=Math.acos((u+d+y-1)/2),this}setFromMatrixPosition(e){let n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},Jw=class extends ya{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new lr(0,0,e,n),this.scissorTest=!1,this.viewport=new lr(0,0,e,n);let i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:vi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);let o=new yi(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];let s=r.count;for(let a=0;a<s;a++)this.textures[a]=o.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;let n=Object.assign({},e.texture.image);return this.texture.source=new Mu(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},Bs=class extends Jw{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}},Kd=class extends yi{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Gi,this.minFilter=Gi,this.wrapR=ga,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}},TN=class extends Bs{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Kd(null,e,n,r),this.texture.isRenderTargetTexture=!0}},F0=class extends yi{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Gi,this.minFilter=Gi,this.wrapR=ga,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},CN=class extends Bs{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new F0(null,e,n,r),this.texture.isRenderTargetTexture=!0}},Ai=class{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,s,a){let l=r[i+0],u=r[i+1],c=r[i+2],h=r[i+3],p=o[s+0],d=o[s+1],v=o[s+2],b=o[s+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=h;return}if(a===1){e[n+0]=p,e[n+1]=d,e[n+2]=v,e[n+3]=b;return}if(h!==b||l!==p||u!==d||c!==v){let S=1-a,y=l*p+u*d+c*v+h*b,T=y>=0?1:-1,E=1-y*y;if(E>Number.EPSILON){let N=Math.sqrt(E),x=Math.atan2(N,y*T);S=Math.sin(S*x)/N,a=Math.sin(a*x)/N}let A=a*T;if(l=l*S+p*A,u=u*S+d*A,c=c*S+v*A,h=h*S+b*A,S===1-a){let N=1/Math.sqrt(l*l+u*u+c*c+h*h);l*=N,u*=N,c*=N,h*=N}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=h}static multiplyQuaternionsFlat(e,n,r,i,o,s){let a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],h=o[s],p=o[s+1],d=o[s+2],v=o[s+3];return e[n]=a*v+c*h+l*d-u*p,e[n+1]=l*v+c*p+u*h-a*d,e[n+2]=u*v+c*d+a*p-l*h,e[n+3]=c*v-a*h-l*p-u*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){let r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),h=a(o/2),p=l(r/2),d=l(i/2),v=l(o/2);switch(s){case"XYZ":this._x=p*c*h+u*d*v,this._y=u*d*h-p*c*v,this._z=u*c*v+p*d*h,this._w=u*c*h-p*d*v;break;case"YXZ":this._x=p*c*h+u*d*v,this._y=u*d*h-p*c*v,this._z=u*c*v-p*d*h,this._w=u*c*h+p*d*v;break;case"ZXY":this._x=p*c*h-u*d*v,this._y=u*d*h+p*c*v,this._z=u*c*v+p*d*h,this._w=u*c*h-p*d*v;break;case"ZYX":this._x=p*c*h-u*d*v,this._y=u*d*h+p*c*v,this._z=u*c*v-p*d*h,this._w=u*c*h+p*d*v;break;case"YZX":this._x=p*c*h+u*d*v,this._y=u*d*h+p*c*v,this._z=u*c*v-p*d*h,this._w=u*c*h-p*d*v;break;case"XZY":this._x=p*c*h-u*d*v,this._y=u*d*h-p*c*v,this._z=u*c*v+p*d*h,this._w=u*c*h+p*d*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){let r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){let n=e.elements,r=n[0],i=n[4],o=n[8],s=n[1],a=n[5],l=n[9],u=n[2],c=n[6],h=n[10],p=r+a+h;if(p>0){let d=.5/Math.sqrt(p+1);this._w=.25/d,this._x=(c-l)*d,this._y=(o-u)*d,this._z=(s-i)*d}else if(r>a&&r>h){let d=2*Math.sqrt(1+r-a-h);this._w=(c-l)/d,this._x=.25*d,this._y=(i+s)/d,this._z=(o+u)/d}else if(a>h){let d=2*Math.sqrt(1+a-r-h);this._w=(o-u)/d,this._x=(i+s)/d,this._y=.25*d,this._z=(l+c)/d}else{let d=2*Math.sqrt(1+h-r-a);this._w=(s-i)/d,this._x=(o+u)/d,this._y=(l+c)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Jr(this.dot(e),-1,1)))}rotateTowards(e,n){let r=this.angleTo(e);if(r===0)return this;let i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){let r=e._x,i=e._y,o=e._z,s=e._w,a=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+s*a+i*u-o*l,this._y=i*c+s*l+o*a-r*u,this._z=o*c+s*u+r*l-i*a,this._w=s*c-r*a-i*l-o*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);let r=this._x,i=this._y,o=this._z,s=this._w,a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;let l=1-a*a;if(l<=Number.EPSILON){let d=1-n;return this._w=d*s+n*this._w,this._x=d*r+n*this._x,this._y=d*i+n*this._y,this._z=d*o+n*this._z,this.normalize(),this}let u=Math.sqrt(l),c=Math.atan2(u,a),h=Math.sin((1-n)*c)/u,p=Math.sin(n*c)/u;return this._w=s*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=o*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){let e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},oe=class t{constructor(e=0,n=0,r=0){t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(pH.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(pH.setFromAxisAngle(e,n))}applyMatrix3(e){let n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let n=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){let n=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,l=e.w,u=2*(s*i-a*r),c=2*(a*n-o*i),h=2*(o*r-s*n);return this.x=n+l*u+s*h-a*c,this.y=r+l*c+a*u-o*h,this.z=i+l*h+o*c-s*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){let r=e.x,i=e.y,o=e.z,s=n.x,a=n.y,l=n.z;return this.x=i*l-o*a,this.y=o*s-r*l,this.z=r*a-i*s,this}projectOnVector(e){let n=e.lengthSq();if(n===0)return this.set(0,0,0);let r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return kI.copy(this).projectOnVector(e),this.sub(kI)}reflect(e){return this.sub(kI.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;let r=this.dot(e)/n;return Math.acos(Jr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){let i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){let n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){let n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},kI=new oe,pH=new Ai,ao=class{constructor(e=new oe(1/0,1/0,1/0),n=new oe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(qa.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(qa.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){let r=qa.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);let r=e.geometry;if(r!==void 0){let o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let s=0,a=o.count;s<a;s++)e.isMesh===!0?e.getVertexPosition(s,qa):qa.fromBufferAttribute(o,s),qa.applyMatrix4(e.matrixWorld),this.expandByPoint(qa);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Pb.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Pb.copy(r.boundingBox)),Pb.applyMatrix4(e.matrixWorld),this.union(Pb)}let i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,qa),qa.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(e0),Rb.subVectors(this.max,e0),bd.subVectors(e.a,e0),wd.subVectors(e.b,e0),Ed.subVectors(e.c,e0),kc.subVectors(wd,bd),Fc.subVectors(Ed,wd),dh.subVectors(bd,Ed);let n=[0,-kc.z,kc.y,0,-Fc.z,Fc.y,0,-dh.z,dh.y,kc.z,0,-kc.x,Fc.z,0,-Fc.x,dh.z,0,-dh.x,-kc.y,kc.x,0,-Fc.y,Fc.x,0,-dh.y,dh.x,0];return!FI(n,bd,wd,Ed,Rb)||(n=[1,0,0,0,1,0,0,0,1],!FI(n,bd,wd,Ed,Rb))?!1:(Ib.crossVectors(kc,Fc),n=[Ib.x,Ib.y,Ib.z],FI(n,bd,wd,Ed,Rb))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,qa).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(qa).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(xu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),xu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),xu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),xu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),xu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),xu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),xu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),xu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(xu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},xu=[new oe,new oe,new oe,new oe,new oe,new oe,new oe,new oe],qa=new oe,Pb=new ao,bd=new oe,wd=new oe,Ed=new oe,kc=new oe,Fc=new oe,dh=new oe,e0=new oe,Rb=new oe,Ib=new oe,mh=new oe;function FI(t,e,n,r,i){for(let o=0,s=t.length-3;o<=s;o+=3){mh.fromArray(t,o);let a=i.x*Math.abs(mh.x)+i.y*Math.abs(mh.y)+i.z*Math.abs(mh.z),l=e.dot(mh),u=n.dot(mh),c=r.dot(mh);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}var tce=new ao,t0=new oe,UI=new oe,$i=class{constructor(e=new oe,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){let r=this.center;n!==void 0?r.copy(n):tce.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){let r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;t0.subVectors(e,this.center);let n=t0.lengthSq();if(n>this.radius*this.radius){let r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(t0,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(UI.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(t0.copy(e.center).add(UI)),this.expandByPoint(t0.copy(e.center).sub(UI))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}},_u=new oe,BI=new oe,Nb=new oe,Uc=new oe,zI=new oe,Ob=new oe,HI=new oe,Nl=class{constructor(e=new oe,n=new oe(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_u)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);let r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let n=_u.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(_u.copy(this.origin).addScaledVector(this.direction,n),_u.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){BI.copy(e).add(n).multiplyScalar(.5),Nb.copy(n).sub(e).normalize(),Uc.copy(this.origin).sub(BI);let o=e.distanceTo(n)*.5,s=-this.direction.dot(Nb),a=Uc.dot(this.direction),l=-Uc.dot(Nb),u=Uc.lengthSq(),c=Math.abs(1-s*s),h,p,d,v;if(c>0)if(h=s*l-a,p=s*a-l,v=o*c,h>=0)if(p>=-v)if(p<=v){let b=1/c;h*=b,p*=b,d=h*(h+s*p+2*a)+p*(s*h+p+2*l)+u}else p=o,h=Math.max(0,-(s*p+a)),d=-h*h+p*(p+2*l)+u;else p=-o,h=Math.max(0,-(s*p+a)),d=-h*h+p*(p+2*l)+u;else p<=-v?(h=Math.max(0,-(-s*o+a)),p=h>0?-o:Math.min(Math.max(-o,-l),o),d=-h*h+p*(p+2*l)+u):p<=v?(h=0,p=Math.min(Math.max(-o,-l),o),d=p*(p+2*l)+u):(h=Math.max(0,-(s*o+a)),p=h>0?o:Math.min(Math.max(-o,-l),o),d=-h*h+p*(p+2*l)+u);else p=s>0?-o:o,h=Math.max(0,-(s*p+a)),d=-h*h+p*(p+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(BI).addScaledVector(Nb,p),d}intersectSphere(e,n){_u.subVectors(e.center,this.origin);let r=_u.dot(this.direction),i=_u.dot(_u)-r*r,o=e.radius*e.radius;if(i>o)return null;let s=Math.sqrt(o-i),a=r-s,l=r+s;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;let r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){let r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){let n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,s,a,l,u=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),c>=0?(o=(e.min.y-p.y)*c,s=(e.max.y-p.y)*c):(o=(e.max.y-p.y)*c,s=(e.min.y-p.y)*c),r>s||o>i||((o>r||isNaN(r))&&(r=o),(s<i||isNaN(i))&&(i=s),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,_u)!==null}intersectTriangle(e,n,r,i,o){zI.subVectors(n,e),Ob.subVectors(r,e),HI.crossVectors(zI,Ob);let s=this.direction.dot(HI),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;Uc.subVectors(this.origin,e);let l=a*this.direction.dot(Ob.crossVectors(Uc,Ob));if(l<0)return null;let u=a*this.direction.dot(zI.cross(Uc));if(u<0||l+u>s)return null;let c=-a*Uc.dot(HI);return c<0?null:this.at(c/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},xn=class t{constructor(e,n,r,i,o,s,a,l,u,c,h,p,d,v,b,S){t.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,u,c,h,p,d,v,b,S)}set(e,n,r,i,o,s,a,l,u,c,h,p,d,v,b,S){let y=this.elements;return y[0]=e,y[4]=n,y[8]=r,y[12]=i,y[1]=o,y[5]=s,y[9]=a,y[13]=l,y[2]=u,y[6]=c,y[10]=h,y[14]=p,y[3]=d,y[7]=v,y[11]=b,y[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new t().fromArray(this.elements)}copy(e){let n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){let n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){let n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){let n=this.elements,r=e.elements,i=1/Td.setFromMatrixColumn(e,0).length(),o=1/Td.setFromMatrixColumn(e,1).length(),s=1/Td.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){let n=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(o),h=Math.sin(o);if(e.order==="XYZ"){let p=s*c,d=s*h,v=a*c,b=a*h;n[0]=l*c,n[4]=-l*h,n[8]=u,n[1]=d+v*u,n[5]=p-b*u,n[9]=-a*l,n[2]=b-p*u,n[6]=v+d*u,n[10]=s*l}else if(e.order==="YXZ"){let p=l*c,d=l*h,v=u*c,b=u*h;n[0]=p+b*a,n[4]=v*a-d,n[8]=s*u,n[1]=s*h,n[5]=s*c,n[9]=-a,n[2]=d*a-v,n[6]=b+p*a,n[10]=s*l}else if(e.order==="ZXY"){let p=l*c,d=l*h,v=u*c,b=u*h;n[0]=p-b*a,n[4]=-s*h,n[8]=v+d*a,n[1]=d+v*a,n[5]=s*c,n[9]=b-p*a,n[2]=-s*u,n[6]=a,n[10]=s*l}else if(e.order==="ZYX"){let p=s*c,d=s*h,v=a*c,b=a*h;n[0]=l*c,n[4]=v*u-d,n[8]=p*u+b,n[1]=l*h,n[5]=b*u+p,n[9]=d*u-v,n[2]=-u,n[6]=a*l,n[10]=s*l}else if(e.order==="YZX"){let p=s*l,d=s*u,v=a*l,b=a*u;n[0]=l*c,n[4]=b-p*h,n[8]=v*h+d,n[1]=h,n[5]=s*c,n[9]=-a*c,n[2]=-u*c,n[6]=d*h+v,n[10]=p-b*h}else if(e.order==="XZY"){let p=s*l,d=s*u,v=a*l,b=a*u;n[0]=l*c,n[4]=-h,n[8]=u*c,n[1]=p*h+b,n[5]=s*c,n[9]=d*h-v,n[2]=v*h-d,n[6]=a*c,n[10]=b*h+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(nce,e,rce)}lookAt(e,n,r){let i=this.elements;return ks.subVectors(e,n),ks.lengthSq()===0&&(ks.z=1),ks.normalize(),Bc.crossVectors(r,ks),Bc.lengthSq()===0&&(Math.abs(r.z)===1?ks.x+=1e-4:ks.z+=1e-4,ks.normalize(),Bc.crossVectors(r,ks)),Bc.normalize(),Lb.crossVectors(ks,Bc),i[0]=Bc.x,i[4]=Lb.x,i[8]=ks.x,i[1]=Bc.y,i[5]=Lb.y,i[9]=ks.y,i[2]=Bc.z,i[6]=Lb.z,i[10]=ks.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){let r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[4],l=r[8],u=r[12],c=r[1],h=r[5],p=r[9],d=r[13],v=r[2],b=r[6],S=r[10],y=r[14],T=r[3],E=r[7],A=r[11],N=r[15],x=i[0],D=i[4],k=i[8],U=i[12],L=i[1],j=i[5],ie=i[9],se=i[13],fe=i[2],_e=i[6],J=i[10],te=i[14],ne=i[3],xe=i[7],Ce=i[11],Le=i[15];return o[0]=s*x+a*L+l*fe+u*ne,o[4]=s*D+a*j+l*_e+u*xe,o[8]=s*k+a*ie+l*J+u*Ce,o[12]=s*U+a*se+l*te+u*Le,o[1]=c*x+h*L+p*fe+d*ne,o[5]=c*D+h*j+p*_e+d*xe,o[9]=c*k+h*ie+p*J+d*Ce,o[13]=c*U+h*se+p*te+d*Le,o[2]=v*x+b*L+S*fe+y*ne,o[6]=v*D+b*j+S*_e+y*xe,o[10]=v*k+b*ie+S*J+y*Ce,o[14]=v*U+b*se+S*te+y*Le,o[3]=T*x+E*L+A*fe+N*ne,o[7]=T*D+E*j+A*_e+N*xe,o[11]=T*k+E*ie+A*J+N*Ce,o[15]=T*U+E*se+A*te+N*Le,this}multiplyScalar(e){let n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){let e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],l=e[9],u=e[13],c=e[2],h=e[6],p=e[10],d=e[14],v=e[3],b=e[7],S=e[11],y=e[15];return v*(+o*l*h-i*u*h-o*a*p+r*u*p+i*a*d-r*l*d)+b*(+n*l*d-n*u*p+o*s*p-i*s*d+i*u*c-o*l*c)+S*(+n*u*h-n*a*d-o*s*h+r*s*d+o*a*c-r*u*c)+y*(-i*a*c-n*l*h+n*a*p+i*s*h-r*s*p+r*l*c)}transpose(){let e=this.elements,n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){let i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){let e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],d=e[11],v=e[12],b=e[13],S=e[14],y=e[15],T=h*S*u-b*p*u+b*l*d-a*S*d-h*l*y+a*p*y,E=v*p*u-c*S*u-v*l*d+s*S*d+c*l*y-s*p*y,A=c*b*u-v*h*u+v*a*d-s*b*d-c*a*y+s*h*y,N=v*h*l-c*b*l-v*a*p+s*b*p+c*a*S-s*h*S,x=n*T+r*E+i*A+o*N;if(x===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let D=1/x;return e[0]=T*D,e[1]=(b*p*o-h*S*o-b*i*d+r*S*d+h*i*y-r*p*y)*D,e[2]=(a*S*o-b*l*o+b*i*u-r*S*u-a*i*y+r*l*y)*D,e[3]=(h*l*o-a*p*o-h*i*u+r*p*u+a*i*d-r*l*d)*D,e[4]=E*D,e[5]=(c*S*o-v*p*o+v*i*d-n*S*d-c*i*y+n*p*y)*D,e[6]=(v*l*o-s*S*o-v*i*u+n*S*u+s*i*y-n*l*y)*D,e[7]=(s*p*o-c*l*o+c*i*u-n*p*u-s*i*d+n*l*d)*D,e[8]=A*D,e[9]=(v*h*o-c*b*o-v*r*d+n*b*d+c*r*y-n*h*y)*D,e[10]=(s*b*o-v*a*o+v*r*u-n*b*u-s*r*y+n*a*y)*D,e[11]=(c*a*o-s*h*o-c*r*u+n*h*u+s*r*d-n*a*d)*D,e[12]=N*D,e[13]=(c*b*i-v*h*i+v*r*p-n*b*p-c*r*S+n*h*S)*D,e[14]=(v*a*i-s*b*i-v*r*l+n*b*l+s*r*S-n*a*S)*D,e[15]=(s*h*i-c*a*i+c*r*l-n*h*l-s*r*p+n*a*p)*D,this}scale(e){let n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){let e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){let n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){let n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){let n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){let r=Math.cos(n),i=Math.sin(n),o=1-r,s=e.x,a=e.y,l=e.z,u=o*s,c=o*a;return this.set(u*s+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*s,0,u*l-i*a,c*l+i*s,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){let i=this.elements,o=n._x,s=n._y,a=n._z,l=n._w,u=o+o,c=s+s,h=a+a,p=o*u,d=o*c,v=o*h,b=s*c,S=s*h,y=a*h,T=l*u,E=l*c,A=l*h,N=r.x,x=r.y,D=r.z;return i[0]=(1-(b+y))*N,i[1]=(d+A)*N,i[2]=(v-E)*N,i[3]=0,i[4]=(d-A)*x,i[5]=(1-(p+y))*x,i[6]=(S+T)*x,i[7]=0,i[8]=(v+E)*D,i[9]=(S-T)*D,i[10]=(1-(p+b))*D,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){let i=this.elements,o=Td.set(i[0],i[1],i[2]).length(),s=Td.set(i[4],i[5],i[6]).length(),a=Td.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],Za.copy(this);let u=1/o,c=1/s,h=1/a;return Za.elements[0]*=u,Za.elements[1]*=u,Za.elements[2]*=u,Za.elements[4]*=c,Za.elements[5]*=c,Za.elements[6]*=c,Za.elements[8]*=h,Za.elements[9]*=h,Za.elements[10]*=h,n.setFromRotationMatrix(Za),r.x=o,r.y=s,r.z=a,this}makePerspective(e,n,r,i,o,s,a=Pl){let l=this.elements,u=2*o/(n-e),c=2*o/(r-i),h=(n+e)/(n-e),p=(r+i)/(r-i),d,v;if(a===Pl)d=-(s+o)/(s-o),v=-2*s*o/(s-o);else if(a===D0)d=-s/(s-o),v=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=c,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=d,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,s,a=Pl){let l=this.elements,u=1/(n-e),c=1/(r-i),h=1/(s-o),p=(n+e)*u,d=(r+i)*c,v,b;if(a===Pl)v=(s+o)*h,b=-2*h;else if(a===D0)v=o*h,b=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-d,l[2]=0,l[6]=0,l[10]=b,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){let n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){let r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}},Td=new oe,Za=new xn,nce=new oe(0,0,0),rce=new oe(1,1,1),Bc=new oe,Lb=new oe,ks=new oe,dH=new xn,mH=new Ai,zs=class t{constructor(e=0,n=0,r=0,i=t.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){let i=e.elements,o=i[0],s=i[4],a=i[8],l=i[1],u=i[5],c=i[9],h=i[2],p=i[6],d=i[10];switch(n){case"XYZ":this._y=Math.asin(Jr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Jr(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(Jr(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Jr(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,d),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(Jr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-Jr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return dH.makeRotationFromQuaternion(e),this.setFromRotationMatrix(dH,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return mH.setFromEuler(this),this.setFromQuaternion(mH,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};zs.DEFAULT_ORDER="XYZ";var Jd=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},ice=0,gH=new oe,Cd=new Ai,Su=new xn,Db=new oe,n0=new oe,oce=new oe,sce=new Ai,vH=new oe(1,0,0),yH=new oe(0,1,0),xH=new oe(0,0,1),_H={type:"added"},ace={type:"removed"},Md={type:"childadded",child:null},VI={type:"childremoved",child:null},nr=class t extends ya{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ice++}),this.uuid=Us(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=t.DEFAULT_UP.clone();let e=new oe,n=new zs,r=new Ai,i=new oe(1,1,1);function o(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new xn},normalMatrix:{value:new Nn}}),this.matrix=new xn,this.matrixWorld=new xn,this.matrixAutoUpdate=t.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=t.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Jd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Cd.setFromAxisAngle(e,n),this.quaternion.multiply(Cd),this}rotateOnWorldAxis(e,n){return Cd.setFromAxisAngle(e,n),this.quaternion.premultiply(Cd),this}rotateX(e){return this.rotateOnAxis(vH,e)}rotateY(e){return this.rotateOnAxis(yH,e)}rotateZ(e){return this.rotateOnAxis(xH,e)}translateOnAxis(e,n){return gH.copy(e).applyQuaternion(this.quaternion),this.position.add(gH.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(vH,e)}translateY(e){return this.translateOnAxis(yH,e)}translateZ(e){return this.translateOnAxis(xH,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Su.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Db.copy(e):Db.set(e,n,r);let i=this.parent;this.updateWorldMatrix(!0,!1),n0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Su.lookAt(n0,Db,this.up):Su.lookAt(Db,n0,this.up),this.quaternion.setFromRotationMatrix(Su),i&&(Su.extractRotation(i.matrixWorld),Cd.setFromRotationMatrix(Su),this.quaternion.premultiply(Cd.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(_H),Md.child=e,this.dispatchEvent(Md),Md.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}let n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(ace),VI.child=e,this.dispatchEvent(VI),VI.child=null),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Su.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Su.multiply(e.parent.matrixWorld)),e.applyMatrix4(Su),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(_H),Md.child=e,this.dispatchEvent(Md),Md.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){let s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);let i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(n0,e,oce),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(n0,sce,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);let n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){let n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);let n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){let r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){let i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){let n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});let i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);let a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){let l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){let h=l[u];o(e.shapes,h)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(o(e.materials,this.material[l]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){let l=this.animations[a];i.animations.push(o(e.animations,l))}}if(n){let a=s(e.geometries),l=s(e.materials),u=s(e.textures),c=s(e.images),h=s(e.shapes),p=s(e.skeletons),d=s(e.animations),v=s(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),d.length>0&&(r.animations=d),v.length>0&&(r.nodes=v)}return r.object=i,r;function s(a){let l=[];for(let u in a){let c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){let i=e.children[r];this.add(i.clone())}return this}};nr.DEFAULT_UP=new oe(0,1,0);nr.DEFAULT_MATRIX_AUTO_UPDATE=!0;nr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Ka=new oe,bu=new oe,WI=new oe,wu=new oe,Ad=new oe,Pd=new oe,SH=new oe,GI=new oe,$I=new oe,XI=new oe,Au=class t{constructor(e=new oe,n=new oe,r=new oe){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Ka.subVectors(e,n),i.cross(Ka);let o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){Ka.subVectors(i,n),bu.subVectors(r,n),WI.subVectors(e,n);let s=Ka.dot(Ka),a=Ka.dot(bu),l=Ka.dot(WI),u=bu.dot(bu),c=bu.dot(WI),h=s*u-a*a;if(h===0)return o.set(0,0,0),null;let p=1/h,d=(u*l-a*c)*p,v=(s*c-a*l)*p;return o.set(1-d-v,v,d)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,wu)===null?!1:wu.x>=0&&wu.y>=0&&wu.x+wu.y<=1}static getInterpolation(e,n,r,i,o,s,a,l){return this.getBarycoord(e,n,r,i,wu)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,wu.x),l.addScaledVector(s,wu.y),l.addScaledVector(a,wu.z),l)}static isFrontFacing(e,n,r,i){return Ka.subVectors(r,n),bu.subVectors(e,n),Ka.cross(bu).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ka.subVectors(this.c,this.b),bu.subVectors(this.a,this.b),Ka.cross(bu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return t.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return t.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return t.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return t.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return t.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){let r=this.a,i=this.b,o=this.c,s,a;Ad.subVectors(i,r),Pd.subVectors(o,r),GI.subVectors(e,r);let l=Ad.dot(GI),u=Pd.dot(GI);if(l<=0&&u<=0)return n.copy(r);$I.subVectors(e,i);let c=Ad.dot($I),h=Pd.dot($I);if(c>=0&&h<=c)return n.copy(i);let p=l*h-c*u;if(p<=0&&l>=0&&c<=0)return s=l/(l-c),n.copy(r).addScaledVector(Ad,s);XI.subVectors(e,o);let d=Ad.dot(XI),v=Pd.dot(XI);if(v>=0&&d<=v)return n.copy(o);let b=d*u-l*v;if(b<=0&&u>=0&&v<=0)return a=u/(u-v),n.copy(r).addScaledVector(Pd,a);let S=c*v-d*h;if(S<=0&&h-c>=0&&d-v>=0)return SH.subVectors(o,i),a=(h-c)/(h-c+(d-v)),n.copy(i).addScaledVector(SH,a);let y=1/(S+b+p);return s=b*y,a=p*y,n.copy(r).addScaledVector(Ad,s).addScaledVector(Pd,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},HV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},zc={h:0,s:0,l:0},kb={h:0,s:0,l:0};function jI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}var Xt=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){let i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=da){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,er.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=er.workingColorSpace){return this.r=e,this.g=n,this.b=r,er.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=er.workingColorSpace){if(e=iO(e,1),n=Jr(n,0,1),r=Jr(r,0,1),n===0)this.r=this.g=this.b=r;else{let o=r<=.5?r*(1+n):r+n-r*n,s=2*r-o;this.r=jI(s,o,e+1/3),this.g=jI(s,o,e),this.b=jI(s,o,e-1/3)}return er.toWorkingColorSpace(this,i),this}setStyle(e,n=da){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o,s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){let o=i[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=da){let r=HV[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=jd(e.r),this.g=jd(e.g),this.b=jd(e.b),this}copyLinearToSRGB(e){return this.r=LI(e.r),this.g=LI(e.g),this.b=LI(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=da){return er.fromWorkingColorSpace(So.copy(this),e),Math.round(Jr(So.r*255,0,255))*65536+Math.round(Jr(So.g*255,0,255))*256+Math.round(Jr(So.b*255,0,255))}getHexString(e=da){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=er.workingColorSpace){er.fromWorkingColorSpace(So.copy(this),n);let r=So.r,i=So.g,o=So.b,s=Math.max(r,i,o),a=Math.min(r,i,o),l,u,c=(a+s)/2;if(a===s)l=0,u=0;else{let h=s-a;switch(u=c<=.5?h/(s+a):h/(2-s-a),s){case r:l=(i-o)/h+(i<o?6:0);break;case i:l=(o-r)/h+2;break;case o:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=er.workingColorSpace){return er.fromWorkingColorSpace(So.copy(this),n),e.r=So.r,e.g=So.g,e.b=So.b,e}getStyle(e=da){er.fromWorkingColorSpace(So.copy(this),e);let n=So.r,r=So.g,i=So.b;return e!==da?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(zc),this.setHSL(zc.h+e,zc.s+n,zc.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(zc),e.getHSL(kb);let r=_0(zc.h,kb.h,n),i=_0(zc.s,kb.s,n),o=_0(zc.l,kb.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){let n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}},So=new Xt;Xt.NAMES=HV;var lce=0,Xi=class extends ya{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:lce++}),this.uuid=Us(),this.name="",this.type="Material",this.blending=Nh,this.side=Ou,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=bw,this.blendDst=ww,this.blendEquation=Gc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Xt(0,0,0),this.blendAlpha=0,this.depthFunc=E0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=wN,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ch,this.stencilZFail=Ch,this.stencilZPass=Ch,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let n in e){let r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}let i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){let n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});let r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Nh&&(r.blending=this.blending),this.side!==Ou&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==bw&&(r.blendSrc=this.blendSrc),this.blendDst!==ww&&(r.blendDst=this.blendDst),this.blendEquation!==Gc&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==E0&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==wN&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ch&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Ch&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Ch&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){let s=[];for(let a in o){let l=o[a];delete l.metadata,s.push(l)}return s}if(n){let o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let n=e.clippingPlanes,r=null;if(n!==null){let i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}},Ol=class extends Xi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Xt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zs,this.combine=hy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},Cu=uce();function uce(){let t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){let u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}let o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;(u&8388608)===0;)u<<=1,c-=8388608;u&=-8388609,c+=947912704,o[l]=u|c}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:s,offsetTable:a}}function ls(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Jr(t,-65504,65504),Cu.floatView[0]=t;let e=Cu.uint32View[0],n=e>>23&511;return Cu.baseTable[n]+((e&8388607)>>Cu.shiftTable[n])}function h0(t){let e=t>>10;return Cu.uint32View[0]=Cu.mantissaTable[Cu.offsetTable[e]+(t&1023)]+Cu.exponentTable[e],Cu.floatView[0]}var cce={toHalfFloat:ls,fromHalfFloat:h0},gi=new oe,Fb=new ct,Un=class{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=L0,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=us,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Xd("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Fb.fromBufferAttribute(this,n),Fb.applyMatrix3(e),this.setXY(n,Fb.x,Fb.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)gi.fromBufferAttribute(this,n),gi.applyMatrix3(e),this.setXYZ(n,gi.x,gi.y,gi.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)gi.fromBufferAttribute(this,n),gi.applyMatrix4(e),this.setXYZ(n,gi.x,gi.y,gi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)gi.fromBufferAttribute(this,n),gi.applyNormalMatrix(e),this.setXYZ(n,gi.x,gi.y,gi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)gi.fromBufferAttribute(this,n),gi.transformDirection(e),this.setXYZ(n,gi.x,gi.y,gi.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Uo(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=On(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Uo(n,this.array)),n}setX(e,n){return this.normalized&&(n=On(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Uo(n,this.array)),n}setY(e,n){return this.normalized&&(n=On(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Uo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=On(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Uo(n,this.array)),n}setW(e,n){return this.normalized&&(n=On(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=On(n,this.array),r=On(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=On(n,this.array),r=On(r,this.array),i=On(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=On(n,this.array),r=On(r,this.array),i=On(i,this.array),o=On(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==L0&&(e.usage=this.usage),e}},MN=class extends Un{constructor(e,n,r){super(new Int8Array(e),n,r)}},AN=class extends Un{constructor(e,n,r){super(new Uint8Array(e),n,r)}},PN=class extends Un{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}},RN=class extends Un{constructor(e,n,r){super(new Int16Array(e),n,r)}},U0=class extends Un{constructor(e,n,r){super(new Uint16Array(e),n,r)}},IN=class extends Un{constructor(e,n,r){super(new Int32Array(e),n,r)}},B0=class extends Un{constructor(e,n,r){super(new Uint32Array(e),n,r)}},NN=class extends Un{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=h0(this.array[e*this.itemSize]);return this.normalized&&(n=Uo(n,this.array)),n}setX(e,n){return this.normalized&&(n=On(n,this.array)),this.array[e*this.itemSize]=ls(n),this}getY(e){let n=h0(this.array[e*this.itemSize+1]);return this.normalized&&(n=Uo(n,this.array)),n}setY(e,n){return this.normalized&&(n=On(n,this.array)),this.array[e*this.itemSize+1]=ls(n),this}getZ(e){let n=h0(this.array[e*this.itemSize+2]);return this.normalized&&(n=Uo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=On(n,this.array)),this.array[e*this.itemSize+2]=ls(n),this}getW(e){let n=h0(this.array[e*this.itemSize+3]);return this.normalized&&(n=Uo(n,this.array)),n}setW(e,n){return this.normalized&&(n=On(n,this.array)),this.array[e*this.itemSize+3]=ls(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=On(n,this.array),r=On(r,this.array)),this.array[e+0]=ls(n),this.array[e+1]=ls(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=On(n,this.array),r=On(r,this.array),i=On(i,this.array)),this.array[e+0]=ls(n),this.array[e+1]=ls(r),this.array[e+2]=ls(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=On(n,this.array),r=On(r,this.array),i=On(i,this.array),o=On(o,this.array)),this.array[e+0]=ls(n),this.array[e+1]=ls(r),this.array[e+2]=ls(i),this.array[e+3]=ls(o),this}},Yt=class extends Un{constructor(e,n,r){super(new Float32Array(e),n,r)}},fce=0,pa=new xn,YI=new nr,Rd=new oe,Fs=new ao,r0=new ao,Wi=new oe,Tn=class t extends ya{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:fce++}),this.uuid=Us(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(BV(e)?B0:U0)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){let n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);let r=this.attributes.normal;if(r!==void 0){let o=new Nn().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}let i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return pa.makeRotationFromQuaternion(e),this.applyMatrix4(pa),this}rotateX(e){return pa.makeRotationX(e),this.applyMatrix4(pa),this}rotateY(e){return pa.makeRotationY(e),this.applyMatrix4(pa),this}rotateZ(e){return pa.makeRotationZ(e),this.applyMatrix4(pa),this}translate(e,n,r){return pa.makeTranslation(e,n,r),this.applyMatrix4(pa),this}scale(e,n,r){return pa.makeScale(e,n,r),this.applyMatrix4(pa),this}lookAt(e){return YI.lookAt(e),YI.updateMatrix(),this.applyMatrix4(YI.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Rd).negate(),this.translate(Rd.x,Rd.y,Rd.z),this}setFromPoints(e){let n=[];for(let r=0,i=e.length;r<i;r++){let o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Yt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ao);let e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new oe(-1/0,-1/0,-1/0),new oe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){let o=n[r];Fs.setFromBufferAttribute(o),this.morphTargetsRelative?(Wi.addVectors(this.boundingBox.min,Fs.min),this.boundingBox.expandByPoint(Wi),Wi.addVectors(this.boundingBox.max,Fs.max),this.boundingBox.expandByPoint(Wi)):(this.boundingBox.expandByPoint(Fs.min),this.boundingBox.expandByPoint(Fs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $i);let e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new oe,1/0);return}if(e){let r=this.boundingSphere.center;if(Fs.setFromBufferAttribute(e),n)for(let o=0,s=n.length;o<s;o++){let a=n[o];r0.setFromBufferAttribute(a),this.morphTargetsRelative?(Wi.addVectors(Fs.min,r0.min),Fs.expandByPoint(Wi),Wi.addVectors(Fs.max,r0.max),Fs.expandByPoint(Wi)):(Fs.expandByPoint(r0.min),Fs.expandByPoint(r0.max))}Fs.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)Wi.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Wi));if(n)for(let o=0,s=n.length;o<s;o++){let a=n[o],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)Wi.fromBufferAttribute(a,u),l&&(Rd.fromBufferAttribute(e,u),Wi.add(Rd)),i=Math.max(i,r.distanceToSquared(Wi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Un(new Float32Array(4*r.count),4));let s=this.getAttribute("tangent"),a=[],l=[];for(let k=0;k<r.count;k++)a[k]=new oe,l[k]=new oe;let u=new oe,c=new oe,h=new oe,p=new ct,d=new ct,v=new ct,b=new oe,S=new oe;function y(k,U,L){u.fromBufferAttribute(r,k),c.fromBufferAttribute(r,U),h.fromBufferAttribute(r,L),p.fromBufferAttribute(o,k),d.fromBufferAttribute(o,U),v.fromBufferAttribute(o,L),c.sub(u),h.sub(u),d.sub(p),v.sub(p);let j=1/(d.x*v.y-v.x*d.y);isFinite(j)&&(b.copy(c).multiplyScalar(v.y).addScaledVector(h,-d.y).multiplyScalar(j),S.copy(h).multiplyScalar(d.x).addScaledVector(c,-v.x).multiplyScalar(j),a[k].add(b),a[U].add(b),a[L].add(b),l[k].add(S),l[U].add(S),l[L].add(S))}let T=this.groups;T.length===0&&(T=[{start:0,count:e.count}]);for(let k=0,U=T.length;k<U;++k){let L=T[k],j=L.start,ie=L.count;for(let se=j,fe=j+ie;se<fe;se+=3)y(e.getX(se+0),e.getX(se+1),e.getX(se+2))}let E=new oe,A=new oe,N=new oe,x=new oe;function D(k){N.fromBufferAttribute(i,k),x.copy(N);let U=a[k];E.copy(U),E.sub(N.multiplyScalar(N.dot(U))).normalize(),A.crossVectors(x,U);let j=A.dot(l[k])<0?-1:1;s.setXYZW(k,E.x,E.y,E.z,j)}for(let k=0,U=T.length;k<U;++k){let L=T[k],j=L.start,ie=L.count;for(let se=j,fe=j+ie;se<fe;se+=3)D(e.getX(se+0)),D(e.getX(se+1)),D(e.getX(se+2))}}computeVertexNormals(){let e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Un(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,d=r.count;p<d;p++)r.setXYZ(p,0,0,0);let i=new oe,o=new oe,s=new oe,a=new oe,l=new oe,u=new oe,c=new oe,h=new oe;if(e)for(let p=0,d=e.count;p<d;p+=3){let v=e.getX(p+0),b=e.getX(p+1),S=e.getX(p+2);i.fromBufferAttribute(n,v),o.fromBufferAttribute(n,b),s.fromBufferAttribute(n,S),c.subVectors(s,o),h.subVectors(i,o),c.cross(h),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,b),u.fromBufferAttribute(r,S),a.add(c),l.add(c),u.add(c),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(b,l.x,l.y,l.z),r.setXYZ(S,u.x,u.y,u.z)}else for(let p=0,d=n.count;p<d;p+=3)i.fromBufferAttribute(n,p+0),o.fromBufferAttribute(n,p+1),s.fromBufferAttribute(n,p+2),c.subVectors(s,o),h.subVectors(i,o),c.cross(h),r.setXYZ(p+0,c.x,c.y,c.z),r.setXYZ(p+1,c.x,c.y,c.z),r.setXYZ(p+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){let e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Wi.fromBufferAttribute(e,n),Wi.normalize(),e.setXYZ(n,Wi.x,Wi.y,Wi.z)}toNonIndexed(){function e(a,l){let u=a.array,c=a.itemSize,h=a.normalized,p=new u.constructor(l.length*c),d=0,v=0;for(let b=0,S=l.length;b<S;b++){a.isInterleavedBufferAttribute?d=l[b]*a.data.stride+a.offset:d=l[b]*c;for(let y=0;y<c;y++)p[v++]=u[d++]}return new Un(p,c,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let n=new t,r=this.index.array,i=this.attributes;for(let a in i){let l=i[a],u=e(l,r);n.setAttribute(a,u)}let o=this.morphAttributes;for(let a in o){let l=[],u=o[a];for(let c=0,h=u.length;c<h;c++){let p=u[c],d=e(p,r);l.push(d)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;let s=this.groups;for(let a=0,l=s.length;a<l;a++){let u=s[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){let e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let l=this.parameters;for(let u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};let n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});let r=this.attributes;for(let l in r){let u=r[l];e.data.attributes[l]=u.toJSON(e.data)}let i={},o=!1;for(let l in this.morphAttributes){let u=this.morphAttributes[l],c=[];for(let h=0,p=u.length;h<p;h++){let d=u[h];c.push(d.toJSON(e.data))}c.length>0&&(i[l]=c,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);let s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));let a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let n={};this.name=e.name;let r=e.index;r!==null&&this.setIndex(r.clone(n));let i=e.attributes;for(let u in i){let c=i[u];this.setAttribute(u,c.clone(n))}let o=e.morphAttributes;for(let u in o){let c=[],h=o[u];for(let p=0,d=h.length;p<d;p++)c.push(h[p].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;let s=e.groups;for(let u=0,c=s.length;u<c;u++){let h=s[u];this.addGroup(h.start,h.count,h.materialIndex)}let a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());let l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}},bH=new xn,gh=new Nl,Ub=new $i,wH=new oe,Id=new oe,Nd=new oe,Od=new oe,qI=new oe,Bb=new oe,zb=new ct,Hb=new ct,Vb=new ct,EH=new oe,TH=new oe,CH=new oe,Wb=new oe,Gb=new oe,Qr=class extends nr{constructor(e=new Tn,n=new Ol){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){let n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){let i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){let a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(e,n){let r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(i,e);let a=this.morphTargetInfluences;if(o&&a){Bb.set(0,0,0);for(let l=0,u=o.length;l<u;l++){let c=a[l],h=o[l];c!==0&&(qI.fromBufferAttribute(h,e),s?Bb.addScaledVector(qI,c):Bb.addScaledVector(qI.sub(n),c))}n.add(Bb)}return n}raycast(e,n){let r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Ub.copy(r.boundingSphere),Ub.applyMatrix4(o),gh.copy(e.ray).recast(e.near),!(Ub.containsPoint(gh.origin)===!1&&(gh.intersectSphere(Ub,wH)===null||gh.origin.distanceToSquared(wH)>(e.far-e.near)**2))&&(bH.copy(o).invert(),gh.copy(e.ray).applyMatrix4(bH),!(r.boundingBox!==null&&gh.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,gh)))}_computeIntersections(e,n,r){let i,o=this.geometry,s=this.material,a=o.index,l=o.attributes.position,u=o.attributes.uv,c=o.attributes.uv1,h=o.attributes.normal,p=o.groups,d=o.drawRange;if(a!==null)if(Array.isArray(s))for(let v=0,b=p.length;v<b;v++){let S=p[v],y=s[S.materialIndex],T=Math.max(S.start,d.start),E=Math.min(a.count,Math.min(S.start+S.count,d.start+d.count));for(let A=T,N=E;A<N;A+=3){let x=a.getX(A),D=a.getX(A+1),k=a.getX(A+2);i=$b(this,y,e,r,u,c,h,x,D,k),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=S.materialIndex,n.push(i))}}else{let v=Math.max(0,d.start),b=Math.min(a.count,d.start+d.count);for(let S=v,y=b;S<y;S+=3){let T=a.getX(S),E=a.getX(S+1),A=a.getX(S+2);i=$b(this,s,e,r,u,c,h,T,E,A),i&&(i.faceIndex=Math.floor(S/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let v=0,b=p.length;v<b;v++){let S=p[v],y=s[S.materialIndex],T=Math.max(S.start,d.start),E=Math.min(l.count,Math.min(S.start+S.count,d.start+d.count));for(let A=T,N=E;A<N;A+=3){let x=A,D=A+1,k=A+2;i=$b(this,y,e,r,u,c,h,x,D,k),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=S.materialIndex,n.push(i))}}else{let v=Math.max(0,d.start),b=Math.min(l.count,d.start+d.count);for(let S=v,y=b;S<y;S+=3){let T=S,E=S+1,A=S+2;i=$b(this,s,e,r,u,c,h,T,E,A),i&&(i.faceIndex=Math.floor(S/3),n.push(i))}}}};function hce(t,e,n,r,i,o,s,a){let l;if(e.side===zo?l=r.intersectTriangle(s,o,i,!0,a):l=r.intersectTriangle(i,o,s,e.side===Ou,a),l===null)return null;Gb.copy(a),Gb.applyMatrix4(t.matrixWorld);let u=n.ray.origin.distanceTo(Gb);return u<n.near||u>n.far?null:{distance:u,point:Gb.clone(),object:t}}function $b(t,e,n,r,i,o,s,a,l,u){t.getVertexPosition(a,Id),t.getVertexPosition(l,Nd),t.getVertexPosition(u,Od);let c=hce(t,e,n,r,Id,Nd,Od,Wb);if(c){i&&(zb.fromBufferAttribute(i,a),Hb.fromBufferAttribute(i,l),Vb.fromBufferAttribute(i,u),c.uv=Au.getInterpolation(Wb,Id,Nd,Od,zb,Hb,Vb,new ct)),o&&(zb.fromBufferAttribute(o,a),Hb.fromBufferAttribute(o,l),Vb.fromBufferAttribute(o,u),c.uv1=Au.getInterpolation(Wb,Id,Nd,Od,zb,Hb,Vb,new ct)),s&&(EH.fromBufferAttribute(s,a),TH.fromBufferAttribute(s,l),CH.fromBufferAttribute(s,u),c.normal=Au.getInterpolation(Wb,Id,Nd,Od,EH,TH,CH,new oe),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));let h={a,b:l,c:u,normal:new oe,materialIndex:0};Au.getNormal(Id,Nd,Od,h.normal),c.face=h}return c}var Fh=class t extends Tn{constructor(e=1,n=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};let a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);let l=[],u=[],c=[],h=[],p=0,d=0;v("z","y","x",-1,-1,r,n,e,s,o,0),v("z","y","x",1,-1,r,n,-e,s,o,1),v("x","z","y",1,1,e,r,n,i,s,2),v("x","z","y",1,-1,e,r,-n,i,s,3),v("x","y","z",1,-1,e,n,r,i,o,4),v("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new Yt(u,3)),this.setAttribute("normal",new Yt(c,3)),this.setAttribute("uv",new Yt(h,2));function v(b,S,y,T,E,A,N,x,D,k,U){let L=A/D,j=N/k,ie=A/2,se=N/2,fe=x/2,_e=D+1,J=k+1,te=0,ne=0,xe=new oe;for(let Ce=0;Ce<J;Ce++){let Le=Ce*j-se;for(let rt=0;rt<_e;rt++){let ot=rt*L-ie;xe[b]=ot*T,xe[S]=Le*E,xe[y]=fe,u.push(xe.x,xe.y,xe.z),xe[b]=0,xe[S]=0,xe[y]=x>0?1:-1,c.push(xe.x,xe.y,xe.z),h.push(rt/D),h.push(1-Ce/k),te+=1}}for(let Ce=0;Ce<k;Ce++)for(let Le=0;Le<D;Le++){let rt=p+Le+_e*Ce,ot=p+Le+_e*(Ce+1),Ae=p+(Le+1)+_e*(Ce+1),ze=p+(Le+1)+_e*Ce;l.push(rt,ot,ze),l.push(ot,Ae,ze),ne+=6}a.addGroup(d,ne,U),d+=ne,p+=te}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function Qd(t){let e={};for(let n in t){e[n]={};for(let r in t[n]){let i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Fo(t){let e={};for(let n=0;n<t.length;n++){let r=Qd(t[n]);for(let i in r)e[i]=r[i]}return e}function pce(t){let e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function VV(t){let e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:er.workingColorSpace}var WV={clone:Qd,merge:Fo},dce=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,mce=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,Hs=class extends Xi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=dce,this.fragmentShader=mce,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Qd(e.uniforms),this.uniformsGroups=pce(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(let i in this.uniforms){let s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;let r={};for(let i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}},em=class extends nr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new xn,this.projectionMatrix=new xn,this.projectionMatrixInverse=new xn,this.coordinateSystem=Pl}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},Hc=new oe,MH=new ct,AH=new ct,Mi=class extends em{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let n=.5*this.getFilmHeight()/e;this.fov=Zd*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(Lh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Zd*2*Math.atan(Math.tan(Lh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Hc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Hc.x,Hc.y).multiplyScalar(-e/Hc.z),Hc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Hc.x,Hc.y).multiplyScalar(-e/Hc.z)}getViewSize(e,n){return this.getViewBounds(e,MH,AH),n.subVectors(AH,MH)}setViewOffset(e,n,r,i,o,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,n=e*Math.tan(Lh*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i,s=this.view;if(this.view!==null&&this.view.enabled){let l=s.fullWidth,u=s.fullHeight;o+=s.offsetX*i/l,n-=s.offsetY*r/u,i*=s.width/l,r*=s.height/u}let a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}},Ld=-90,Dd=1,Qw=class extends nr{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;let i=new Mi(Ld,Dd,e,n);i.layers=this.layers,this.add(i);let o=new Mi(Ld,Dd,e,n);o.layers=this.layers,this.add(o);let s=new Mi(Ld,Dd,e,n);s.layers=this.layers,this.add(s);let a=new Mi(Ld,Dd,e,n);a.layers=this.layers,this.add(a);let l=new Mi(Ld,Dd,e,n);l.layers=this.layers,this.add(l);let u=new Mi(Ld,Dd,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){let e=this.coordinateSystem,n=this.children.concat(),[r,i,o,s,a,l]=n;for(let u of n)this.remove(u);if(e===Pl)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===D0)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(let u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();let{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());let[o,s,a,l,u,c]=this.children,h=e.getRenderTarget(),p=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;let b=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,s),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=b,e.setRenderTarget(r,5,i),e.render(n,c),e.setRenderTarget(h,p,d),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}},Uh=class extends yi{constructor(e,n,r,i,o,s,a,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:Lu,super(e,n,r,i,o,s,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},e1=class extends Bs{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;let r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Uh(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:vi}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;let r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Fh(5,5,5),o=new Hs({name:"CubemapFromEquirect",uniforms:Qd(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:zo,blending:Ru});o.uniforms.tEquirect.value=n;let s=new Qr(i,o),a=n.minFilter;return n.minFilter===Al&&(n.minFilter=vi),new Qw(1,10,this).update(e,s),n.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,r,i){let o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(o)}},ZI=new oe,gce=new oe,vce=new Nn,ma=class{constructor(e=new oe(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){let i=ZI.subVectors(r,n).cross(gce.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){let r=e.delta(ZI),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;let o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){let n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){let r=n||vce.getNormalMatrix(e),i=this.coplanarPoint(ZI).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}},vh=new $i,Xb=new oe,Bh=class{constructor(e=new ma,n=new ma,r=new ma,i=new ma,o=new ma,s=new ma){this.planes=[e,n,r,i,o,s]}set(e,n,r,i,o,s){let a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){let n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Pl){let r=this.planes,i=e.elements,o=i[0],s=i[1],a=i[2],l=i[3],u=i[4],c=i[5],h=i[6],p=i[7],d=i[8],v=i[9],b=i[10],S=i[11],y=i[12],T=i[13],E=i[14],A=i[15];if(r[0].setComponents(l-o,p-u,S-d,A-y).normalize(),r[1].setComponents(l+o,p+u,S+d,A+y).normalize(),r[2].setComponents(l+s,p+c,S+v,A+T).normalize(),r[3].setComponents(l-s,p-c,S-v,A-T).normalize(),r[4].setComponents(l-a,p-h,S-b,A-E).normalize(),n===Pl)r[5].setComponents(l+a,p+h,S+b,A+E).normalize();else if(n===D0)r[5].setComponents(a,h,b,E).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),vh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{let n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),vh.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(vh)}intersectsSprite(e){return vh.center.set(0,0,0),vh.radius=.7071067811865476,vh.applyMatrix4(e.matrixWorld),this.intersectsSphere(vh)}intersectsSphere(e){let n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){let n=this.planes;for(let r=0;r<6;r++){let i=n[r];if(Xb.x=i.normal.x>0?e.max.x:e.min.x,Xb.y=i.normal.y>0?e.max.y:e.min.y,Xb.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Xb)<0)return!1}return!0}containsPoint(e){let n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function GV(){let t=null,e=!1,n=null,r=null;function i(o,s){n(o,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function yce(t){let e=new WeakMap;function n(a,l){let u=a.array,c=a.usage,h=u.byteLength,p=t.createBuffer();t.bindBuffer(l,p),t.bufferData(l,u,c),a.onUploadCallback();let d;if(u instanceof Float32Array)d=t.FLOAT;else if(u instanceof Uint16Array)a.isFloat16BufferAttribute?d=t.HALF_FLOAT:d=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)d=t.SHORT;else if(u instanceof Uint32Array)d=t.UNSIGNED_INT;else if(u instanceof Int32Array)d=t.INT;else if(u instanceof Int8Array)d=t.BYTE;else if(u instanceof Uint8Array)d=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)d=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:p,type:d,bytesPerElement:u.BYTES_PER_ELEMENT,version:a.version,size:h}}function r(a,l,u){let c=l.array,h=l._updateRange,p=l.updateRanges;if(t.bindBuffer(u,a),h.count===-1&&p.length===0&&t.bufferSubData(u,0,c),p.length!==0){for(let d=0,v=p.length;d<v;d++){let b=p[d];t.bufferSubData(u,b.start*c.BYTES_PER_ELEMENT,c,b.start,b.count)}l.clearUpdateRanges()}h.count!==-1&&(t.bufferSubData(u,h.offset*c.BYTES_PER_ELEMENT,c,h.offset,h.count),h.count=-1),l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function o(a){a.isInterleavedBufferAttribute&&(a=a.data);let l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function s(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){let c=e.get(a);(!c||c.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}let u=e.get(a);if(u===void 0)e.set(a,n(a,l));else if(u.version<a.version){if(u.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,a,l),u.version=a.version}}return{get:i,remove:o,update:s}}var tm=class t extends Tn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};let o=e/2,s=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,h=e/a,p=n/l,d=[],v=[],b=[],S=[];for(let y=0;y<c;y++){let T=y*p-s;for(let E=0;E<u;E++){let A=E*h-o;v.push(A,-T,0),b.push(0,0,1),S.push(E/a),S.push(1-y/l)}}for(let y=0;y<l;y++)for(let T=0;T<a;T++){let E=T+u*y,A=T+u*(y+1),N=T+1+u*(y+1),x=T+1+u*y;d.push(E,A,x),d.push(A,N,x)}this.setIndex(d),this.setAttribute("position",new Yt(v,3)),this.setAttribute("normal",new Yt(b,3)),this.setAttribute("uv",new Yt(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t(e.width,e.height,e.widthSegments,e.heightSegments)}},xce=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,_ce=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Sce=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,bce=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wce=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Ece=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Tce=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Cce=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Mce=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Ace=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Pce=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Rce=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Ice=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Nce=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Oce=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Lce=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Dce=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,kce=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Fce=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Uce=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Bce=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,zce=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Hce=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Vce=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Wce=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Gce=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,$ce=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Xce=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,jce=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Yce=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,qce="gl_FragColor = linearToOutputTexel( gl_FragColor );",Zce=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Kce=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Jce=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Qce=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,efe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,tfe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,nfe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,rfe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,ife=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,ofe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,sfe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,afe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lfe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,ufe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,cfe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,ffe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,hfe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,pfe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,dfe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,mfe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,gfe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,vfe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,yfe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,xfe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,_fe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Sfe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,bfe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,wfe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Efe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Tfe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Cfe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Mfe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Afe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Pfe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Rfe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Ife=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Nfe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Ofe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Lfe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Dfe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,kfe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Ffe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Ufe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Bfe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,zfe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Hfe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Vfe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Wfe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Gfe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,$fe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Xfe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,jfe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Yfe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,qfe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Zfe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Kfe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Jfe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Qfe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,ehe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,the=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,nhe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,rhe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ihe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ohe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,she=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,ahe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,lhe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,uhe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,che=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,fhe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,hhe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,phe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,dhe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,mhe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ghe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,vhe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,yhe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,xhe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_he=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,She=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,bhe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,whe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Ehe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,The=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Che=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Mhe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Ahe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Phe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Rhe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ihe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Nhe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Ohe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lhe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Dhe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,khe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Fhe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Uhe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Bhe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,zhe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Hhe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Vhe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Whe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ghe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$he=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xhe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,jhe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Yhe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qhe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Zhe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Khe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Dn={alphahash_fragment:xce,alphahash_pars_fragment:_ce,alphamap_fragment:Sce,alphamap_pars_fragment:bce,alphatest_fragment:wce,alphatest_pars_fragment:Ece,aomap_fragment:Tce,aomap_pars_fragment:Cce,batching_pars_vertex:Mce,batching_vertex:Ace,begin_vertex:Pce,beginnormal_vertex:Rce,bsdfs:Ice,iridescence_fragment:Nce,bumpmap_pars_fragment:Oce,clipping_planes_fragment:Lce,clipping_planes_pars_fragment:Dce,clipping_planes_pars_vertex:kce,clipping_planes_vertex:Fce,color_fragment:Uce,color_pars_fragment:Bce,color_pars_vertex:zce,color_vertex:Hce,common:Vce,cube_uv_reflection_fragment:Wce,defaultnormal_vertex:Gce,displacementmap_pars_vertex:$ce,displacementmap_vertex:Xce,emissivemap_fragment:jce,emissivemap_pars_fragment:Yce,colorspace_fragment:qce,colorspace_pars_fragment:Zce,envmap_fragment:Kce,envmap_common_pars_fragment:Jce,envmap_pars_fragment:Qce,envmap_pars_vertex:efe,envmap_physical_pars_fragment:ffe,envmap_vertex:tfe,fog_vertex:nfe,fog_pars_vertex:rfe,fog_fragment:ife,fog_pars_fragment:ofe,gradientmap_pars_fragment:sfe,lightmap_pars_fragment:afe,lights_lambert_fragment:lfe,lights_lambert_pars_fragment:ufe,lights_pars_begin:cfe,lights_toon_fragment:hfe,lights_toon_pars_fragment:pfe,lights_phong_fragment:dfe,lights_phong_pars_fragment:mfe,lights_physical_fragment:gfe,lights_physical_pars_fragment:vfe,lights_fragment_begin:yfe,lights_fragment_maps:xfe,lights_fragment_end:_fe,logdepthbuf_fragment:Sfe,logdepthbuf_pars_fragment:bfe,logdepthbuf_pars_vertex:wfe,logdepthbuf_vertex:Efe,map_fragment:Tfe,map_pars_fragment:Cfe,map_particle_fragment:Mfe,map_particle_pars_fragment:Afe,metalnessmap_fragment:Pfe,metalnessmap_pars_fragment:Rfe,morphinstance_vertex:Ife,morphcolor_vertex:Nfe,morphnormal_vertex:Ofe,morphtarget_pars_vertex:Lfe,morphtarget_vertex:Dfe,normal_fragment_begin:kfe,normal_fragment_maps:Ffe,normal_pars_fragment:Ufe,normal_pars_vertex:Bfe,normal_vertex:zfe,normalmap_pars_fragment:Hfe,clearcoat_normal_fragment_begin:Vfe,clearcoat_normal_fragment_maps:Wfe,clearcoat_pars_fragment:Gfe,iridescence_pars_fragment:$fe,opaque_fragment:Xfe,packing:jfe,premultiplied_alpha_fragment:Yfe,project_vertex:qfe,dithering_fragment:Zfe,dithering_pars_fragment:Kfe,roughnessmap_fragment:Jfe,roughnessmap_pars_fragment:Qfe,shadowmap_pars_fragment:ehe,shadowmap_pars_vertex:the,shadowmap_vertex:nhe,shadowmask_pars_fragment:rhe,skinbase_vertex:ihe,skinning_pars_vertex:ohe,skinning_vertex:she,skinnormal_vertex:ahe,specularmap_fragment:lhe,specularmap_pars_fragment:uhe,tonemapping_fragment:che,tonemapping_pars_fragment:fhe,transmission_fragment:hhe,transmission_pars_fragment:phe,uv_pars_fragment:dhe,uv_pars_vertex:mhe,uv_vertex:ghe,worldpos_vertex:vhe,background_vert:yhe,background_frag:xhe,backgroundCube_vert:_he,backgroundCube_frag:She,cube_vert:bhe,cube_frag:whe,depth_vert:Ehe,depth_frag:The,distanceRGBA_vert:Che,distanceRGBA_frag:Mhe,equirect_vert:Ahe,equirect_frag:Phe,linedashed_vert:Rhe,linedashed_frag:Ihe,meshbasic_vert:Nhe,meshbasic_frag:Ohe,meshlambert_vert:Lhe,meshlambert_frag:Dhe,meshmatcap_vert:khe,meshmatcap_frag:Fhe,meshnormal_vert:Uhe,meshnormal_frag:Bhe,meshphong_vert:zhe,meshphong_frag:Hhe,meshphysical_vert:Vhe,meshphysical_frag:Whe,meshtoon_vert:Ghe,meshtoon_frag:$he,points_vert:Xhe,points_frag:jhe,shadow_vert:Yhe,shadow_frag:qhe,sprite_vert:Zhe,sprite_frag:Khe},Ut={common:{diffuse:{value:new Xt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Nn},alphaMap:{value:null},alphaMapTransform:{value:new Nn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Nn}},envmap:{envMap:{value:null},envMapRotation:{value:new Nn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Nn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Nn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Nn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Nn},normalScale:{value:new ct(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Nn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Nn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Nn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Nn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Xt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Xt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Nn},alphaTest:{value:0},uvTransform:{value:new Nn}},sprite:{diffuse:{value:new Xt(16777215)},opacity:{value:1},center:{value:new ct(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Nn},alphaMap:{value:null},alphaMapTransform:{value:new Nn},alphaTest:{value:0}}},Ja={basic:{uniforms:Fo([Ut.common,Ut.specularmap,Ut.envmap,Ut.aomap,Ut.lightmap,Ut.fog]),vertexShader:Dn.meshbasic_vert,fragmentShader:Dn.meshbasic_frag},lambert:{uniforms:Fo([Ut.common,Ut.specularmap,Ut.envmap,Ut.aomap,Ut.lightmap,Ut.emissivemap,Ut.bumpmap,Ut.normalmap,Ut.displacementmap,Ut.fog,Ut.lights,{emissive:{value:new Xt(0)}}]),vertexShader:Dn.meshlambert_vert,fragmentShader:Dn.meshlambert_frag},phong:{uniforms:Fo([Ut.common,Ut.specularmap,Ut.envmap,Ut.aomap,Ut.lightmap,Ut.emissivemap,Ut.bumpmap,Ut.normalmap,Ut.displacementmap,Ut.fog,Ut.lights,{emissive:{value:new Xt(0)},specular:{value:new Xt(1118481)},shininess:{value:30}}]),vertexShader:Dn.meshphong_vert,fragmentShader:Dn.meshphong_frag},standard:{uniforms:Fo([Ut.common,Ut.envmap,Ut.aomap,Ut.lightmap,Ut.emissivemap,Ut.bumpmap,Ut.normalmap,Ut.displacementmap,Ut.roughnessmap,Ut.metalnessmap,Ut.fog,Ut.lights,{emissive:{value:new Xt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Dn.meshphysical_vert,fragmentShader:Dn.meshphysical_frag},toon:{uniforms:Fo([Ut.common,Ut.aomap,Ut.lightmap,Ut.emissivemap,Ut.bumpmap,Ut.normalmap,Ut.displacementmap,Ut.gradientmap,Ut.fog,Ut.lights,{emissive:{value:new Xt(0)}}]),vertexShader:Dn.meshtoon_vert,fragmentShader:Dn.meshtoon_frag},matcap:{uniforms:Fo([Ut.common,Ut.bumpmap,Ut.normalmap,Ut.displacementmap,Ut.fog,{matcap:{value:null}}]),vertexShader:Dn.meshmatcap_vert,fragmentShader:Dn.meshmatcap_frag},points:{uniforms:Fo([Ut.points,Ut.fog]),vertexShader:Dn.points_vert,fragmentShader:Dn.points_frag},dashed:{uniforms:Fo([Ut.common,Ut.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Dn.linedashed_vert,fragmentShader:Dn.linedashed_frag},depth:{uniforms:Fo([Ut.common,Ut.displacementmap]),vertexShader:Dn.depth_vert,fragmentShader:Dn.depth_frag},normal:{uniforms:Fo([Ut.common,Ut.bumpmap,Ut.normalmap,Ut.displacementmap,{opacity:{value:1}}]),vertexShader:Dn.meshnormal_vert,fragmentShader:Dn.meshnormal_frag},sprite:{uniforms:Fo([Ut.sprite,Ut.fog]),vertexShader:Dn.sprite_vert,fragmentShader:Dn.sprite_frag},background:{uniforms:{uvTransform:{value:new Nn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Dn.background_vert,fragmentShader:Dn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Nn}},vertexShader:Dn.backgroundCube_vert,fragmentShader:Dn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Dn.cube_vert,fragmentShader:Dn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Dn.equirect_vert,fragmentShader:Dn.equirect_frag},distanceRGBA:{uniforms:Fo([Ut.common,Ut.displacementmap,{referencePosition:{value:new oe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Dn.distanceRGBA_vert,fragmentShader:Dn.distanceRGBA_frag},shadow:{uniforms:Fo([Ut.lights,Ut.fog,{color:{value:new Xt(0)},opacity:{value:1}}]),vertexShader:Dn.shadow_vert,fragmentShader:Dn.shadow_frag}};Ja.physical={uniforms:Fo([Ja.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Nn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Nn},clearcoatNormalScale:{value:new ct(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Nn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Nn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Nn},sheen:{value:0},sheenColor:{value:new Xt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Nn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Nn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Nn},transmissionSamplerSize:{value:new ct},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Nn},attenuationDistance:{value:0},attenuationColor:{value:new Xt(0)},specularColor:{value:new Xt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Nn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Nn},anisotropyVector:{value:new ct},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Nn}}]),vertexShader:Dn.meshphysical_vert,fragmentShader:Dn.meshphysical_frag};var jb={r:0,b:0,g:0},yh=new zs,Jhe=new xn;function Qhe(t,e,n,r,i,o,s){let a=new Xt(0),l=o===!0?0:1,u,c,h=null,p=0,d=null;function v(T){let E=T.isScene===!0?T.background:null;return E&&E.isTexture&&(E=(T.backgroundBlurriness>0?n:e).get(E)),E}function b(T){let E=!1,A=v(T);A===null?y(a,l):A&&A.isColor&&(y(A,1),E=!0);let N=t.xr.getEnvironmentBlendMode();N==="additive"?r.buffers.color.setClear(0,0,0,1,s):N==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(t.autoClear||E)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function S(T,E){let A=v(E);A&&(A.isCubeTexture||A.mapping===am)?(c===void 0&&(c=new Qr(new Fh(1,1,1),new Hs({name:"BackgroundCubeMaterial",uniforms:Qd(Ja.backgroundCube.uniforms),vertexShader:Ja.backgroundCube.vertexShader,fragmentShader:Ja.backgroundCube.fragmentShader,side:zo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(N,x,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),yh.copy(E.backgroundRotation),yh.x*=-1,yh.y*=-1,yh.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(yh.y*=-1,yh.z*=-1),c.material.uniforms.envMap.value=A,c.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=E.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(Jhe.makeRotationFromEuler(yh)),c.material.toneMapped=er.getTransfer(A.colorSpace)!==Mr,(h!==A||p!==A.version||d!==t.toneMapping)&&(c.material.needsUpdate=!0,h=A,p=A.version,d=t.toneMapping),c.layers.enableAll(),T.unshift(c,c.geometry,c.material,0,0,null)):A&&A.isTexture&&(u===void 0&&(u=new Qr(new tm(2,2),new Hs({name:"BackgroundMaterial",uniforms:Qd(Ja.background.uniforms),vertexShader:Ja.background.vertexShader,fragmentShader:Ja.background.fragmentShader,side:Ou,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=A,u.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,u.material.toneMapped=er.getTransfer(A.colorSpace)!==Mr,A.matrixAutoUpdate===!0&&A.updateMatrix(),u.material.uniforms.uvTransform.value.copy(A.matrix),(h!==A||p!==A.version||d!==t.toneMapping)&&(u.material.needsUpdate=!0,h=A,p=A.version,d=t.toneMapping),u.layers.enableAll(),T.unshift(u,u.geometry,u.material,0,0,null))}function y(T,E){T.getRGB(jb,VV(t)),r.buffers.color.setClear(jb.r,jb.g,jb.b,E,s)}return{getClearColor:function(){return a},setClearColor:function(T,E=1){a.set(T),l=E,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(T){l=T,y(a,l)},render:b,addToRenderList:S}}function epe(t,e){let n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=p(null),o=i,s=!1;function a(L,j,ie,se,fe){let _e=!1,J=h(se,ie,j);o!==J&&(o=J,u(o.object)),_e=d(L,se,ie,fe),_e&&v(L,se,ie,fe),fe!==null&&e.update(fe,t.ELEMENT_ARRAY_BUFFER),(_e||s)&&(s=!1,A(L,j,ie,se),fe!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(fe).buffer))}function l(){return t.createVertexArray()}function u(L){return t.bindVertexArray(L)}function c(L){return t.deleteVertexArray(L)}function h(L,j,ie){let se=ie.wireframe===!0,fe=r[L.id];fe===void 0&&(fe={},r[L.id]=fe);let _e=fe[j.id];_e===void 0&&(_e={},fe[j.id]=_e);let J=_e[se];return J===void 0&&(J=p(l()),_e[se]=J),J}function p(L){let j=[],ie=[],se=[];for(let fe=0;fe<n;fe++)j[fe]=0,ie[fe]=0,se[fe]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:ie,attributeDivisors:se,object:L,attributes:{},index:null}}function d(L,j,ie,se){let fe=o.attributes,_e=j.attributes,J=0,te=ie.getAttributes();for(let ne in te)if(te[ne].location>=0){let Ce=fe[ne],Le=_e[ne];if(Le===void 0&&(ne==="instanceMatrix"&&L.instanceMatrix&&(Le=L.instanceMatrix),ne==="instanceColor"&&L.instanceColor&&(Le=L.instanceColor)),Ce===void 0||Ce.attribute!==Le||Le&&Ce.data!==Le.data)return!0;J++}return o.attributesNum!==J||o.index!==se}function v(L,j,ie,se){let fe={},_e=j.attributes,J=0,te=ie.getAttributes();for(let ne in te)if(te[ne].location>=0){let Ce=_e[ne];Ce===void 0&&(ne==="instanceMatrix"&&L.instanceMatrix&&(Ce=L.instanceMatrix),ne==="instanceColor"&&L.instanceColor&&(Ce=L.instanceColor));let Le={};Le.attribute=Ce,Ce&&Ce.data&&(Le.data=Ce.data),fe[ne]=Le,J++}o.attributes=fe,o.attributesNum=J,o.index=se}function b(){let L=o.newAttributes;for(let j=0,ie=L.length;j<ie;j++)L[j]=0}function S(L){y(L,0)}function y(L,j){let ie=o.newAttributes,se=o.enabledAttributes,fe=o.attributeDivisors;ie[L]=1,se[L]===0&&(t.enableVertexAttribArray(L),se[L]=1),fe[L]!==j&&(t.vertexAttribDivisor(L,j),fe[L]=j)}function T(){let L=o.newAttributes,j=o.enabledAttributes;for(let ie=0,se=j.length;ie<se;ie++)j[ie]!==L[ie]&&(t.disableVertexAttribArray(ie),j[ie]=0)}function E(L,j,ie,se,fe,_e,J){J===!0?t.vertexAttribIPointer(L,j,ie,fe,_e):t.vertexAttribPointer(L,j,ie,se,fe,_e)}function A(L,j,ie,se){b();let fe=se.attributes,_e=ie.getAttributes(),J=j.defaultAttributeValues;for(let te in _e){let ne=_e[te];if(ne.location>=0){let xe=fe[te];if(xe===void 0&&(te==="instanceMatrix"&&L.instanceMatrix&&(xe=L.instanceMatrix),te==="instanceColor"&&L.instanceColor&&(xe=L.instanceColor)),xe!==void 0){let Ce=xe.normalized,Le=xe.itemSize,rt=e.get(xe);if(rt===void 0)continue;let ot=rt.buffer,Ae=rt.type,ze=rt.bytesPerElement,je=Ae===t.INT||Ae===t.UNSIGNED_INT||xe.gpuType===cE;if(xe.isInterleavedBufferAttribute){let it=xe.data,pt=it.stride,It=xe.offset;if(it.isInstancedInterleavedBuffer){for(let Nt=0;Nt<ne.locationSize;Nt++)y(ne.location+Nt,it.meshPerAttribute);L.isInstancedMesh!==!0&&se._maxInstanceCount===void 0&&(se._maxInstanceCount=it.meshPerAttribute*it.count)}else for(let Nt=0;Nt<ne.locationSize;Nt++)S(ne.location+Nt);t.bindBuffer(t.ARRAY_BUFFER,ot);for(let Nt=0;Nt<ne.locationSize;Nt++)E(ne.location+Nt,Le/ne.locationSize,Ae,Ce,pt*ze,(It+Le/ne.locationSize*Nt)*ze,je)}else{if(xe.isInstancedBufferAttribute){for(let it=0;it<ne.locationSize;it++)y(ne.location+it,xe.meshPerAttribute);L.isInstancedMesh!==!0&&se._maxInstanceCount===void 0&&(se._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let it=0;it<ne.locationSize;it++)S(ne.location+it);t.bindBuffer(t.ARRAY_BUFFER,ot);for(let it=0;it<ne.locationSize;it++)E(ne.location+it,Le/ne.locationSize,Ae,Ce,Le*ze,Le/ne.locationSize*it*ze,je)}}else if(J!==void 0){let Ce=J[te];if(Ce!==void 0)switch(Ce.length){case 2:t.vertexAttrib2fv(ne.location,Ce);break;case 3:t.vertexAttrib3fv(ne.location,Ce);break;case 4:t.vertexAttrib4fv(ne.location,Ce);break;default:t.vertexAttrib1fv(ne.location,Ce)}}}}T()}function N(){k();for(let L in r){let j=r[L];for(let ie in j){let se=j[ie];for(let fe in se)c(se[fe].object),delete se[fe];delete j[ie]}delete r[L]}}function x(L){if(r[L.id]===void 0)return;let j=r[L.id];for(let ie in j){let se=j[ie];for(let fe in se)c(se[fe].object),delete se[fe];delete j[ie]}delete r[L.id]}function D(L){for(let j in r){let ie=r[j];if(ie[L.id]===void 0)continue;let se=ie[L.id];for(let fe in se)c(se[fe].object),delete se[fe];delete ie[L.id]}}function k(){U(),s=!0,o!==i&&(o=i,u(o.object))}function U(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:k,resetDefaultState:U,dispose:N,releaseStatesOfGeometry:x,releaseStatesOfProgram:D,initAttributes:b,enableAttribute:S,disableUnusedAttributes:T}}function tpe(t,e,n){let r;function i(u){r=u}function o(u,c){t.drawArrays(r,u,c),n.update(c,r,1)}function s(u,c,h){h!==0&&(t.drawArraysInstanced(r,u,c,h),n.update(c,r,h))}function a(u,c,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,c,0,h);let d=0;for(let v=0;v<h;v++)d+=c[v];n.update(d,r,1)}function l(u,c,h,p){if(h===0)return;let d=e.get("WEBGL_multi_draw");if(d===null)for(let v=0;v<u.length;v++)s(u[v],c[v],p[v]);else{d.multiDrawArraysInstancedWEBGL(r,u,0,c,0,p,0,h);let v=0;for(let b=0;b<h;b++)v+=c[b];for(let b=0;b<p.length;b++)n.update(v,r,p[b])}}this.setMode=i,this.render=o,this.renderInstances=s,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function npe(t,e,n,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){let x=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(x.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(x){return!(x!==Bo&&r.convert(x)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(x){let D=x===lm&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(x!==Il&&r.convert(x)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&x!==us&&!D)}function l(x){if(x==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";x="mediump"}return x==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp",c=l(u);c!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);let h=n.logarithmicDepthBuffer===!0,p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_TEXTURE_SIZE),b=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),S=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),T=t.getParameter(t.MAX_VARYING_VECTORS),E=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),A=d>0,N=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:a,precision:u,logarithmicDepthBuffer:h,maxTextures:p,maxVertexTextures:d,maxTextureSize:v,maxCubemapSize:b,maxAttributes:S,maxVertexUniforms:y,maxVaryings:T,maxFragmentUniforms:E,vertexTextures:A,maxSamples:N}}function rpe(t){let e=this,n=null,r=0,i=!1,o=!1,s=new ma,a=new Nn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){let d=h.length!==0||p||r!==0||i;return i=p,r=h.length,d},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(h,p){n=c(h,p,0)},this.setState=function(h,p,d){let v=h.clippingPlanes,b=h.clipIntersection,S=h.clipShadows,y=t.get(h);if(!i||v===null||v.length===0||o&&!S)o?c(null):u();else{let T=o?0:r,E=T*4,A=y.clippingState||null;l.value=A,A=c(v,p,E,d);for(let N=0;N!==E;++N)A[N]=n[N];y.clippingState=A,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=T}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(h,p,d,v){let b=h!==null?h.length:0,S=null;if(b!==0){if(S=l.value,v!==!0||S===null){let y=d+b*4,T=p.matrixWorldInverse;a.getNormalMatrix(T),(S===null||S.length<y)&&(S=new Float32Array(y));for(let E=0,A=d;E!==b;++E,A+=4)s.copy(h[E]).applyMatrix4(T,a),s.normal.toArray(S,A),S[A+3]=s.constant}l.value=S,l.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,S}}function ipe(t){let e=new WeakMap;function n(s,a){return a===T0?s.mapping=Lu:a===C0&&(s.mapping=Xc),s}function r(s){if(s&&s.isTexture){let a=s.mapping;if(a===T0||a===C0)if(e.has(s)){let l=e.get(s).texture;return n(l,s.mapping)}else{let l=s.image;if(l&&l.height>0){let u=new e1(l.height);return u.fromEquirectangularTexture(t,s),e.set(s,u),s.addEventListener("dispose",i),n(u.texture,s.mapping)}else return null}}return s}function i(s){let a=s.target;a.removeEventListener("dispose",i);let l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}var nm=class extends em{constructor(e=-1,n=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2,o=r-e,s=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){let u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=u*this.view.offsetX,s=o+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}},Gd=4,PH=[.125,.215,.35,.446,.526,.582],Ah=20,KI=new nm,RH=new Xt,JI=null,QI=0,eN=0,tN=!1,Mh=(1+Math.sqrt(5))/2,kd=1/Mh,IH=[new oe(-Mh,kd,0),new oe(Mh,kd,0),new oe(-kd,0,Mh),new oe(kd,0,Mh),new oe(0,Mh,-kd),new oe(0,Mh,kd),new oe(-1,1,-1),new oe(1,1,-1),new oe(-1,1,1),new oe(1,1,1)],z0=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){JI=this._renderer.getRenderTarget(),QI=this._renderer.getActiveCubeFace(),eN=this._renderer.getActiveMipmapLevel(),tN=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);let o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=LH(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=OH(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(JI,QI,eN),this._renderer.xr.enabled=tN,e.scissorTest=!1,Yb(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Lu||e.mapping===Xc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),JI=this._renderer.getRenderTarget(),QI=this._renderer.getActiveCubeFace(),eN=this._renderer.getActiveMipmapLevel(),tN=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;let r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:vi,minFilter:vi,generateMipmaps:!1,type:lm,format:Bo,colorSpace:Bu,depthBuffer:!1},i=NH(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=NH(e,n,r);let{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ope(o)),this._blurMaterial=spe(o,e,n)}return i}_compileMaterial(e){let n=new Qr(this._lodPlanes[0],e);this._renderer.compile(n,KI)}_sceneToCubeUV(e,n,r,i){let a=new Mi(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,h=c.autoClear,p=c.toneMapping;c.getClearColor(RH),c.toneMapping=Iu,c.autoClear=!1;let d=new Ol({name:"PMREM.Background",side:zo,depthWrite:!1,depthTest:!1}),v=new Qr(new Fh,d),b=!1,S=e.background;S?S.isColor&&(d.color.copy(S),e.background=null,b=!0):(d.color.copy(RH),b=!0);for(let y=0;y<6;y++){let T=y%3;T===0?(a.up.set(0,l[y],0),a.lookAt(u[y],0,0)):T===1?(a.up.set(0,0,l[y]),a.lookAt(0,u[y],0)):(a.up.set(0,l[y],0),a.lookAt(0,0,u[y]));let E=this._cubeSize;Yb(i,T*E,y>2?E:0,E,E),c.setRenderTarget(i),b&&c.render(v,a),c.render(e,a)}v.geometry.dispose(),v.material.dispose(),c.toneMapping=p,c.autoClear=h,e.background=S}_textureToCubeUV(e,n){let r=this._renderer,i=e.mapping===Lu||e.mapping===Xc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=LH()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=OH());let o=i?this._cubemapMaterial:this._equirectMaterial,s=new Qr(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;let l=this._cubeSize;Yb(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(s,KI)}_applyPMREM(e){let n=this._renderer,r=n.autoClear;n.autoClear=!1;let i=this._lodPlanes.length;for(let o=1;o<i;o++){let s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),a=IH[(i-o-1)%IH.length];this._blur(e,o-1,o,s,a)}n.autoClear=r}_blur(e,n,r,i,o){let s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,s,a){let l=this._renderer,u=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let c=3,h=new Qr(this._lodPlanes[i],u),p=u.uniforms,d=this._sizeLods[r]-1,v=isFinite(o)?Math.PI/(2*d):2*Math.PI/(2*Ah-1),b=o/v,S=isFinite(o)?1+Math.floor(c*b):Ah;S>Ah&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${Ah}`);let y=[],T=0;for(let D=0;D<Ah;++D){let k=D/b,U=Math.exp(-k*k/2);y.push(U),D===0?T+=U:D<S&&(T+=2*U)}for(let D=0;D<y.length;D++)y[D]=y[D]/T;p.envMap.value=e.texture,p.samples.value=S,p.weights.value=y,p.latitudinal.value=s==="latitudinal",a&&(p.poleAxis.value=a);let{_lodMax:E}=this;p.dTheta.value=v,p.mipInt.value=E-r;let A=this._sizeLods[i],N=3*A*(i>E-Gd?i-E+Gd:0),x=4*(this._cubeSize-A);Yb(n,N,x,3*A,2*A),l.setRenderTarget(n),l.render(h,KI)}};function ope(t){let e=[],n=[],r=[],i=t,o=t-Gd+1+PH.length;for(let s=0;s<o;s++){let a=Math.pow(2,i);n.push(a);let l=1/a;s>t-Gd?l=PH[s-t+Gd-1]:s===0&&(l=0),r.push(l);let u=1/(a-2),c=-u,h=1+u,p=[c,c,h,c,h,h,c,c,h,h,c,h],d=6,v=6,b=3,S=2,y=1,T=new Float32Array(b*v*d),E=new Float32Array(S*v*d),A=new Float32Array(y*v*d);for(let x=0;x<d;x++){let D=x%3*2/3-1,k=x>2?0:-1,U=[D,k,0,D+2/3,k,0,D+2/3,k+1,0,D,k,0,D+2/3,k+1,0,D,k+1,0];T.set(U,b*v*x),E.set(p,S*v*x);let L=[x,x,x,x,x,x];A.set(L,y*v*x)}let N=new Tn;N.setAttribute("position",new Un(T,b)),N.setAttribute("uv",new Un(E,S)),N.setAttribute("faceIndex",new Un(A,y)),e.push(N),i>Gd&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function NH(t,e,n){let r=new Bs(t,e,n);return r.texture.mapping=am,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Yb(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function spe(t,e,n){let r=new Float32Array(Ah),i=new oe(0,1,0);return new Hs({name:"SphericalGaussianBlur",defines:{n:Ah,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:sO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ru,depthTest:!1,depthWrite:!1})}function OH(){return new Hs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:sO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ru,depthTest:!1,depthWrite:!1})}function LH(){return new Hs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:sO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ru,depthTest:!1,depthWrite:!1})}function sO(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function ape(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){let l=a.mapping,u=l===T0||l===C0,c=l===Lu||l===Xc;if(u||c){let h=e.get(a),p=h!==void 0?h.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return n===null&&(n=new z0(t)),h=u?n.fromEquirectangular(a,h):n.fromCubemap(a,h),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),h.texture;if(h!==void 0)return h.texture;{let d=a.image;return u&&d&&d.height>0||c&&d&&i(d)?(n===null&&(n=new z0(t)),h=u?n.fromEquirectangular(a):n.fromCubemap(a),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),a.addEventListener("dispose",o),h.texture):null}}}return a}function i(a){let l=0,u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function o(a){let l=a.target;l.removeEventListener("dispose",o);let u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function lpe(t){let e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){let i=n(r);return i===null&&Xd("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function upe(t,e,n,r){let i={},o=new WeakMap;function s(h){let p=h.target;p.index!==null&&e.remove(p.index);for(let v in p.attributes)e.remove(p.attributes[v]);for(let v in p.morphAttributes){let b=p.morphAttributes[v];for(let S=0,y=b.length;S<y;S++)e.remove(b[S])}p.removeEventListener("dispose",s),delete i[p.id];let d=o.get(p);d&&(e.remove(d),o.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(h,p){return i[p.id]===!0||(p.addEventListener("dispose",s),i[p.id]=!0,n.memory.geometries++),p}function l(h){let p=h.attributes;for(let v in p)e.update(p[v],t.ARRAY_BUFFER);let d=h.morphAttributes;for(let v in d){let b=d[v];for(let S=0,y=b.length;S<y;S++)e.update(b[S],t.ARRAY_BUFFER)}}function u(h){let p=[],d=h.index,v=h.attributes.position,b=0;if(d!==null){let T=d.array;b=d.version;for(let E=0,A=T.length;E<A;E+=3){let N=T[E+0],x=T[E+1],D=T[E+2];p.push(N,x,x,D,D,N)}}else if(v!==void 0){let T=v.array;b=v.version;for(let E=0,A=T.length/3-1;E<A;E+=3){let N=E+0,x=E+1,D=E+2;p.push(N,x,x,D,D,N)}}else return;let S=new(BV(p)?B0:U0)(p,1);S.version=b;let y=o.get(h);y&&e.remove(y),o.set(h,S)}function c(h){let p=o.get(h);if(p){let d=h.index;d!==null&&p.version<d.version&&u(h)}else u(h);return o.get(h)}return{get:a,update:l,getWireframeAttribute:c}}function cpe(t,e,n){let r;function i(p){r=p}let o,s;function a(p){o=p.type,s=p.bytesPerElement}function l(p,d){t.drawElements(r,d,o,p*s),n.update(d,r,1)}function u(p,d,v){v!==0&&(t.drawElementsInstanced(r,d,o,p*s,v),n.update(d,r,v))}function c(p,d,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,d,0,o,p,0,v);let S=0;for(let y=0;y<v;y++)S+=d[y];n.update(S,r,1)}function h(p,d,v,b){if(v===0)return;let S=e.get("WEBGL_multi_draw");if(S===null)for(let y=0;y<p.length;y++)u(p[y]/s,d[y],b[y]);else{S.multiDrawElementsInstancedWEBGL(r,d,0,o,p,0,b,0,v);let y=0;for(let T=0;T<v;T++)y+=d[T];for(let T=0;T<b.length;T++)n.update(y,r,b[T])}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=h}function fpe(t){let e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=a*(o/3);break;case t.LINES:n.lines+=a*(o/2);break;case t.LINE_STRIP:n.lines+=a*(o-1);break;case t.LINE_LOOP:n.lines+=a*o;break;case t.POINTS:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function hpe(t,e,n){let r=new WeakMap,i=new lr;function o(s,a,l){let u=s.morphTargetInfluences,c=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,h=c!==void 0?c.length:0,p=r.get(a);if(p===void 0||p.count!==h){let U=function(){D.dispose(),r.delete(a),a.removeEventListener("dispose",U)};p!==void 0&&p.texture.dispose();let d=a.morphAttributes.position!==void 0,v=a.morphAttributes.normal!==void 0,b=a.morphAttributes.color!==void 0,S=a.morphAttributes.position||[],y=a.morphAttributes.normal||[],T=a.morphAttributes.color||[],E=0;d===!0&&(E=1),v===!0&&(E=2),b===!0&&(E=3);let A=a.attributes.position.count*E,N=1;A>e.maxTextureSize&&(N=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);let x=new Float32Array(A*N*4*h),D=new Kd(x,A,N,h);D.type=us,D.needsUpdate=!0;let k=E*4;for(let L=0;L<h;L++){let j=S[L],ie=y[L],se=T[L],fe=A*N*4*L;for(let _e=0;_e<j.count;_e++){let J=_e*k;d===!0&&(i.fromBufferAttribute(j,_e),x[fe+J+0]=i.x,x[fe+J+1]=i.y,x[fe+J+2]=i.z,x[fe+J+3]=0),v===!0&&(i.fromBufferAttribute(ie,_e),x[fe+J+4]=i.x,x[fe+J+5]=i.y,x[fe+J+6]=i.z,x[fe+J+7]=0),b===!0&&(i.fromBufferAttribute(se,_e),x[fe+J+8]=i.x,x[fe+J+9]=i.y,x[fe+J+10]=i.z,x[fe+J+11]=se.itemSize===4?i.w:1)}}p={count:h,texture:D,size:new ct(A,N)},r.set(a,p),a.addEventListener("dispose",U)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let d=0;for(let b=0;b<u.length;b++)d+=u[b];let v=a.morphTargetsRelative?1:1-d;l.getUniforms().setValue(t,"morphTargetBaseInfluence",v),l.getUniforms().setValue(t,"morphTargetInfluences",u)}l.getUniforms().setValue(t,"morphTargetsTexture",p.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",p.size)}return{update:o}}function ppe(t,e,n,r){let i=new WeakMap;function o(l){let u=r.render.frame,c=l.geometry,h=e.get(l,c);if(i.get(h)!==u&&(e.update(h),i.set(h,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){let p=l.skeleton;i.get(p)!==u&&(p.update(),i.set(p,u))}return h}function s(){i=new WeakMap}function a(l){let u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:o,dispose:s}}var H0=class extends yi{constructor(e,n,r,i,o,s,a,l,u,c=Oh){if(c!==Oh&&c!==kh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Oh&&(r=Du),r===void 0&&c===kh&&(r=Dh),super(null,i,o,s,a,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Gi,this.minFilter=l!==void 0?l:Gi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){let n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}},$V=new yi,DH=new H0(1,1),XV=new Kd,jV=new F0,YV=new Uh,kH=[],FH=[],UH=new Float32Array(16),BH=new Float32Array(9),zH=new Float32Array(4);function um(t,e,n){let r=t[0];if(r<=0||r>0)return t;let i=e*n,o=kH[i];if(o===void 0&&(o=new Float32Array(i),kH[i]=o),e!==0){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=n,t[s].toArray(o,a)}return o}function Pi(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ri(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function xE(t,e){let n=FH[e];n===void 0&&(n=new Int32Array(e),FH[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function dpe(t,e){let n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function mpe(t,e){let n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Pi(n,e))return;t.uniform2fv(this.addr,e),Ri(n,e)}}function gpe(t,e){let n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Pi(n,e))return;t.uniform3fv(this.addr,e),Ri(n,e)}}function vpe(t,e){let n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Pi(n,e))return;t.uniform4fv(this.addr,e),Ri(n,e)}}function ype(t,e){let n=this.cache,r=e.elements;if(r===void 0){if(Pi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ri(n,e)}else{if(Pi(n,r))return;zH.set(r),t.uniformMatrix2fv(this.addr,!1,zH),Ri(n,r)}}function xpe(t,e){let n=this.cache,r=e.elements;if(r===void 0){if(Pi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ri(n,e)}else{if(Pi(n,r))return;BH.set(r),t.uniformMatrix3fv(this.addr,!1,BH),Ri(n,r)}}function _pe(t,e){let n=this.cache,r=e.elements;if(r===void 0){if(Pi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ri(n,e)}else{if(Pi(n,r))return;UH.set(r),t.uniformMatrix4fv(this.addr,!1,UH),Ri(n,r)}}function Spe(t,e){let n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function bpe(t,e){let n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Pi(n,e))return;t.uniform2iv(this.addr,e),Ri(n,e)}}function wpe(t,e){let n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Pi(n,e))return;t.uniform3iv(this.addr,e),Ri(n,e)}}function Epe(t,e){let n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Pi(n,e))return;t.uniform4iv(this.addr,e),Ri(n,e)}}function Tpe(t,e){let n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Cpe(t,e){let n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Pi(n,e))return;t.uniform2uiv(this.addr,e),Ri(n,e)}}function Mpe(t,e){let n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Pi(n,e))return;t.uniform3uiv(this.addr,e),Ri(n,e)}}function Ape(t,e){let n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Pi(n,e))return;t.uniform4uiv(this.addr,e),Ri(n,e)}}function Ppe(t,e,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let o;this.type===t.SAMPLER_2D_SHADOW?(DH.compareFunction=rO,o=DH):o=$V,n.setTexture2D(e||o,i)}function Rpe(t,e,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||jV,i)}function Ipe(t,e,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||YV,i)}function Npe(t,e,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||XV,i)}function Ope(t){switch(t){case 5126:return dpe;case 35664:return mpe;case 35665:return gpe;case 35666:return vpe;case 35674:return ype;case 35675:return xpe;case 35676:return _pe;case 5124:case 35670:return Spe;case 35667:case 35671:return bpe;case 35668:case 35672:return wpe;case 35669:case 35673:return Epe;case 5125:return Tpe;case 36294:return Cpe;case 36295:return Mpe;case 36296:return Ape;case 35678:case 36198:case 36298:case 36306:case 35682:return Ppe;case 35679:case 36299:case 36307:return Rpe;case 35680:case 36300:case 36308:case 36293:return Ipe;case 36289:case 36303:case 36311:case 36292:return Npe}}function Lpe(t,e){t.uniform1fv(this.addr,e)}function Dpe(t,e){let n=um(e,this.size,2);t.uniform2fv(this.addr,n)}function kpe(t,e){let n=um(e,this.size,3);t.uniform3fv(this.addr,n)}function Fpe(t,e){let n=um(e,this.size,4);t.uniform4fv(this.addr,n)}function Upe(t,e){let n=um(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Bpe(t,e){let n=um(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function zpe(t,e){let n=um(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Hpe(t,e){t.uniform1iv(this.addr,e)}function Vpe(t,e){t.uniform2iv(this.addr,e)}function Wpe(t,e){t.uniform3iv(this.addr,e)}function Gpe(t,e){t.uniform4iv(this.addr,e)}function $pe(t,e){t.uniform1uiv(this.addr,e)}function Xpe(t,e){t.uniform2uiv(this.addr,e)}function jpe(t,e){t.uniform3uiv(this.addr,e)}function Ype(t,e){t.uniform4uiv(this.addr,e)}function qpe(t,e,n){let r=this.cache,i=e.length,o=xE(n,i);Pi(r,o)||(t.uniform1iv(this.addr,o),Ri(r,o));for(let s=0;s!==i;++s)n.setTexture2D(e[s]||$V,o[s])}function Zpe(t,e,n){let r=this.cache,i=e.length,o=xE(n,i);Pi(r,o)||(t.uniform1iv(this.addr,o),Ri(r,o));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||jV,o[s])}function Kpe(t,e,n){let r=this.cache,i=e.length,o=xE(n,i);Pi(r,o)||(t.uniform1iv(this.addr,o),Ri(r,o));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||YV,o[s])}function Jpe(t,e,n){let r=this.cache,i=e.length,o=xE(n,i);Pi(r,o)||(t.uniform1iv(this.addr,o),Ri(r,o));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||XV,o[s])}function Qpe(t){switch(t){case 5126:return Lpe;case 35664:return Dpe;case 35665:return kpe;case 35666:return Fpe;case 35674:return Upe;case 35675:return Bpe;case 35676:return zpe;case 5124:case 35670:return Hpe;case 35667:case 35671:return Vpe;case 35668:case 35672:return Wpe;case 35669:case 35673:return Gpe;case 5125:return $pe;case 36294:return Xpe;case 36295:return jpe;case 36296:return Ype;case 35678:case 36198:case 36298:case 36306:case 35682:return qpe;case 35679:case 36299:case 36307:return Zpe;case 35680:case 36300:case 36308:case 36293:return Kpe;case 36289:case 36303:case 36311:case 36292:return Jpe}}var ON=class{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=Ope(n.type)}},LN=class{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Qpe(n.type)}},DN=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){let i=this.seq;for(let o=0,s=i.length;o!==s;++o){let a=i[o];a.setValue(e,n[a.id],r)}}},nN=/(\w+)(\])?(\[|\.)?/g;function HH(t,e){t.seq.push(e),t.map[e.id]=e}function ede(t,e,n){let r=t.name,i=r.length;for(nN.lastIndex=0;;){let o=nN.exec(r),s=nN.lastIndex,a=o[1],l=o[2]==="]",u=o[3];if(l&&(a=a|0),u===void 0||u==="["&&s+2===i){HH(n,u===void 0?new ON(a,t,e):new LN(a,t,e));break}else{let h=n.map[a];h===void 0&&(h=new DN(a),HH(n,h)),n=h}}}var Yd=class{constructor(e,n){this.seq=[],this.map={};let r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){let o=e.getActiveUniform(n,i),s=e.getUniformLocation(n,o.name);ede(o,s,this)}}setValue(e,n,r,i){let o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){let i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,s=n.length;o!==s;++o){let a=n[o],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){let r=[];for(let i=0,o=e.length;i!==o;++i){let s=e[i];s.id in n&&r.push(s)}return r}};function VH(t,e,n){let r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}var tde=37297,nde=0;function rde(t,e){let n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let s=i;s<o;s++){let a=s+1;r.push(`${a===e?">":" "} ${a}: ${n[s]}`)}return r.join(`
`)}function ide(t){let e=er.getPrimaries(er.workingColorSpace),n=er.getPrimaries(t),r;switch(e===n?r="":e===O0&&n===N0?r="LinearDisplayP3ToLinearSRGB":e===N0&&n===O0&&(r="LinearSRGBToLinearDisplayP3"),t){case Bu:case dy:return[r,"LinearTransferOETF"];case da:case yE:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function WH(t,e,n){let r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";let o=/ERROR: 0:(\d+)/.exec(i);if(o){let s=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+rde(t.getShaderSource(e),s)}else return i}function ode(t,e){let n=ide(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function sde(t,e){let n;switch(e){case yV:n="Linear";break;case xV:n="Reinhard";break;case _V:n="Cineon";break;case SV:n="ACESFilmic";break;case wV:n="AgX";break;case EV:n="Neutral";break;case bV:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}var qb=new oe;function ade(){er.getLuminanceCoefficients(qb);let t=qb.x.toFixed(4),e=qb.y.toFixed(4),n=qb.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function lde(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(p0).join(`
`)}function ude(t){let e=[];for(let n in t){let r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function cde(t,e){let n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){let o=t.getActiveAttrib(e,i),s=o.name,a=1;o.type===t.FLOAT_MAT2&&(a=2),o.type===t.FLOAT_MAT3&&(a=3),o.type===t.FLOAT_MAT4&&(a=4),n[s]={type:o.type,location:t.getAttribLocation(e,s),locationSize:a}}return n}function p0(t){return t!==""}function GH(t,e){let n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function $H(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var fde=/^[ \t]*#include +<([\w\d./]+)>/gm;function kN(t){return t.replace(fde,pde)}var hde=new Map;function pde(t,e){let n=Dn[e];if(n===void 0){let r=hde.get(e);if(r!==void 0)n=Dn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return kN(n)}var dde=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function XH(t){return t.replace(dde,mde)}function mde(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function jH(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function gde(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===W2?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===G5?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Cl&&(e="SHADOWMAP_TYPE_VSM"),e}function vde(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Lu:case Xc:e="ENVMAP_TYPE_CUBE";break;case am:e="ENVMAP_TYPE_CUBE_UV";break}return e}function yde(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Xc:e="ENVMAP_MODE_REFRACTION";break}return e}function xde(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case hy:e="ENVMAP_BLENDING_MULTIPLY";break;case gV:e="ENVMAP_BLENDING_MIX";break;case vV:e="ENVMAP_BLENDING_ADD";break}return e}function _de(t){let e=t.envMapCubeUVHeight;if(e===null)return null;let n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Sde(t,e,n,r){let i=t.getContext(),o=n.defines,s=n.vertexShader,a=n.fragmentShader,l=gde(n),u=vde(n),c=yde(n),h=xde(n),p=_de(n),d=lde(n),v=ude(o),b=i.createProgram(),S,y,T=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(S=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(p0).join(`
`),S.length>0&&(S+=`
`),y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(p0).join(`
`),y.length>0&&(y+=`
`)):(S=[jH(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(p0).join(`
`),y=[jH(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Iu?"#define TONE_MAPPING":"",n.toneMapping!==Iu?Dn.tonemapping_pars_fragment:"",n.toneMapping!==Iu?sde("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Dn.colorspace_pars_fragment,ode("linearToOutputTexel",n.outputColorSpace),ade(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(p0).join(`
`)),s=kN(s),s=GH(s,n),s=$H(s,n),a=kN(a),a=GH(a,n),a=$H(a,n),s=XH(s),a=XH(a),n.isRawShaderMaterial!==!0&&(T=`#version 300 es
`,S=[d,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,y=["#define varying in",n.glslVersion===EN?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===EN?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);let E=T+S+s,A=T+y+a,N=VH(i,i.VERTEX_SHADER,E),x=VH(i,i.FRAGMENT_SHADER,A);i.attachShader(b,N),i.attachShader(b,x),n.index0AttributeName!==void 0?i.bindAttribLocation(b,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(b,0,"position"),i.linkProgram(b);function D(j){if(t.debug.checkShaderErrors){let ie=i.getProgramInfoLog(b).trim(),se=i.getShaderInfoLog(N).trim(),fe=i.getShaderInfoLog(x).trim(),_e=!0,J=!0;if(i.getProgramParameter(b,i.LINK_STATUS)===!1)if(_e=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,b,N,x);else{let te=WH(i,N,"vertex"),ne=WH(i,x,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(b,i.VALIDATE_STATUS)+`

Material Name: `+j.name+`
Material Type: `+j.type+`

Program Info Log: `+ie+`
`+te+`
`+ne)}else ie!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ie):(se===""||fe==="")&&(J=!1);J&&(j.diagnostics={runnable:_e,programLog:ie,vertexShader:{log:se,prefix:S},fragmentShader:{log:fe,prefix:y}})}i.deleteShader(N),i.deleteShader(x),k=new Yd(i,b),U=cde(i,b)}let k;this.getUniforms=function(){return k===void 0&&D(this),k};let U;this.getAttributes=function(){return U===void 0&&D(this),U};let L=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=i.getProgramParameter(b,tde)),L},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(b),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=nde++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=N,this.fragmentShader=x,this}var bde=0,FN=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){let n=this.materialCache.get(e);for(let r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let n=this.materialCache,r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){let n=this.shaderCache,r=n.get(e);return r===void 0&&(r=new UN(e),n.set(e,r)),r}},UN=class{constructor(e){this.id=bde++,this.code=e,this.usedTimes=0}};function wde(t,e,n,r,i,o,s){let a=new Jd,l=new FN,u=new Set,c=[],h=i.logarithmicDepthBuffer,p=i.vertexTextures,d=i.precision,v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(U){return u.add(U),U===0?"uv":`uv${U}`}function S(U,L,j,ie,se){let fe=ie.fog,_e=se.geometry,J=U.isMeshStandardMaterial?ie.environment:null,te=(U.isMeshStandardMaterial?n:e).get(U.envMap||J),ne=te&&te.mapping===am?te.image.height:null,xe=v[U.type];U.precision!==null&&(d=i.getMaxPrecision(U.precision),d!==U.precision&&console.warn("THREE.WebGLProgram.getParameters:",U.precision,"not supported, using",d,"instead."));let Ce=_e.morphAttributes.position||_e.morphAttributes.normal||_e.morphAttributes.color,Le=Ce!==void 0?Ce.length:0,rt=0;_e.morphAttributes.position!==void 0&&(rt=1),_e.morphAttributes.normal!==void 0&&(rt=2),_e.morphAttributes.color!==void 0&&(rt=3);let ot,Ae,ze,je;if(xe){let zn=Ja[xe];ot=zn.vertexShader,Ae=zn.fragmentShader}else ot=U.vertexShader,Ae=U.fragmentShader,l.update(U),ze=l.getVertexShaderID(U),je=l.getFragmentShaderID(U);let it=t.getRenderTarget(),pt=se.isInstancedMesh===!0,It=se.isBatchedMesh===!0,Nt=!!U.map,mt=!!U.matcap,K=!!te,ye=!!U.aoMap,ge=!!U.lightMap,Q=!!U.bumpMap,q=!!U.normalMap,ve=!!U.displacementMap,ue=!!U.emissiveMap,xt=!!U.metalnessMap,ae=!!U.roughnessMap,$=U.anisotropy>0,De=U.clearcoat>0,Ke=U.dispersion>0,Ee=U.iridescence>0,Be=U.sheen>0,Ze=U.transmission>0,ut=$&&!!U.anisotropyMap,Pt=De&&!!U.clearcoatMap,zt=De&&!!U.clearcoatNormalMap,Qe=De&&!!U.clearcoatRoughnessMap,Je=Ee&&!!U.iridescenceMap,gt=Ee&&!!U.iridescenceThicknessMap,vt=Be&&!!U.sheenColorMap,Ct=Be&&!!U.sheenRoughnessMap,rn=!!U.specularMap,fn=!!U.specularColorMap,kn=!!U.specularIntensityMap,we=Ze&&!!U.transmissionMap,Et=Ze&&!!U.thicknessMap,et=!!U.gradientMap,tt=!!U.alphaMap,Ot=U.alphaTest>0,Zt=!!U.alphaHash,hn=!!U.extensions,Sn=Iu;U.toneMapped&&(it===null||it.isXRRenderTarget===!0)&&(Sn=t.toneMapping);let Yn={shaderID:xe,shaderType:U.type,shaderName:U.name,vertexShader:ot,fragmentShader:Ae,defines:U.defines,customVertexShaderID:ze,customFragmentShaderID:je,isRawShaderMaterial:U.isRawShaderMaterial===!0,glslVersion:U.glslVersion,precision:d,batching:It,batchingColor:It&&se._colorsTexture!==null,instancing:pt,instancingColor:pt&&se.instanceColor!==null,instancingMorph:pt&&se.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:it===null?t.outputColorSpace:it.isXRRenderTarget===!0?it.texture.colorSpace:Bu,alphaToCoverage:!!U.alphaToCoverage,map:Nt,matcap:mt,envMap:K,envMapMode:K&&te.mapping,envMapCubeUVHeight:ne,aoMap:ye,lightMap:ge,bumpMap:Q,normalMap:q,displacementMap:p&&ve,emissiveMap:ue,normalMapObjectSpace:q&&U.normalMapType===IV,normalMapTangentSpace:q&&U.normalMapType===Kc,metalnessMap:xt,roughnessMap:ae,anisotropy:$,anisotropyMap:ut,clearcoat:De,clearcoatMap:Pt,clearcoatNormalMap:zt,clearcoatRoughnessMap:Qe,dispersion:Ke,iridescence:Ee,iridescenceMap:Je,iridescenceThicknessMap:gt,sheen:Be,sheenColorMap:vt,sheenRoughnessMap:Ct,specularMap:rn,specularColorMap:fn,specularIntensityMap:kn,transmission:Ze,transmissionMap:we,thicknessMap:Et,gradientMap:et,opaque:U.transparent===!1&&U.blending===Nh&&U.alphaToCoverage===!1,alphaMap:tt,alphaTest:Ot,alphaHash:Zt,combine:U.combine,mapUv:Nt&&b(U.map.channel),aoMapUv:ye&&b(U.aoMap.channel),lightMapUv:ge&&b(U.lightMap.channel),bumpMapUv:Q&&b(U.bumpMap.channel),normalMapUv:q&&b(U.normalMap.channel),displacementMapUv:ve&&b(U.displacementMap.channel),emissiveMapUv:ue&&b(U.emissiveMap.channel),metalnessMapUv:xt&&b(U.metalnessMap.channel),roughnessMapUv:ae&&b(U.roughnessMap.channel),anisotropyMapUv:ut&&b(U.anisotropyMap.channel),clearcoatMapUv:Pt&&b(U.clearcoatMap.channel),clearcoatNormalMapUv:zt&&b(U.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Qe&&b(U.clearcoatRoughnessMap.channel),iridescenceMapUv:Je&&b(U.iridescenceMap.channel),iridescenceThicknessMapUv:gt&&b(U.iridescenceThicknessMap.channel),sheenColorMapUv:vt&&b(U.sheenColorMap.channel),sheenRoughnessMapUv:Ct&&b(U.sheenRoughnessMap.channel),specularMapUv:rn&&b(U.specularMap.channel),specularColorMapUv:fn&&b(U.specularColorMap.channel),specularIntensityMapUv:kn&&b(U.specularIntensityMap.channel),transmissionMapUv:we&&b(U.transmissionMap.channel),thicknessMapUv:Et&&b(U.thicknessMap.channel),alphaMapUv:tt&&b(U.alphaMap.channel),vertexTangents:!!_e.attributes.tangent&&(q||$),vertexColors:U.vertexColors,vertexAlphas:U.vertexColors===!0&&!!_e.attributes.color&&_e.attributes.color.itemSize===4,pointsUvs:se.isPoints===!0&&!!_e.attributes.uv&&(Nt||tt),fog:!!fe,useFog:U.fog===!0,fogExp2:!!fe&&fe.isFogExp2,flatShading:U.flatShading===!0,sizeAttenuation:U.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:se.isSkinnedMesh===!0,morphTargets:_e.morphAttributes.position!==void 0,morphNormals:_e.morphAttributes.normal!==void 0,morphColors:_e.morphAttributes.color!==void 0,morphTargetsCount:Le,morphTextureStride:rt,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:U.dithering,shadowMapEnabled:t.shadowMap.enabled&&j.length>0,shadowMapType:t.shadowMap.type,toneMapping:Sn,decodeVideoTexture:Nt&&U.map.isVideoTexture===!0&&er.getTransfer(U.map.colorSpace)===Mr,premultipliedAlpha:U.premultipliedAlpha,doubleSided:U.side===Ml,flipSided:U.side===zo,useDepthPacking:U.depthPacking>=0,depthPacking:U.depthPacking||0,index0AttributeName:U.index0AttributeName,extensionClipCullDistance:hn&&U.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(hn&&U.extensions.multiDraw===!0||It)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:U.customProgramCacheKey()};return Yn.vertexUv1s=u.has(1),Yn.vertexUv2s=u.has(2),Yn.vertexUv3s=u.has(3),u.clear(),Yn}function y(U){let L=[];if(U.shaderID?L.push(U.shaderID):(L.push(U.customVertexShaderID),L.push(U.customFragmentShaderID)),U.defines!==void 0)for(let j in U.defines)L.push(j),L.push(U.defines[j]);return U.isRawShaderMaterial===!1&&(T(L,U),E(L,U),L.push(t.outputColorSpace)),L.push(U.customProgramCacheKey),L.join()}function T(U,L){U.push(L.precision),U.push(L.outputColorSpace),U.push(L.envMapMode),U.push(L.envMapCubeUVHeight),U.push(L.mapUv),U.push(L.alphaMapUv),U.push(L.lightMapUv),U.push(L.aoMapUv),U.push(L.bumpMapUv),U.push(L.normalMapUv),U.push(L.displacementMapUv),U.push(L.emissiveMapUv),U.push(L.metalnessMapUv),U.push(L.roughnessMapUv),U.push(L.anisotropyMapUv),U.push(L.clearcoatMapUv),U.push(L.clearcoatNormalMapUv),U.push(L.clearcoatRoughnessMapUv),U.push(L.iridescenceMapUv),U.push(L.iridescenceThicknessMapUv),U.push(L.sheenColorMapUv),U.push(L.sheenRoughnessMapUv),U.push(L.specularMapUv),U.push(L.specularColorMapUv),U.push(L.specularIntensityMapUv),U.push(L.transmissionMapUv),U.push(L.thicknessMapUv),U.push(L.combine),U.push(L.fogExp2),U.push(L.sizeAttenuation),U.push(L.morphTargetsCount),U.push(L.morphAttributeCount),U.push(L.numDirLights),U.push(L.numPointLights),U.push(L.numSpotLights),U.push(L.numSpotLightMaps),U.push(L.numHemiLights),U.push(L.numRectAreaLights),U.push(L.numDirLightShadows),U.push(L.numPointLightShadows),U.push(L.numSpotLightShadows),U.push(L.numSpotLightShadowsWithMaps),U.push(L.numLightProbes),U.push(L.shadowMapType),U.push(L.toneMapping),U.push(L.numClippingPlanes),U.push(L.numClipIntersection),U.push(L.depthPacking)}function E(U,L){a.disableAll(),L.supportsVertexTextures&&a.enable(0),L.instancing&&a.enable(1),L.instancingColor&&a.enable(2),L.instancingMorph&&a.enable(3),L.matcap&&a.enable(4),L.envMap&&a.enable(5),L.normalMapObjectSpace&&a.enable(6),L.normalMapTangentSpace&&a.enable(7),L.clearcoat&&a.enable(8),L.iridescence&&a.enable(9),L.alphaTest&&a.enable(10),L.vertexColors&&a.enable(11),L.vertexAlphas&&a.enable(12),L.vertexUv1s&&a.enable(13),L.vertexUv2s&&a.enable(14),L.vertexUv3s&&a.enable(15),L.vertexTangents&&a.enable(16),L.anisotropy&&a.enable(17),L.alphaHash&&a.enable(18),L.batching&&a.enable(19),L.dispersion&&a.enable(20),L.batchingColor&&a.enable(21),U.push(a.mask),a.disableAll(),L.fog&&a.enable(0),L.useFog&&a.enable(1),L.flatShading&&a.enable(2),L.logarithmicDepthBuffer&&a.enable(3),L.skinning&&a.enable(4),L.morphTargets&&a.enable(5),L.morphNormals&&a.enable(6),L.morphColors&&a.enable(7),L.premultipliedAlpha&&a.enable(8),L.shadowMapEnabled&&a.enable(9),L.doubleSided&&a.enable(10),L.flipSided&&a.enable(11),L.useDepthPacking&&a.enable(12),L.dithering&&a.enable(13),L.transmission&&a.enable(14),L.sheen&&a.enable(15),L.opaque&&a.enable(16),L.pointsUvs&&a.enable(17),L.decodeVideoTexture&&a.enable(18),L.alphaToCoverage&&a.enable(19),U.push(a.mask)}function A(U){let L=v[U.type],j;if(L){let ie=Ja[L];j=WV.clone(ie.uniforms)}else j=U.uniforms;return j}function N(U,L){let j;for(let ie=0,se=c.length;ie<se;ie++){let fe=c[ie];if(fe.cacheKey===L){j=fe,++j.usedTimes;break}}return j===void 0&&(j=new Sde(t,L,U,o),c.push(j)),j}function x(U){if(--U.usedTimes===0){let L=c.indexOf(U);c[L]=c[c.length-1],c.pop(),U.destroy()}}function D(U){l.remove(U)}function k(){l.dispose()}return{getParameters:S,getProgramCacheKey:y,getUniforms:A,acquireProgram:N,releaseProgram:x,releaseShaderCache:D,programs:c,dispose:k}}function Ede(){let t=new WeakMap;function e(s){return t.has(s)}function n(s){let a=t.get(s);return a===void 0&&(a={},t.set(s,a)),a}function r(s){t.delete(s)}function i(s,a,l){t.get(s)[a]=l}function o(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:o}}function Tde(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function YH(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function qH(){let t=[],e=0,n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function s(h,p,d,v,b,S){let y=t[e];return y===void 0?(y={id:h.id,object:h,geometry:p,material:d,groupOrder:v,renderOrder:h.renderOrder,z:b,group:S},t[e]=y):(y.id=h.id,y.object=h,y.geometry=p,y.material=d,y.groupOrder=v,y.renderOrder=h.renderOrder,y.z=b,y.group=S),e++,y}function a(h,p,d,v,b,S){let y=s(h,p,d,v,b,S);d.transmission>0?r.push(y):d.transparent===!0?i.push(y):n.push(y)}function l(h,p,d,v,b,S){let y=s(h,p,d,v,b,S);d.transmission>0?r.unshift(y):d.transparent===!0?i.unshift(y):n.unshift(y)}function u(h,p){n.length>1&&n.sort(h||Tde),r.length>1&&r.sort(p||YH),i.length>1&&i.sort(p||YH)}function c(){for(let h=e,p=t.length;h<p;h++){let d=t[h];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:a,unshift:l,finish:c,sort:u}}function Cde(){let t=new WeakMap;function e(r,i){let o=t.get(r),s;return o===void 0?(s=new qH,t.set(r,[s])):i>=o.length?(s=new qH,o.push(s)):s=o[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function Mde(){let t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new oe,color:new Xt};break;case"SpotLight":n={position:new oe,direction:new oe,color:new Xt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new oe,color:new Xt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new oe,skyColor:new Xt,groundColor:new Xt};break;case"RectAreaLight":n={color:new Xt,position:new oe,halfWidth:new oe,halfHeight:new oe};break}return t[e.id]=n,n}}}function Ade(){let t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ct};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ct};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ct,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}var Pde=0;function Rde(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Ide(t){let e=new Mde,n=Ade(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new oe);let i=new oe,o=new xn,s=new xn;function a(u){let c=0,h=0,p=0;for(let U=0;U<9;U++)r.probe[U].set(0,0,0);let d=0,v=0,b=0,S=0,y=0,T=0,E=0,A=0,N=0,x=0,D=0;u.sort(Rde);for(let U=0,L=u.length;U<L;U++){let j=u[U],ie=j.color,se=j.intensity,fe=j.distance,_e=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)c+=ie.r*se,h+=ie.g*se,p+=ie.b*se;else if(j.isLightProbe){for(let J=0;J<9;J++)r.probe[J].addScaledVector(j.sh.coefficients[J],se);D++}else if(j.isDirectionalLight){let J=e.get(j);if(J.color.copy(j.color).multiplyScalar(j.intensity),j.castShadow){let te=j.shadow,ne=n.get(j);ne.shadowIntensity=te.intensity,ne.shadowBias=te.bias,ne.shadowNormalBias=te.normalBias,ne.shadowRadius=te.radius,ne.shadowMapSize=te.mapSize,r.directionalShadow[d]=ne,r.directionalShadowMap[d]=_e,r.directionalShadowMatrix[d]=j.shadow.matrix,T++}r.directional[d]=J,d++}else if(j.isSpotLight){let J=e.get(j);J.position.setFromMatrixPosition(j.matrixWorld),J.color.copy(ie).multiplyScalar(se),J.distance=fe,J.coneCos=Math.cos(j.angle),J.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),J.decay=j.decay,r.spot[b]=J;let te=j.shadow;if(j.map&&(r.spotLightMap[N]=j.map,N++,te.updateMatrices(j),j.castShadow&&x++),r.spotLightMatrix[b]=te.matrix,j.castShadow){let ne=n.get(j);ne.shadowIntensity=te.intensity,ne.shadowBias=te.bias,ne.shadowNormalBias=te.normalBias,ne.shadowRadius=te.radius,ne.shadowMapSize=te.mapSize,r.spotShadow[b]=ne,r.spotShadowMap[b]=_e,A++}b++}else if(j.isRectAreaLight){let J=e.get(j);J.color.copy(ie).multiplyScalar(se),J.halfWidth.set(j.width*.5,0,0),J.halfHeight.set(0,j.height*.5,0),r.rectArea[S]=J,S++}else if(j.isPointLight){let J=e.get(j);if(J.color.copy(j.color).multiplyScalar(j.intensity),J.distance=j.distance,J.decay=j.decay,j.castShadow){let te=j.shadow,ne=n.get(j);ne.shadowIntensity=te.intensity,ne.shadowBias=te.bias,ne.shadowNormalBias=te.normalBias,ne.shadowRadius=te.radius,ne.shadowMapSize=te.mapSize,ne.shadowCameraNear=te.camera.near,ne.shadowCameraFar=te.camera.far,r.pointShadow[v]=ne,r.pointShadowMap[v]=_e,r.pointShadowMatrix[v]=j.shadow.matrix,E++}r.point[v]=J,v++}else if(j.isHemisphereLight){let J=e.get(j);J.skyColor.copy(j.color).multiplyScalar(se),J.groundColor.copy(j.groundColor).multiplyScalar(se),r.hemi[y]=J,y++}}S>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ut.LTC_FLOAT_1,r.rectAreaLTC2=Ut.LTC_FLOAT_2):(r.rectAreaLTC1=Ut.LTC_HALF_1,r.rectAreaLTC2=Ut.LTC_HALF_2)),r.ambient[0]=c,r.ambient[1]=h,r.ambient[2]=p;let k=r.hash;(k.directionalLength!==d||k.pointLength!==v||k.spotLength!==b||k.rectAreaLength!==S||k.hemiLength!==y||k.numDirectionalShadows!==T||k.numPointShadows!==E||k.numSpotShadows!==A||k.numSpotMaps!==N||k.numLightProbes!==D)&&(r.directional.length=d,r.spot.length=b,r.rectArea.length=S,r.point.length=v,r.hemi.length=y,r.directionalShadow.length=T,r.directionalShadowMap.length=T,r.pointShadow.length=E,r.pointShadowMap.length=E,r.spotShadow.length=A,r.spotShadowMap.length=A,r.directionalShadowMatrix.length=T,r.pointShadowMatrix.length=E,r.spotLightMatrix.length=A+N-x,r.spotLightMap.length=N,r.numSpotLightShadowsWithMaps=x,r.numLightProbes=D,k.directionalLength=d,k.pointLength=v,k.spotLength=b,k.rectAreaLength=S,k.hemiLength=y,k.numDirectionalShadows=T,k.numPointShadows=E,k.numSpotShadows=A,k.numSpotMaps=N,k.numLightProbes=D,r.version=Pde++)}function l(u,c){let h=0,p=0,d=0,v=0,b=0,S=c.matrixWorldInverse;for(let y=0,T=u.length;y<T;y++){let E=u[y];if(E.isDirectionalLight){let A=r.directional[h];A.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(S),h++}else if(E.isSpotLight){let A=r.spot[d];A.position.setFromMatrixPosition(E.matrixWorld),A.position.applyMatrix4(S),A.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(S),d++}else if(E.isRectAreaLight){let A=r.rectArea[v];A.position.setFromMatrixPosition(E.matrixWorld),A.position.applyMatrix4(S),s.identity(),o.copy(E.matrixWorld),o.premultiply(S),s.extractRotation(o),A.halfWidth.set(E.width*.5,0,0),A.halfHeight.set(0,E.height*.5,0),A.halfWidth.applyMatrix4(s),A.halfHeight.applyMatrix4(s),v++}else if(E.isPointLight){let A=r.point[p];A.position.setFromMatrixPosition(E.matrixWorld),A.position.applyMatrix4(S),p++}else if(E.isHemisphereLight){let A=r.hemi[b];A.direction.setFromMatrixPosition(E.matrixWorld),A.direction.transformDirection(S),b++}}}return{setup:a,setupView:l,state:r}}function ZH(t){let e=new Ide(t),n=[],r=[];function i(c){u.camera=c,n.length=0,r.length=0}function o(c){n.push(c)}function s(c){r.push(c)}function a(){e.setup(n)}function l(c){e.setupView(n,c)}let u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:a,setupLightsView:l,pushLight:o,pushShadow:s}}function Nde(t){let e=new WeakMap;function n(i,o=0){let s=e.get(i),a;return s===void 0?(a=new ZH(t),e.set(i,[a])):o>=s.length?(a=new ZH(t),s.push(a)):a=s[o],a}function r(){e=new WeakMap}return{get:n,dispose:r}}var V0=class extends Xi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=PV,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},W0=class extends Xi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}},Ode=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Lde=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Dde(t,e,n){let r=new Bh,i=new ct,o=new ct,s=new lr,a=new V0({depthPacking:RV}),l=new W0,u={},c=n.maxTextureSize,h={[Ou]:zo,[zo]:Ou,[Ml]:Ml},p=new Hs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ct},radius:{value:4}},vertexShader:Ode,fragmentShader:Lde}),d=p.clone();d.defines.HORIZONTAL_PASS=1;let v=new Tn;v.setAttribute("position",new Un(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let b=new Qr(v,p),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=W2;let y=this.type;this.render=function(x,D,k){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||x.length===0)return;let U=t.getRenderTarget(),L=t.getActiveCubeFace(),j=t.getActiveMipmapLevel(),ie=t.state;ie.setBlending(Ru),ie.buffers.color.setClear(1,1,1,1),ie.buffers.depth.setTest(!0),ie.setScissorTest(!1);let se=y!==Cl&&this.type===Cl,fe=y===Cl&&this.type!==Cl;for(let _e=0,J=x.length;_e<J;_e++){let te=x[_e],ne=te.shadow;if(ne===void 0){console.warn("THREE.WebGLShadowMap:",te,"has no shadow.");continue}if(ne.autoUpdate===!1&&ne.needsUpdate===!1)continue;i.copy(ne.mapSize);let xe=ne.getFrameExtents();if(i.multiply(xe),o.copy(ne.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(o.x=Math.floor(c/xe.x),i.x=o.x*xe.x,ne.mapSize.x=o.x),i.y>c&&(o.y=Math.floor(c/xe.y),i.y=o.y*xe.y,ne.mapSize.y=o.y)),ne.map===null||se===!0||fe===!0){let Le=this.type!==Cl?{minFilter:Gi,magFilter:Gi}:{};ne.map!==null&&ne.map.dispose(),ne.map=new Bs(i.x,i.y,Le),ne.map.texture.name=te.name+".shadowMap",ne.camera.updateProjectionMatrix()}t.setRenderTarget(ne.map),t.clear();let Ce=ne.getViewportCount();for(let Le=0;Le<Ce;Le++){let rt=ne.getViewport(Le);s.set(o.x*rt.x,o.y*rt.y,o.x*rt.z,o.y*rt.w),ie.viewport(s),ne.updateMatrices(te,Le),r=ne.getFrustum(),A(D,k,ne.camera,te,this.type)}ne.isPointLightShadow!==!0&&this.type===Cl&&T(ne,k),ne.needsUpdate=!1}y=this.type,S.needsUpdate=!1,t.setRenderTarget(U,L,j)};function T(x,D){let k=e.update(b);p.defines.VSM_SAMPLES!==x.blurSamples&&(p.defines.VSM_SAMPLES=x.blurSamples,d.defines.VSM_SAMPLES=x.blurSamples,p.needsUpdate=!0,d.needsUpdate=!0),x.mapPass===null&&(x.mapPass=new Bs(i.x,i.y)),p.uniforms.shadow_pass.value=x.map.texture,p.uniforms.resolution.value=x.mapSize,p.uniforms.radius.value=x.radius,t.setRenderTarget(x.mapPass),t.clear(),t.renderBufferDirect(D,null,k,p,b,null),d.uniforms.shadow_pass.value=x.mapPass.texture,d.uniforms.resolution.value=x.mapSize,d.uniforms.radius.value=x.radius,t.setRenderTarget(x.map),t.clear(),t.renderBufferDirect(D,null,k,d,b,null)}function E(x,D,k,U){let L=null,j=k.isPointLight===!0?x.customDistanceMaterial:x.customDepthMaterial;if(j!==void 0)L=j;else if(L=k.isPointLight===!0?l:a,t.localClippingEnabled&&D.clipShadows===!0&&Array.isArray(D.clippingPlanes)&&D.clippingPlanes.length!==0||D.displacementMap&&D.displacementScale!==0||D.alphaMap&&D.alphaTest>0||D.map&&D.alphaTest>0){let ie=L.uuid,se=D.uuid,fe=u[ie];fe===void 0&&(fe={},u[ie]=fe);let _e=fe[se];_e===void 0&&(_e=L.clone(),fe[se]=_e,D.addEventListener("dispose",N)),L=_e}if(L.visible=D.visible,L.wireframe=D.wireframe,U===Cl?L.side=D.shadowSide!==null?D.shadowSide:D.side:L.side=D.shadowSide!==null?D.shadowSide:h[D.side],L.alphaMap=D.alphaMap,L.alphaTest=D.alphaTest,L.map=D.map,L.clipShadows=D.clipShadows,L.clippingPlanes=D.clippingPlanes,L.clipIntersection=D.clipIntersection,L.displacementMap=D.displacementMap,L.displacementScale=D.displacementScale,L.displacementBias=D.displacementBias,L.wireframeLinewidth=D.wireframeLinewidth,L.linewidth=D.linewidth,k.isPointLight===!0&&L.isMeshDistanceMaterial===!0){let ie=t.properties.get(L);ie.light=k}return L}function A(x,D,k,U,L){if(x.visible===!1)return;if(x.layers.test(D.layers)&&(x.isMesh||x.isLine||x.isPoints)&&(x.castShadow||x.receiveShadow&&L===Cl)&&(!x.frustumCulled||r.intersectsObject(x))){x.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,x.matrixWorld);let se=e.update(x),fe=x.material;if(Array.isArray(fe)){let _e=se.groups;for(let J=0,te=_e.length;J<te;J++){let ne=_e[J],xe=fe[ne.materialIndex];if(xe&&xe.visible){let Ce=E(x,xe,U,L);x.onBeforeShadow(t,x,D,k,se,Ce,ne),t.renderBufferDirect(k,null,se,Ce,x,ne),x.onAfterShadow(t,x,D,k,se,Ce,ne)}}}else if(fe.visible){let _e=E(x,fe,U,L);x.onBeforeShadow(t,x,D,k,se,_e,null),t.renderBufferDirect(k,null,se,_e,x,null),x.onAfterShadow(t,x,D,k,se,_e,null)}}let ie=x.children;for(let se=0,fe=ie.length;se<fe;se++)A(ie[se],D,k,U,L)}function N(x){x.target.removeEventListener("dispose",N);for(let k in u){let U=u[k],L=x.target.uuid;L in U&&(U[L].dispose(),delete U[L])}}}function kde(t){function e(){let we=!1,Et=new lr,et=null,tt=new lr(0,0,0,0);return{setMask:function(Ot){et!==Ot&&!we&&(t.colorMask(Ot,Ot,Ot,Ot),et=Ot)},setLocked:function(Ot){we=Ot},setClear:function(Ot,Zt,hn,Sn,Yn){Yn===!0&&(Ot*=Sn,Zt*=Sn,hn*=Sn),Et.set(Ot,Zt,hn,Sn),tt.equals(Et)===!1&&(t.clearColor(Ot,Zt,hn,Sn),tt.copy(Et))},reset:function(){we=!1,et=null,tt.set(-1,0,0,0)}}}function n(){let we=!1,Et=null,et=null,tt=null;return{setTest:function(Ot){Ot?je(t.DEPTH_TEST):it(t.DEPTH_TEST)},setMask:function(Ot){Et!==Ot&&!we&&(t.depthMask(Ot),Et=Ot)},setFunc:function(Ot){if(et!==Ot){switch(Ot){case uV:t.depthFunc(t.NEVER);break;case cV:t.depthFunc(t.ALWAYS);break;case fV:t.depthFunc(t.LESS);break;case E0:t.depthFunc(t.LEQUAL);break;case hV:t.depthFunc(t.EQUAL);break;case pV:t.depthFunc(t.GEQUAL);break;case dV:t.depthFunc(t.GREATER);break;case mV:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}et=Ot}},setLocked:function(Ot){we=Ot},setClear:function(Ot){tt!==Ot&&(t.clearDepth(Ot),tt=Ot)},reset:function(){we=!1,Et=null,et=null,tt=null}}}function r(){let we=!1,Et=null,et=null,tt=null,Ot=null,Zt=null,hn=null,Sn=null,Yn=null;return{setTest:function(zn){we||(zn?je(t.STENCIL_TEST):it(t.STENCIL_TEST))},setMask:function(zn){Et!==zn&&!we&&(t.stencilMask(zn),Et=zn)},setFunc:function(zn,Di,$r){(et!==zn||tt!==Di||Ot!==$r)&&(t.stencilFunc(zn,Di,$r),et=zn,tt=Di,Ot=$r)},setOp:function(zn,Di,$r){(Zt!==zn||hn!==Di||Sn!==$r)&&(t.stencilOp(zn,Di,$r),Zt=zn,hn=Di,Sn=$r)},setLocked:function(zn){we=zn},setClear:function(zn){Yn!==zn&&(t.clearStencil(zn),Yn=zn)},reset:function(){we=!1,Et=null,et=null,tt=null,Ot=null,Zt=null,hn=null,Sn=null,Yn=null}}}let i=new e,o=new n,s=new r,a=new WeakMap,l=new WeakMap,u={},c={},h=new WeakMap,p=[],d=null,v=!1,b=null,S=null,y=null,T=null,E=null,A=null,N=null,x=new Xt(0,0,0),D=0,k=!1,U=null,L=null,j=null,ie=null,se=null,fe=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),_e=!1,J=0,te=t.getParameter(t.VERSION);te.indexOf("WebGL")!==-1?(J=parseFloat(/^WebGL (\d)/.exec(te)[1]),_e=J>=1):te.indexOf("OpenGL ES")!==-1&&(J=parseFloat(/^OpenGL ES (\d)/.exec(te)[1]),_e=J>=2);let ne=null,xe={},Ce=t.getParameter(t.SCISSOR_BOX),Le=t.getParameter(t.VIEWPORT),rt=new lr().fromArray(Ce),ot=new lr().fromArray(Le);function Ae(we,Et,et,tt){let Ot=new Uint8Array(4),Zt=t.createTexture();t.bindTexture(we,Zt),t.texParameteri(we,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(we,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let hn=0;hn<et;hn++)we===t.TEXTURE_3D||we===t.TEXTURE_2D_ARRAY?t.texImage3D(Et,0,t.RGBA,1,1,tt,0,t.RGBA,t.UNSIGNED_BYTE,Ot):t.texImage2D(Et+hn,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ot);return Zt}let ze={};ze[t.TEXTURE_2D]=Ae(t.TEXTURE_2D,t.TEXTURE_2D,1),ze[t.TEXTURE_CUBE_MAP]=Ae(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ze[t.TEXTURE_2D_ARRAY]=Ae(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ze[t.TEXTURE_3D]=Ae(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),o.setClear(1),s.setClear(0),je(t.DEPTH_TEST),o.setFunc(E0),Q(!1),q(yN),je(t.CULL_FACE),ye(Ru);function je(we){u[we]!==!0&&(t.enable(we),u[we]=!0)}function it(we){u[we]!==!1&&(t.disable(we),u[we]=!1)}function pt(we,Et){return c[we]!==Et?(t.bindFramebuffer(we,Et),c[we]=Et,we===t.DRAW_FRAMEBUFFER&&(c[t.FRAMEBUFFER]=Et),we===t.FRAMEBUFFER&&(c[t.DRAW_FRAMEBUFFER]=Et),!0):!1}function It(we,Et){let et=p,tt=!1;if(we){et=h.get(Et),et===void 0&&(et=[],h.set(Et,et));let Ot=we.textures;if(et.length!==Ot.length||et[0]!==t.COLOR_ATTACHMENT0){for(let Zt=0,hn=Ot.length;Zt<hn;Zt++)et[Zt]=t.COLOR_ATTACHMENT0+Zt;et.length=Ot.length,tt=!0}}else et[0]!==t.BACK&&(et[0]=t.BACK,tt=!0);tt&&t.drawBuffers(et)}function Nt(we){return d!==we?(t.useProgram(we),d=we,!0):!1}let mt={[Gc]:t.FUNC_ADD,[X5]:t.FUNC_SUBTRACT,[j5]:t.FUNC_REVERSE_SUBTRACT};mt[Y5]=t.MIN,mt[q5]=t.MAX;let K={[Z5]:t.ZERO,[K5]:t.ONE,[J5]:t.SRC_COLOR,[bw]:t.SRC_ALPHA,[iV]:t.SRC_ALPHA_SATURATE,[nV]:t.DST_COLOR,[eV]:t.DST_ALPHA,[Q5]:t.ONE_MINUS_SRC_COLOR,[ww]:t.ONE_MINUS_SRC_ALPHA,[rV]:t.ONE_MINUS_DST_COLOR,[tV]:t.ONE_MINUS_DST_ALPHA,[oV]:t.CONSTANT_COLOR,[sV]:t.ONE_MINUS_CONSTANT_COLOR,[aV]:t.CONSTANT_ALPHA,[lV]:t.ONE_MINUS_CONSTANT_ALPHA};function ye(we,Et,et,tt,Ot,Zt,hn,Sn,Yn,zn){if(we===Ru){v===!0&&(it(t.BLEND),v=!1);return}if(v===!1&&(je(t.BLEND),v=!0),we!==$5){if(we!==b||zn!==k){if((S!==Gc||E!==Gc)&&(t.blendEquation(t.FUNC_ADD),S=Gc,E=Gc),zn)switch(we){case Nh:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case xN:t.blendFunc(t.ONE,t.ONE);break;case _N:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case SN:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",we);break}else switch(we){case Nh:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case xN:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case _N:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case SN:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",we);break}y=null,T=null,A=null,N=null,x.set(0,0,0),D=0,b=we,k=zn}return}Ot=Ot||Et,Zt=Zt||et,hn=hn||tt,(Et!==S||Ot!==E)&&(t.blendEquationSeparate(mt[Et],mt[Ot]),S=Et,E=Ot),(et!==y||tt!==T||Zt!==A||hn!==N)&&(t.blendFuncSeparate(K[et],K[tt],K[Zt],K[hn]),y=et,T=tt,A=Zt,N=hn),(Sn.equals(x)===!1||Yn!==D)&&(t.blendColor(Sn.r,Sn.g,Sn.b,Yn),x.copy(Sn),D=Yn),b=we,k=!1}function ge(we,Et){we.side===Ml?it(t.CULL_FACE):je(t.CULL_FACE);let et=we.side===zo;Et&&(et=!et),Q(et),we.blending===Nh&&we.transparent===!1?ye(Ru):ye(we.blending,we.blendEquation,we.blendSrc,we.blendDst,we.blendEquationAlpha,we.blendSrcAlpha,we.blendDstAlpha,we.blendColor,we.blendAlpha,we.premultipliedAlpha),o.setFunc(we.depthFunc),o.setTest(we.depthTest),o.setMask(we.depthWrite),i.setMask(we.colorWrite);let tt=we.stencilWrite;s.setTest(tt),tt&&(s.setMask(we.stencilWriteMask),s.setFunc(we.stencilFunc,we.stencilRef,we.stencilFuncMask),s.setOp(we.stencilFail,we.stencilZFail,we.stencilZPass)),ue(we.polygonOffset,we.polygonOffsetFactor,we.polygonOffsetUnits),we.alphaToCoverage===!0?je(t.SAMPLE_ALPHA_TO_COVERAGE):it(t.SAMPLE_ALPHA_TO_COVERAGE)}function Q(we){U!==we&&(we?t.frontFace(t.CW):t.frontFace(t.CCW),U=we)}function q(we){we!==V5?(je(t.CULL_FACE),we!==L&&(we===yN?t.cullFace(t.BACK):we===W5?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):it(t.CULL_FACE),L=we}function ve(we){we!==j&&(_e&&t.lineWidth(we),j=we)}function ue(we,Et,et){we?(je(t.POLYGON_OFFSET_FILL),(ie!==Et||se!==et)&&(t.polygonOffset(Et,et),ie=Et,se=et)):it(t.POLYGON_OFFSET_FILL)}function xt(we){we?je(t.SCISSOR_TEST):it(t.SCISSOR_TEST)}function ae(we){we===void 0&&(we=t.TEXTURE0+fe-1),ne!==we&&(t.activeTexture(we),ne=we)}function $(we,Et,et){et===void 0&&(ne===null?et=t.TEXTURE0+fe-1:et=ne);let tt=xe[et];tt===void 0&&(tt={type:void 0,texture:void 0},xe[et]=tt),(tt.type!==we||tt.texture!==Et)&&(ne!==et&&(t.activeTexture(et),ne=et),t.bindTexture(we,Et||ze[we]),tt.type=we,tt.texture=Et)}function De(){let we=xe[ne];we!==void 0&&we.type!==void 0&&(t.bindTexture(we.type,null),we.type=void 0,we.texture=void 0)}function Ke(){try{t.compressedTexImage2D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function Ee(){try{t.compressedTexImage3D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function Be(){try{t.texSubImage2D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function Ze(){try{t.texSubImage3D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function ut(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function Pt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function zt(){try{t.texStorage2D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function Qe(){try{t.texStorage3D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function Je(){try{t.texImage2D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function gt(){try{t.texImage3D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function vt(we){rt.equals(we)===!1&&(t.scissor(we.x,we.y,we.z,we.w),rt.copy(we))}function Ct(we){ot.equals(we)===!1&&(t.viewport(we.x,we.y,we.z,we.w),ot.copy(we))}function rn(we,Et){let et=l.get(Et);et===void 0&&(et=new WeakMap,l.set(Et,et));let tt=et.get(we);tt===void 0&&(tt=t.getUniformBlockIndex(Et,we.name),et.set(we,tt))}function fn(we,Et){let tt=l.get(Et).get(we);a.get(Et)!==tt&&(t.uniformBlockBinding(Et,tt,we.__bindingPointIndex),a.set(Et,tt))}function kn(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},ne=null,xe={},c={},h=new WeakMap,p=[],d=null,v=!1,b=null,S=null,y=null,T=null,E=null,A=null,N=null,x=new Xt(0,0,0),D=0,k=!1,U=null,L=null,j=null,ie=null,se=null,rt.set(0,0,t.canvas.width,t.canvas.height),ot.set(0,0,t.canvas.width,t.canvas.height),i.reset(),o.reset(),s.reset()}return{buffers:{color:i,depth:o,stencil:s},enable:je,disable:it,bindFramebuffer:pt,drawBuffers:It,useProgram:Nt,setBlending:ye,setMaterial:ge,setFlipSided:Q,setCullFace:q,setLineWidth:ve,setPolygonOffset:ue,setScissorTest:xt,activeTexture:ae,bindTexture:$,unbindTexture:De,compressedTexImage2D:Ke,compressedTexImage3D:Ee,texImage2D:Je,texImage3D:gt,updateUBOMapping:rn,uniformBlockBinding:fn,texStorage2D:zt,texStorage3D:Qe,texSubImage2D:Be,texSubImage3D:Ze,compressedTexSubImage2D:ut,compressedTexSubImage3D:Pt,scissor:vt,viewport:Ct,reset:kn}}function Fde(t,e){let n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function Ude(t,e){let n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function Bde(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function BN(t,e,n,r){let i=zde(r);switch(n){case Y2:return t*e;case Z2:return t*e;case K2:return t*e*2;case pE:return t*e/i.components*i.byteLength;case py:return t*e/i.components*i.byteLength;case J2:return t*e*2/i.components*i.byteLength;case dE:return t*e*2/i.components*i.byteLength;case q2:return t*e*3/i.components*i.byteLength;case Bo:return t*e*4/i.components*i.byteLength;case mE:return t*e*4/i.components*i.byteLength;case m0:case g0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case v0:case y0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Tw:case Mw:return Math.max(t,16)*Math.max(e,8)/4;case Ew:case Cw:return Math.max(t,8)*Math.max(e,8)/2;case Aw:case Pw:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Rw:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Iw:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Nw:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case Ow:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Lw:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case Dw:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case kw:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Fw:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Uw:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Bw:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case zw:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Hw:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Vw:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case Ww:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Gw:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case x0:case $w:case Xw:return Math.ceil(t/4)*Math.ceil(e/4)*16;case Q2:case jw:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Yw:case qw:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function zde(t){switch(t){case Il:case $2:return{byteLength:1,components:1};case qd:case X2:case lm:return{byteLength:2,components:1};case fE:case hE:return{byteLength:2,components:4};case Du:case cE:case us:return{byteLength:4,components:1};case j2:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}var Hde={contain:Fde,cover:Ude,fill:Bde,getByteLength:BN};function Vde(t,e,n,r,i,o,s){let a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new ct,c=new WeakMap,h,p=new WeakMap,d=!1;try{d=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(ae,$){return d?new OffscreenCanvas(ae,$):k0("canvas")}function b(ae,$,De){let Ke=1,Ee=xt(ae);if((Ee.width>De||Ee.height>De)&&(Ke=De/Math.max(Ee.width,Ee.height)),Ke<1)if(typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ae instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ae instanceof ImageBitmap||typeof VideoFrame<"u"&&ae instanceof VideoFrame){let Be=Math.floor(Ke*Ee.width),Ze=Math.floor(Ke*Ee.height);h===void 0&&(h=v(Be,Ze));let ut=$?v(Be,Ze):h;return ut.width=Be,ut.height=Ze,ut.getContext("2d").drawImage(ae,0,0,Be,Ze),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ee.width+"x"+Ee.height+") to ("+Be+"x"+Ze+")."),ut}else return"data"in ae&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ee.width+"x"+Ee.height+")."),ae;return ae}function S(ae){return ae.generateMipmaps&&ae.minFilter!==Gi&&ae.minFilter!==vi}function y(ae){t.generateMipmap(ae)}function T(ae,$,De,Ke,Ee=!1){if(ae!==null){if(t[ae]!==void 0)return t[ae];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ae+"'")}let Be=$;if($===t.RED&&(De===t.FLOAT&&(Be=t.R32F),De===t.HALF_FLOAT&&(Be=t.R16F),De===t.UNSIGNED_BYTE&&(Be=t.R8)),$===t.RED_INTEGER&&(De===t.UNSIGNED_BYTE&&(Be=t.R8UI),De===t.UNSIGNED_SHORT&&(Be=t.R16UI),De===t.UNSIGNED_INT&&(Be=t.R32UI),De===t.BYTE&&(Be=t.R8I),De===t.SHORT&&(Be=t.R16I),De===t.INT&&(Be=t.R32I)),$===t.RG&&(De===t.FLOAT&&(Be=t.RG32F),De===t.HALF_FLOAT&&(Be=t.RG16F),De===t.UNSIGNED_BYTE&&(Be=t.RG8)),$===t.RG_INTEGER&&(De===t.UNSIGNED_BYTE&&(Be=t.RG8UI),De===t.UNSIGNED_SHORT&&(Be=t.RG16UI),De===t.UNSIGNED_INT&&(Be=t.RG32UI),De===t.BYTE&&(Be=t.RG8I),De===t.SHORT&&(Be=t.RG16I),De===t.INT&&(Be=t.RG32I)),$===t.RGB&&De===t.UNSIGNED_INT_5_9_9_9_REV&&(Be=t.RGB9_E5),$===t.RGBA){let Ze=Ee?I0:er.getTransfer(Ke);De===t.FLOAT&&(Be=t.RGBA32F),De===t.HALF_FLOAT&&(Be=t.RGBA16F),De===t.UNSIGNED_BYTE&&(Be=Ze===Mr?t.SRGB8_ALPHA8:t.RGBA8),De===t.UNSIGNED_SHORT_4_4_4_4&&(Be=t.RGBA4),De===t.UNSIGNED_SHORT_5_5_5_1&&(Be=t.RGB5_A1)}return(Be===t.R16F||Be===t.R32F||Be===t.RG16F||Be===t.RG32F||Be===t.RGBA16F||Be===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Be}function E(ae,$){let De;return ae?$===null||$===Du||$===Dh?De=t.DEPTH24_STENCIL8:$===us?De=t.DEPTH32F_STENCIL8:$===qd&&(De=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):$===null||$===Du||$===Dh?De=t.DEPTH_COMPONENT24:$===us?De=t.DEPTH_COMPONENT32F:$===qd&&(De=t.DEPTH_COMPONENT16),De}function A(ae,$){return S(ae)===!0||ae.isFramebufferTexture&&ae.minFilter!==Gi&&ae.minFilter!==vi?Math.log2(Math.max($.width,$.height))+1:ae.mipmaps!==void 0&&ae.mipmaps.length>0?ae.mipmaps.length:ae.isCompressedTexture&&Array.isArray(ae.image)?$.mipmaps.length:1}function N(ae){let $=ae.target;$.removeEventListener("dispose",N),D($),$.isVideoTexture&&c.delete($)}function x(ae){let $=ae.target;$.removeEventListener("dispose",x),U($)}function D(ae){let $=r.get(ae);if($.__webglInit===void 0)return;let De=ae.source,Ke=p.get(De);if(Ke){let Ee=Ke[$.__cacheKey];Ee.usedTimes--,Ee.usedTimes===0&&k(ae),Object.keys(Ke).length===0&&p.delete(De)}r.remove(ae)}function k(ae){let $=r.get(ae);t.deleteTexture($.__webglTexture);let De=ae.source,Ke=p.get(De);delete Ke[$.__cacheKey],s.memory.textures--}function U(ae){let $=r.get(ae);if(ae.depthTexture&&ae.depthTexture.dispose(),ae.isWebGLCubeRenderTarget)for(let Ke=0;Ke<6;Ke++){if(Array.isArray($.__webglFramebuffer[Ke]))for(let Ee=0;Ee<$.__webglFramebuffer[Ke].length;Ee++)t.deleteFramebuffer($.__webglFramebuffer[Ke][Ee]);else t.deleteFramebuffer($.__webglFramebuffer[Ke]);$.__webglDepthbuffer&&t.deleteRenderbuffer($.__webglDepthbuffer[Ke])}else{if(Array.isArray($.__webglFramebuffer))for(let Ke=0;Ke<$.__webglFramebuffer.length;Ke++)t.deleteFramebuffer($.__webglFramebuffer[Ke]);else t.deleteFramebuffer($.__webglFramebuffer);if($.__webglDepthbuffer&&t.deleteRenderbuffer($.__webglDepthbuffer),$.__webglMultisampledFramebuffer&&t.deleteFramebuffer($.__webglMultisampledFramebuffer),$.__webglColorRenderbuffer)for(let Ke=0;Ke<$.__webglColorRenderbuffer.length;Ke++)$.__webglColorRenderbuffer[Ke]&&t.deleteRenderbuffer($.__webglColorRenderbuffer[Ke]);$.__webglDepthRenderbuffer&&t.deleteRenderbuffer($.__webglDepthRenderbuffer)}let De=ae.textures;for(let Ke=0,Ee=De.length;Ke<Ee;Ke++){let Be=r.get(De[Ke]);Be.__webglTexture&&(t.deleteTexture(Be.__webglTexture),s.memory.textures--),r.remove(De[Ke])}r.remove(ae)}let L=0;function j(){L=0}function ie(){let ae=L;return ae>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ae+" texture units while this GPU supports only "+i.maxTextures),L+=1,ae}function se(ae){let $=[];return $.push(ae.wrapS),$.push(ae.wrapT),$.push(ae.wrapR||0),$.push(ae.magFilter),$.push(ae.minFilter),$.push(ae.anisotropy),$.push(ae.internalFormat),$.push(ae.format),$.push(ae.type),$.push(ae.generateMipmaps),$.push(ae.premultiplyAlpha),$.push(ae.flipY),$.push(ae.unpackAlignment),$.push(ae.colorSpace),$.join()}function fe(ae,$){let De=r.get(ae);if(ae.isVideoTexture&&ve(ae),ae.isRenderTargetTexture===!1&&ae.version>0&&De.__version!==ae.version){let Ke=ae.image;if(Ke===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ke.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ot(De,ae,$);return}}n.bindTexture(t.TEXTURE_2D,De.__webglTexture,t.TEXTURE0+$)}function _e(ae,$){let De=r.get(ae);if(ae.version>0&&De.__version!==ae.version){ot(De,ae,$);return}n.bindTexture(t.TEXTURE_2D_ARRAY,De.__webglTexture,t.TEXTURE0+$)}function J(ae,$){let De=r.get(ae);if(ae.version>0&&De.__version!==ae.version){ot(De,ae,$);return}n.bindTexture(t.TEXTURE_3D,De.__webglTexture,t.TEXTURE0+$)}function te(ae,$){let De=r.get(ae);if(ae.version>0&&De.__version!==ae.version){Ae(De,ae,$);return}n.bindTexture(t.TEXTURE_CUBE_MAP,De.__webglTexture,t.TEXTURE0+$)}let ne={[M0]:t.REPEAT,[ga]:t.CLAMP_TO_EDGE,[A0]:t.MIRRORED_REPEAT},xe={[Gi]:t.NEAREST,[G2]:t.NEAREST_MIPMAP_NEAREST,[Vd]:t.NEAREST_MIPMAP_LINEAR,[vi]:t.LINEAR,[d0]:t.LINEAR_MIPMAP_NEAREST,[Al]:t.LINEAR_MIPMAP_LINEAR},Ce={[NV]:t.NEVER,[UV]:t.ALWAYS,[OV]:t.LESS,[rO]:t.LEQUAL,[LV]:t.EQUAL,[FV]:t.GEQUAL,[DV]:t.GREATER,[kV]:t.NOTEQUAL};function Le(ae,$){if($.type===us&&e.has("OES_texture_float_linear")===!1&&($.magFilter===vi||$.magFilter===d0||$.magFilter===Vd||$.magFilter===Al||$.minFilter===vi||$.minFilter===d0||$.minFilter===Vd||$.minFilter===Al)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(ae,t.TEXTURE_WRAP_S,ne[$.wrapS]),t.texParameteri(ae,t.TEXTURE_WRAP_T,ne[$.wrapT]),(ae===t.TEXTURE_3D||ae===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ae,t.TEXTURE_WRAP_R,ne[$.wrapR]),t.texParameteri(ae,t.TEXTURE_MAG_FILTER,xe[$.magFilter]),t.texParameteri(ae,t.TEXTURE_MIN_FILTER,xe[$.minFilter]),$.compareFunction&&(t.texParameteri(ae,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(ae,t.TEXTURE_COMPARE_FUNC,Ce[$.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if($.magFilter===Gi||$.minFilter!==Vd&&$.minFilter!==Al||$.type===us&&e.has("OES_texture_float_linear")===!1)return;if($.anisotropy>1||r.get($).__currentAnisotropy){let De=e.get("EXT_texture_filter_anisotropic");t.texParameterf(ae,De.TEXTURE_MAX_ANISOTROPY_EXT,Math.min($.anisotropy,i.getMaxAnisotropy())),r.get($).__currentAnisotropy=$.anisotropy}}}function rt(ae,$){let De=!1;ae.__webglInit===void 0&&(ae.__webglInit=!0,$.addEventListener("dispose",N));let Ke=$.source,Ee=p.get(Ke);Ee===void 0&&(Ee={},p.set(Ke,Ee));let Be=se($);if(Be!==ae.__cacheKey){Ee[Be]===void 0&&(Ee[Be]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,De=!0),Ee[Be].usedTimes++;let Ze=Ee[ae.__cacheKey];Ze!==void 0&&(Ee[ae.__cacheKey].usedTimes--,Ze.usedTimes===0&&k($)),ae.__cacheKey=Be,ae.__webglTexture=Ee[Be].texture}return De}function ot(ae,$,De){let Ke=t.TEXTURE_2D;($.isDataArrayTexture||$.isCompressedArrayTexture)&&(Ke=t.TEXTURE_2D_ARRAY),$.isData3DTexture&&(Ke=t.TEXTURE_3D);let Ee=rt(ae,$),Be=$.source;n.bindTexture(Ke,ae.__webglTexture,t.TEXTURE0+De);let Ze=r.get(Be);if(Be.version!==Ze.__version||Ee===!0){n.activeTexture(t.TEXTURE0+De);let ut=er.getPrimaries(er.workingColorSpace),Pt=$.colorSpace===Tu?null:er.getPrimaries($.colorSpace),zt=$.colorSpace===Tu||ut===Pt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,$.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,$.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,zt);let Qe=b($.image,!1,i.maxTextureSize);Qe=ue($,Qe);let Je=o.convert($.format,$.colorSpace),gt=o.convert($.type),vt=T($.internalFormat,Je,gt,$.colorSpace,$.isVideoTexture);Le(Ke,$);let Ct,rn=$.mipmaps,fn=$.isVideoTexture!==!0,kn=Ze.__version===void 0||Ee===!0,we=Be.dataReady,Et=A($,Qe);if($.isDepthTexture)vt=E($.format===kh,$.type),kn&&(fn?n.texStorage2D(t.TEXTURE_2D,1,vt,Qe.width,Qe.height):n.texImage2D(t.TEXTURE_2D,0,vt,Qe.width,Qe.height,0,Je,gt,null));else if($.isDataTexture)if(rn.length>0){fn&&kn&&n.texStorage2D(t.TEXTURE_2D,Et,vt,rn[0].width,rn[0].height);for(let et=0,tt=rn.length;et<tt;et++)Ct=rn[et],fn?we&&n.texSubImage2D(t.TEXTURE_2D,et,0,0,Ct.width,Ct.height,Je,gt,Ct.data):n.texImage2D(t.TEXTURE_2D,et,vt,Ct.width,Ct.height,0,Je,gt,Ct.data);$.generateMipmaps=!1}else fn?(kn&&n.texStorage2D(t.TEXTURE_2D,Et,vt,Qe.width,Qe.height),we&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Qe.width,Qe.height,Je,gt,Qe.data)):n.texImage2D(t.TEXTURE_2D,0,vt,Qe.width,Qe.height,0,Je,gt,Qe.data);else if($.isCompressedTexture)if($.isCompressedArrayTexture){fn&&kn&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Et,vt,rn[0].width,rn[0].height,Qe.depth);for(let et=0,tt=rn.length;et<tt;et++)if(Ct=rn[et],$.format!==Bo)if(Je!==null)if(fn){if(we)if($.layerUpdates.size>0){let Ot=BN(Ct.width,Ct.height,$.format,$.type);for(let Zt of $.layerUpdates){let hn=Ct.data.subarray(Zt*Ot/Ct.data.BYTES_PER_ELEMENT,(Zt+1)*Ot/Ct.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,et,0,0,Zt,Ct.width,Ct.height,1,Je,hn,0,0)}$.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,et,0,0,0,Ct.width,Ct.height,Qe.depth,Je,Ct.data,0,0)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,et,vt,Ct.width,Ct.height,Qe.depth,0,Ct.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else fn?we&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,et,0,0,0,Ct.width,Ct.height,Qe.depth,Je,gt,Ct.data):n.texImage3D(t.TEXTURE_2D_ARRAY,et,vt,Ct.width,Ct.height,Qe.depth,0,Je,gt,Ct.data)}else{fn&&kn&&n.texStorage2D(t.TEXTURE_2D,Et,vt,rn[0].width,rn[0].height);for(let et=0,tt=rn.length;et<tt;et++)Ct=rn[et],$.format!==Bo?Je!==null?fn?we&&n.compressedTexSubImage2D(t.TEXTURE_2D,et,0,0,Ct.width,Ct.height,Je,Ct.data):n.compressedTexImage2D(t.TEXTURE_2D,et,vt,Ct.width,Ct.height,0,Ct.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):fn?we&&n.texSubImage2D(t.TEXTURE_2D,et,0,0,Ct.width,Ct.height,Je,gt,Ct.data):n.texImage2D(t.TEXTURE_2D,et,vt,Ct.width,Ct.height,0,Je,gt,Ct.data)}else if($.isDataArrayTexture)if(fn){if(kn&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Et,vt,Qe.width,Qe.height,Qe.depth),we)if($.layerUpdates.size>0){let et=BN(Qe.width,Qe.height,$.format,$.type);for(let tt of $.layerUpdates){let Ot=Qe.data.subarray(tt*et/Qe.data.BYTES_PER_ELEMENT,(tt+1)*et/Qe.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,tt,Qe.width,Qe.height,1,Je,gt,Ot)}$.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Qe.width,Qe.height,Qe.depth,Je,gt,Qe.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,vt,Qe.width,Qe.height,Qe.depth,0,Je,gt,Qe.data);else if($.isData3DTexture)fn?(kn&&n.texStorage3D(t.TEXTURE_3D,Et,vt,Qe.width,Qe.height,Qe.depth),we&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Qe.width,Qe.height,Qe.depth,Je,gt,Qe.data)):n.texImage3D(t.TEXTURE_3D,0,vt,Qe.width,Qe.height,Qe.depth,0,Je,gt,Qe.data);else if($.isFramebufferTexture){if(kn)if(fn)n.texStorage2D(t.TEXTURE_2D,Et,vt,Qe.width,Qe.height);else{let et=Qe.width,tt=Qe.height;for(let Ot=0;Ot<Et;Ot++)n.texImage2D(t.TEXTURE_2D,Ot,vt,et,tt,0,Je,gt,null),et>>=1,tt>>=1}}else if(rn.length>0){if(fn&&kn){let et=xt(rn[0]);n.texStorage2D(t.TEXTURE_2D,Et,vt,et.width,et.height)}for(let et=0,tt=rn.length;et<tt;et++)Ct=rn[et],fn?we&&n.texSubImage2D(t.TEXTURE_2D,et,0,0,Je,gt,Ct):n.texImage2D(t.TEXTURE_2D,et,vt,Je,gt,Ct);$.generateMipmaps=!1}else if(fn){if(kn){let et=xt(Qe);n.texStorage2D(t.TEXTURE_2D,Et,vt,et.width,et.height)}we&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Je,gt,Qe)}else n.texImage2D(t.TEXTURE_2D,0,vt,Je,gt,Qe);S($)&&y(Ke),Ze.__version=Be.version,$.onUpdate&&$.onUpdate($)}ae.__version=$.version}function Ae(ae,$,De){if($.image.length!==6)return;let Ke=rt(ae,$),Ee=$.source;n.bindTexture(t.TEXTURE_CUBE_MAP,ae.__webglTexture,t.TEXTURE0+De);let Be=r.get(Ee);if(Ee.version!==Be.__version||Ke===!0){n.activeTexture(t.TEXTURE0+De);let Ze=er.getPrimaries(er.workingColorSpace),ut=$.colorSpace===Tu?null:er.getPrimaries($.colorSpace),Pt=$.colorSpace===Tu||Ze===ut?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,$.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,$.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Pt);let zt=$.isCompressedTexture||$.image[0].isCompressedTexture,Qe=$.image[0]&&$.image[0].isDataTexture,Je=[];for(let tt=0;tt<6;tt++)!zt&&!Qe?Je[tt]=b($.image[tt],!0,i.maxCubemapSize):Je[tt]=Qe?$.image[tt].image:$.image[tt],Je[tt]=ue($,Je[tt]);let gt=Je[0],vt=o.convert($.format,$.colorSpace),Ct=o.convert($.type),rn=T($.internalFormat,vt,Ct,$.colorSpace),fn=$.isVideoTexture!==!0,kn=Be.__version===void 0||Ke===!0,we=Ee.dataReady,Et=A($,gt);Le(t.TEXTURE_CUBE_MAP,$);let et;if(zt){fn&&kn&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Et,rn,gt.width,gt.height);for(let tt=0;tt<6;tt++){et=Je[tt].mipmaps;for(let Ot=0;Ot<et.length;Ot++){let Zt=et[Ot];$.format!==Bo?vt!==null?fn?we&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Ot,0,0,Zt.width,Zt.height,vt,Zt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Ot,rn,Zt.width,Zt.height,0,Zt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):fn?we&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Ot,0,0,Zt.width,Zt.height,vt,Ct,Zt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Ot,rn,Zt.width,Zt.height,0,vt,Ct,Zt.data)}}}else{if(et=$.mipmaps,fn&&kn){et.length>0&&Et++;let tt=xt(Je[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Et,rn,tt.width,tt.height)}for(let tt=0;tt<6;tt++)if(Qe){fn?we&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,0,0,Je[tt].width,Je[tt].height,vt,Ct,Je[tt].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,rn,Je[tt].width,Je[tt].height,0,vt,Ct,Je[tt].data);for(let Ot=0;Ot<et.length;Ot++){let hn=et[Ot].image[tt].image;fn?we&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Ot+1,0,0,hn.width,hn.height,vt,Ct,hn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Ot+1,rn,hn.width,hn.height,0,vt,Ct,hn.data)}}else{fn?we&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,0,0,vt,Ct,Je[tt]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,rn,vt,Ct,Je[tt]);for(let Ot=0;Ot<et.length;Ot++){let Zt=et[Ot];fn?we&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Ot+1,0,0,vt,Ct,Zt.image[tt]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Ot+1,rn,vt,Ct,Zt.image[tt])}}}S($)&&y(t.TEXTURE_CUBE_MAP),Be.__version=Ee.version,$.onUpdate&&$.onUpdate($)}ae.__version=$.version}function ze(ae,$,De,Ke,Ee,Be){let Ze=o.convert(De.format,De.colorSpace),ut=o.convert(De.type),Pt=T(De.internalFormat,Ze,ut,De.colorSpace);if(!r.get($).__hasExternalTextures){let Qe=Math.max(1,$.width>>Be),Je=Math.max(1,$.height>>Be);Ee===t.TEXTURE_3D||Ee===t.TEXTURE_2D_ARRAY?n.texImage3D(Ee,Be,Pt,Qe,Je,$.depth,0,Ze,ut,null):n.texImage2D(Ee,Be,Pt,Qe,Je,0,Ze,ut,null)}n.bindFramebuffer(t.FRAMEBUFFER,ae),q($)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ke,Ee,r.get(De).__webglTexture,0,Q($)):(Ee===t.TEXTURE_2D||Ee>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ee<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ke,Ee,r.get(De).__webglTexture,Be),n.bindFramebuffer(t.FRAMEBUFFER,null)}function je(ae,$,De){if(t.bindRenderbuffer(t.RENDERBUFFER,ae),$.depthBuffer){let Ke=$.depthTexture,Ee=Ke&&Ke.isDepthTexture?Ke.type:null,Be=E($.stencilBuffer,Ee),Ze=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ut=Q($);q($)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ut,Be,$.width,$.height):De?t.renderbufferStorageMultisample(t.RENDERBUFFER,ut,Be,$.width,$.height):t.renderbufferStorage(t.RENDERBUFFER,Be,$.width,$.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ze,t.RENDERBUFFER,ae)}else{let Ke=$.textures;for(let Ee=0;Ee<Ke.length;Ee++){let Be=Ke[Ee],Ze=o.convert(Be.format,Be.colorSpace),ut=o.convert(Be.type),Pt=T(Be.internalFormat,Ze,ut,Be.colorSpace),zt=Q($);De&&q($)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,zt,Pt,$.width,$.height):q($)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,zt,Pt,$.width,$.height):t.renderbufferStorage(t.RENDERBUFFER,Pt,$.width,$.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function it(ae,$){if($&&$.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,ae),!($.depthTexture&&$.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get($.depthTexture).__webglTexture||$.depthTexture.image.width!==$.width||$.depthTexture.image.height!==$.height)&&($.depthTexture.image.width=$.width,$.depthTexture.image.height=$.height,$.depthTexture.needsUpdate=!0),fe($.depthTexture,0);let Ke=r.get($.depthTexture).__webglTexture,Ee=Q($);if($.depthTexture.format===Oh)q($)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ke,0,Ee):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ke,0);else if($.depthTexture.format===kh)q($)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ke,0,Ee):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ke,0);else throw new Error("Unknown depthTexture format")}function pt(ae){let $=r.get(ae),De=ae.isWebGLCubeRenderTarget===!0;if($.__boundDepthTexture!==ae.depthTexture){let Ke=ae.depthTexture;if($.__depthDisposeCallback&&$.__depthDisposeCallback(),Ke){let Ee=()=>{delete $.__boundDepthTexture,delete $.__depthDisposeCallback,Ke.removeEventListener("dispose",Ee)};Ke.addEventListener("dispose",Ee),$.__depthDisposeCallback=Ee}$.__boundDepthTexture=Ke}if(ae.depthTexture&&!$.__autoAllocateDepthBuffer){if(De)throw new Error("target.depthTexture not supported in Cube render targets");it($.__webglFramebuffer,ae)}else if(De){$.__webglDepthbuffer=[];for(let Ke=0;Ke<6;Ke++)if(n.bindFramebuffer(t.FRAMEBUFFER,$.__webglFramebuffer[Ke]),$.__webglDepthbuffer[Ke]===void 0)$.__webglDepthbuffer[Ke]=t.createRenderbuffer(),je($.__webglDepthbuffer[Ke],ae,!1);else{let Ee=ae.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Be=$.__webglDepthbuffer[Ke];t.bindRenderbuffer(t.RENDERBUFFER,Be),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ee,t.RENDERBUFFER,Be)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,$.__webglFramebuffer),$.__webglDepthbuffer===void 0)$.__webglDepthbuffer=t.createRenderbuffer(),je($.__webglDepthbuffer,ae,!1);else{let Ke=ae.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ee=$.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Ee),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ke,t.RENDERBUFFER,Ee)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function It(ae,$,De){let Ke=r.get(ae);$!==void 0&&ze(Ke.__webglFramebuffer,ae,ae.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),De!==void 0&&pt(ae)}function Nt(ae){let $=ae.texture,De=r.get(ae),Ke=r.get($);ae.addEventListener("dispose",x);let Ee=ae.textures,Be=ae.isWebGLCubeRenderTarget===!0,Ze=Ee.length>1;if(Ze||(Ke.__webglTexture===void 0&&(Ke.__webglTexture=t.createTexture()),Ke.__version=$.version,s.memory.textures++),Be){De.__webglFramebuffer=[];for(let ut=0;ut<6;ut++)if($.mipmaps&&$.mipmaps.length>0){De.__webglFramebuffer[ut]=[];for(let Pt=0;Pt<$.mipmaps.length;Pt++)De.__webglFramebuffer[ut][Pt]=t.createFramebuffer()}else De.__webglFramebuffer[ut]=t.createFramebuffer()}else{if($.mipmaps&&$.mipmaps.length>0){De.__webglFramebuffer=[];for(let ut=0;ut<$.mipmaps.length;ut++)De.__webglFramebuffer[ut]=t.createFramebuffer()}else De.__webglFramebuffer=t.createFramebuffer();if(Ze)for(let ut=0,Pt=Ee.length;ut<Pt;ut++){let zt=r.get(Ee[ut]);zt.__webglTexture===void 0&&(zt.__webglTexture=t.createTexture(),s.memory.textures++)}if(ae.samples>0&&q(ae)===!1){De.__webglMultisampledFramebuffer=t.createFramebuffer(),De.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,De.__webglMultisampledFramebuffer);for(let ut=0;ut<Ee.length;ut++){let Pt=Ee[ut];De.__webglColorRenderbuffer[ut]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,De.__webglColorRenderbuffer[ut]);let zt=o.convert(Pt.format,Pt.colorSpace),Qe=o.convert(Pt.type),Je=T(Pt.internalFormat,zt,Qe,Pt.colorSpace,ae.isXRRenderTarget===!0),gt=Q(ae);t.renderbufferStorageMultisample(t.RENDERBUFFER,gt,Je,ae.width,ae.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ut,t.RENDERBUFFER,De.__webglColorRenderbuffer[ut])}t.bindRenderbuffer(t.RENDERBUFFER,null),ae.depthBuffer&&(De.__webglDepthRenderbuffer=t.createRenderbuffer(),je(De.__webglDepthRenderbuffer,ae,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Be){n.bindTexture(t.TEXTURE_CUBE_MAP,Ke.__webglTexture),Le(t.TEXTURE_CUBE_MAP,$);for(let ut=0;ut<6;ut++)if($.mipmaps&&$.mipmaps.length>0)for(let Pt=0;Pt<$.mipmaps.length;Pt++)ze(De.__webglFramebuffer[ut][Pt],ae,$,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ut,Pt);else ze(De.__webglFramebuffer[ut],ae,$,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ut,0);S($)&&y(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ze){for(let ut=0,Pt=Ee.length;ut<Pt;ut++){let zt=Ee[ut],Qe=r.get(zt);n.bindTexture(t.TEXTURE_2D,Qe.__webglTexture),Le(t.TEXTURE_2D,zt),ze(De.__webglFramebuffer,ae,zt,t.COLOR_ATTACHMENT0+ut,t.TEXTURE_2D,0),S(zt)&&y(t.TEXTURE_2D)}n.unbindTexture()}else{let ut=t.TEXTURE_2D;if((ae.isWebGL3DRenderTarget||ae.isWebGLArrayRenderTarget)&&(ut=ae.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(ut,Ke.__webglTexture),Le(ut,$),$.mipmaps&&$.mipmaps.length>0)for(let Pt=0;Pt<$.mipmaps.length;Pt++)ze(De.__webglFramebuffer[Pt],ae,$,t.COLOR_ATTACHMENT0,ut,Pt);else ze(De.__webglFramebuffer,ae,$,t.COLOR_ATTACHMENT0,ut,0);S($)&&y(ut),n.unbindTexture()}ae.depthBuffer&&pt(ae)}function mt(ae){let $=ae.textures;for(let De=0,Ke=$.length;De<Ke;De++){let Ee=$[De];if(S(Ee)){let Be=ae.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Ze=r.get(Ee).__webglTexture;n.bindTexture(Be,Ze),y(Be),n.unbindTexture()}}}let K=[],ye=[];function ge(ae){if(ae.samples>0){if(q(ae)===!1){let $=ae.textures,De=ae.width,Ke=ae.height,Ee=t.COLOR_BUFFER_BIT,Be=ae.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ze=r.get(ae),ut=$.length>1;if(ut)for(let Pt=0;Pt<$.length;Pt++)n.bindFramebuffer(t.FRAMEBUFFER,Ze.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Pt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ze.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Pt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ze.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ze.__webglFramebuffer);for(let Pt=0;Pt<$.length;Pt++){if(ae.resolveDepthBuffer&&(ae.depthBuffer&&(Ee|=t.DEPTH_BUFFER_BIT),ae.stencilBuffer&&ae.resolveStencilBuffer&&(Ee|=t.STENCIL_BUFFER_BIT)),ut){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ze.__webglColorRenderbuffer[Pt]);let zt=r.get($[Pt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,zt,0)}t.blitFramebuffer(0,0,De,Ke,0,0,De,Ke,Ee,t.NEAREST),l===!0&&(K.length=0,ye.length=0,K.push(t.COLOR_ATTACHMENT0+Pt),ae.depthBuffer&&ae.resolveDepthBuffer===!1&&(K.push(Be),ye.push(Be),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,ye)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,K))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),ut)for(let Pt=0;Pt<$.length;Pt++){n.bindFramebuffer(t.FRAMEBUFFER,Ze.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Pt,t.RENDERBUFFER,Ze.__webglColorRenderbuffer[Pt]);let zt=r.get($[Pt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ze.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Pt,t.TEXTURE_2D,zt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ze.__webglMultisampledFramebuffer)}else if(ae.depthBuffer&&ae.resolveDepthBuffer===!1&&l){let $=ae.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[$])}}}function Q(ae){return Math.min(i.maxSamples,ae.samples)}function q(ae){let $=r.get(ae);return ae.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&$.__useRenderToTexture!==!1}function ve(ae){let $=s.render.frame;c.get(ae)!==$&&(c.set(ae,$),ae.update())}function ue(ae,$){let De=ae.colorSpace,Ke=ae.format,Ee=ae.type;return ae.isCompressedTexture===!0||ae.isVideoTexture===!0||De!==Bu&&De!==Tu&&(er.getTransfer(De)===Mr?(Ke!==Bo||Ee!==Il)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",De)),$}function xt(ae){return typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement?(u.width=ae.naturalWidth||ae.width,u.height=ae.naturalHeight||ae.height):typeof VideoFrame<"u"&&ae instanceof VideoFrame?(u.width=ae.displayWidth,u.height=ae.displayHeight):(u.width=ae.width,u.height=ae.height),u}this.allocateTextureUnit=ie,this.resetTextureUnits=j,this.setTexture2D=fe,this.setTexture2DArray=_e,this.setTexture3D=J,this.setTextureCube=te,this.rebindTextures=It,this.setupRenderTarget=Nt,this.updateRenderTargetMipmap=mt,this.updateMultisampleRenderTarget=ge,this.setupDepthRenderbuffer=pt,this.setupFrameBufferTexture=ze,this.useMultisampledRTT=q}function qV(t,e){function n(r,i=Tu){let o,s=er.getTransfer(i);if(r===Il)return t.UNSIGNED_BYTE;if(r===fE)return t.UNSIGNED_SHORT_4_4_4_4;if(r===hE)return t.UNSIGNED_SHORT_5_5_5_1;if(r===j2)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===$2)return t.BYTE;if(r===X2)return t.SHORT;if(r===qd)return t.UNSIGNED_SHORT;if(r===cE)return t.INT;if(r===Du)return t.UNSIGNED_INT;if(r===us)return t.FLOAT;if(r===lm)return t.HALF_FLOAT;if(r===Y2)return t.ALPHA;if(r===q2)return t.RGB;if(r===Bo)return t.RGBA;if(r===Z2)return t.LUMINANCE;if(r===K2)return t.LUMINANCE_ALPHA;if(r===Oh)return t.DEPTH_COMPONENT;if(r===kh)return t.DEPTH_STENCIL;if(r===pE)return t.RED;if(r===py)return t.RED_INTEGER;if(r===J2)return t.RG;if(r===dE)return t.RG_INTEGER;if(r===mE)return t.RGBA_INTEGER;if(r===m0||r===g0||r===v0||r===y0)if(s===Mr)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===m0)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===g0)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===v0)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===y0)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===m0)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===g0)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===v0)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===y0)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===Ew||r===Tw||r===Cw||r===Mw)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===Ew)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===Tw)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===Cw)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===Mw)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===Aw||r===Pw||r===Rw)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===Aw||r===Pw)return s===Mr?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===Rw)return s===Mr?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===Iw||r===Nw||r===Ow||r===Lw||r===Dw||r===kw||r===Fw||r===Uw||r===Bw||r===zw||r===Hw||r===Vw||r===Ww||r===Gw)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===Iw)return s===Mr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===Nw)return s===Mr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===Ow)return s===Mr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Lw)return s===Mr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===Dw)return s===Mr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===kw)return s===Mr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Fw)return s===Mr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Uw)return s===Mr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Bw)return s===Mr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===zw)return s===Mr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Hw)return s===Mr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Vw)return s===Mr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Ww)return s===Mr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Gw)return s===Mr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===x0||r===$w||r===Xw)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===x0)return s===Mr?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===$w)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===Xw)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===Q2||r===jw||r===Yw||r===qw)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===x0)return o.COMPRESSED_RED_RGTC1_EXT;if(r===jw)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Yw)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===qw)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Dh?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}var t1=class extends Mi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},$c=class extends nr{constructor(){super(),this.isGroup=!0,this.type="Group"}},Wde={type:"move"},S0=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new $c,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new $c,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new oe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new oe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new $c,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new oe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new oe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let n=this._hand;if(n)for(let r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,s=null,a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){s=!0;for(let b of e.hand.values()){let S=n.getJointPose(b,r),y=this._getHandJoint(u,b);S!==null&&(y.matrix.fromArray(S.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=S.radius),y.visible=S!==null}let c=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],p=c.position.distanceTo(h.position),d=.02,v=.005;u.inputState.pinching&&p>d+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=d-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Wde)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=o!==null),u!==null&&(u.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){let r=new $c;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}},Gde=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,$de=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`,zN=class{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){let i=new yi,o=e.properties.get(i);o.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){let n=e.cameras[0].viewport,r=new Hs({vertexShader:Gde,fragmentShader:$de,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Qr(new tm(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}},HN=class extends ya{constructor(e,n){super();let r=this,i=null,o=1,s=null,a="local-floor",l=1,u=null,c=null,h=null,p=null,d=null,v=null,b=new zN,S=n.getContextAttributes(),y=null,T=null,E=[],A=[],N=new ct,x=null,D=new Mi;D.layers.enable(1),D.viewport=new lr;let k=new Mi;k.layers.enable(2),k.viewport=new lr;let U=[D,k],L=new t1;L.layers.enable(1),L.layers.enable(2);let j=null,ie=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Ae){let ze=E[Ae];return ze===void 0&&(ze=new S0,E[Ae]=ze),ze.getTargetRaySpace()},this.getControllerGrip=function(Ae){let ze=E[Ae];return ze===void 0&&(ze=new S0,E[Ae]=ze),ze.getGripSpace()},this.getHand=function(Ae){let ze=E[Ae];return ze===void 0&&(ze=new S0,E[Ae]=ze),ze.getHandSpace()};function se(Ae){let ze=A.indexOf(Ae.inputSource);if(ze===-1)return;let je=E[ze];je!==void 0&&(je.update(Ae.inputSource,Ae.frame,u||s),je.dispatchEvent({type:Ae.type,data:Ae.inputSource}))}function fe(){i.removeEventListener("select",se),i.removeEventListener("selectstart",se),i.removeEventListener("selectend",se),i.removeEventListener("squeeze",se),i.removeEventListener("squeezestart",se),i.removeEventListener("squeezeend",se),i.removeEventListener("end",fe),i.removeEventListener("inputsourceschange",_e);for(let Ae=0;Ae<E.length;Ae++){let ze=A[Ae];ze!==null&&(A[Ae]=null,E[Ae].disconnect(ze))}j=null,ie=null,b.reset(),e.setRenderTarget(y),d=null,p=null,h=null,i=null,T=null,ot.stop(),r.isPresenting=!1,e.setPixelRatio(x),e.setSize(N.width,N.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Ae){o=Ae,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Ae){a=Ae,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||s},this.setReferenceSpace=function(Ae){u=Ae},this.getBaseLayer=function(){return p!==null?p:d},this.getBinding=function(){return h},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(Ae){if(i=Ae,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",se),i.addEventListener("selectstart",se),i.addEventListener("selectend",se),i.addEventListener("squeeze",se),i.addEventListener("squeezestart",se),i.addEventListener("squeezeend",se),i.addEventListener("end",fe),i.addEventListener("inputsourceschange",_e),S.xrCompatible!==!0&&await n.makeXRCompatible(),x=e.getPixelRatio(),e.getSize(N),i.renderState.layers===void 0){let ze={antialias:S.antialias,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:o};d=new XRWebGLLayer(i,n,ze),i.updateRenderState({baseLayer:d}),e.setPixelRatio(1),e.setSize(d.framebufferWidth,d.framebufferHeight,!1),T=new Bs(d.framebufferWidth,d.framebufferHeight,{format:Bo,type:Il,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}else{let ze=null,je=null,it=null;S.depth&&(it=S.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ze=S.stencil?kh:Oh,je=S.stencil?Dh:Du);let pt={colorFormat:n.RGBA8,depthFormat:it,scaleFactor:o};h=new XRWebGLBinding(i,n),p=h.createProjectionLayer(pt),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),T=new Bs(p.textureWidth,p.textureHeight,{format:Bo,type:Il,depthTexture:new H0(p.textureWidth,p.textureHeight,je,void 0,void 0,void 0,void 0,void 0,void 0,ze),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1})}T.isXRRenderTarget=!0,this.setFoveation(l),u=null,s=await i.requestReferenceSpace(a),ot.setContext(i),ot.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return b.getDepthTexture()};function _e(Ae){for(let ze=0;ze<Ae.removed.length;ze++){let je=Ae.removed[ze],it=A.indexOf(je);it>=0&&(A[it]=null,E[it].disconnect(je))}for(let ze=0;ze<Ae.added.length;ze++){let je=Ae.added[ze],it=A.indexOf(je);if(it===-1){for(let It=0;It<E.length;It++)if(It>=A.length){A.push(je),it=It;break}else if(A[It]===null){A[It]=je,it=It;break}if(it===-1)break}let pt=E[it];pt&&pt.connect(je)}}let J=new oe,te=new oe;function ne(Ae,ze,je){J.setFromMatrixPosition(ze.matrixWorld),te.setFromMatrixPosition(je.matrixWorld);let it=J.distanceTo(te),pt=ze.projectionMatrix.elements,It=je.projectionMatrix.elements,Nt=pt[14]/(pt[10]-1),mt=pt[14]/(pt[10]+1),K=(pt[9]+1)/pt[5],ye=(pt[9]-1)/pt[5],ge=(pt[8]-1)/pt[0],Q=(It[8]+1)/It[0],q=Nt*ge,ve=Nt*Q,ue=it/(-ge+Q),xt=ue*-ge;if(ze.matrixWorld.decompose(Ae.position,Ae.quaternion,Ae.scale),Ae.translateX(xt),Ae.translateZ(ue),Ae.matrixWorld.compose(Ae.position,Ae.quaternion,Ae.scale),Ae.matrixWorldInverse.copy(Ae.matrixWorld).invert(),pt[10]===-1)Ae.projectionMatrix.copy(ze.projectionMatrix),Ae.projectionMatrixInverse.copy(ze.projectionMatrixInverse);else{let ae=Nt+ue,$=mt+ue,De=q-xt,Ke=ve+(it-xt),Ee=K*mt/$*ae,Be=ye*mt/$*ae;Ae.projectionMatrix.makePerspective(De,Ke,Ee,Be,ae,$),Ae.projectionMatrixInverse.copy(Ae.projectionMatrix).invert()}}function xe(Ae,ze){ze===null?Ae.matrixWorld.copy(Ae.matrix):Ae.matrixWorld.multiplyMatrices(ze.matrixWorld,Ae.matrix),Ae.matrixWorldInverse.copy(Ae.matrixWorld).invert()}this.updateCamera=function(Ae){if(i===null)return;let ze=Ae.near,je=Ae.far;b.texture!==null&&(b.depthNear>0&&(ze=b.depthNear),b.depthFar>0&&(je=b.depthFar)),L.near=k.near=D.near=ze,L.far=k.far=D.far=je,(j!==L.near||ie!==L.far)&&(i.updateRenderState({depthNear:L.near,depthFar:L.far}),j=L.near,ie=L.far);let it=Ae.parent,pt=L.cameras;xe(L,it);for(let It=0;It<pt.length;It++)xe(pt[It],it);pt.length===2?ne(L,D,k):L.projectionMatrix.copy(D.projectionMatrix),Ce(Ae,L,it)};function Ce(Ae,ze,je){je===null?Ae.matrix.copy(ze.matrixWorld):(Ae.matrix.copy(je.matrixWorld),Ae.matrix.invert(),Ae.matrix.multiply(ze.matrixWorld)),Ae.matrix.decompose(Ae.position,Ae.quaternion,Ae.scale),Ae.updateMatrixWorld(!0),Ae.projectionMatrix.copy(ze.projectionMatrix),Ae.projectionMatrixInverse.copy(ze.projectionMatrixInverse),Ae.isPerspectiveCamera&&(Ae.fov=Zd*2*Math.atan(1/Ae.projectionMatrix.elements[5]),Ae.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(p===null&&d===null))return l},this.setFoveation=function(Ae){l=Ae,p!==null&&(p.fixedFoveation=Ae),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=Ae)},this.hasDepthSensing=function(){return b.texture!==null},this.getDepthSensingMesh=function(){return b.getMesh(L)};let Le=null;function rt(Ae,ze){if(c=ze.getViewerPose(u||s),v=ze,c!==null){let je=c.views;d!==null&&(e.setRenderTargetFramebuffer(T,d.framebuffer),e.setRenderTarget(T));let it=!1;je.length!==L.cameras.length&&(L.cameras.length=0,it=!0);for(let It=0;It<je.length;It++){let Nt=je[It],mt=null;if(d!==null)mt=d.getViewport(Nt);else{let ye=h.getViewSubImage(p,Nt);mt=ye.viewport,It===0&&(e.setRenderTargetTextures(T,ye.colorTexture,p.ignoreDepthValues?void 0:ye.depthStencilTexture),e.setRenderTarget(T))}let K=U[It];K===void 0&&(K=new Mi,K.layers.enable(It),K.viewport=new lr,U[It]=K),K.matrix.fromArray(Nt.transform.matrix),K.matrix.decompose(K.position,K.quaternion,K.scale),K.projectionMatrix.fromArray(Nt.projectionMatrix),K.projectionMatrixInverse.copy(K.projectionMatrix).invert(),K.viewport.set(mt.x,mt.y,mt.width,mt.height),It===0&&(L.matrix.copy(K.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),it===!0&&L.cameras.push(K)}let pt=i.enabledFeatures;if(pt&&pt.includes("depth-sensing")){let It=h.getDepthInformation(je[0]);It&&It.isValid&&It.texture&&b.init(e,It,i.renderState)}}for(let je=0;je<E.length;je++){let it=A[je],pt=E[je];it!==null&&pt!==void 0&&pt.update(it,ze,u||s)}Le&&Le(Ae,ze),ze.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ze}),v=null}let ot=new GV;ot.setAnimationLoop(rt),this.setAnimationLoop=function(Ae){Le=Ae},this.dispose=function(){}}},xh=new zs,Xde=new xn;function jde(t,e){function n(S,y){S.matrixAutoUpdate===!0&&S.updateMatrix(),y.value.copy(S.matrix)}function r(S,y){y.color.getRGB(S.fogColor.value,VV(t)),y.isFog?(S.fogNear.value=y.near,S.fogFar.value=y.far):y.isFogExp2&&(S.fogDensity.value=y.density)}function i(S,y,T,E,A){y.isMeshBasicMaterial||y.isMeshLambertMaterial?o(S,y):y.isMeshToonMaterial?(o(S,y),h(S,y)):y.isMeshPhongMaterial?(o(S,y),c(S,y)):y.isMeshStandardMaterial?(o(S,y),p(S,y),y.isMeshPhysicalMaterial&&d(S,y,A)):y.isMeshMatcapMaterial?(o(S,y),v(S,y)):y.isMeshDepthMaterial?o(S,y):y.isMeshDistanceMaterial?(o(S,y),b(S,y)):y.isMeshNormalMaterial?o(S,y):y.isLineBasicMaterial?(s(S,y),y.isLineDashedMaterial&&a(S,y)):y.isPointsMaterial?l(S,y,T,E):y.isSpriteMaterial?u(S,y):y.isShadowMaterial?(S.color.value.copy(y.color),S.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function o(S,y){S.opacity.value=y.opacity,y.color&&S.diffuse.value.copy(y.color),y.emissive&&S.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(S.map.value=y.map,n(y.map,S.mapTransform)),y.alphaMap&&(S.alphaMap.value=y.alphaMap,n(y.alphaMap,S.alphaMapTransform)),y.bumpMap&&(S.bumpMap.value=y.bumpMap,n(y.bumpMap,S.bumpMapTransform),S.bumpScale.value=y.bumpScale,y.side===zo&&(S.bumpScale.value*=-1)),y.normalMap&&(S.normalMap.value=y.normalMap,n(y.normalMap,S.normalMapTransform),S.normalScale.value.copy(y.normalScale),y.side===zo&&S.normalScale.value.negate()),y.displacementMap&&(S.displacementMap.value=y.displacementMap,n(y.displacementMap,S.displacementMapTransform),S.displacementScale.value=y.displacementScale,S.displacementBias.value=y.displacementBias),y.emissiveMap&&(S.emissiveMap.value=y.emissiveMap,n(y.emissiveMap,S.emissiveMapTransform)),y.specularMap&&(S.specularMap.value=y.specularMap,n(y.specularMap,S.specularMapTransform)),y.alphaTest>0&&(S.alphaTest.value=y.alphaTest);let T=e.get(y),E=T.envMap,A=T.envMapRotation;E&&(S.envMap.value=E,xh.copy(A),xh.x*=-1,xh.y*=-1,xh.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(xh.y*=-1,xh.z*=-1),S.envMapRotation.value.setFromMatrix4(Xde.makeRotationFromEuler(xh)),S.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=y.reflectivity,S.ior.value=y.ior,S.refractionRatio.value=y.refractionRatio),y.lightMap&&(S.lightMap.value=y.lightMap,S.lightMapIntensity.value=y.lightMapIntensity,n(y.lightMap,S.lightMapTransform)),y.aoMap&&(S.aoMap.value=y.aoMap,S.aoMapIntensity.value=y.aoMapIntensity,n(y.aoMap,S.aoMapTransform))}function s(S,y){S.diffuse.value.copy(y.color),S.opacity.value=y.opacity,y.map&&(S.map.value=y.map,n(y.map,S.mapTransform))}function a(S,y){S.dashSize.value=y.dashSize,S.totalSize.value=y.dashSize+y.gapSize,S.scale.value=y.scale}function l(S,y,T,E){S.diffuse.value.copy(y.color),S.opacity.value=y.opacity,S.size.value=y.size*T,S.scale.value=E*.5,y.map&&(S.map.value=y.map,n(y.map,S.uvTransform)),y.alphaMap&&(S.alphaMap.value=y.alphaMap,n(y.alphaMap,S.alphaMapTransform)),y.alphaTest>0&&(S.alphaTest.value=y.alphaTest)}function u(S,y){S.diffuse.value.copy(y.color),S.opacity.value=y.opacity,S.rotation.value=y.rotation,y.map&&(S.map.value=y.map,n(y.map,S.mapTransform)),y.alphaMap&&(S.alphaMap.value=y.alphaMap,n(y.alphaMap,S.alphaMapTransform)),y.alphaTest>0&&(S.alphaTest.value=y.alphaTest)}function c(S,y){S.specular.value.copy(y.specular),S.shininess.value=Math.max(y.shininess,1e-4)}function h(S,y){y.gradientMap&&(S.gradientMap.value=y.gradientMap)}function p(S,y){S.metalness.value=y.metalness,y.metalnessMap&&(S.metalnessMap.value=y.metalnessMap,n(y.metalnessMap,S.metalnessMapTransform)),S.roughness.value=y.roughness,y.roughnessMap&&(S.roughnessMap.value=y.roughnessMap,n(y.roughnessMap,S.roughnessMapTransform)),y.envMap&&(S.envMapIntensity.value=y.envMapIntensity)}function d(S,y,T){S.ior.value=y.ior,y.sheen>0&&(S.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),S.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(S.sheenColorMap.value=y.sheenColorMap,n(y.sheenColorMap,S.sheenColorMapTransform)),y.sheenRoughnessMap&&(S.sheenRoughnessMap.value=y.sheenRoughnessMap,n(y.sheenRoughnessMap,S.sheenRoughnessMapTransform))),y.clearcoat>0&&(S.clearcoat.value=y.clearcoat,S.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(S.clearcoatMap.value=y.clearcoatMap,n(y.clearcoatMap,S.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,n(y.clearcoatRoughnessMap,S.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(S.clearcoatNormalMap.value=y.clearcoatNormalMap,n(y.clearcoatNormalMap,S.clearcoatNormalMapTransform),S.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===zo&&S.clearcoatNormalScale.value.negate())),y.dispersion>0&&(S.dispersion.value=y.dispersion),y.iridescence>0&&(S.iridescence.value=y.iridescence,S.iridescenceIOR.value=y.iridescenceIOR,S.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(S.iridescenceMap.value=y.iridescenceMap,n(y.iridescenceMap,S.iridescenceMapTransform)),y.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=y.iridescenceThicknessMap,n(y.iridescenceThicknessMap,S.iridescenceThicknessMapTransform))),y.transmission>0&&(S.transmission.value=y.transmission,S.transmissionSamplerMap.value=T.texture,S.transmissionSamplerSize.value.set(T.width,T.height),y.transmissionMap&&(S.transmissionMap.value=y.transmissionMap,n(y.transmissionMap,S.transmissionMapTransform)),S.thickness.value=y.thickness,y.thicknessMap&&(S.thicknessMap.value=y.thicknessMap,n(y.thicknessMap,S.thicknessMapTransform)),S.attenuationDistance.value=y.attenuationDistance,S.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(S.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(S.anisotropyMap.value=y.anisotropyMap,n(y.anisotropyMap,S.anisotropyMapTransform))),S.specularIntensity.value=y.specularIntensity,S.specularColor.value.copy(y.specularColor),y.specularColorMap&&(S.specularColorMap.value=y.specularColorMap,n(y.specularColorMap,S.specularColorMapTransform)),y.specularIntensityMap&&(S.specularIntensityMap.value=y.specularIntensityMap,n(y.specularIntensityMap,S.specularIntensityMapTransform))}function v(S,y){y.matcap&&(S.matcap.value=y.matcap)}function b(S,y){let T=e.get(y).light;S.referencePosition.value.setFromMatrixPosition(T.matrixWorld),S.nearDistance.value=T.shadow.camera.near,S.farDistance.value=T.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Yde(t,e,n,r){let i={},o={},s=[],a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(T,E){let A=E.program;r.uniformBlockBinding(T,A)}function u(T,E){let A=i[T.id];A===void 0&&(v(T),A=c(T),i[T.id]=A,T.addEventListener("dispose",S));let N=E.program;r.updateUBOMapping(T,N);let x=e.render.frame;o[T.id]!==x&&(p(T),o[T.id]=x)}function c(T){let E=h();T.__bindingPointIndex=E;let A=t.createBuffer(),N=T.__size,x=T.usage;return t.bindBuffer(t.UNIFORM_BUFFER,A),t.bufferData(t.UNIFORM_BUFFER,N,x),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,E,A),A}function h(){for(let T=0;T<a;T++)if(s.indexOf(T)===-1)return s.push(T),T;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(T){let E=i[T.id],A=T.uniforms,N=T.__cache;t.bindBuffer(t.UNIFORM_BUFFER,E);for(let x=0,D=A.length;x<D;x++){let k=Array.isArray(A[x])?A[x]:[A[x]];for(let U=0,L=k.length;U<L;U++){let j=k[U];if(d(j,x,U,N)===!0){let ie=j.__offset,se=Array.isArray(j.value)?j.value:[j.value],fe=0;for(let _e=0;_e<se.length;_e++){let J=se[_e],te=b(J);typeof J=="number"||typeof J=="boolean"?(j.__data[0]=J,t.bufferSubData(t.UNIFORM_BUFFER,ie+fe,j.__data)):J.isMatrix3?(j.__data[0]=J.elements[0],j.__data[1]=J.elements[1],j.__data[2]=J.elements[2],j.__data[3]=0,j.__data[4]=J.elements[3],j.__data[5]=J.elements[4],j.__data[6]=J.elements[5],j.__data[7]=0,j.__data[8]=J.elements[6],j.__data[9]=J.elements[7],j.__data[10]=J.elements[8],j.__data[11]=0):(J.toArray(j.__data,fe),fe+=te.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,ie,j.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function d(T,E,A,N){let x=T.value,D=E+"_"+A;if(N[D]===void 0)return typeof x=="number"||typeof x=="boolean"?N[D]=x:N[D]=x.clone(),!0;{let k=N[D];if(typeof x=="number"||typeof x=="boolean"){if(k!==x)return N[D]=x,!0}else if(k.equals(x)===!1)return k.copy(x),!0}return!1}function v(T){let E=T.uniforms,A=0,N=16;for(let D=0,k=E.length;D<k;D++){let U=Array.isArray(E[D])?E[D]:[E[D]];for(let L=0,j=U.length;L<j;L++){let ie=U[L],se=Array.isArray(ie.value)?ie.value:[ie.value];for(let fe=0,_e=se.length;fe<_e;fe++){let J=se[fe],te=b(J),ne=A%N,xe=ne%te.boundary,Ce=ne+xe;A+=xe,Ce!==0&&N-Ce<te.storage&&(A+=N-Ce),ie.__data=new Float32Array(te.storage/Float32Array.BYTES_PER_ELEMENT),ie.__offset=A,A+=te.storage}}}let x=A%N;return x>0&&(A+=N-x),T.__size=A,T.__cache={},this}function b(T){let E={boundary:0,storage:0};return typeof T=="number"||typeof T=="boolean"?(E.boundary=4,E.storage=4):T.isVector2?(E.boundary=8,E.storage=8):T.isVector3||T.isColor?(E.boundary=16,E.storage=12):T.isVector4?(E.boundary=16,E.storage=16):T.isMatrix3?(E.boundary=48,E.storage=48):T.isMatrix4?(E.boundary=64,E.storage=64):T.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",T),E}function S(T){let E=T.target;E.removeEventListener("dispose",S);let A=s.indexOf(E.__bindingPointIndex);s.splice(A,1),t.deleteBuffer(i[E.id]),delete i[E.id],delete o[E.id]}function y(){for(let T in i)t.deleteBuffer(i[T]);s=[],i={},o={}}return{bind:l,update:u,dispose:y}}var VN=class{constructor(e={}){let{canvas:n=zV(),context:r=null,depth:i=!0,stencil:o=!1,alpha:s=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let p;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=r.getContextAttributes().alpha}else p=s;let d=new Uint32Array(4),v=new Int32Array(4),b=null,S=null,y=[],T=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=da,this.toneMapping=Iu,this.toneMappingExposure=1;let E=this,A=!1,N=0,x=0,D=null,k=-1,U=null,L=new lr,j=new lr,ie=null,se=new Xt(0),fe=0,_e=n.width,J=n.height,te=1,ne=null,xe=null,Ce=new lr(0,0,_e,J),Le=new lr(0,0,_e,J),rt=!1,ot=new Bh,Ae=!1,ze=!1,je=new xn,it=new oe,pt=new lr,It={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0},Nt=!1;function mt(){return D===null?te:1}let K=r;function ye(ee,Re){return n.getContext(ee,Re)}try{let ee={alpha:!0,depth:i,stencil:o,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${lE}`),n.addEventListener("webglcontextlost",et,!1),n.addEventListener("webglcontextrestored",tt,!1),n.addEventListener("webglcontextcreationerror",Ot,!1),K===null){let Re="webgl2";if(K=ye(Re,ee),K===null)throw ye(Re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ee){throw console.error("THREE.WebGLRenderer: "+ee.message),ee}let ge,Q,q,ve,ue,xt,ae,$,De,Ke,Ee,Be,Ze,ut,Pt,zt,Qe,Je,gt,vt,Ct,rn,fn,kn;function we(){ge=new lpe(K),ge.init(),rn=new qV(K,ge),Q=new npe(K,ge,e,rn),q=new kde(K),ve=new fpe(K),ue=new Ede,xt=new Vde(K,ge,q,ue,Q,rn,ve),ae=new ipe(E),$=new ape(E),De=new yce(K),fn=new epe(K,De),Ke=new upe(K,De,ve,fn),Ee=new ppe(K,Ke,De,ve),gt=new hpe(K,Q,xt),zt=new rpe(ue),Be=new wde(E,ae,$,ge,Q,fn,zt),Ze=new jde(E,ue),ut=new Cde,Pt=new Nde(ge),Je=new Qhe(E,ae,$,q,Ee,p,l),Qe=new Dde(E,Ee,Q),kn=new Yde(K,ve,Q,q),vt=new tpe(K,ge,ve),Ct=new cpe(K,ge,ve),ve.programs=Be.programs,E.capabilities=Q,E.extensions=ge,E.properties=ue,E.renderLists=ut,E.shadowMap=Qe,E.state=q,E.info=ve}we();let Et=new HN(E,K);this.xr=Et,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){let ee=ge.get("WEBGL_lose_context");ee&&ee.loseContext()},this.forceContextRestore=function(){let ee=ge.get("WEBGL_lose_context");ee&&ee.restoreContext()},this.getPixelRatio=function(){return te},this.setPixelRatio=function(ee){ee!==void 0&&(te=ee,this.setSize(_e,J,!1))},this.getSize=function(ee){return ee.set(_e,J)},this.setSize=function(ee,Re,Ve=!0){if(Et.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}_e=ee,J=Re,n.width=Math.floor(ee*te),n.height=Math.floor(Re*te),Ve===!0&&(n.style.width=ee+"px",n.style.height=Re+"px"),this.setViewport(0,0,ee,Re)},this.getDrawingBufferSize=function(ee){return ee.set(_e*te,J*te).floor()},this.setDrawingBufferSize=function(ee,Re,Ve){_e=ee,J=Re,te=Ve,n.width=Math.floor(ee*Ve),n.height=Math.floor(Re*Ve),this.setViewport(0,0,ee,Re)},this.getCurrentViewport=function(ee){return ee.copy(L)},this.getViewport=function(ee){return ee.copy(Ce)},this.setViewport=function(ee,Re,Ve,We){ee.isVector4?Ce.set(ee.x,ee.y,ee.z,ee.w):Ce.set(ee,Re,Ve,We),q.viewport(L.copy(Ce).multiplyScalar(te).round())},this.getScissor=function(ee){return ee.copy(Le)},this.setScissor=function(ee,Re,Ve,We){ee.isVector4?Le.set(ee.x,ee.y,ee.z,ee.w):Le.set(ee,Re,Ve,We),q.scissor(j.copy(Le).multiplyScalar(te).round())},this.getScissorTest=function(){return rt},this.setScissorTest=function(ee){q.setScissorTest(rt=ee)},this.setOpaqueSort=function(ee){ne=ee},this.setTransparentSort=function(ee){xe=ee},this.getClearColor=function(ee){return ee.copy(Je.getClearColor())},this.setClearColor=function(){Je.setClearColor.apply(Je,arguments)},this.getClearAlpha=function(){return Je.getClearAlpha()},this.setClearAlpha=function(){Je.setClearAlpha.apply(Je,arguments)},this.clear=function(ee=!0,Re=!0,Ve=!0){let We=0;if(ee){let Oe=!1;if(D!==null){let Tt=D.texture.format;Oe=Tt===mE||Tt===dE||Tt===py}if(Oe){let Tt=D.texture.type,Lt=Tt===Il||Tt===Du||Tt===qd||Tt===Dh||Tt===fE||Tt===hE,jt=Je.getClearColor(),Ht=Je.getClearAlpha(),an=jt.r,dn=jt.g,Kt=jt.b;Lt?(d[0]=an,d[1]=dn,d[2]=Kt,d[3]=Ht,K.clearBufferuiv(K.COLOR,0,d)):(v[0]=an,v[1]=dn,v[2]=Kt,v[3]=Ht,K.clearBufferiv(K.COLOR,0,v))}else We|=K.COLOR_BUFFER_BIT}Re&&(We|=K.DEPTH_BUFFER_BIT),Ve&&(We|=K.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),K.clear(We)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",et,!1),n.removeEventListener("webglcontextrestored",tt,!1),n.removeEventListener("webglcontextcreationerror",Ot,!1),ut.dispose(),Pt.dispose(),ue.dispose(),ae.dispose(),$.dispose(),Ee.dispose(),fn.dispose(),kn.dispose(),Be.dispose(),Et.dispose(),Et.removeEventListener("sessionstart",$r),Et.removeEventListener("sessionend",Kn),Sr.stop()};function et(ee){ee.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function tt(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;let ee=ve.autoReset,Re=Qe.enabled,Ve=Qe.autoUpdate,We=Qe.needsUpdate,Oe=Qe.type;we(),ve.autoReset=ee,Qe.enabled=Re,Qe.autoUpdate=Ve,Qe.needsUpdate=We,Qe.type=Oe}function Ot(ee){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ee.statusMessage)}function Zt(ee){let Re=ee.target;Re.removeEventListener("dispose",Zt),hn(Re)}function hn(ee){Sn(ee),ue.remove(ee)}function Sn(ee){let Re=ue.get(ee).programs;Re!==void 0&&(Re.forEach(function(Ve){Be.releaseProgram(Ve)}),ee.isShaderMaterial&&Be.releaseShaderCache(ee))}this.renderBufferDirect=function(ee,Re,Ve,We,Oe,Tt){Re===null&&(Re=It);let Lt=Oe.isMesh&&Oe.matrixWorld.determinant()<0,jt=ka(ee,Re,Ve,We,Oe);q.setMaterial(We,Lt);let Ht=Ve.index,an=1;if(We.wireframe===!0){if(Ht=Ke.getWireframeAttribute(Ve),Ht===void 0)return;an=2}let dn=Ve.drawRange,Kt=Ve.attributes.position,Mn=dn.start*an,sr=(dn.start+dn.count)*an;Tt!==null&&(Mn=Math.max(Mn,Tt.start*an),sr=Math.min(sr,(Tt.start+Tt.count)*an)),Ht!==null?(Mn=Math.max(Mn,0),sr=Math.min(sr,Ht.count)):Kt!=null&&(Mn=Math.max(Mn,0),sr=Math.min(sr,Kt.count));let Zn=sr-Mn;if(Zn<0||Zn===1/0)return;fn.setup(Oe,We,jt,Ve,Ht);let Ar,Pn=vt;if(Ht!==null&&(Ar=De.get(Ht),Pn=Ct,Pn.setIndex(Ar)),Oe.isMesh)We.wireframe===!0?(q.setLineWidth(We.wireframeLinewidth*mt()),Pn.setMode(K.LINES)):Pn.setMode(K.TRIANGLES);else if(Oe.isLine){let Gt=We.linewidth;Gt===void 0&&(Gt=1),q.setLineWidth(Gt*mt()),Oe.isLineSegments?Pn.setMode(K.LINES):Oe.isLineLoop?Pn.setMode(K.LINE_LOOP):Pn.setMode(K.LINE_STRIP)}else Oe.isPoints?Pn.setMode(K.POINTS):Oe.isSprite&&Pn.setMode(K.TRIANGLES);if(Oe.isBatchedMesh)if(Oe._multiDrawInstances!==null)Pn.renderMultiDrawInstances(Oe._multiDrawStarts,Oe._multiDrawCounts,Oe._multiDrawCount,Oe._multiDrawInstances);else if(ge.get("WEBGL_multi_draw"))Pn.renderMultiDraw(Oe._multiDrawStarts,Oe._multiDrawCounts,Oe._multiDrawCount);else{let Gt=Oe._multiDrawStarts,Rn=Oe._multiDrawCounts,pn=Oe._multiDrawCount,Pr=Ht?De.get(Ht).bytesPerElement:1,Ji=ue.get(We).currentProgram.getUniforms();for(let Jt=0;Jt<pn;Jt++)Ji.setValue(K,"_gl_DrawID",Jt),Pn.render(Gt[Jt]/Pr,Rn[Jt])}else if(Oe.isInstancedMesh)Pn.renderInstances(Mn,Zn,Oe.count);else if(Ve.isInstancedBufferGeometry){let Gt=Ve._maxInstanceCount!==void 0?Ve._maxInstanceCount:1/0,Rn=Math.min(Ve.instanceCount,Gt);Pn.renderInstances(Mn,Zn,Rn)}else Pn.render(Mn,Zn)};function Yn(ee,Re,Ve){ee.transparent===!0&&ee.side===Ml&&ee.forceSinglePass===!1?(ee.side=zo,ee.needsUpdate=!0,_s(ee,Re,Ve),ee.side=Ou,ee.needsUpdate=!0,_s(ee,Re,Ve),ee.side=Ml):_s(ee,Re,Ve)}this.compile=function(ee,Re,Ve=null){Ve===null&&(Ve=ee),S=Pt.get(Ve),S.init(Re),T.push(S),Ve.traverseVisible(function(Oe){Oe.isLight&&Oe.layers.test(Re.layers)&&(S.pushLight(Oe),Oe.castShadow&&S.pushShadow(Oe))}),ee!==Ve&&ee.traverseVisible(function(Oe){Oe.isLight&&Oe.layers.test(Re.layers)&&(S.pushLight(Oe),Oe.castShadow&&S.pushShadow(Oe))}),S.setupLights();let We=new Set;return ee.traverse(function(Oe){let Tt=Oe.material;if(Tt)if(Array.isArray(Tt))for(let Lt=0;Lt<Tt.length;Lt++){let jt=Tt[Lt];Yn(jt,Ve,Oe),We.add(jt)}else Yn(Tt,Ve,Oe),We.add(Tt)}),T.pop(),S=null,We},this.compileAsync=function(ee,Re,Ve=null){let We=this.compile(ee,Re,Ve);return new Promise(Oe=>{function Tt(){if(We.forEach(function(Lt){ue.get(Lt).currentProgram.isReady()&&We.delete(Lt)}),We.size===0){Oe(ee);return}setTimeout(Tt,10)}ge.get("KHR_parallel_shader_compile")!==null?Tt():setTimeout(Tt,10)})};let zn=null;function Di(ee){zn&&zn(ee)}function $r(){Sr.stop()}function Kn(){Sr.start()}let Sr=new GV;Sr.setAnimationLoop(Di),typeof self<"u"&&Sr.setContext(self),this.setAnimationLoop=function(ee){zn=ee,Et.setAnimationLoop(ee),ee===null?Sr.stop():Sr.start()},Et.addEventListener("sessionstart",$r),Et.addEventListener("sessionend",Kn),this.render=function(ee,Re){if(Re!==void 0&&Re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(A===!0)return;if(ee.matrixWorldAutoUpdate===!0&&ee.updateMatrixWorld(),Re.parent===null&&Re.matrixWorldAutoUpdate===!0&&Re.updateMatrixWorld(),Et.enabled===!0&&Et.isPresenting===!0&&(Et.cameraAutoUpdate===!0&&Et.updateCamera(Re),Re=Et.getCamera()),ee.isScene===!0&&ee.onBeforeRender(E,ee,Re,D),S=Pt.get(ee,T.length),S.init(Re),T.push(S),je.multiplyMatrices(Re.projectionMatrix,Re.matrixWorldInverse),ot.setFromProjectionMatrix(je),ze=this.localClippingEnabled,Ae=zt.init(this.clippingPlanes,ze),b=ut.get(ee,y.length),b.init(),y.push(b),Et.enabled===!0&&Et.isPresenting===!0){let Tt=E.xr.getDepthSensingMesh();Tt!==null&&Cn(Tt,Re,-1/0,E.sortObjects)}Cn(ee,Re,0,E.sortObjects),b.finish(),E.sortObjects===!0&&b.sort(ne,xe),Nt=Et.enabled===!1||Et.isPresenting===!1||Et.hasDepthSensing()===!1,Nt&&Je.addToRenderList(b,ee),this.info.render.frame++,Ae===!0&&zt.beginShadows();let Ve=S.state.shadowsArray;Qe.render(Ve,ee,Re),Ae===!0&&zt.endShadows(),this.info.autoReset===!0&&this.info.reset();let We=b.opaque,Oe=b.transmissive;if(S.setupLights(),Re.isArrayCamera){let Tt=Re.cameras;if(Oe.length>0)for(let Lt=0,jt=Tt.length;Lt<jt;Lt++){let Ht=Tt[Lt];pi(We,Oe,ee,Ht)}Nt&&Je.render(ee);for(let Lt=0,jt=Tt.length;Lt<jt;Lt++){let Ht=Tt[Lt];Zo(b,ee,Ht,Ht.viewport)}}else Oe.length>0&&pi(We,Oe,ee,Re),Nt&&Je.render(ee),Zo(b,ee,Re);D!==null&&(xt.updateMultisampleRenderTarget(D),xt.updateRenderTargetMipmap(D)),ee.isScene===!0&&ee.onAfterRender(E,ee,Re),fn.resetDefaultState(),k=-1,U=null,T.pop(),T.length>0?(S=T[T.length-1],Ae===!0&&zt.setGlobalState(E.clippingPlanes,S.state.camera)):S=null,y.pop(),y.length>0?b=y[y.length-1]:b=null};function Cn(ee,Re,Ve,We){if(ee.visible===!1)return;if(ee.layers.test(Re.layers)){if(ee.isGroup)Ve=ee.renderOrder;else if(ee.isLOD)ee.autoUpdate===!0&&ee.update(Re);else if(ee.isLight)S.pushLight(ee),ee.castShadow&&S.pushShadow(ee);else if(ee.isSprite){if(!ee.frustumCulled||ot.intersectsSprite(ee)){We&&pt.setFromMatrixPosition(ee.matrixWorld).applyMatrix4(je);let Lt=Ee.update(ee),jt=ee.material;jt.visible&&b.push(ee,Lt,jt,Ve,pt.z,null)}}else if((ee.isMesh||ee.isLine||ee.isPoints)&&(!ee.frustumCulled||ot.intersectsObject(ee))){let Lt=Ee.update(ee),jt=ee.material;if(We&&(ee.boundingSphere!==void 0?(ee.boundingSphere===null&&ee.computeBoundingSphere(),pt.copy(ee.boundingSphere.center)):(Lt.boundingSphere===null&&Lt.computeBoundingSphere(),pt.copy(Lt.boundingSphere.center)),pt.applyMatrix4(ee.matrixWorld).applyMatrix4(je)),Array.isArray(jt)){let Ht=Lt.groups;for(let an=0,dn=Ht.length;an<dn;an++){let Kt=Ht[an],Mn=jt[Kt.materialIndex];Mn&&Mn.visible&&b.push(ee,Lt,Mn,Ve,pt.z,Kt)}}else jt.visible&&b.push(ee,Lt,jt,Ve,pt.z,null)}}let Tt=ee.children;for(let Lt=0,jt=Tt.length;Lt<jt;Lt++)Cn(Tt[Lt],Re,Ve,We)}function Zo(ee,Re,Ve,We){let Oe=ee.opaque,Tt=ee.transmissive,Lt=ee.transparent;S.setupLightsView(Ve),Ae===!0&&zt.setGlobalState(E.clippingPlanes,Ve),We&&q.viewport(L.copy(We)),Oe.length>0&&Xr(Oe,Re,Ve),Tt.length>0&&Xr(Tt,Re,Ve),Lt.length>0&&Xr(Lt,Re,Ve),q.buffers.depth.setTest(!0),q.buffers.depth.setMask(!0),q.buffers.color.setMask(!0),q.setPolygonOffset(!1)}function pi(ee,Re,Ve,We){if((Ve.isScene===!0?Ve.overrideMaterial:null)!==null)return;S.state.transmissionRenderTarget[We.id]===void 0&&(S.state.transmissionRenderTarget[We.id]=new Bs(1,1,{generateMipmaps:!0,type:ge.has("EXT_color_buffer_half_float")||ge.has("EXT_color_buffer_float")?lm:Il,minFilter:Al,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:er.workingColorSpace}));let Tt=S.state.transmissionRenderTarget[We.id],Lt=We.viewport||L;Tt.setSize(Lt.z,Lt.w);let jt=E.getRenderTarget();E.setRenderTarget(Tt),E.getClearColor(se),fe=E.getClearAlpha(),fe<1&&E.setClearColor(16777215,.5),E.clear(),Nt&&Je.render(Ve);let Ht=E.toneMapping;E.toneMapping=Iu;let an=We.viewport;if(We.viewport!==void 0&&(We.viewport=void 0),S.setupLightsView(We),Ae===!0&&zt.setGlobalState(E.clippingPlanes,We),Xr(ee,Ve,We),xt.updateMultisampleRenderTarget(Tt),xt.updateRenderTargetMipmap(Tt),ge.has("WEBGL_multisampled_render_to_texture")===!1){let dn=!1;for(let Kt=0,Mn=Re.length;Kt<Mn;Kt++){let sr=Re[Kt],Zn=sr.object,Ar=sr.geometry,Pn=sr.material,Gt=sr.group;if(Pn.side===Ml&&Zn.layers.test(We.layers)){let Rn=Pn.side;Pn.side=zo,Pn.needsUpdate=!0,pl(Zn,Ve,We,Ar,Pn,Gt),Pn.side=Rn,Pn.needsUpdate=!0,dn=!0}}dn===!0&&(xt.updateMultisampleRenderTarget(Tt),xt.updateRenderTargetMipmap(Tt))}E.setRenderTarget(jt),E.setClearColor(se,fe),an!==void 0&&(We.viewport=an),E.toneMapping=Ht}function Xr(ee,Re,Ve){let We=Re.isScene===!0?Re.overrideMaterial:null;for(let Oe=0,Tt=ee.length;Oe<Tt;Oe++){let Lt=ee[Oe],jt=Lt.object,Ht=Lt.geometry,an=We===null?Lt.material:We,dn=Lt.group;jt.layers.test(Ve.layers)&&pl(jt,Re,Ve,Ht,an,dn)}}function pl(ee,Re,Ve,We,Oe,Tt){ee.onBeforeRender(E,Re,Ve,We,Oe,Tt),ee.modelViewMatrix.multiplyMatrices(Ve.matrixWorldInverse,ee.matrixWorld),ee.normalMatrix.getNormalMatrix(ee.modelViewMatrix),Oe.onBeforeRender(E,Re,Ve,We,ee,Tt),Oe.transparent===!0&&Oe.side===Ml&&Oe.forceSinglePass===!1?(Oe.side=zo,Oe.needsUpdate=!0,E.renderBufferDirect(Ve,Re,We,Oe,ee,Tt),Oe.side=Ou,Oe.needsUpdate=!0,E.renderBufferDirect(Ve,Re,We,Oe,ee,Tt),Oe.side=Ml):E.renderBufferDirect(Ve,Re,We,Oe,ee,Tt),ee.onAfterRender(E,Re,Ve,We,Oe,Tt)}function _s(ee,Re,Ve){Re.isScene!==!0&&(Re=It);let We=ue.get(ee),Oe=S.state.lights,Tt=S.state.shadowsArray,Lt=Oe.state.version,jt=Be.getParameters(ee,Oe.state,Tt,Re,Ve),Ht=Be.getProgramCacheKey(jt),an=We.programs;We.environment=ee.isMeshStandardMaterial?Re.environment:null,We.fog=Re.fog,We.envMap=(ee.isMeshStandardMaterial?$:ae).get(ee.envMap||We.environment),We.envMapRotation=We.environment!==null&&ee.envMap===null?Re.environmentRotation:ee.envMapRotation,an===void 0&&(ee.addEventListener("dispose",Zt),an=new Map,We.programs=an);let dn=an.get(Ht);if(dn!==void 0){if(We.currentProgram===dn&&We.lightsStateVersion===Lt)return Ao(ee,jt),dn}else jt.uniforms=Be.getUniforms(ee),ee.onBeforeCompile(jt,E),dn=Be.acquireProgram(jt,Ht),an.set(Ht,dn),We.uniforms=jt.uniforms;let Kt=We.uniforms;return(!ee.isShaderMaterial&&!ee.isRawShaderMaterial||ee.clipping===!0)&&(Kt.clippingPlanes=zt.uniform),Ao(ee,jt),We.needsLights=ki(ee),We.lightsStateVersion=Lt,We.needsLights&&(Kt.ambientLightColor.value=Oe.state.ambient,Kt.lightProbe.value=Oe.state.probe,Kt.directionalLights.value=Oe.state.directional,Kt.directionalLightShadows.value=Oe.state.directionalShadow,Kt.spotLights.value=Oe.state.spot,Kt.spotLightShadows.value=Oe.state.spotShadow,Kt.rectAreaLights.value=Oe.state.rectArea,Kt.ltc_1.value=Oe.state.rectAreaLTC1,Kt.ltc_2.value=Oe.state.rectAreaLTC2,Kt.pointLights.value=Oe.state.point,Kt.pointLightShadows.value=Oe.state.pointShadow,Kt.hemisphereLights.value=Oe.state.hemi,Kt.directionalShadowMap.value=Oe.state.directionalShadowMap,Kt.directionalShadowMatrix.value=Oe.state.directionalShadowMatrix,Kt.spotShadowMap.value=Oe.state.spotShadowMap,Kt.spotLightMatrix.value=Oe.state.spotLightMatrix,Kt.spotLightMap.value=Oe.state.spotLightMap,Kt.pointShadowMap.value=Oe.state.pointShadowMap,Kt.pointShadowMatrix.value=Oe.state.pointShadowMatrix),We.currentProgram=dn,We.uniformsList=null,dn}function ta(ee){if(ee.uniformsList===null){let Re=ee.currentProgram.getUniforms();ee.uniformsList=Yd.seqWithValue(Re.seq,ee.uniforms)}return ee.uniformsList}function Ao(ee,Re){let Ve=ue.get(ee);Ve.outputColorSpace=Re.outputColorSpace,Ve.batching=Re.batching,Ve.batchingColor=Re.batchingColor,Ve.instancing=Re.instancing,Ve.instancingColor=Re.instancingColor,Ve.instancingMorph=Re.instancingMorph,Ve.skinning=Re.skinning,Ve.morphTargets=Re.morphTargets,Ve.morphNormals=Re.morphNormals,Ve.morphColors=Re.morphColors,Ve.morphTargetsCount=Re.morphTargetsCount,Ve.numClippingPlanes=Re.numClippingPlanes,Ve.numIntersection=Re.numClipIntersection,Ve.vertexAlphas=Re.vertexAlphas,Ve.vertexTangents=Re.vertexTangents,Ve.toneMapping=Re.toneMapping}function ka(ee,Re,Ve,We,Oe){Re.isScene!==!0&&(Re=It),xt.resetTextureUnits();let Tt=Re.fog,Lt=We.isMeshStandardMaterial?Re.environment:null,jt=D===null?E.outputColorSpace:D.isXRRenderTarget===!0?D.texture.colorSpace:Bu,Ht=(We.isMeshStandardMaterial?$:ae).get(We.envMap||Lt),an=We.vertexColors===!0&&!!Ve.attributes.color&&Ve.attributes.color.itemSize===4,dn=!!Ve.attributes.tangent&&(!!We.normalMap||We.anisotropy>0),Kt=!!Ve.morphAttributes.position,Mn=!!Ve.morphAttributes.normal,sr=!!Ve.morphAttributes.color,Zn=Iu;We.toneMapped&&(D===null||D.isXRRenderTarget===!0)&&(Zn=E.toneMapping);let Ar=Ve.morphAttributes.position||Ve.morphAttributes.normal||Ve.morphAttributes.color,Pn=Ar!==void 0?Ar.length:0,Gt=ue.get(We),Rn=S.state.lights;if(Ae===!0&&(ze===!0||ee!==U)){let ri=ee===U&&We.id===k;zt.setState(We,ee,ri)}let pn=!1;We.version===Gt.__version?(Gt.needsLights&&Gt.lightsStateVersion!==Rn.state.version||Gt.outputColorSpace!==jt||Oe.isBatchedMesh&&Gt.batching===!1||!Oe.isBatchedMesh&&Gt.batching===!0||Oe.isBatchedMesh&&Gt.batchingColor===!0&&Oe.colorTexture===null||Oe.isBatchedMesh&&Gt.batchingColor===!1&&Oe.colorTexture!==null||Oe.isInstancedMesh&&Gt.instancing===!1||!Oe.isInstancedMesh&&Gt.instancing===!0||Oe.isSkinnedMesh&&Gt.skinning===!1||!Oe.isSkinnedMesh&&Gt.skinning===!0||Oe.isInstancedMesh&&Gt.instancingColor===!0&&Oe.instanceColor===null||Oe.isInstancedMesh&&Gt.instancingColor===!1&&Oe.instanceColor!==null||Oe.isInstancedMesh&&Gt.instancingMorph===!0&&Oe.morphTexture===null||Oe.isInstancedMesh&&Gt.instancingMorph===!1&&Oe.morphTexture!==null||Gt.envMap!==Ht||We.fog===!0&&Gt.fog!==Tt||Gt.numClippingPlanes!==void 0&&(Gt.numClippingPlanes!==zt.numPlanes||Gt.numIntersection!==zt.numIntersection)||Gt.vertexAlphas!==an||Gt.vertexTangents!==dn||Gt.morphTargets!==Kt||Gt.morphNormals!==Mn||Gt.morphColors!==sr||Gt.toneMapping!==Zn||Gt.morphTargetsCount!==Pn)&&(pn=!0):(pn=!0,Gt.__version=We.version);let Pr=Gt.currentProgram;pn===!0&&(Pr=_s(We,Re,Oe));let Ji=!1,Jt=!1,na=!1,Jn=Pr.getUniforms(),Fi=Gt.uniforms;if(q.useProgram(Pr.program)&&(Ji=!0,Jt=!0,na=!0),We.id!==k&&(k=We.id,Jt=!0),Ji||U!==ee){Jn.setValue(K,"projectionMatrix",ee.projectionMatrix),Jn.setValue(K,"viewMatrix",ee.matrixWorldInverse);let ri=Jn.map.cameraPosition;ri!==void 0&&ri.setValue(K,it.setFromMatrixPosition(ee.matrixWorld)),Q.logarithmicDepthBuffer&&Jn.setValue(K,"logDepthBufFC",2/(Math.log(ee.far+1)/Math.LN2)),(We.isMeshPhongMaterial||We.isMeshToonMaterial||We.isMeshLambertMaterial||We.isMeshBasicMaterial||We.isMeshStandardMaterial||We.isShaderMaterial)&&Jn.setValue(K,"isOrthographic",ee.isOrthographicCamera===!0),U!==ee&&(U=ee,Jt=!0,na=!0)}if(Oe.isSkinnedMesh){Jn.setOptional(K,Oe,"bindMatrix"),Jn.setOptional(K,Oe,"bindMatrixInverse");let ri=Oe.skeleton;ri&&(ri.boneTexture===null&&ri.computeBoneTexture(),Jn.setValue(K,"boneTexture",ri.boneTexture,xt))}Oe.isBatchedMesh&&(Jn.setOptional(K,Oe,"batchingTexture"),Jn.setValue(K,"batchingTexture",Oe._matricesTexture,xt),Jn.setOptional(K,Oe,"batchingIdTexture"),Jn.setValue(K,"batchingIdTexture",Oe._indirectTexture,xt),Jn.setOptional(K,Oe,"batchingColorTexture"),Oe._colorsTexture!==null&&Jn.setValue(K,"batchingColorTexture",Oe._colorsTexture,xt));let Ei=Ve.morphAttributes;if((Ei.position!==void 0||Ei.normal!==void 0||Ei.color!==void 0)&&gt.update(Oe,Ve,Pr),(Jt||Gt.receiveShadow!==Oe.receiveShadow)&&(Gt.receiveShadow=Oe.receiveShadow,Jn.setValue(K,"receiveShadow",Oe.receiveShadow)),We.isMeshGouraudMaterial&&We.envMap!==null&&(Fi.envMap.value=Ht,Fi.flipEnvMap.value=Ht.isCubeTexture&&Ht.isRenderTargetTexture===!1?-1:1),We.isMeshStandardMaterial&&We.envMap===null&&Re.environment!==null&&(Fi.envMapIntensity.value=Re.environmentIntensity),Jt&&(Jn.setValue(K,"toneMappingExposure",E.toneMappingExposure),Gt.needsLights&&Ss(Fi,na),Tt&&We.fog===!0&&Ze.refreshFogUniforms(Fi,Tt),Ze.refreshMaterialUniforms(Fi,We,te,J,S.state.transmissionRenderTarget[ee.id]),Yd.upload(K,ta(Gt),Fi,xt)),We.isShaderMaterial&&We.uniformsNeedUpdate===!0&&(Yd.upload(K,ta(Gt),Fi,xt),We.uniformsNeedUpdate=!1),We.isSpriteMaterial&&Jn.setValue(K,"center",Oe.center),Jn.setValue(K,"modelViewMatrix",Oe.modelViewMatrix),Jn.setValue(K,"normalMatrix",Oe.normalMatrix),Jn.setValue(K,"modelMatrix",Oe.matrixWorld),We.isShaderMaterial||We.isRawShaderMaterial){let ri=We.uniformsGroups;for(let f=0,m=ri.length;f<m;f++){let _=ri[f];kn.update(_,Pr),kn.bind(_,Pr)}}return Pr}function Ss(ee,Re){ee.ambientLightColor.needsUpdate=Re,ee.lightProbe.needsUpdate=Re,ee.directionalLights.needsUpdate=Re,ee.directionalLightShadows.needsUpdate=Re,ee.pointLights.needsUpdate=Re,ee.pointLightShadows.needsUpdate=Re,ee.spotLights.needsUpdate=Re,ee.spotLightShadows.needsUpdate=Re,ee.rectAreaLights.needsUpdate=Re,ee.hemisphereLights.needsUpdate=Re}function ki(ee){return ee.isMeshLambertMaterial||ee.isMeshToonMaterial||ee.isMeshPhongMaterial||ee.isMeshStandardMaterial||ee.isShadowMaterial||ee.isShaderMaterial&&ee.lights===!0}this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return D},this.setRenderTargetTextures=function(ee,Re,Ve){ue.get(ee.texture).__webglTexture=Re,ue.get(ee.depthTexture).__webglTexture=Ve;let We=ue.get(ee);We.__hasExternalTextures=!0,We.__autoAllocateDepthBuffer=Ve===void 0,We.__autoAllocateDepthBuffer||ge.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),We.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(ee,Re){let Ve=ue.get(ee);Ve.__webglFramebuffer=Re,Ve.__useDefaultFramebuffer=Re===void 0},this.setRenderTarget=function(ee,Re=0,Ve=0){D=ee,N=Re,x=Ve;let We=!0,Oe=null,Tt=!1,Lt=!1;if(ee){let Ht=ue.get(ee);if(Ht.__useDefaultFramebuffer!==void 0)q.bindFramebuffer(K.FRAMEBUFFER,null),We=!1;else if(Ht.__webglFramebuffer===void 0)xt.setupRenderTarget(ee);else if(Ht.__hasExternalTextures)xt.rebindTextures(ee,ue.get(ee.texture).__webglTexture,ue.get(ee.depthTexture).__webglTexture);else if(ee.depthBuffer){let Kt=ee.depthTexture;if(Ht.__boundDepthTexture!==Kt){if(Kt!==null&&ue.has(Kt)&&(ee.width!==Kt.image.width||ee.height!==Kt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");xt.setupDepthRenderbuffer(ee)}}let an=ee.texture;(an.isData3DTexture||an.isDataArrayTexture||an.isCompressedArrayTexture)&&(Lt=!0);let dn=ue.get(ee).__webglFramebuffer;ee.isWebGLCubeRenderTarget?(Array.isArray(dn[Re])?Oe=dn[Re][Ve]:Oe=dn[Re],Tt=!0):ee.samples>0&&xt.useMultisampledRTT(ee)===!1?Oe=ue.get(ee).__webglMultisampledFramebuffer:Array.isArray(dn)?Oe=dn[Ve]:Oe=dn,L.copy(ee.viewport),j.copy(ee.scissor),ie=ee.scissorTest}else L.copy(Ce).multiplyScalar(te).floor(),j.copy(Le).multiplyScalar(te).floor(),ie=rt;if(q.bindFramebuffer(K.FRAMEBUFFER,Oe)&&We&&q.drawBuffers(ee,Oe),q.viewport(L),q.scissor(j),q.setScissorTest(ie),Tt){let Ht=ue.get(ee.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ht.__webglTexture,Ve)}else if(Lt){let Ht=ue.get(ee.texture),an=Re||0;K.framebufferTextureLayer(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,Ht.__webglTexture,Ve||0,an)}k=-1},this.readRenderTargetPixels=function(ee,Re,Ve,We,Oe,Tt,Lt){if(!(ee&&ee.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let jt=ue.get(ee).__webglFramebuffer;if(ee.isWebGLCubeRenderTarget&&Lt!==void 0&&(jt=jt[Lt]),jt){q.bindFramebuffer(K.FRAMEBUFFER,jt);try{let Ht=ee.texture,an=Ht.format,dn=Ht.type;if(!Q.textureFormatReadable(an)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Q.textureTypeReadable(dn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Re>=0&&Re<=ee.width-We&&Ve>=0&&Ve<=ee.height-Oe&&K.readPixels(Re,Ve,We,Oe,rn.convert(an),rn.convert(dn),Tt)}finally{let Ht=D!==null?ue.get(D).__webglFramebuffer:null;q.bindFramebuffer(K.FRAMEBUFFER,Ht)}}},this.readRenderTargetPixelsAsync=async function(ee,Re,Ve,We,Oe,Tt,Lt){if(!(ee&&ee.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let jt=ue.get(ee).__webglFramebuffer;if(ee.isWebGLCubeRenderTarget&&Lt!==void 0&&(jt=jt[Lt]),jt){q.bindFramebuffer(K.FRAMEBUFFER,jt);try{let Ht=ee.texture,an=Ht.format,dn=Ht.type;if(!Q.textureFormatReadable(an))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Q.textureTypeReadable(dn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Re>=0&&Re<=ee.width-We&&Ve>=0&&Ve<=ee.height-Oe){let Kt=K.createBuffer();K.bindBuffer(K.PIXEL_PACK_BUFFER,Kt),K.bufferData(K.PIXEL_PACK_BUFFER,Tt.byteLength,K.STREAM_READ),K.readPixels(Re,Ve,We,Oe,rn.convert(an),rn.convert(dn),0),K.flush();let Mn=K.fenceSync(K.SYNC_GPU_COMMANDS_COMPLETE,0);await Kue(K,Mn,4);try{K.bindBuffer(K.PIXEL_PACK_BUFFER,Kt),K.getBufferSubData(K.PIXEL_PACK_BUFFER,0,Tt)}finally{K.deleteBuffer(Kt),K.deleteSync(Mn)}return Tt}}finally{let Ht=D!==null?ue.get(D).__webglFramebuffer:null;q.bindFramebuffer(K.FRAMEBUFFER,Ht)}}},this.copyFramebufferToTexture=function(ee,Re=null,Ve=0){ee.isTexture!==!0&&(Xd("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Re=arguments[0]||null,ee=arguments[1]);let We=Math.pow(2,-Ve),Oe=Math.floor(ee.image.width*We),Tt=Math.floor(ee.image.height*We),Lt=Re!==null?Re.x:0,jt=Re!==null?Re.y:0;xt.setTexture2D(ee,0),K.copyTexSubImage2D(K.TEXTURE_2D,Ve,0,0,Lt,jt,Oe,Tt),q.unbindTexture()},this.copyTextureToTexture=function(ee,Re,Ve=null,We=null,Oe=0){ee.isTexture!==!0&&(Xd("WebGLRenderer: copyTextureToTexture function signature has changed."),We=arguments[0]||null,ee=arguments[1],Re=arguments[2],Oe=arguments[3]||0,Ve=null);let Tt,Lt,jt,Ht,an,dn;Ve!==null?(Tt=Ve.max.x-Ve.min.x,Lt=Ve.max.y-Ve.min.y,jt=Ve.min.x,Ht=Ve.min.y):(Tt=ee.image.width,Lt=ee.image.height,jt=0,Ht=0),We!==null?(an=We.x,dn=We.y):(an=0,dn=0);let Kt=rn.convert(Re.format),Mn=rn.convert(Re.type);xt.setTexture2D(Re,0),K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,Re.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Re.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,Re.unpackAlignment);let sr=K.getParameter(K.UNPACK_ROW_LENGTH),Zn=K.getParameter(K.UNPACK_IMAGE_HEIGHT),Ar=K.getParameter(K.UNPACK_SKIP_PIXELS),Pn=K.getParameter(K.UNPACK_SKIP_ROWS),Gt=K.getParameter(K.UNPACK_SKIP_IMAGES),Rn=ee.isCompressedTexture?ee.mipmaps[Oe]:ee.image;K.pixelStorei(K.UNPACK_ROW_LENGTH,Rn.width),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,Rn.height),K.pixelStorei(K.UNPACK_SKIP_PIXELS,jt),K.pixelStorei(K.UNPACK_SKIP_ROWS,Ht),ee.isDataTexture?K.texSubImage2D(K.TEXTURE_2D,Oe,an,dn,Tt,Lt,Kt,Mn,Rn.data):ee.isCompressedTexture?K.compressedTexSubImage2D(K.TEXTURE_2D,Oe,an,dn,Rn.width,Rn.height,Kt,Rn.data):K.texSubImage2D(K.TEXTURE_2D,Oe,an,dn,Tt,Lt,Kt,Mn,Rn),K.pixelStorei(K.UNPACK_ROW_LENGTH,sr),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,Zn),K.pixelStorei(K.UNPACK_SKIP_PIXELS,Ar),K.pixelStorei(K.UNPACK_SKIP_ROWS,Pn),K.pixelStorei(K.UNPACK_SKIP_IMAGES,Gt),Oe===0&&Re.generateMipmaps&&K.generateMipmap(K.TEXTURE_2D),q.unbindTexture()},this.copyTextureToTexture3D=function(ee,Re,Ve=null,We=null,Oe=0){ee.isTexture!==!0&&(Xd("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Ve=arguments[0]||null,We=arguments[1]||null,ee=arguments[2],Re=arguments[3],Oe=arguments[4]||0);let Tt,Lt,jt,Ht,an,dn,Kt,Mn,sr,Zn=ee.isCompressedTexture?ee.mipmaps[Oe]:ee.image;Ve!==null?(Tt=Ve.max.x-Ve.min.x,Lt=Ve.max.y-Ve.min.y,jt=Ve.max.z-Ve.min.z,Ht=Ve.min.x,an=Ve.min.y,dn=Ve.min.z):(Tt=Zn.width,Lt=Zn.height,jt=Zn.depth,Ht=0,an=0,dn=0),We!==null?(Kt=We.x,Mn=We.y,sr=We.z):(Kt=0,Mn=0,sr=0);let Ar=rn.convert(Re.format),Pn=rn.convert(Re.type),Gt;if(Re.isData3DTexture)xt.setTexture3D(Re,0),Gt=K.TEXTURE_3D;else if(Re.isDataArrayTexture||Re.isCompressedArrayTexture)xt.setTexture2DArray(Re,0),Gt=K.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,Re.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Re.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,Re.unpackAlignment);let Rn=K.getParameter(K.UNPACK_ROW_LENGTH),pn=K.getParameter(K.UNPACK_IMAGE_HEIGHT),Pr=K.getParameter(K.UNPACK_SKIP_PIXELS),Ji=K.getParameter(K.UNPACK_SKIP_ROWS),Jt=K.getParameter(K.UNPACK_SKIP_IMAGES);K.pixelStorei(K.UNPACK_ROW_LENGTH,Zn.width),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,Zn.height),K.pixelStorei(K.UNPACK_SKIP_PIXELS,Ht),K.pixelStorei(K.UNPACK_SKIP_ROWS,an),K.pixelStorei(K.UNPACK_SKIP_IMAGES,dn),ee.isDataTexture||ee.isData3DTexture?K.texSubImage3D(Gt,Oe,Kt,Mn,sr,Tt,Lt,jt,Ar,Pn,Zn.data):Re.isCompressedArrayTexture?K.compressedTexSubImage3D(Gt,Oe,Kt,Mn,sr,Tt,Lt,jt,Ar,Zn.data):K.texSubImage3D(Gt,Oe,Kt,Mn,sr,Tt,Lt,jt,Ar,Pn,Zn),K.pixelStorei(K.UNPACK_ROW_LENGTH,Rn),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,pn),K.pixelStorei(K.UNPACK_SKIP_PIXELS,Pr),K.pixelStorei(K.UNPACK_SKIP_ROWS,Ji),K.pixelStorei(K.UNPACK_SKIP_IMAGES,Jt),Oe===0&&Re.generateMipmaps&&K.generateMipmap(Gt),q.unbindTexture()},this.initRenderTarget=function(ee){ue.get(ee).__webglFramebuffer===void 0&&xt.setupRenderTarget(ee)},this.initTexture=function(ee){ee.isCubeTexture?xt.setTextureCube(ee,0):ee.isData3DTexture?xt.setTexture3D(ee,0):ee.isDataArrayTexture||ee.isCompressedArrayTexture?xt.setTexture2DArray(ee,0):xt.setTexture2D(ee,0),q.unbindTexture()},this.resetState=function(){N=0,x=0,D=null,q.reset(),fn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Pl}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;let n=this.getContext();n.drawingBufferColorSpace=e===yE?"display-p3":"srgb",n.unpackColorSpace=er.workingColorSpace===dy?"display-p3":"srgb"}},n1=class t{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Xt(e),this.density=n}clone(){return new t(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}},r1=class t{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Xt(e),this.near=n,this.far=r}clone(){return new t(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}},i1=class extends nr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new zs,this.environmentIntensity=1,this.environmentRotation=new zs,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}},jc=class{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=L0,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Us()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Xd("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Us()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Us()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}},ko=new oe,ku=class t{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)ko.fromBufferAttribute(this,n),ko.applyMatrix4(e),this.setXYZ(n,ko.x,ko.y,ko.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ko.fromBufferAttribute(this,n),ko.applyNormalMatrix(e),this.setXYZ(n,ko.x,ko.y,ko.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ko.fromBufferAttribute(this,n),ko.transformDirection(e),this.setXYZ(n,ko.x,ko.y,ko.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Uo(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=On(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=On(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=On(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=On(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=On(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Uo(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Uo(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Uo(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Uo(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=On(n,this.array),r=On(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=On(n,this.array),r=On(r,this.array),i=On(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=On(n,this.array),r=On(r,this.array),i=On(i,this.array),o=On(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let n=[];for(let r=0;r<this.count;r++){let i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new Un(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new t(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let n=[];for(let r=0;r<this.count;r++){let i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}},G0=class extends Xi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Xt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}},Fd,i0=new oe,Ud=new oe,Bd=new oe,zd=new ct,o0=new ct,ZV=new xn,Zb=new oe,s0=new oe,Kb=new oe,KH=new ct,rN=new ct,JH=new ct,o1=class extends nr{constructor(e=new G0){if(super(),this.isSprite=!0,this.type="Sprite",Fd===void 0){Fd=new Tn;let n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new jc(n,5);Fd.setIndex([0,1,2,0,2,3]),Fd.setAttribute("position",new ku(r,3,0,!1)),Fd.setAttribute("uv",new ku(r,2,3,!1))}this.geometry=Fd,this.material=e,this.center=new ct(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ud.setFromMatrixScale(this.matrixWorld),ZV.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Bd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ud.multiplyScalar(-Bd.z);let r=this.material.rotation,i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));let s=this.center;Jb(Zb.set(-.5,-.5,0),Bd,s,Ud,i,o),Jb(s0.set(.5,-.5,0),Bd,s,Ud,i,o),Jb(Kb.set(.5,.5,0),Bd,s,Ud,i,o),KH.set(0,0),rN.set(1,0),JH.set(1,1);let a=e.ray.intersectTriangle(Zb,s0,Kb,!1,i0);if(a===null&&(Jb(s0.set(-.5,.5,0),Bd,s,Ud,i,o),rN.set(0,1),a=e.ray.intersectTriangle(Zb,Kb,s0,!1,i0),a===null))return;let l=e.ray.origin.distanceTo(i0);l<e.near||l>e.far||n.push({distance:l,point:i0.clone(),uv:Au.getInterpolation(i0,Zb,s0,Kb,KH,rN,JH,new ct),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}};function Jb(t,e,n,r,i,o){zd.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(o0.x=o*zd.x-i*zd.y,o0.y=i*zd.x+o*zd.y):o0.copy(zd),t.copy(e),t.x+=o0.x,t.y+=o0.y,t.applyMatrix4(ZV)}var Qb=new oe,QH=new oe,s1=class extends nr{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);let n=e.levels;for(let r=0,i=n.length;r<i;r++){let o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);let i=this.levels,o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){let n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Qb.setFromMatrixPosition(this.matrixWorld);let i=e.ray.origin.distanceTo(Qb);this.getObjectForDistance(i).raycast(e,n)}}update(e){let n=this.levels;if(n.length>1){Qb.setFromMatrixPosition(e.matrixWorld),QH.setFromMatrixPosition(this.matrixWorld);let r=Qb.distanceTo(QH)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),r>=s)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){let n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];let r=this.levels;for(let i=0,o=r.length;i<o;i++){let s=r[i];n.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return n}},e5=new oe,t5=new lr,n5=new lr,qde=new oe,r5=new xn,ew=new oe,iN=new $i,i5=new xn,oN=new Nl,a1=class extends Qr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=bN,this.bindMatrix=new xn,this.bindMatrixInverse=new xn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){let e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ao),this.boundingBox.makeEmpty();let n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,ew),this.boundingBox.expandByPoint(ew)}computeBoundingSphere(){let e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new $i),this.boundingSphere.makeEmpty();let n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,ew),this.boundingSphere.expandByPoint(ew)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){let r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),iN.copy(this.boundingSphere),iN.applyMatrix4(i),e.ray.intersectsSphere(iN)!==!1&&(i5.copy(i).invert(),oN.copy(e.ray).applyMatrix4(i5),!(this.boundingBox!==null&&oN.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,oN)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){let e=new lr,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);let o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===bN?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===TV?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){let r=this.skeleton,i=this.geometry;t5.fromBufferAttribute(i.attributes.skinIndex,e),n5.fromBufferAttribute(i.attributes.skinWeight,e),e5.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){let s=n5.getComponent(o);if(s!==0){let a=t5.getComponent(o);r5.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(qde.copy(e5).applyMatrix4(r5),s)}}return n.applyMatrix4(this.bindMatrixInverse)}},$0=class extends nr{constructor(){super(),this.isBone=!0,this.type="Bone"}},va=class extends yi{constructor(e=null,n=1,r=1,i,o,s,a,l,u=Gi,c=Gi,h,p){super(null,s,a,l,u,c,i,o,h,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},o5=new xn,Zde=new xn,l1=class t{constructor(e=[],n=[]){this.uuid=Us(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){let e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new xn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){let r=new xn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){let r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){let r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){let e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,s=e.length;o<s;o++){let a=e[o]?e[o].matrixWorld:Zde;o5.multiplyMatrices(a,n[o]),o5.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new t(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);let n=new Float32Array(e*e*4);n.set(this.boneMatrices);let r=new va(n,e,e,Bo,us);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){let i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){let o=e.bones[r],s=n[o];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),s=new $0),this.bones.push(s),this.boneInverses.push(new xn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){let e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){let s=n[i];e.bones.push(s.uuid);let a=r[i];e.boneInverses.push(a.toArray())}return e}},Qa=class extends Un{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}},Hd=new xn,s5=new xn,tw=[],a5=new ao,Kde=new xn,a0=new Qr,l0=new $i,u1=class extends Qr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Qa(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Kde)}computeBoundingBox(){let e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new ao),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Hd),a5.copy(e.boundingBox).applyMatrix4(Hd),this.boundingBox.union(a5)}computeBoundingSphere(){let e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new $i),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Hd),l0.copy(e.boundingSphere).applyMatrix4(Hd),this.boundingSphere.union(l0)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){let r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,o=r.length+1,s=e*o+1;for(let a=0;a<r.length;a++)r[a]=i[s+a]}raycast(e,n){let r=this.matrixWorld,i=this.count;if(a0.geometry=this.geometry,a0.material=this.material,a0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),l0.copy(this.boundingSphere),l0.applyMatrix4(r),e.ray.intersectsSphere(l0)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,Hd),s5.multiplyMatrices(r,Hd),a0.matrixWorld=s5,a0.raycast(e,tw);for(let s=0,a=tw.length;s<a;s++){let l=tw[s];l.instanceId=o,l.object=this,n.push(l)}tw.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Qa(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){let r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new va(new Float32Array(i*this.count),i,this.count,pE,us));let o=this.morphTexture.source.data.data,s=0;for(let u=0;u<r.length;u++)s+=r[u];let a=this.geometry.morphTargetsRelative?1:1-s,l=i*e;o[l]=a,o.set(r,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}};function Jde(t,e){return t.z-e.z}function Qde(t,e){return e.z-t.z}var WN=class{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r){let i=this.pool,o=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1,index:-1});let s=i[this.index];o.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=n,s.index=r}reset(){this.list.length=0,this.index=0}},Vc=new xn,sN=new xn,eme=new xn,tme=new Xt(1,1,1),l5=new xn,aN=new Bh,nw=new ao,_h=new $i,u0=new oe,u5=new oe,nme=new oe,lN=new WN,bo=new Qr,rw=[];function rme(t,e,n=0){let r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){let i=t.count;for(let o=0;o<i;o++)for(let s=0;s<r;s++)e.setComponent(o+n,s,t.getComponent(o,s))}else e.array.set(t.array,n*r);e.needsUpdate=!0}var c1=class extends Qr{get maxInstanceCount(){return this._maxInstanceCount}constructor(e,n,r=n*2,i){super(new Tn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawInfo=[],this._drawRanges=[],this._reservedRanges=[],this._bounds=[],this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);let n=new Float32Array(e*e*4),r=new va(n,e,e,Bo,us);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);let n=new Uint32Array(e*e),r=new va(n,e,e,py,Du);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);let n=new Float32Array(e*e*4).fill(1),r=new va(n,e,e,Bo,us);r.colorSpace=er.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){let n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(let o in e.attributes){let s=e.getAttribute(o),{array:a,itemSize:l,normalized:u}=s,c=new a.constructor(r*l),h=new Un(c,l,u);n.setAttribute(o,h)}if(e.getIndex()!==null){let o=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new Un(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){let n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(let r in n.attributes){if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);let i=e.getAttribute(r),o=n.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ao);let e=this.boundingBox,n=this._drawInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;let o=n[r].geometryIndex;this.getMatrixAt(r,Vc),this.getBoundingBoxAt(o,nw).applyMatrix4(Vc),e.union(nw)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $i);let e=this.boundingSphere,n=this._drawInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;let o=n[r].geometryIndex;this.getMatrixAt(r,Vc),this.getBoundingSphereAt(o,_h).applyMatrix4(Vc),e.union(_h)}}addInstance(e){if(this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");this._drawInfo.push({visible:!0,active:!0,geometryIndex:e});let n=this._drawInfo.length-1,r=this._matricesTexture,i=r.image.data;eme.toArray(i,n*16),r.needsUpdate=!0;let o=this._colorsTexture;return o&&(tme.toArray(o.image.data,n*4),o.needsUpdate=!0),n}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");let i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1},o=null,s=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(o=s[s.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,o===null?i.vertexStart=0:i.vertexStart=o.vertexStart+o.vertexCount;let u=e.getIndex(),c=u!==null;if(c&&(r===-1?i.indexCount=u.count:i.indexCount=r,o===null?i.indexStart=0:i.indexStart=o.indexStart+o.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");let h=this._geometryCount;return this._geometryCount++,s.push(i),a.push({start:c?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new ao,sphereInitialized:!1,sphere:new $i}),this.setGeometryAt(h,e),h}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);let r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),s=n.getIndex(),a=this._reservedRanges[e];if(i&&s.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");let l=a.vertexStart,u=a.vertexCount;for(let d in r.attributes){let v=n.getAttribute(d),b=r.getAttribute(d);rme(v,b,l);let S=v.itemSize;for(let y=v.count,T=u;y<T;y++){let E=l+y;for(let A=0;A<S;A++)b.setComponent(E,A,0)}b.needsUpdate=!0,b.addUpdateRange(l*S,u*S)}if(i){let d=a.indexStart;for(let v=0;v<s.count;v++)o.setX(d+v,l+s.getX(v));for(let v=s.count,b=a.indexCount;v<b;v++)o.setX(d+v,l);o.needsUpdate=!0,o.addUpdateRange(d,a.indexCount)}let c=this._bounds[e];n.boundingBox!==null?(c.box.copy(n.boundingBox),c.boxInitialized=!0):c.boxInitialized=!1,n.boundingSphere!==null?(c.sphere.copy(n.boundingSphere),c.sphereInitialized=!0):c.sphereInitialized=!1;let h=this._drawRanges[e],p=n.getAttribute("position");return h.count=i?s.count:p.count,this._visibilityChanged=!0,e}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;let r=this._bounds[e],i=r.box,o=this.geometry;if(r.boxInitialized===!1){i.makeEmpty();let s=o.index,a=o.attributes.position,l=this._drawRanges[e];for(let u=l.start,c=l.start+l.count;u<c;u++){let h=u;s&&(h=s.getX(h)),i.expandByPoint(u0.fromBufferAttribute(a,h))}r.boxInitialized=!0}return n.copy(i),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;let r=this._bounds[e],i=r.sphere,o=this.geometry;if(r.sphereInitialized===!1){i.makeEmpty(),this.getBoundingBoxAt(e,nw),nw.getCenter(i.center);let s=o.index,a=o.attributes.position,l=this._drawRanges[e],u=0;for(let c=l.start,h=l.start+l.count;c<h;c++){let p=c;s&&(p=s.getX(p)),u0.fromBufferAttribute(a,p),u=Math.max(u,i.center.distanceToSquared(u0))}i.radius=Math.sqrt(u),r.sphereInitialized=!0}return n.copy(i),n}setMatrixAt(e,n){let r=this._drawInfo,i=this._matricesTexture,o=this._matricesTexture.image.data;return e>=r.length||r[e].active===!1?this:(n.toArray(o,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){let r=this._drawInfo,i=this._matricesTexture.image.data;return e>=r.length||r[e].active===!1?null:n.fromArray(i,e*16)}setColorAt(e,n){this._colorsTexture===null&&this._initColorsTexture();let r=this._colorsTexture,i=this._colorsTexture.image.data,o=this._drawInfo;return e>=o.length||o[e].active===!1?this:(n.toArray(i,e*4),r.needsUpdate=!0,this)}getColorAt(e,n){let r=this._colorsTexture.image.data,i=this._drawInfo;return e>=i.length||i[e].active===!1?null:n.fromArray(r,e*4)}setVisibleAt(e,n){let r=this._drawInfo;return e>=r.length||r[e].active===!1||r[e].visible===n?this:(r[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){let n=this._drawInfo;return e>=n.length||n[e].active===!1?!1:n[e].visible}raycast(e,n){let r=this._drawInfo,i=this._drawRanges,o=this.matrixWorld,s=this.geometry;bo.material=this.material,bo.geometry.index=s.index,bo.geometry.attributes=s.attributes,bo.geometry.boundingBox===null&&(bo.geometry.boundingBox=new ao),bo.geometry.boundingSphere===null&&(bo.geometry.boundingSphere=new $i);for(let a=0,l=r.length;a<l;a++){if(!r[a].visible||!r[a].active)continue;let u=r[a].geometryIndex,c=i[u];bo.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(a,bo.matrixWorld).premultiply(o),this.getBoundingBoxAt(u,bo.geometry.boundingBox),this.getBoundingSphereAt(u,bo.geometry.boundingSphere),bo.raycast(e,rw);for(let h=0,p=rw.length;h<p;h++){let d=rw[h];d.object=this,d.batchId=a,n.push(d)}rw.length=0}bo.material=null,bo.geometry.index=null,bo.geometry.attributes={},bo.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._drawInfo=e._drawInfo.map(n=>({...n})),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;let s=i.getIndex(),a=s===null?1:s.array.BYTES_PER_ELEMENT,l=this._drawInfo,u=this._multiDrawStarts,c=this._multiDrawCounts,h=this._drawRanges,p=this.perObjectFrustumCulled,d=this._indirectTexture,v=d.image.data;p&&(l5.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),aN.setFromProjectionMatrix(l5,e.coordinateSystem));let b=0;if(this.sortObjects){sN.copy(this.matrixWorld).invert(),u0.setFromMatrixPosition(r.matrixWorld).applyMatrix4(sN),u5.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(sN);for(let T=0,E=l.length;T<E;T++)if(l[T].visible&&l[T].active){let A=l[T].geometryIndex;this.getMatrixAt(T,Vc),this.getBoundingSphereAt(A,_h).applyMatrix4(Vc);let N=!1;if(p&&(N=!aN.intersectsSphere(_h)),!N){let x=nme.subVectors(_h.center,u0).dot(u5);lN.push(h[A],x,T)}}let S=lN.list,y=this.customSort;y===null?S.sort(o.transparent?Qde:Jde):y.call(this,S,r);for(let T=0,E=S.length;T<E;T++){let A=S[T];u[b]=A.start*a,c[b]=A.count,v[b]=A.index,b++}lN.reset()}else for(let S=0,y=l.length;S<y;S++)if(l[S].visible&&l[S].active){let T=l[S].geometryIndex,E=!1;if(p&&(this.getMatrixAt(S,Vc),this.getBoundingSphereAt(T,_h).applyMatrix4(Vc),E=!aN.intersectsSphere(_h)),!E){let A=h[T];u[b]=A.start*a,c[b]=A.count,v[b]=S,b++}}d.needsUpdate=!0,this._multiDrawCount=b,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,o,s){this.onBeforeRender(e,null,i,o,s)}},lo=class extends Xi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Xt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}},f1=new oe,h1=new oe,c5=new xn,c0=new Nl,iw=new $i,uN=new oe,f5=new oe,Ll=class extends nr{constructor(e=new Tn,n=new lo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(e.index===null){let n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)f1.fromBufferAttribute(n,i-1),h1.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=f1.distanceTo(h1);e.setAttribute("lineDistance",new Yt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){let r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),iw.copy(r.boundingSphere),iw.applyMatrix4(i),iw.radius+=o,e.ray.intersectsSphere(iw)===!1)return;c5.copy(i).invert(),c0.copy(e.ray).applyMatrix4(c5);let a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=this.isLineSegments?2:1,c=r.index,p=r.attributes.position;if(c!==null){let d=Math.max(0,s.start),v=Math.min(c.count,s.start+s.count);for(let b=d,S=v-1;b<S;b+=u){let y=c.getX(b),T=c.getX(b+1),E=ow(this,e,c0,l,y,T);E&&n.push(E)}if(this.isLineLoop){let b=c.getX(v-1),S=c.getX(d),y=ow(this,e,c0,l,b,S);y&&n.push(y)}}else{let d=Math.max(0,s.start),v=Math.min(p.count,s.start+s.count);for(let b=d,S=v-1;b<S;b+=u){let y=ow(this,e,c0,l,b,b+1);y&&n.push(y)}if(this.isLineLoop){let b=ow(this,e,c0,l,v-1,d);b&&n.push(b)}}}updateMorphTargets(){let n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){let i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){let a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}};function ow(t,e,n,r,i,o){let s=t.geometry.attributes.position;if(f1.fromBufferAttribute(s,i),h1.fromBufferAttribute(s,o),n.distanceSqToSegment(f1,h1,uN,f5)>r)return;uN.applyMatrix4(t.matrixWorld);let l=e.ray.origin.distanceTo(uN);if(!(l<e.near||l>e.far))return{distance:l,point:f5.clone().applyMatrix4(t.matrixWorld),index:i,face:null,faceIndex:null,object:t}}var h5=new oe,p5=new oe,xa=class extends Ll{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(e.index===null){let n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)h5.fromBufferAttribute(n,i),p5.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+h5.distanceTo(p5);e.setAttribute("lineDistance",new Yt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},p1=class extends Ll{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}},X0=class extends Xi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Xt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}},d5=new xn,GN=new Nl,sw=new $i,aw=new oe,d1=class extends nr{constructor(e=new Tn,n=new X0){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){let r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),sw.copy(r.boundingSphere),sw.applyMatrix4(i),sw.radius+=o,e.ray.intersectsSphere(sw)===!1)return;d5.copy(i).invert(),GN.copy(e.ray).applyMatrix4(d5);let a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,h=r.attributes.position;if(u!==null){let p=Math.max(0,s.start),d=Math.min(u.count,s.start+s.count);for(let v=p,b=d;v<b;v++){let S=u.getX(v);aw.fromBufferAttribute(h,S),m5(aw,S,l,i,e,n,this)}}else{let p=Math.max(0,s.start),d=Math.min(h.count,s.start+s.count);for(let v=p,b=d;v<b;v++)aw.fromBufferAttribute(h,v),m5(aw,v,l,i,e,n,this)}}updateMorphTargets(){let n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){let i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){let a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}};function m5(t,e,n,r,i,o,s){let a=GN.distanceSqToPoint(t);if(a<n){let l=new oe;GN.closestPointToPoint(t,l),l.applyMatrix4(r);let u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;o.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:s})}}var $N=class extends yi{constructor(e,n,r,i,o,s,a,l,u){super(e,n,r,i,o,s,a,l,u),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:vi,this.magFilter=o!==void 0?o:vi,this.generateMipmaps=!1;let c=this;function h(){c.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},XN=class extends yi{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Gi,this.minFilter=Gi,this.generateMipmaps=!1,this.needsUpdate=!0}},rm=class extends yi{constructor(e,n,r,i,o,s,a,l,u,c,h,p){super(null,s,a,l,u,c,i,o,h,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}},jN=class extends rm{constructor(e,n,r,i,o,s){super(e,n,r,o,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=ga,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}},YN=class extends rm{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Lu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}},qN=class extends yi{constructor(e,n,r,i,o,s,a,l,u){super(e,n,r,i,o,s,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}},Vs=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){let r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){let n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){let n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let n=[],r,i=this.getPoint(0),o=0;n.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){let r=this.getLengths(),i=0,o=r.length,s;n?s=n:s=e*r[o-1];let a=0,l=o-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-s,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(o-1);let c=r[i],p=r[i+1]-c,d=(s-c)/p;return(i+d)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);let s=this.getPoint(i),a=this.getPoint(o),l=n||(s.isVector2?new ct:new oe);return l.copy(a).sub(s).normalize(),l}getTangentAt(e,n){let r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){let r=new oe,i=[],o=[],s=[],a=new oe,l=new xn;for(let d=0;d<=e;d++){let v=d/e;i[d]=this.getTangentAt(v,new oe)}o[0]=new oe,s[0]=new oe;let u=Number.MAX_VALUE,c=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),h<=u&&(u=h,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],a),s[0].crossVectors(i[0],o[0]);for(let d=1;d<=e;d++){if(o[d]=o[d-1].clone(),s[d]=s[d-1].clone(),a.crossVectors(i[d-1],i[d]),a.length()>Number.EPSILON){a.normalize();let v=Math.acos(Jr(i[d-1].dot(i[d]),-1,1));o[d].applyMatrix4(l.makeRotationAxis(a,v))}s[d].crossVectors(i[d],o[d])}if(n===!0){let d=Math.acos(Jr(o[0].dot(o[e]),-1,1));d/=e,i[0].dot(a.crossVectors(o[0],o[e]))>0&&(d=-d);for(let v=1;v<=e;v++)o[v].applyMatrix4(l.makeRotationAxis(i[v],d*v)),s[v].crossVectors(i[v],o[v])}return{tangents:i,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},im=class extends Vs{constructor(e=0,n=0,r=1,i=1,o=0,s=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new ct){let r=n,i=Math.PI*2,o=this.aEndAngle-this.aStartAngle,s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(s?o=0:o=i),this.aClockwise===!0&&!s&&(o===i?o=-i:o=o-i);let a=this.aStartAngle+e*o,l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){let c=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,d=u-this.aY;l=p*c-d*h+this.aX,u=p*h+d*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},m1=class extends im{constructor(e,n,r,i,o,s){super(e,n,r,r,i,o,s),this.isArcCurve=!0,this.type="ArcCurve"}};function aO(){let t=0,e=0,n=0,r=0;function i(o,s,a,l){t=o,e=a,n=-3*o+3*s-2*a-l,r=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,u){i(s,a,u*(a-o),u*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,u,c,h){let p=(s-o)/u-(a-o)/(u+c)+(a-s)/c,d=(a-s)/c-(l-s)/(c+h)+(l-a)/h;p*=c,d*=c,i(s,a,p,d)},calc:function(o){let s=o*o,a=s*o;return t+e*o+n*s+r*a}}}var lw=new oe,cN=new aO,fN=new aO,hN=new aO,g1=class extends Vs{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new oe){let r=n,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e,a=Math.floor(s),l=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:l===0&&a===o-1&&(a=o-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%o]:(lw.subVectors(i[0],i[1]).add(i[0]),u=lw);let h=i[a%o],p=i[(a+1)%o];if(this.closed||a+2<o?c=i[(a+2)%o]:(lw.subVectors(i[o-1],i[o-2]).add(i[o-1]),c=lw),this.curveType==="centripetal"||this.curveType==="chordal"){let d=this.curveType==="chordal"?.5:.25,v=Math.pow(u.distanceToSquared(h),d),b=Math.pow(h.distanceToSquared(p),d),S=Math.pow(p.distanceToSquared(c),d);b<1e-4&&(b=1),v<1e-4&&(v=b),S<1e-4&&(S=b),cN.initNonuniformCatmullRom(u.x,h.x,p.x,c.x,v,b,S),fN.initNonuniformCatmullRom(u.y,h.y,p.y,c.y,v,b,S),hN.initNonuniformCatmullRom(u.z,h.z,p.z,c.z,v,b,S)}else this.curveType==="catmullrom"&&(cN.initCatmullRom(u.x,h.x,p.x,c.x,this.tension),fN.initCatmullRom(u.y,h.y,p.y,c.y,this.tension),hN.initCatmullRom(u.z,h.z,p.z,c.z,this.tension));return r.set(cN.calc(l),fN.calc(l),hN.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){let i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){let i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){let i=e.points[n];this.points.push(new oe().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}};function g5(t,e,n,r,i){let o=(r-e)*.5,s=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+o+s)*l+(-3*n+3*r-2*o-s)*a+o*t+n}function ime(t,e){let n=1-t;return n*n*e}function ome(t,e){return 2*(1-t)*t*e}function sme(t,e){return t*t*e}function b0(t,e,n,r){return ime(t,e)+ome(t,n)+sme(t,r)}function ame(t,e){let n=1-t;return n*n*n*e}function lme(t,e){let n=1-t;return 3*n*n*t*e}function ume(t,e){return 3*(1-t)*t*t*e}function cme(t,e){return t*t*t*e}function w0(t,e,n,r,i){return ame(t,e)+lme(t,n)+ume(t,r)+cme(t,i)}var j0=class extends Vs{constructor(e=new ct,n=new ct,r=new ct,i=new ct){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ct){let r=n,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(w0(e,i.x,o.x,s.x,a.x),w0(e,i.y,o.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},v1=class extends Vs{constructor(e=new oe,n=new oe,r=new oe,i=new oe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new oe){let r=n,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(w0(e,i.x,o.x,s.x,a.x),w0(e,i.y,o.y,s.y,a.y),w0(e,i.z,o.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},Y0=class extends Vs{constructor(e=new ct,n=new ct){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ct){let r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ct){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},y1=class extends Vs{constructor(e=new oe,n=new oe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new oe){let r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new oe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},q0=class extends Vs{constructor(e=new ct,n=new ct,r=new ct){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ct){let r=n,i=this.v0,o=this.v1,s=this.v2;return r.set(b0(e,i.x,o.x,s.x),b0(e,i.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Z0=class extends Vs{constructor(e=new oe,n=new oe,r=new oe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new oe){let r=n,i=this.v0,o=this.v1,s=this.v2;return r.set(b0(e,i.x,o.x,s.x),b0(e,i.y,o.y,s.y),b0(e,i.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},K0=class extends Vs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ct){let r=n,i=this.points,o=(i.length-1)*e,s=Math.floor(o),a=o-s,l=i[s===0?s:s-1],u=i[s],c=i[s>i.length-2?i.length-1:s+1],h=i[s>i.length-3?i.length-1:s+2];return r.set(g5(a,l.x,u.x,c.x,h.x),g5(a,l.y,u.y,c.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){let i=e.points[n];this.points.push(i.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){let i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){let i=e.points[n];this.points.push(new ct().fromArray(i))}return this}},x1=Object.freeze({__proto__:null,ArcCurve:m1,CatmullRomCurve3:g1,CubicBezierCurve:j0,CubicBezierCurve3:v1,EllipseCurve:im,LineCurve:Y0,LineCurve3:y1,QuadraticBezierCurve:q0,QuadraticBezierCurve3:Z0,SplineCurve:K0}),_1=class extends Vs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){let r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new x1[r](n,e))}return this}getPoint(e,n){let r=e*this.getLength(),i=this.getCurveLengths(),o=0;for(;o<i.length;){if(i[o]>=r){let s=i[o]-r,a=this.curves[o],l=a.getLength(),u=l===0?0:1-s/l;return a.getPointAt(u,n)}o++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){let n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){let n=[],r;for(let i=0,o=this.curves;i<o.length;i++){let s=o[i],a=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(a);for(let u=0;u<l.length;u++){let c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){let i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){let i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){let i=e.curves[n];this.curves.push(new x1[i.type]().fromJSON(i))}return this}},zh=class extends _1{constructor(e){super(),this.type="Path",this.currentPoint=new ct,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){let r=new Y0(this.currentPoint.clone(),new ct(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){let o=new q0(this.currentPoint.clone(),new ct(e,n),new ct(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,s){let a=new j0(this.currentPoint.clone(),new ct(e,n),new ct(r,i),new ct(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(e){let n=[this.currentPoint.clone()].concat(e),r=new K0(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,s){let a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,o,s),this}absarc(e,n,r,i,o,s){return this.absellipse(e,n,r,r,i,o,s),this}ellipse(e,n,r,i,o,s,a,l){let u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,o,s,a,l),this}absellipse(e,n,r,i,o,s,a,l){let u=new im(e,n,r,i,o,s,a,l);if(this.curves.length>0){let h=u.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(u);let c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},J0=class t extends Tn{constructor(e=[new ct(0,-.5),new ct(.5,0),new ct(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Jr(i,0,Math.PI*2);let o=[],s=[],a=[],l=[],u=[],c=1/n,h=new oe,p=new ct,d=new oe,v=new oe,b=new oe,S=0,y=0;for(let T=0;T<=e.length-1;T++)switch(T){case 0:S=e[T+1].x-e[T].x,y=e[T+1].y-e[T].y,d.x=y*1,d.y=-S,d.z=y*0,b.copy(d),d.normalize(),l.push(d.x,d.y,d.z);break;case e.length-1:l.push(b.x,b.y,b.z);break;default:S=e[T+1].x-e[T].x,y=e[T+1].y-e[T].y,d.x=y*1,d.y=-S,d.z=y*0,v.copy(d),d.x+=b.x,d.y+=b.y,d.z+=b.z,d.normalize(),l.push(d.x,d.y,d.z),b.copy(v)}for(let T=0;T<=n;T++){let E=r+T*c*i,A=Math.sin(E),N=Math.cos(E);for(let x=0;x<=e.length-1;x++){h.x=e[x].x*A,h.y=e[x].y,h.z=e[x].x*N,s.push(h.x,h.y,h.z),p.x=T/n,p.y=x/(e.length-1),a.push(p.x,p.y);let D=l[3*x+0]*A,k=l[3*x+1],U=l[3*x+0]*N;u.push(D,k,U)}}for(let T=0;T<n;T++)for(let E=0;E<e.length-1;E++){let A=E+T*e.length,N=A,x=A+e.length,D=A+e.length+1,k=A+1;o.push(N,x,k),o.push(D,k,x)}this.setIndex(o),this.setAttribute("position",new Yt(s,3)),this.setAttribute("uv",new Yt(a,2)),this.setAttribute("normal",new Yt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t(e.points,e.segments,e.phiStart,e.phiLength)}},S1=class t extends J0{constructor(e=1,n=1,r=4,i=8){let o=new zh;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new t(e.radius,e.length,e.capSegments,e.radialSegments)}},b1=class t extends Tn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);let o=[],s=[],a=[],l=[],u=new oe,c=new ct;s.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=n;h++,p+=3){let d=r+h/n*i;u.x=e*Math.cos(d),u.y=e*Math.sin(d),s.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(s[p]/e+1)/2,c.y=(s[p+1]/e+1)/2,l.push(c.x,c.y)}for(let h=1;h<=n;h++)o.push(h,h+1,0);this.setIndex(o),this.setAttribute("position",new Yt(s,3)),this.setAttribute("normal",new Yt(a,3)),this.setAttribute("uv",new Yt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t(e.radius,e.segments,e.thetaStart,e.thetaLength)}},om=class t extends Tn{constructor(e=1,n=1,r=1,i=32,o=1,s=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};let u=this;i=Math.floor(i),o=Math.floor(o);let c=[],h=[],p=[],d=[],v=0,b=[],S=r/2,y=0;T(),s===!1&&(e>0&&E(!0),n>0&&E(!1)),this.setIndex(c),this.setAttribute("position",new Yt(h,3)),this.setAttribute("normal",new Yt(p,3)),this.setAttribute("uv",new Yt(d,2));function T(){let A=new oe,N=new oe,x=0,D=(n-e)/r;for(let k=0;k<=o;k++){let U=[],L=k/o,j=L*(n-e)+e;for(let ie=0;ie<=i;ie++){let se=ie/i,fe=se*l+a,_e=Math.sin(fe),J=Math.cos(fe);N.x=j*_e,N.y=-L*r+S,N.z=j*J,h.push(N.x,N.y,N.z),A.set(_e,D,J).normalize(),p.push(A.x,A.y,A.z),d.push(se,1-L),U.push(v++)}b.push(U)}for(let k=0;k<i;k++)for(let U=0;U<o;U++){let L=b[U][k],j=b[U+1][k],ie=b[U+1][k+1],se=b[U][k+1];c.push(L,j,se),c.push(j,ie,se),x+=6}u.addGroup(y,x,0),y+=x}function E(A){let N=v,x=new ct,D=new oe,k=0,U=A===!0?e:n,L=A===!0?1:-1;for(let ie=1;ie<=i;ie++)h.push(0,S*L,0),p.push(0,L,0),d.push(.5,.5),v++;let j=v;for(let ie=0;ie<=i;ie++){let fe=ie/i*l+a,_e=Math.cos(fe),J=Math.sin(fe);D.x=U*J,D.y=S*L,D.z=U*_e,h.push(D.x,D.y,D.z),p.push(0,L,0),x.x=_e*.5+.5,x.y=J*.5*L+.5,d.push(x.x,x.y),v++}for(let ie=0;ie<i;ie++){let se=N+ie,fe=j+ie;A===!0?c.push(fe,fe+1,se):c.push(fe+1,fe,se),k+=3}u.addGroup(y,k,A===!0?1:2),y+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},w1=class t extends om{constructor(e=1,n=1,r=32,i=1,o=!1,s=0,a=Math.PI*2){super(0,e,n,r,i,o,s,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a}}static fromJSON(e){return new t(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},Yc=class t extends Tn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};let o=[],s=[];a(i),u(r),c(),this.setAttribute("position",new Yt(o,3)),this.setAttribute("normal",new Yt(o.slice(),3)),this.setAttribute("uv",new Yt(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(T){let E=new oe,A=new oe,N=new oe;for(let x=0;x<n.length;x+=3)d(n[x+0],E),d(n[x+1],A),d(n[x+2],N),l(E,A,N,T)}function l(T,E,A,N){let x=N+1,D=[];for(let k=0;k<=x;k++){D[k]=[];let U=T.clone().lerp(A,k/x),L=E.clone().lerp(A,k/x),j=x-k;for(let ie=0;ie<=j;ie++)ie===0&&k===x?D[k][ie]=U:D[k][ie]=U.clone().lerp(L,ie/j)}for(let k=0;k<x;k++)for(let U=0;U<2*(x-k)-1;U++){let L=Math.floor(U/2);U%2===0?(p(D[k][L+1]),p(D[k+1][L]),p(D[k][L])):(p(D[k][L+1]),p(D[k+1][L+1]),p(D[k+1][L]))}}function u(T){let E=new oe;for(let A=0;A<o.length;A+=3)E.x=o[A+0],E.y=o[A+1],E.z=o[A+2],E.normalize().multiplyScalar(T),o[A+0]=E.x,o[A+1]=E.y,o[A+2]=E.z}function c(){let T=new oe;for(let E=0;E<o.length;E+=3){T.x=o[E+0],T.y=o[E+1],T.z=o[E+2];let A=S(T)/2/Math.PI+.5,N=y(T)/Math.PI+.5;s.push(A,1-N)}v(),h()}function h(){for(let T=0;T<s.length;T+=6){let E=s[T+0],A=s[T+2],N=s[T+4],x=Math.max(E,A,N),D=Math.min(E,A,N);x>.9&&D<.1&&(E<.2&&(s[T+0]+=1),A<.2&&(s[T+2]+=1),N<.2&&(s[T+4]+=1))}}function p(T){o.push(T.x,T.y,T.z)}function d(T,E){let A=T*3;E.x=e[A+0],E.y=e[A+1],E.z=e[A+2]}function v(){let T=new oe,E=new oe,A=new oe,N=new oe,x=new ct,D=new ct,k=new ct;for(let U=0,L=0;U<o.length;U+=9,L+=6){T.set(o[U+0],o[U+1],o[U+2]),E.set(o[U+3],o[U+4],o[U+5]),A.set(o[U+6],o[U+7],o[U+8]),x.set(s[L+0],s[L+1]),D.set(s[L+2],s[L+3]),k.set(s[L+4],s[L+5]),N.copy(T).add(E).add(A).divideScalar(3);let j=S(N);b(x,L+0,T,j),b(D,L+2,E,j),b(k,L+4,A,j)}}function b(T,E,A,N){N<0&&T.x===1&&(s[E]=T.x-1),A.x===0&&A.z===0&&(s[E]=N/2/Math.PI+.5)}function S(T){return Math.atan2(T.z,-T.x)}function y(T){return Math.atan2(-T.y,Math.sqrt(T.x*T.x+T.z*T.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t(e.vertices,e.indices,e.radius,e.details)}},E1=class t extends Yc{constructor(e=1,n=0){let r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,s,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new t(e.radius,e.detail)}},uw=new oe,cw=new oe,pN=new oe,fw=new Au,T1=class extends Tn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){let i=Math.pow(10,4),o=Math.cos(Lh*n),s=e.getIndex(),a=e.getAttribute("position"),l=s?s.count:a.count,u=[0,0,0],c=["a","b","c"],h=new Array(3),p={},d=[];for(let v=0;v<l;v+=3){s?(u[0]=s.getX(v),u[1]=s.getX(v+1),u[2]=s.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);let{a:b,b:S,c:y}=fw;if(b.fromBufferAttribute(a,u[0]),S.fromBufferAttribute(a,u[1]),y.fromBufferAttribute(a,u[2]),fw.getNormal(pN),h[0]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,h[1]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,h[2]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let T=0;T<3;T++){let E=(T+1)%3,A=h[T],N=h[E],x=fw[c[T]],D=fw[c[E]],k=`${A}_${N}`,U=`${N}_${A}`;U in p&&p[U]?(pN.dot(p[U].normal)<=o&&(d.push(x.x,x.y,x.z),d.push(D.x,D.y,D.z)),p[U]=null):k in p||(p[k]={index0:u[T],index1:u[E],normal:pN.clone()})}}for(let v in p)if(p[v]){let{index0:b,index1:S}=p[v];uw.fromBufferAttribute(a,b),cw.fromBufferAttribute(a,S),d.push(uw.x,uw.y,uw.z),d.push(cw.x,cw.y,cw.z)}this.setAttribute("position",new Yt(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}},Nu=class extends zh{constructor(e){super(e),this.uuid=Us(),this.type="Shape",this.holes=[]}getPointsHoles(e){let n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){let i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){let i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){let i=e.holes[n];this.holes.push(new zh().fromJSON(i))}return this}},fme={triangulate:function(t,e,n=2){let r=e&&e.length,i=r?e[0]*n:t.length,o=KV(t,0,i,n,!0),s=[];if(!o||o.next===o.prev)return s;let a,l,u,c,h,p,d;if(r&&(o=gme(t,e,o,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(let v=n;v<i;v+=n)h=t[v],p=t[v+1],h<a&&(a=h),p<l&&(l=p),h>u&&(u=h),p>c&&(c=p);d=Math.max(u-a,c-l),d=d!==0?32767/d:0}return Q0(o,s,n,a,l,d,0),s}};function KV(t,e,n,r,i){let o,s;if(i===Mme(t,e,n,r)>0)for(o=e;o<n;o+=r)s=v5(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=v5(o,t[o],t[o+1],s);return s&&_E(s,s.next)&&(ty(s),s=s.next),s}function Hh(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(_E(n,n.next)||Vr(n.prev,n,n.next)===0)){if(ty(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Q0(t,e,n,r,i,o,s){if(!t)return;!s&&o&&Sme(t,r,i,o);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,o?pme(t,r,i,o):hme(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),ty(t),t=u.next,a=u.next;continue}if(t=u,t===a){s?s===1?(t=dme(Hh(t),e,n),Q0(t,e,n,r,i,o,2)):s===2&&mme(t,e,n,r,i,o):Q0(Hh(t),e,n,r,i,o,1);break}}}function hme(t){let e=t.prev,n=t,r=t.next;if(Vr(e,n,r)>=0)return!1;let i=e.x,o=n.x,s=r.x,a=e.y,l=n.y,u=r.y,c=i<o?i<s?i:s:o<s?o:s,h=a<l?a<u?a:u:l<u?l:u,p=i>o?i>s?i:s:o>s?o:s,d=a>l?a>u?a:u:l>u?l:u,v=r.next;for(;v!==e;){if(v.x>=c&&v.x<=p&&v.y>=h&&v.y<=d&&$d(i,a,o,l,s,u,v.x,v.y)&&Vr(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function pme(t,e,n,r){let i=t.prev,o=t,s=t.next;if(Vr(i,o,s)>=0)return!1;let a=i.x,l=o.x,u=s.x,c=i.y,h=o.y,p=s.y,d=a<l?a<u?a:u:l<u?l:u,v=c<h?c<p?c:p:h<p?h:p,b=a>l?a>u?a:u:l>u?l:u,S=c>h?c>p?c:p:h>p?h:p,y=ZN(d,v,e,n,r),T=ZN(b,S,e,n,r),E=t.prevZ,A=t.nextZ;for(;E&&E.z>=y&&A&&A.z<=T;){if(E.x>=d&&E.x<=b&&E.y>=v&&E.y<=S&&E!==i&&E!==s&&$d(a,c,l,h,u,p,E.x,E.y)&&Vr(E.prev,E,E.next)>=0||(E=E.prevZ,A.x>=d&&A.x<=b&&A.y>=v&&A.y<=S&&A!==i&&A!==s&&$d(a,c,l,h,u,p,A.x,A.y)&&Vr(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;E&&E.z>=y;){if(E.x>=d&&E.x<=b&&E.y>=v&&E.y<=S&&E!==i&&E!==s&&$d(a,c,l,h,u,p,E.x,E.y)&&Vr(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;A&&A.z<=T;){if(A.x>=d&&A.x<=b&&A.y>=v&&A.y<=S&&A!==i&&A!==s&&$d(a,c,l,h,u,p,A.x,A.y)&&Vr(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function dme(t,e,n){let r=t;do{let i=r.prev,o=r.next.next;!_E(i,o)&&JV(i,r,r.next,o)&&ey(i,o)&&ey(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),ty(r),ty(r.next),r=t=o),r=r.next}while(r!==t);return Hh(r)}function mme(t,e,n,r,i,o){let s=t;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&Eme(s,a)){let l=QV(s,a);s=Hh(s,s.next),l=Hh(l,l.next),Q0(s,e,n,r,i,o,0),Q0(l,e,n,r,i,o,0);return}a=a.next}s=s.next}while(s!==t)}function gme(t,e,n,r){let i=[],o,s,a,l,u;for(o=0,s=e.length;o<s;o++)a=e[o]*r,l=o<s-1?e[o+1]*r:t.length,u=KV(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(wme(u));for(i.sort(vme),o=0;o<i.length;o++)n=yme(i[o],n);return n}function vme(t,e){return t.x-e.x}function yme(t,e){let n=xme(t,e);if(!n)return e;let r=QV(n,t);return Hh(r,r.next),Hh(n,n.next)}function xme(t,e){let n=e,r=-1/0,i,o=t.x,s=t.y;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){let p=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=o&&p>r&&(r=p,i=n.x<n.next.x?n:n.next,p===o))return i}n=n.next}while(n!==e);if(!i)return null;let a=i,l=i.x,u=i.y,c=1/0,h;n=i;do o>=n.x&&n.x>=l&&o!==n.x&&$d(s<u?o:r,s,l,u,s<u?r:o,s,n.x,n.y)&&(h=Math.abs(s-n.y)/(o-n.x),ey(n,t)&&(h<c||h===c&&(n.x>i.x||n.x===i.x&&_me(i,n)))&&(i=n,c=h)),n=n.next;while(n!==a);return i}function _me(t,e){return Vr(t.prev,t,e.prev)<0&&Vr(e.next,t,t.next)<0}function Sme(t,e,n,r){let i=t;do i.z===0&&(i.z=ZN(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,bme(i)}function bme(t){let e,n,r,i,o,s,a,l,u=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(s>1);return t}function ZN(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function wme(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function $d(t,e,n,r,i,o,s,a){return(i-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(r-a)>=(n-s)*(e-a)&&(n-s)*(o-a)>=(i-s)*(r-a)}function Eme(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Tme(t,e)&&(ey(t,e)&&ey(e,t)&&Cme(t,e)&&(Vr(t.prev,t,e.prev)||Vr(t,e.prev,e))||_E(t,e)&&Vr(t.prev,t,t.next)>0&&Vr(e.prev,e,e.next)>0)}function Vr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function _E(t,e){return t.x===e.x&&t.y===e.y}function JV(t,e,n,r){let i=pw(Vr(t,e,n)),o=pw(Vr(t,e,r)),s=pw(Vr(n,r,t)),a=pw(Vr(n,r,e));return!!(i!==o&&s!==a||i===0&&hw(t,n,e)||o===0&&hw(t,r,e)||s===0&&hw(n,t,r)||a===0&&hw(n,e,r))}function hw(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function pw(t){return t>0?1:t<0?-1:0}function Tme(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&JV(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function ey(t,e){return Vr(t.prev,t,t.next)<0?Vr(t,e,t.next)>=0&&Vr(t,t.prev,e)>=0:Vr(t,e,t.prev)<0||Vr(t,t.next,e)<0}function Cme(t,e){let n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function QV(t,e){let n=new KN(t.i,t.x,t.y),r=new KN(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function v5(t,e,n,r){let i=new KN(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ty(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function KN(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Mme(t,e,n,r){let i=0;for(let o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}var Rl=class t{static area(e){let n=e.length,r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return t.area(e)<0}static triangulateShape(e,n){let r=[],i=[],o=[];y5(e),x5(r,e);let s=e.length;n.forEach(y5);for(let l=0;l<n.length;l++)i.push(s),s+=n[l].length,x5(r,n[l]);let a=fme.triangulate(r,i);for(let l=0;l<a.length;l+=3)o.push(a.slice(l,l+3));return o}};function y5(t){let e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function x5(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}var C1=class t extends Tn{constructor(e=new Nu([new ct(.5,.5),new ct(-.5,.5),new ct(-.5,-.5),new ct(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];let r=this,i=[],o=[];for(let a=0,l=e.length;a<l;a++){let u=e[a];s(u)}this.setAttribute("position",new Yt(i,3)),this.setAttribute("uv",new Yt(o,2)),this.computeVertexNormals();function s(a){let l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,h=n.depth!==void 0?n.depth:1,p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,d=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:d-.1,b=n.bevelOffset!==void 0?n.bevelOffset:0,S=n.bevelSegments!==void 0?n.bevelSegments:3,y=n.extrudePath,T=n.UVGenerator!==void 0?n.UVGenerator:Ame,E,A=!1,N,x,D,k;y&&(E=y.getSpacedPoints(c),A=!0,p=!1,N=y.computeFrenetFrames(c,!1),x=new oe,D=new oe,k=new oe),p||(S=0,d=0,v=0,b=0);let U=a.extractPoints(u),L=U.shape,j=U.holes;if(!Rl.isClockWise(L)){L=L.reverse();for(let K=0,ye=j.length;K<ye;K++){let ge=j[K];Rl.isClockWise(ge)&&(j[K]=ge.reverse())}}let se=Rl.triangulateShape(L,j),fe=L;for(let K=0,ye=j.length;K<ye;K++){let ge=j[K];L=L.concat(ge)}function _e(K,ye,ge){return ye||console.error("THREE.ExtrudeGeometry: vec does not exist"),K.clone().addScaledVector(ye,ge)}let J=L.length,te=se.length;function ne(K,ye,ge){let Q,q,ve,ue=K.x-ye.x,xt=K.y-ye.y,ae=ge.x-K.x,$=ge.y-K.y,De=ue*ue+xt*xt,Ke=ue*$-xt*ae;if(Math.abs(Ke)>Number.EPSILON){let Ee=Math.sqrt(De),Be=Math.sqrt(ae*ae+$*$),Ze=ye.x-xt/Ee,ut=ye.y+ue/Ee,Pt=ge.x-$/Be,zt=ge.y+ae/Be,Qe=((Pt-Ze)*$-(zt-ut)*ae)/(ue*$-xt*ae);Q=Ze+ue*Qe-K.x,q=ut+xt*Qe-K.y;let Je=Q*Q+q*q;if(Je<=2)return new ct(Q,q);ve=Math.sqrt(Je/2)}else{let Ee=!1;ue>Number.EPSILON?ae>Number.EPSILON&&(Ee=!0):ue<-Number.EPSILON?ae<-Number.EPSILON&&(Ee=!0):Math.sign(xt)===Math.sign($)&&(Ee=!0),Ee?(Q=-xt,q=ue,ve=Math.sqrt(De)):(Q=ue,q=xt,ve=Math.sqrt(De/2))}return new ct(Q/ve,q/ve)}let xe=[];for(let K=0,ye=fe.length,ge=ye-1,Q=K+1;K<ye;K++,ge++,Q++)ge===ye&&(ge=0),Q===ye&&(Q=0),xe[K]=ne(fe[K],fe[ge],fe[Q]);let Ce=[],Le,rt=xe.concat();for(let K=0,ye=j.length;K<ye;K++){let ge=j[K];Le=[];for(let Q=0,q=ge.length,ve=q-1,ue=Q+1;Q<q;Q++,ve++,ue++)ve===q&&(ve=0),ue===q&&(ue=0),Le[Q]=ne(ge[Q],ge[ve],ge[ue]);Ce.push(Le),rt=rt.concat(Le)}for(let K=0;K<S;K++){let ye=K/S,ge=d*Math.cos(ye*Math.PI/2),Q=v*Math.sin(ye*Math.PI/2)+b;for(let q=0,ve=fe.length;q<ve;q++){let ue=_e(fe[q],xe[q],Q);it(ue.x,ue.y,-ge)}for(let q=0,ve=j.length;q<ve;q++){let ue=j[q];Le=Ce[q];for(let xt=0,ae=ue.length;xt<ae;xt++){let $=_e(ue[xt],Le[xt],Q);it($.x,$.y,-ge)}}}let ot=v+b;for(let K=0;K<J;K++){let ye=p?_e(L[K],rt[K],ot):L[K];A?(D.copy(N.normals[0]).multiplyScalar(ye.x),x.copy(N.binormals[0]).multiplyScalar(ye.y),k.copy(E[0]).add(D).add(x),it(k.x,k.y,k.z)):it(ye.x,ye.y,0)}for(let K=1;K<=c;K++)for(let ye=0;ye<J;ye++){let ge=p?_e(L[ye],rt[ye],ot):L[ye];A?(D.copy(N.normals[K]).multiplyScalar(ge.x),x.copy(N.binormals[K]).multiplyScalar(ge.y),k.copy(E[K]).add(D).add(x),it(k.x,k.y,k.z)):it(ge.x,ge.y,h/c*K)}for(let K=S-1;K>=0;K--){let ye=K/S,ge=d*Math.cos(ye*Math.PI/2),Q=v*Math.sin(ye*Math.PI/2)+b;for(let q=0,ve=fe.length;q<ve;q++){let ue=_e(fe[q],xe[q],Q);it(ue.x,ue.y,h+ge)}for(let q=0,ve=j.length;q<ve;q++){let ue=j[q];Le=Ce[q];for(let xt=0,ae=ue.length;xt<ae;xt++){let $=_e(ue[xt],Le[xt],Q);A?it($.x,$.y+E[c-1].y,E[c-1].x+ge):it($.x,$.y,h+ge)}}}Ae(),ze();function Ae(){let K=i.length/3;if(p){let ye=0,ge=J*ye;for(let Q=0;Q<te;Q++){let q=se[Q];pt(q[2]+ge,q[1]+ge,q[0]+ge)}ye=c+S*2,ge=J*ye;for(let Q=0;Q<te;Q++){let q=se[Q];pt(q[0]+ge,q[1]+ge,q[2]+ge)}}else{for(let ye=0;ye<te;ye++){let ge=se[ye];pt(ge[2],ge[1],ge[0])}for(let ye=0;ye<te;ye++){let ge=se[ye];pt(ge[0]+J*c,ge[1]+J*c,ge[2]+J*c)}}r.addGroup(K,i.length/3-K,0)}function ze(){let K=i.length/3,ye=0;je(fe,ye),ye+=fe.length;for(let ge=0,Q=j.length;ge<Q;ge++){let q=j[ge];je(q,ye),ye+=q.length}r.addGroup(K,i.length/3-K,1)}function je(K,ye){let ge=K.length;for(;--ge>=0;){let Q=ge,q=ge-1;q<0&&(q=K.length-1);for(let ve=0,ue=c+S*2;ve<ue;ve++){let xt=J*ve,ae=J*(ve+1),$=ye+Q+xt,De=ye+q+xt,Ke=ye+q+ae,Ee=ye+Q+ae;It($,De,Ke,Ee)}}}function it(K,ye,ge){l.push(K),l.push(ye),l.push(ge)}function pt(K,ye,ge){Nt(K),Nt(ye),Nt(ge);let Q=i.length/3,q=T.generateTopUV(r,i,Q-3,Q-2,Q-1);mt(q[0]),mt(q[1]),mt(q[2])}function It(K,ye,ge,Q){Nt(K),Nt(ye),Nt(Q),Nt(ye),Nt(ge),Nt(Q);let q=i.length/3,ve=T.generateSideWallUV(r,i,q-6,q-3,q-2,q-1);mt(ve[0]),mt(ve[1]),mt(ve[3]),mt(ve[1]),mt(ve[2]),mt(ve[3])}function Nt(K){i.push(l[K*3+0]),i.push(l[K*3+1]),i.push(l[K*3+2])}function mt(K){o.push(K.x),o.push(K.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return Pme(n,r,e)}static fromJSON(e,n){let r=[];for(let o=0,s=e.shapes.length;o<s;o++){let a=n[e.shapes[o]];r.push(a)}let i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new x1[i.type]().fromJSON(i)),new t(r,e.options)}},Ame={generateTopUV:function(t,e,n,r,i){let o=e[n*3],s=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new ct(o,s),new ct(a,l),new ct(u,c)]},generateSideWallUV:function(t,e,n,r,i,o){let s=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],h=e[r*3+2],p=e[i*3],d=e[i*3+1],v=e[i*3+2],b=e[o*3],S=e[o*3+1],y=e[o*3+2];return Math.abs(a-c)<Math.abs(s-u)?[new ct(s,1-l),new ct(u,1-h),new ct(p,1-v),new ct(b,1-y)]:[new ct(a,1-l),new ct(c,1-h),new ct(d,1-v),new ct(S,1-y)]}};function Pme(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){let o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}var M1=class t extends Yc{constructor(e=1,n=0){let r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new t(e.radius,e.detail)}},ny=class t extends Yc{constructor(e=1,n=0){let r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new t(e.radius,e.detail)}},A1=class t extends Tn{constructor(e=.5,n=1,r=32,i=1,o=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);let a=[],l=[],u=[],c=[],h=e,p=(n-e)/i,d=new oe,v=new ct;for(let b=0;b<=i;b++){for(let S=0;S<=r;S++){let y=o+S/r*s;d.x=h*Math.cos(y),d.y=h*Math.sin(y),l.push(d.x,d.y,d.z),u.push(0,0,1),v.x=(d.x/n+1)/2,v.y=(d.y/n+1)/2,c.push(v.x,v.y)}h+=p}for(let b=0;b<i;b++){let S=b*(r+1);for(let y=0;y<r;y++){let T=y+S,E=T,A=T+r+1,N=T+r+2,x=T+1;a.push(E,A,x),a.push(A,N,x)}}this.setIndex(a),this.setAttribute("position",new Yt(l,3)),this.setAttribute("normal",new Yt(u,3)),this.setAttribute("uv",new Yt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}},P1=class t extends Tn{constructor(e=new Nu([new ct(0,.5),new ct(-.5,-.5),new ct(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};let r=[],i=[],o=[],s=[],a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Yt(i,3)),this.setAttribute("normal",new Yt(o,3)),this.setAttribute("uv",new Yt(s,2));function u(c){let h=i.length/3,p=c.extractPoints(n),d=p.shape,v=p.holes;Rl.isClockWise(d)===!1&&(d=d.reverse());for(let S=0,y=v.length;S<y;S++){let T=v[S];Rl.isClockWise(T)===!0&&(v[S]=T.reverse())}let b=Rl.triangulateShape(d,v);for(let S=0,y=v.length;S<y;S++){let T=v[S];d=d.concat(T)}for(let S=0,y=d.length;S<y;S++){let T=d[S];i.push(T.x,T.y,0),o.push(0,0,1),s.push(T.x,T.y)}for(let S=0,y=b.length;S<y;S++){let T=b[S],E=T[0]+h,A=T[1]+h,N=T[2]+h;r.push(E,A,N),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON(),n=this.parameters.shapes;return Rme(n,e)}static fromJSON(e,n){let r=[];for(let i=0,o=e.shapes.length;i<o;i++){let s=n[e.shapes[i]];r.push(s)}return new t(r,e.curveSegments)}};function Rme(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){let i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}var ry=class t extends Tn{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:s,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));let l=Math.min(s+a,Math.PI),u=0,c=[],h=new oe,p=new oe,d=[],v=[],b=[],S=[];for(let y=0;y<=r;y++){let T=[],E=y/r,A=0;y===0&&s===0?A=.5/n:y===r&&l===Math.PI&&(A=-.5/n);for(let N=0;N<=n;N++){let x=N/n;h.x=-e*Math.cos(i+x*o)*Math.sin(s+E*a),h.y=e*Math.cos(s+E*a),h.z=e*Math.sin(i+x*o)*Math.sin(s+E*a),v.push(h.x,h.y,h.z),p.copy(h).normalize(),b.push(p.x,p.y,p.z),S.push(x+A,1-E),T.push(u++)}c.push(T)}for(let y=0;y<r;y++)for(let T=0;T<n;T++){let E=c[y][T+1],A=c[y][T],N=c[y+1][T],x=c[y+1][T+1];(y!==0||s>0)&&d.push(E,A,x),(y!==r-1||l<Math.PI)&&d.push(A,N,x)}this.setIndex(d),this.setAttribute("position",new Yt(v,3)),this.setAttribute("normal",new Yt(b,3)),this.setAttribute("uv",new Yt(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},R1=class t extends Yc{constructor(e=1,n=0){let r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new t(e.radius,e.detail)}},I1=class t extends Tn{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);let s=[],a=[],l=[],u=[],c=new oe,h=new oe,p=new oe;for(let d=0;d<=r;d++)for(let v=0;v<=i;v++){let b=v/i*o,S=d/r*Math.PI*2;h.x=(e+n*Math.cos(S))*Math.cos(b),h.y=(e+n*Math.cos(S))*Math.sin(b),h.z=n*Math.sin(S),a.push(h.x,h.y,h.z),c.x=e*Math.cos(b),c.y=e*Math.sin(b),p.subVectors(h,c).normalize(),l.push(p.x,p.y,p.z),u.push(v/i),u.push(d/r)}for(let d=1;d<=r;d++)for(let v=1;v<=i;v++){let b=(i+1)*d+v-1,S=(i+1)*(d-1)+v-1,y=(i+1)*(d-1)+v,T=(i+1)*d+v;s.push(b,S,T),s.push(S,y,T)}this.setIndex(s),this.setAttribute("position",new Yt(a,3)),this.setAttribute("normal",new Yt(l,3)),this.setAttribute("uv",new Yt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}},N1=class t extends Tn{constructor(e=1,n=.4,r=64,i=8,o=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:s},r=Math.floor(r),i=Math.floor(i);let a=[],l=[],u=[],c=[],h=new oe,p=new oe,d=new oe,v=new oe,b=new oe,S=new oe,y=new oe;for(let E=0;E<=r;++E){let A=E/r*o*Math.PI*2;T(A,o,s,e,d),T(A+.01,o,s,e,v),S.subVectors(v,d),y.addVectors(v,d),b.crossVectors(S,y),y.crossVectors(b,S),b.normalize(),y.normalize();for(let N=0;N<=i;++N){let x=N/i*Math.PI*2,D=-n*Math.cos(x),k=n*Math.sin(x);h.x=d.x+(D*y.x+k*b.x),h.y=d.y+(D*y.y+k*b.y),h.z=d.z+(D*y.z+k*b.z),l.push(h.x,h.y,h.z),p.subVectors(h,d).normalize(),u.push(p.x,p.y,p.z),c.push(E/r),c.push(N/i)}}for(let E=1;E<=r;E++)for(let A=1;A<=i;A++){let N=(i+1)*(E-1)+(A-1),x=(i+1)*E+(A-1),D=(i+1)*E+A,k=(i+1)*(E-1)+A;a.push(N,x,k),a.push(x,D,k)}this.setIndex(a),this.setAttribute("position",new Yt(l,3)),this.setAttribute("normal",new Yt(u,3)),this.setAttribute("uv",new Yt(c,2));function T(E,A,N,x,D){let k=Math.cos(E),U=Math.sin(E),L=N/A*E,j=Math.cos(L);D.x=x*(2+j)*.5*k,D.y=x*(2+j)*U*.5,D.z=x*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}},O1=class t extends Tn{constructor(e=new Z0(new oe(-1,-1,0),new oe(-1,1,0),new oe(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};let s=e.computeFrenetFrames(n,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;let a=new oe,l=new oe,u=new ct,c=new oe,h=[],p=[],d=[],v=[];b(),this.setIndex(v),this.setAttribute("position",new Yt(h,3)),this.setAttribute("normal",new Yt(p,3)),this.setAttribute("uv",new Yt(d,2));function b(){for(let E=0;E<n;E++)S(E);S(o===!1?n:0),T(),y()}function S(E){c=e.getPointAt(E/n,c);let A=s.normals[E],N=s.binormals[E];for(let x=0;x<=i;x++){let D=x/i*Math.PI*2,k=Math.sin(D),U=-Math.cos(D);l.x=U*A.x+k*N.x,l.y=U*A.y+k*N.y,l.z=U*A.z+k*N.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,h.push(a.x,a.y,a.z)}}function y(){for(let E=1;E<=n;E++)for(let A=1;A<=i;A++){let N=(i+1)*(E-1)+(A-1),x=(i+1)*E+(A-1),D=(i+1)*E+A,k=(i+1)*(E-1)+A;v.push(N,x,k),v.push(x,D,k)}}function T(){for(let E=0;E<=n;E++)for(let A=0;A<=i;A++)u.x=E/n,u.y=A/i,d.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new t(new x1[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}},L1=class extends Tn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){let n=[],r=new Set,i=new oe,o=new oe;if(e.index!==null){let s=e.attributes.position,a=e.index,l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){let h=l[u],p=h.start,d=h.count;for(let v=p,b=p+d;v<b;v+=3)for(let S=0;S<3;S++){let y=a.getX(v+S),T=a.getX(v+(S+1)%3);i.fromBufferAttribute(s,y),o.fromBufferAttribute(s,T),_5(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{let s=e.attributes.position;for(let a=0,l=s.count/3;a<l;a++)for(let u=0;u<3;u++){let c=3*a+u,h=3*a+(u+1)%3;i.fromBufferAttribute(s,c),o.fromBufferAttribute(s,h),_5(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new Yt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}};function _5(t,e,n){let r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var S5=Object.freeze({__proto__:null,BoxGeometry:Fh,CapsuleGeometry:S1,CircleGeometry:b1,ConeGeometry:w1,CylinderGeometry:om,DodecahedronGeometry:E1,EdgesGeometry:T1,ExtrudeGeometry:C1,IcosahedronGeometry:M1,LatheGeometry:J0,OctahedronGeometry:ny,PlaneGeometry:tm,PolyhedronGeometry:Yc,RingGeometry:A1,ShapeGeometry:P1,SphereGeometry:ry,TetrahedronGeometry:R1,TorusGeometry:I1,TorusKnotGeometry:N1,TubeGeometry:O1,WireframeGeometry:L1}),D1=class extends Xi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Xt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}},k1=class extends Hs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}},iy=class extends Xi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Xt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kc,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zs,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}},F1=class extends iy{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ct(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Jr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Xt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Xt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Xt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}},U1=class extends Xi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Xt(16777215),this.specular=new Xt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kc,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zs,this.combine=hy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}},B1=class extends Xi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Xt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kc,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},z1=class extends Xi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kc,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}},H1=class extends Xi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Xt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kc,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zs,this.combine=hy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}},V1=class extends Xi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Xt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kc,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}},W1=class extends lo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}};function Ih(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function e8(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function t8(t){function e(i,o){return t[i]-t[o]}let n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function JN(t,e,n){let r=t.length,i=new t.constructor(r);for(let o=0,s=0;s!==r;++o){let a=n[o]*e;for(let l=0;l!==e;++l)i[s++]=t[a+l]}return i}function lO(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let s=o[r];if(s!==void 0)if(Array.isArray(s))do s=o[r],s!==void 0&&(e.push(o.time),n.push.apply(n,s)),o=t[i++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[r],s!==void 0&&(e.push(o.time),s.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do s=o[r],s!==void 0&&(e.push(o.time),n.push(s)),o=t[i++];while(o!==void 0)}function Ime(t,e,n,r,i=30){let o=t.clone();o.name=e;let s=[];for(let l=0;l<o.tracks.length;++l){let u=o.tracks[l],c=u.getValueSize(),h=[],p=[];for(let d=0;d<u.times.length;++d){let v=u.times[d]*i;if(!(v<n||v>=r)){h.push(u.times[d]);for(let b=0;b<c;++b)p.push(u.values[d*c+b])}}h.length!==0&&(u.times=Ih(h,u.times.constructor),u.values=Ih(p,u.values.constructor),s.push(u))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o}function Nme(t,e=0,n=t,r=30){r<=0&&(r=30);let i=n.tracks.length,o=e/r;for(let s=0;s<i;++s){let a=n.tracks[s],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;let u=t.tracks.find(function(y){return y.name===a.name&&y.ValueTypeName===l});if(u===void 0)continue;let c=0,h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=h/3);let p=0,d=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=d/3);let v=a.times.length-1,b;if(o<=a.times[0]){let y=c,T=h-c;b=a.values.slice(y,T)}else if(o>=a.times[v]){let y=v*h+c,T=y+h-c;b=a.values.slice(y,T)}else{let y=a.createInterpolant(),T=c,E=h-c;y.evaluate(o),b=y.resultBuffer.slice(T,E)}l==="quaternion"&&new Ai().fromArray(b).normalize().conjugate().toArray(b);let S=u.times.length;for(let y=0;y<S;++y){let T=y*d+p;if(l==="quaternion")Ai.multiplyQuaternionsFlat(u.values,T,b,0,u.values,T);else{let E=d-p*2;for(let A=0;A<E;++A)u.values[T+A]-=b[A]}}}return t.blendMode=eO,t}var Ome={convertArray:Ih,isTypedArray:e8,getKeyframeOrder:t8,sortedArray:JN,flattenJSON:lO,subclip:Ime,makeClipAdditive:Nme},Vh=class{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){let n=this.parameterPositions,r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(o=i,i=n[++r],e<i)break t}s=n.length;break n}if(!(e>=o)){let a=n[1];e<a&&(r=2,o=a);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}s=r,r=0;break n}break e}for(;r<s;){let a=r+s>>>1;e<n[a]?s=a:r=a+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)n[s]=r[o+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},G1=class extends Vh{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ph,endingEnd:Ph}}intervalChanged_(e,n,r){let i=this.parameterPositions,o=e-2,s=e+1,a=i[o],l=i[s];if(a===void 0)switch(this.getSettings_().endingStart){case Rh:o=e,a=2*n-r;break;case R0:o=i.length-2,a=n+i[o]-i[o+1];break;default:o=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Rh:s=e,l=2*r-n;break;case R0:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=n}let u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=o*c,this._offsetNext=s*c}interpolate_(e,n,r,i){let o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,d=this._weightNext,v=(r-n)/(i-n),b=v*v,S=b*v,y=-p*S+2*p*b-p*v,T=(1+p)*S+(-1.5-2*p)*b+(-.5+p)*v+1,E=(-1-d)*S+(1.5+d)*b+.5*v,A=d*S-d*b;for(let N=0;N!==a;++N)o[N]=y*s[c+N]+T*s[u+N]+E*s[l+N]+A*s[h+N];return o}},oy=class extends Vh{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){let o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-n)/(i-n),h=1-c;for(let p=0;p!==a;++p)o[p]=s[u+p]*h+s[l+p]*c;return o}},$1=class extends Vh{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}},Ws=class{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ih(n,this.TimeBufferType),this.values=Ih(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){let n=e.constructor,r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Ih(e.times,Array),values:Ih(e.values,Array)};let i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new $1(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new oy(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new G1(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case P0:n=this.InterpolantFactoryMethodDiscrete;break;case Zw:n=this.InterpolantFactoryMethodLinear;break;case Sw:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){let r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return P0;case this.InterpolantFactoryMethodLinear:return Zw;case this.InterpolantFactoryMethodSmooth:return Sw}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){let n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){let r=this.times,i=r.length,o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;s!==-1&&r[s]>n;)--s;if(++s,o!==0||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);let a=this.getValueSize();this.times=r.slice(o,s),this.values=this.values.slice(o*a,s*a)}return this}validate(){let e=!0,n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){let l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,s),e=!1;break}s=l}if(i!==void 0&&e8(i))for(let a=0,l=i.length;a!==l;++a){let u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){let e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Sw,o=e.length-1,s=1;for(let a=1;a<o;++a){let l=!1,u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{let h=a*r,p=h-r,d=h+r;for(let v=0;v!==r;++v){let b=n[h+v];if(b!==n[p+v]||b!==n[d+v]){l=!0;break}}}if(l){if(a!==s){e[s]=e[a];let h=a*r,p=s*r;for(let d=0;d!==r;++d)n[p+d]=n[h+d]}++s}}if(o>0){e[s]=e[o];for(let a=o*r,l=s*r,u=0;u!==r;++u)n[l+u]=n[a+u];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=n.slice(0,s*r)):(this.times=e,this.values=n),this}clone(){let e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}};Ws.prototype.TimeBufferType=Float32Array;Ws.prototype.ValueBufferType=Float32Array;Ws.prototype.DefaultInterpolation=Zw;var Fu=class extends Ws{constructor(e,n,r){super(e,n,r)}};Fu.prototype.ValueTypeName="bool";Fu.prototype.ValueBufferType=Array;Fu.prototype.DefaultInterpolation=P0;Fu.prototype.InterpolantFactoryMethodLinear=void 0;Fu.prototype.InterpolantFactoryMethodSmooth=void 0;var sy=class extends Ws{};sy.prototype.ValueTypeName="color";var Wh=class extends Ws{};Wh.prototype.ValueTypeName="number";var X1=class extends Vh{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){let o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n),u=e*a;for(let c=u+a;u!==c;u+=4)Ai.slerpFlat(o,0,s,u-a,s,u,l);return o}},Gh=class extends Ws{InterpolantFactoryMethodLinear(e){return new X1(this.times,this.values,this.getValueSize(),e)}};Gh.prototype.ValueTypeName="quaternion";Gh.prototype.InterpolantFactoryMethodSmooth=void 0;var Uu=class extends Ws{constructor(e,n,r){super(e,n,r)}};Uu.prototype.ValueTypeName="string";Uu.prototype.ValueBufferType=Array;Uu.prototype.DefaultInterpolation=P0;Uu.prototype.InterpolantFactoryMethodLinear=void 0;Uu.prototype.InterpolantFactoryMethodSmooth=void 0;var $h=class extends Ws{};$h.prototype.ValueTypeName="vector";var Xh=class{constructor(e="",n=-1,r=[],i=gE){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Us(),this.duration<0&&this.resetDuration()}static parse(e){let n=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,a=r.length;s!==a;++s)n.push(Dme(r[s]).scale(i));let o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){let n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=r.length;o!==s;++o)n.push(Ws.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){let o=n.length,s=[];for(let a=0;a<o;a++){let l=[],u=[];l.push((a+o-1)%o,a,(a+1)%o),u.push(0,1,0);let c=t8(l);l=JN(l,1,c),u=JN(u,1,c),!i&&l[0]===0&&(l.push(o),u.push(u[0])),s.push(new Wh(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,s)}static findByName(e,n){let r=e;if(!Array.isArray(e)){let i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){let i={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){let u=e[a],c=u.name.match(o);if(c&&c.length>1){let h=c[1],p=i[h];p||(i[h]=p=[]),p.push(u)}}let s=[];for(let a in i)s.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return s}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let r=function(h,p,d,v,b){if(d.length!==0){let S=[],y=[];lO(d,S,y,v),S.length!==0&&b.push(new h(p,S,y))}},i=[],o=e.name||"default",s=e.fps||30,a=e.blendMode,l=e.length||-1,u=e.hierarchy||[];for(let h=0;h<u.length;h++){let p=u[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){let d={},v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let b=0;b<p[v].morphTargets.length;b++)d[p[v].morphTargets[b]]=-1;for(let b in d){let S=[],y=[];for(let T=0;T!==p[v].morphTargets.length;++T){let E=p[v];S.push(E.time),y.push(E.morphTarget===b?1:0)}i.push(new Wh(".morphTargetInfluence["+b+"]",S,y))}l=d.length*s}else{let d=".bones["+n[h].name+"]";r($h,d+".position",p,"pos",i),r(Gh,d+".quaternion",p,"rot",i),r($h,d+".scale",p,"scl",i)}}return i.length===0?null:new this(o,l,i,a)}resetDuration(){let e=this.tracks,n=0;for(let r=0,i=e.length;r!==i;++r){let o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function Lme(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Wh;case"vector":case"vector2":case"vector3":case"vector4":return $h;case"color":return sy;case"quaternion":return Gh;case"bool":case"boolean":return Fu;case"string":return Uu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Dme(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let e=Lme(t.type);if(t.times===void 0){let n=[],r=[];lO(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}var Pu={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},ay=class{constructor(e,n,r){let i=this,o=!1,s=0,a=0,l,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){a++,o===!1&&i.onStart!==void 0&&i.onStart(c,s,a),o=!0},this.itemEnd=function(c){s++,i.onProgress!==void 0&&i.onProgress(c,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,h){return u.push(c,h),this},this.removeHandler=function(c){let h=u.indexOf(c);return h!==-1&&u.splice(h,2),this},this.getHandler=function(c){for(let h=0,p=u.length;h<p;h+=2){let d=u[h],v=u[h+1];if(d.global&&(d.lastIndex=0),d.test(c))return v}return null}}},n8=new ay,ji=class{constructor(e){this.manager=e!==void 0?e:n8,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){let r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};ji.DEFAULT_MATERIAL_NAME="__DEFAULT";var Eu={},QN=class extends Error{constructor(e,n){super(e),this.response=n}},Gs=class extends ji{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let o=Pu.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(Eu[e]!==void 0){Eu[e].push({onLoad:n,onProgress:r,onError:i});return}Eu[e]=[],Eu[e].push({onLoad:n,onProgress:r,onError:i});let s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(s).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;let c=Eu[e],h=u.body.getReader(),p=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),d=p?parseInt(p):0,v=d!==0,b=0,S=new ReadableStream({start(y){T();function T(){h.read().then(({done:E,value:A})=>{if(E)y.close();else{b+=A.byteLength;let N=new ProgressEvent("progress",{lengthComputable:v,loaded:b,total:d});for(let x=0,D=c.length;x<D;x++){let k=c[x];k.onProgress&&k.onProgress(N)}y.enqueue(A),T()}},E=>{y.error(E)})}}});return new Response(S)}else throw new QN(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{let h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,d=new TextDecoder(p);return u.arrayBuffer().then(v=>d.decode(v))}}}).then(u=>{Pu.add(e,u);let c=Eu[e];delete Eu[e];for(let h=0,p=c.length;h<p;h++){let d=c[h];d.onLoad&&d.onLoad(u)}}).catch(u=>{let c=Eu[e];if(c===void 0)throw this.manager.itemError(e),u;delete Eu[e];for(let h=0,p=c.length;h<p;h++){let d=c[h];d.onError&&d.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},e2=class extends ji{constructor(e){super(e)}load(e,n,r,i){let o=this,s=new Gs(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){let n=[];for(let r=0;r<e.length;r++){let i=Xh.parse(e[r]);n.push(i)}return n}},t2=class extends ji{constructor(e){super(e)}load(e,n,r,i){let o=this,s=[],a=new rm,l=new Gs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let u=0;function c(h){l.load(e[h],function(p){let d=o.parse(p,!0);s[h]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},u+=1,u===6&&(d.mipmapCount===1&&(a.minFilter=vi),a.image=s,a.format=d.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)c(h);else l.load(e,function(h){let p=o.parse(h,!0);if(p.isCubemap){let d=p.mipmaps.length/p.mipmapCount;for(let v=0;v<d;v++){s[v]={mipmaps:[]};for(let b=0;b<p.mipmapCount;b++)s[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+b]),s[v].format=p.format,s[v].width=p.width,s[v].height=p.height}a.image=s}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=vi),a.format=p.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}},jh=class extends ji{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let o=this,s=Pu.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;let a=k0("img");function l(){c(),Pu.add(e,this),n&&n(this),o.manager.itemEnd(e)}function u(h){c(),i&&i(h),o.manager.itemError(e),o.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}},n2=class extends ji{constructor(e){super(e)}load(e,n,r,i){let o=new Uh;o.colorSpace=da;let s=new jh(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function l(u){s.load(e[u],function(c){o.images[u]=c,a++,a===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return o}},r2=class extends ji{constructor(e){super(e)}load(e,n,r,i){let o=this,s=new va,a=new Gs(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(o.withCredentials),a.load(e,function(l){let u;try{u=o.parse(l)}catch(c){if(i!==void 0)i(c);else{console.error(c);return}}u.image!==void 0?s.image=u.image:u.data!==void 0&&(s.image.width=u.width,s.image.height=u.height,s.image.data=u.data),s.wrapS=u.wrapS!==void 0?u.wrapS:ga,s.wrapT=u.wrapT!==void 0?u.wrapT:ga,s.magFilter=u.magFilter!==void 0?u.magFilter:vi,s.minFilter=u.minFilter!==void 0?u.minFilter:vi,s.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(s.colorSpace=u.colorSpace),u.flipY!==void 0&&(s.flipY=u.flipY),u.format!==void 0&&(s.format=u.format),u.type!==void 0&&(s.type=u.type),u.mipmaps!==void 0&&(s.mipmaps=u.mipmaps,s.minFilter=Al),u.mipmapCount===1&&(s.minFilter=vi),u.generateMipmaps!==void 0&&(s.generateMipmaps=u.generateMipmaps),s.needsUpdate=!0,n&&n(s,u)},r,i),s}},i2=class extends ji{constructor(e){super(e)}load(e,n,r,i){let o=new yi,s=new jh(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}},Dl=class extends nr{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Xt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}},j1=class extends Dl{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(nr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Xt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}},dN=new xn,b5=new oe,w5=new oe,ly=class{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ct(512,512),this.map=null,this.mapPass=null,this.matrix=new xn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Bh,this._frameExtents=new ct(1,1),this._viewportCount=1,this._viewports=[new lr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let n=this.camera,r=this.matrix;b5.setFromMatrixPosition(e.matrixWorld),n.position.copy(b5),w5.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(w5),n.updateMatrixWorld(),dN.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dN),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(dN)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},o2=class extends ly{constructor(){super(new Mi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){let n=this.camera,r=Zd*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}},Y1=class extends Dl{constructor(e,n,r=0,i=Math.PI/3,o=0,s=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(nr.DEFAULT_UP),this.updateMatrix(),this.target=new nr,this.distance=r,this.angle=i,this.penumbra=o,this.decay=s,this.map=null,this.shadow=new o2}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},E5=new xn,f0=new oe,mN=new oe,s2=class extends ly{constructor(){super(new Mi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ct(4,2),this._viewportCount=6,this._viewports=[new lr(2,1,1,1),new lr(0,1,1,1),new lr(3,1,1,1),new lr(1,1,1,1),new lr(3,0,1,1),new lr(1,0,1,1)],this._cubeDirections=[new oe(1,0,0),new oe(-1,0,0),new oe(0,0,1),new oe(0,0,-1),new oe(0,1,0),new oe(0,-1,0)],this._cubeUps=[new oe(0,1,0),new oe(0,1,0),new oe(0,1,0),new oe(0,1,0),new oe(0,0,1),new oe(0,0,-1)]}updateMatrices(e,n=0){let r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),f0.setFromMatrixPosition(e.matrixWorld),r.position.copy(f0),mN.copy(r.position),mN.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(mN),r.updateMatrixWorld(),i.makeTranslation(-f0.x,-f0.y,-f0.z),E5.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(E5)}},q1=class extends Dl{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new s2}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},a2=class extends ly{constructor(){super(new nm(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},Z1=class extends Dl{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(nr.DEFAULT_UP),this.updateMatrix(),this.target=new nr,this.shadow=new a2}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},K1=class extends Dl{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}},J1=class extends Dl{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){let n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}},Q1=class{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new oe)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){let r=e.x,i=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*i),n.addScaledVector(s[2],.488603*o),n.addScaledVector(s[3],.488603*r),n.addScaledVector(s[4],1.092548*(r*i)),n.addScaledVector(s[5],1.092548*(i*o)),n.addScaledVector(s[6],.315392*(3*o*o-1)),n.addScaledVector(s[7],1.092548*(r*o)),n.addScaledVector(s[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){let r=e.x,i=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*i),n.addScaledVector(s[2],2*.511664*o),n.addScaledVector(s[3],2*.511664*r),n.addScaledVector(s[4],2*.429043*r*i),n.addScaledVector(s[5],2*.429043*i*o),n.addScaledVector(s[6],.743125*o*o-.247708),n.addScaledVector(s[7],2*.429043*r*o),n.addScaledVector(s[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){let r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){let r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){let r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}},eE=class extends Dl{constructor(e=new Q1,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){let n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}},tE=class t extends ji{constructor(e){super(e),this.textures={}}load(e,n,r,i){let o=this,s=new Gs(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){let n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}let i=t.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Xt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(let o in e.uniforms){let s=e.uniforms[o];switch(i.uniforms[o]={},s.type){case"t":i.uniforms[o].value=r(s.value);break;case"c":i.uniforms[o].value=new Xt().setHex(s.value);break;case"v2":i.uniforms[o].value=new ct().fromArray(s.value);break;case"v3":i.uniforms[o].value=new oe().fromArray(s.value);break;case"v4":i.uniforms[o].value=new lr().fromArray(s.value);break;case"m3":i.uniforms[o].value=new Nn().fromArray(s.value);break;case"m4":i.uniforms[o].value=new xn().fromArray(s.value);break;default:i.uniforms[o].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(let o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new ct().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ct().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){let n={ShadowMaterial:D1,SpriteMaterial:G0,RawShaderMaterial:k1,ShaderMaterial:Hs,PointsMaterial:X0,MeshPhysicalMaterial:F1,MeshStandardMaterial:iy,MeshPhongMaterial:U1,MeshToonMaterial:B1,MeshNormalMaterial:z1,MeshLambertMaterial:H1,MeshDepthMaterial:V0,MeshDistanceMaterial:W0,MeshBasicMaterial:Ol,MeshMatcapMaterial:V1,LineDashedMaterial:W1,LineBasicMaterial:lo,Material:Xi};return new n[e]}},uy=class{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){let n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}},nE=class extends Tn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){let e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}},rE=class extends ji{constructor(e){super(e)}load(e,n,r,i){let o=this,s=new Gs(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){let n={},r={};function i(d,v){if(n[v]!==void 0)return n[v];let S=d.interleavedBuffers[v],y=o(d,S.buffer),T=Wd(S.type,y),E=new jc(T,S.stride);return E.uuid=S.uuid,n[v]=E,E}function o(d,v){if(r[v]!==void 0)return r[v];let S=d.arrayBuffers[v],y=new Uint32Array(S).buffer;return r[v]=y,y}let s=e.isInstancedBufferGeometry?new nE:new Tn,a=e.data.index;if(a!==void 0){let d=Wd(a.type,a.array);s.setIndex(new Un(d,1))}let l=e.data.attributes;for(let d in l){let v=l[d],b;if(v.isInterleavedBufferAttribute){let S=i(e.data,v.data);b=new ku(S,v.itemSize,v.offset,v.normalized)}else{let S=Wd(v.type,v.array),y=v.isInstancedBufferAttribute?Qa:Un;b=new y(S,v.itemSize,v.normalized)}v.name!==void 0&&(b.name=v.name),v.usage!==void 0&&b.setUsage(v.usage),s.setAttribute(d,b)}let u=e.data.morphAttributes;if(u)for(let d in u){let v=u[d],b=[];for(let S=0,y=v.length;S<y;S++){let T=v[S],E;if(T.isInterleavedBufferAttribute){let A=i(e.data,T.data);E=new ku(A,T.itemSize,T.offset,T.normalized)}else{let A=Wd(T.type,T.array);E=new Un(A,T.itemSize,T.normalized)}T.name!==void 0&&(E.name=T.name),b.push(E)}s.morphAttributes[d]=b}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);let h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let d=0,v=h.length;d!==v;++d){let b=h[d];s.addGroup(b.start,b.count,b.materialIndex)}let p=e.data.boundingSphere;if(p!==void 0){let d=new oe;p.center!==void 0&&d.fromArray(p.center),s.boundingSphere=new $i(d,p.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}},l2=class extends ji{constructor(e){super(e)}load(e,n,r,i){let o=this,s=this.path===""?uy.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;let a=new Gs(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}let c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(u,n)},r,i)}async loadAsync(e,n){let r=this,i=this.path===""?uy.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;let o=new Gs(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);let s=await o.loadAsync(e,n),a=JSON.parse(s),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){let r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,o,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),this.bindLightTargets(u),n!==void 0){let h=!1;for(let p in s)if(s[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&n(u)}return u}async parseAsync(e){let n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,a,s,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){let n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){let o=new Nu().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){let r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,s=e.length;o<s;o++){let a=new l1().fromJSON(e[o],i);r[a.uuid]=a}return r}parseGeometries(e,n){let r={};if(e!==void 0){let i=new rE;for(let o=0,s=e.length;o<s;o++){let a,l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in S5?a=S5[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){let r={},i={};if(e!==void 0){let o=new tE;o.setTextures(n);for(let s=0,a=e.length;s<a;s++){let l=e[s];r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){let n={};if(e!==void 0)for(let r=0;r<e.length;r++){let i=e[r],o=Xh.parse(i);n[o.uuid]=o}return n}parseImages(e,n){let r=this,i={},o;function s(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){let u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return s(c)}else return l.data?{data:Wd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){let l=new ay(n);o=new jh(l),o.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){let h=e[u],p=h.url;if(Array.isArray(p)){let d=[];for(let v=0,b=p.length;v<b;v++){let S=p[v],y=a(S);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new va(y.data,y.width,y.height)))}i[h.uuid]=new Mu(d)}else{let d=a(h.url);i[h.uuid]=new Mu(d)}}}return i}async parseImagesAsync(e){let n=this,r={},i;async function o(s){if(typeof s=="string"){let a=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return s.data?{data:Wd(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new jh(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,a=e.length;s<a;s++){let l=e[s],u=l.url;if(Array.isArray(u)){let c=[];for(let h=0,p=u.length;h<p;h++){let d=u[h],v=await o(d);v!==null&&(v instanceof HTMLImageElement?c.push(v):c.push(new va(v.data,v.width,v.height)))}r[l.uuid]=new Mu(c)}else{let c=await o(l.url);r[l.uuid]=new Mu(c)}}}return r}parseTextures(e,n){function r(o,s){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),s[o])}let i={};if(e!==void 0)for(let o=0,s=e.length;o<s;o++){let a=e[o];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);let l=n[a.image],u=l.data,c;Array.isArray(u)?(c=new Uh,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new va:c=new yi,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,kme)),a.channel!==void 0&&(c.channel=a.channel),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],T5),c.wrapT=r(a.wrap[1],T5)),a.format!==void 0&&(c.format=a.format),a.internalFormat!==void 0&&(c.internalFormat=a.internalFormat),a.type!==void 0&&(c.type=a.type),a.colorSpace!==void 0&&(c.colorSpace=a.colorSpace),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,C5)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,C5)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(c.compareFunction=a.compareFunction),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,n,r,i,o){let s;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){let d=[];for(let v=0,b=p.length;v<b;v++){let S=p[v];r[S]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",S),d.push(r[S])}return d}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let c,h;switch(e.type){case"Scene":s=new i1,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Xt(e.background):s.background=u(e.background)),e.environment!==void 0&&(s.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new r1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new n1(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new Mi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new nm(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new K1(e.color,e.intensity);break;case"DirectionalLight":s=new Z1(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new q1(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new J1(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new Y1(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new j1(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new eE().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),h=l(e.material),s=new a1(c,h),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),h=l(e.material),s=new Qr(c,h);break;case"InstancedMesh":c=a(e.geometry),h=l(e.material);let p=e.count,d=e.instanceMatrix,v=e.instanceColor;s=new u1(c,h,p),s.instanceMatrix=new Qa(new Float32Array(d.array),16),v!==void 0&&(s.instanceColor=new Qa(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":c=a(e.geometry),h=l(e.material),s=new c1(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,h),s.geometry=c,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map(b=>{let S=new ao;S.min.fromArray(b.boxMin),S.max.fromArray(b.boxMax);let y=new $i;return y.radius=b.sphereRadius,y.center.fromArray(b.sphereCenter),{boxInitialized:b.boxInitialized,box:S,sphereInitialized:b.sphereInitialized,sphere:y}}),s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=u(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":s=new s1;break;case"Line":s=new Ll(a(e.geometry),l(e.material));break;case"LineLoop":s=new p1(a(e.geometry),l(e.material));break;case"LineSegments":s=new xa(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new d1(a(e.geometry),l(e.material));break;case"Sprite":s=new o1(l(e.material));break;case"Group":s=new $c;break;case"Bone":s=new $0;break;default:s=new nr}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){let p=e.children;for(let d=0;d<p.length;d++)s.add(this.parseObject(p[d],n,r,i,o))}if(e.animations!==void 0){let p=e.animations;for(let d=0;d<p.length;d++){let v=p[d];s.animations.push(o[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);let p=e.levels;for(let d=0;d<p.length;d++){let v=p[d],b=s.getObjectByProperty("uuid",v.object);b!==void 0&&s.addLevel(b,v.distance,v.hysteresis)}}return s}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){let i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){let r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new nr}})}},kme={UVMapping:uE,CubeReflectionMapping:Lu,CubeRefractionMapping:Xc,EquirectangularReflectionMapping:T0,EquirectangularRefractionMapping:C0,CubeUVReflectionMapping:am},T5={RepeatWrapping:M0,ClampToEdgeWrapping:ga,MirroredRepeatWrapping:A0},C5={NearestFilter:Gi,NearestMipmapNearestFilter:G2,NearestMipmapLinearFilter:Vd,LinearFilter:vi,LinearMipmapNearestFilter:d0,LinearMipmapLinearFilter:Al},u2=class extends ji{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let o=this,s=Pu.get(e);if(s!==void 0){if(o.manager.itemStart(e),s.then){s.then(u=>{n&&n(u),o.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s}let a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;let l=fetch(e,a).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(u){return Pu.add(e,u),n&&n(u),o.manager.itemEnd(e),u}).catch(function(u){i&&i(u),Pu.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});Pu.add(e,l),o.manager.itemStart(e)}},dw,cy=class{static getContext(){return dw===void 0&&(dw=new(window.AudioContext||window.webkitAudioContext)),dw}static setContext(e){dw=e}},c2=class extends ji{constructor(e){super(e)}load(e,n,r,i){let o=this,s=new Gs(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{let u=l.slice(0);cy.getContext().decodeAudioData(u,function(h){n(h)}).catch(a)}catch(u){a(u)}},r,i);function a(l){i?i(l):console.error(l),o.manager.itemError(e)}}},M5=new xn,A5=new xn,Sh=new xn,f2=class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Mi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Mi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){let n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Sh.copy(e.projectionMatrix);let i=n.eyeSep/2,o=i*n.near/n.focus,s=n.near*Math.tan(Lh*n.fov*.5)/n.zoom,a,l;A5.elements[12]=-i,M5.elements[12]=i,a=-s*n.aspect+o,l=s*n.aspect+o,Sh.elements[0]=2*n.near/(l-a),Sh.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Sh),a=-s*n.aspect-o,l=s*n.aspect-o,Sh.elements[0]=2*n.near/(l-a),Sh.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Sh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(A5),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(M5)}},iE=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=P5(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let n=P5();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}};function P5(){return(typeof performance>"u"?Date:performance).now()}var bh=new oe,R5=new Ai,Fme=new oe,wh=new oe,h2=class extends nr{constructor(){super(),this.type="AudioListener",this.context=cy.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new iE}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);let n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(bh,R5,Fme),wh.set(0,0,-1).applyQuaternion(R5),n.positionX){let i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(bh.x,i),n.positionY.linearRampToValueAtTime(bh.y,i),n.positionZ.linearRampToValueAtTime(bh.z,i),n.forwardX.linearRampToValueAtTime(wh.x,i),n.forwardY.linearRampToValueAtTime(wh.y,i),n.forwardZ.linearRampToValueAtTime(wh.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(bh.x,bh.y,bh.z),n.setOrientation(wh.x,wh.y,wh.z,r.x,r.y,r.z)}},oE=class extends nr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;let n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},Eh=new oe,I5=new Ai,Ume=new oe,Th=new oe,p2=class extends oE{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Eh,I5,Ume),Th.set(0,0,1).applyQuaternion(I5);let n=this.panner;if(n.positionX){let r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Eh.x,r),n.positionY.linearRampToValueAtTime(Eh.y,r),n.positionZ.linearRampToValueAtTime(Eh.z,r),n.orientationX.linearRampToValueAtTime(Th.x,r),n.orientationY.linearRampToValueAtTime(Th.y,r),n.orientationZ.linearRampToValueAtTime(Th.z,r)}else n.setPosition(Eh.x,Eh.y,Eh.z),n.setOrientation(Th.x,Th.y,Th.z)}},d2=class{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0,n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}},sE=class{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,s;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){let r=this.buffer,i=this.valueSize,o=e*i+i,s=this.cumulativeWeight;if(s===0){for(let a=0;a!==i;++a)r[o+a]=r[a];s=n}else{s+=n;let a=n/s;this._mixBufferRegion(r,o,0,a,i)}this.cumulativeWeight=s}accumulateAdditive(e){let n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){let n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){let l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){let e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,s=i;o!==s;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let s=0;s!==o;++s)e[n+s]=e[r+s]}_slerp(e,n,r,i){Ai.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){let s=this._workIndex*o;Ai.multiplyQuaternionsFlat(e,s,e,n,e,r),Ai.slerpFlat(e,n,e,n,e,s,i)}_lerp(e,n,r,i,o){let s=1-i;for(let a=0;a!==o;++a){let l=n+a;e[l]=e[l]*s+e[r+a]*i}}_lerpAdditive(e,n,r,i,o){for(let s=0;s!==o;++s){let a=n+s;e[a]=e[a]+e[r+s]*i}}},uO="\\[\\]\\.:\\/",Bme=new RegExp("["+uO+"]","g"),cO="[^"+uO+"]",zme="[^"+uO.replace("\\.","")+"]",Hme=/((?:WC+[\/:])*)/.source.replace("WC",cO),Vme=/(WCOD+)?/.source.replace("WCOD",zme),Wme=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",cO),Gme=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",cO),$me=new RegExp("^"+Hme+Vme+Wme+Gme+"$"),Xme=["material","materials","bones","map"],m2=class{constructor(e,n,r){let i=r||pr.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();let r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){let r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){let e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){let e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}},pr=class t{constructor(e,n,r){this.path=n,this.parsedPath=r||t.parseTrackName(n),this.node=t.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new t.Composite(e,n,r):new t(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Bme,"")}static parseTrackName(e){let n=$me.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){let o=r.nodeName.substring(i+1);Xme.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){let r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){let r=function(o){for(let s=0;s<o.length;s++){let a=o[s];if(a.name===n||a.uuid===n)return a;let l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){let r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){let r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){let r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){let r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,o=n.propertyIndex;if(e||(e=t.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}let s=e[i];if(s===void 0){let u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};pr.Composite=m2;pr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};pr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};pr.prototype.GetterByBindingType=[pr.prototype._getValue_direct,pr.prototype._getValue_array,pr.prototype._getValue_arrayElement,pr.prototype._getValue_toArray];pr.prototype.SetterByBindingTypeAndVersioning=[[pr.prototype._setValue_direct,pr.prototype._setValue_direct_setNeedsUpdate,pr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[pr.prototype._setValue_array,pr.prototype._setValue_array_setNeedsUpdate,pr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[pr.prototype._setValue_arrayElement,pr.prototype._setValue_arrayElement_setNeedsUpdate,pr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[pr.prototype._setValue_fromArray,pr.prototype._setValue_fromArray_setNeedsUpdate,pr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var g2=class{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Us(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;let e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};let n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){let e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length,a,l=e.length,u=this.nCachedObjects_;for(let c=0,h=arguments.length;c!==h;++c){let p=arguments[c],d=p.uuid,v=n[d];if(v===void 0){v=l++,n[d]=v,e.push(p);for(let b=0,S=s;b!==S;++b)o[b].push(new pr(p,r[b],i[b]))}else if(v<u){a=e[v];let b=--u,S=e[b];n[S.uuid]=v,e[v]=S,n[d]=b,e[b]=p;for(let y=0,T=s;y!==T;++y){let E=o[y],A=E[b],N=E[v];E[v]=A,N===void 0&&(N=new pr(p,r[y],i[y])),E[b]=N}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){let e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length,o=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){let l=arguments[s],u=l.uuid,c=n[u];if(c!==void 0&&c>=o){let h=o++,p=e[h];n[p.uuid]=c,e[c]=p,n[u]=h,e[h]=l;for(let d=0,v=i;d!==v;++d){let b=r[d],S=b[h],y=b[c];b[c]=S,b[h]=y}}}this.nCachedObjects_=o}uncache(){let e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length,o=this.nCachedObjects_,s=e.length;for(let a=0,l=arguments.length;a!==l;++a){let u=arguments[a],c=u.uuid,h=n[c];if(h!==void 0)if(delete n[c],h<o){let p=--o,d=e[p],v=--s,b=e[v];n[d.uuid]=h,e[h]=d,n[b.uuid]=p,e[p]=b,e.pop();for(let S=0,y=i;S!==y;++S){let T=r[S],E=T[p],A=T[v];T[h]=E,T[p]=A,T.pop()}}else{let p=--s,d=e[p];p>0&&(n[d.uuid]=h),e[h]=d,e.pop();for(let v=0,b=i;v!==b;++v){let S=r[v];S[h]=S[p],S.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){let r=this._bindingsIndicesByPath,i=r[e],o=this._bindings;if(i!==void 0)return o[i];let s=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,h=new Array(u);i=o.length,r[e]=i,s.push(e),a.push(n),o.push(h);for(let p=c,d=l.length;p!==d;++p){let v=l[p];h[p]=new pr(v,e,n)}return h}unsubscribe_(e){let n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){let i=this._paths,o=this._parsedPaths,s=this._bindings,a=s.length-1,l=s[a],u=e[a];n[u]=r,s[r]=l,s.pop(),o[r]=o[a],o.pop(),i[r]=i[a],i.pop()}}},aE=class{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;let o=n.tracks,s=o.length,a=new Array(s),l={endingStart:Ph,endingEnd:Ph};for(let u=0;u!==s;++u){let c=o[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=MV,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){let i=this._clip.duration,o=e._clip.duration,s=o/i,a=i/o;e.warp(1,s,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){let i=this._mixer,o=i.time,s=this.timeScale,a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);let l=a.parameterPositions,u=a.sampleValues;return l[0]=o,l[1]=o+r,u[0]=e/s,u[1]=n/s,this}stopWarping(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}let o=this._startTime;if(o!==null){let l=(e-o)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);let s=this._updateTime(n),a=this._updateWeight(e);if(a>0){let l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case eO:for(let c=0,h=l.length;c!==h;++c)l[c].evaluate(s),u[c].accumulateAdditive(a);break;case gE:default:for(let c=0,h=l.length;c!==h;++c)l[c].evaluate(s),u[c].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;let r=this._weightInterpolant;if(r!==null){let i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;let r=this._timeScaleInterpolant;if(r!==null){let i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){let n=this._clip.duration,r=this.loop,i=this.time+e,o=this._loopCount,s=r===AV;if(e===0)return o===-1?i:s&&(o&1)===1?n-i:i;if(r===CV){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=n||i<0){let a=Math.floor(i/n);i-=n*a,o+=Math.abs(a);let l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){let u=e<0;this._setEndings(u,!u,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(s&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){let i=this._interpolantSettings;r?(i.endingStart=Rh,i.endingEnd=Rh):(e?i.endingStart=this.zeroSlopeAtStart?Rh:Ph:i.endingStart=R0,n?i.endingEnd=this.zeroSlopeAtEnd?Rh:Ph:i.endingEnd=R0)}_scheduleFading(e,n,r){let i=this._mixer,o=i.time,s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);let a=s.parameterPositions,l=s.sampleValues;return a[0]=o,l[0]=n,a[1]=o+e,l[1]=r,this}},jme=new Float32Array(1),v2=class extends ya{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){let r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,s=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName,c=u[l];c===void 0&&(c={},u[l]=c);for(let h=0;h!==o;++h){let p=i[h],d=p.name,v=c[d];if(v!==void 0)++v.referenceCount,s[h]=v;else{if(v=s[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,d));continue}let b=n&&n._propertyBindings[h].binding.parsedPath;v=new sE(pr.create(r,d,b),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,d),s[h]=v}a[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){let r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}let n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){let o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){let o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){let i=this._actions,o=this._actionsByClip,s=o[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=s;else{let a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){let n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;let o=e._clip.uuid,s=this._actionsByClip,a=s[o],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;let h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){let o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){let n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){let n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){let i=this._bindingsByRootAndName,o=this._bindings,s=i[n];s===void 0&&(s={},i[n]=s),s[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){let n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,s=this._bindingsByRootAndName,a=s[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[o],Object.keys(a).length===0&&delete s[i]}_lendBinding(e){let n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){let n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){let e=this._controlInterpolants,n=this._nActiveControlInterpolants++,r=e[n];return r===void 0&&(r=new oy(new Float32Array(2),new Float32Array(2),1,jme),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){let n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){let i=n||this._root,o=i.uuid,s=typeof e=="string"?Xh.findByName(i,e):e,a=s!==null?s.uuid:e,l=this._actionsByClip[a],u=null;if(r===void 0&&(s!==null?r=s.blendMode:r=gE),l!==void 0){let h=l.actionByRoot[o];if(h!==void 0&&h.blendMode===r)return h;u=l.knownActions[0],s===null&&(s=u._clip)}if(s===null)return null;let c=new aE(this,s,n,r);return this._bindAction(c,u),this._addInactiveAction(c,a,o),c}existingAction(e,n){let r=n||this._root,i=r.uuid,o=typeof e=="string"?Xh.findByName(r,e):e,s=o?o.uuid:e,a=this._actionsByClip[s];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){let e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;let n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),s=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,o,s);let a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){let s=o.knownActions;for(let a=0,l=s.length;a!==l;++a){let u=s[a];this._deactivateAction(u);let c=u._cacheIndex,h=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=c,n[c]=h,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){let n=e.uuid,r=this._actionsByClip;for(let s in r){let a=r[s].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}let i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(let s in o){let a=o[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){let r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}},y2=class t{constructor(e){this.value=e}clone(){return new t(this.value.clone===void 0?this.value:this.value.clone())}},Yme=0,x2=class extends ya{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Yme++}),this.name="",this.usage=L0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){let n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;let n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){let o=Array.isArray(n[r])?n[r]:[n[r]];for(let s=0;s<o.length;s++)this.uniforms.push(o[s].clone())}return this}clone(){return new this.constructor().copy(this)}},_2=class extends jc{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){let n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){let n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}},S2=class{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}},N5=new xn,b2=class{constructor(e,n,r=0,i=1/0){this.ray=new Nl(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Jd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return N5.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(N5),this}intersectObject(e,n=!0,r=[]){return w2(e,this,r,n),r.sort(O5),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)w2(e[i],this,r,n);return r.sort(O5),r}};function O5(t,e){return t.distance-e.distance}function w2(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){let o=t.children;for(let s=0,a=o.length;s<a;s++)w2(o[s],e,n,!0)}}var sm=class{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Jr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},E2=class{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}},T2=class t{constructor(e,n,r,i){t.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){let o=this.elements;return o[0]=e,o[2]=n,o[1]=r,o[3]=i,this}},L5=new ct,C2=class{constructor(e=new ct(1/0,1/0),n=new ct(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){let r=L5.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,L5).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},D5=new oe,mw=new oe,M2=class{constructor(e=new oe,n=new oe){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){D5.subVectors(e,this.start),mw.subVectors(this.end,this.start);let r=mw.dot(mw),o=mw.dot(D5)/r;return n&&(o=Jr(o,0,1)),o}closestPointToPoint(e,n,r){let i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}},k5=new oe,A2=class extends nr{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";let r=new Tn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1,l=32;s<l;s++,a++){let u=s/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new Yt(i,3));let o=new lo({fog:!1,toneMapped:!1});this.cone=new xa(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);let e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),k5.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(k5),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},Wc=new oe,gw=new xn,gN=new xn,P2=class extends xa{constructor(e){let n=r8(e),r=new Tn,i=[],o=[],s=new Xt(0,0,1),a=new Xt(0,1,0);for(let u=0;u<n.length;u++){let c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(s.r,s.g,s.b),o.push(a.r,a.g,a.b))}r.setAttribute("position",new Yt(i,3)),r.setAttribute("color",new Yt(o,3));let l=new lo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){let n=this.bones,r=this.geometry,i=r.getAttribute("position");gN.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<n.length;o++){let a=n[o];a.parent&&a.parent.isBone&&(gw.multiplyMatrices(gN,a.matrixWorld),Wc.setFromMatrixPosition(gw),i.setXYZ(s,Wc.x,Wc.y,Wc.z),gw.multiplyMatrices(gN,a.parent.matrixWorld),Wc.setFromMatrixPosition(gw),i.setXYZ(s+1,Wc.x,Wc.y,Wc.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}};function r8(t){let e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,r8(t.children[n]));return e}var R2=class extends Qr{constructor(e,n,r){let i=new ry(n,4,2),o=new Ol({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},qme=new oe,F5=new Xt,U5=new Xt,I2=class extends nr{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";let i=new ny(n);i.rotateY(Math.PI*.5),this.material=new Ol({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);let o=i.getAttribute("position"),s=new Float32Array(o.count*3);i.setAttribute("color",new Un(s,3)),this.add(new Qr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){let e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{let n=e.geometry.getAttribute("color");F5.copy(this.light.color),U5.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){let o=r<i/2?F5:U5;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(qme.setFromMatrixPosition(this.light.matrixWorld).negate())}},N2=class extends xa{constructor(e=10,n=10,r=4473924,i=8947848){r=new Xt(r),i=new Xt(i);let o=n/2,s=e/n,a=e/2,l=[],u=[];for(let p=0,d=0,v=-a;p<=n;p++,v+=s){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);let b=p===o?r:i;b.toArray(u,d),d+=3,b.toArray(u,d),d+=3,b.toArray(u,d),d+=3,b.toArray(u,d),d+=3}let c=new Tn;c.setAttribute("position",new Yt(l,3)),c.setAttribute("color",new Yt(u,3));let h=new lo({vertexColors:!0,toneMapped:!1});super(c,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},O2=class extends xa{constructor(e=10,n=16,r=8,i=64,o=4473924,s=8947848){o=new Xt(o),s=new Xt(s);let a=[],l=[];if(n>1)for(let h=0;h<n;h++){let p=h/n*(Math.PI*2),d=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(d,0,v);let b=h&1?o:s;l.push(b.r,b.g,b.b),l.push(b.r,b.g,b.b)}for(let h=0;h<r;h++){let p=h&1?o:s,d=e-e/r*h;for(let v=0;v<i;v++){let b=v/i*(Math.PI*2),S=Math.sin(b)*d,y=Math.cos(b)*d;a.push(S,0,y),l.push(p.r,p.g,p.b),b=(v+1)/i*(Math.PI*2),S=Math.sin(b)*d,y=Math.cos(b)*d,a.push(S,0,y),l.push(p.r,p.g,p.b)}}let u=new Tn;u.setAttribute("position",new Yt(a,3)),u.setAttribute("color",new Yt(l,3));let c=new lo({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},B5=new oe,vw=new oe,z5=new oe,L2=class extends nr{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Tn;i.setAttribute("position",new Yt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));let o=new lo({fog:!1,toneMapped:!1});this.lightPlane=new Ll(i,o),this.add(this.lightPlane),i=new Tn,i.setAttribute("position",new Yt([0,0,0,0,0,1],3)),this.targetLine=new Ll(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),B5.setFromMatrixPosition(this.light.matrixWorld),vw.setFromMatrixPosition(this.light.target.matrixWorld),z5.subVectors(vw,B5),this.lightPlane.lookAt(vw),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(vw),this.targetLine.scale.z=z5.length()}},yw=new oe,Kr=new em,D2=class extends xa{constructor(e){let n=new Tn,r=new lo({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],s={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,b){l(v),l(b)}function l(v){i.push(0,0,0),o.push(0,0,0),s[v]===void 0&&(s[v]=[]),s[v].push(i.length/3-1)}n.setAttribute("position",new Yt(i,3)),n.setAttribute("color",new Yt(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();let u=new Xt(16755200),c=new Xt(16711680),h=new Xt(43775),p=new Xt(16777215),d=new Xt(3355443);this.setColors(u,c,h,p,d)}setColors(e,n,r,i,o){let a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,o.r,o.g,o.b),a.setXYZ(41,o.r,o.g,o.b),a.setXYZ(42,o.r,o.g,o.b),a.setXYZ(43,o.r,o.g,o.b),a.setXYZ(44,o.r,o.g,o.b),a.setXYZ(45,o.r,o.g,o.b),a.setXYZ(46,o.r,o.g,o.b),a.setXYZ(47,o.r,o.g,o.b),a.setXYZ(48,o.r,o.g,o.b),a.setXYZ(49,o.r,o.g,o.b),a.needsUpdate=!0}update(){let e=this.geometry,n=this.pointMap,r=1,i=1;Kr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),li("c",n,e,Kr,0,0,-1),li("t",n,e,Kr,0,0,1),li("n1",n,e,Kr,-r,-i,-1),li("n2",n,e,Kr,r,-i,-1),li("n3",n,e,Kr,-r,i,-1),li("n4",n,e,Kr,r,i,-1),li("f1",n,e,Kr,-r,-i,1),li("f2",n,e,Kr,r,-i,1),li("f3",n,e,Kr,-r,i,1),li("f4",n,e,Kr,r,i,1),li("u1",n,e,Kr,r*.7,i*1.1,-1),li("u2",n,e,Kr,-r*.7,i*1.1,-1),li("u3",n,e,Kr,0,i*2,-1),li("cf1",n,e,Kr,-r,0,1),li("cf2",n,e,Kr,r,0,1),li("cf3",n,e,Kr,0,-i,1),li("cf4",n,e,Kr,0,i,1),li("cn1",n,e,Kr,-r,0,-1),li("cn2",n,e,Kr,r,0,-1),li("cn3",n,e,Kr,0,-i,-1),li("cn4",n,e,Kr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function li(t,e,n,r,i,o,s){yw.set(i,o,s).unproject(r);let a=e[t];if(a!==void 0){let l=n.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],yw.x,yw.y,yw.z)}}var xw=new ao,k2=class extends xa{constructor(e,n=16776960){let r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new Tn;o.setIndex(new Un(r,1)),o.setAttribute("position",new Un(i,3)),super(o,new lo({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&xw.setFromObject(this.object),xw.isEmpty())return;let n=xw.min,r=xw.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}},F2=class extends xa{constructor(e,n=16776960){let r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Tn;o.setIndex(new Un(r,1)),o.setAttribute("position",new Yt(i,3)),super(o,new lo({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},U2=class extends Ll{constructor(e,n=1,r=16776960){let i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new Tn;s.setAttribute("position",new Yt(o,3)),s.computeBoundingSphere(),super(s,new lo({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;let a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Tn;l.setAttribute("position",new Yt(a,3)),l.computeBoundingSphere(),this.add(new Qr(l,new Ol({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}},H5=new oe,_w,vN,B2=class extends nr{constructor(e=new oe(0,0,1),n=new oe(0,0,0),r=1,i=16776960,o=r*.2,s=o*.2){super(),this.type="ArrowHelper",_w===void 0&&(_w=new Tn,_w.setAttribute("position",new Yt([0,0,0,0,1,0],3)),vN=new om(0,.5,1,5,1),vN.translate(0,-.5,0)),this.position.copy(n),this.line=new Ll(_w,new lo({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Qr(vN,new Ol({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{H5.set(e.z,0,-e.x).normalize();let n=Math.acos(e.y);this.quaternion.setFromAxisAngle(H5,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}},z2=class extends xa{constructor(e=1){let n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Tn;i.setAttribute("position",new Yt(n,3)),i.setAttribute("color",new Yt(r,3));let o=new lo({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){let i=new Xt,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},H2=class{constructor(){this.type="ShapePath",this.color=new Xt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new zh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,s){return this.currentPath.bezierCurveTo(e,n,r,i,o,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(y){let T=[];for(let E=0,A=y.length;E<A;E++){let N=y[E],x=new Nu;x.curves=N.curves,T.push(x)}return T}function r(y,T){let E=T.length,A=!1;for(let N=E-1,x=0;x<E;N=x++){let D=T[N],k=T[x],U=k.x-D.x,L=k.y-D.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(D=T[x],U=-U,k=T[N],L=-L),y.y<D.y||y.y>k.y)continue;if(y.y===D.y){if(y.x===D.x)return!0}else{let j=L*(y.x-D.x)-U*(y.y-D.y);if(j===0)return!0;if(j<0)continue;A=!A}}else{if(y.y!==D.y)continue;if(k.x<=y.x&&y.x<=D.x||D.x<=y.x&&y.x<=k.x)return!0}}return A}let i=Rl.isClockWise,o=this.subPaths;if(o.length===0)return[];let s,a,l,u=[];if(o.length===1)return a=o[0],l=new Nu,l.curves=a.curves,u.push(l),u;let c=!i(o[0].getPoints());c=e?!c:c;let h=[],p=[],d=[],v=0,b;p[v]=void 0,d[v]=[];for(let y=0,T=o.length;y<T;y++)a=o[y],b=a.getPoints(),s=i(b),s=e?!s:s,s?(!c&&p[v]&&v++,p[v]={s:new Nu,p:b},p[v].s.curves=a.curves,c&&v++,d[v]=[]):d[v].push({h:a,p:b[0]});if(!p[0])return n(o);if(p.length>1){let y=!1,T=0;for(let E=0,A=p.length;E<A;E++)h[E]=[];for(let E=0,A=p.length;E<A;E++){let N=d[E];for(let x=0;x<N.length;x++){let D=N[x],k=!0;for(let U=0;U<p.length;U++)r(D.p,p[U].p)&&(E!==U&&T++,k?(k=!1,h[U].push(D)):y=!0);k&&h[E].push(D)}}T>0&&y===!1&&(d=h)}let S;for(let y=0,T=p.length;y<T;y++){l=p[y].s,u.push(l),S=d[y];for(let E=0,A=S.length;E<A;E++)l.holes.push(S[E].h)}return u}},fy=class extends ya{constructor(e,n){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}},V2=class extends Bs{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:lE}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=lE);var pO={};gl(pO,{STLLoader:()=>hO});var hO=class extends ji{constructor(e){super(e)}load(e,n,r,i){let o=this,s=new Gs(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{n(o.parse(a))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){function n(u){let c=new DataView(u),h=32/8*3+32/8*3*3+16/8,p=c.getUint32(80,!0);if(80+32/8+p*h===c.byteLength)return!0;let v=[115,111,108,105,100];for(let b=0;b<5;b++)if(r(v,c,b))return!1;return!0}function r(u,c,h){for(let p=0,d=u.length;p<d;p++)if(u[p]!==c.getUint8(h+p))return!1;return!0}function i(u){let c=new DataView(u),h=c.getUint32(80,!0),p,d,v,b=!1,S,y,T,E,A;for(let j=0;j<70;j++)c.getUint32(j,!1)==1129270351&&c.getUint8(j+4)==82&&c.getUint8(j+5)==61&&(b=!0,S=new Float32Array(h*3*3),y=c.getUint8(j+6)/255,T=c.getUint8(j+7)/255,E=c.getUint8(j+8)/255,A=c.getUint8(j+9)/255);let N=84,x=12*4+2,D=new Tn,k=new Float32Array(h*3*3),U=new Float32Array(h*3*3),L=new Xt;for(let j=0;j<h;j++){let ie=N+j*x,se=c.getFloat32(ie,!0),fe=c.getFloat32(ie+4,!0),_e=c.getFloat32(ie+8,!0);if(b){let J=c.getUint16(ie+48,!0);(J&32768)===0?(p=(J&31)/31,d=(J>>5&31)/31,v=(J>>10&31)/31):(p=y,d=T,v=E)}for(let J=1;J<=3;J++){let te=ie+J*12,ne=j*3*3+(J-1)*3;k[ne]=c.getFloat32(te,!0),k[ne+1]=c.getFloat32(te+4,!0),k[ne+2]=c.getFloat32(te+8,!0),U[ne]=se,U[ne+1]=fe,U[ne+2]=_e,b&&(L.set(p,d,v).convertSRGBToLinear(),S[ne]=L.r,S[ne+1]=L.g,S[ne+2]=L.b)}}return D.setAttribute("position",new Un(k,3)),D.setAttribute("normal",new Un(U,3)),b&&(D.setAttribute("color",new Un(S,3)),D.hasColors=!0,D.alpha=A),D}function o(u){let c=new Tn,h=/solid([\s\S]*?)endsolid/g,p=/facet([\s\S]*?)endfacet/g,d=/solid\s(.+)/,v=0,b=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,S=new RegExp("vertex"+b+b+b,"g"),y=new RegExp("normal"+b+b+b,"g"),T=[],E=[],A=[],N=new oe,x,D=0,k=0,U=0;for(;(x=h.exec(u))!==null;){k=U;let L=x[0],j=(x=d.exec(L))!==null?x[1]:"";for(A.push(j);(x=p.exec(L))!==null;){let fe=0,_e=0,J=x[0];for(;(x=y.exec(J))!==null;)N.x=parseFloat(x[1]),N.y=parseFloat(x[2]),N.z=parseFloat(x[3]),_e++;for(;(x=S.exec(J))!==null;)T.push(parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3])),E.push(N.x,N.y,N.z),fe++,U++;_e!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+v),fe!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+v),v++}let ie=k,se=U-k;c.userData.groupNames=A,c.addGroup(ie,se,D),D++}return c.setAttribute("position",new Yt(T,3)),c.setAttribute("normal",new Yt(E,3)),c}function s(u){return typeof u!="string"?new TextDecoder().decode(u):u}function a(u){if(typeof u=="string"){let c=new Uint8Array(u.length);for(let h=0;h<u.length;h++)c[h]=u.charCodeAt(h)&255;return c.buffer||c}else return u}let l=a(e);return n(l)?i(l):o(s(e))}};var mO={};gl(mO,{computeMikkTSpaceTangents:()=>Zme,computeMorphedAttributes:()=>ige,deepCloneAttribute:()=>Jme,deinterleaveAttribute:()=>SE,deinterleaveGeometry:()=>ege,estimateBytesUsed:()=>tge,interleaveAttributes:()=>Qme,mergeAttributes:()=>dO,mergeGeometries:()=>Kme,mergeGroups:()=>oge,mergeVertices:()=>nge,toCreasedNormals:()=>sge,toTrianglesDrawMode:()=>rge});function Zme(t,e,n=!0){if(!e||!e.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!t.hasAttribute("position")||!t.hasAttribute("normal")||!t.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function r(s){if(s.normalized||s.isInterleavedBufferAttribute){let a=new Float32Array(s.count*s.itemSize);for(let l=0,u=0;l<s.count;l++)a[u++]=s.getX(l),a[u++]=s.getY(l),s.itemSize>2&&(a[u++]=s.getZ(l));return a}return s.array instanceof Float32Array?s.array:new Float32Array(s.array)}let i=t.index?t.toNonIndexed():t,o=e.generateTangents(r(i.attributes.position),r(i.attributes.normal),r(i.attributes.uv));if(n)for(let s=3;s<o.length;s+=4)o[s]*=-1;return i.setAttribute("tangent",new Un(o,4)),t!==i&&t.copy(i),t}function Kme(t,e=!1){let n=t[0].index!==null,r=new Set(Object.keys(t[0].attributes)),i=new Set(Object.keys(t[0].morphAttributes)),o={},s={},a=t[0].morphTargetsRelative,l=new Tn,u=0;for(let c=0;c<t.length;++c){let h=t[c],p=0;if(n!==(h.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let d in h.attributes){if(!r.has(d))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+'. All geometries must have compatible attributes; make sure "'+d+'" attribute exists among all geometries, or in none of them.'),null;o[d]===void 0&&(o[d]=[]),o[d].push(h.attributes[d]),p++}if(p!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". Make sure all geometries have the same number of attributes."),null;if(a!==h.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let d in h.morphAttributes){if(!i.has(d))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+".  .morphAttributes must be consistent throughout all geometries."),null;s[d]===void 0&&(s[d]=[]),s[d].push(h.morphAttributes[d])}if(e){let d;if(n)d=h.index.count;else if(h.attributes.position!==void 0)d=h.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". The geometry must have either an index or a position attribute"),null;l.addGroup(u,d,c),u+=d}}if(n){let c=0,h=[];for(let p=0;p<t.length;++p){let d=t[p].index;for(let v=0;v<d.count;++v)h.push(d.getX(v)+c);c+=t[p].attributes.position.count}l.setIndex(h)}for(let c in o){let h=dO(o[c]);if(!h)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+c+" attribute."),null;l.setAttribute(c,h)}for(let c in s){let h=s[c][0].length;if(h===0)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[c]=[];for(let p=0;p<h;++p){let d=[];for(let b=0;b<s[c].length;++b)d.push(s[c][b][p]);let v=dO(d);if(!v)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+c+" morphAttribute."),null;l.morphAttributes[c].push(v)}}return l}function dO(t){let e,n,r,i=-1,o=0;for(let u=0;u<t.length;++u){let c=t[u];if(e===void 0&&(e=c.array.constructor),e!==c.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(n===void 0&&(n=c.itemSize),n!==c.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(r===void 0&&(r=c.normalized),r!==c.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(i===-1&&(i=c.gpuType),i!==c.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;o+=c.count*n}let s=new e(o),a=new Un(s,n,r),l=0;for(let u=0;u<t.length;++u){let c=t[u];if(c.isInterleavedBufferAttribute){let h=l/n;for(let p=0,d=c.count;p<d;p++)for(let v=0;v<n;v++){let b=c.getComponent(p,v);a.setComponent(p+h,v,b)}}else s.set(c.array,l);l+=c.count*n}return i!==void 0&&(a.gpuType=i),a}function Jme(t){return t.isInstancedInterleavedBufferAttribute||t.isInterleavedBufferAttribute?SE(t):t.isInstancedBufferAttribute?new Qa().copy(t):new Un().copy(t)}function Qme(t){let e,n=0,r=0;for(let u=0,c=t.length;u<c;++u){let h=t[u];if(e===void 0&&(e=h.array.constructor),e!==h.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=h.array.length,r+=h.itemSize}let i=new jc(new e(n),r),o=0,s=[],a=["getX","getY","getZ","getW"],l=["setX","setY","setZ","setW"];for(let u=0,c=t.length;u<c;u++){let h=t[u],p=h.itemSize,d=h.count,v=new ku(i,p,o,h.normalized);s.push(v),o+=p;for(let b=0;b<d;b++)for(let S=0;S<p;S++)v[l[S]](b,h[a[S]](b))}return s}function SE(t){let e=t.data.array.constructor,n=t.count,r=t.itemSize,i=t.normalized,o=new e(n*r),s;t.isInstancedInterleavedBufferAttribute?s=new Qa(o,r,i,t.meshPerAttribute):s=new Un(o,r,i);for(let a=0;a<n;a++)s.setX(a,t.getX(a)),r>=2&&s.setY(a,t.getY(a)),r>=3&&s.setZ(a,t.getZ(a)),r>=4&&s.setW(a,t.getW(a));return s}function ege(t){let e=t.attributes,n=t.morphTargets,r=new Map;for(let i in e){let o=e[i];o.isInterleavedBufferAttribute&&(r.has(o)||r.set(o,SE(o)),e[i]=r.get(o))}for(let i in n){let o=n[i];o.isInterleavedBufferAttribute&&(r.has(o)||r.set(o,SE(o)),n[i]=r.get(o))}}function tge(t){let e=0;for(let r in t.attributes){let i=t.getAttribute(r);e+=i.count*i.itemSize*i.array.BYTES_PER_ELEMENT}let n=t.getIndex();return e+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0,e}function nge(t,e=1e-4){e=Math.max(e,Number.EPSILON);let n={},r=t.getIndex(),i=t.getAttribute("position"),o=r?r.count:i.count,s=0,a=Object.keys(t.attributes),l={},u={},c=[],h=["getX","getY","getZ","getW"],p=["setX","setY","setZ","setW"];for(let T=0,E=a.length;T<E;T++){let A=a[T],N=t.attributes[A];l[A]=new N.constructor(new N.array.constructor(N.count*N.itemSize),N.itemSize,N.normalized);let x=t.morphAttributes[A];x&&(u[A]||(u[A]=[]),x.forEach((D,k)=>{let U=new D.array.constructor(D.count*D.itemSize);u[A][k]=new D.constructor(U,D.itemSize,D.normalized)}))}let d=e*.5,v=Math.log10(1/e),b=Math.pow(10,v),S=d*b;for(let T=0;T<o;T++){let E=r?r.getX(T):T,A="";for(let N=0,x=a.length;N<x;N++){let D=a[N],k=t.getAttribute(D),U=k.itemSize;for(let L=0;L<U;L++)A+=`${~~(k[h[L]](E)*b+S)},`}if(A in n)c.push(n[A]);else{for(let N=0,x=a.length;N<x;N++){let D=a[N],k=t.getAttribute(D),U=t.morphAttributes[D],L=k.itemSize,j=l[D],ie=u[D];for(let se=0;se<L;se++){let fe=h[se],_e=p[se];if(j[_e](s,k[fe](E)),U)for(let J=0,te=U.length;J<te;J++)ie[J][_e](s,U[J][fe](E))}}n[A]=s,c.push(s),s++}}let y=t.clone();for(let T in t.attributes){let E=l[T];if(y.setAttribute(T,new E.constructor(E.array.slice(0,s*E.itemSize),E.itemSize,E.normalized)),T in u)for(let A=0;A<u[T].length;A++){let N=u[T][A];y.morphAttributes[T][A]=new N.constructor(N.array.slice(0,s*N.itemSize),N.itemSize,N.normalized)}}return y.setIndex(c),y}function rge(t,e){if(e===tO)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===vE||e===nO){let n=t.getIndex();if(n===null){let s=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)s.push(l);t.setIndex(s),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}let r=n.count-2,i=[];if(e===vE)for(let s=1;s<=r;s++)i.push(n.getX(0)),i.push(n.getX(s)),i.push(n.getX(s+1));else for(let s=0;s<r;s++)s%2===0?(i.push(n.getX(s)),i.push(n.getX(s+1)),i.push(n.getX(s+2))):(i.push(n.getX(s+2)),i.push(n.getX(s+1)),i.push(n.getX(s)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");let o=t.clone();return o.setIndex(i),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}function ige(t){let e=new oe,n=new oe,r=new oe,i=new oe,o=new oe,s=new oe,a=new oe,l=new oe,u=new oe;function c(xe,Ce,Le,rt,ot,Ae,ze,je){e.fromBufferAttribute(Ce,ot),n.fromBufferAttribute(Ce,Ae),r.fromBufferAttribute(Ce,ze);let it=xe.morphTargetInfluences;if(Le&&it){a.set(0,0,0),l.set(0,0,0),u.set(0,0,0);for(let pt=0,It=Le.length;pt<It;pt++){let Nt=it[pt],mt=Le[pt];Nt!==0&&(i.fromBufferAttribute(mt,ot),o.fromBufferAttribute(mt,Ae),s.fromBufferAttribute(mt,ze),rt?(a.addScaledVector(i,Nt),l.addScaledVector(o,Nt),u.addScaledVector(s,Nt)):(a.addScaledVector(i.sub(e),Nt),l.addScaledVector(o.sub(n),Nt),u.addScaledVector(s.sub(r),Nt)))}e.add(a),n.add(l),r.add(u)}xe.isSkinnedMesh&&(xe.applyBoneTransform(ot,e),xe.applyBoneTransform(Ae,n),xe.applyBoneTransform(ze,r)),je[ot*3+0]=e.x,je[ot*3+1]=e.y,je[ot*3+2]=e.z,je[Ae*3+0]=n.x,je[Ae*3+1]=n.y,je[Ae*3+2]=n.z,je[ze*3+0]=r.x,je[ze*3+1]=r.y,je[ze*3+2]=r.z}let h=t.geometry,p=t.material,d,v,b,S=h.index,y=h.attributes.position,T=h.morphAttributes.position,E=h.morphTargetsRelative,A=h.attributes.normal,N=h.morphAttributes.position,x=h.groups,D=h.drawRange,k,U,L,j,ie,se,fe,_e=new Float32Array(y.count*y.itemSize),J=new Float32Array(A.count*A.itemSize);if(S!==null)if(Array.isArray(p))for(k=0,L=x.length;k<L;k++)for(ie=x[k],se=Math.max(ie.start,D.start),fe=Math.min(ie.start+ie.count,D.start+D.count),U=se,j=fe;U<j;U+=3)d=S.getX(U),v=S.getX(U+1),b=S.getX(U+2),c(t,y,T,E,d,v,b,_e),c(t,A,N,E,d,v,b,J);else for(se=Math.max(0,D.start),fe=Math.min(S.count,D.start+D.count),k=se,L=fe;k<L;k+=3)d=S.getX(k),v=S.getX(k+1),b=S.getX(k+2),c(t,y,T,E,d,v,b,_e),c(t,A,N,E,d,v,b,J);else if(Array.isArray(p))for(k=0,L=x.length;k<L;k++)for(ie=x[k],se=Math.max(ie.start,D.start),fe=Math.min(ie.start+ie.count,D.start+D.count),U=se,j=fe;U<j;U+=3)d=U,v=U+1,b=U+2,c(t,y,T,E,d,v,b,_e),c(t,A,N,E,d,v,b,J);else for(se=Math.max(0,D.start),fe=Math.min(y.count,D.start+D.count),k=se,L=fe;k<L;k+=3)d=k,v=k+1,b=k+2,c(t,y,T,E,d,v,b,_e),c(t,A,N,E,d,v,b,J);let te=new Yt(_e,3),ne=new Yt(J,3);return{positionAttribute:y,normalAttribute:A,morphedPositionAttribute:te,morphedNormalAttribute:ne}}function oge(t){if(t.groups.length===0)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),t;let e=t.groups;if(e=e.sort((s,a)=>s.materialIndex!==a.materialIndex?s.materialIndex-a.materialIndex:s.start-a.start),t.getIndex()===null){let s=t.getAttribute("position"),a=[];for(let l=0;l<s.count;l+=3)a.push(l,l+1,l+2);t.setIndex(a)}let n=t.getIndex(),r=[];for(let s=0;s<e.length;s++){let a=e[s],l=a.start,u=l+a.count;for(let c=l;c<u;c++)r.push(n.getX(c))}t.dispose(),t.setIndex(r);let i=0;for(let s=0;s<e.length;s++){let a=e[s];a.start=i,i+=a.count}let o=e[0];t.groups=[o];for(let s=1;s<e.length;s++){let a=e[s];o.materialIndex===a.materialIndex?o.count+=a.count:(o=a,t.groups.push(o))}return t}function sge(t,e=Math.PI/3){let n=Math.cos(e),r=(1+1e-10)*100,i=[new oe,new oe,new oe],o=new oe,s=new oe,a=new oe,l=new oe;function u(b){let S=~~(b.x*r),y=~~(b.y*r),T=~~(b.z*r);return`${S},${y},${T}`}let c=t.index?t.toNonIndexed():t,h=c.attributes.position,p={};for(let b=0,S=h.count/3;b<S;b++){let y=3*b,T=i[0].fromBufferAttribute(h,y+0),E=i[1].fromBufferAttribute(h,y+1),A=i[2].fromBufferAttribute(h,y+2);o.subVectors(A,E),s.subVectors(T,E);let N=new oe().crossVectors(o,s).normalize();for(let x=0;x<3;x++){let D=i[x],k=u(D);k in p||(p[k]=[]),p[k].push(N)}}let d=new Float32Array(h.count*3),v=new Un(d,3,!1);for(let b=0,S=h.count/3;b<S;b++){let y=3*b,T=i[0].fromBufferAttribute(h,y+0),E=i[1].fromBufferAttribute(h,y+1),A=i[2].fromBufferAttribute(h,y+2);o.subVectors(A,E),s.subVectors(T,E),a.crossVectors(o,s).normalize();for(let N=0;N<3;N++){let x=i[N],D=u(x),k=p[D];l.set(0,0,0);for(let U=0,L=k.length;U<L;U++){let j=k[U];a.dot(j)>n&&l.add(j)}l.normalize(),v.setXYZ(y+N,l.x,l.y,l.z)}}return c.setAttribute("normal",v),c}var xO={};gl(xO,{OrbitControls:()=>vO});var i8={type:"change"},yO={type:"start"},s8={type:"end"},bE=new Nl,o8=new ma,age=Math.cos(70*oO.DEG2RAD),Ii=new oe,cs=2*Math.PI,vr={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},gO=1e-6,vO=class extends fy{constructor(e,n=null){super(e,n),this.state=vr.NONE,this.enabled=!0,this.target=new oe,this.cursor=new oe,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:qc.ROTATE,MIDDLE:qc.DOLLY,RIGHT:qc.PAN},this.touches={ONE:Zc.ROTATE,TWO:Zc.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new oe,this._lastQuaternion=new Ai,this._lastTargetPosition=new oe,this._quat=new Ai().setFromUnitVectors(e.up,new oe(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new sm,this._sphericalDelta=new sm,this._scale=1,this._panOffset=new oe,this._rotateStart=new ct,this._rotateEnd=new ct,this._rotateDelta=new ct,this._panStart=new ct,this._panEnd=new ct,this._panDelta=new ct,this._dollyStart=new ct,this._dollyEnd=new ct,this._dollyDelta=new ct,this._dollyDirection=new oe,this._mouse=new ct,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=uge.bind(this),this._onPointerDown=lge.bind(this),this._onPointerUp=cge.bind(this),this._onContextMenu=vge.bind(this),this._onMouseWheel=pge.bind(this),this._onKeyDown=dge.bind(this),this._onTouchStart=mge.bind(this),this._onTouchMove=gge.bind(this),this._onMouseDown=fge.bind(this),this._onMouseMove=hge.bind(this),this._interceptControlDown=yge.bind(this),this._interceptControlUp=xge.bind(this),this.domElement!==null&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(i8),this.update(),this.state=vr.NONE}update(e=null){let n=this.object.position;Ii.copy(n).sub(this.target),Ii.applyQuaternion(this._quat),this._spherical.setFromVector3(Ii),this.autoRotate&&this.state===vr.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let r=this.minAzimuthAngle,i=this.maxAzimuthAngle;isFinite(r)&&isFinite(i)&&(r<-Math.PI?r+=cs:r>Math.PI&&(r-=cs),i<-Math.PI?i+=cs:i>Math.PI&&(i-=cs),r<=i?this._spherical.theta=Math.max(r,Math.min(i,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(r+i)/2?Math.max(r,this._spherical.theta):Math.min(i,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let o=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{let s=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),o=s!=this._spherical.radius}if(Ii.setFromSpherical(this._spherical),Ii.applyQuaternion(this._quatInverse),n.copy(this.target).add(Ii),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let s=null;if(this.object.isPerspectiveCamera){let a=Ii.length();s=this._clampDistance(a*this._scale);let l=a-s;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),o=!!l}else if(this.object.isOrthographicCamera){let a=new oe(this._mouse.x,this._mouse.y,0);a.unproject(this.object);let l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),o=l!==this.object.zoom;let u=new oe(this._mouse.x,this._mouse.y,0);u.unproject(this.object),this.object.position.sub(u).add(a),this.object.updateMatrixWorld(),s=Ii.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;s!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(s).add(this.object.position):(bE.origin.copy(this.object.position),bE.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(bE.direction))<age?this.object.lookAt(this.target):(o8.setFromNormalAndCoplanarPoint(this.object.up,this.target),bE.intersectPlane(o8,this.target))))}else if(this.object.isOrthographicCamera){let s=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),s!==this.object.zoom&&(this.object.updateProjectionMatrix(),o=!0)}return this._scale=1,this._performCursorZoom=!1,o||this._lastPosition.distanceToSquared(this.object.position)>gO||8*(1-this._lastQuaternion.dot(this.object.quaternion))>gO||this._lastTargetPosition.distanceToSquared(this.target)>gO?(this.dispatchEvent(i8),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?cs/60*this.autoRotateSpeed*e:cs/60/60*this.autoRotateSpeed}_getZoomScale(e){let n=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*n)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,n){Ii.setFromMatrixColumn(n,0),Ii.multiplyScalar(-e),this._panOffset.add(Ii)}_panUp(e,n){this.screenSpacePanning===!0?Ii.setFromMatrixColumn(n,1):(Ii.setFromMatrixColumn(n,0),Ii.crossVectors(this.object.up,Ii)),Ii.multiplyScalar(e),this._panOffset.add(Ii)}_pan(e,n){let r=this.domElement;if(this.object.isPerspectiveCamera){let i=this.object.position;Ii.copy(i).sub(this.target);let o=Ii.length();o*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*o/r.clientHeight,this.object.matrix),this._panUp(2*n*o/r.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrix),this._panUp(n*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,n){if(!this.zoomToCursor)return;this._performCursorZoom=!0;let r=this.domElement.getBoundingClientRect(),i=e-r.left,o=n-r.top,s=r.width,a=r.height;this._mouse.x=i/s*2-1,this._mouse.y=-(o/a)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);let n=this.domElement;this._rotateLeft(cs*this._rotateDelta.x/n.clientHeight),this._rotateUp(cs*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let n=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateUp(cs*this.rotateSpeed/this.domElement.clientHeight):this._pan(0,this.keyPanSpeed),n=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateUp(-cs*this.rotateSpeed/this.domElement.clientHeight):this._pan(0,-this.keyPanSpeed),n=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateLeft(cs*this.rotateSpeed/this.domElement.clientHeight):this._pan(this.keyPanSpeed,0),n=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateLeft(-cs*this.rotateSpeed/this.domElement.clientHeight):this._pan(-this.keyPanSpeed,0),n=!0;break}n&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{let n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._rotateStart.set(r,i)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{let n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._panStart.set(r,i)}}_handleTouchStartDolly(e){let n=this._getSecondPointerPosition(e),r=e.pageX-n.x,i=e.pageY-n.y,o=Math.sqrt(r*r+i*i);this._dollyStart.set(0,o)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{let r=this._getSecondPointerPosition(e),i=.5*(e.pageX+r.x),o=.5*(e.pageY+r.y);this._rotateEnd.set(i,o)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);let n=this.domElement;this._rotateLeft(cs*this._rotateDelta.x/n.clientHeight),this._rotateUp(cs*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{let n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._panEnd.set(r,i)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){let n=this._getSecondPointerPosition(e),r=e.pageX-n.x,i=e.pageY-n.y,o=Math.sqrt(r*r+i*i);this._dollyEnd.set(0,o),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);let s=(e.pageX+n.x)*.5,a=(e.pageY+n.y)*.5;this._updateZoomParameters(s,a)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId){this._pointers.splice(n,1);return}}_isTrackingPointer(e){for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId)return!0;return!1}_trackPointer(e){let n=this._pointerPositions[e.pointerId];n===void 0&&(n=new ct,this._pointerPositions[e.pointerId]=n),n.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){let n=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[n]}_customWheelEvent(e){let n=e.deltaMode,r={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(n){case 1:r.deltaY*=16;break;case 2:r.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(r.deltaY*=10),r}};function lge(t){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(t.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(t)&&(this._addPointer(t),t.pointerType==="touch"?this._onTouchStart(t):this._onMouseDown(t)))}function uge(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchMove(t):this._onMouseMove(t))}function cge(t){switch(this._removePointer(t),this._pointers.length){case 0:this.domElement.releasePointerCapture(t.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(s8),this.state=vr.NONE;break;case 1:let e=this._pointers[0],n=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:n.x,pageY:n.y});break}}function fge(t){let e;switch(t.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case qc.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(t),this.state=vr.DOLLY;break;case qc.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=vr.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=vr.ROTATE}break;case qc.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=vr.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=vr.PAN}break;default:this.state=vr.NONE}this.state!==vr.NONE&&this.dispatchEvent(yO)}function hge(t){switch(this.state){case vr.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(t);break;case vr.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(t);break;case vr.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(t);break}}function pge(t){this.enabled===!1||this.enableZoom===!1||this.state!==vr.NONE||(t.preventDefault(),this.dispatchEvent(yO),this._handleMouseWheel(this._customWheelEvent(t)),this.dispatchEvent(s8))}function dge(t){this.enabled===!1||this.enablePan===!1||this._handleKeyDown(t)}function mge(t){switch(this._trackPointer(t),this._pointers.length){case 1:switch(this.touches.ONE){case Zc.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(t),this.state=vr.TOUCH_ROTATE;break;case Zc.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(t),this.state=vr.TOUCH_PAN;break;default:this.state=vr.NONE}break;case 2:switch(this.touches.TWO){case Zc.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(t),this.state=vr.TOUCH_DOLLY_PAN;break;case Zc.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(t),this.state=vr.TOUCH_DOLLY_ROTATE;break;default:this.state=vr.NONE}break;default:this.state=vr.NONE}this.state!==vr.NONE&&this.dispatchEvent(yO)}function gge(t){switch(this._trackPointer(t),this.state){case vr.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(t),this.update();break;case vr.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(t),this.update();break;case vr.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(t),this.update();break;case vr.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(t),this.update();break;default:this.state=vr.NONE}}function vge(t){this.enabled!==!1&&t.preventDefault()}function yge(t){t.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function xge(t){t.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}var ME={};gl(ME,{afterMain:()=>h8,afterRead:()=>u8,afterWrite:()=>m8,applyStyles:()=>fm,arrow:()=>pm,auto:()=>my,basePlacements:()=>zu,beforeMain:()=>c8,beforeRead:()=>a8,beforeWrite:()=>p8,bottom:()=>xi,clippingParents:()=>_O,computeStyles:()=>Qc,createPopper:()=>Ey,createPopperBase:()=>DO,createPopperLite:()=>E8,detectOverflow:()=>wo,end:()=>Jc,eventListeners:()=>ef,flip:()=>gm,hide:()=>vm,left:()=>ei,main:()=>f8,modifierPhases:()=>bO,offset:()=>ym,placements:()=>vy,popper:()=>Yh,popperGenerator:()=>Fl,popperOffsets:()=>nf,preventOverflow:()=>xm,read:()=>l8,reference:()=>SO,right:()=>ui,start:()=>kl,top:()=>Wr,variationPlacements:()=>wE,viewport:()=>gy,write:()=>d8});var Wr="top",xi="bottom",ui="right",ei="left",my="auto",zu=[Wr,xi,ui,ei],kl="start",Jc="end",_O="clippingParents",gy="viewport",Yh="popper",SO="reference",wE=zu.reduce(function(t,e){return t.concat([e+"-"+kl,e+"-"+Jc])},[]),vy=[].concat(zu,[my]).reduce(function(t,e){return t.concat([e,e+"-"+kl,e+"-"+Jc])},[]),a8="beforeRead",l8="read",u8="afterRead",c8="beforeMain",f8="main",h8="afterMain",p8="beforeWrite",d8="write",m8="afterWrite",bO=[a8,l8,u8,c8,f8,h8,p8,d8,m8];function Yi(t){return t?(t.nodeName||"").toLowerCase():null}function Dr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function _a(t){var e=Dr(t).Element;return t instanceof e||t instanceof Element}function Ni(t){var e=Dr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function cm(t){if(typeof ShadowRoot>"u")return!1;var e=Dr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function _ge(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Ni(o)||!Yi(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function Sge(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,u){return l[u]="",l},{});!Ni(i)||!Yi(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var fm={name:"applyStyles",enabled:!0,phase:"write",fn:_ge,effect:Sge,requires:["computeStyles"]};function qi(t){return t.split("-")[0]}var el=Math.max,qh=Math.min,Hu=Math.round;function hm(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function yy(){return!/^((?!chrome|android).)*safari/i.test(hm())}function Sa(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Ni(t)&&(i=t.offsetWidth>0&&Hu(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Hu(r.height)/t.offsetHeight||1);var s=_a(t)?Dr(t):window,a=s.visualViewport,l=!yy()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/o,h=r.width/i,p=r.height/o;return{width:h,height:p,top:c,right:u+h,bottom:c+p,left:u,x:u,y:c}}function Zh(t){var e=Sa(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function xy(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&cm(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ho(t){return Dr(t).getComputedStyle(t)}function wO(t){return["table","td","th"].indexOf(Yi(t))>=0}function uo(t){return((_a(t)?t.ownerDocument:t.document)||window.document).documentElement}function Vu(t){return Yi(t)==="html"?t:t.assignedSlot||t.parentNode||(cm(t)?t.host:null)||uo(t)}function g8(t){return!Ni(t)||Ho(t).position==="fixed"?null:t.offsetParent}function bge(t){var e=/firefox/i.test(hm()),n=/Trident/i.test(hm());if(n&&Ni(t)){var r=Ho(t);if(r.position==="fixed")return null}var i=Vu(t);for(cm(i)&&(i=i.host);Ni(i)&&["html","body"].indexOf(Yi(i))<0;){var o=Ho(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function tl(t){for(var e=Dr(t),n=g8(t);n&&wO(n)&&Ho(n).position==="static";)n=g8(n);return n&&(Yi(n)==="html"||Yi(n)==="body"&&Ho(n).position==="static")?e:n||bge(t)||e}function Kh(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Jh(t,e,n){return el(t,qh(e,n))}function v8(t,e,n){var r=Jh(t,e,n);return r>n?n:r}function _y(){return{top:0,right:0,bottom:0,left:0}}function Sy(t){return Object.assign({},_y(),t)}function by(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var wge=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Sy(typeof e!="number"?e:by(e,zu))};function Ege(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=qi(n.placement),l=Kh(a),u=[ei,ui].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var h=wge(i.padding,n),p=Zh(o),d=l==="y"?Wr:ei,v=l==="y"?xi:ui,b=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],S=s[l]-n.rects.reference[l],y=tl(o),T=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,E=b/2-S/2,A=h[d],N=T-p[c]-h[v],x=T/2-p[c]/2+E,D=Jh(A,x,N),k=l;n.modifiersData[r]=(e={},e[k]=D,e.centerOffset=D-x,e)}}function Tge(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||xy(e.elements.popper,i)&&(e.elements.arrow=i))}var pm={name:"arrow",enabled:!0,phase:"main",fn:Ege,effect:Tge,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ba(t){return t.split("-")[1]}var Cge={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Mge(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Hu(n*i)/i||0,y:Hu(r*i)/i||0}}function y8(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,h=t.isFixed,p=s.x,d=p===void 0?0:p,v=s.y,b=v===void 0?0:v,S=typeof c=="function"?c({x:d,y:b}):{x:d,y:b};d=S.x,b=S.y;var y=s.hasOwnProperty("x"),T=s.hasOwnProperty("y"),E=ei,A=Wr,N=window;if(u){var x=tl(n),D="clientHeight",k="clientWidth";if(x===Dr(n)&&(x=uo(n),Ho(x).position!=="static"&&a==="absolute"&&(D="scrollHeight",k="scrollWidth")),x=x,i===Wr||(i===ei||i===ui)&&o===Jc){A=xi;var U=h&&x===N&&N.visualViewport?N.visualViewport.height:x[D];b-=U-r.height,b*=l?1:-1}if(i===ei||(i===Wr||i===xi)&&o===Jc){E=ui;var L=h&&x===N&&N.visualViewport?N.visualViewport.width:x[k];d-=L-r.width,d*=l?1:-1}}var j=Object.assign({position:a},u&&Cge),ie=c===!0?Mge({x:d,y:b},Dr(n)):{x:d,y:b};if(d=ie.x,b=ie.y,l){var se;return Object.assign({},j,(se={},se[A]=T?"0":"",se[E]=y?"0":"",se.transform=(N.devicePixelRatio||1)<=1?"translate("+d+"px, "+b+"px)":"translate3d("+d+"px, "+b+"px, 0)",se))}return Object.assign({},j,(e={},e[A]=T?b+"px":"",e[E]=y?d+"px":"",e.transform="",e))}function Age(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:qi(e.placement),variation:ba(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,y8(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,y8(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Qc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Age,data:{}};var EE={passive:!0};function Pge(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Dr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,EE)}),a&&l.addEventListener("resize",n.update,EE),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,EE)}),a&&l.removeEventListener("resize",n.update,EE)}}var ef={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Pge,data:{}};var Rge={left:"right",right:"left",bottom:"top",top:"bottom"};function dm(t){return t.replace(/left|right|bottom|top/g,function(e){return Rge[e]})}var Ige={start:"end",end:"start"};function TE(t){return t.replace(/start|end/g,function(e){return Ige[e]})}function Qh(t){var e=Dr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function ep(t){return Sa(uo(t)).left+Qh(t).scrollLeft}function EO(t,e){var n=Dr(t),r=uo(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var u=yy();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+ep(t),y:l}}function TO(t){var e,n=uo(t),r=Qh(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=el(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=el(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+ep(t),l=-r.scrollTop;return Ho(i||n).direction==="rtl"&&(a+=el(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function tp(t){var e=Ho(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function CE(t){return["html","body","#document"].indexOf(Yi(t))>=0?t.ownerDocument.body:Ni(t)&&tp(t)?t:CE(Vu(t))}function tf(t,e){var n;e===void 0&&(e=[]);var r=CE(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Dr(r),s=i?[o].concat(o.visualViewport||[],tp(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(tf(Vu(s)))}function mm(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Nge(t,e){var n=Sa(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function x8(t,e,n){return e===gy?mm(EO(t,n)):_a(e)?Nge(e,n):mm(TO(uo(t)))}function Oge(t){var e=tf(Vu(t)),n=["absolute","fixed"].indexOf(Ho(t).position)>=0,r=n&&Ni(t)?tl(t):t;return _a(r)?e.filter(function(i){return _a(i)&&xy(i,r)&&Yi(i)!=="body"}):[]}function CO(t,e,n,r){var i=e==="clippingParents"?Oge(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,u){var c=x8(t,u,r);return l.top=el(c.top,l.top),l.right=qh(c.right,l.right),l.bottom=qh(c.bottom,l.bottom),l.left=el(c.left,l.left),l},x8(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function wy(t){var e=t.reference,n=t.element,r=t.placement,i=r?qi(r):null,o=r?ba(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Wr:l={x:s,y:e.y-n.height};break;case xi:l={x:s,y:e.y+e.height};break;case ui:l={x:e.x+e.width,y:a};break;case ei:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?Kh(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case kl:l[u]=l[u]-(e[c]/2-n[c]/2);break;case Jc:l[u]=l[u]+(e[c]/2-n[c]/2);break;default:}}return l}function wo(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?_O:a,u=n.rootBoundary,c=u===void 0?gy:u,h=n.elementContext,p=h===void 0?Yh:h,d=n.altBoundary,v=d===void 0?!1:d,b=n.padding,S=b===void 0?0:b,y=Sy(typeof S!="number"?S:by(S,zu)),T=p===Yh?SO:Yh,E=t.rects.popper,A=t.elements[v?T:p],N=CO(_a(A)?A:A.contextElement||uo(t.elements.popper),l,c,s),x=Sa(t.elements.reference),D=wy({reference:x,element:E,strategy:"absolute",placement:i}),k=mm(Object.assign({},E,D)),U=p===Yh?k:x,L={top:N.top-U.top+y.top,bottom:U.bottom-N.bottom+y.bottom,left:N.left-U.left+y.left,right:U.right-N.right+y.right},j=t.modifiersData.offset;if(p===Yh&&j){var ie=j[i];Object.keys(L).forEach(function(se){var fe=[ui,xi].indexOf(se)>=0?1:-1,_e=[Wr,xi].indexOf(se)>=0?"y":"x";L[se]+=ie[_e]*fe})}return L}function MO(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?vy:l,c=ba(r),h=c?a?wE:wE.filter(function(v){return ba(v)===c}):zu,p=h.filter(function(v){return u.indexOf(v)>=0});p.length===0&&(p=h);var d=p.reduce(function(v,b){return v[b]=wo(t,{placement:b,boundary:i,rootBoundary:o,padding:s})[qi(b)],v},{});return Object.keys(d).sort(function(v,b){return d[v]-d[b]})}function Lge(t){if(qi(t)===my)return[];var e=dm(t);return[TE(t),e,TE(e)]}function Dge(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,h=n.rootBoundary,p=n.altBoundary,d=n.flipVariations,v=d===void 0?!0:d,b=n.allowedAutoPlacements,S=e.options.placement,y=qi(S),T=y===S,E=l||(T||!v?[dm(S)]:Lge(S)),A=[S].concat(E).reduce(function(Ae,ze){return Ae.concat(qi(ze)===my?MO(e,{placement:ze,boundary:c,rootBoundary:h,padding:u,flipVariations:v,allowedAutoPlacements:b}):ze)},[]),N=e.rects.reference,x=e.rects.popper,D=new Map,k=!0,U=A[0],L=0;L<A.length;L++){var j=A[L],ie=qi(j),se=ba(j)===kl,fe=[Wr,xi].indexOf(ie)>=0,_e=fe?"width":"height",J=wo(e,{placement:j,boundary:c,rootBoundary:h,altBoundary:p,padding:u}),te=fe?se?ui:ei:se?xi:Wr;N[_e]>x[_e]&&(te=dm(te));var ne=dm(te),xe=[];if(o&&xe.push(J[ie]<=0),a&&xe.push(J[te]<=0,J[ne]<=0),xe.every(function(Ae){return Ae})){U=j,k=!1;break}D.set(j,xe)}if(k)for(var Ce=v?3:1,Le=function(ze){var je=A.find(function(it){var pt=D.get(it);if(pt)return pt.slice(0,ze).every(function(It){return It})});if(je)return U=je,"break"},rt=Ce;rt>0;rt--){var ot=Le(rt);if(ot==="break")break}e.placement!==U&&(e.modifiersData[r]._skip=!0,e.placement=U,e.reset=!0)}}var gm={name:"flip",enabled:!0,phase:"main",fn:Dge,requiresIfExists:["offset"],data:{_skip:!1}};function _8(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function S8(t){return[Wr,ui,xi,ei].some(function(e){return t[e]>=0})}function kge(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=wo(e,{elementContext:"reference"}),a=wo(e,{altBoundary:!0}),l=_8(s,r),u=_8(a,i,o),c=S8(l),h=S8(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}var vm={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:kge};function Fge(t,e,n){var r=qi(t),i=[ei,Wr].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[ei,ui].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Uge(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=vy.reduce(function(c,h){return c[h]=Fge(h,e.rects,o),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}var ym={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Uge};function Bge(t){var e=t.state,n=t.name;e.modifiersData[n]=wy({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var nf={name:"popperOffsets",enabled:!0,phase:"read",fn:Bge,data:{}};function AO(t){return t==="x"?"y":"x"}function zge(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,h=n.padding,p=n.tether,d=p===void 0?!0:p,v=n.tetherOffset,b=v===void 0?0:v,S=wo(e,{boundary:l,rootBoundary:u,padding:h,altBoundary:c}),y=qi(e.placement),T=ba(e.placement),E=!T,A=Kh(y),N=AO(A),x=e.modifiersData.popperOffsets,D=e.rects.reference,k=e.rects.popper,U=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,L=typeof U=="number"?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ie={x:0,y:0};if(x){if(o){var se,fe=A==="y"?Wr:ei,_e=A==="y"?xi:ui,J=A==="y"?"height":"width",te=x[A],ne=te+S[fe],xe=te-S[_e],Ce=d?-k[J]/2:0,Le=T===kl?D[J]:k[J],rt=T===kl?-k[J]:-D[J],ot=e.elements.arrow,Ae=d&&ot?Zh(ot):{width:0,height:0},ze=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:_y(),je=ze[fe],it=ze[_e],pt=Jh(0,D[J],Ae[J]),It=E?D[J]/2-Ce-pt-je-L.mainAxis:Le-pt-je-L.mainAxis,Nt=E?-D[J]/2+Ce+pt+it+L.mainAxis:rt+pt+it+L.mainAxis,mt=e.elements.arrow&&tl(e.elements.arrow),K=mt?A==="y"?mt.clientTop||0:mt.clientLeft||0:0,ye=(se=j?.[A])!=null?se:0,ge=te+It-ye-K,Q=te+Nt-ye,q=Jh(d?qh(ne,ge):ne,te,d?el(xe,Q):xe);x[A]=q,ie[A]=q-te}if(a){var ve,ue=A==="x"?Wr:ei,xt=A==="x"?xi:ui,ae=x[N],$=N==="y"?"height":"width",De=ae+S[ue],Ke=ae-S[xt],Ee=[Wr,ei].indexOf(y)!==-1,Be=(ve=j?.[N])!=null?ve:0,Ze=Ee?De:ae-D[$]-k[$]-Be+L.altAxis,ut=Ee?ae+D[$]+k[$]-Be-L.altAxis:Ke,Pt=d&&Ee?v8(Ze,ae,ut):Jh(d?Ze:De,ae,d?ut:Ke);x[N]=Pt,ie[N]=Pt-ae}e.modifiersData[r]=ie}}var xm={name:"preventOverflow",enabled:!0,phase:"main",fn:zge,requiresIfExists:["offset"]};function PO(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function RO(t){return t===Dr(t)||!Ni(t)?Qh(t):PO(t)}function Hge(t){var e=t.getBoundingClientRect(),n=Hu(e.width)/t.offsetWidth||1,r=Hu(e.height)/t.offsetHeight||1;return n!==1||r!==1}function IO(t,e,n){n===void 0&&(n=!1);var r=Ni(e),i=Ni(e)&&Hge(e),o=uo(e),s=Sa(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Yi(e)!=="body"||tp(o))&&(a=RO(e)),Ni(e)?(l=Sa(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=ep(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Vge(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function NO(t){var e=Vge(t);return bO.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function OO(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function LO(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var b8={placement:"bottom",modifiers:[],strategy:"absolute"};function w8(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Fl(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?b8:i;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},b8,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],p=!1,d={state:c,setOptions:function(y){var T=typeof y=="function"?y(c.options):y;b(),c.options=Object.assign({},o,c.options,T),c.scrollParents={reference:_a(a)?tf(a):a.contextElement?tf(a.contextElement):[],popper:tf(l)};var E=NO(LO([].concat(r,c.options.modifiers)));return c.orderedModifiers=E.filter(function(A){return A.enabled}),v(),d.update()},forceUpdate:function(){if(!p){var y=c.elements,T=y.reference,E=y.popper;if(w8(T,E)){c.rects={reference:IO(T,tl(E),c.options.strategy==="fixed"),popper:Zh(E)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(L){return c.modifiersData[L.name]=Object.assign({},L.data)});for(var A=0;A<c.orderedModifiers.length;A++){if(c.reset===!0){c.reset=!1,A=-1;continue}var N=c.orderedModifiers[A],x=N.fn,D=N.options,k=D===void 0?{}:D,U=N.name;typeof x=="function"&&(c=x({state:c,options:k,name:U,instance:d})||c)}}}},update:OO(function(){return new Promise(function(S){d.forceUpdate(),S(c)})}),destroy:function(){b(),p=!0}};if(!w8(a,l))return d;d.setOptions(u).then(function(S){!p&&u.onFirstUpdate&&u.onFirstUpdate(S)});function v(){c.orderedModifiers.forEach(function(S){var y=S.name,T=S.options,E=T===void 0?{}:T,A=S.effect;if(typeof A=="function"){var N=A({state:c,name:y,instance:d,options:E}),x=function(){};h.push(N||x)}})}function b(){h.forEach(function(S){return S()}),h=[]}return d}}var DO=Fl();var Wge=[ef,nf,Qc,fm],E8=Fl({defaultModifiers:Wge});var Gge=[ef,nf,Qc,fm,ym,gm,xm,pm,vm],Ey=Fl({defaultModifiers:Gge});var rf=new Map,kO={set(t,e,n){rf.has(t)||rf.set(t,new Map);let r=rf.get(t);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,n)},get(t,e){return rf.has(t)&&rf.get(t).get(e)||null},remove(t,e){if(!rf.has(t))return;let n=rf.get(t);n.delete(e),n.size===0&&rf.delete(t)}},$ge=1e6,Xge=1e3,KO="transitionend",Q8=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),jge=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),Yge=t=>{do t+=Math.floor(Math.random()*$ge);while(document.getElementById(t));return t},qge=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t),r=Number.parseFloat(e),i=Number.parseFloat(n);return!r&&!i?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*Xge)},eW=t=>{t.dispatchEvent(new Event(KO))},Wu=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),of=t=>Wu(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(Q8(t)):null,Mm=t=>{if(!Wu(t)||t.getClientRects().length===0)return!1;let e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){let r=t.closest("summary");if(r&&r.parentNode!==n||r===null)return!1}return e},sf=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",tW=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){let e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?tW(t.parentNode):null},kE=()=>{},Ry=t=>{t.offsetHeight},nW=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,FO=[],Zge=t=>{document.readyState==="loading"?(FO.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of FO)e()}),FO.push(t)):t()},wa=()=>document.documentElement.dir==="rtl",Ta=t=>{Zge(()=>{let e=nW();if(e){let n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}})},fs=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,rW=(t,e,n=!0)=>{if(!n){fs(t);return}let i=qge(e)+5,o=!1,s=({target:a})=>{a===e&&(o=!0,e.removeEventListener(KO,s),fs(t))};e.addEventListener(KO,s),setTimeout(()=>{o||eW(e)},i)},nL=(t,e,n,r)=>{let i=t.length,o=t.indexOf(e);return o===-1?!n&&r?t[i-1]:t[0]:(o+=n?1:-1,r&&(o=(o+i)%i),t[Math.max(0,Math.min(o,i-1))])},Kge=/[^.]*(?=\..*)\.|.*/,Jge=/\..*/,Qge=/::\d+$/,UO={},T8=1,iW={mouseenter:"mouseover",mouseleave:"mouseout"},eve=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function oW(t,e){return e&&`${e}::${T8++}`||t.uidEvent||T8++}function sW(t){let e=oW(t);return t.uidEvent=e,UO[e]=UO[e]||{},UO[e]}function tve(t,e){return function n(r){return rL(r,{delegateTarget:t}),n.oneOff&&St.off(t,r.type,e),e.apply(t,[r])}}function nve(t,e,n){return function r(i){let o=t.querySelectorAll(e);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(let a of o)if(a===s)return rL(i,{delegateTarget:s}),r.oneOff&&St.off(t,i.type,e,n),n.apply(s,[i])}}function aW(t,e,n=null){return Object.values(t).find(r=>r.callable===e&&r.delegationSelector===n)}function lW(t,e,n){let r=typeof e=="string",i=r?n:e||n,o=uW(t);return eve.has(o)||(o=t),[r,i,o]}function C8(t,e,n,r,i){if(typeof e!="string"||!t)return;let[o,s,a]=lW(e,n,r);e in iW&&(s=(v=>function(b){if(!b.relatedTarget||b.relatedTarget!==b.delegateTarget&&!b.delegateTarget.contains(b.relatedTarget))return v.call(this,b)})(s));let l=sW(t),u=l[a]||(l[a]={}),c=aW(u,s,o?n:null);if(c){c.oneOff=c.oneOff&&i;return}let h=oW(s,e.replace(Kge,"")),p=o?nve(t,n,s):tve(t,s);p.delegationSelector=o?n:null,p.callable=s,p.oneOff=i,p.uidEvent=h,u[h]=p,t.addEventListener(a,p,o)}function JO(t,e,n,r,i){let o=aW(e[n],r,i);o&&(t.removeEventListener(n,o,!!i),delete e[n][o.uidEvent])}function rve(t,e,n,r){let i=e[n]||{};for(let[o,s]of Object.entries(i))o.includes(r)&&JO(t,e,n,s.callable,s.delegationSelector)}function uW(t){return t=t.replace(Jge,""),iW[t]||t}var St={on(t,e,n,r){C8(t,e,n,r,!1)},one(t,e,n,r){C8(t,e,n,r,!0)},off(t,e,n,r){if(typeof e!="string"||!t)return;let[i,o,s]=lW(e,n,r),a=s!==e,l=sW(t),u=l[s]||{},c=e.startsWith(".");if(typeof o<"u"){if(!Object.keys(u).length)return;JO(t,l,s,o,i?n:null);return}if(c)for(let h of Object.keys(l))rve(t,l,h,e.slice(1));for(let[h,p]of Object.entries(u)){let d=h.replace(Qge,"");(!a||e.includes(d))&&JO(t,l,s,p.callable,p.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;let r=nW(),i=uW(e),o=e!==i,s=null,a=!0,l=!0,u=!1;o&&r&&(s=r.Event(e,n),r(t).trigger(s),a=!s.isPropagationStopped(),l=!s.isImmediatePropagationStopped(),u=s.isDefaultPrevented());let c=rL(new Event(e,{bubbles:a,cancelable:!0}),n);return u&&c.preventDefault(),l&&t.dispatchEvent(c),c.defaultPrevented&&s&&s.preventDefault(),c}};function rL(t,e={}){for(let[n,r]of Object.entries(e))try{t[n]=r}catch{Object.defineProperty(t,n,{configurable:!0,get(){return r}})}return t}function M8(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function BO(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}var Gu={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${BO(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${BO(e)}`)},getDataAttributes(t){if(!t)return{};let e={},n=Object.keys(t.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(let r of n){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=M8(t.dataset[r])}return e},getDataAttribute(t,e){return M8(t.getAttribute(`data-bs-${BO(e)}`))}},ip=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){let r=Wu(n)?Gu.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...Wu(n)?Gu.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(let[r,i]of Object.entries(n)){let o=e[r],s=Wu(o)?"element":jge(o);if(!new RegExp(i).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${i}".`)}}},ive="5.3.2",$s=class extends ip{constructor(e,n){super(),e=of(e),e&&(this._element=e,this._config=this._getConfig(n),kO.set(this._element,this.constructor.DATA_KEY,this))}dispose(){kO.remove(this._element,this.constructor.DATA_KEY),St.off(this._element,this.constructor.EVENT_KEY);for(let e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,r=!0){rW(e,n,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return kO.get(of(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return ive}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}},zO=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?Q8(n.trim()):null}return e},vn={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){let n=[],r=t.parentNode.closest(e);for(;r;)n.push(r),r=r.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){let e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!sf(n)&&Mm(n))},getSelectorFromElement(t){let e=zO(t);return e&&vn.findOne(e)?e:null},getElementFromSelector(t){let e=zO(t);return e?vn.findOne(e):null},getMultipleElementsFromSelector(t){let e=zO(t);return e?vn.find(e):[]}},XE=(t,e="hide")=>{let n=`click.dismiss${t.EVENT_KEY}`,r=t.NAME;St.on(document,n,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),sf(this))return;let o=vn.getElementFromSelector(this)||this.closest(`.${r}`);t.getOrCreateInstance(o)[e]()})},ove="alert",sve="bs.alert",cW=`.${sve}`,ave=`close${cW}`,lve=`closed${cW}`,uve="fade",cve="show",FE=class t extends $s{static get NAME(){return ove}close(){if(St.trigger(this._element,ave).defaultPrevented)return;this._element.classList.remove(cve);let n=this._element.classList.contains(uve);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),St.trigger(this._element,lve),this.dispose()}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}};XE(FE,"close");Ta(FE);var fve="button",hve="bs.button",pve=`.${hve}`,dve=".data-api",mve="active",A8='[data-bs-toggle="button"]',gve=`click${pve}${dve}`,UE=class t extends $s{static get NAME(){return fve}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(mve))}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this);e==="toggle"&&n[e]()})}};St.on(document,gve,A8,t=>{t.preventDefault();let e=t.target.closest(A8);UE.getOrCreateInstance(e).toggle()});Ta(UE);var vve="swipe",Am=".bs.swipe",yve=`touchstart${Am}`,xve=`touchmove${Am}`,_ve=`touchend${Am}`,Sve=`pointerdown${Am}`,bve=`pointerup${Am}`,wve="touch",Eve="pen",Tve="pointer-event",Cve=40,Mve={endCallback:null,leftCallback:null,rightCallback:null},Ave={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},BE=class t extends ip{constructor(e,n){super(),this._element=e,!(!e||!t.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Mve}static get DefaultType(){return Ave}static get NAME(){return vve}dispose(){St.off(this._element,Am)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),fs(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=Cve)return;let n=e/this._deltaX;this._deltaX=0,n&&fs(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(St.on(this._element,Sve,e=>this._start(e)),St.on(this._element,bve,e=>this._end(e)),this._element.classList.add(Tve)):(St.on(this._element,yve,e=>this._start(e)),St.on(this._element,xve,e=>this._move(e)),St.on(this._element,_ve,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Eve||e.pointerType===wve)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}},Pve="carousel",Rve="bs.carousel",uf=`.${Rve}`,fW=".data-api",Ive="ArrowLeft",Nve="ArrowRight",Ove=500,Ty="next",_m="prev",bm="left",LE="right",Lve=`slide${uf}`,HO=`slid${uf}`,Dve=`keydown${uf}`,kve=`mouseenter${uf}`,Fve=`mouseleave${uf}`,Uve=`dragstart${uf}`,Bve=`load${uf}${fW}`,zve=`click${uf}${fW}`,hW="carousel",AE="active",Hve="slide",Vve="carousel-item-end",Wve="carousel-item-start",Gve="carousel-item-next",$ve="carousel-item-prev",pW=".active",dW=".carousel-item",Xve=pW+dW,jve=".carousel-item img",Yve=".carousel-indicators",qve="[data-bs-slide], [data-bs-slide-to]",Zve='[data-bs-ride="carousel"]',Kve={[Ive]:LE,[Nve]:bm},Jve={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Qve={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},My=class t extends $s{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=vn.findOne(Yve,this._element),this._addEventListeners(),this._config.ride===hW&&this.cycle()}static get Default(){return Jve}static get DefaultType(){return Qve}static get NAME(){return Pve}next(){this._slide(Ty)}nextWhenVisible(){!document.hidden&&Mm(this._element)&&this.next()}prev(){this._slide(_m)}pause(){this._isSliding&&eW(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){St.one(this._element,HO,()=>this.cycle());return}this.cycle()}}to(e){let n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){St.one(this._element,HO,()=>this.to(e));return}let r=this._getItemIndex(this._getActive());if(r===e)return;let i=e>r?Ty:_m;this._slide(i,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&St.on(this._element,Dve,e=>this._keydown(e)),this._config.pause==="hover"&&(St.on(this._element,kve,()=>this.pause()),St.on(this._element,Fve,()=>this._maybeEnableCycle())),this._config.touch&&BE.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let r of vn.find(jve,this._element))St.on(r,Uve,i=>i.preventDefault());let n={leftCallback:()=>this._slide(this._directionToOrder(bm)),rightCallback:()=>this._slide(this._directionToOrder(LE)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Ove+this._config.interval))}};this._swipeHelper=new BE(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let n=Kve[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let n=vn.findOne(pW,this._indicatorsElement);n.classList.remove(AE),n.removeAttribute("aria-current");let r=vn.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(AE),r.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;let r=this._getActive(),i=e===Ty,o=n||nL(this._getItems(),r,i,this._config.wrap);if(o===r)return;let s=this._getItemIndex(o),a=d=>St.trigger(this._element,d,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:s});if(a(Lve).defaultPrevented||!r||!o)return;let u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=o;let c=i?Wve:Vve,h=i?Gve:$ve;o.classList.add(h),Ry(o),r.classList.add(c),o.classList.add(c);let p=()=>{o.classList.remove(c,h),o.classList.add(AE),r.classList.remove(AE,h,c),this._isSliding=!1,a(HO)};this._queueCallback(p,r,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(Hve)}_getActive(){return vn.findOne(Xve,this._element)}_getItems(){return vn.find(dW,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return wa()?e===bm?_m:Ty:e===bm?Ty:_m}_orderToDirection(e){return wa()?e===_m?bm:LE:e===_m?LE:bm}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}};St.on(document,zve,qve,function(t){let e=vn.getElementFromSelector(this);if(!e||!e.classList.contains(hW))return;t.preventDefault();let n=My.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){n.to(r),n._maybeEnableCycle();return}if(Gu.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});St.on(window,Bve,()=>{let t=vn.find(Zve);for(let e of t)My.getOrCreateInstance(e)});Ta(My);var e0e="collapse",t0e="bs.collapse",Iy=`.${t0e}`,n0e=".data-api",r0e=`show${Iy}`,i0e=`shown${Iy}`,o0e=`hide${Iy}`,s0e=`hidden${Iy}`,a0e=`click${Iy}${n0e}`,VO="show",Em="collapse",PE="collapsing",l0e="collapsed",u0e=`:scope .${Em} .${Em}`,c0e="collapse-horizontal",f0e="width",h0e="height",p0e=".collapse.show, .collapse.collapsing",QO='[data-bs-toggle="collapse"]',d0e={parent:null,toggle:!0},m0e={parent:"(null|element)",toggle:"boolean"},zE=class t extends $s{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];let r=vn.find(QO);for(let i of r){let o=vn.getSelectorFromElement(i),s=vn.find(o).filter(a=>a===this._element);o!==null&&s.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return d0e}static get DefaultType(){return m0e}static get NAME(){return e0e}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(p0e).filter(a=>a!==this._element).map(a=>t.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||St.trigger(this._element,r0e).defaultPrevented)return;for(let a of e)a.hide();let r=this._getDimension();this._element.classList.remove(Em),this._element.classList.add(PE),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let i=()=>{this._isTransitioning=!1,this._element.classList.remove(PE),this._element.classList.add(Em,VO),this._element.style[r]="",St.trigger(this._element,i0e)},s=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||St.trigger(this._element,o0e).defaultPrevented)return;let n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Ry(this._element),this._element.classList.add(PE),this._element.classList.remove(Em,VO);for(let i of this._triggerArray){let o=vn.getElementFromSelector(i);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;let r=()=>{this._isTransitioning=!1,this._element.classList.remove(PE),this._element.classList.add(Em),St.trigger(this._element,s0e)};this._element.style[n]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(VO)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=of(e.parent),e}_getDimension(){return this._element.classList.contains(c0e)?f0e:h0e}_initializeChildren(){if(!this._config.parent)return;let e=this._getFirstLevelChildren(QO);for(let n of e){let r=vn.getElementFromSelector(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))}}_getFirstLevelChildren(e){let n=vn.find(u0e,this._config.parent);return vn.find(e,this._config.parent).filter(r=>!n.includes(r))}_addAriaAndCollapsedClass(e,n){if(e.length)for(let r of e)r.classList.toggle(l0e,!n),r.setAttribute("aria-expanded",n)}static jQueryInterface(e){let n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){let r=t.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};St.on(document,a0e,QO,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(let e of vn.getMultipleElementsFromSelector(this))zE.getOrCreateInstance(e,{toggle:!1}).toggle()});Ta(zE);var P8="dropdown",g0e="bs.dropdown",op=`.${g0e}`,iL=".data-api",v0e="Escape",R8="Tab",y0e="ArrowUp",I8="ArrowDown",x0e=2,_0e=`hide${op}`,S0e=`hidden${op}`,b0e=`show${op}`,w0e=`shown${op}`,mW=`click${op}${iL}`,gW=`keydown${op}${iL}`,E0e=`keyup${op}${iL}`,wm="show",T0e="dropup",C0e="dropend",M0e="dropstart",A0e="dropup-center",P0e="dropdown-center",np='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',R0e=`${np}.${wm}`,DE=".dropdown-menu",I0e=".navbar",N0e=".navbar-nav",O0e=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",L0e=wa()?"top-end":"top-start",D0e=wa()?"top-start":"top-end",k0e=wa()?"bottom-end":"bottom-start",F0e=wa()?"bottom-start":"bottom-end",U0e=wa()?"left-start":"right-start",B0e=wa()?"right-start":"left-start",z0e="top",H0e="bottom",V0e={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},W0e={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},af=class t extends $s{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=vn.next(this._element,DE)[0]||vn.prev(this._element,DE)[0]||vn.findOne(DE,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return V0e}static get DefaultType(){return W0e}static get NAME(){return P8}toggle(){return this._isShown()?this.hide():this.show()}show(){if(sf(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!St.trigger(this._element,b0e,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(N0e))for(let r of[].concat(...document.body.children))St.on(r,"mouseover",kE);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(wm),this._element.classList.add(wm),St.trigger(this._element,w0e,e)}}hide(){if(sf(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!St.trigger(this._element,_0e,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let r of[].concat(...document.body.children))St.off(r,"mouseover",kE);this._popper&&this._popper.destroy(),this._menu.classList.remove(wm),this._element.classList.remove(wm),this._element.setAttribute("aria-expanded","false"),Gu.removeDataAttribute(this._menu,"popper"),St.trigger(this._element,S0e,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Wu(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${P8.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof ME>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Wu(this._config.reference)?e=of(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);let n=this._getPopperConfig();this._popper=Ey(e,this._menu,n)}_isShown(){return this._menu.classList.contains(wm)}_getPlacement(){let e=this._parent;if(e.classList.contains(C0e))return U0e;if(e.classList.contains(M0e))return B0e;if(e.classList.contains(A0e))return z0e;if(e.classList.contains(P0e))return H0e;let n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(T0e)?n?D0e:L0e:n?F0e:k0e}_detectNavbar(){return this._element.closest(I0e)!==null}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Gu.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...fs(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){let r=vn.find(O0e,this._menu).filter(i=>Mm(i));r.length&&nL(r,n,e===I8,!r.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===x0e||e.type==="keyup"&&e.key!==R8)return;let n=vn.find(R0e);for(let r of n){let i=t.getInstance(r);if(!i||i._config.autoClose===!1)continue;let o=e.composedPath(),s=o.includes(i._menu);if(o.includes(i._element)||i._config.autoClose==="inside"&&!s||i._config.autoClose==="outside"&&s||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===R8||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let a={relatedTarget:i._element};e.type==="click"&&(a.clickEvent=e),i._completeHide(a)}}static dataApiKeydownHandler(e){let n=/input|textarea/i.test(e.target.tagName),r=e.key===v0e,i=[y0e,I8].includes(e.key);if(!i&&!r||n&&!r)return;e.preventDefault();let o=this.matches(np)?this:vn.prev(this,np)[0]||vn.next(this,np)[0]||vn.findOne(np,e.delegateTarget.parentNode),s=t.getOrCreateInstance(o);if(i){e.stopPropagation(),s.show(),s._selectMenuItem(e);return}s._isShown()&&(e.stopPropagation(),s.hide(),o.focus())}};St.on(document,gW,np,af.dataApiKeydownHandler);St.on(document,gW,DE,af.dataApiKeydownHandler);St.on(document,mW,af.clearMenus);St.on(document,E0e,af.clearMenus);St.on(document,mW,np,function(t){t.preventDefault(),af.getOrCreateInstance(this).toggle()});Ta(af);var vW="backdrop",G0e="fade",N8="show",O8=`mousedown.bs.${vW}`,$0e={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},X0e={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},HE=class extends ip{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return $0e}static get DefaultType(){return X0e}static get NAME(){return vW}show(e){if(!this._config.isVisible){fs(e);return}this._append();let n=this._getElement();this._config.isAnimated&&Ry(n),n.classList.add(N8),this._emulateAnimation(()=>{fs(e)})}hide(e){if(!this._config.isVisible){fs(e);return}this._getElement().classList.remove(N8),this._emulateAnimation(()=>{this.dispose(),fs(e)})}dispose(){this._isAppended&&(St.off(this._element,O8),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(G0e),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=of(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),St.on(e,O8,()=>{fs(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){rW(e,this._getElement(),this._config.isAnimated)}},j0e="focustrap",Y0e="bs.focustrap",VE=`.${Y0e}`,q0e=`focusin${VE}`,Z0e=`keydown.tab${VE}`,K0e="Tab",J0e="forward",L8="backward",Q0e={autofocus:!0,trapElement:null},eye={autofocus:"boolean",trapElement:"element"},WE=class extends ip{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Q0e}static get DefaultType(){return eye}static get NAME(){return j0e}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),St.off(document,VE),St.on(document,q0e,e=>this._handleFocusin(e)),St.on(document,Z0e,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,St.off(document,VE))}_handleFocusin(e){let{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;let r=vn.focusableChildren(n);r.length===0?n.focus():this._lastTabNavDirection===L8?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===K0e&&(this._lastTabNavDirection=e.shiftKey?L8:J0e)}},D8=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",k8=".sticky-top",RE="padding-right",F8="margin-right",Ay=class{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,RE,n=>n+e),this._setElementAttributes(D8,RE,n=>n+e),this._setElementAttributes(k8,F8,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,RE),this._resetElementAttributes(D8,RE),this._resetElementAttributes(k8,F8)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,r){let i=this.getWidth(),o=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+i)return;this._saveInitialAttribute(s,n);let a=window.getComputedStyle(s).getPropertyValue(n);s.style.setProperty(n,`${r(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,n){let r=e.style.getPropertyValue(n);r&&Gu.setDataAttribute(e,n,r)}_resetElementAttributes(e,n){let r=i=>{let o=Gu.getDataAttribute(i,n);if(o===null){i.style.removeProperty(n);return}Gu.removeDataAttribute(i,n),i.style.setProperty(n,o)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,n){if(Wu(e)){n(e);return}for(let r of vn.find(e,this._element))n(r)}},tye="modal",nye="bs.modal",Ea=`.${nye}`,rye=".data-api",iye="Escape",oye=`hide${Ea}`,sye=`hidePrevented${Ea}`,yW=`hidden${Ea}`,xW=`show${Ea}`,aye=`shown${Ea}`,lye=`resize${Ea}`,uye=`click.dismiss${Ea}`,cye=`mousedown.dismiss${Ea}`,fye=`keydown.dismiss${Ea}`,hye=`click${Ea}${rye}`,U8="modal-open",pye="fade",B8="show",WO="modal-static",dye=".modal.show",mye=".modal-dialog",gye=".modal-body",vye='[data-bs-toggle="modal"]',yye={backdrop:!0,focus:!0,keyboard:!0},xye={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},Tm=class t extends $s{constructor(e,n){super(e,n),this._dialog=vn.findOne(mye,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ay,this._addEventListeners()}static get Default(){return yye}static get DefaultType(){return xye}static get NAME(){return tye}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||St.trigger(this._element,xW,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(U8),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||St.trigger(this._element,oye).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(B8),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){St.off(window,Ea),St.off(this._dialog,Ea),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new HE({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new WE({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let n=vn.findOne(gye,this._dialog);n&&(n.scrollTop=0),Ry(this._element),this._element.classList.add(B8);let r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,St.trigger(this._element,aye,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){St.on(this._element,fye,e=>{if(e.key===iye){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),St.on(window,lye,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),St.on(this._element,cye,e=>{St.one(this._element,uye,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(U8),this._resetAdjustments(),this._scrollBar.reset(),St.trigger(this._element,yW)})}_isAnimated(){return this._element.classList.contains(pye)}_triggerBackdropTransition(){if(St.trigger(this._element,sye).defaultPrevented)return;let n=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(WO)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(WO),this._queueCallback(()=>{this._element.classList.remove(WO),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),r=n>0;if(r&&!e){let i=wa()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!r&&e){let i=wa()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){let r=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](n)}})}};St.on(document,hye,vye,function(t){let e=vn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),St.one(e,xW,i=>{i.defaultPrevented||St.one(e,yW,()=>{Mm(this)&&this.focus()})});let n=vn.findOne(dye);n&&Tm.getInstance(n).hide(),Tm.getOrCreateInstance(e).toggle(this)});XE(Tm);Ta(Tm);var _ye="offcanvas",Sye="bs.offcanvas",$u=`.${Sye}`,_W=".data-api",bye=`load${$u}${_W}`,wye="Escape",z8="show",H8="showing",V8="hiding",Eye="offcanvas-backdrop",SW=".offcanvas.show",Tye=`show${$u}`,Cye=`shown${$u}`,Mye=`hide${$u}`,W8=`hidePrevented${$u}`,bW=`hidden${$u}`,Aye=`resize${$u}`,Pye=`click${$u}${_W}`,Rye=`keydown.dismiss${$u}`,Iye='[data-bs-toggle="offcanvas"]',Nye={backdrop:!0,keyboard:!0,scroll:!1},Oye={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},lf=class t extends $s{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Nye}static get DefaultType(){return Oye}static get NAME(){return _ye}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||St.trigger(this._element,Tye,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ay().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(H8);let r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(z8),this._element.classList.remove(H8),St.trigger(this._element,Cye,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||St.trigger(this._element,Mye).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(V8),this._backdrop.hide();let n=()=>{this._element.classList.remove(z8,V8),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ay().reset(),St.trigger(this._element,bW)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=()=>{if(this._config.backdrop==="static"){St.trigger(this._element,W8);return}this.hide()},n=!!this._config.backdrop;return new HE({className:Eye,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new WE({trapElement:this._element})}_addEventListeners(){St.on(this._element,Rye,e=>{if(e.key===wye){if(this._config.keyboard){this.hide();return}St.trigger(this._element,W8)}})}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}};St.on(document,Pye,Iye,function(t){let e=vn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),sf(this))return;St.one(e,bW,()=>{Mm(this)&&this.focus()});let n=vn.findOne(SW);n&&n!==e&&lf.getInstance(n).hide(),lf.getOrCreateInstance(e).toggle(this)});St.on(window,bye,()=>{for(let t of vn.find(SW))lf.getOrCreateInstance(t).show()});St.on(window,Aye,()=>{for(let t of vn.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&lf.getOrCreateInstance(t).hide()});XE(lf);Ta(lf);var Lye=/^aria-[\w-]*$/i,wW={"*":["class","dir","id","lang","role",Lye],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Dye=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),kye=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Fye=(t,e)=>{let n=t.nodeName.toLowerCase();return e.includes(n)?Dye.has(n)?!!kye.test(t.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(n))};function Uye(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);let i=new window.DOMParser().parseFromString(t,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(let s of o){let a=s.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){s.remove();continue}let l=[].concat(...s.attributes),u=[].concat(e["*"]||[],e[a]||[]);for(let c of l)Fye(c,u)||s.removeAttribute(c.nodeName)}return i.body.innerHTML}var Bye="TemplateFactory",zye={allowList:wW,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Hye={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Vye={entry:"(string|element|function|null)",selector:"(string|element)"},eL=class extends ip{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return zye}static get DefaultType(){return Hye}static get NAME(){return Bye}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){let e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(let[i,o]of Object.entries(this._config.content))this._setContent(e,o,i);let n=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&n.classList.add(...r.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[n,r]of Object.entries(e))super._typeCheckConfig({selector:n,entry:r},Vye)}_setContent(e,n,r){let i=vn.findOne(r,e);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(Wu(n)){this._putElementInTemplate(of(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(e){return this._config.sanitize?Uye(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return fs(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}},Wye="tooltip",Gye=new Set(["sanitize","allowList","sanitizeFn"]),GO="fade",$ye="modal",IE="show",Xye=".tooltip-inner",G8=`.${$ye}`,$8="hide.bs.modal",Cy="hover",$O="focus",jye="click",Yye="manual",qye="hide",Zye="hidden",Kye="show",Jye="shown",Qye="inserted",exe="click",txe="focusin",nxe="focusout",rxe="mouseenter",ixe="mouseleave",oxe={AUTO:"auto",TOP:"top",RIGHT:wa()?"left":"right",BOTTOM:"bottom",LEFT:wa()?"right":"left"},sxe={allowList:wW,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},axe={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},Cm=class t extends $s{constructor(e,n){if(typeof ME>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return sxe}static get DefaultType(){return axe}static get NAME(){return Wye}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),St.off(this._element.closest(G8),$8,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let e=St.trigger(this._element,this.constructor.eventName(Kye)),r=(tW(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();let i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));let{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(i),St.trigger(this._element,this.constructor.eventName(Qye))),this._popper=this._createPopper(i),i.classList.add(IE),"ontouchstart"in document.documentElement)for(let a of[].concat(...document.body.children))St.on(a,"mouseover",kE);let s=()=>{St.trigger(this._element,this.constructor.eventName(Jye)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||St.trigger(this._element,this.constructor.eventName(qye)).defaultPrevented)return;if(this._getTipElement().classList.remove(IE),"ontouchstart"in document.documentElement)for(let i of[].concat(...document.body.children))St.off(i,"mouseover",kE);this._activeTrigger[jye]=!1,this._activeTrigger[$O]=!1,this._activeTrigger[Cy]=!1,this._isHovered=null;let r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),St.trigger(this._element,this.constructor.eventName(Zye)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(GO,IE),n.classList.add(`bs-${this.constructor.NAME}-auto`);let r=Yge(this.constructor.NAME).toString();return n.setAttribute("id",r),this._isAnimated()&&n.classList.add(GO),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new eL({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Xye]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(GO)}_isShown(){return this.tip&&this.tip.classList.contains(IE)}_createPopper(e){let n=fs(this._config.placement,[this,e,this._element]),r=oxe[n.toUpperCase()];return Ey(this._element,e,this._getPopperConfig(r))}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return fs(e,[this._element])}_getPopperConfig(e){let n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...n,...fs(this._config.popperConfig,[n])}}_setListeners(){let e=this._config.trigger.split(" ");for(let n of e)if(n==="click")St.on(this._element,this.constructor.eventName(exe),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(n!==Yye){let r=n===Cy?this.constructor.eventName(rxe):this.constructor.eventName(txe),i=n===Cy?this.constructor.eventName(ixe):this.constructor.eventName(nxe);St.on(this._element,r,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusin"?$O:Cy]=!0,s._enter()}),St.on(this._element,i,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusout"?$O:Cy]=s._element.contains(o.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},St.on(this._element.closest(G8),$8,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let n=Gu.getDataAttributes(this._element);for(let r of Object.keys(n))Gye.has(r)&&delete n[r];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:of(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let[n,r]of Object.entries(this._config))this.constructor.Default[n]!==r&&(e[n]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}};Ta(Cm);var lxe="popover",uxe=".popover-header",cxe=".popover-body",fxe={...Cm.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},hxe={...Cm.DefaultType,content:"(null|string|element|function)"},tL=class t extends Cm{static get Default(){return fxe}static get DefaultType(){return hxe}static get NAME(){return lxe}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[uxe]:this._getTitle(),[cxe]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}};Ta(tL);var pxe="scrollspy",dxe="bs.scrollspy",oL=`.${dxe}`,mxe=".data-api",gxe=`activate${oL}`,X8=`click${oL}`,vxe=`load${oL}${mxe}`,yxe="dropdown-item",Sm="active",xxe='[data-bs-spy="scroll"]',XO="[href]",_xe=".nav, .list-group",j8=".nav-link",Sxe=".nav-item",bxe=".list-group-item",wxe=`${j8}, ${Sxe} > ${j8}, ${bxe}`,Exe=".dropdown",Txe=".dropdown-toggle",Cxe={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Mxe={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},GE=class t extends $s{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Cxe}static get DefaultType(){return Mxe}static get NAME(){return pxe}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=of(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(St.off(this._config.target,X8),St.on(this._config.target,X8,XO,e=>{let n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();let r=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){let e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){let n=s=>this._targetLinks.get(`#${s.target.id}`),r=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(n(s))},i=(this._rootElement||document.documentElement).scrollTop,o=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(let s of e){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(s));continue}let a=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&a){if(r(s),!i)return;continue}!o&&!a&&r(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let e=vn.find(XO,this._config.target);for(let n of e){if(!n.hash||sf(n))continue;let r=vn.findOne(decodeURI(n.hash),this._element);Mm(r)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Sm),this._activateParents(e),St.trigger(this._element,gxe,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(yxe)){vn.findOne(Txe,e.closest(Exe)).classList.add(Sm);return}for(let n of vn.parents(e,_xe))for(let r of vn.prev(n,wxe))r.classList.add(Sm)}_clearActiveClass(e){e.classList.remove(Sm);let n=vn.find(`${XO}.${Sm}`,e);for(let r of n)r.classList.remove(Sm)}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}};St.on(window,vxe,()=>{for(let t of vn.find(xxe))GE.getOrCreateInstance(t)});Ta(GE);var Axe="tab",Pxe="bs.tab",sp=`.${Pxe}`,Rxe=`hide${sp}`,Ixe=`hidden${sp}`,Nxe=`show${sp}`,Oxe=`shown${sp}`,Lxe=`click${sp}`,Dxe=`keydown${sp}`,kxe=`load${sp}`,Fxe="ArrowLeft",Y8="ArrowRight",Uxe="ArrowUp",q8="ArrowDown",jO="Home",Z8="End",rp="active",K8="fade",YO="show",Bxe="dropdown",EW=".dropdown-toggle",zxe=".dropdown-menu",qO=`:not(${EW})`,Hxe='.list-group, .nav, [role="tablist"]',Vxe=".nav-item, .list-group-item",Wxe=`.nav-link${qO}, .list-group-item${qO}, [role="tab"]${qO}`,TW='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ZO=`${Wxe}, ${TW}`,Gxe=`.${rp}[data-bs-toggle="tab"], .${rp}[data-bs-toggle="pill"], .${rp}[data-bs-toggle="list"]`,Py=class t extends $s{constructor(e){super(e),this._parent=this._element.closest(Hxe),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),St.on(this._element,Dxe,n=>this._keydown(n)))}static get NAME(){return Axe}show(){let e=this._element;if(this._elemIsActive(e))return;let n=this._getActiveElem(),r=n?St.trigger(n,Rxe,{relatedTarget:e}):null;St.trigger(e,Nxe,{relatedTarget:n}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(rp),this._activate(vn.getElementFromSelector(e));let r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(YO);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),St.trigger(e,Oxe,{relatedTarget:n})};this._queueCallback(r,e,e.classList.contains(K8))}_deactivate(e,n){if(!e)return;e.classList.remove(rp),e.blur(),this._deactivate(vn.getElementFromSelector(e));let r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(YO);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),St.trigger(e,Ixe,{relatedTarget:n})};this._queueCallback(r,e,e.classList.contains(K8))}_keydown(e){if(![Fxe,Y8,Uxe,q8,jO,Z8].includes(e.key))return;e.stopPropagation(),e.preventDefault();let n=this._getChildren().filter(i=>!sf(i)),r;if([jO,Z8].includes(e.key))r=n[e.key===jO?0:n.length-1];else{let i=[Y8,q8].includes(e.key);r=nL(n,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),t.getOrCreateInstance(r).show())}_getChildren(){return vn.find(ZO,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(let r of n)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let n=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",n),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let n=vn.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){let r=this._getOuterElement(e);if(!r.classList.contains(Bxe))return;let i=(o,s)=>{let a=vn.findOne(o,r);a&&a.classList.toggle(s,n)};i(EW,rp),i(zxe,YO),r.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,r){e.hasAttribute(n)||e.setAttribute(n,r)}_elemIsActive(e){return e.classList.contains(rp)}_getInnerElement(e){return e.matches(ZO)?e:vn.findOne(ZO,e)}_getOuterElement(e){return e.closest(Vxe)||e}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}};St.on(document,Lxe,TW,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!sf(this)&&Py.getOrCreateInstance(this).show()});St.on(window,kxe,()=>{for(let t of vn.find(Gxe))Py.getOrCreateInstance(t)});Ta(Py);var $xe="toast",Xxe="bs.toast",cf=`.${Xxe}`,jxe=`mouseover${cf}`,Yxe=`mouseout${cf}`,qxe=`focusin${cf}`,Zxe=`focusout${cf}`,Kxe=`hide${cf}`,Jxe=`hidden${cf}`,Qxe=`show${cf}`,e_e=`shown${cf}`,t_e="fade",J8="hide",NE="show",OE="showing",n_e={animation:"boolean",autohide:"boolean",delay:"number"},r_e={animation:!0,autohide:!0,delay:5e3},$E=class t extends $s{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return r_e}static get DefaultType(){return n_e}static get NAME(){return $xe}show(){if(St.trigger(this._element,Qxe).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(t_e);let n=()=>{this._element.classList.remove(OE),St.trigger(this._element,e_e),this._maybeScheduleHide()};this._element.classList.remove(J8),Ry(this._element),this._element.classList.add(NE,OE),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||St.trigger(this._element,Kxe).defaultPrevented)return;let n=()=>{this._element.classList.add(J8),this._element.classList.remove(OE,NE),St.trigger(this._element,Jxe)};this._element.classList.add(OE),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(NE),super.dispose()}isShown(){return this._element.classList.contains(NE)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}let r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){St.on(this._element,jxe,e=>this._onInteraction(e,!0)),St.on(this._element,Yxe,e=>this._onInteraction(e,!1)),St.on(this._element,qxe,e=>this._onInteraction(e,!0)),St.on(this._element,Zxe,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}};XE($E);Ta($E);var LD={};gl(LD,{Accordion:()=>mG,AccordionBody:()=>rT,AccordionButton:()=>Um,AccordionCollapse:()=>km,AccordionContext:()=>Ku,AccordionHeader:()=>oT,AccordionItem:()=>sT,Alert:()=>ZG,AlertHeading:()=>uT,AlertLink:()=>mT,Anchor:()=>KG,Badge:()=>n$,Breadcrumb:()=>u$,BreadcrumbItem:()=>yT,Button:()=>zl,ButtonGroup:()=>Hm,ButtonToolbar:()=>b$,Card:()=>cX,CardBody:()=>Wy,CardFooter:()=>xT,CardGroup:()=>mX,CardHeader:()=>ST,CardImg:()=>bT,CardImgOverlay:()=>wT,CardLink:()=>ET,CardSubtitle:()=>TT,CardText:()=>CT,CardTitle:()=>MT,Carousel:()=>IX,CarouselCaption:()=>RT,CarouselItem:()=>IT,CloseButton:()=>df,Col:()=>LT,Collapse:()=>Dm,Container:()=>BX,Dropdown:()=>To,DropdownButton:()=>r7,DropdownDivider:()=>$T,DropdownHeader:()=>XT,DropdownItem:()=>jT,DropdownItemText:()=>YT,DropdownMenu:()=>qm,DropdownToggle:()=>Zm,Fade:()=>Oi,Figure:()=>_7,FigureCaption:()=>nC,FigureImage:()=>tC,FloatingLabel:()=>hC,Form:()=>Pj,FormCheck:()=>xf,FormControl:()=>aC,FormFloating:()=>lC,FormGroup:()=>eg,FormLabel:()=>uC,FormSelect:()=>cC,FormText:()=>fC,Image:()=>eC,InputGroup:()=>Uj,ListGroup:()=>iY,ListGroupItem:()=>yC,Modal:()=>GY,ModalBody:()=>TC,ModalDialog:()=>ox,ModalFooter:()=>CC,ModalHeader:()=>AC,ModalTitle:()=>PC,Nav:()=>RC,NavDropdown:()=>Qq,NavItem:()=>sg,NavLink:()=>bf,Navbar:()=>Yq,NavbarBrand:()=>IC,NavbarCollapse:()=>NC,NavbarOffcanvas:()=>zC,NavbarText:()=>HC,NavbarToggle:()=>OC,Offcanvas:()=>BC,OffcanvasBody:()=>LC,OffcanvasHeader:()=>FC,OffcanvasTitle:()=>UC,OffcanvasToggling:()=>kC,Overlay:()=>ZC,OverlayTrigger:()=>NZ,PageItem:()=>KC,Pagination:()=>VZ,Placeholder:()=>ZZ,PlaceholderButton:()=>JC,Popover:()=>XC,PopoverBody:()=>sx,PopoverHeader:()=>GC,ProgressBar:()=>tK,Ratio:()=>oK,Row:()=>cK,SSRProvider:()=>xK,Spinner:()=>mK,SplitButton:()=>yK,Stack:()=>EK,Tab:()=>zK,TabContainer:()=>rM,TabContent:()=>lg,TabPane:()=>ug,Table:()=>GK,Tabs:()=>jK,ThemeProvider:()=>PW,Toast:()=>hJ,ToastBody:()=>sM,ToastContainer:()=>vJ,ToastHeader:()=>oM,ToggleButton:()=>lM,ToggleButtonGroup:()=>CJ,Tooltip:()=>jC,useAccordionButton:()=>xL});var fG=F(yt()),hG=F(me()),pG=F(me());var Pm=F(me());var PLe=F(Ny());function YE(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function o_e(t){var e=s_e(t,"string");return typeof e=="symbol"?e:String(e)}function s_e(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qE(t,e,n){var r=(0,Pm.useRef)(t!==void 0),i=(0,Pm.useState)(e),o=i[0],s=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&o!==e&&s(e),[a?t:o,(0,Pm.useCallback)(function(u){for(var c=arguments.length,h=new Array(c>1?c-1:0),p=1;p<c;p++)h[p-1]=arguments[p];n&&n.apply(void 0,[u].concat(h)),s(u)},[n])]}function _i(t,e){return Object.keys(e).reduce(function(n,r){var i,o=n,s=o[YE(r)],a=o[r],l=yu(o,[YE(r),r].map(o_e)),u=e[r],c=qE(a,s,t[u]),h=c[0],p=c[1];return Ya({},l,(i={},i[r]=h,i[u]=p,i))},t)}function ZE(t,e){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ZE(t,e)}function sL(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ZE(t,e)}var c_e=F(me());function a_e(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function l_e(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function u_e(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}a_e.__suppressDeprecationWarning=!0;l_e.__suppressDeprecationWarning=!0;u_e.__suppressDeprecationWarning=!0;var f_e=F(Ny());var aL=F(me()),ap=F(me()),AW=F($e()),KE=["xxl","xl","lg","md","sm","xs"],JE="xs",Oy=aL.createContext({prefixes:{},breakpoints:KE,minBreakpoint:JE}),{Consumer:KLe,Provider:h_e}=Oy;function p_e({prefixes:t={},breakpoints:e=KE,minBreakpoint:n=JE,dir:r,children:i}){let o=(0,ap.useMemo)(()=>({prefixes:{...t},breakpoints:e,minBreakpoint:n,dir:r}),[t,e,n,r]);return(0,AW.jsx)(h_e,{value:o,children:i})}function Ne(t,e){let{prefixes:n}=(0,ap.useContext)(Oy);return t||n[e]||e}function Rm(){let{breakpoints:t}=(0,ap.useContext)(Oy);return t}function Im(){let{minBreakpoint:t}=(0,ap.useContext)(Oy);return t}function Ul(){let{dir:t}=(0,ap.useContext)(Oy);return t==="rtl"}var PW=p_e;var ZW=F(yt()),KW=F(me()),JW=F(me());var $W=F(yt()),nT=F(me()),XW=F(me());var zW=F(yt());function Xs(t){return t&&t.ownerDocument||document}function lL(t){var e=Xs(t);return e&&e.defaultView||window}function uL(t,e){return lL(t).getComputedStyle(t,e)}var d_e=/([A-Z])/g;function cL(t){return t.replace(d_e,"-$1").toLowerCase()}var m_e=/^ms-/;function Nm(t){return cL(t).replace(m_e,"-ms-")}var g_e=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function fL(t){return!!(t&&g_e.test(t))}function v_e(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Nm(e))||uL(t).getPropertyValue(Nm(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?t.style.removeProperty(Nm(i)):fL(i)?r+=i+"("+o+") ":n+=Nm(i)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var hs=v_e;var Zu=F(me());var Ly=F(me()),Dy=F(Ic());var hL={disabled:!1};var RW=F(me()),pL=RW.default.createContext(null);var IW=function(e){return e.scrollTop};var ky="unmounted",Xu="exited",Eo="entering",Ca="entered",ju="exiting",Yu=function(t){sL(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Xu,o.appearStatus=Eo):l=Ca:r.unmountOnExit||r.mountOnEnter?l=ky:l=Xu,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===ky?{status:Xu}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Eo&&s!==Ca&&(o=Eo):(s===Eo||s===Ca)&&(o=ju)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Eo){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Dy.default.findDOMNode(this);s&&IW(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Xu&&this.setState({status:ky})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Dy.default.findDOMNode(this),a],u=l[0],c=l[1],h=this.getTimeouts(),p=a?h.appear:h.enter;if(!i&&!s||hL.disabled){this.safeSetState({status:Ca},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Eo},function(){o.props.onEntering(u,c),o.onTransitionEnd(p,function(){o.safeSetState({status:Ca},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Dy.default.findDOMNode(this);if(!o||hL.disabled){this.safeSetState({status:Xu},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ju},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Xu},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Dy.default.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ky)return null;var o=this.props,s=o.children,a=o.in,l=o.mountOnEnter,u=o.unmountOnExit,c=o.appear,h=o.enter,p=o.exit,d=o.timeout,v=o.addEndListener,b=o.onEnter,S=o.onEntering,y=o.onEntered,T=o.onExit,E=o.onExiting,A=o.onExited,N=o.nodeRef,x=yu(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ly.default.createElement(pL.Provider,{value:null},typeof s=="function"?s(i,x):Ly.default.cloneElement(Ly.default.Children.only(s),x))},e}(Ly.default.Component);Yu.contextType=pL;Yu.propTypes={};function Om(){}Yu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Om,onEntering:Om,onEntered:Om,onExit:Om,onExiting:Om,onExited:Om};Yu.UNMOUNTED=ky;Yu.EXITED=Xu;Yu.ENTERING=Eo;Yu.ENTERED=Ca;Yu.EXITING=ju;var NW=Yu;var OW=F(me());function QE(t){return t.code==="Escape"||t.keyCode===27}function y_e(){let t=OW.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function ps(t){if(!t||typeof t=="function")return null;let{major:e}=y_e();return e>=19?t.props.ref:t.ref}var Ma=!!(typeof window<"u"&&window.document&&window.document.createElement);var dL=!1,mL=!1;try{eT={get passive(){return dL=!0},get once(){return mL=dL=!0}},Ma&&(window.addEventListener("test",eT,eT),window.removeEventListener("test",eT,!0))}catch{}var eT;function x_e(t,e,n,r){if(r&&typeof r!="boolean"&&!mL){var i=r.once,o=r.capture,s=n;!mL&&i&&(s=n.__once||function a(l){this.removeEventListener(e,a,o),n.call(this,l)},n.__once=s),t.addEventListener(e,s,dL?r:o)}t.addEventListener(e,n,r)}var Lm=x_e;function __e(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}var Fy=__e;function S_e(t,e,n,r){return Lm(t,e,n,r),function(){Fy(t,e,n,r)}}var js=S_e;function gL(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function b_e(t){var e=hs(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function w_e(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||gL(t,"transitionend",!0)},e+n),o=js(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function Uy(t,e,n,r){n==null&&(n=b_e(t)||0);var i=w_e(t,n,r),o=js(t,"transitionend",e);return function(){i(),o()}}function LW(t,e){let n=hs(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function qu(t,e){let n=LW(t,"transitionDuration"),r=LW(t,"transitionDelay"),i=Uy(t,o=>{o.target===t&&(i(),e(o))},n+r)}function E_e(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}var ff=E_e;function lp(t){t.offsetHeight}var Ys=F(me());var kW=F(me()),DW=t=>!t||typeof t=="function"?t:e=>{t.current=e};function T_e(t,e){let n=DW(t),r=DW(e);return i=>{n&&n(i),r&&r(i)}}function C_e(t,e){return(0,kW.useMemo)(()=>T_e(t,e),[t,e])}var ds=C_e;var FW=F(Ic());function hf(t){return t&&"setState"in t?FW.default.findDOMNode(t):t??null}var UW=F($e()),BW=Ys.default.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:o,addEndListener:s,children:a,childRef:l,...u},c)=>{let h=(0,Ys.useRef)(null),p=ds(h,l),d=x=>{p(hf(x))},v=x=>D=>{x&&h.current&&x(h.current,D)},b=(0,Ys.useCallback)(v(t),[t]),S=(0,Ys.useCallback)(v(e),[e]),y=(0,Ys.useCallback)(v(n),[n]),T=(0,Ys.useCallback)(v(r),[r]),E=(0,Ys.useCallback)(v(i),[i]),A=(0,Ys.useCallback)(v(o),[o]),N=(0,Ys.useCallback)(v(s),[s]);return(0,UW.jsx)(NW,{ref:c,...u,onEnter:b,onEntered:y,onEntering:S,onExit:T,onExited:A,onExiting:E,addEndListener:N,nodeRef:h,children:typeof a=="function"?(x,D)=>a(x,{...D,ref:d}):Ys.default.cloneElement(a,{ref:d})})});BW.displayName="TransitionWrapper";var pf=BW;var HW=F($e()),M_e={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function A_e(t,e){let n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=M_e[t];return r+parseInt(hs(e,i[0]),10)+parseInt(hs(e,i[1]),10)}var P_e={[Xu]:"collapse",[ju]:"collapsing",[Eo]:"collapsing",[Ca]:"collapse show"},VW=Zu.default.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:o,children:s,dimension:a="height",in:l=!1,timeout:u=300,mountOnEnter:c=!1,unmountOnExit:h=!1,appear:p=!1,getDimensionValue:d=A_e,...v},b)=>{let S=typeof a=="function"?a():a,y=(0,Zu.useMemo)(()=>ff(x=>{x.style[S]="0"},t),[S,t]),T=(0,Zu.useMemo)(()=>ff(x=>{let D=`scroll${S[0].toUpperCase()}${S.slice(1)}`;x.style[S]=`${x[D]}px`},e),[S,e]),E=(0,Zu.useMemo)(()=>ff(x=>{x.style[S]=null},n),[S,n]),A=(0,Zu.useMemo)(()=>ff(x=>{x.style[S]=`${d(S,x)}px`,lp(x)},r),[r,d,S]),N=(0,Zu.useMemo)(()=>ff(x=>{x.style[S]=null},i),[S,i]);return(0,HW.jsx)(pf,{ref:b,addEndListener:qu,...v,"aria-expanded":v.role?l:null,onEnter:y,onEntering:T,onEntered:E,onExit:A,onExiting:N,childRef:ps(s),in:l,timeout:u,mountOnEnter:c,unmountOnExit:h,appear:p,children:(x,D)=>Zu.default.cloneElement(s,{...D,className:(0,zW.default)(o,s.props.className,P_e[x],S==="width"&&"collapse-horizontal")})})});VW.displayName="Collapse";var Dm=VW;var WW=F(me());function tT(t,e){return Array.isArray(t)?t.includes(e):t===e}var GW=WW.createContext({});GW.displayName="AccordionContext";var Ku=GW;var vL=F($e()),jW=nT.forwardRef(({as:t="div",bsPrefix:e,className:n,children:r,eventKey:i,...o},s)=>{let{activeEventKey:a}=(0,XW.useContext)(Ku);return e=Ne(e,"accordion-collapse"),(0,vL.jsx)(Dm,{ref:s,in:tT(a,i),...o,className:(0,$W.default)(n,e),children:(0,vL.jsx)(t,{children:nT.Children.only(r)})})});jW.displayName="AccordionCollapse";var km=jW;var YW=F(me()),qW=YW.createContext({eventKey:""});qW.displayName="AccordionItemContext";var Fm=qW;var yL=F($e()),QW=KW.forwardRef(({as:t="div",bsPrefix:e,className:n,onEnter:r,onEntering:i,onEntered:o,onExit:s,onExiting:a,onExited:l,...u},c)=>{e=Ne(e,"accordion-body");let{eventKey:h}=(0,JW.useContext)(Fm);return(0,yL.jsx)(km,{eventKey:h,onEnter:r,onEntering:i,onEntered:o,onExit:s,onExiting:a,onExited:l,children:(0,yL.jsx)(t,{ref:c,...u,className:(0,ZW.default)(n,e)})})});QW.displayName="AccordionBody";var rT=QW;var eG=F(me()),iT=F(me()),tG=F(yt());var nG=F($e());function xL(t,e){let{activeEventKey:n,onSelect:r,alwaysOpen:i}=(0,iT.useContext)(Ku);return o=>{let s=t===n?null:t;i&&(Array.isArray(n)?n.includes(t)?s=n.filter(a=>a!==t):s=[...n,t]:s=[t]),r?.(s,o),e?.(o)}}var rG=eG.forwardRef(({as:t="button",bsPrefix:e,className:n,onClick:r,...i},o)=>{e=Ne(e,"accordion-button");let{eventKey:s}=(0,iT.useContext)(Fm),a=xL(s,r),{activeEventKey:l}=(0,iT.useContext)(Ku);return t==="button"&&(i.type="button"),(0,nG.jsx)(t,{ref:o,onClick:a,...i,"aria-expanded":Array.isArray(l)?l.includes(s):s===l,className:(0,tG.default)(n,e,!tT(l,s)&&"collapsed")})});rG.displayName="AccordionButton";var Um=rG;var iG=F(yt()),oG=F(me());var _L=F($e()),sG=oG.forwardRef(({as:t="h2","aria-controls":e,bsPrefix:n,className:r,children:i,onClick:o,...s},a)=>(n=Ne(n,"accordion-header"),(0,_L.jsx)(t,{ref:a,...s,className:(0,iG.default)(r,n),children:(0,_L.jsx)(Um,{onClick:o,"aria-controls":e,children:i})})));sG.displayName="AccordionHeader";var oT=sG;var aG=F(yt()),lG=F(me()),uG=F(me());var SL=F($e()),cG=lG.forwardRef(({as:t="div",bsPrefix:e,className:n,eventKey:r,...i},o)=>{e=Ne(e,"accordion-item");let s=(0,uG.useMemo)(()=>({eventKey:r}),[r]);return(0,SL.jsx)(Fm.Provider,{value:s,children:(0,SL.jsx)(t,{ref:o,...i,className:(0,aG.default)(n,e)})})});cG.displayName="AccordionItem";var sT=cG;var bL=F($e()),dG=hG.forwardRef((t,e)=>{let{as:n="div",activeKey:r,bsPrefix:i,className:o,onSelect:s,flush:a,alwaysOpen:l,...u}=_i(t,{activeKey:"onSelect"}),c=Ne(i,"accordion"),h=(0,pG.useMemo)(()=>({activeEventKey:r,onSelect:s,alwaysOpen:l}),[r,s,l]);return(0,bL.jsx)(Ku.Provider,{value:h,children:(0,bL.jsx)(n,{ref:e,...u,className:(0,fG.default)(o,c,a&&`${c}-flush`)})})});dG.displayName="Accordion";var mG=Object.assign(dG,{Button:Um,Collapse:km,Item:sT,Header:oT,Body:rT});var XG=F(yt()),jG=F(me());var gG=F(me());var aT=F(me());function R_e(t){let e=(0,aT.useRef)(t);return(0,aT.useEffect)(()=>{e.current=t},[t]),e}var lT=R_e;function Or(t){let e=lT(t);return(0,gG.useCallback)(function(...n){return e.current&&e.current(...n)},[e])}var _G=F(me()),SG=F(yt());var vG=F(me()),yG=F(yt()),xG=F($e()),Bl=t=>vG.forwardRef((e,n)=>(0,xG.jsx)("div",{...e,ref:n,className:(0,yG.default)(e.className,t)}));var bG=F($e()),wG=Bl("h4");wG.displayName="DivStyledAsH4";var EG=_G.forwardRef(({className:t,bsPrefix:e,as:n=wG,...r},i)=>(e=Ne(e,"alert-heading"),(0,bG.jsx)(n,{ref:i,className:(0,SG.default)(t,e),...r})));EG.displayName="AlertHeading";var uT=EG;var DG=F(me()),kG=F(yt());var OG=F(me());var TG=F(me());function up(){return(0,TG.useState)(null)}var cT=F(me());function I_e(t){let e=(0,cT.useRef)(t);return(0,cT.useEffect)(()=>{e.current=t},[t]),e}var By=I_e;var CG=F(me());function dr(t){let e=By(t);return(0,CG.useCallback)(function(...n){return e.current&&e.current(...n)},[e])}var MG=F(me());function zy(t,e,n,r=!1){let i=dr(n);(0,MG.useEffect)(()=>{let o=typeof t=="function"?t():t;return o.addEventListener(e,i,r),()=>o.removeEventListener(e,i,r)},[t])}var N_e=F(me());var O_e=F(me());var L_e=F(me());var AG=F(me());var Hy=F(me());function Bm(){let t=(0,Hy.useRef)(!0),e=(0,Hy.useRef)(()=>t.current);return(0,Hy.useEffect)(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}var fT=F(me());function zm(t){let e=(0,fT.useRef)(null);return(0,fT.useEffect)(()=>{e.current=t}),e.current}var PG=F(me());var U_e=F(me());var hT=F(me()),k_e=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",F_e=typeof document<"u",pT=F_e||k_e?hT.useLayoutEffect:hT.useEffect;var RG=F(me()),IG=F($e()),B_e=["as","disabled"];function z_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function H_e(t){return!t||t.trim()==="#"}function Vy({tagName:t,disabled:e,href:n,target:r,rel:i,role:o,onClick:s,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");let u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];let c=p=>{if((e||t==="a"&&H_e(n))&&p.preventDefault(),e){p.stopPropagation();return}s?.(p)},h=p=>{p.key===" "&&(p.preventDefault(),c(p))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:c,onKeyDown:h},u]}var NG=RG.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=z_e(t,B_e),[o,{tagName:s}]=Vy(Object.assign({tagName:n,disabled:r},i));return(0,IG.jsx)(s,Object.assign({},i,o,{ref:e}))});NG.displayName="Button";var dT=NG;var wL=F($e()),V_e=["onKeyDown"];function W_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function G_e(t){return!t||t.trim()==="#"}var LG=OG.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=W_e(t,V_e),[i]=Vy(Object.assign({tagName:"a"},r)),o=dr(s=>{i.onKeyDown(s),n?.(s)});return G_e(r.href)||r.role==="button"?(0,wL.jsx)("a",Object.assign({ref:e},r,i,{onKeyDown:o})):(0,wL.jsx)("a",Object.assign({ref:e},r,{onKeyDown:n}))});LG.displayName="Anchor";var Vo=LG;var FG=F($e()),UG=DG.forwardRef(({className:t,bsPrefix:e,as:n=Vo,...r},i)=>(e=Ne(e,"alert-link"),(0,FG.jsx)(n,{ref:i,className:(0,kG.default)(t,e),...r})));UG.displayName="AlertLink";var mT=UG;var BG=F(yt()),gT=F(me()),zG=F(me());var HG=F($e()),$_e={[Eo]:"show",[Ca]:"show"},VG=gT.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},o)=>{let s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=(0,zG.useCallback)((l,u)=>{lp(l),r?.(l,u)},[r]);return(0,HG.jsx)(pf,{ref:o,addEndListener:qu,...s,onEnter:a,childRef:ps(e),children:(l,u)=>gT.cloneElement(e,{...u,className:(0,BG.default)("fade",t,e.props.className,$_e[l],n[l])})})});VG.displayName="Fade";var Oi=VG;var vT=F(ja()),WG=F(me()),GG=F(yt()),$G=F($e()),X_e={"aria-label":vT.default.string,onClick:vT.default.func,variant:vT.default.oneOf(["white"])},EL=WG.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>(0,$G.jsx)("button",{ref:i,type:"button",className:(0,GG.default)("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));EL.displayName="CloseButton";EL.propTypes=X_e;var df=EL;var TL=F($e()),YG=F($e()),qG=jG.forwardRef((t,e)=>{let{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:o,className:s,children:a,variant:l="primary",onClose:u,dismissible:c,transition:h=Oi,...p}=_i(t,{show:"onClose"}),d=Ne(n,"alert"),v=Or(y=>{u&&u(!1,y)}),b=h===!0?Oi:h,S=(0,YG.jsxs)("div",{role:"alert",...b?void 0:p,ref:e,className:(0,XG.default)(s,d,l&&`${d}-${l}`,c&&`${d}-dismissible`),children:[c&&(0,TL.jsx)(df,{onClick:v,"aria-label":i,variant:o}),a]});return b?(0,TL.jsx)(b,{unmountOnExit:!0,...p,ref:void 0,in:r,children:S}):r?S:null});qG.displayName="Alert";var ZG=Object.assign(qG,{Link:mT,Heading:uT});var KG=Vo;var JG=F(yt()),QG=F(me());var e$=F($e()),t$=QG.forwardRef(({bsPrefix:t,bg:e="primary",pill:n=!1,text:r,className:i,as:o="span",...s},a)=>{let l=Ne(t,"badge");return(0,e$.jsx)(o,{ref:a,...s,className:(0,JG.default)(i,l,n&&"rounded-pill",r&&`text-${r}`,e&&`bg-${e}`)})});t$.displayName="Badge";var n$=t$;var s$=F(yt()),a$=F(me());var r$=F(yt()),i$=F(me());var CL=F($e()),o$=i$.forwardRef(({bsPrefix:t,active:e=!1,children:n,className:r,as:i="li",linkAs:o=Vo,linkProps:s={},href:a,title:l,target:u,...c},h)=>{let p=Ne(t,"breadcrumb-item");return(0,CL.jsx)(i,{ref:h,...c,className:(0,r$.default)(p,r,{active:e}),"aria-current":e?"page":void 0,children:e?n:(0,CL.jsx)(o,{...s,href:a,title:l,target:u,children:n})})});o$.displayName="BreadcrumbItem";var yT=o$;var ML=F($e()),l$=a$.forwardRef(({bsPrefix:t,className:e,listProps:n={},children:r,label:i="breadcrumb",as:o="nav",...s},a)=>{let l=Ne(t,"breadcrumb");return(0,ML.jsx)(o,{"aria-label":i,className:e,ref:a,...s,children:(0,ML.jsx)("ol",{...n,className:(0,s$.default)(l,n?.className),children:r})})});l$.displayName="Breadcrumb";var u$=Object.assign(l$,{Item:yT});var c$=F(yt()),f$=F(me());var h$=F($e()),p$=f$.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:o=!1,className:s,...a},l)=>{let u=Ne(e,"btn"),[c,{tagName:h}]=Vy({tagName:t,disabled:o,...a});return(0,h$.jsx)(h,{...c,...a,ref:l,disabled:o,className:(0,c$.default)(s,u,i&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,a.href&&o&&"disabled")})});p$.displayName="Button";var zl=p$;var d$=F(yt()),m$=F(me());var g$=F($e()),v$=m$.forwardRef(({bsPrefix:t,size:e,vertical:n=!1,className:r,role:i="group",as:o="div",...s},a)=>{let l=Ne(t,"btn-group"),u=l;return n&&(u=`${l}-vertical`),(0,g$.jsx)(o,{...s,ref:a,role:i,className:(0,d$.default)(r,u,e&&`${l}-${e}`)})});v$.displayName="ButtonGroup";var Hm=v$;var y$=F(yt()),x$=F(me());var _$=F($e()),S$=x$.forwardRef(({bsPrefix:t,className:e,role:n="toolbar",...r},i)=>{let o=Ne(t,"btn-toolbar");return(0,_$.jsx)("div",{...r,ref:i,className:(0,y$.default)(e,o),role:n})});S$.displayName="ButtonToolbar";var b$=S$;var aX=F(yt()),lX=F(me());var w$=F(me()),E$=F(yt());var T$=F($e()),C$=w$.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ne(e,"card-body"),(0,T$.jsx)(n,{ref:i,className:(0,E$.default)(t,e),...r})));C$.displayName="CardBody";var Wy=C$;var M$=F(me()),A$=F(yt());var P$=F($e()),R$=M$.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ne(e,"card-footer"),(0,P$.jsx)(n,{ref:i,className:(0,A$.default)(t,e),...r})));R$.displayName="CardFooter";var xT=R$;var O$=F(yt()),L$=F(me()),D$=F(me());var I$=F(me()),N$=I$.createContext(null);N$.displayName="CardHeaderContext";var _T=N$;var AL=F($e()),k$=L$.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{let o=Ne(t,"card-header"),s=(0,D$.useMemo)(()=>({cardHeaderBsPrefix:o}),[o]);return(0,AL.jsx)(_T.Provider,{value:s,children:(0,AL.jsx)(n,{ref:i,...r,className:(0,O$.default)(e,o)})})});k$.displayName="CardHeader";var ST=k$;var F$=F(yt()),U$=F(me());var B$=F($e()),z$=U$.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},o)=>{let s=Ne(t,"card-img");return(0,B$.jsx)(r,{ref:o,className:(0,F$.default)(n?`${s}-${n}`:s,e),...i})});z$.displayName="CardImg";var bT=z$;var H$=F(me()),V$=F(yt());var W$=F($e()),G$=H$.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ne(e,"card-img-overlay"),(0,W$.jsx)(n,{ref:i,className:(0,V$.default)(t,e),...r})));G$.displayName="CardImgOverlay";var wT=G$;var $$=F(me()),X$=F(yt());var j$=F($e()),Y$=$$.forwardRef(({className:t,bsPrefix:e,as:n="a",...r},i)=>(e=Ne(e,"card-link"),(0,j$.jsx)(n,{ref:i,className:(0,X$.default)(t,e),...r})));Y$.displayName="CardLink";var ET=Y$;var q$=F(me()),Z$=F(yt());var K$=F($e()),j_e=Bl("h6"),J$=q$.forwardRef(({className:t,bsPrefix:e,as:n=j_e,...r},i)=>(e=Ne(e,"card-subtitle"),(0,K$.jsx)(n,{ref:i,className:(0,Z$.default)(t,e),...r})));J$.displayName="CardSubtitle";var TT=J$;var Q$=F(me()),eX=F(yt());var tX=F($e()),nX=Q$.forwardRef(({className:t,bsPrefix:e,as:n="p",...r},i)=>(e=Ne(e,"card-text"),(0,tX.jsx)(n,{ref:i,className:(0,eX.default)(t,e),...r})));nX.displayName="CardText";var CT=nX;var rX=F(me()),iX=F(yt());var oX=F($e()),Y_e=Bl("h5"),sX=rX.forwardRef(({className:t,bsPrefix:e,as:n=Y_e,...r},i)=>(e=Ne(e,"card-title"),(0,oX.jsx)(n,{ref:i,className:(0,iX.default)(t,e),...r})));sX.displayName="CardTitle";var MT=sX;var PL=F($e()),uX=lX.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:o=!1,children:s,as:a="div",...l},u)=>{let c=Ne(t,"card");return(0,PL.jsx)(a,{ref:u,...l,className:(0,aX.default)(e,c,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:o?(0,PL.jsx)(Wy,{children:s}):s})});uX.displayName="Card";var cX=Object.assign(uX,{Img:bT,Title:MT,Subtitle:TT,Body:Wy,Link:ET,Text:CT,Header:ST,Footer:xT,ImgOverlay:wT});var fX=F(me()),hX=F(yt());var pX=F($e()),dX=fX.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ne(e,"card-group"),(0,pX.jsx)(n,{ref:i,className:(0,hX.default)(t,e),...r})));dX.displayName="CardGroup";var mX=dX;var AT=F(me());function q_e(t,e){let n=(0,AT.useRef)(!0);(0,AT.useEffect)(()=>{if(n.current){n.current=!1;return}return t()},e)}var gX=q_e;var PT=F(me());var Gy=F(me());function RL(){let t=(0,Gy.useRef)(!0),e=(0,Gy.useRef)(()=>t.current);return(0,Gy.useEffect)(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}var vX=F(me());function IL(t){let e=(0,vX.useRef)(t);return e.current=t,e}var yX=F(me());function $y(t){let e=IL(t);(0,yX.useEffect)(()=>()=>e.current(),[])}var NL=2**31-1;function xX(t,e,n){let r=n-Date.now();t.current=r<=NL?setTimeout(e,r):setTimeout(()=>xX(t,e,n),NL)}function cp(){let t=RL(),e=(0,PT.useRef)();return $y(()=>clearTimeout(e.current)),(0,PT.useMemo)(()=>{let n=()=>clearTimeout(e.current);function r(i,o=0){t()&&(n(),o<=NL?e.current=setTimeout(i,o):xX(e,i,Date.now()+o))}return{set:r,clear:n}},[])}var OT=F(yt()),jy=F(me()),mr=F(me());var _X=F(me()),SX=F(yt());var bX=F($e()),wX=_X.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ne(e,"carousel-caption"),(0,bX.jsx)(n,{ref:i,className:(0,SX.default)(t,e),...r})));wX.displayName="CarouselCaption";var RT=wX;var EX=F(yt()),TX=F(me());var CX=F($e()),MX=TX.forwardRef(({as:t="div",bsPrefix:e,className:n,...r},i)=>{let o=(0,EX.default)(n,Ne(e,"carousel-item"));return(0,CX.jsx)(t,{ref:i,...r,className:o})});MX.displayName="CarouselItem";var IT=MX;var mf=F(me());function Hl(t,e){let n=0;return mf.Children.map(t,r=>mf.isValidElement(r)?e(r,n++):r)}function NT(t,e){let n=0;mf.Children.forEach(t,r=>{mf.isValidElement(r)&&e(r,n++)})}function AX(t,e){return mf.Children.toArray(t).some(n=>mf.isValidElement(n)&&n.type===e)}var Ju=F($e()),Xy=F($e()),PX=F($e()),Z_e=40;function K_e(t){if(!t||!t.style||!t.parentNode||!t.parentNode.style)return!1;let e=getComputedStyle(t);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(t.parentNode).display!=="none"}var RX=jy.forwardRef(({defaultActiveIndex:t=0,...e},n)=>{let{as:r="div",bsPrefix:i,slide:o=!0,fade:s=!1,controls:a=!0,indicators:l=!0,indicatorLabels:u=[],activeIndex:c,onSelect:h,onSlide:p,onSlid:d,interval:v=5e3,keyboard:b=!0,onKeyDown:S,pause:y="hover",onMouseOver:T,onMouseOut:E,wrap:A=!0,touch:N=!0,onTouchStart:x,onTouchMove:D,onTouchEnd:k,prevIcon:U=(0,Ju.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:L="Previous",nextIcon:j=(0,Ju.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:ie="Next",variant:se,className:fe,children:_e,...J}=_i({defaultActiveIndex:t,...e},{activeIndex:"onSelect"}),te=Ne(i,"carousel"),ne=Ul(),xe=(0,mr.useRef)(null),[Ce,Le]=(0,mr.useState)("next"),[rt,ot]=(0,mr.useState)(!1),[Ae,ze]=(0,mr.useState)(!1),[je,it]=(0,mr.useState)(c||0);(0,mr.useEffect)(()=>{!Ae&&c!==je&&(xe.current?Le(xe.current):Le((c||0)>je?"next":"prev"),o&&ze(!0),it(c||0))},[c,Ae,je,o]),(0,mr.useEffect)(()=>{xe.current&&(xe.current=null)});let pt=0,It;NT(_e,(gt,vt)=>{++pt,vt===c&&(It=gt.props.interval)});let Nt=lT(It),mt=(0,mr.useCallback)(gt=>{if(Ae)return;let vt=je-1;if(vt<0){if(!A)return;vt=pt-1}xe.current="prev",h?.(vt,gt)},[Ae,je,h,A,pt]),K=Or(gt=>{if(Ae)return;let vt=je+1;if(vt>=pt){if(!A)return;vt=0}xe.current="next",h?.(vt,gt)}),ye=(0,mr.useRef)();(0,mr.useImperativeHandle)(n,()=>({element:ye.current,prev:mt,next:K}));let ge=Or(()=>{!document.hidden&&K_e(ye.current)&&(ne?mt():K())}),Q=Ce==="next"?"start":"end";gX(()=>{o||(p?.(je,Q),d?.(je,Q))},[je]);let q=`${te}-item-${Ce}`,ve=`${te}-item-${Q}`,ue=(0,mr.useCallback)(gt=>{lp(gt),p?.(je,Q)},[p,je,Q]),xt=(0,mr.useCallback)(()=>{ze(!1),d?.(je,Q)},[d,je,Q]),ae=(0,mr.useCallback)(gt=>{if(b&&!/input|textarea/i.test(gt.target.tagName))switch(gt.key){case"ArrowLeft":gt.preventDefault(),ne?K(gt):mt(gt);return;case"ArrowRight":gt.preventDefault(),ne?mt(gt):K(gt);return;default:}S?.(gt)},[b,S,mt,K,ne]),$=(0,mr.useCallback)(gt=>{y==="hover"&&ot(!0),T?.(gt)},[y,T]),De=(0,mr.useCallback)(gt=>{ot(!1),E?.(gt)},[E]),Ke=(0,mr.useRef)(0),Ee=(0,mr.useRef)(0),Be=cp(),Ze=(0,mr.useCallback)(gt=>{Ke.current=gt.touches[0].clientX,Ee.current=0,y==="hover"&&ot(!0),x?.(gt)},[y,x]),ut=(0,mr.useCallback)(gt=>{gt.touches&&gt.touches.length>1?Ee.current=0:Ee.current=gt.touches[0].clientX-Ke.current,D?.(gt)},[D]),Pt=(0,mr.useCallback)(gt=>{if(N){let vt=Ee.current;Math.abs(vt)>Z_e&&(vt>0?mt(gt):K(gt))}y==="hover"&&Be.set(()=>{ot(!1)},v||void 0),k?.(gt)},[N,y,mt,K,Be,v,k]),zt=v!=null&&!rt&&!Ae,Qe=(0,mr.useRef)();(0,mr.useEffect)(()=>{var gt,vt;if(!zt)return;let Ct=ne?mt:K;return Qe.current=window.setInterval(document.visibilityState?ge:Ct,(gt=(vt=Nt.current)!=null?vt:v)!=null?gt:void 0),()=>{Qe.current!==null&&clearInterval(Qe.current)}},[zt,mt,K,Nt,v,ge,ne]);let Je=(0,mr.useMemo)(()=>l&&Array.from({length:pt},(gt,vt)=>Ct=>{h?.(vt,Ct)}),[l,pt,h]);return(0,Xy.jsxs)(r,{ref:ye,...J,onKeyDown:ae,onMouseOver:$,onMouseOut:De,onTouchStart:Ze,onTouchMove:ut,onTouchEnd:Pt,className:(0,OT.default)(fe,te,o&&"slide",s&&`${te}-fade`,se&&`${te}-${se}`),children:[l&&(0,Ju.jsx)("div",{className:`${te}-indicators`,children:Hl(_e,(gt,vt)=>(0,Ju.jsx)("button",{type:"button","data-bs-target":"","aria-label":u!=null&&u.length?u[vt]:`Slide ${vt+1}`,className:vt===je?"active":void 0,onClick:Je?Je[vt]:void 0,"aria-current":vt===je},vt))}),(0,Ju.jsx)("div",{className:`${te}-inner`,children:Hl(_e,(gt,vt)=>{let Ct=vt===je;return o?(0,Ju.jsx)(pf,{in:Ct,onEnter:Ct?ue:void 0,onEntered:Ct?xt:void 0,addEndListener:qu,children:(rn,fn)=>jy.cloneElement(gt,{...fn,className:(0,OT.default)(gt.props.className,Ct&&rn!=="entered"&&q,(rn==="entered"||rn==="exiting")&&"active",(rn==="entering"||rn==="exiting")&&ve)})}):jy.cloneElement(gt,{className:(0,OT.default)(gt.props.className,Ct&&"active")})})}),a&&(0,Xy.jsxs)(PX.Fragment,{children:[(A||c!==0)&&(0,Xy.jsxs)(Vo,{className:`${te}-control-prev`,onClick:mt,children:[U,L&&(0,Ju.jsx)("span",{className:"visually-hidden",children:L})]}),(A||c!==pt-1)&&(0,Xy.jsxs)(Vo,{className:`${te}-control-next`,onClick:K,children:[j,ie&&(0,Ju.jsx)("span",{className:"visually-hidden",children:ie})]})]})]})});RX.displayName="Carousel";var IX=Object.assign(RX,{Caption:RT,Item:IT});var OL=F(yt()),NX=F(me());var OX=F($e());function LL({as:t,bsPrefix:e,className:n,...r}){e=Ne(e,"col");let i=Rm(),o=Im(),s=[],a=[];return i.forEach(l=>{let u=r[l];delete r[l];let c,h,p;typeof u=="object"&&u!=null?{span:c,offset:h,order:p}=u:c=u;let d=l!==o?`-${l}`:"";c&&s.push(c===!0?`${e}${d}`:`${e}${d}-${c}`),p!=null&&a.push(`order${d}-${p}`),h!=null&&a.push(`offset${d}-${h}`)}),[{...r,className:(0,OL.default)(n,...s,...a)},{as:t,bsPrefix:e,spans:s}]}var LX=NX.forwardRef((t,e)=>{let[{className:n,...r},{as:i="div",bsPrefix:o,spans:s}]=LL(t);return(0,OX.jsx)(i,{...r,ref:e,className:(0,OL.default)(n,!s.length&&o)})});LX.displayName="Col";var LT=LX;var DX=F(yt()),kX=F(me());var FX=F($e()),UX=kX.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},o)=>{let s=Ne(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return(0,FX.jsx)(n,{ref:o,...i,className:(0,DX.default)(r,e?`${s}${a}`:s)})});UX.displayName="Container";var BX=UX;var J9=F(yt()),Q9=F(me()),QT=F(me());var J_e=Function.prototype.bind.call(Function.prototype.call,[].slice);function qs(t,e){return J_e(t.querySelectorAll(e))}var Wo=F(me()),EBe=F(me());var Vm=F(me());function DT(t,e,n){let r=(0,Vm.useRef)(t!==void 0),[i,o]=(0,Vm.useState)(e),s=t!==void 0,a=r.current;return r.current=s,!s&&a&&i!==e&&o(e),[s?t:i,(0,Vm.useCallback)((...l)=>{let[u,...c]=l,h=n?.(u,...c);return o(u),h},[n])]}var zX=F(me());function Yy(){let[,t]=(0,zX.useReducer)(e=>e+1,0);return t}var HX=F(me()),Q_e=HX.createContext(null),gf=Q_e;var UT=F(me()),ZUe=F(me());var ms=F(me());var VX=Object.prototype.hasOwnProperty;function WX(t,e,n){for(n of t.keys())if(Wm(n,e))return n}function Wm(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Wm(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=WX(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=WX(e,i),!i)||!Wm(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(VX.call(t,n)&&++r&&!VX.call(e,n)||!(n in e)||!Wm(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}var GX=F(me());function eSe(t){let e=Bm();return[t[0],(0,GX.useCallback)(n=>{if(e())return t[1](n)},[e,t[1]])]}var $X=eSe;var XX=Fl({defaultModifiers:[vm,nf,Qc,ef,ym,gm,xm,pm]});var tSe=["enabled","placement","strategy","modifiers"];function nSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rSe={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},iSe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{let{reference:e,popper:n}=t.elements;if("removeAttribute"in e){let r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;let{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){let o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${n.id}`:n.id)}}},oSe=[];function sSe(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:s=oSe}=n,a=nSe(n,tSe),l=(0,ms.useRef)(s),u=(0,ms.useRef)(),c=(0,ms.useCallback)(()=>{var S;(S=u.current)==null||S.update()},[]),h=(0,ms.useCallback)(()=>{var S;(S=u.current)==null||S.forceUpdate()},[]),[p,d]=$X((0,ms.useState)({placement:i,update:c,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),v=(0,ms.useMemo)(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:S})=>{let y={},T={};Object.keys(S.elements).forEach(E=>{y[E]=S.styles[E],T[E]=S.attributes[E]}),d({state:S,styles:y,attributes:T,update:c,forceUpdate:h,placement:S.placement})}}),[c,h,d]),b=(0,ms.useMemo)(()=>(Wm(l.current,s)||(l.current=s),l.current),[s]);return(0,ms.useEffect)(()=>{!u.current||!r||u.current.setOptions({placement:i,strategy:o,modifiers:[...b,v,rSe]})},[o,i,v,r,b]),(0,ms.useEffect)(()=>{if(!(!r||t==null||e==null))return u.current=XX(t,e,Object.assign({},a,{placement:i,strategy:o,modifiers:[...b,iSe,v]})),()=>{u.current!=null&&(u.current.destroy(),u.current=void 0,d(S=>Object.assign({},S,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),p}var kT=sSe;function Qu(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var fp=F(me());var JX=F(vf()),ZX=()=>{};function lSe(t){return t.button===0}function uSe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var qy=t=>t&&("current"in t?t.current:t),KX={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function cSe(t,e=ZX,{disabled:n,clickTrigger:r="click"}={}){let i=(0,fp.useRef)(!1),o=(0,fp.useRef)(!1),s=(0,fp.useCallback)(u=>{let c=qy(t);(0,JX.default)(!!c,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!c||uSe(u)||!lSe(u)||!!Qu(c,u.target)||o.current,o.current=!1},[t]),a=dr(u=>{let c=qy(t);c&&Qu(c,u.target)?o.current=!0:o.current=!1}),l=dr(u=>{i.current||e(u)});(0,fp.useEffect)(()=>{var u,c;if(n||t==null)return;let h=Xs(qy(t)),p=h.defaultView||window,d=(u=p.event)!=null?u:(c=p.parent)==null?void 0:c.event,v=null;KX[r]&&(v=js(h,KX[r],a,!0));let b=js(h,r,s,!0),S=js(h,r,T=>{if(T===d){d=void 0;return}l(T)}),y=[];return"ontouchstart"in h.documentElement&&(y=[].slice.call(h.body.children).map(T=>js(T,"mousemove",ZX))),()=>{v?.(),b(),S(),y.forEach(T=>T())}},[t,n,r,s,a,l])}var FT=cSe;function fSe(t){let e={};return Array.isArray(t)?(t?.forEach(n=>{e[n.name]=n}),e):t||e}function hSe(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function Zy({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:o,containerPadding:s,arrowElement:a,popperConfig:l={}}){var u,c,h,p,d;let v=fSe(l.modifiers);return Object.assign({},l,{placement:n,enabled:t,strategy:o?"fixed":l.strategy,modifiers:hSe(Object.assign({},v,{eventListeners:{enabled:e,options:(u=v.eventListeners)==null?void 0:u.options},preventOverflow:Object.assign({},v.preventOverflow,{options:s?Object.assign({padding:s},(c=v.preventOverflow)==null?void 0:c.options):(h=v.preventOverflow)==null?void 0:h.options}),offset:{options:Object.assign({offset:i},(p=v.offset)==null?void 0:p.options)},arrow:Object.assign({},v.arrow,{enabled:!!a,options:Object.assign({},(d=v.arrow)==null?void 0:d.options,{element:a})}),flip:Object.assign({enabled:!!r},v.flip)}))})}var BT=F($e()),pSe=["children","usePopper"];function dSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mSe=()=>{};function DL(t={}){let e=(0,UT.useContext)(gf),[n,r]=up(),i=(0,UT.useRef)(!1),{flip:o,offset:s,rootCloseEvent:a,fixed:l=!1,placement:u,popperConfig:c={},enableEventListeners:h=!0,usePopper:p=!!e}=t,d=e?.show==null?!!t.show:e.show;d&&!i.current&&(i.current=!0);let v=x=>{e?.toggle(!1,x)},{placement:b,setMenu:S,menuElement:y,toggleElement:T}=e||{},E=kT(T,y,Zy({placement:u||b||"bottom-start",enabled:p,enableEvents:h??d,offset:s,flip:o,fixed:l,arrowElement:n,popperConfig:c})),A=Object.assign({ref:S||mSe,"aria-labelledby":T?.id},E.attributes.popper,{style:E.styles.popper}),N={show:d,placement:b,hasShown:i.current,toggle:e?.toggle,popper:p?E:null,arrowProps:p?Object.assign({ref:r},E.attributes.arrow,{style:E.styles.arrow}):{}};return FT(y,v,{clickTrigger:a,disabled:!d}),[A,N]}function QX(t){let{children:e,usePopper:n=!0}=t,r=dSe(t,pSe),[i,o]=DL(Object.assign({},r,{usePopper:n}));return(0,BT.jsx)(BT.Fragment,{children:e(i,o)})}QX.displayName="DropdownMenu";var e9=QX;var HT=F(me()),sBe=F(me());var yr=F(me(),1),Gm={prefix:String(Math.round(Math.random()*1e10)),current:0},zT=yr.default.createContext(Gm),n9=yr.default.createContext(!1);function gSe(t){let e=(0,yr.useContext)(zT),n=r9(e===Gm),[r,i]=(0,yr.useState)(!0),o=(0,yr.useMemo)(()=>({prefix:e===Gm?"":`${e.prefix}-${n}`,current:0}),[e,n]);return typeof document<"u"&&(0,yr.useLayoutEffect)(()=>{i(!1)},[]),yr.default.createElement(zT.Provider,{value:o},yr.default.createElement(n9.Provider,{value:r},t.children))}var t9=!1;function FL(t){return typeof yr.default.useId=="function"?(t9||(console.warn("In React 18, SSRProvider is not necessary and is a noop. You can remove it from your app."),t9=!0),yr.default.createElement(yr.default.Fragment,null,t.children)):yr.default.createElement(gSe,t)}var vSe=!!(typeof window<"u"&&window.document&&window.document.createElement),kL=new WeakMap;function r9(t=!1){let e=(0,yr.useContext)(zT),n=(0,yr.useRef)(null);if(n.current===null&&!t){var r,i;let o=(r=yr.default.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(i=r.ReactCurrentOwner)===null||i===void 0?void 0:i.current;if(o){let s=kL.get(o);s==null?kL.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==s.state&&(e.current=s.id,kL.delete(o))}n.current=++e.current}return n.current}function ySe(t){let e=(0,yr.useContext)(zT);e===Gm&&!vSe&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=r9(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function xSe(t){let e=yr.default.useId(),[n]=(0,yr.useState)(i9()),r=n?"react-aria":`react-aria${Gm.prefix}`;return t||`${r}-${e}`}var Ky=typeof yr.default.useId=="function"?xSe:ySe;function _Se(){return!1}function SSe(){return!0}function bSe(t){return()=>{}}function i9(){return typeof yr.default.useSyncExternalStore=="function"?yr.default.useSyncExternalStore(bSe,_Se,SSe):(0,yr.useContext)(n9)}var VT=F($e()),UL=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},o9=()=>{};function BL(){let t=Ky(),{show:e=!1,toggle:n=o9,setToggle:r,menuElement:i}=(0,HT.useContext)(gf)||{},o=(0,HT.useCallback)(a=>{n(!e,a)},[e,n]),s={id:t,ref:r||o9,onClick:o,"aria-expanded":!!e};return i&&UL(i)&&(s["aria-haspopup"]=!0),[s,{show:e,toggle:n}]}function s9({children:t}){let[e,n]=BL();return(0,VT.jsx)(VT.Fragment,{children:t(e,n)})}s9.displayName="DropdownToggle";var a9=s9;var h9=F(me()),zL=F(me());var l9=F(me()),wSe=l9.createContext(null),gs=(t,e=null)=>t!=null?String(t):e||null,Zi=wSe;var u9=F(me()),c9=u9.createContext(null);c9.displayName="NavContext";var $m=c9;var ESe="data-rr-ui-",TSe="rrUi";function nl(t){return`${ESe}${t}`}function f9(t){return`${TSe}${t}`}var p9=F($e()),CSe=["eventKey","disabled","onClick","active","as"];function MSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HL({key:t,href:e,active:n,disabled:r,onClick:i}){let o=(0,zL.useContext)(Zi),s=(0,zL.useContext)($m),{activeKey:a}=s||{},l=gs(t,e),u=n==null&&t!=null?gs(a)===l:n;return[{onClick:dr(h=>{r||(i?.(h),o&&!h.isPropagationStopped()&&o(l,h))}),"aria-disabled":r||void 0,"aria-selected":u,[nl("dropdown-item")]:""},{isActive:u}]}var d9=h9.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:o,as:s=dT}=t,a=MSe(t,CSe),[l]=HL({key:n,href:a.href,disabled:r,onClick:i,active:o});return(0,p9.jsx)(s,Object.assign({},a,{ref:e},l))});d9.displayName="DropdownItem";var m9=d9;var WT=F(me());var g9=(0,WT.createContext)(Ma?window:void 0),_Be=g9.Provider;function yf(){return(0,WT.useContext)(g9)}var VL=F($e());function v9(){let t=Yy(),e=(0,Wo.useRef)(null),n=(0,Wo.useCallback)(r=>{e.current=r,t()},[t]);return[e,n]}function Jy({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${nl("dropdown-item")}]`,focusFirstItemOnShow:o,placement:s="bottom-start",children:a}){let l=yf(),[u,c]=DT(e,t,r),[h,p]=v9(),d=h.current,[v,b]=v9(),S=v.current,y=zm(u),T=(0,Wo.useRef)(null),E=(0,Wo.useRef)(!1),A=(0,Wo.useContext)(Zi),N=(0,Wo.useCallback)((j,ie,se=ie?.type)=>{c(j,{originalEvent:ie,source:se})},[c]),x=dr((j,ie)=>{n?.(j,ie),N(!1,ie,"select"),ie.isPropagationStopped()||A?.(j,ie)}),D=(0,Wo.useMemo)(()=>({toggle:N,placement:s,show:u,menuElement:d,toggleElement:S,setMenu:p,setToggle:b}),[N,s,u,d,S,p,b]);d&&y&&!u&&(E.current=d.contains(d.ownerDocument.activeElement));let k=dr(()=>{S&&S.focus&&S.focus()}),U=dr(()=>{let j=T.current,ie=o;if(ie==null&&(ie=h.current&&UL(h.current)?"keyboard":!1),ie===!1||ie==="keyboard"&&!/^key.+$/.test(j))return;let se=qs(h.current,i)[0];se&&se.focus&&se.focus()});(0,Wo.useEffect)(()=>{u?U():E.current&&(E.current=!1,k())},[u,E,k,U]),(0,Wo.useEffect)(()=>{T.current=null});let L=(j,ie)=>{if(!h.current)return null;let se=qs(h.current,i),fe=se.indexOf(j)+ie;return fe=Math.max(0,Math.min(fe,se.length)),se[fe]};return zy((0,Wo.useCallback)(()=>l.document,[l]),"keydown",j=>{var ie,se;let{key:fe}=j,_e=j.target,J=(ie=h.current)==null?void 0:ie.contains(_e),te=(se=v.current)==null?void 0:se.contains(_e);if(/input|textarea/i.test(_e.tagName)&&(fe===" "||fe!=="Escape"&&J||fe==="Escape"&&_e.type==="search")||!J&&!te||fe==="Tab"&&(!h.current||!u))return;T.current=j.type;let xe={originalEvent:j,source:j.type};switch(fe){case"ArrowUp":{let Ce=L(_e,-1);Ce&&Ce.focus&&Ce.focus(),j.preventDefault();return}case"ArrowDown":if(j.preventDefault(),!u)c(!0,xe);else{let Ce=L(_e,1);Ce&&Ce.focus&&Ce.focus()}return;case"Tab":Lm(_e.ownerDocument,"keyup",Ce=>{var Le;(Ce.key==="Tab"&&!Ce.target||!((Le=h.current)!=null&&Le.contains(Ce.target)))&&c(!1,xe)},{once:!0});break;case"Escape":fe==="Escape"&&(j.preventDefault(),j.stopPropagation()),c(!1,xe);break;default:}}),(0,VL.jsx)(Zi.Provider,{value:x,children:(0,VL.jsx)(gf.Provider,{value:D,children:a})})}Jy.displayName="Dropdown";Jy.Menu=e9;Jy.Toggle=a9;Jy.Item=m9;var y9=Jy;var x9=F(me()),_9=x9.createContext({});_9.displayName="DropdownContext";var GT=_9;var S9=F(me()),b9=F(yt());var w9=F($e()),E9=S9.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...i},o)=>(e=Ne(e,"dropdown-divider"),(0,w9.jsx)(n,{ref:o,className:(0,b9.default)(t,e),role:r,...i})));E9.displayName="DropdownDivider";var $T=E9;var T9=F(me()),C9=F(yt());var M9=F($e()),A9=T9.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...i},o)=>(e=Ne(e,"dropdown-header"),(0,M9.jsx)(n,{ref:o,className:(0,C9.default)(t,e),role:r,...i})));A9.displayName="DropdownHeader";var XT=A9;var P9=F(yt()),R9=F(me());var I9=F($e()),N9=R9.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:o,as:s=Vo,...a},l)=>{let u=Ne(t,"dropdown-item"),[c,h]=HL({key:n,href:a.href,disabled:r,onClick:i,active:o});return(0,I9.jsx)(s,{...a,...c,ref:l,className:(0,P9.default)(e,u,h.isActive&&"active",r&&"disabled")})});N9.displayName="DropdownItem";var jT=N9;var O9=F(me()),L9=F(yt());var D9=F($e()),k9=O9.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Ne(e,"dropdown-item-text"),(0,D9.jsx)(n,{ref:i,className:(0,L9.default)(t,e),...r})));k9.displayName="DropdownItemText";var YT=k9;var W9=F(yt()),G9=F(me()),KT=F(me());var qT=F(me()),ASe=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",PSe=typeof document<"u",Xm=PSe||ASe?qT.useLayoutEffect:qT.useEffect;var i4e=F(vf());var F9=F(me()),U9=F9.createContext(null);U9.displayName="InputGroupContext";var jm=U9;var B9=F(me()),z9=B9.createContext(null);z9.displayName="NavbarContext";var Aa=z9;var H9=F(Ny()),V9=F(me());function Qy(t,e){return t}var ec=F(ja()),Ym=ec.default.oneOf(["start","end"]),ZT=ec.default.oneOfType([Ym,ec.default.shape({sm:Ym}),ec.default.shape({md:Ym}),ec.default.shape({lg:Ym}),ec.default.shape({xl:Ym}),ec.default.shape({xxl:Ym}),ec.default.object]);var $9=F($e());function WL(t,e,n){let r=n?"top-end":"top-start",i=n?"top-start":"top-end",o=n?"bottom-end":"bottom-start",s=n?"bottom-start":"bottom-end",a=n?"right-start":"left-start",l=n?"right-end":"left-end",u=n?"left-start":"right-start",c=n?"left-end":"right-end",h=t?s:o;return e==="up"?h=t?i:r:e==="end"?h=t?c:u:e==="start"?h=t?l:a:e==="down-centered"?h="bottom":e==="up-centered"&&(h="top"),h}var X9=G9.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i=!0,show:o,renderOnMount:s,as:a="div",popperConfig:l,variant:u,...c},h)=>{let p=!1,d=(0,KT.useContext)(Aa),v=Ne(t,"dropdown-menu"),{align:b,drop:S,isRTL:y}=(0,KT.useContext)(GT);n=n||b;let T=(0,KT.useContext)(jm),E=[];if(n)if(typeof n=="object"){let j=Object.keys(n);if(j.length){let ie=j[0],se=n[ie];p=se==="start",E.push(`${v}-${ie}-${se}`)}}else n==="end"&&(p=!0);let A=WL(p,S,y),[N,{hasShown:x,popper:D,show:k,toggle:U}]=DL({flip:i,rootCloseEvent:r,show:o,usePopper:!d&&E.length===0,offset:[0,2],popperConfig:l,placement:A});if(N.ref=ds(Qy(h,"DropdownMenu"),N.ref),Xm(()=>{k&&D?.update()},[k]),!x&&!s&&!T)return null;typeof a!="string"&&(N.show=k,N.close=()=>U?.(!1),N.align=n);let L=c.style;return D!=null&&D.placement&&(L={...c.style,...N.style},c["x-placement"]=D.placement),(0,$9.jsx)(a,{...c,...N,style:L,...(E.length||d)&&{"data-bs-popper":"static"},className:(0,W9.default)(e,v,k&&"show",p&&`${v}-end`,u&&`${v}-${u}`,...E)})});X9.displayName="DropdownMenu";var qm=X9;var j9=F(yt()),Y9=F(me()),q9=F(me());var Z9=F($e()),K9=Y9.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=zl,...o},s)=>{let a=Ne(t,"dropdown-toggle"),l=(0,q9.useContext)(gf);r!==void 0&&(o.bsPrefix=r);let[u]=BL();return u.ref=ds(u.ref,Qy(s,"DropdownToggle")),(0,Z9.jsx)(i,{className:(0,j9.default)(n,a,e&&`${a}-split`,l?.show&&"show"),...u,...o})});K9.displayName="DropdownToggle";var Zm=K9;var JT=F($e()),e7=Q9.forwardRef((t,e)=>{let{bsPrefix:n,drop:r="down",show:i,className:o,align:s="start",onSelect:a,onToggle:l,focusFirstItemOnShow:u,as:c="div",navbar:h,autoClose:p=!0,...d}=_i(t,{show:"onToggle"}),v=(0,QT.useContext)(jm),b=Ne(n,"dropdown"),S=Ul(),y=D=>p===!1?D==="click":p==="inside"?D!=="rootClose":p==="outside"?D!=="select":!0,T=Or((D,k)=>{var U;!((U=k.originalEvent)==null||(U=U.target)==null)&&U.classList.contains("dropdown-toggle")&&k.source==="mousedown"||(k.originalEvent.currentTarget===document&&(k.source!=="keydown"||k.originalEvent.key==="Escape")&&(k.source="rootClose"),y(k.source)&&l?.(D,k))}),A=WL(s==="end",r,S),N=(0,QT.useMemo)(()=>({align:s,drop:r,isRTL:S}),[s,r,S]),x={down:b,"down-centered":`${b}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,JT.jsx)(GT.Provider,{value:N,children:(0,JT.jsx)(y9,{placement:A,show:i,onSelect:a,onToggle:T,focusFirstItemOnShow:u,itemSelector:`.${b}-item:not(.disabled):not(:disabled)`,children:v?d.children:(0,JT.jsx)(c,{...d,ref:e,className:(0,J9.default)(o,i&&"show",x[r])})})})});e7.displayName="Dropdown";var To=Object.assign(e7,{Toggle:Zm,Menu:qm,Item:jT,ItemText:YT,Divider:$T,Header:XT});var t7=F(me()),vs=F(ja());var GL=F($e()),n7=F($e()),RSe={id:vs.default.string,href:vs.default.string,onClick:vs.default.func,title:vs.default.node.isRequired,disabled:vs.default.bool,align:ZT,menuRole:vs.default.string,renderMenuOnMount:vs.default.bool,rootCloseEvent:vs.default.string,menuVariant:vs.default.oneOf(["dark"]),flip:vs.default.bool,bsPrefix:vs.default.string,variant:vs.default.string,size:vs.default.string},$L=t7.forwardRef(({title:t,children:e,bsPrefix:n,rootCloseEvent:r,variant:i,size:o,menuRole:s,renderMenuOnMount:a,disabled:l,href:u,id:c,menuVariant:h,flip:p,...d},v)=>(0,n7.jsxs)(To,{ref:v,...d,children:[(0,GL.jsx)(Zm,{id:c,href:u,size:o,variant:i,disabled:l,childBsPrefix:n,children:t}),(0,GL.jsx)(qm,{role:s,renderOnMount:a,rootCloseEvent:r,variant:h,flip:p,children:e})]}));$L.displayName="DropdownButton";$L.propTypes=RSe;var r7=$L;var g7=F(me()),v7=F(yt());var u7=F(yt()),c7=F(me());var i7=F(yt()),o7=F(me()),Km=F(ja());var s7=F($e()),a7={bsPrefix:Km.default.string,fluid:Km.default.bool,rounded:Km.default.bool,roundedCircle:Km.default.bool,thumbnail:Km.default.bool},l7=o7.forwardRef(({bsPrefix:t,className:e,fluid:n=!1,rounded:r=!1,roundedCircle:i=!1,thumbnail:o=!1,...s},a)=>(t=Ne(t,"img"),(0,s7.jsx)("img",{ref:a,...s,className:(0,i7.default)(e,n&&`${t}-fluid`,r&&"rounded",i&&"rounded-circle",o&&`${t}-thumbnail`)})));l7.displayName="Image";var eC=l7;var f7=F($e()),XL=c7.forwardRef(({className:t,fluid:e=!0,...n},r)=>(0,f7.jsx)(eC,{ref:r,...n,fluid:e,className:(0,u7.default)(t,"figure-img")}));XL.displayName="FigureImage";XL.propTypes=a7;var tC=XL;var h7=F(me()),p7=F(yt());var d7=F($e()),m7=h7.forwardRef(({className:t,bsPrefix:e,as:n="figcaption",...r},i)=>(e=Ne(e,"figure-caption"),(0,d7.jsx)(n,{ref:i,className:(0,p7.default)(t,e),...r})));m7.displayName="FigureCaption";var nC=m7;var y7=F($e()),x7=g7.forwardRef(({className:t,bsPrefix:e,as:n="figure",...r},i)=>(e=Ne(e,"figure"),(0,y7.jsx)(n,{ref:i,className:(0,v7.default)(t,e),...r})));x7.displayName="Figure";var _7=Object.assign(x7,{Image:tC,Caption:nC});var Cj=F(yt()),pC=F(ja()),Mj=F(me());var D7=F(yt()),k7=F(me()),sC=F(me());var S7=F(yt()),b7=F(me()),rC=F(ja()),w7=F($e()),ISe={type:rC.default.string,tooltip:rC.default.bool,as:rC.default.elementType},jL=b7.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},o)=>(0,w7.jsx)(t,{...i,ref:o,className:(0,S7.default)(e,`${n}-${r?"tooltip":"feedback"}`)}));jL.displayName="Feedback";jL.propTypes=ISe;var iC=jL;var T7=F(yt()),C7=F(me()),M7=F(me());var E7=F(me()),NSe=E7.createContext({}),co=NSe;var A7=F($e()),P7=C7.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:s="input",...a},l)=>{let{controlId:u}=(0,M7.useContext)(co);return e=Ne(e,"form-check-input"),(0,A7.jsx)(s,{...a,ref:l,type:r,id:t||u,className:(0,T7.default)(n,e,i&&"is-valid",o&&"is-invalid")})});P7.displayName="FormCheckInput";var Jm=P7;var R7=F(yt()),I7=F(me()),N7=F(me());var O7=F($e()),L7=I7.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{let{controlId:o}=(0,N7.useContext)(co);return t=Ne(t,"form-check-label"),(0,O7.jsx)("label",{...r,ref:i,htmlFor:n||o,className:(0,R7.default)(e,t)})});L7.displayName="FormCheckLabel";var oC=L7;var Qm=F($e()),F7=F($e()),U7=F($e()),B7=k7.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:s=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:c,className:h,style:p,title:d="",type:v="checkbox",label:b,children:S,as:y="input",...T},E)=>{e=Ne(e,"form-check"),n=Ne(n,"form-switch");let{controlId:A}=(0,sC.useContext)(co),N=(0,sC.useMemo)(()=>({controlId:t||A}),[A,t]),x=!S&&b!=null&&b!==!1||AX(S,oC),D=(0,Qm.jsx)(Jm,{...T,type:v==="switch"?"checkbox":v,ref:E,isValid:s,isInvalid:a,disabled:o,as:y});return(0,Qm.jsx)(co.Provider,{value:N,children:(0,Qm.jsx)("div",{style:p,className:(0,D7.default)(h,x&&e,r&&`${e}-inline`,i&&`${e}-reverse`,v==="switch"&&n),children:S||(0,U7.jsxs)(F7.Fragment,{children:[D,x&&(0,Qm.jsx)(oC,{title:d,children:b}),u&&(0,Qm.jsx)(iC,{type:c,tooltip:l,children:u})]})})})});B7.displayName="FormCheck";var xf=Object.assign(B7,{Input:Jm,Label:oC});var z7=F(yt()),H7=F(me()),V7=F(me()),lze=F(vf());var W7=F($e()),G7=H7.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:o,isValid:s=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:c="input",...h},p)=>{let{controlId:d}=(0,V7.useContext)(co);return t=Ne(t,"form-control"),(0,W7.jsx)(c,{...h,type:e,size:r,ref:p,readOnly:u,id:i||d,className:(0,z7.default)(o,l?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,s&&"is-valid",a&&"is-invalid")})});G7.displayName="FormControl";var aC=Object.assign(G7,{Feedback:iC});var $7=F(me()),X7=F(yt());var j7=F($e()),Y7=$7.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ne(e,"form-floating"),(0,j7.jsx)(n,{ref:i,className:(0,X7.default)(t,e),...r})));Y7.displayName="FormFloating";var lC=Y7;var q7=F(me()),Z7=F(me());var YL=F($e()),K7=q7.forwardRef(({controlId:t,as:e="div",...n},r)=>{let i=(0,Z7.useMemo)(()=>({controlId:t}),[t]);return(0,YL.jsx)(co.Provider,{value:i,children:(0,YL.jsx)(e,{...n,ref:r})})});K7.displayName="FormGroup";var eg=K7;var J7=F(yt()),Q7=F(me()),ej=F(me()),yze=F(vf());var qL=F($e()),tj=Q7.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:o,...s},a)=>{let{controlId:l}=(0,ej.useContext)(co);e=Ne(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);let c=(0,J7.default)(i,e,r&&"visually-hidden",n&&u);return o=o||l,n?(0,qL.jsx)(LT,{ref:a,as:"label",className:c,htmlFor:o,...s}):(0,qL.jsx)(t,{ref:a,className:c,htmlFor:o,...s})});tj.displayName="FormLabel";var uC=tj;var nj=F(yt()),rj=F(me()),ij=F(me());var oj=F($e()),sj=rj.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{let{controlId:o}=(0,ij.useContext)(co);return t=Ne(t,"form-range"),(0,oj.jsx)("input",{...r,type:"range",ref:i,className:(0,nj.default)(e,t),id:n||o})});sj.displayName="FormRange";var aj=sj;var lj=F(yt()),uj=F(me()),cj=F(me());var fj=F($e()),hj=uj.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:o=!1,id:s,...a},l)=>{let{controlId:u}=(0,cj.useContext)(co);return t=Ne(t,"form-select"),(0,fj.jsx)("select",{...a,size:n,ref:l,className:(0,lj.default)(r,t,e&&`${t}-${e}`,i&&"is-valid",o&&"is-invalid"),id:s||u})});hj.displayName="FormSelect";var cC=hj;var pj=F(yt()),dj=F(me());var mj=F($e()),gj=dj.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},o)=>(t=Ne(t,"form-text"),(0,mj.jsx)(n,{...i,ref:o,className:(0,pj.default)(e,t,r&&"text-muted")})));gj.displayName="FormText";var fC=gj;var vj=F(me());var yj=F($e()),xj=vj.forwardRef((t,e)=>(0,yj.jsx)(xf,{...t,ref:e,type:"switch"}));xj.displayName="Switch";var _j=Object.assign(xj,{Input:xf.Input,Label:xf.Label});var Sj=F(yt()),bj=F(me());var wj=F($e()),Ej=F($e()),Tj=bj.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...o},s)=>(t=Ne(t,"form-floating"),(0,Ej.jsxs)(eg,{ref:s,className:(0,Sj.default)(e,t),controlId:r,...o,children:[n,(0,wj.jsx)("label",{htmlFor:r,children:i})]})));Tj.displayName="FloatingLabel";var hC=Tj;var Aj=F($e()),OSe={_ref:pC.default.any,validated:pC.default.bool,as:pC.default.elementType},ZL=Mj.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>(0,Aj.jsx)(n,{...r,ref:i,className:(0,Cj.default)(t,e&&"was-validated")}));ZL.displayName="Form";ZL.propTypes=OSe;var Pj=Object.assign(ZL,{Group:eg,Control:aC,Floating:lC,Check:xf,Switch:_j,Label:uC,Text:fC,Range:aj,Select:cC,FloatingLabel:hC});var Lj=F(yt()),Dj=F(me()),kj=F(me());var Rj=F(me()),Ij=F(yt());var Nj=F($e()),Oj=Rj.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Ne(e,"input-group-text"),(0,Nj.jsx)(n,{ref:i,className:(0,Ij.default)(t,e),...r})));Oj.displayName="InputGroupText";var dC=Oj;var hp=F($e()),LSe=t=>(0,hp.jsx)(dC,{children:(0,hp.jsx)(Jm,{type:"checkbox",...t})}),DSe=t=>(0,hp.jsx)(dC,{children:(0,hp.jsx)(Jm,{type:"radio",...t})}),Fj=Dj.forwardRef(({bsPrefix:t,size:e,hasValidation:n,className:r,as:i="div",...o},s)=>{t=Ne(t,"input-group");let a=(0,kj.useMemo)(()=>({}),[]);return(0,hp.jsx)(jm.Provider,{value:a,children:(0,hp.jsx)(i,{ref:s,...o,className:(0,Lj.default)(r,t,e&&`${t}-${e}`,n&&"has-validation")})})});Fj.displayName="InputGroup";var Uj=Object.assign(Fj,{Text:dC,Radio:DSe,Checkbox:LSe});var eY=F(yt()),tY=F(me()),C6e=F(vf());var Yj=F(me()),_f=F(me());var zj=F(me()),Bj=t=>!t||typeof t=="function"?t:e=>{t.current=e};function kSe(t,e){let n=Bj(t),r=Bj(e);return i=>{n&&n(i),r&&r(i)}}function FSe(t,e){return(0,zj.useMemo)(()=>kSe(t,e),[t,e])}var Vl=FSe;var Hj=F(me()),USe=Hj.createContext(null),rl=USe;var Vj=F(me()),mC=F(me());var Wj=F($e()),BSe=["as","active","eventKey"];function zSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ex({key:t,onClick:e,active:n,id:r,role:i,disabled:o}){let s=(0,mC.useContext)(Zi),a=(0,mC.useContext)($m),l=(0,mC.useContext)(rl),u=n,c={role:i};if(a){!i&&a.role==="tablist"&&(c.role="tab");let h=a.getControllerId(t??null),p=a.getControlledId(t??null);c[nl("event-key")]=t,c.id=h||r,u=n==null&&t!=null?a.activeKey===t:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(c["aria-controls"]=p)}return c.role==="tab"&&(c["aria-selected"]=u,u||(c.tabIndex=-1),o&&(c.tabIndex=-1,c["aria-disabled"]=!0)),c.onClick=dr(h=>{o||(e?.(h),t!=null&&s&&!h.isPropagationStopped()&&s(t,h))}),[c,{isActive:u}]}var Gj=Vj.forwardRef((t,e)=>{let{as:n=dT,active:r,eventKey:i}=t,o=zSe(t,BSe),[s,a]=ex(Object.assign({key:gs(i,o.href),active:r},o));return s[nl("active")]=a.isActive,(0,Wj.jsx)(n,Object.assign({},o,s,{ref:e}))});Gj.displayName="NavItem";var $j=Gj;var gC=F($e()),HSe=["as","onSelect","activeKey","role","onKeyDown"];function VSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Xj=()=>{},jj=nl("event-key"),qj=Yj.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:o,onKeyDown:s}=t,a=VSe(t,HSe),l=Yy(),u=(0,_f.useRef)(!1),c=(0,_f.useContext)(Zi),h=(0,_f.useContext)(rl),p,d;h&&(o=o||"tablist",i=h.activeKey,p=h.getControlledId,d=h.getControllerId);let v=(0,_f.useRef)(null),b=E=>{let A=v.current;if(!A)return null;let N=qs(A,`[${jj}]:not([aria-disabled=true])`),x=A.querySelector("[aria-selected=true]");if(!x||x!==document.activeElement)return null;let D=N.indexOf(x);if(D===-1)return null;let k=D+E;return k>=N.length&&(k=0),k<0&&(k=N.length-1),N[k]},S=(E,A)=>{E!=null&&(r?.(E,A),c?.(E,A))},y=E=>{if(s?.(E),!h)return;let A;switch(E.key){case"ArrowLeft":case"ArrowUp":A=b(-1);break;case"ArrowRight":case"ArrowDown":A=b(1);break;default:return}A&&(E.preventDefault(),S(A.dataset[f9("EventKey")]||null,E),u.current=!0,l())};(0,_f.useEffect)(()=>{if(v.current&&u.current){let E=v.current.querySelector(`[${jj}][aria-selected=true]`);E?.focus()}u.current=!1});let T=Vl(e,v);return(0,gC.jsx)(Zi.Provider,{value:S,children:(0,gC.jsx)($m.Provider,{value:{role:o,activeKey:gs(i),getControlledId:p||Xj,getControllerId:d||Xj},children:(0,gC.jsx)(n,Object.assign({},a,{onKeyDown:y,ref:T,role:o}))})})});qj.displayName="Nav";var vC=Object.assign(qj,{Item:$j});var Zj=F(yt()),Kj=F(me()),x6e=F(vf());var Jj=F($e()),Qj=Kj.forwardRef(({bsPrefix:t,active:e,disabled:n,eventKey:r,className:i,variant:o,action:s,as:a,...l},u)=>{t=Ne(t,"list-group-item");let[c,h]=ex({key:gs(r,l.href),active:e,...l}),p=Or(v=>{if(n){v.preventDefault(),v.stopPropagation();return}c.onClick(v)});n&&l.tabIndex===void 0&&(l.tabIndex=-1,l["aria-disabled"]=!0);let d=a||(s?l.href?"a":"button":"div");return(0,Jj.jsx)(d,{ref:u,...l,...c,onClick:p,className:(0,Zj.default)(i,t,h.isActive&&"active",n&&"disabled",o&&`${t}-${o}`,s&&`${t}-action`)})});Qj.displayName="ListGroupItem";var yC=Qj;var nY=F($e()),rY=tY.forwardRef((t,e)=>{let{className:n,bsPrefix:r,variant:i,horizontal:o,numbered:s,as:a="div",...l}=_i(t,{activeKey:"onSelect"}),u=Ne(r,"list-group"),c;return o&&(c=o===!0?"horizontal":`horizontal-${o}`),(0,nY.jsx)(vC,{ref:e,...l,as:a,className:(0,eY.default)(n,u,i&&`${u}-${i}`,c&&`${u}-${c}`,s&&`${u}-numbered`)})});rY.displayName="ListGroup";var iY=Object.assign(rY,{Item:yC});var cD=F(yt());var xC;function _C(t){if((!xC&&xC!==0||t)&&Ma){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),xC=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return xC}var oY=F(me());function KL(){return(0,oY.useState)(null)}var VY=F(me()),il=F(me());function tx(t){t===void 0&&(t=Xs());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}var fo=F(me()),pY=F(me()),dY=F(Ic());var sY=F(me());function JL(t){let e=(0,sY.useRef)(t);return e.current=t,e}var aY=F(me());function QL(t){let e=JL(t);(0,aY.useEffect)(()=>()=>e.current(),[])}function eD(t=document){let e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}var lY=nl("modal-open"),tD=class{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return eD(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){let n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(hs(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(lY,""),hs(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){let n=this.getElement();n.removeAttribute(lY),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){let n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},nx=tD;var rx=F(me());var nD=(t,e)=>Ma?t==null?(e||Xs()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function tg(t,e){let n=yf(),[r,i]=(0,rx.useState)(()=>nD(t,n?.document));if(!r){let o=nD(t);o&&i(o)}return(0,rx.useEffect)(()=>{e&&r&&e(r)},[e,r]),(0,rx.useEffect)(()=>{let o=nD(t);o!==r&&i(o)},[t,r]),r}var dp=F(me());var pp=F(me());function WSe({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){let o=(0,pp.useRef)(null),s=(0,pp.useRef)(e),a=dr(n);(0,pp.useEffect)(()=>{e?s.current=!0:a(o.current)},[e,a]);let l=Vl(o,ps(t)),u=(0,pp.cloneElement)(t,{ref:l});return e?u:i||!s.current&&r?null:u}var ng=WSe;var uY=F(me());var Pa=F(me());var GSe=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function $Se(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rD(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:o,onExited:s,addEndListener:a,children:l}=t,u=$Se(t,GSe),c=(0,Pa.useRef)(null),h=Vl(c,ps(l)),p=A=>N=>{A&&c.current&&A(c.current,N)},d=(0,Pa.useCallback)(p(e),[e]),v=(0,Pa.useCallback)(p(n),[n]),b=(0,Pa.useCallback)(p(r),[r]),S=(0,Pa.useCallback)(p(i),[i]),y=(0,Pa.useCallback)(p(o),[o]),T=(0,Pa.useCallback)(p(s),[s]),E=(0,Pa.useCallback)(p(a),[a]);return Object.assign({},u,{nodeRef:c},e&&{onEnter:d},n&&{onEntering:v},r&&{onEntered:b},i&&{onExit:S},o&&{onExiting:y},s&&{onExited:T},a&&{addEndListener:E},{children:typeof l=="function"?(A,N)=>l(A,Object.assign({},N,{ref:h})):(0,Pa.cloneElement)(l,{ref:h})})}var cY=F($e()),XSe=["component"];function jSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var YSe=uY.forwardRef((t,e)=>{let{component:n}=t,r=jSe(t,XSe),i=rD(r);return(0,cY.jsx)(n,Object.assign({ref:e},i))}),fY=YSe;var SC=F($e());function qSe({in:t,onTransition:e}){let n=(0,dp.useRef)(null),r=(0,dp.useRef)(!0),i=dr(e);return pT(()=>{if(!n.current)return;let o=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[t,i]),pT(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function hY({children:t,in:e,onExited:n,onEntered:r,transition:i}){let[o,s]=(0,dp.useState)(!e);e&&o&&s(!1);let a=qSe({in:!!e,onTransition:u=>{let c=()=>{u.isStale()||(u.in?r?.(u.element,u.initial):(s(!0),n?.(u.element)))};Promise.resolve(i(u)).then(c,h=>{throw u.in||s(!0),h})}}),l=Vl(a,ps(t));return o&&!e?null:(0,dp.cloneElement)(t,{ref:l})}function ix(t,e,n){return t?(0,SC.jsx)(fY,Object.assign({},n,{component:t})):e?(0,SC.jsx)(hY,Object.assign({},n,{transition:e})):(0,SC.jsx)(ng,Object.assign({},n))}var tc=F($e()),ZSe=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function KSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var iD;function JSe(t){return iD||(iD=new nx({ownerDocument:t?.document})),iD}function QSe(t){let e=yf(),n=t||JSe(e),r=(0,fo.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:(0,fo.useCallback)(i=>{r.current.dialog=i},[]),setBackdropRef:(0,fo.useCallback)(i=>{r.current.backdrop=i},[])})}var mY=(0,fo.forwardRef)((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:o,children:s,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:c,transition:h,runTransition:p,backdropTransition:d,runBackdropTransition:v,autoFocus:b=!0,enforceFocus:S=!0,restoreFocus:y=!0,restoreFocusOptions:T,renderDialog:E,renderBackdrop:A=Q=>(0,tc.jsx)("div",Object.assign({},Q)),manager:N,container:x,onShow:D,onHide:k=()=>{},onExit:U,onExited:L,onExiting:j,onEnter:ie,onEntering:se,onEntered:fe}=t,_e=KSe(t,ZSe),J=yf(),te=tg(x),ne=QSe(N),xe=Bm(),Ce=zm(n),[Le,rt]=(0,fo.useState)(!n),ot=(0,fo.useRef)(null);(0,fo.useImperativeHandle)(e,()=>ne,[ne]),Ma&&!Ce&&n&&(ot.current=tx(J?.document)),n&&Le&&rt(!1);let Ae=dr(()=>{if(ne.add(),Nt.current=js(document,"keydown",pt),It.current=js(document,"focus",()=>setTimeout(je),!0),D&&D(),b){var Q,q;let ve=tx((Q=(q=ne.dialog)==null?void 0:q.ownerDocument)!=null?Q:J?.document);ne.dialog&&ve&&!Qu(ne.dialog,ve)&&(ot.current=ve,ne.dialog.focus())}}),ze=dr(()=>{if(ne.remove(),Nt.current==null||Nt.current(),It.current==null||It.current(),y){var Q;(Q=ot.current)==null||Q.focus==null||Q.focus(T),ot.current=null}});(0,fo.useEffect)(()=>{!n||!te||Ae()},[n,te,Ae]),(0,fo.useEffect)(()=>{Le&&ze()},[Le,ze]),QL(()=>{ze()});let je=dr(()=>{if(!S||!xe()||!ne.isTopModal())return;let Q=tx(J?.document);ne.dialog&&Q&&!Qu(ne.dialog,Q)&&ne.dialog.focus()}),it=dr(Q=>{Q.target===Q.currentTarget&&(u?.(Q),a===!0&&k())}),pt=dr(Q=>{l&&QE(Q)&&ne.isTopModal()&&(c?.(Q),Q.defaultPrevented||k())}),It=(0,fo.useRef)(),Nt=(0,fo.useRef)(),mt=(...Q)=>{rt(!0),L?.(...Q)};if(!te)return null;let K=Object.assign({role:r,ref:ne.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},_e,{style:o,className:i,tabIndex:-1}),ye=E?E(K):(0,tc.jsx)("div",Object.assign({},K,{children:pY.cloneElement(s,{role:"document"})}));ye=ix(h,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:U,onExiting:j,onExited:mt,onEnter:ie,onEntering:se,onEntered:fe,children:ye});let ge=null;return a&&(ge=A({ref:ne.setBackdropRef,onClick:it}),ge=ix(d,v,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ge})),(0,tc.jsx)(tc.Fragment,{children:dY.default.createPortal((0,tc.jsxs)(tc.Fragment,{children:[ge,ye]}),te)})});mY.displayName="Modal";var bC=Object.assign(mY,{Manager:nx});function rg(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function oD(t,e){t.classList?t.classList.add(e):rg(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function gY(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function sD(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=gY(t.className,e):t.setAttribute("class",gY(t.className&&t.className.baseVal||"",e))}var ig={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},wC=class extends nx{adjustAndStore(e,n,r){let i=n.style[e];n.dataset[e]=i,hs(n,{[e]:`${parseFloat(hs(n,e))+r}px`})}restore(e,n){let r=n.dataset[e];r!==void 0&&(delete n.dataset[e],hs(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);let n=this.getElement();if(oD(n,"modal-open"),!e.scrollBarWidth)return;let r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";qs(n,ig.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),qs(n,ig.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),qs(n,ig.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);let n=this.getElement();sD(n,"modal-open");let r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";qs(n,ig.FIXED_CONTENT).forEach(o=>this.restore(r,o)),qs(n,ig.STICKY_CONTENT).forEach(o=>this.restore(i,o)),qs(n,ig.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}},aD;function EC(t){return aD||(aD=new wC(t)),aD}var vY=wC;var yY=F(me()),xY=F(yt());var _Y=F($e()),SY=yY.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ne(e,"modal-body"),(0,_Y.jsx)(n,{ref:i,className:(0,xY.default)(t,e),...r})));SY.displayName="ModalBody";var TC=SY;var bY=F(me()),ebe=bY.createContext({onHide(){}}),og=ebe;var lD=F(yt()),wY=F(me());var uD=F($e()),EY=wY.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:o,children:s,scrollable:a,...l},u)=>{t=Ne(t,"modal");let c=`${t}-dialog`,h=typeof o=="string"?`${t}-fullscreen-${o}`:`${t}-fullscreen`;return(0,uD.jsx)("div",{...l,ref:u,className:(0,lD.default)(c,e,i&&`${t}-${i}`,r&&`${c}-centered`,a&&`${c}-scrollable`,o&&h),children:(0,uD.jsx)("div",{className:(0,lD.default)(`${t}-content`,n),children:s})})});EY.displayName="ModalDialog";var ox=EY;var TY=F(me()),CY=F(yt());var MY=F($e()),AY=TY.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ne(e,"modal-footer"),(0,MY.jsx)(n,{ref:i,className:(0,CY.default)(t,e),...r})));AY.displayName="ModalFooter";var CC=AY;var LY=F(yt()),DY=F(me());var PY=F(me()),RY=F(me());var IY=F($e()),NY=F($e()),OY=PY.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...o},s)=>{let a=(0,RY.useContext)(og),l=Or(()=>{a?.onHide(),r?.()});return(0,NY.jsxs)("div",{ref:s,...o,children:[i,n&&(0,IY.jsx)(df,{"aria-label":t,variant:e,onClick:l})]})});OY.displayName="AbstractModalHeader";var MC=OY;var kY=F($e()),FY=DY.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},o)=>(t=Ne(t,"modal-header"),(0,kY.jsx)(MC,{ref:o,...i,className:(0,LY.default)(e,t),closeLabel:n,closeButton:r})));FY.displayName="ModalHeader";var AC=FY;var UY=F(me()),BY=F(yt());var zY=F($e()),tbe=Bl("h4"),HY=UY.forwardRef(({className:t,bsPrefix:e,as:n=tbe,...r},i)=>(e=Ne(e,"modal-title"),(0,zY.jsx)(n,{ref:i,className:(0,BY.default)(t,e),...r})));HY.displayName="ModalTitle";var PC=HY;var Sf=F($e());function nbe(t){return(0,Sf.jsx)(Oi,{...t,timeout:null})}function rbe(t){return(0,Sf.jsx)(Oi,{...t,timeout:null})}var WY=VY.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:o,dialogAs:s=ox,"data-bs-theme":a,"aria-labelledby":l,"aria-describedby":u,"aria-label":c,show:h=!1,animation:p=!0,backdrop:d=!0,keyboard:v=!0,onEscapeKeyDown:b,onShow:S,onHide:y,container:T,autoFocus:E=!0,enforceFocus:A=!0,restoreFocus:N=!0,restoreFocusOptions:x,onEntered:D,onExit:k,onExiting:U,onEnter:L,onEntering:j,onExited:ie,backdropClassName:se,manager:fe,..._e},J)=>{let[te,ne]=(0,il.useState)({}),[xe,Ce]=(0,il.useState)(!1),Le=(0,il.useRef)(!1),rt=(0,il.useRef)(!1),ot=(0,il.useRef)(null),[Ae,ze]=KL(),je=ds(J,ze),it=Or(y),pt=Ul();t=Ne(t,"modal");let It=(0,il.useMemo)(()=>({onHide:it}),[it]);function Nt(){return fe||EC({isRTL:pt})}function mt(Ze){if(!Ma)return;let ut=Nt().getScrollbarWidth()>0,Pt=Ze.scrollHeight>Xs(Ze).documentElement.clientHeight;ne({paddingRight:ut&&!Pt?_C():void 0,paddingLeft:!ut&&Pt?_C():void 0})}let K=Or(()=>{Ae&&mt(Ae.dialog)});$y(()=>{Fy(window,"resize",K),ot.current==null||ot.current()});let ye=()=>{Le.current=!0},ge=Ze=>{Le.current&&Ae&&Ze.target===Ae.dialog&&(rt.current=!0),Le.current=!1},Q=()=>{Ce(!0),ot.current=Uy(Ae.dialog,()=>{Ce(!1)})},q=Ze=>{Ze.target===Ze.currentTarget&&Q()},ve=Ze=>{if(d==="static"){q(Ze);return}if(rt.current||Ze.target!==Ze.currentTarget){rt.current=!1;return}y?.()},ue=Ze=>{v?b?.(Ze):(Ze.preventDefault(),d==="static"&&Q())},xt=(Ze,ut)=>{Ze&&mt(Ze),L?.(Ze,ut)},ae=Ze=>{ot.current==null||ot.current(),k?.(Ze)},$=(Ze,ut)=>{j?.(Ze,ut),Lm(window,"resize",K)},De=Ze=>{Ze&&(Ze.style.display=""),ie?.(Ze),Fy(window,"resize",K)},Ke=(0,il.useCallback)(Ze=>(0,Sf.jsx)("div",{...Ze,className:(0,cD.default)(`${t}-backdrop`,se,!p&&"show")}),[p,se,t]),Ee={...n,...te};Ee.display="block";let Be=Ze=>(0,Sf.jsx)("div",{role:"dialog",...Ze,style:Ee,className:(0,cD.default)(e,t,xe&&`${t}-static`,!p&&"show"),onClick:d?ve:void 0,onMouseUp:ge,"data-bs-theme":a,"aria-label":c,"aria-labelledby":l,"aria-describedby":u,children:(0,Sf.jsx)(s,{..._e,onMouseDown:ye,className:r,contentClassName:i,children:o})});return(0,Sf.jsx)(og.Provider,{value:It,children:(0,Sf.jsx)(bC,{show:h,ref:je,backdrop:d,container:T,keyboard:!0,autoFocus:E,enforceFocus:A,restoreFocus:N,restoreFocusOptions:x,onEscapeKeyDown:ue,onShow:S,onHide:y,onEnter:xt,onEntering:$,onEntered:D,onExit:ae,onExiting:U,onExited:De,manager:Nt(),transition:p?nbe:void 0,backdropTransition:p?rbe:void 0,renderBackdrop:Ke,renderDialog:Be})})});WY.displayName="Modal";var GY=Object.assign(WY,{Body:TC,Header:AC,Title:PC,Footer:CC,Dialog:ox,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var QY=F(yt()),eq=F(me()),fD=F(me());var $Y=F(me()),XY=F(yt());var jY=F($e()),YY=$Y.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ne(e,"nav-item"),(0,jY.jsx)(n,{ref:i,className:(0,XY.default)(t,e),...r})));YY.displayName="NavItem";var sg=YY;var qY=F(yt()),ZY=F(me());var KY=F($e()),JY=ZY.forwardRef(({bsPrefix:t,className:e,as:n=Vo,active:r,eventKey:i,disabled:o=!1,...s},a)=>{t=Ne(t,"nav-link");let[l,u]=ex({key:gs(i,s.href),active:r,disabled:o,...s});return(0,KY.jsx)(n,{...s,...l,ref:a,disabled:o,className:(0,qY.default)(e,t,o&&"disabled",u.isActive&&"active")})});JY.displayName="NavLink";var bf=JY;var tq=F($e()),nq=eq.forwardRef((t,e)=>{let{as:n="div",bsPrefix:r,variant:i,fill:o=!1,justify:s=!1,navbar:a,navbarScroll:l,className:u,activeKey:c,...h}=_i(t,{activeKey:"onSelect"}),p=Ne(r,"nav"),d,v,b=!1,S=(0,fD.useContext)(Aa),y=(0,fD.useContext)(_T);return S?(d=S.bsPrefix,b=a??!0):y&&({cardHeaderBsPrefix:v}=y),(0,tq.jsx)(vC,{as:n,ref:e,activeKey:c,className:(0,QY.default)(u,{[p]:!b,[`${d}-nav`]:b,[`${d}-nav-scroll`]:b&&l,[`${v}-${i}`]:!!v,[`${p}-${i}`]:!!i,[`${p}-fill`]:o,[`${p}-justified`]:s}),...h})});nq.displayName="Nav";var RC=Object.assign(nq,{Item:sg,Link:bf});var $q=F(yt()),Xq=F(me()),WC=F(me());var rq=F(yt()),iq=F(me());var oq=F($e()),sq=iq.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=Ne(t,"navbar-brand");let o=n||(r.href?"a":"span");return(0,oq.jsx)(o,{...r,ref:i,className:(0,rq.default)(e,t)})});sq.displayName="NavbarBrand";var IC=sq;var aq=F(me()),lq=F(me());var hD=F($e()),uq=aq.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=Ne(e,"navbar-collapse");let i=(0,lq.useContext)(Aa);return(0,hD.jsx)(Dm,{in:!!(i&&i.expanded),...n,children:(0,hD.jsx)("div",{ref:r,className:e,children:t})})});uq.displayName="NavbarCollapse";var NC=uq;var cq=F(yt()),fq=F(me()),hq=F(me());var pD=F($e()),pq=fq.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:o,...s},a)=>{t=Ne(t,"navbar-toggler");let{onToggle:l,expanded:u}=(0,hq.useContext)(Aa)||{},c=Or(h=>{o&&o(h),l&&l()});return i==="button"&&(s.type="button"),(0,pD.jsx)(i,{...s,ref:a,onClick:c,"aria-label":r,className:(0,cq.default)(e,t,!u&&"collapsed"),children:n||(0,pD.jsx)("span",{className:`${t}-icon`})})});pq.displayName="NavbarToggle";var OC=pq;var Fq=F(me()),Uq=F(me());var gD=F(yt());var mq=F(me()),dD=new WeakMap,dq=(t,e)=>{if(!t||!e)return;let n=dD.get(e)||new Map;dD.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function mD(t,e=typeof window>"u"?void 0:window){let n=dq(t,e),[r,i]=(0,mq.useState)(()=>n?n.matches:!1);return Xm(()=>{let o=dq(t,e);if(!o)return i(!1);let s=dD.get(e),a=()=>{i(o.matches)};return o.refCount++,o.addListener(a),a(),()=>{o.removeListener(a),o.refCount--,o.refCount<=0&&s?.delete(o.media),o=void 0}},[t]),r}var gq=F(me());function ibe(t){let e=Object.keys(t);function n(a,l){return a===l?l:a?`${a} and ${l}`:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){let l=r(a),u=t[l];return typeof u=="number"?u=`${u-.2}px`:u=`calc(${u} - 0.2px)`,`(max-width: ${u})`}function o(a){let l=t[a];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function s(a,l,u){let c;typeof a=="object"?(c=a,u=l,l=!0):(l=l||!0,c={[a]:l});let h=(0,gq.useMemo)(()=>Object.entries(c).reduce((p,[d,v])=>((v==="up"||v===!0)&&(p=n(p,o(d))),(v==="down"||v===!0)&&(p=n(p,i(d))),p),""),[JSON.stringify(c)]);return mD(h,u)}return s}var obe=ibe({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),vq=obe;var Oq=F(me()),Wl=F(me());var yq=F(me()),xq=F(yt());var _q=F($e()),Sq=yq.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ne(e,"offcanvas-body"),(0,_q.jsx)(n,{ref:i,className:(0,xq.default)(t,e),...r})));Sq.displayName="OffcanvasBody";var LC=Sq;var bq=F(yt()),DC=F(me());var wq=F($e()),sbe={[Eo]:"show",[Ca]:"show"},Eq=DC.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:o=!1,appear:s=!1,...a},l)=>(t=Ne(t,"offcanvas"),(0,wq.jsx)(pf,{ref:l,addEndListener:qu,in:r,mountOnEnter:i,unmountOnExit:o,appear:s,...a,childRef:ps(n),children:(u,c)=>DC.cloneElement(n,{...c,className:(0,bq.default)(e,n.props.className,(u===Eo||u===ju)&&`${t}-toggling`,sbe[u])})})));Eq.displayName="OffcanvasToggling";var kC=Eq;var Tq=F(yt()),Cq=F(me());var Mq=F($e()),Aq=Cq.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},o)=>(t=Ne(t,"offcanvas-header"),(0,Mq.jsx)(MC,{ref:o,...i,className:(0,Tq.default)(e,t),closeLabel:n,closeButton:r})));Aq.displayName="OffcanvasHeader";var FC=Aq;var Pq=F(me()),Rq=F(yt());var Iq=F($e()),abe=Bl("h5"),Nq=Pq.forwardRef(({className:t,bsPrefix:e,as:n=abe,...r},i)=>(e=Ne(e,"offcanvas-title"),(0,Iq.jsx)(n,{ref:i,className:(0,Rq.default)(t,e),...r})));Nq.displayName="OffcanvasTitle";var UC=Nq;var mp=F($e()),Lq=F($e()),Dq=F($e());function lbe(t){return(0,mp.jsx)(kC,{...t})}function ube(t){return(0,mp.jsx)(Oi,{...t})}var kq=Oq.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:o,show:s=!1,backdrop:a=!0,keyboard:l=!0,scroll:u=!1,onEscapeKeyDown:c,onShow:h,onHide:p,container:d,autoFocus:v=!0,enforceFocus:b=!0,restoreFocus:S=!0,restoreFocusOptions:y,onEntered:T,onExit:E,onExiting:A,onEnter:N,onEntering:x,onExited:D,backdropClassName:k,manager:U,renderStaticNode:L=!1,...j},ie)=>{let se=(0,Wl.useRef)();t=Ne(t,"offcanvas");let[fe,_e]=(0,Wl.useState)(!1),J=Or(p),te=vq(o||"xs","up");(0,Wl.useEffect)(()=>{_e(o?s&&!te:s)},[s,o,te]);let ne=(0,Wl.useMemo)(()=>({onHide:J}),[J]);function xe(){return U||(u?(se.current||(se.current=new vY({handleContainerOverflow:!1})),se.current):EC())}let Ce=(Ae,...ze)=>{Ae&&(Ae.style.visibility="visible"),N?.(Ae,...ze)},Le=(Ae,...ze)=>{Ae&&(Ae.style.visibility=""),D?.(...ze)},rt=(0,Wl.useCallback)(Ae=>(0,mp.jsx)("div",{...Ae,className:(0,gD.default)(`${t}-backdrop`,k)}),[k,t]),ot=Ae=>(0,mp.jsx)("div",{...Ae,...j,className:(0,gD.default)(e,o?`${t}-${o}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return(0,Dq.jsxs)(Lq.Fragment,{children:[!fe&&(o||L)&&ot({}),(0,mp.jsx)(og.Provider,{value:ne,children:(0,mp.jsx)(bC,{show:fe,ref:ie,backdrop:a,container:d,keyboard:l,autoFocus:v,enforceFocus:b&&!u,restoreFocus:S,restoreFocusOptions:y,onEscapeKeyDown:c,onShow:h,onHide:J,onEnter:Ce,onEntering:x,onEntered:T,onExit:E,onExiting:A,onExited:Le,manager:xe(),transition:lbe,backdropTransition:ube,renderBackdrop:rt,renderDialog:ot})})]})});kq.displayName="Offcanvas";var BC=Object.assign(kq,{Body:LC,Header:FC,Title:UC});var Bq=F($e()),zq=Fq.forwardRef(({onHide:t,...e},n)=>{let r=(0,Uq.useContext)(Aa),i=Or(()=>{r==null||r.onToggle==null||r.onToggle(),t?.()});return(0,Bq.jsx)(BC,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});zq.displayName="NavbarOffcanvas";var zC=zq;var Hq=F(me()),Vq=F(yt());var Wq=F($e()),Gq=Hq.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Ne(e,"navbar-text"),(0,Wq.jsx)(n,{ref:i,className:(0,Vq.default)(t,e),...r})));Gq.displayName="NavbarText";var HC=Gq;var VC=F($e()),jq=Xq.forwardRef((t,e)=>{let{bsPrefix:n,expand:r=!0,variant:i="light",bg:o,fixed:s,sticky:a,className:l,as:u="nav",expanded:c,onToggle:h,onSelect:p,collapseOnSelect:d=!1,...v}=_i(t,{expanded:"onToggle"}),b=Ne(n,"navbar"),S=(0,WC.useCallback)((...E)=>{p?.(...E),d&&c&&h?.(!1)},[p,d,c,h]);v.role===void 0&&u!=="nav"&&(v.role="navigation");let y=`${b}-expand`;typeof r=="string"&&(y=`${y}-${r}`);let T=(0,WC.useMemo)(()=>({onToggle:()=>h?.(!c),bsPrefix:b,expanded:!!c,expand:r}),[b,c,r,h]);return(0,VC.jsx)(Aa.Provider,{value:T,children:(0,VC.jsx)(Zi.Provider,{value:S,children:(0,VC.jsx)(u,{ref:e,...v,className:(0,$q.default)(l,b,r&&y,i&&`${b}-${i}`,o&&`bg-${o}`,a&&`sticky-${a}`,s&&`fixed-${s}`)})})})});jq.displayName="Navbar";var Yq=Object.assign(jq,{Brand:IC,Collapse:NC,Offcanvas:zC,Text:HC,Toggle:OC});var qq=F(yt()),Zq=F(me());var vD=F($e()),Kq=F($e()),Jq=Zq.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:i,rootCloseEvent:o,menuRole:s,disabled:a,active:l,renderMenuOnMount:u,menuVariant:c,...h},p)=>{let d=Ne(void 0,"nav-item");return(0,Kq.jsxs)(To,{ref:p,...h,className:(0,qq.default)(i,d),children:[(0,vD.jsx)(To.Toggle,{id:t,eventKey:null,active:l,disabled:a,childBsPrefix:r,as:bf,children:e}),(0,vD.jsx)(To.Menu,{role:s,renderOnMount:u,rootCloseEvent:o,variant:c,children:n})]})});Jq.displayName="NavDropdown";var Qq=Object.assign(Jq,{Item:To.Item,ItemText:To.ItemText,Divider:To.Divider,Header:To.Header});var qC=F(me()),ag=F(me()),wZ=F(yt());var nZ=F(me()),rZ=F(Ic());var iZ=F(me());var eZ=F(me());var cbe=()=>{};function fbe(t,e,{disabled:n,clickTrigger:r}={}){let i=e||cbe;FT(t,i,{disabled:n,clickTrigger:r});let o=dr(s=>{QE(s)&&i(s)});(0,eZ.useEffect)(()=>{if(n||t==null)return;let s=Xs(qy(t)),a=(s.defaultView||window).event,l=js(s,"keyup",u=>{if(u===a){a=void 0;return}o(u)});return()=>{l()}},[t,n,o])}var tZ=fbe;var oZ=nZ.forwardRef((t,e)=>{let{flip:n,offset:r,placement:i,containerPadding:o,popperConfig:s={},transition:a,runTransition:l}=t,[u,c]=up(),[h,p]=up(),d=Vl(c,e),v=tg(t.container),b=tg(t.target),[S,y]=(0,iZ.useState)(!t.show),T=kT(b,u,Zy({placement:i,enableEvents:!!t.show,containerPadding:o||5,flip:n,offset:r,arrowElement:h,popperConfig:s}));t.show&&S&&y(!1);let E=(...j)=>{y(!0),t.onExited&&t.onExited(...j)},A=t.show||!S;if(tZ(u,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!A)return null;let{onExit:N,onExiting:x,onEnter:D,onEntering:k,onEntered:U}=t,L=t.children(Object.assign({},T.attributes.popper,{style:T.styles.popper,ref:d}),{popper:T,placement:i,show:!!t.show,arrowProps:Object.assign({},T.attributes.arrow,{style:T.styles.arrow,ref:p})});return L=ix(a,l,{in:!!t.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:L,onExit:N,onExiting:x,onExited:E,onEnter:D,onEntering:k,onEntered:U}),v?rZ.default.createPortal(L,v):null});oZ.displayName="Overlay";var sZ=oZ;var YC=F(me());var mZ=F(yt()),gZ=F(me());var aZ=F(me()),lZ=F(yt());var uZ=F($e()),cZ=aZ.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ne(e,"popover-header"),(0,uZ.jsx)(n,{ref:i,className:(0,lZ.default)(t,e),...r})));cZ.displayName="PopoverHeader";var GC=cZ;var fZ=F(me()),hZ=F(yt());var pZ=F($e()),dZ=fZ.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ne(e,"popover-body"),(0,pZ.jsx)(n,{ref:i,className:(0,hZ.default)(t,e),...r})));dZ.displayName="PopoverBody";var sx=dZ;var hbe=F(me());function $C(t,e){let n=t;return t==="left"?n=e?"end":"start":t==="right"&&(n=e?"start":"end"),n}function ax(t="absolute"){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}var yD=F($e()),vZ=F($e()),yZ=gZ.forwardRef(({bsPrefix:t,placement:e="right",className:n,style:r,children:i,body:o,arrowProps:s,hasDoneInitialMeasure:a,popper:l,show:u,...c},h)=>{let p=Ne(t,"popover"),d=Ul(),[v]=e?.split("-")||[],b=$C(v,d),S=r;return u&&!a&&(S={...r,...ax(l?.strategy)}),(0,vZ.jsxs)("div",{ref:h,role:"tooltip",style:S,"x-placement":v,className:(0,mZ.default)(n,p,v&&`bs-popover-${b}`),...c,children:[(0,yD.jsx)("div",{className:"popover-arrow",...s}),o?(0,yD.jsx)(sx,{children:i}):i]})});yZ.displayName="Popover";var XC=Object.assign(yZ,{Header:GC,Body:sx,POPPER_OFFSET:[0,8]});var xZ=F(yt()),_Z=F(me());var xD=F($e()),SZ=F($e()),bZ=_Z.forwardRef(({bsPrefix:t,placement:e="right",className:n,style:r,children:i,arrowProps:o,hasDoneInitialMeasure:s,popper:a,show:l,...u},c)=>{t=Ne(t,"tooltip");let h=Ul(),[p]=e?.split("-")||[],d=$C(p,h),v=r;return l&&!s&&(v={...r,...ax(a?.strategy)}),(0,SZ.jsxs)("div",{ref:c,style:v,role:"tooltip","x-placement":p,className:(0,xZ.default)(n,t,`bs-tooltip-${d}`),...u,children:[(0,xD.jsx)("div",{className:"tooltip-arrow",...o}),(0,xD.jsx)("div",{className:`${t}-inner`,children:i})]})});bZ.displayName="Tooltip";var jC=Object.assign(bZ,{TOOLTIP_OFFSET:[0,6]});function _D(t){let e=(0,YC.useRef)(null),n=Ne(void 0,"popover"),r=Ne(void 0,"tooltip"),i=(0,YC.useMemo)(()=>({name:"offset",options:{offset:()=>{if(t)return t;if(e.current){if(rg(e.current,n))return XC.POPPER_OFFSET;if(rg(e.current,r))return jC.TOOLTIP_OFFSET}return[0,0]}}}),[t,n,r]);return[e,[i]]}var EZ=F($e());function pbe(t,e){let{ref:n}=t,{ref:r}=e;t.ref=n.__wrapped||(n.__wrapped=i=>n(hf(i))),e.ref=r.__wrapped||(r.__wrapped=i=>r(hf(i)))}var TZ=qC.forwardRef(({children:t,transition:e=Oi,popperConfig:n={},rootClose:r=!1,placement:i="top",show:o=!1,...s},a)=>{let l=(0,ag.useRef)({}),[u,c]=(0,ag.useState)(null),[h,p]=_D(s.offset),d=ds(a,h),v=e===!0?Oi:e||void 0,b=Or(S=>{c(S),n==null||n.onFirstUpdate==null||n.onFirstUpdate(S)});return Xm(()=>{u&&s.target&&(l.current.scheduleUpdate==null||l.current.scheduleUpdate())},[u,s.target]),(0,ag.useEffect)(()=>{o||c(null)},[o]),(0,EZ.jsx)(sZ,{...s,ref:d,popperConfig:{...n,modifiers:p.concat(n.modifiers||[]),onFirstUpdate:b},transition:v,rootClose:r,placement:i,show:o,children:(S,{arrowProps:y,popper:T,show:E})=>{var A;pbe(S,y);let N=T?.placement,x=Object.assign(l.current,{state:T?.state,scheduleUpdate:T?.update,placement:N,outOfBoundaries:(T==null||(A=T.state)==null||(A=A.modifiersData.hide)==null?void 0:A.isReferenceHidden)||!1,strategy:n.strategy}),D=!!u;return typeof t=="function"?t({...S,placement:N,show:E,...!e&&E&&{className:"show"},popper:x,arrowProps:y,hasDoneInitialMeasure:D}):qC.cloneElement(t,{...S,placement:N,arrowProps:y,popper:x,hasDoneInitialMeasure:D,className:(0,wZ.default)(t.props.className,!e&&E&&"show"),style:{...t.props.style,...S.style}})}})});TZ.displayName="Overlay";var ZC=TZ;var MZ=F(ja()),AZ=F(me()),Zs=F(me());var O8e=F(vf());var PZ=F($e()),RZ=F($e()),IZ=F($e());function dbe(t){return t&&typeof t=="object"?t:{show:t,hide:t}}function CZ(t,e,n){let[r]=e,i=r.currentTarget,o=r.relatedTarget||r.nativeEvent[n];(!o||o!==i)&&!Qu(i,o)&&t(...e)}var z8e=MZ.default.oneOf(["click","hover","focus"]),mbe=({trigger:t=["hover","focus"],overlay:e,children:n,popperConfig:r={},show:i,defaultShow:o=!1,onToggle:s,delay:a,placement:l,flip:u=l&&l.indexOf("auto")!==-1,...c})=>{let h=(0,Zs.useRef)(null),p=ds(h,ps(n)),d=cp(),v=(0,Zs.useRef)(""),[b,S]=qE(i,o,s),y=dbe(a),{onFocus:T,onBlur:E,onClick:A}=typeof n!="function"?AZ.Children.only(n).props:{},N=_e=>{p(hf(_e))},x=(0,Zs.useCallback)(()=>{if(d.clear(),v.current="show",!y.show){S(!0);return}d.set(()=>{v.current==="show"&&S(!0)},y.show)},[y.show,S,d]),D=(0,Zs.useCallback)(()=>{if(d.clear(),v.current="hide",!y.hide){S(!1);return}d.set(()=>{v.current==="hide"&&S(!1)},y.hide)},[y.hide,S,d]),k=(0,Zs.useCallback)((..._e)=>{x(),T?.(..._e)},[x,T]),U=(0,Zs.useCallback)((..._e)=>{D(),E?.(..._e)},[D,E]),L=(0,Zs.useCallback)((..._e)=>{S(!b),A?.(..._e)},[A,S,b]),j=(0,Zs.useCallback)((..._e)=>{CZ(x,_e,"fromElement")},[x]),ie=(0,Zs.useCallback)((..._e)=>{CZ(D,_e,"toElement")},[D]),se=t==null?[]:[].concat(t),fe={ref:N};return se.indexOf("click")!==-1&&(fe.onClick=L),se.indexOf("focus")!==-1&&(fe.onFocus=k,fe.onBlur=U),se.indexOf("hover")!==-1&&(fe.onMouseOver=j,fe.onMouseOut=ie),(0,IZ.jsxs)(RZ.Fragment,{children:[typeof n=="function"?n(fe):(0,Zs.cloneElement)(n,fe),(0,PZ.jsx)(ZC,{...c,show:b,onHide:D,flip:u,placement:l,popperConfig:r,target:h.current,children:e})]})},NZ=mbe;var SD=F(yt()),bD=F(me());var lx=F($e()),wD=F($e()),ED=bD.forwardRef(({active:t=!1,disabled:e=!1,className:n,style:r,activeLabel:i="(current)",children:o,linkStyle:s,linkClassName:a,as:l=Vo,...u},c)=>{let h=t||e?"span":l;return(0,lx.jsx)("li",{ref:c,style:r,className:(0,SD.default)(n,"page-item",{active:t,disabled:e}),children:(0,wD.jsxs)(h,{className:(0,SD.default)("page-link",a),style:s,...u,children:[o,t&&i&&(0,lx.jsx)("span",{className:"visually-hidden",children:i})]})})});ED.displayName="PageItem";var KC=ED;function ux(t,e,n=t){let r=bD.forwardRef(({children:i,...o},s)=>(0,wD.jsxs)(ED,{...o,ref:s,children:[(0,lx.jsx)("span",{"aria-hidden":"true",children:i||e}),(0,lx.jsx)("span",{className:"visually-hidden",children:n})]}));return r.displayName=t,r}var OZ=ux("First","\xAB"),LZ=ux("Prev","\u2039","Previous"),DZ=ux("Ellipsis","\u2026","More"),kZ=ux("Next","\u203A"),FZ=ux("Last","\xBB");var UZ=F(yt()),BZ=F(me());var zZ=F($e()),HZ=BZ.forwardRef(({bsPrefix:t,className:e,size:n,...r},i)=>{let o=Ne(t,"pagination");return(0,zZ.jsx)("ul",{ref:i,...r,className:(0,UZ.default)(e,o,n&&`${o}-${n}`)})});HZ.displayName="Pagination";var VZ=Object.assign(HZ,{First:OZ,Prev:LZ,Ellipsis:DZ,Item:KC,Next:kZ,Last:FZ});var jZ=F(me());var WZ=F(yt());function cx({animation:t,bg:e,bsPrefix:n,size:r,...i}){n=Ne(n,"placeholder");let[{className:o,...s}]=LL(i);return{...s,className:(0,WZ.default)(o,t?`${n}-${t}`:n,r&&`${n}-${r}`,e&&`bg-${e}`)}}var GZ=F(me());var $Z=F($e()),XZ=GZ.forwardRef((t,e)=>{let n=cx(t);return(0,$Z.jsx)(zl,{...n,ref:e,disabled:!0,tabIndex:-1})});XZ.displayName="PlaceholderButton";var JC=XZ;var YZ=F($e()),qZ=jZ.forwardRef(({as:t="span",...e},n)=>{let r=cx(e);return(0,YZ.jsx)(t,{...r,ref:n})});qZ.displayName="Placeholder";var ZZ=Object.assign(qZ,{Button:JC});var TD=F(yt()),eM=F(me()),QZ=F(me());var QC=F($e()),KZ=1e3;function gbe(t,e,n){let r=(t-e)/(n-e)*100;return Math.round(r*KZ)/KZ}function JZ({min:t,now:e,max:n,label:r,visuallyHidden:i,striped:o,animated:s,className:a,style:l,variant:u,bsPrefix:c,...h},p){return(0,QC.jsx)("div",{ref:p,...h,role:"progressbar",className:(0,TD.default)(a,`${c}-bar`,{[`bg-${u}`]:u,[`${c}-bar-animated`]:s,[`${c}-bar-striped`]:s||o}),style:{width:`${gbe(e,t,n)}%`,...l},"aria-valuenow":e,"aria-valuemin":t,"aria-valuemax":n,children:i?(0,QC.jsx)("span",{className:"visually-hidden",children:r}):r})}var eK=eM.forwardRef(({isChild:t=!1,...e},n)=>{let r={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...e};if(r.bsPrefix=Ne(r.bsPrefix,"progress"),t)return JZ(r,n);let{min:i,now:o,max:s,label:a,visuallyHidden:l,striped:u,animated:c,bsPrefix:h,variant:p,className:d,children:v,...b}=r;return(0,QC.jsx)("div",{ref:n,...b,className:(0,TD.default)(d,h),children:v?Hl(v,S=>(0,QZ.cloneElement)(S,{isChild:!0})):JZ({min:i,now:o,max:s,label:a,visuallyHidden:l,striped:u,animated:c,bsPrefix:h,variant:p},n)})});eK.displayName="ProgressBar";var tK=eK;var nK=F(yt()),tM=F(me());var rK=F($e());function vbe(t){return t<=0?"100%":t<1?`${t*100}%`:`${t}%`}var iK=tM.forwardRef(({bsPrefix:t,className:e,children:n,aspectRatio:r="1x1",style:i,...o},s)=>{t=Ne(t,"ratio");let a=typeof r=="number";return(0,rK.jsx)("div",{ref:s,...o,style:{...i,...a&&{"--bs-aspect-ratio":vbe(r)}},className:(0,nK.default)(t,e,!a&&`${t}-${r}`),children:tM.Children.only(n)})});iK.displayName="Ratio";var oK=iK;var sK=F(yt()),aK=F(me());var lK=F($e()),uK=aK.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{let o=Ne(t,"row"),s=Rm(),a=Im(),l=`${o}-cols`,u=[];return s.forEach(c=>{let h=r[c];delete r[c];let p;h!=null&&typeof h=="object"?{cols:p}=h:p=h;let d=c!==a?`-${c}`:"";p!=null&&u.push(`${l}${d}-${p}`)}),(0,lK.jsx)(n,{ref:i,...r,className:(0,sK.default)(e,o,...u)})});uK.displayName="Row";var cK=uK;var fK=F(yt()),hK=F(me());var pK=F($e()),dK=hK.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:i="div",className:o,...s},a)=>{t=Ne(t,"spinner");let l=`${t}-${n}`;return(0,pK.jsx)(i,{ref:a,...s,className:(0,fK.default)(o,l,r&&`${l}-${r}`,e&&`text-${e}`)})});dK.displayName="Spinner";var mK=dK;var gK=F(me()),Co=F(ja());var fx=F($e()),vK=F($e()),ybe={id:Co.default.string,toggleLabel:Co.default.string,href:Co.default.string,target:Co.default.string,onClick:Co.default.func,title:Co.default.node.isRequired,type:Co.default.string,disabled:Co.default.bool,align:ZT,menuRole:Co.default.string,renderMenuOnMount:Co.default.bool,rootCloseEvent:Co.default.string,flip:Co.default.bool,bsPrefix:Co.default.string,variant:Co.default.string,size:Co.default.string},CD=gK.forwardRef(({id:t,bsPrefix:e,size:n,variant:r,title:i,type:o="button",toggleLabel:s="Toggle dropdown",children:a,onClick:l,href:u,target:c,menuRole:h,renderMenuOnMount:p,rootCloseEvent:d,flip:v,...b},S)=>(0,vK.jsxs)(To,{ref:S,...b,as:Hm,children:[(0,fx.jsx)(zl,{size:n,variant:r,disabled:b.disabled,bsPrefix:e,href:u,target:c,onClick:l,type:o,children:i}),(0,fx.jsx)(To.Toggle,{split:!0,id:t,size:n,variant:r,disabled:b.disabled,childBsPrefix:e,children:(0,fx.jsx)("span",{className:"visually-hidden",children:s})}),(0,fx.jsx)(To.Menu,{role:h,renderOnMount:p,rootCloseEvent:d,flip:v,children:a})]}));CD.propTypes=ybe;CD.displayName="SplitButton";var yK=CD;var xK=FL;var _K=F(yt()),SK=F(me());function MD(t,e=KE,n=JE){let r=[];return Object.entries(t).forEach(([i,o])=>{o!=null&&(typeof o=="object"?e.forEach(s=>{let a=o[s];if(a!=null){let l=s!==n?`-${s}`:"";r.push(`${i}${l}-${a}`)}}):r.push(`${i}-${o}`))}),r}var bK=F($e()),wK=SK.forwardRef(({as:t="div",bsPrefix:e,className:n,direction:r,gap:i,...o},s)=>{e=Ne(e,r==="horizontal"?"hstack":"vstack");let a=Rm(),l=Im();return(0,bK.jsx)(t,{...o,ref:s,className:(0,_K.default)(n,e,...MD({gap:i},a,l))})});wK.displayName="Stack";var EK=wK;var wf=F(ja());var AWe=F(me()),RD=F(me());var TK=F(me()),CK=F(me());var hx=F($e()),xbe=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],_be=["activeKey","getControlledId","getControllerId"],Sbe=["as"];function AD(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PD(t){let{active:e,eventKey:n,mountOnEnter:r,transition:i,unmountOnExit:o,role:s="tabpanel",onEnter:a,onEntering:l,onEntered:u,onExit:c,onExiting:h,onExited:p}=t,d=AD(t,xbe),v=(0,CK.useContext)(rl);if(!v)return[Object.assign({},d,{role:s}),{eventKey:n,isActive:e,mountOnEnter:r,transition:i,unmountOnExit:o,onEnter:a,onEntering:l,onEntered:u,onExit:c,onExiting:h,onExited:p}];let{activeKey:b,getControlledId:S,getControllerId:y}=v,T=AD(v,_be),E=gs(n);return[Object.assign({},d,{role:s,id:S(n),"aria-labelledby":y(n)}),{eventKey:n,isActive:e==null&&E!=null?gs(b)===E:e,transition:i||T.transition,mountOnEnter:r??T.mountOnEnter,unmountOnExit:o??T.unmountOnExit,onEnter:a,onEntering:l,onEntered:u,onExit:c,onExiting:h,onExited:p}]}var MK=TK.forwardRef((t,e)=>{let{as:n="div"}=t,r=AD(t,Sbe),[i,{isActive:o,onEnter:s,onEntering:a,onEntered:l,onExit:u,onExiting:c,onExited:h,mountOnEnter:p,unmountOnExit:d,transition:v=ng}]=PD(r);return(0,hx.jsx)(rl.Provider,{value:null,children:(0,hx.jsx)(Zi.Provider,{value:null,children:(0,hx.jsx)(v,{in:o,onEnter:s,onEntering:a,onEntered:l,onExit:u,onExiting:c,onExited:h,mountOnEnter:p,unmountOnExit:d,children:(0,hx.jsx)(n,Object.assign({},i,{ref:e,hidden:!o,"aria-hidden":!o}))})})})});MK.displayName="TabPanel";var AK=MK;var ID=F($e()),PK=t=>{let{id:e,generateChildId:n,onSelect:r,activeKey:i,defaultActiveKey:o,transition:s,mountOnEnter:a,unmountOnExit:l,children:u}=t,[c,h]=DT(i,o,r),p=Ky(e),d=(0,RD.useMemo)(()=>n||((b,S)=>p?`${p}-${S}-${b}`:null),[p,n]),v=(0,RD.useMemo)(()=>({onSelect:h,activeKey:c,transition:s,mountOnEnter:a||!1,unmountOnExit:l||!1,getControlledId:b=>d(b,"tabpane"),getControllerId:b=>d(b,"tab")}),[h,c,s,a,l,d]);return(0,ID.jsx)(rl.Provider,{value:v,children:(0,ID.jsx)(Zi.Provider,{value:h||null,children:u})})};PK.Panel=AK;var nM=PK;function gp(t){return typeof t=="boolean"?t?Oi:ng:t}var RK=F($e()),IK=({transition:t,...e})=>(0,RK.jsx)(nM,{...e,transition:gp(t)});IK.displayName="TabContainer";var rM=IK;var NK=F(me()),OK=F(yt());var LK=F($e()),DK=NK.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ne(e,"tab-content"),(0,LK.jsx)(n,{ref:i,className:(0,OK.default)(t,e),...r})));DK.displayName="TabContent";var lg=DK;var kK=F(yt()),FK=F(me());var px=F($e()),UK=FK.forwardRef(({bsPrefix:t,transition:e,...n},r)=>{let[{className:i,as:o="div",...s},{isActive:a,onEnter:l,onEntering:u,onEntered:c,onExit:h,onExiting:p,onExited:d,mountOnEnter:v,unmountOnExit:b,transition:S=Oi}]=PD({...n,transition:gp(e)}),y=Ne(t,"tab-pane");return(0,px.jsx)(rl.Provider,{value:null,children:(0,px.jsx)(Zi.Provider,{value:null,children:(0,px.jsx)(S,{in:a,onEnter:l,onEntering:u,onEntered:c,onExit:h,onExiting:p,onExited:d,mountOnEnter:v,unmountOnExit:b,children:(0,px.jsx)(o,{...s,ref:r,className:(0,kK.default)(i,y,a&&"active")})})})})});UK.displayName="TabPane";var ug=UK;var bbe={eventKey:wf.default.oneOfType([wf.default.string,wf.default.number]),title:wf.default.node.isRequired,disabled:wf.default.bool,tabClassName:wf.default.string,tabAttrs:wf.default.object},BK=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};BK.propTypes=bbe;var zK=Object.assign(BK,{Container:rM,Content:lg,Pane:ug});var HK=F(yt()),VK=F(me());var ND=F($e()),WK=VK.forwardRef(({bsPrefix:t,className:e,striped:n,bordered:r,borderless:i,hover:o,size:s,variant:a,responsive:l,...u},c)=>{let h=Ne(t,"table"),p=(0,HK.default)(e,h,a&&`${h}-${a}`,s&&`${h}-${s}`,n&&`${h}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${h}-bordered`,i&&`${h}-borderless`,o&&`${h}-hover`),d=(0,ND.jsx)("table",{...u,className:p,ref:c});if(l){let v=`${h}-responsive`;return typeof l=="string"&&(v=`${v}-${l}`),(0,ND.jsx)("div",{className:v,children:d})}return d});WK.displayName="Table";var GK=WK;var nGe=F(me());var cg=F($e()),$K=F($e());function wbe(t){let e;return NT(t,n=>{e==null&&(e=n.props.eventKey)}),e}function Ebe(t){let{title:e,eventKey:n,disabled:r,tabClassName:i,tabAttrs:o,id:s}=t.props;return e==null?null:(0,cg.jsx)(sg,{as:"li",role:"presentation",children:(0,cg.jsx)(bf,{as:"button",type:"button",eventKey:n,disabled:r,id:s,className:i,...o,children:e})})}var XK=t=>{let{id:e,onSelect:n,transition:r,mountOnEnter:i=!1,unmountOnExit:o=!1,variant:s="tabs",children:a,activeKey:l=wbe(a),...u}=_i(t,{activeKey:"onSelect"});return(0,$K.jsxs)(nM,{id:e,activeKey:l,onSelect:n,transition:gp(r),mountOnEnter:i,unmountOnExit:o,children:[(0,cg.jsx)(RC,{id:e,...u,role:"tablist",as:"ul",variant:s,children:Hl(a,Ebe)}),(0,cg.jsx)(lg,{children:Hl(a,c=>{let h={...c.props};return delete h.title,delete h.disabled,delete h.tabClassName,delete h.tabAttrs,(0,cg.jsx)(ug,{...h})})})]})};XK.displayName="Tabs";var jK=XK;var uJ=F(me()),Gl=F(me()),cJ=F(yt());var YK=F(me());var qK=F($e()),Tbe={[Eo]:"showing",[ju]:"showing show"},ZK=YK.forwardRef((t,e)=>(0,qK.jsx)(Oi,{...t,ref:e,transitionClasses:Tbe}));ZK.displayName="ToastFade";var KK=ZK;var QK=F(yt()),eJ=F(me()),tJ=F(me());var JK=F(me()),Cbe=JK.createContext({onClose(){}}),iM=Cbe;var nJ=F($e()),rJ=F($e()),iJ=eJ.forwardRef(({bsPrefix:t,closeLabel:e="Close",closeVariant:n,closeButton:r=!0,className:i,children:o,...s},a)=>{t=Ne(t,"toast-header");let l=(0,tJ.useContext)(iM),u=Or(c=>{l==null||l.onClose==null||l.onClose(c)});return(0,rJ.jsxs)("div",{ref:a,...s,className:(0,QK.default)(t,i),children:[o,r&&(0,nJ.jsx)(df,{"aria-label":e,variant:n,onClick:u,"data-dismiss":"toast"})]})});iJ.displayName="ToastHeader";var oM=iJ;var oJ=F(me()),sJ=F(yt());var aJ=F($e()),lJ=oJ.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ne(e,"toast-body"),(0,aJ.jsx)(n,{ref:i,className:(0,sJ.default)(t,e),...r})));lJ.displayName="ToastBody";var sM=lJ;var aM=F($e()),fJ=uJ.forwardRef(({bsPrefix:t,className:e,transition:n=KK,show:r=!0,animation:i=!0,delay:o=5e3,autohide:s=!1,onClose:a,onEntered:l,onExit:u,onExiting:c,onEnter:h,onEntering:p,onExited:d,bg:v,...b},S)=>{t=Ne(t,"toast");let y=(0,Gl.useRef)(o),T=(0,Gl.useRef)(a);(0,Gl.useEffect)(()=>{y.current=o,T.current=a},[o,a]);let E=cp(),A=!!(s&&r),N=(0,Gl.useCallback)(()=>{A&&(T.current==null||T.current())},[A]);(0,Gl.useEffect)(()=>{E.set(N,y.current)},[E,N]);let x=(0,Gl.useMemo)(()=>({onClose:a}),[a]),D=!!(n&&i),k=(0,aM.jsx)("div",{...b,ref:S,className:(0,cJ.default)(t,e,v&&`bg-${v}`,!D&&(r?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return(0,aM.jsx)(iM.Provider,{value:x,children:D&&n?(0,aM.jsx)(n,{in:r,onEnter:h,onEntering:p,onEntered:l,onExit:u,onExiting:c,onExited:d,unmountOnExit:!0,children:k}):k})});fJ.displayName="Toast";var hJ=Object.assign(fJ,{Body:sM,Header:oM});var pJ=F(yt()),dJ=F(me());var mJ=F($e()),Mbe={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},gJ=dJ.forwardRef(({bsPrefix:t,position:e,containerPosition:n,className:r,as:i="div",...o},s)=>(t=Ne(t,"toast-container"),(0,mJ.jsx)(i,{ref:s,...o,className:(0,pJ.default)(t,e&&Mbe[e],n&&`position-${n}`,r)})));gJ.displayName="ToastContainer";var vJ=gJ;var yJ=F(yt()),xJ=F(me());var OD=F($e()),_J=F($e()),SJ=F($e()),Abe=()=>{},bJ=xJ.forwardRef(({bsPrefix:t,name:e,className:n,checked:r,type:i,onChange:o,value:s,disabled:a,id:l,inputRef:u,...c},h)=>(t=Ne(t,"btn-check"),(0,SJ.jsxs)(_J.Fragment,{children:[(0,OD.jsx)("input",{className:t,name:e,type:i,value:s,ref:u,autoComplete:"off",checked:!!r,disabled:!!a,onChange:o||Abe,id:l}),(0,OD.jsx)(zl,{...c,ref:h,className:(0,yJ.default)(n,a&&"disabled"),type:void 0,role:void 0,as:"label",htmlFor:l})]})));bJ.displayName="ToggleButton";var lM=bJ;var uM=F(me()),wJ=F(Ny());var EJ=F($e()),TJ=uM.forwardRef((t,e)=>{let{children:n,type:r="radio",name:i,value:o,onChange:s,vertical:a=!1,...l}=_i(t,{value:"onChange"}),u=()=>o==null?[]:[].concat(o),c=(h,p)=>{if(!s)return;let d=u(),v=d.indexOf(h)!==-1;if(r==="radio"){v||s(h,p);return}s(v?d.filter(b=>b!==h):[...d,h],p)};return r!=="radio"||i||(0,wJ.default)(!1),(0,EJ.jsx)(Hm,{...l,ref:e,vertical:a,children:Hl(n,h=>{let p=u(),{value:d,onChange:v}=h.props,b=S=>c(d,S);return uM.cloneElement(h,{type:r,name:h.name||i,checked:p.indexOf(d)!==-1,onChange:ff(v,b)})})})});TJ.displayName="ToggleButtonGroup";var CJ=Object.assign(TJ,{Button:lM});var ire=F(AJ(),1);function fM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var Pbe={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function DD(t,e){function n(i,o,s){if(!(typeof document>"u")){s=fM({},e,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in s)s[l]&&(a+="; "+l,s[l]!==!0&&(a+="="+s[l].split(";")[0]));return document.cookie=i+"="+t.write(o,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],s={},a=0;a<o.length;a++){var l=o[a].split("="),u=l.slice(1).join("=");try{var c=decodeURIComponent(l[0]);if(s[c]=t.read(u,c),i===c)break}catch{}}return i?s[i]:s}}return Object.create({set:n,get:r,remove:function(i,o){n(i,"",fM({},o,{expires:-1}))},withAttributes:function(i){return DD(this.converter,fM({},this.attributes,i))},withConverter:function(i){return DD(fM({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var PJ=DD(Pbe,{path:"/"});var ore=F(RJ(),1),sre=F(WJ(),1),are=F(GJ(),1);var uk={};gl(uk,{AsyncCompress:()=>Vbe,AsyncDecompress:()=>Xbe,AsyncDeflate:()=>hQ,AsyncGunzip:()=>dQ,AsyncGzip:()=>Vbe,AsyncInflate:()=>ik,AsyncUnzipInflate:()=>rwe,AsyncUnzlib:()=>gQ,AsyncZipDeflate:()=>Jbe,AsyncZlib:()=>Gbe,Compress:()=>GD,DecodeUTF8:()=>qbe,Decompress:()=>YD,Deflate:()=>Oa,EncodeUTF8:()=>Zbe,FlateErrorCode:()=>zbe,Gunzip:()=>wM,Gzip:()=>GD,Inflate:()=>ys,Unzip:()=>iwe,UnzipInflate:()=>nwe,UnzipPassThrough:()=>EQ,Unzlib:()=>TM,Zip:()=>Qbe,ZipDeflate:()=>Kbe,ZipPassThrough:()=>yx,Zlib:()=>XD,compress:()=>Wbe,compressSync:()=>$D,decompress:()=>jbe,decompressSync:()=>Ybe,deflate:()=>pQ,deflateSync:()=>bx,gunzip:()=>mQ,gunzipSync:()=>EM,gzip:()=>Wbe,gzipSync:()=>$D,inflate:()=>ok,inflateSync:()=>wg,strFromU8:()=>ak,strToU8:()=>Mf,unzip:()=>owe,unzipSync:()=>swe,unzlib:()=>vQ,unzlibSync:()=>CM,zip:()=>ewe,zipSync:()=>twe,zlib:()=>$be,zlibSync:()=>jD});var $J={},Bbe=function(t,e,n,r,i){var o=new Worker($J[e]||($J[e]=URL.createObjectURL(new Blob([t+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return o.onmessage=function(s){var a=s.data,l=a.$e$;if(l){var u=new Error(l[0]);u.code=l[1],u.stack=l[2],i(u,null)}else i(null,a)},o.postMessage(n,r),o},Ln=Uint8Array,$o=Uint16Array,xx=Int32Array,mg=new Ln([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gg=new Ln([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gx=new Ln([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),YJ=function(t,e){for(var n=new $o(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new xx(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},qJ=YJ(mg,2),ZD=qJ.b,SM=qJ.r;ZD[28]=258,SM[258]=28;var ZJ=YJ(gg,0),KJ=ZJ.b,HD=ZJ.r,vx=new $o(32768);for(or=0;or<32768;++or)nc=(or&43690)>>1|(or&21845)<<1,nc=(nc&52428)>>2|(nc&13107)<<2,nc=(nc&61680)>>4|(nc&3855)<<4,vx[or]=((nc&65280)>>8|(nc&255)<<8)>>1;var nc,or,Ia=function(t,e,n){for(var r=t.length,i=0,o=new $o(e);i<r;++i)t[i]&&++o[t[i]-1];var s=new $o(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(n){a=new $o(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],h=s[t[i]-1]++<<c,p=h|(1<<c)-1;h<=p;++h)a[vx[h]>>l]=u}else for(a=new $o(r),i=0;i<r;++i)t[i]&&(a[i]=vx[s[t[i]-1]++]>>15-t[i]);return a},rc=new Ln(288);for(or=0;or<144;++or)rc[or]=8;var or;for(or=144;or<256;++or)rc[or]=9;var or;for(or=256;or<280;++or)rc[or]=7;var or;for(or=280;or<288;++or)rc[or]=8;var or,pg=new Ln(32);for(or=0;or<32;++or)pg[or]=5;var or,JJ=Ia(rc,9,0),QJ=Ia(rc,9,1),eQ=Ia(pg,5,0),tQ=Ia(pg,5,1),yM=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Ra=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},xM=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},vg=function(t){return(t+7)/8|0},Na=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new Ln(t.subarray(e,n))},zbe={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},nQ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],cn=function(t,e,n){var r=new Error(e||nQ[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,cn),!n)throw r;return r},_x=function(t,e,n,r){var i=t.length,o=r?r.length:0;if(!i||e.f&&!e.l)return n||new Ln(0);var s=!n,a=s||e.i!=2,l=e.i;s&&(n=new Ln(i*3));var u=function(mt){var K=n.length;if(mt>K){var ye=new Ln(Math.max(K*2,mt));ye.set(n),n=ye}},c=e.f||0,h=e.p||0,p=e.b||0,d=e.l,v=e.d,b=e.m,S=e.n,y=i*8;do{if(!d){c=Ra(t,h,1);var T=Ra(t,h+1,3);if(h+=3,T)if(T==1)d=QJ,v=tQ,b=9,S=5;else if(T==2){var x=Ra(t,h,31)+257,D=Ra(t,h+10,15)+4,k=x+Ra(t,h+5,31)+1;h+=14;for(var U=new Ln(k),L=new Ln(19),j=0;j<D;++j)L[gx[j]]=Ra(t,h+j*3,7);h+=D*3;for(var ie=yM(L),se=(1<<ie)-1,fe=Ia(L,ie,1),j=0;j<k;){var _e=fe[Ra(t,h,se)];h+=_e&15;var E=_e>>4;if(E<16)U[j++]=E;else{var J=0,te=0;for(E==16?(te=3+Ra(t,h,3),h+=2,J=U[j-1]):E==17?(te=3+Ra(t,h,7),h+=3):E==18&&(te=11+Ra(t,h,127),h+=7);te--;)U[j++]=J}}var ne=U.subarray(0,x),xe=U.subarray(x);b=yM(ne),S=yM(xe),d=Ia(ne,b,1),v=Ia(xe,S,1)}else cn(1);else{var E=vg(h)+4,A=t[E-4]|t[E-3]<<8,N=E+A;if(N>i){l&&cn(0);break}a&&u(p+A),n.set(t.subarray(E,N),p),e.b=p+=A,e.p=h=N*8,e.f=c;continue}if(h>y){l&&cn(0);break}}a&&u(p+131072);for(var Ce=(1<<b)-1,Le=(1<<S)-1,rt=h;;rt=h){var J=d[xM(t,h)&Ce],ot=J>>4;if(h+=J&15,h>y){l&&cn(0);break}if(J||cn(2),ot<256)n[p++]=ot;else if(ot==256){rt=h,d=null;break}else{var Ae=ot-254;if(ot>264){var j=ot-257,ze=mg[j];Ae=Ra(t,h,(1<<ze)-1)+ZD[j],h+=ze}var je=v[xM(t,h)&Le],it=je>>4;je||cn(3),h+=je&15;var xe=KJ[it];if(it>3){var ze=gg[it];xe+=xM(t,h)&(1<<ze)-1,h+=ze}if(h>y){l&&cn(0);break}a&&u(p+131072);var pt=p+Ae;if(p<xe){var It=o-xe,Nt=Math.min(xe,pt);for(It+p<0&&cn(3);p<Nt;++p)n[p]=r[It+p]}for(;p<pt;++p)n[p]=n[p-xe]}}e.l=d,e.p=rt,e.b=p,e.f=c,d&&(c=1,e.m=b,e.d=v,e.n=S)}while(!c);return p!=n.length&&s?Na(n,0,p):n.subarray(0,p)},Xl=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},fg=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},_M=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return{t:Tf,l:0};if(i==1){var s=new Ln(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(N,x){return N.f-x.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,c=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=n[n[u].f<n[h].f?u++:h++],l=n[u!=c&&n[u].f<n[h].f?u++:h++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var p=o[0].s,r=1;r<i;++r)o[r].s>p&&(p=o[r].s);var d=new $o(p+1),v=bM(n[c-1],d,0);if(v>e){var r=0,b=0,S=v-e,y=1<<S;for(o.sort(function(x,D){return d[D.s]-d[x.s]||x.f-D.f});r<i;++r){var T=o[r].s;if(d[T]>e)b+=y-(1<<v-d[T]),d[T]=e;else break}for(b>>=S;b>0;){var E=o[r].s;d[E]<e?b-=1<<e-d[E]++-1:++r}for(;r>=0&&b;--r){var A=o[r].s;d[A]==e&&(--d[A],++b)}v=e}return{t:new Ln(d),l:v}},bM=function(t,e,n){return t.s==-1?Math.max(bM(t.l,e,n+1),bM(t.r,e,n+1)):e[t.s]=n},VD=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new $o(++e),r=0,i=t[0],o=1,s=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[a]}return{c:n.subarray(0,r),n:e}},hg=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},KD=function(t,e,n){var r=n.length,i=vg(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<r;++o)t[i+o+4]=n[o];return(i+4+r)*8},WD=function(t,e,n,r,i,o,s,a,l,u,c){Xl(e,c++,n),++i[256];for(var h=_M(i,15),p=h.t,d=h.l,v=_M(o,15),b=v.t,S=v.l,y=VD(p),T=y.c,E=y.n,A=VD(b),N=A.c,x=A.n,D=new $o(19),k=0;k<T.length;++k)++D[T[k]&31];for(var k=0;k<N.length;++k)++D[N[k]&31];for(var U=_M(D,7),L=U.t,j=U.l,ie=19;ie>4&&!L[gx[ie-1]];--ie);var se=u+5<<3,fe=hg(i,rc)+hg(o,pg)+s,_e=hg(i,p)+hg(o,b)+s+14+3*ie+hg(D,L)+2*D[16]+3*D[17]+7*D[18];if(l>=0&&se<=fe&&se<=_e)return KD(e,c,t.subarray(l,l+u));var J,te,ne,xe;if(Xl(e,c,1+(_e<fe)),c+=2,_e<fe){J=Ia(p,d,0),te=p,ne=Ia(b,S,0),xe=b;var Ce=Ia(L,j,0);Xl(e,c,E-257),Xl(e,c+5,x-1),Xl(e,c+10,ie-4),c+=14;for(var k=0;k<ie;++k)Xl(e,c+3*k,L[gx[k]]);c+=3*ie;for(var Le=[T,N],rt=0;rt<2;++rt)for(var ot=Le[rt],k=0;k<ot.length;++k){var Ae=ot[k]&31;Xl(e,c,Ce[Ae]),c+=L[Ae],Ae>15&&(Xl(e,c,ot[k]>>5&127),c+=ot[k]>>12)}}else J=JJ,te=rc,ne=eQ,xe=pg;for(var k=0;k<a;++k){var ze=r[k];if(ze>255){var Ae=ze>>18&31;fg(e,c,J[Ae+257]),c+=te[Ae+257],Ae>7&&(Xl(e,c,ze>>23&31),c+=mg[Ae]);var je=ze&31;fg(e,c,ne[je]),c+=xe[je],je>3&&(fg(e,c,ze>>5&8191),c+=gg[je])}else fg(e,c,J[ze]),c+=te[ze]}return fg(e,c,J[256]),c+te[256]},rQ=new xx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Tf=new Ln(0),iQ=function(t,e,n,r,i,o){var s=o.z||t.length,a=new Ln(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),u=o.l,c=(o.r||0)&7;if(e){c&&(l[0]=o.r>>3);for(var h=rQ[e-1],p=h>>13,d=h&8191,v=(1<<n)-1,b=o.p||new $o(32768),S=o.h||new $o(v+1),y=Math.ceil(n/3),T=2*y,E=function(ge){return(t[ge]^t[ge+1]<<y^t[ge+2]<<T)&v},A=new xx(25e3),N=new $o(288),x=new $o(32),D=0,k=0,U=o.i||0,L=0,j=o.w||0,ie=0;U+2<s;++U){var se=E(U),fe=U&32767,_e=S[se];if(b[fe]=_e,S[se]=fe,j<=U){var J=s-U;if((D>7e3||L>24576)&&(J>423||!u)){c=WD(t,l,0,A,N,x,k,L,ie,U-ie,c),L=D=k=0,ie=U;for(var te=0;te<286;++te)N[te]=0;for(var te=0;te<30;++te)x[te]=0}var ne=2,xe=0,Ce=d,Le=fe-_e&32767;if(J>2&&se==E(U-Le))for(var rt=Math.min(p,J)-1,ot=Math.min(32767,U),Ae=Math.min(258,J);Le<=ot&&--Ce&&fe!=_e;){if(t[U+ne]==t[U+ne-Le]){for(var ze=0;ze<Ae&&t[U+ze]==t[U+ze-Le];++ze);if(ze>ne){if(ne=ze,xe=Le,ze>rt)break;for(var je=Math.min(Le,ze-2),it=0,te=0;te<je;++te){var pt=U-Le+te&32767,It=b[pt],Nt=pt-It&32767;Nt>it&&(it=Nt,_e=pt)}}}fe=_e,_e=b[fe],Le+=fe-_e&32767}if(xe){A[L++]=268435456|SM[ne]<<18|HD[xe];var mt=SM[ne]&31,K=HD[xe]&31;k+=mg[mt]+gg[K],++N[257+mt],++x[K],j=U+ne,++D}else A[L++]=t[U],++N[t[U]]}}for(U=Math.max(U,j);U<s;++U)A[L++]=t[U],++N[t[U]];c=WD(t,l,u,A,N,x,k,L,ie,U-ie,c),u||(o.r=c&7|l[c/8|0]<<3,c-=7,o.h=S,o.p=b,o.i=U,o.w=j)}else{for(var U=o.w||0;U<s+u;U+=65535){var ye=U+65535;ye>=s&&(l[c/8|0]=u,ye=s),c=KD(l,c+1,t.subarray(U,ye))}o.i=s}return Na(a,0,r+vg(c)+i)},oQ=function(){for(var t=new Int32Array(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(n&1&&-306674912)^n>>>1;t[e]=n}return t}(),yg=function(){var t=-1;return{p:function(e){for(var n=t,r=0;r<e.length;++r)n=oQ[n&255^e[r]]^n>>>8;t=n},d:function(){return~t}}},AM=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,o=n.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},vp=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Ln(o.length+t.length);s.set(o),s.set(t,o.length),t=s,i.w=o.length}return iQ(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},Sx=function(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n},XJ=function(t,e,n){for(var r=t(),i=t.toString(),o=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/\s+/g,"").split(","),s=0;s<r.length;++s){var a=r[s],l=o[s];if(typeof a=="function"){e+=";"+l+"=";var u=a.toString();if(a.prototype)if(u.indexOf("[native code]")!=-1){var c=u.indexOf(" ",8)+1;e+=u.slice(c,u.indexOf("(",c))}else{e+=u;for(var h in a.prototype)e+=";"+l+".prototype."+h+"="+a.prototype[h].toString()}else e+=u}else n[l]=a}return e},vM=[],Hbe=function(t){var e=[];for(var n in t)t[n].buffer&&e.push((t[n]=new t[n].constructor(t[n])).buffer);return e},sQ=function(t,e,n,r){if(!vM[n]){for(var i="",o={},s=t.length-1,a=0;a<s;++a)i=XJ(t[a],i,o);vM[n]={c:XJ(t[s],i,o),e:o}}var l=Sx({},vM[n].e);return Bbe(vM[n].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",n,l,Hbe(l),r)},xg=function(){return[Ln,$o,xx,mg,gg,gx,ZD,KJ,QJ,tQ,vx,nQ,Ia,yM,Ra,xM,vg,Na,cn,_x,wg,Af,JD]},_g=function(){return[Ln,$o,xx,mg,gg,gx,SM,HD,JJ,rc,eQ,pg,vx,rQ,Tf,Ia,Xl,fg,_M,bM,VD,hg,KD,WD,vg,Na,iQ,vp,bx,Af]},aQ=function(){return[QD,tk,rr,yg,oQ]},lQ=function(){return[ek,fQ]},uQ=function(){return[nk,rr,AM]},cQ=function(){return[rk]},Af=function(t){return postMessage(t,[t.buffer])},JD=function(t){return t&&{out:t.size&&new Ln(t.size),dictionary:t.dictionary}},Sg=function(t,e,n,r,i,o){var s=sQ(n,r,i,function(a,l){s.terminate(),o(a,l)});return s.postMessage([t,e],e.consume?[t.buffer]:[]),function(){s.terminate()}},La=function(t){return t.ondata=function(e,n){return postMessage([e,n],[e.buffer])},function(e){e.data.length?(t.push(e.data[0],e.data[1]),postMessage([e.data[0].length])):t.flush()}},bg=function(t,e,n,r,i,o,s){var a,l=sQ(t,r,i,function(u,c){u?(l.terminate(),e.ondata.call(e,u)):Array.isArray(c)?c.length==1?(e.queuedSize-=c[0],e.ondrain&&e.ondrain(c[0])):(c[1]&&l.terminate(),e.ondata.call(e,u,c[0],c[1])):s(c)});l.postMessage(n),e.queuedSize=0,e.push=function(u,c){e.ondata||cn(5),a&&e.ondata(cn(4,0,1),null,!!c),e.queuedSize+=u.length,l.postMessage([u,a=c],[u.buffer])},e.terminate=function(){l.terminate()},o&&(e.flush=function(){l.postMessage([])})},Go=function(t,e){return t[e]|t[e+1]<<8},ci=function(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0},zD=function(t,e){return ci(t,e)+ci(t,e+4)*4294967296},rr=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},QD=function(t,e){var n=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:e.level==9?2:0,t[9]=3,e.mtime!=0&&rr(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),n){t[3]=8;for(var r=0;r<=n.length;++r)t[r+10]=n.charCodeAt(r)}},ek=function(t){(t[0]!=31||t[1]!=139||t[2]!=8)&&cn(6,"invalid gzip data");var e=t[3],n=10;e&4&&(n+=(t[10]|t[11]<<8)+2);for(var r=(e>>3&1)+(e>>4&1);r>0;r-=!t[n++]);return n+(e&2)},fQ=function(t){var e=t.length;return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0},tk=function(t){return 10+(t.filename?t.filename.length+1:0)},nk=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=AM();i.p(e.dictionary),rr(t,2,i.d())}},rk=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&cn(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&cn(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function yp(t,e){return typeof t=="function"&&(e=t,t={}),this.ondata=e,t}var Oa=function(){function t(e,n){if(typeof e=="function"&&(n=e,e={}),this.ondata=n,this.o=e||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new Ln(98304),this.o.dictionary){var r=this.o.dictionary.subarray(-32768);this.b.set(r,32768-r.length),this.s.i=32768-r.length}}return t.prototype.p=function(e,n){this.ondata(vp(e,this.o,0,0,this.s),n)},t.prototype.push=function(e,n){this.ondata||cn(5),this.s.l&&cn(4);var r=e.length+this.s.z;if(r>this.b.length){if(r>2*this.b.length-32768){var i=new Ln(r&-32768);i.set(this.b.subarray(0,this.s.z)),this.b=i}var o=this.b.length-this.s.z;this.b.set(e.subarray(0,o),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(e.subarray(o),32768),this.s.z=e.length-o+32768,this.s.i=32766,this.s.w=32768}else this.b.set(e,this.s.z),this.s.z+=e.length;this.s.l=n&1,(this.s.z>this.s.w+8191||n)&&(this.p(this.b,n||!1),this.s.w=this.s.i,this.s.i-=2)},t.prototype.flush=function(){this.ondata||cn(5),this.s.l&&cn(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},t}();var hQ=function(){function t(e,n){bg([_g,function(){return[La,Oa]}],this,yp.call(this,e,n),function(r){var i=new Oa(r.data);onmessage=La(i)},6,1)}return t}();function pQ(t,e,n){return n||(n=e,e={}),typeof n!="function"&&cn(7),Sg(t,e,[_g],function(r){return Af(bx(r.data[0],r.data[1]))},0,n)}function bx(t,e){return vp(t,e||{},0,0)}var ys=function(){function t(e,n){typeof e=="function"&&(n=e,e={}),this.ondata=n;var r=e&&e.dictionary&&e.dictionary.subarray(-32768);this.s={i:0,b:r?r.length:0},this.o=new Ln(32768),this.p=new Ln(0),r&&this.o.set(r)}return t.prototype.e=function(e){if(this.ondata||cn(5),this.d&&cn(4),!this.p.length)this.p=e;else if(e.length){var n=new Ln(this.p.length+e.length);n.set(this.p),n.set(e,this.p.length),this.p=n}},t.prototype.c=function(e){this.s.i=+(this.d=e||!1);var n=this.s.b,r=_x(this.p,this.s,this.o);this.ondata(Na(r,n,this.s.b),this.d),this.o=Na(r,this.s.b-32768),this.s.b=this.o.length,this.p=Na(this.p,this.s.p/8|0),this.s.p&=7},t.prototype.push=function(e,n){this.e(e),this.c(n)},t}();var ik=function(){function t(e,n){bg([xg,function(){return[La,ys]}],this,yp.call(this,e,n),function(r){var i=new ys(r.data);onmessage=La(i)},7,0)}return t}();function ok(t,e,n){return n||(n=e,e={}),typeof n!="function"&&cn(7),Sg(t,e,[xg],function(r){return Af(wg(r.data[0],JD(r.data[1])))},1,n)}function wg(t,e){return _x(t,{i:2},e&&e.out,e&&e.dictionary)}var GD=function(){function t(e,n){this.c=yg(),this.l=0,this.v=1,Oa.call(this,e,n)}return t.prototype.push=function(e,n){this.c.p(e),this.l+=e.length,Oa.prototype.push.call(this,e,n)},t.prototype.p=function(e,n){var r=vp(e,this.o,this.v&&tk(this.o),n&&8,this.s);this.v&&(QD(r,this.o),this.v=0),n&&(rr(r,r.length-8,this.c.d()),rr(r,r.length-4,this.l)),this.ondata(r,n)},t.prototype.flush=function(){Oa.prototype.flush.call(this)},t}();var Vbe=function(){function t(e,n){bg([_g,aQ,function(){return[La,Oa,GD]}],this,yp.call(this,e,n),function(r){var i=new GD(r.data);onmessage=La(i)},8,1)}return t}();function Wbe(t,e,n){return n||(n=e,e={}),typeof n!="function"&&cn(7),Sg(t,e,[_g,aQ,function(){return[$D]}],function(r){return Af($D(r.data[0],r.data[1]))},2,n)}function $D(t,e){e||(e={});var n=yg(),r=t.length;n.p(t);var i=vp(t,e,tk(e),8),o=i.length;return QD(i,e),rr(i,o-8,n.d()),rr(i,o-4,r),i}var wM=function(){function t(e,n){this.v=1,this.r=0,ys.call(this,e,n)}return t.prototype.push=function(e,n){if(ys.prototype.e.call(this,e),this.r+=e.length,this.v){var r=this.p.subarray(this.v-1),i=r.length>3?ek(r):4;if(i>r.length){if(!n)return}else this.v>1&&this.onmember&&this.onmember(this.r-r.length);this.p=r.subarray(i),this.v=0}ys.prototype.c.call(this,n),this.s.f&&!this.s.l&&!n&&(this.v=vg(this.s.p)+9,this.s={i:0},this.o=new Ln(0),this.push(new Ln(0),n))},t}();var dQ=function(){function t(e,n){var r=this;bg([xg,lQ,function(){return[La,ys,wM]}],this,yp.call(this,e,n),function(i){var o=new wM(i.data);o.onmember=function(s){return postMessage(s)},onmessage=La(o)},9,0,function(i){return r.onmember&&r.onmember(i)})}return t}();function mQ(t,e,n){return n||(n=e,e={}),typeof n!="function"&&cn(7),Sg(t,e,[xg,lQ,function(){return[EM]}],function(r){return Af(EM(r.data[0],r.data[1]))},3,n)}function EM(t,e){var n=ek(t);return n+8>t.length&&cn(6,"invalid gzip data"),_x(t.subarray(n,-8),{i:2},e&&e.out||new Ln(fQ(t)),e&&e.dictionary)}var XD=function(){function t(e,n){this.c=AM(),this.v=1,Oa.call(this,e,n)}return t.prototype.push=function(e,n){this.c.p(e),Oa.prototype.push.call(this,e,n)},t.prototype.p=function(e,n){var r=vp(e,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(nk(r,this.o),this.v=0),n&&rr(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){Oa.prototype.flush.call(this)},t}();var Gbe=function(){function t(e,n){bg([_g,uQ,function(){return[La,Oa,XD]}],this,yp.call(this,e,n),function(r){var i=new XD(r.data);onmessage=La(i)},10,1)}return t}();function $be(t,e,n){return n||(n=e,e={}),typeof n!="function"&&cn(7),Sg(t,e,[_g,uQ,function(){return[jD]}],function(r){return Af(jD(r.data[0],r.data[1]))},4,n)}function jD(t,e){e||(e={});var n=AM();n.p(t);var r=vp(t,e,e.dictionary?6:2,4);return nk(r,e),rr(r,r.length-4,n.d()),r}var TM=function(){function t(e,n){ys.call(this,e,n),this.v=e&&e.dictionary?2:1}return t.prototype.push=function(e,n){if(ys.prototype.e.call(this,e),this.v){if(this.p.length<6&&!n)return;this.p=this.p.subarray(rk(this.p,this.v-1)),this.v=0}n&&(this.p.length<4&&cn(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),ys.prototype.c.call(this,n)},t}();var gQ=function(){function t(e,n){bg([xg,cQ,function(){return[La,ys,TM]}],this,yp.call(this,e,n),function(r){var i=new TM(r.data);onmessage=La(i)},11,0)}return t}();function vQ(t,e,n){return n||(n=e,e={}),typeof n!="function"&&cn(7),Sg(t,e,[xg,cQ,function(){return[CM]}],function(r){return Af(CM(r.data[0],JD(r.data[1])))},5,n)}function CM(t,e){return _x(t.subarray(rk(t,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var YD=function(){function t(e,n){this.o=yp.call(this,e,n)||{},this.G=wM,this.I=ys,this.Z=TM}return t.prototype.i=function(){var e=this;this.s.ondata=function(n,r){e.ondata(n,r)}},t.prototype.push=function(e,n){if(this.ondata||cn(5),this.s)this.s.push(e,n);else{if(this.p&&this.p.length){var r=new Ln(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length)}else this.p=e;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,n),this.p=null)}},t}();var Xbe=function(){function t(e,n){YD.call(this,e,n),this.queuedSize=0,this.G=dQ,this.I=ik,this.Z=gQ}return t.prototype.i=function(){var e=this;this.s.ondata=function(n,r,i){e.ondata(n,r,i)},this.s.ondrain=function(n){e.queuedSize-=n,e.ondrain&&e.ondrain(n)}},t.prototype.push=function(e,n){this.queuedSize+=e.length,YD.prototype.push.call(this,e,n)},t}();function jbe(t,e,n){return n||(n=e,e={}),typeof n!="function"&&cn(7),t[0]==31&&t[1]==139&&t[2]==8?mQ(t,e,n):(t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31?ok(t,e,n):vQ(t,e,n)}function Ybe(t,e){return t[0]==31&&t[1]==139&&t[2]==8?EM(t,e):(t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31?wg(t,e):CM(t,e)}var sk=function(t,e,n,r){for(var i in t){var o=t[i],s=e+i,a=r;Array.isArray(o)&&(a=Sx(r,o[1]),o=o[0]),o instanceof Ln?n[s]=[o,a]:(n[s+="/"]=[new Ln(0),a],sk(o,s,n,r))}},jJ=typeof TextEncoder<"u"&&new TextEncoder,qD=typeof TextDecoder<"u"&&new TextDecoder,yQ=0;try{qD.decode(Tf,{stream:!0}),yQ=1}catch{}var xQ=function(t){for(var e="",n=0;;){var r=t[n++],i=(r>127)+(r>223)+(r>239);if(n+i>t.length)return{s:e,r:Na(t,n-1)};i?i==3?(r=((r&15)<<18|(t[n++]&63)<<12|(t[n++]&63)<<6|t[n++]&63)-65536,e+=String.fromCharCode(55296|r>>10,56320|r&1023)):i&1?e+=String.fromCharCode((r&31)<<6|t[n++]&63):e+=String.fromCharCode((r&15)<<12|(t[n++]&63)<<6|t[n++]&63):e+=String.fromCharCode(r)}},qbe=function(){function t(e){this.ondata=e,yQ?this.t=new TextDecoder:this.p=Tf}return t.prototype.push=function(e,n){if(this.ondata||cn(5),n=!!n,this.t){this.ondata(this.t.decode(e,{stream:!0}),n),n&&(this.t.decode().length&&cn(8),this.t=null);return}this.p||cn(4);var r=new Ln(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length);var i=xQ(r),o=i.s,s=i.r;n?(s.length&&cn(8),this.p=null):this.p=s,this.ondata(o,n)},t}();var Zbe=function(){function t(e){this.ondata=e}return t.prototype.push=function(e,n){this.ondata||cn(5),this.d&&cn(4),this.ondata(Mf(e),this.d=n||!1)},t}();function Mf(t,e){if(e){for(var n=new Ln(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}if(jJ)return jJ.encode(t);for(var i=t.length,o=new Ln(t.length+(t.length>>1)),s=0,a=function(c){o[s++]=c},r=0;r<i;++r){if(s+5>o.length){var l=new Ln(s+8+(i-r<<1));l.set(o),o=l}var u=t.charCodeAt(r);u<128||e?a(u):u<2048?(a(192|u>>6),a(128|u&63)):u>55295&&u<57344?(u=65536+(u&1047552)|t.charCodeAt(++r)&1023,a(240|u>>18),a(128|u>>12&63),a(128|u>>6&63),a(128|u&63)):(a(224|u>>12),a(128|u>>6&63),a(128|u&63))}return Na(o,0,s)}function ak(t,e){if(e){for(var n="",r=0;r<t.length;r+=16384)n+=String.fromCharCode.apply(null,t.subarray(r,r+16384));return n}else{if(qD)return qD.decode(t);var i=xQ(t),o=i.s,n=i.r;return n.length&&cn(8),o}}var _Q=function(t){return t==1?3:t<6?2:t==9?1:0},SQ=function(t,e){return e+30+Go(t,e+26)+Go(t,e+28)},bQ=function(t,e,n){var r=Go(t,e+28),i=ak(t.subarray(e+46,e+46+r),!(Go(t,e+8)&2048)),o=e+46+r,s=ci(t,e+20),a=n&&s==4294967295?wQ(t,o):[s,ci(t,e+24),ci(t,e+42)],l=a[0],u=a[1],c=a[2];return[Go(t,e+10),l,u,i,o+Go(t,e+30)+Go(t,e+32),c]},wQ=function(t,e){for(;Go(t,e)!=1;e+=4+Go(t,e+2));return[zD(t,e+12),zD(t,e+4),zD(t,e+20)]},Cf=function(t){var e=0;if(t)for(var n in t){var r=t[n].length;r>65535&&cn(9),e+=r+4}return e},dg=function(t,e,n,r,i,o,s,a){var l=r.length,u=n.extra,c=a&&a.length,h=Cf(u);rr(t,e,s!=null?33639248:67324752),e+=4,s!=null&&(t[e++]=20,t[e++]=n.os),t[e]=20,e+=2,t[e++]=n.flag<<1|(o<0&&8),t[e++]=i&&8,t[e++]=n.compression&255,t[e++]=n.compression>>8;var p=new Date(n.mtime==null?Date.now():n.mtime),d=p.getFullYear()-1980;if((d<0||d>119)&&cn(10),rr(t,e,d<<25|p.getMonth()+1<<21|p.getDate()<<16|p.getHours()<<11|p.getMinutes()<<5|p.getSeconds()>>1),e+=4,o!=-1&&(rr(t,e,n.crc),rr(t,e+4,o<0?-o-2:o),rr(t,e+8,n.size)),rr(t,e+12,l),rr(t,e+14,h),e+=16,s!=null&&(rr(t,e,c),rr(t,e+6,n.attrs),rr(t,e+10,s),e+=14),t.set(r,e),e+=l,h)for(var v in u){var b=u[v],S=b.length;rr(t,e,+v),rr(t,e+2,S),t.set(b,e+4),e+=4+S}return c&&(t.set(a,e),e+=c),e},lk=function(t,e,n,r,i){rr(t,e,101010256),rr(t,e+8,n),rr(t,e+10,n),rr(t,e+12,r),rr(t,e+16,i)},yx=function(){function t(e){this.filename=e,this.c=yg(),this.size=0,this.compression=0}return t.prototype.process=function(e,n){this.ondata(null,e,n)},t.prototype.push=function(e,n){this.ondata||cn(5),this.c.p(e),this.size+=e.length,n&&(this.crc=this.c.d()),this.process(e,n||!1)},t}();var Kbe=function(){function t(e,n){var r=this;n||(n={}),yx.call(this,e),this.d=new Oa(n,function(i,o){r.ondata(null,i,o)}),this.compression=8,this.flag=_Q(n.level)}return t.prototype.process=function(e,n){try{this.d.push(e,n)}catch(r){this.ondata(r,null,n)}},t.prototype.push=function(e,n){yx.prototype.push.call(this,e,n)},t}();var Jbe=function(){function t(e,n){var r=this;n||(n={}),yx.call(this,e),this.d=new hQ(n,function(i,o,s){r.ondata(i,o,s)}),this.compression=8,this.flag=_Q(n.level),this.terminate=this.d.terminate}return t.prototype.process=function(e,n){this.d.push(e,n)},t.prototype.push=function(e,n){yx.prototype.push.call(this,e,n)},t}();var Qbe=function(){function t(e){this.ondata=e,this.u=[],this.d=1}return t.prototype.add=function(e){var n=this;if(this.ondata||cn(5),this.d&2)this.ondata(cn(4+(this.d&1)*8,0,1),null,!1);else{var r=Mf(e.filename),i=r.length,o=e.comment,s=o&&Mf(o),a=i!=e.filename.length||s&&o.length!=s.length,l=i+Cf(e.extra)+30;i>65535&&this.ondata(cn(11,0,1),null,!1);var u=new Ln(l);dg(u,0,e,r,a,-1);var c=[u],h=function(){for(var S=0,y=c;S<y.length;S++){var T=y[S];n.ondata(null,T,!1)}c=[]},p=this.d;this.d=0;var d=this.u.length,v=Sx(e,{f:r,u:a,o:s,t:function(){e.terminate&&e.terminate()},r:function(){if(h(),p){var S=n.u[d+1];S?S.r():n.d=1}p=1}}),b=0;e.ondata=function(S,y,T){if(S)n.ondata(S,y,T),n.terminate();else if(b+=y.length,c.push(y),T){var E=new Ln(16);rr(E,0,134695760),rr(E,4,e.crc),rr(E,8,b),rr(E,12,e.size),c.push(E),v.c=b,v.b=l+b+16,v.crc=e.crc,v.size=e.size,p&&v.r(),p=1}else p&&h()},this.u.push(v)}},t.prototype.end=function(){var e=this;if(this.d&2){this.ondata(cn(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){e.d&1&&(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3},t.prototype.e=function(){for(var e=0,n=0,r=0,i=0,o=this.u;i<o.length;i++){var s=o[i];r+=46+s.f.length+Cf(s.extra)+(s.o?s.o.length:0)}for(var a=new Ln(r+22),l=0,u=this.u;l<u.length;l++){var s=u[l];dg(a,e,s,s.f,s.u,-s.c-2,n,s.o),e+=46+s.f.length+Cf(s.extra)+(s.o?s.o.length:0),n+=s.b}lk(a,e,this.u.length,r,n),this.ondata(null,a,!0),this.d=2},t.prototype.terminate=function(){for(var e=0,n=this.u;e<n.length;e++){var r=n[e];r.t()}this.d=2},t}();function ewe(t,e,n){n||(n=e,e={}),typeof n!="function"&&cn(7);var r={};sk(t,"",r,e);var i=Object.keys(r),o=i.length,s=0,a=0,l=o,u=new Array(o),c=[],h=function(){for(var S=0;S<c.length;++S)c[S]()},p=function(S,y){MM(function(){n(S,y)})};MM(function(){p=n});var d=function(){var S=new Ln(a+22),y=s,T=a-s;a=0;for(var E=0;E<l;++E){var A=u[E];try{var N=A.c.length;dg(S,a,A,A.f,A.u,N);var x=30+A.f.length+Cf(A.extra),D=a+x;S.set(A.c,D),dg(S,s,A,A.f,A.u,N,a,A.m),s+=16+x+(A.m?A.m.length:0),a=D+N}catch(k){return p(k,null)}}lk(S,s,u.length,T,y),p(null,S)};o||d();for(var v=function(S){var y=i[S],T=r[y],E=T[0],A=T[1],N=yg(),x=E.length;N.p(E);var D=Mf(y),k=D.length,U=A.comment,L=U&&Mf(U),j=L&&L.length,ie=Cf(A.extra),se=A.level==0?0:8,fe=function(_e,J){if(_e)h(),p(_e,null);else{var te=J.length;u[S]=Sx(A,{size:x,crc:N.d(),c:J,f:D,m:L,u:k!=y.length||L&&U.length!=j,compression:se}),s+=30+k+ie+te,a+=76+2*(k+ie)+(j||0)+te,--o||d()}};if(k>65535&&fe(cn(11,0,1),null),!se)fe(null,E);else if(x<16e4)try{fe(null,bx(E,A))}catch(_e){fe(_e,null)}else c.push(pQ(E,A,fe))},b=0;b<l;++b)v(b);return h}function twe(t,e){e||(e={});var n={},r=[];sk(t,"",n,e);var i=0,o=0;for(var s in n){var a=n[s],l=a[0],u=a[1],c=u.level==0?0:8,h=Mf(s),p=h.length,d=u.comment,v=d&&Mf(d),b=v&&v.length,S=Cf(u.extra);p>65535&&cn(11);var y=c?bx(l,u):l,T=y.length,E=yg();E.p(l),r.push(Sx(u,{size:l.length,crc:E.d(),c:y,f:h,m:v,u:p!=s.length||v&&d.length!=b,o:i,compression:c})),i+=30+p+S+T,o+=76+2*(p+S)+(b||0)+T}for(var A=new Ln(o+22),N=i,x=o-i,D=0;D<r.length;++D){var h=r[D];dg(A,h.o,h,h.f,h.u,h.c.length);var k=30+h.f.length+Cf(h.extra);A.set(h.c,h.o+k),dg(A,i,h,h.f,h.u,h.c.length,h.o,h.m),i+=16+k+(h.m?h.m.length:0)}return lk(A,i,r.length,x,N),A}var EQ=function(){function t(){}return t.prototype.push=function(e,n){this.ondata(null,e,n)},t.compression=0,t}();var nwe=function(){function t(){var e=this;this.i=new ys(function(n,r){e.ondata(null,n,r)})}return t.prototype.push=function(e,n){try{this.i.push(e,n)}catch(r){this.ondata(r,null,n)}},t.compression=8,t}();var rwe=function(){function t(e,n){var r=this;n<32e4?this.i=new ys(function(i,o){r.ondata(null,i,o)}):(this.i=new ik(function(i,o,s){r.ondata(i,o,s)}),this.terminate=this.i.terminate)}return t.prototype.push=function(e,n){this.i.terminate&&(e=Na(e,0)),this.i.push(e,n)},t.compression=8,t}();var iwe=function(){function t(e){this.onfile=e,this.k=[],this.o={0:EQ},this.p=Tf}return t.prototype.push=function(e,n){var r=this;if(this.onfile||cn(5),this.p||cn(4),this.c>0){var i=Math.min(this.c,e.length),o=e.subarray(0,i);if(this.c-=i,this.d?this.d.push(o,!this.c):this.k[0].push(o),e=e.subarray(i),e.length)return this.push(e,n)}else{var s=0,a=0,l=void 0,u=void 0;this.p.length?e.length?(u=new Ln(this.p.length+e.length),u.set(this.p),u.set(e,this.p.length)):u=this.p:u=e;for(var c=u.length,h=this.c,p=h&&this.d,d=function(){var y,T=ci(u,a);if(T==67324752){s=1,l=a,v.d=null,v.c=0;var E=Go(u,a+6),A=Go(u,a+8),N=E&2048,x=E&8,D=Go(u,a+26),k=Go(u,a+28);if(c>a+30+D+k){var U=[];v.k.unshift(U),s=2;var L=ci(u,a+18),j=ci(u,a+22),ie=ak(u.subarray(a+30,a+=30+D),!N);L==4294967295?(y=x?[-2]:wQ(u,a),L=y[0],j=y[1]):x&&(L=-1),a+=k,v.c=L;var se,fe={name:ie,compression:A,start:function(){if(fe.ondata||cn(5),!L)fe.ondata(null,Tf,!0);else{var _e=r.o[A];_e||fe.ondata(cn(14,"unknown compression type "+A,1),null,!1),se=L<0?new _e(ie):new _e(ie,L,j),se.ondata=function(xe,Ce,Le){fe.ondata(xe,Ce,Le)};for(var J=0,te=U;J<te.length;J++){var ne=te[J];se.push(ne,!1)}r.k[0]==U&&r.c?r.d=se:se.push(Tf,!0)}},terminate:function(){se&&se.terminate&&se.terminate()}};L>=0&&(fe.size=L,fe.originalSize=j),v.onfile(fe)}return"break"}else if(h){if(T==134695760)return l=a+=12+(h==-2&&8),s=3,v.c=0,"break";if(T==33639248)return l=a-=4,s=3,v.c=0,"break"}},v=this;a<c-4;++a){var b=d();if(b==="break")break}if(this.p=Tf,h<0){var S=s?u.subarray(0,l-12-(h==-2&&8)-(ci(u,l-16)==134695760&&4)):u.subarray(0,a);p?p.push(S,!!s):this.k[+(s==2)].push(S)}if(s&2)return this.push(u.subarray(a),n);this.p=u.subarray(a)}n&&(this.c&&cn(13),this.p=null)},t.prototype.register=function(e){this.o[e.compression]=e},t}();var MM=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(t){t()};function owe(t,e,n){n||(n=e,e={}),typeof n!="function"&&cn(7);var r=[],i=function(){for(var S=0;S<r.length;++S)r[S]()},o={},s=function(S,y){MM(function(){n(S,y)})};MM(function(){s=n});for(var a=t.length-22;ci(t,a)!=101010256;--a)if(!a||t.length-a>65558)return s(cn(13,0,1),null),i;var l=Go(t,a+8);if(l){var u=l,c=ci(t,a+16),h=c==4294967295||u==65535;if(h){var p=ci(t,a-12);h=ci(t,p)==101075792,h&&(u=l=ci(t,p+32),c=ci(t,p+48))}for(var d=e&&e.filter,v=function(S){var y=bQ(t,c,h),T=y[0],E=y[1],A=y[2],N=y[3],x=y[4],D=y[5],k=SQ(t,D);c=x;var U=function(j,ie){j?(i(),s(j,null)):(ie&&(o[N]=ie),--l||s(null,o))};if(!d||d({name:N,size:E,originalSize:A,compression:T}))if(!T)U(null,Na(t,k,k+E));else if(T==8){var L=t.subarray(k,k+E);if(A<524288||E>.8*A)try{U(null,wg(L,{out:new Ln(A)}))}catch(j){U(j,null)}else r.push(ok(L,{size:A},U))}else U(cn(14,"unknown compression type "+T,1),null);else U(null,null)},b=0;b<u;++b)v(b)}else s(null,{});return i}function swe(t,e){for(var n={},r=t.length-22;ci(t,r)!=101010256;--r)(!r||t.length-r>65558)&&cn(13);var i=Go(t,r+8);if(!i)return{};var o=ci(t,r+16),s=o==4294967295||i==65535;if(s){var a=ci(t,r-12);s=ci(t,a)==101075792,s&&(i=ci(t,a+32),o=ci(t,a+48))}for(var l=e&&e.filter,u=0;u<i;++u){var c=bQ(t,o,s),h=c[0],p=c[1],d=c[2],v=c[3],b=c[4],S=c[5],y=SQ(t,S);o=b,(!l||l({name:v,size:p,originalSize:d,compression:h}))&&(h?h==8?n[v]=wg(t.subarray(y,y+p),{out:new Ln(d)}):cn(14,"unknown compression type "+h):n[v]=Na(t,y,y+p))}return n}var lre=F(vte(),1);var T3={};gl(T3,{BoundingBox:()=>Ql,Font:()=>gr,Glyph:()=>xs,Path:()=>hi,_parse:()=>tn,default:()=>KAe,load:()=>Zne,loadSync:()=>Kne,parse:()=>uA});String.prototype.codePointAt||function(){var t=function(){try{var n={},r=Object.defineProperty,i=r(n,n,n)&&r}catch{}return i}(),e=function(n){if(this==null)throw TypeError();var r=String(this),i=r.length,o=n?Number(n):0;if(o!=o&&(o=0),!(o<0||o>=i)){var s=r.charCodeAt(o),a;return s>=55296&&s<=56319&&i>o+1&&(a=r.charCodeAt(o+1),a>=56320&&a<=57343)?(s-55296)*1024+a-56320+65536:s}};t?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}();var d3=0,rne=-3;function Wx(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function OEe(t,e){this.source=t,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=e,this.destLen=0,this.ltree=new Wx,this.dtree=new Wx}var ine=new Wx,one=new Wx,m3=new Uint8Array(30),g3=new Uint16Array(30),sne=new Uint8Array(30),ane=new Uint16Array(30),LEe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yte=new Wx,ql=new Uint8Array(320);function lne(t,e,n,r){var i,o;for(i=0;i<n;++i)t[i]=0;for(i=0;i<30-n;++i)t[i+n]=i/n|0;for(o=r,i=0;i<30;++i)e[i]=o,o+=1<<t[i]}function DEe(t,e){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[168+n]=280+n;for(n=0;n<112;++n)t.trans[176+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n}var xte=new Uint16Array(16);function Zk(t,e,n,r){var i,o;for(i=0;i<16;++i)t.table[i]=0;for(i=0;i<r;++i)t.table[e[n+i]]++;for(t.table[0]=0,o=0,i=0;i<16;++i)xte[i]=o,o+=t.table[i];for(i=0;i<r;++i)e[n+i]&&(t.trans[xte[e[n+i]]++]=i)}function kEe(t){t.bitcount--||(t.tag=t.source[t.sourceIndex++],t.bitcount=7);var e=t.tag&1;return t.tag>>>=1,e}function Zl(t,e,n){if(!e)return n;for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var r=t.tag&65535>>>16-e;return t.tag>>>=e,t.bitcount-=e,r+n}function o3(t,e){for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var n=0,r=0,i=0,o=t.tag;do r=2*r+(o&1),o>>>=1,++i,n+=e.table[i],r-=e.table[i];while(r>=0);return t.tag=o,t.bitcount-=i,e.trans[n+r]}function FEe(t,e,n){var r,i,o,s,a,l;for(r=Zl(t,5,257),i=Zl(t,5,1),o=Zl(t,4,4),s=0;s<19;++s)ql[s]=0;for(s=0;s<o;++s){var u=Zl(t,3,0);ql[LEe[s]]=u}for(Zk(yte,ql,0,19),a=0;a<r+i;){var c=o3(t,yte);switch(c){case 16:var h=ql[a-1];for(l=Zl(t,2,3);l;--l)ql[a++]=h;break;case 17:for(l=Zl(t,3,3);l;--l)ql[a++]=0;break;case 18:for(l=Zl(t,7,11);l;--l)ql[a++]=0;break;default:ql[a++]=c;break}}Zk(e,ql,0,r),Zk(n,ql,r,i)}function _te(t,e,n){for(;;){var r=o3(t,e);if(r===256)return d3;if(r<256)t.dest[t.destLen++]=r;else{var i,o,s,a;for(r-=257,i=Zl(t,m3[r],g3[r]),o=o3(t,n),s=t.destLen-Zl(t,sne[o],ane[o]),a=s;a<s+i;++a)t.dest[t.destLen++]=t.dest[a]}}}function UEe(t){for(var e,n,r;t.bitcount>8;)t.sourceIndex--,t.bitcount-=8;if(e=t.source[t.sourceIndex+1],e=256*e+t.source[t.sourceIndex],n=t.source[t.sourceIndex+3],n=256*n+t.source[t.sourceIndex+2],e!==(~n&65535))return rne;for(t.sourceIndex+=4,r=e;r;--r)t.dest[t.destLen++]=t.source[t.sourceIndex++];return t.bitcount=0,d3}function BEe(t,e){var n=new OEe(t,e),r,i,o;do{switch(r=kEe(n),i=Zl(n,2,0),i){case 0:o=UEe(n);break;case 1:o=_te(n,ine,one);break;case 2:FEe(n,n.ltree,n.dtree),o=_te(n,n.ltree,n.dtree);break;default:o=rne}if(o!==d3)throw new Error("Data error")}while(!r);return n.destLen<n.dest.length?typeof n.dest.slice=="function"?n.dest.slice(0,n.destLen):n.dest.subarray(0,n.destLen):n.dest}DEe(ine,one);lne(m3,g3,4,3);lne(sne,ane,2,1);m3[28]=0;g3[28]=258;var zEe=BEe;function Ig(t,e,n,r,i){return Math.pow(1-i,3)*t+3*Math.pow(1-i,2)*i*e+3*(1-i)*Math.pow(i,2)*n+Math.pow(i,3)*r}function Ql(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}Ql.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};Ql.prototype.addPoint=function(t,e){typeof t=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof e=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))};Ql.prototype.addX=function(t){this.addPoint(t,null)};Ql.prototype.addY=function(t){this.addPoint(null,t)};Ql.prototype.addBezier=function(t,e,n,r,i,o,s,a){var l=[t,e],u=[n,r],c=[i,o],h=[s,a];this.addPoint(t,e),this.addPoint(s,a);for(var p=0;p<=1;p++){var d=6*l[p]-12*u[p]+6*c[p],v=-3*l[p]+9*u[p]-9*c[p]+3*h[p],b=3*u[p]-3*l[p];if(v===0){if(d===0)continue;var S=-b/d;0<S&&S<1&&(p===0&&this.addX(Ig(l[p],u[p],c[p],h[p],S)),p===1&&this.addY(Ig(l[p],u[p],c[p],h[p],S)));continue}var y=Math.pow(d,2)-4*b*v;if(!(y<0)){var T=(-d+Math.sqrt(y))/(2*v);0<T&&T<1&&(p===0&&this.addX(Ig(l[p],u[p],c[p],h[p],T)),p===1&&this.addY(Ig(l[p],u[p],c[p],h[p],T)));var E=(-d-Math.sqrt(y))/(2*v);0<E&&E<1&&(p===0&&this.addX(Ig(l[p],u[p],c[p],h[p],E)),p===1&&this.addY(Ig(l[p],u[p],c[p],h[p],E)))}}};Ql.prototype.addQuad=function(t,e,n,r,i,o){var s=t+.6666666666666666*(n-t),a=e+2/3*(r-e),l=s+1/3*(i-t),u=a+1/3*(o-e);this.addBezier(t,e,s,a,l,u,i,o)};function hi(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}hi.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})};hi.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})};hi.prototype.curveTo=hi.prototype.bezierCurveTo=function(t,e,n,r,i,o){this.commands.push({type:"C",x1:t,y1:e,x2:n,y2:r,x:i,y:o})};hi.prototype.quadTo=hi.prototype.quadraticCurveTo=function(t,e,n,r){this.commands.push({type:"Q",x1:t,y1:e,x:n,y:r})};hi.prototype.close=hi.prototype.closePath=function(){this.commands.push({type:"Z"})};hi.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof Ql){var e=t;this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),this.close();return}Array.prototype.push.apply(this.commands,t)};hi.prototype.getBoundingBox=function(){for(var t=new Ql,e=0,n=0,r=0,i=0,o=0;o<this.commands.length;o++){var s=this.commands[o];switch(s.type){case"M":t.addPoint(s.x,s.y),e=r=s.x,n=i=s.y;break;case"L":t.addPoint(s.x,s.y),r=s.x,i=s.y;break;case"Q":t.addQuad(r,i,s.x1,s.y1,s.x,s.y),r=s.x,i=s.y;break;case"C":t.addBezier(r,i,s.x1,s.y1,s.x2,s.y2,s.x,s.y),r=s.x,i=s.y;break;case"Z":r=e,i=n;break;default:throw new Error("Unexpected path command "+s.type)}}return t.isEmpty()&&t.addPoint(0,0),t};hi.prototype.draw=function(t){t.beginPath();for(var e=0;e<this.commands.length;e+=1){var n=this.commands[e];n.type==="M"?t.moveTo(n.x,n.y):n.type==="L"?t.lineTo(n.x,n.y):n.type==="C"?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):n.type==="Q"?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):n.type==="Z"&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())};hi.prototype.toPathData=function(t){t=t!==void 0?t:2;function e(s){return Math.round(s)===s?""+Math.round(s):s.toFixed(t)}function n(){for(var s=arguments,a="",l=0;l<arguments.length;l+=1){var u=s[l];u>=0&&l>0&&(a+=" "),a+=e(u)}return a}for(var r="",i=0;i<this.commands.length;i+=1){var o=this.commands[i];o.type==="M"?r+="M"+n(o.x,o.y):o.type==="L"?r+="L"+n(o.x,o.y):o.type==="C"?r+="C"+n(o.x1,o.y1,o.x2,o.y2,o.x,o.y):o.type==="Q"?r+="Q"+n(o.x1,o.y1,o.x,o.y):o.type==="Z"&&(r+="Z")}return r};hi.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};hi.prototype.toDOMElement=function(t){var e=this.toPathData(t),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n};function une(t){throw new Error(t)}function Ste(t,e){t||une(e)}var _n={fail:une,argument:Ste,assert:Ste},bte=32768,wte=2147483648,Og={},Bt={},bn={};function fl(t){return function(){return t}}Bt.BYTE=function(t){return _n.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]};bn.BYTE=fl(1);Bt.CHAR=function(t){return[t.charCodeAt(0)]};bn.CHAR=fl(1);Bt.CHARARRAY=function(t){typeof t>"u"&&(t="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var e=[],n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e};bn.CHARARRAY=function(t){return typeof t>"u"?0:t.length};Bt.USHORT=function(t){return[t>>8&255,t&255]};bn.USHORT=fl(2);Bt.SHORT=function(t){return t>=bte&&(t=-(2*bte-t)),[t>>8&255,t&255]};bn.SHORT=fl(2);Bt.UINT24=function(t){return[t>>16&255,t>>8&255,t&255]};bn.UINT24=fl(3);Bt.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,t&255]};bn.ULONG=fl(4);Bt.LONG=function(t){return t>=wte&&(t=-(2*wte-t)),[t>>24&255,t>>16&255,t>>8&255,t&255]};bn.LONG=fl(4);Bt.FIXED=Bt.ULONG;bn.FIXED=bn.ULONG;Bt.FWORD=Bt.SHORT;bn.FWORD=bn.SHORT;Bt.UFWORD=Bt.USHORT;bn.UFWORD=bn.USHORT;Bt.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,t&255]};bn.LONGDATETIME=fl(8);Bt.TAG=function(t){return _n.argument(t.length===4,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]};bn.TAG=fl(4);Bt.Card8=Bt.BYTE;bn.Card8=bn.BYTE;Bt.Card16=Bt.USHORT;bn.Card16=bn.USHORT;Bt.OffSize=Bt.BYTE;bn.OffSize=bn.BYTE;Bt.SID=Bt.USHORT;bn.SID=bn.USHORT;Bt.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?(t=t-108,[(t>>8)+247,t&255]):t>=-1131&&t<=-108?(t=-t-108,[(t>>8)+251,t&255]):t>=-32768&&t<=32767?Bt.NUMBER16(t):Bt.NUMBER32(t)};bn.NUMBER=function(t){return Bt.NUMBER(t).length};Bt.NUMBER16=function(t){return[28,t>>8&255,t&255]};bn.NUMBER16=fl(3);Bt.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,t&255]};bn.NUMBER32=fl(5);Bt.REAL=function(t){var e=t.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));e=(Math.round(t*r)/r).toString()}for(var i="",o=0,s=e.length;o<s;o+=1){var a=e[o];a==="e"?i+=e[++o]==="-"?"c":"b":a==="."?i+="a":a==="-"?i+="e":i+=a}i+=i.length&1?"f":"ff";for(var l=[30],u=0,c=i.length;u<c;u+=2)l.push(parseInt(i.substr(u,2),16));return l};bn.REAL=function(t){return Bt.REAL(t).length};Bt.NAME=Bt.CHARARRAY;bn.NAME=bn.CHARARRAY;Bt.STRING=Bt.CHARARRAY;bn.STRING=bn.CHARARRAY;Og.UTF8=function(t,e,n){for(var r=[],i=n,o=0;o<i;o++,e+=1)r[o]=t.getUint8(e);return String.fromCharCode.apply(null,r)};Og.UTF16=function(t,e,n){for(var r=[],i=n/2,o=0;o<i;o++,e+=2)r[o]=t.getUint16(e);return String.fromCharCode.apply(null,r)};Bt.UTF16=function(t){for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e[e.length]=r>>8&255,e[e.length]=r&255}return e};bn.UTF16=function(t){return t.length*2};var s3={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"};Og.MACSTRING=function(t,e,n,r){var i=s3[r];if(i!==void 0){for(var o="",s=0;s<n;s++){var a=t.getUint8(e+s);a<=127?o+=String.fromCharCode(a):o+=i[a&127]}return o}};var YM=typeof WeakMap=="function"&&new WeakMap,qM,HEe=function(t){if(!qM){qM={};for(var e in s3)qM[e]=new String(e)}var n=qM[t];if(n!==void 0){if(YM){var r=YM.get(n);if(r!==void 0)return r}var i=s3[t];if(i!==void 0){for(var o={},s=0;s<i.length;s++)o[i.charCodeAt(s)]=s+128;return YM&&YM.set(n,o),o}}};Bt.MACSTRING=function(t,e){var n=HEe(e);if(n!==void 0){for(var r=[],i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=128&&(o=n[o],o===void 0))return;r[i]=o}return r}};bn.MACSTRING=function(t,e){var n=Bt.MACSTRING(t,e);return n!==void 0?n.length:0};function a3(t){return t>=-128&&t<=127}function VEe(t,e,n){for(var r=0,i=t.length;e<i&&r<64&&t[e]===0;)++e,++r;return n.push(128|r-1),e}function WEe(t,e,n){for(var r=0,i=t.length,o=e;o<i&&r<64;){var s=t[o];if(!a3(s)||s===0&&o+1<i&&t[o+1]===0)break;++o,++r}n.push(r-1);for(var a=e;a<o;++a)n.push(t[a]+256&255);return o}function GEe(t,e,n){for(var r=0,i=t.length,o=e;o<i&&r<64;){var s=t[o];if(s===0||a3(s)&&o+1<i&&a3(t[o+1]))break;++o,++r}n.push(64|r-1);for(var a=e;a<o;++a){var l=t[a];n.push(l+65536>>8&255,l+256&255)}return o}Bt.VARDELTAS=function(t){for(var e=0,n=[];e<t.length;){var r=t[e];r===0?e=VEe(t,e,n):r>=-128&&r<=127?e=WEe(t,e,n):e=GEe(t,e,n)}return n};Bt.INDEX=function(t){for(var e=1,n=[e],r=[],i=0;i<t.length;i+=1){var o=Bt.OBJECT(t[i]);Array.prototype.push.apply(r,o),e+=o.length,n.push(e)}if(r.length===0)return[0,0];for(var s=[],a=1+Math.floor(Math.log(e)/Math.log(2))/8|0,l=[void 0,Bt.BYTE,Bt.USHORT,Bt.UINT24,Bt.ULONG][a],u=0;u<n.length;u+=1){var c=l(n[u]);Array.prototype.push.apply(s,c)}return Array.prototype.concat(Bt.Card16(t.length),Bt.OffSize(a),s,r)};bn.INDEX=function(t){return Bt.INDEX(t).length};Bt.DICT=function(t){for(var e=[],n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=parseInt(n[i],0),s=t[o];e=e.concat(Bt.OPERAND(s.value,s.type)),e=e.concat(Bt.OPERATOR(o))}return e};bn.DICT=function(t){return Bt.DICT(t).length};Bt.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]};Bt.OPERAND=function(t,e){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r+=1)_n.argument(t.length===e.length,"Not enough arguments given for type"+e),n=n.concat(Bt.OPERAND(t[r],e[r]));else if(e==="SID")n=n.concat(Bt.NUMBER(t));else if(e==="offset")n=n.concat(Bt.NUMBER32(t));else if(e==="number")n=n.concat(Bt.NUMBER(t));else if(e==="real")n=n.concat(Bt.REAL(t));else throw new Error("Unknown operand type "+e);return n};Bt.OP=Bt.BYTE;bn.OP=bn.BYTE;var ZM=typeof WeakMap=="function"&&new WeakMap;Bt.CHARSTRING=function(t){if(ZM){var e=ZM.get(t);if(e!==void 0)return e}for(var n=[],r=t.length,i=0;i<r;i+=1){var o=t[i];n=n.concat(Bt[o.type](o.value))}return ZM&&ZM.set(t,n),n};bn.CHARSTRING=function(t){return Bt.CHARSTRING(t).length};Bt.OBJECT=function(t){var e=Bt[t.type];return _n.argument(e!==void 0,"No encoding function for type "+t.type),e(t.value)};bn.OBJECT=function(t){var e=bn[t.type];return _n.argument(e!==void 0,"No sizeOf function for type "+t.type),e(t.value)};Bt.TABLE=function(t){for(var e=[],n=t.fields.length,r=[],i=[],o=0;o<n;o+=1){var s=t.fields[o],a=Bt[s.type];_n.argument(a!==void 0,"No encoding function for field type "+s.type+" ("+s.name+")");var l=t[s.name];l===void 0&&(l=s.value);var u=a(l);s.type==="TABLE"?(i.push(e.length),e=e.concat([0,0]),r.push(u)):e=e.concat(u)}for(var c=0;c<r.length;c+=1){var h=i[c],p=e.length;_n.argument(p<65536,"Table "+t.tableName+" too big."),e[h]=p>>8,e[h+1]=p&255,e=e.concat(r[c])}return e};bn.TABLE=function(t){for(var e=0,n=t.fields.length,r=0;r<n;r+=1){var i=t.fields[r],o=bn[i.type];_n.argument(o!==void 0,"No sizeOf function for field type "+i.type+" ("+i.name+")");var s=t[i.name];s===void 0&&(s=i.value),e+=o(s),i.type==="TABLE"&&(e+=2)}return e};Bt.RECORD=Bt.TABLE;bn.RECORD=bn.TABLE;Bt.LITERAL=function(t){return t};bn.LITERAL=function(t){return t.length};function Ki(t,e,n){if(e.length&&(e[0].name!=="coverageFormat"||e[0].value===1))for(var r=0;r<e.length;r+=1){var i=e[r];this[i.name]=i.value}if(this.tableName=t,this.fields=e,n)for(var o=Object.keys(n),s=0;s<o.length;s+=1){var a=o[s],l=n[a];this[a]!==void 0&&(this[a]=l)}}Ki.prototype.encode=function(){return Bt.TABLE(this)};Ki.prototype.sizeOf=function(){return bn.TABLE(this)};function Gx(t,e,n){n===void 0&&(n=e.length);var r=new Array(e.length+1);r[0]={name:t+"Count",type:"USHORT",value:n};for(var i=0;i<e.length;i++)r[i+1]={name:t+i,type:"USHORT",value:e[i]};return r}function l3(t,e,n){var r=e.length,i=new Array(r+1);i[0]={name:t+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i[o+1]={name:t+o,type:"TABLE",value:n(e[o],o)};return i}function $x(t,e,n){var r=e.length,i=[];i[0]={name:t+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i=i.concat(n(e[o],o));return i}function tA(t){t.format===1?Ki.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Gx("glyph",t.glyphs))):t.format===2?Ki.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat($x("rangeRecord",t.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):_n.assert(!1,"Coverage format must be 1 or 2.")}tA.prototype=Object.create(Ki.prototype);tA.prototype.constructor=tA;function nA(t){Ki.call(this,"scriptListTable",$x("scriptRecord",t,function(e,n){var r=e.script,i=r.defaultLangSys;return _n.assert(!!i,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+n,type:"TAG",value:e.tag},{name:"script"+n,type:"TABLE",value:new Ki("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Ki("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(Gx("featureIndex",i.featureIndexes)))}].concat($x("langSys",r.langSysRecords,function(o,s){var a=o.langSys;return[{name:"langSysTag"+s,type:"TAG",value:o.tag},{name:"langSys"+s,type:"TABLE",value:new Ki("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat(Gx("featureIndex",a.featureIndexes)))}]})))}]}))}nA.prototype=Object.create(Ki.prototype);nA.prototype.constructor=nA;function rA(t){Ki.call(this,"featureListTable",$x("featureRecord",t,function(e,n){var r=e.feature;return[{name:"featureTag"+n,type:"TAG",value:e.tag},{name:"feature"+n,type:"TABLE",value:new Ki("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(Gx("lookupListIndex",r.lookupListIndexes)))}]}))}rA.prototype=Object.create(Ki.prototype);rA.prototype.constructor=rA;function iA(t,e){Ki.call(this,"lookupListTable",l3("lookup",t,function(n){var r=e[n.lookupType];return _n.assert(!!r,"Unable to write GSUB lookup type "+n.lookupType+" tables."),new Ki("lookupTable",[{name:"lookupType",type:"USHORT",value:n.lookupType},{name:"lookupFlag",type:"USHORT",value:n.lookupFlag}].concat(l3("subtable",n.subtables,r)))}))}iA.prototype=Object.create(Ki.prototype);iA.prototype.constructor=iA;var qt={Table:Ki,Record:Ki,Coverage:tA,ScriptList:nA,FeatureList:rA,LookupList:iA,ushortList:Gx,tableList:l3,recordList:$x};function Ete(t,e){return t.getUint8(e)}function oA(t,e){return t.getUint16(e,!1)}function $Ee(t,e){return t.getInt16(e,!1)}function v3(t,e){return t.getUint32(e,!1)}function cne(t,e){var n=t.getInt16(e,!1),r=t.getUint16(e+2,!1);return n+r/65535}function XEe(t,e){for(var n="",r=e;r<e+4;r+=1)n+=String.fromCharCode(t.getInt8(r));return n}function jEe(t,e,n){for(var r=0,i=0;i<n;i+=1)r<<=8,r+=t.getUint8(e+i);return r}function YEe(t,e,n){for(var r=[],i=e;i<n;i+=1)r.push(t.getUint8(i));return r}function qEe(t){for(var e="",n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e}var ZEe={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ye(t,e){this.data=t,this.offset=e,this.relativeOffset=0}Ye.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};Ye.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};Ye.prototype.parseCard8=Ye.prototype.parseByte;Ye.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};Ye.prototype.parseCard16=Ye.prototype.parseUShort;Ye.prototype.parseSID=Ye.prototype.parseUShort;Ye.prototype.parseOffset16=Ye.prototype.parseUShort;Ye.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};Ye.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t};Ye.prototype.parseULong=function(){var t=v3(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};Ye.prototype.parseOffset32=Ye.prototype.parseULong;Ye.prototype.parseFixed=function(){var t=cne(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};Ye.prototype.parseString=function(t){var e=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=t;for(var i=0;i<t;i++)r+=String.fromCharCode(e.getUint8(n+i));return r};Ye.prototype.parseTag=function(){return this.parseString(4)};Ye.prototype.parseLongDateTime=function(){var t=v3(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t};Ye.prototype.parseVersion=function(t){var e=oA(this.data,this.offset+this.relativeOffset),n=oA(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t===void 0&&(t=4096),e+n/t/10};Ye.prototype.skip=function(t,e){e===void 0&&(e=1),this.relativeOffset+=ZEe[t]*e};Ye.prototype.parseULongList=function(t){t===void 0&&(t=this.parseULong());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint32(r),r+=4;return this.relativeOffset+=t*4,e};Ye.prototype.parseOffset16List=Ye.prototype.parseUShortList=function(t){t===void 0&&(t=this.parseUShort());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint16(r),r+=2;return this.relativeOffset+=t*2,e};Ye.prototype.parseShortList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getInt16(r),r+=2;return this.relativeOffset+=t*2,e};Ye.prototype.parseByteList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint8(r++);return this.relativeOffset+=t,e};Ye.prototype.parseList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};Ye.prototype.parseList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};Ye.prototype.parseRecordList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var o={},s=0;s<r.length;s++){var a=r[s],l=e[a];o[a]=l.call(this)}n[i]=o}return n};Ye.prototype.parseRecordList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var o={},s=0;s<r.length;s++){var a=r[s],l=e[a];o[a]=l.call(this)}n[i]=o}return n};Ye.prototype.parseStruct=function(t){if(typeof t=="function")return t.call(this);for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r],o=t[i];n[i]=o.call(this)}return n};Ye.prototype.parseValueRecord=function(t){if(t===void 0&&(t=this.parseUShort()),t!==0){var e={};return t&1&&(e.xPlacement=this.parseShort()),t&2&&(e.yPlacement=this.parseShort()),t&4&&(e.xAdvance=this.parseShort()),t&8&&(e.yAdvance=this.parseShort()),t&16&&(e.xPlaDevice=void 0,this.parseShort()),t&32&&(e.yPlaDevice=void 0,this.parseShort()),t&64&&(e.xAdvDevice=void 0,this.parseShort()),t&128&&(e.yAdvDevice=void 0,this.parseShort()),e}};Ye.prototype.parseValueRecordList=function(){for(var t=this.parseUShort(),e=this.parseUShort(),n=new Array(e),r=0;r<e;r++)n[r]=this.parseValueRecord(t);return n};Ye.prototype.parsePointer=function(t){var e=this.parseOffset16();if(e>0)return new Ye(this.data,this.offset+e).parseStruct(t)};Ye.prototype.parsePointer32=function(t){var e=this.parseOffset32();if(e>0)return new Ye(this.data,this.offset+e).parseStruct(t)};Ye.prototype.parseListOfLists=function(t){for(var e=this.parseOffset16List(),n=e.length,r=this.relativeOffset,i=new Array(n),o=0;o<n;o++){var s=e[o];if(s===0){i[o]=void 0;continue}if(this.relativeOffset=s,t){for(var a=this.parseOffset16List(),l=new Array(a.length),u=0;u<a.length;u++)this.relativeOffset=s+a[u],l[u]=t.call(this);i[o]=l}else i[o]=this.parseUShortList()}return this.relativeOffset=r,i};Ye.prototype.parseCoverage=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort(),n=this.parseUShort();if(e===1)return{format:1,glyphs:this.parseUShortList(n)};if(e===2){for(var r=new Array(n),i=0;i<n;i++)r[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+t.toString(16)+": Coverage format must be 1 or 2.")};Ye.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(e===2)return{format:2,ranges:this.parseRecordList({start:Ye.uShort,end:Ye.uShort,classId:Ye.uShort})};throw new Error("0x"+t.toString(16)+": ClassDef format must be 1 or 2.")};Ye.list=function(t,e){return function(){return this.parseList(t,e)}};Ye.list32=function(t,e){return function(){return this.parseList32(t,e)}};Ye.recordList=function(t,e){return function(){return this.parseRecordList(t,e)}};Ye.recordList32=function(t,e){return function(){return this.parseRecordList32(t,e)}};Ye.pointer=function(t){return function(){return this.parsePointer(t)}};Ye.pointer32=function(t){return function(){return this.parsePointer32(t)}};Ye.tag=Ye.prototype.parseTag;Ye.byte=Ye.prototype.parseByte;Ye.uShort=Ye.offset16=Ye.prototype.parseUShort;Ye.uShortList=Ye.prototype.parseUShortList;Ye.uLong=Ye.offset32=Ye.prototype.parseULong;Ye.uLongList=Ye.prototype.parseULongList;Ye.struct=Ye.prototype.parseStruct;Ye.coverage=Ye.prototype.parseCoverage;Ye.classDef=Ye.prototype.parseClassDef;var Tte={reserved:Ye.uShort,reqFeatureIndex:Ye.uShort,featureIndexes:Ye.uShortList};Ye.prototype.parseScriptList=function(){return this.parsePointer(Ye.recordList({tag:Ye.tag,script:Ye.pointer({defaultLangSys:Ye.pointer(Tte),langSysRecords:Ye.recordList({tag:Ye.tag,langSys:Ye.pointer(Tte)})})}))||[]};Ye.prototype.parseFeatureList=function(){return this.parsePointer(Ye.recordList({tag:Ye.tag,feature:Ye.pointer({featureParams:Ye.offset16,lookupListIndexes:Ye.uShortList})}))||[]};Ye.prototype.parseLookupList=function(t){return this.parsePointer(Ye.list(Ye.pointer(function(){var e=this.parseUShort();_n.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var n=this.parseUShort(),r=n&16;return{lookupType:e,lookupFlag:n,subtables:this.parseList(Ye.pointer(t[e])),markFilteringSet:r?this.parseUShort():void 0}})))||[]};Ye.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var t=this.parseUShort(),e=this.parseUShort();_n.argument(t===1&&e<1,"GPOS/GSUB feature variations table unknown.");var n=this.parseRecordList32({conditionSetOffset:Ye.offset32,featureTableSubstitutionOffset:Ye.offset32});return n})||[]};var tn={getByte:Ete,getCard8:Ete,getUShort:oA,getCard16:oA,getShort:$Ee,getULong:v3,getFixed:cne,getTag:XEe,getOffset:jEe,getBytes:YEe,bytesToString:qEe,Parser:Ye};function KEe(t,e){e.parseUShort(),t.length=e.parseULong(),t.language=e.parseULong();var n;t.groupCount=n=e.parseULong(),t.glyphIndexMap={};for(var r=0;r<n;r+=1)for(var i=e.parseULong(),o=e.parseULong(),s=e.parseULong(),a=i;a<=o;a+=1)t.glyphIndexMap[a]=s,s++}function JEe(t,e,n,r,i){t.length=e.parseUShort(),t.language=e.parseUShort();var o;t.segCount=o=e.parseUShort()>>1,e.skip("uShort",3),t.glyphIndexMap={};for(var s=new tn.Parser(n,r+i+14),a=new tn.Parser(n,r+i+16+o*2),l=new tn.Parser(n,r+i+16+o*4),u=new tn.Parser(n,r+i+16+o*6),c=r+i+16+o*8,h=0;h<o-1;h+=1)for(var p=void 0,d=s.parseUShort(),v=a.parseUShort(),b=l.parseShort(),S=u.parseUShort(),y=v;y<=d;y+=1)S!==0?(c=u.offset+u.relativeOffset-2,c+=S,c+=(y-v)*2,p=tn.getUShort(n,c),p!==0&&(p=p+b&65535)):p=y+b&65535,t.glyphIndexMap[y]=p}function QEe(t,e){var n={};n.version=tn.getUShort(t,e),_n.argument(n.version===0,"cmap table version should be 0."),n.numTables=tn.getUShort(t,e+2);for(var r=-1,i=n.numTables-1;i>=0;i-=1){var o=tn.getUShort(t,e+4+i*8),s=tn.getUShort(t,e+4+i*8+2);if(o===3&&(s===0||s===1||s===10)||o===0&&(s===0||s===1||s===2||s===3||s===4)){r=tn.getULong(t,e+4+i*8+4);break}}if(r===-1)throw new Error("No valid cmap sub-tables found.");var a=new tn.Parser(t,e+r);if(n.format=a.parseUShort(),n.format===12)KEe(n,a);else if(n.format===4)JEe(n,a,t,e,r);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n}function eTe(t,e,n){t.segments.push({end:e,start:e,delta:-(e-n),offset:0,glyphIndex:n})}function tTe(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}function nTe(t){var e=!0,n;for(n=t.length-1;n>0;n-=1){var r=t.get(n);if(r.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),e=!1;break}}var i=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:e?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:e?12:20}];e||(i=i.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),i=i.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var o=new qt.Table("cmap",i);for(o.segments=[],n=0;n<t.length;n+=1){for(var s=t.get(n),a=0;a<s.unicodes.length;a+=1)eTe(o,s.unicodes[a],n);o.segments=o.segments.sort(function(T,E){return T.start-E.start})}tTe(o);var l=o.segments.length,u=0,c=[],h=[],p=[],d=[],v=[],b=[];for(n=0;n<l;n+=1){var S=o.segments[n];S.end<=65535&&S.start<=65535?(c=c.concat({name:"end_"+n,type:"USHORT",value:S.end}),h=h.concat({name:"start_"+n,type:"USHORT",value:S.start}),p=p.concat({name:"idDelta_"+n,type:"SHORT",value:S.delta}),d=d.concat({name:"idRangeOffset_"+n,type:"USHORT",value:S.offset}),S.glyphId!==void 0&&(v=v.concat({name:"glyph_"+n,type:"USHORT",value:S.glyphId}))):u+=1,!e&&S.glyphIndex!==void 0&&(b=b.concat({name:"cmap12Start_"+n,type:"ULONG",value:S.start}),b=b.concat({name:"cmap12End_"+n,type:"ULONG",value:S.end}),b=b.concat({name:"cmap12Glyph_"+n,type:"ULONG",value:S.glyphIndex}))}if(o.segCountX2=(l-u)*2,o.searchRange=Math.pow(2,Math.floor(Math.log(l-u)/Math.log(2)))*2,o.entrySelector=Math.log(o.searchRange/2)/Math.log(2),o.rangeShift=o.segCountX2-o.searchRange,o.fields=o.fields.concat(c),o.fields.push({name:"reservedPad",type:"USHORT",value:0}),o.fields=o.fields.concat(h),o.fields=o.fields.concat(p),o.fields=o.fields.concat(d),o.fields=o.fields.concat(v),o.cmap4Length=14+c.length*2+2+h.length*2+p.length*2+d.length*2+v.length*2,!e){var y=16+b.length*4;o.cmap12Offset=12+2*2+4+o.cmap4Length,o.fields=o.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:y},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:b.length/3}]),o.fields=o.fields.concat(b)}return o}var fne={parse:QEe,make:nTe},QM=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],rTe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],iTe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],wp=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function hne(t){this.font=t}hne.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.font.glyphs;if(n){for(var r=0;r<n.length;r+=1)for(var i=n.get(r),o=0;o<i.unicodes.length;o+=1)if(i.unicodes[o]===e)return r}return null};function pne(t){this.cmap=t}pne.prototype.charToGlyphIndex=function(t){return this.cmap.glyphIndexMap[t.codePointAt(0)]||0};function sA(t,e){this.encoding=t,this.charset=e}sA.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.encoding[e];return this.charset.indexOf(n)};function y3(t){switch(t.version){case 1:this.names=wp.slice();break;case 2:this.names=new Array(t.numberOfGlyphs);for(var e=0;e<t.numberOfGlyphs;e++)t.glyphNameIndex[e]<wp.length?this.names[e]=wp[t.glyphNameIndex[e]]:this.names[e]=t.names[t.glyphNameIndex[e]-wp.length];break;case 2.5:this.names=new Array(t.numberOfGlyphs);for(var n=0;n<t.numberOfGlyphs;n++)this.names[n]=wp[n+t.glyphNameIndex[n]];break;case 3:this.names=[];break;default:this.names=[];break}}y3.prototype.nameToGlyphIndex=function(t){return this.names.indexOf(t)};y3.prototype.glyphIndexToName=function(t){return this.names[t]};function oTe(t){for(var e,n=t.tables.cmap.glyphIndexMap,r=Object.keys(n),i=0;i<r.length;i+=1){var o=r[i],s=n[o];e=t.glyphs.get(s),e.addUnicode(parseInt(o))}for(var a=0;a<t.glyphs.length;a+=1)e=t.glyphs.get(a),t.cffEncoding?t.isCIDFont?e.name="gid"+a:e.name=t.cffEncoding.charset[a]:t.glyphNames.names&&(e.name=t.glyphNames.glyphIndexToName(a))}function sTe(t){t._IndexToUnicodeMap={};for(var e=t.tables.cmap.glyphIndexMap,n=Object.keys(e),r=0;r<n.length;r+=1){var i=n[r],o=e[i];t._IndexToUnicodeMap[o]===void 0?t._IndexToUnicodeMap[o]={unicodes:[parseInt(i)]}:t._IndexToUnicodeMap[o].unicodes.push(parseInt(i))}}function aTe(t,e){e.lowMemory?sTe(t):oTe(t)}function lTe(t,e,n,r,i){t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),t.stroke()}var bp={line:lTe};function uTe(t,e){var n=e||new hi;return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(r){n=r}}}function xs(t){this.bindConstructorValues(t)}xs.prototype.bindConstructorValues=function(t){this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||t.unicode!==void 0?[t.unicode]:[],"xMin"in t&&(this.xMin=t.xMin),"yMin"in t&&(this.yMin=t.yMin),"xMax"in t&&(this.xMax=t.xMax),"yMax"in t&&(this.yMax=t.yMax),"advanceWidth"in t&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",uTe(this,t.path))};xs.prototype.addUnicode=function(t){this.unicodes.length===0&&(this.unicode=t),this.unicodes.push(t)};xs.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};xs.prototype.getPath=function(t,e,n,r,i){t=t!==void 0?t:0,e=e!==void 0?e:0,n=n!==void 0?n:72;var o,s;r||(r={});var a=r.xScale,l=r.yScale;if(r.hinting&&i&&i.hinting&&(s=this.path&&i.hinting.exec(this,n)),s)o=i.hinting.getCommands(s),t=Math.round(t),e=Math.round(e),a=l=1;else{o=this.path.commands;var u=1/(this.path.unitsPerEm||1e3)*n;a===void 0&&(a=u),l===void 0&&(l=u)}for(var c=new hi,h=0;h<o.length;h+=1){var p=o[h];p.type==="M"?c.moveTo(t+p.x*a,e+-p.y*l):p.type==="L"?c.lineTo(t+p.x*a,e+-p.y*l):p.type==="Q"?c.quadraticCurveTo(t+p.x1*a,e+-p.y1*l,t+p.x*a,e+-p.y*l):p.type==="C"?c.curveTo(t+p.x1*a,e+-p.y1*l,t+p.x2*a,e+-p.y2*l,t+p.x*a,e+-p.y*l):p.type==="Z"&&c.closePath()}return c};xs.prototype.getContours=function(){if(this.points===void 0)return[];for(var t=[],e=[],n=0;n<this.points.length;n+=1){var r=this.points[n];e.push(r),r.lastPointOfContour&&(t.push(e),e=[])}return _n.argument(e.length===0,"There are still points left in the current contour."),t};xs.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];i.type!=="Z"&&(e.push(i.x),n.push(i.y)),(i.type==="Q"||i.type==="C")&&(e.push(i.x1),n.push(i.y1)),i.type==="C"&&(e.push(i.x2),n.push(i.y2))}var o={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o};xs.prototype.draw=function(t,e,n,r,i){this.getPath(e,n,r,i).draw(t)};xs.prototype.drawPoints=function(t,e,n,r){function i(h,p,d,v){t.beginPath();for(var b=0;b<h.length;b+=1)t.moveTo(p+h[b].x*v,d+h[b].y*v),t.arc(p+h[b].x*v,d+h[b].y*v,2,0,Math.PI*2,!1);t.closePath(),t.fill()}e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24;for(var o=1/this.path.unitsPerEm*r,s=[],a=[],l=this.path,u=0;u<l.commands.length;u+=1){var c=l.commands[u];c.x!==void 0&&s.push({x:c.x,y:-c.y}),c.x1!==void 0&&a.push({x:c.x1,y:-c.y1}),c.x2!==void 0&&a.push({x:c.x2,y:-c.y2})}t.fillStyle="blue",i(s,e,n,o),t.fillStyle="red",i(a,e,n,o)};xs.prototype.drawMetrics=function(t,e,n,r){var i;e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24,i=1/this.path.unitsPerEm*r,t.lineWidth=1,t.strokeStyle="black",bp.line(t,e,-1e4,e,1e4),bp.line(t,-1e4,n,1e4,n);var o=this.xMin||0,s=this.yMin||0,a=this.xMax||0,l=this.yMax||0,u=this.advanceWidth||0;t.strokeStyle="blue",bp.line(t,e+o*i,-1e4,e+o*i,1e4),bp.line(t,e+a*i,-1e4,e+a*i,1e4),bp.line(t,-1e4,n+-s*i,1e4,n+-s*i),bp.line(t,-1e4,n+-l*i,1e4,n+-l*i),t.strokeStyle="green",bp.line(t,e+u*i,-1e4,e+u*i,1e4)};function KM(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(r){t[n]=r},enumerable:!0,configurable:!0})}function x3(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];r.path.unitsPerEm=t.unitsPerEm,this.glyphs[n]=r}this.length=e&&e.length||0}x3.prototype.get=function(t){if(this.glyphs[t]===void 0){this.font._push(t),typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());var e=this.glyphs[t],n=this.font._IndexToUnicodeMap[t];if(n)for(var r=0;r<n.unicodes.length;r++)e.addUnicode(n.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+t:e.name=this.font.cffEncoding.charset[t]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(t)),this.glyphs[t].advanceWidth=this.font._hmtxTableData[t].advanceWidth,this.glyphs[t].leftSideBearing=this.font._hmtxTableData[t].leftSideBearing}else typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());return this.glyphs[t]};x3.prototype.push=function(t,e){this.glyphs[t]=e,this.length++};function cTe(t,e){return new xs({index:e,font:t})}function fTe(t,e,n,r,i,o){return function(){var s=new xs({index:e,font:t});return s.path=function(){n(s,r,i);var a=o(t.glyphs,s);return a.unitsPerEm=t.unitsPerEm,a},KM(s,"xMin","_xMin"),KM(s,"xMax","_xMax"),KM(s,"yMin","_yMin"),KM(s,"yMax","_yMax"),s}}function hTe(t,e,n,r){return function(){var i=new xs({index:e,font:t});return i.path=function(){var o=n(t,i,r);return o.unitsPerEm=t.unitsPerEm,o},i}}var Jl={GlyphSet:x3,glyphLoader:cTe,ttfGlyphLoader:fTe,cffGlyphLoader:hTe};function dne(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1)if(!dne(t[n],e[n]))return!1;return!0}else return!1}function u3(t){var e;return t.length<1240?e=107:t.length<33900?e=1131:e=32768,e}function Df(t,e,n){var r=[],i=[],o=tn.getCard16(t,e),s,a;if(o!==0){var l=tn.getByte(t,e+2);s=e+(o+1)*l+2;for(var u=e+3,c=0;c<o+1;c+=1)r.push(tn.getOffset(t,u,l)),u+=l;a=s+r[o]}else a=e+2;for(var h=0;h<r.length-1;h+=1){var p=tn.getBytes(t,s+r[h],s+r[h+1]);n&&(p=n(p)),i.push(p)}return{objects:i,startOffset:e,endOffset:a}}function pTe(t,e){var n=[],r=tn.getCard16(t,e),i,o;if(r!==0){var s=tn.getByte(t,e+2);i=e+(r+1)*s+2;for(var a=e+3,l=0;l<r+1;l+=1)n.push(tn.getOffset(t,a,s)),a+=s;o=i+n[r]}else o=e+2;return{offsets:n,startOffset:e,endOffset:o}}function dTe(t,e,n,r,i){var o=tn.getCard16(n,r),s=0;if(o!==0){var a=tn.getByte(n,r+2);s=r+(o+1)*a+2}var l=tn.getBytes(n,s+e[t],s+e[t+1]);return i&&(l=i(l)),l}function mTe(t){for(var e="",n=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=t.parseByte(),o=i>>4,s=i&15;if(o===n||(e+=r[o],s===n))break;e+=r[s]}return parseFloat(e)}function gTe(t,e){var n,r,i,o;if(e===28)return n=t.parseByte(),r=t.parseByte(),n<<8|r;if(e===29)return n=t.parseByte(),r=t.parseByte(),i=t.parseByte(),o=t.parseByte(),n<<24|r<<16|i<<8|o;if(e===30)return mTe(t);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return n=t.parseByte(),(e-247)*256+n+108;if(e>=251&&e<=254)return n=t.parseByte(),-(e-251)*256-n-108;throw new Error("Invalid b0 "+e)}function vTe(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n][0],i=t[n][1],o=void 0;if(i.length===1?o=i[0]:o=i,e.hasOwnProperty(r)&&!isNaN(e[r]))throw new Error("Object "+e+" already has key "+r);e[r]=o}return e}function mne(t,e,n){e=e!==void 0?e:0;var r=new tn.Parser(t,e),i=[],o=[];for(n=n!==void 0?n:t.length;r.relativeOffset<n;){var s=r.parseByte();s<=21?(s===12&&(s=1200+r.parseByte()),i.push([s,o]),o=[]):o.push(gTe(r,s))}return vTe(i)}function Vx(t,e){return e<=390?e=QM[e]:e=t[e-391],e}function gne(t,e,n){for(var r={},i,o=0;o<e.length;o+=1){var s=e[o];if(Array.isArray(s.type)){var a=[];a.length=s.type.length;for(var l=0;l<s.type.length;l++)i=t[s.op]!==void 0?t[s.op][l]:void 0,i===void 0&&(i=s.value!==void 0&&s.value[l]!==void 0?s.value[l]:null),s.type[l]==="SID"&&(i=Vx(n,i)),a[l]=i;r[s.name]=a}else i=t[s.op],i===void 0&&(i=s.value!==void 0?s.value:null),s.type==="SID"&&(i=Vx(n,i)),r[s.name]=i}return r}function yTe(t,e){var n={};return n.formatMajor=tn.getCard8(t,e),n.formatMinor=tn.getCard8(t,e+1),n.size=tn.getCard8(t,e+2),n.offsetSize=tn.getCard8(t,e+3),n.startOffset=e,n.endOffset=e+4,n}var vne=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],yne=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function xTe(t,e){var n=mne(t,0,t.byteLength);return gne(n,vne,e)}function xne(t,e,n,r){var i=mne(t,e,n);return gne(i,yne,r)}function Cte(t,e,n,r){for(var i=[],o=0;o<n.length;o+=1){var s=new DataView(new Uint8Array(n[o]).buffer),a=xTe(s,r);a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0;var l=a.private[0],u=a.private[1];if(l!==0&&u!==0){var c=xne(t,u+e,l,r);if(a._defaultWidthX=c.defaultWidthX,a._nominalWidthX=c.nominalWidthX,c.subrs!==0){var h=u+c.subrs,p=Df(t,h+e);a._subrs=p.objects,a._subrsBias=u3(a._subrs)}a._privateDict=c}i.push(a)}return i}function _Te(t,e,n,r){var i,o,s=new tn.Parser(t,e);n-=1;var a=[".notdef"],l=s.parseCard8();if(l===0)for(var u=0;u<n;u+=1)i=s.parseSID(),a.push(Vx(r,i));else if(l===1)for(;a.length<=n;){i=s.parseSID(),o=s.parseCard8();for(var c=0;c<=o;c+=1)a.push(Vx(r,i)),i+=1}else if(l===2)for(;a.length<=n;){i=s.parseSID(),o=s.parseCard16();for(var h=0;h<=o;h+=1)a.push(Vx(r,i)),i+=1}else throw new Error("Unknown charset format "+l);return a}function STe(t,e,n){var r,i={},o=new tn.Parser(t,e),s=o.parseCard8();if(s===0)for(var a=o.parseCard8(),l=0;l<a;l+=1)r=o.parseCard8(),i[r]=l;else if(s===1){var u=o.parseCard8();r=1;for(var c=0;c<u;c+=1)for(var h=o.parseCard8(),p=o.parseCard8(),d=h;d<=h+p;d+=1)i[d]=r,r+=1}else throw new Error("Unknown encoding format "+s);return new sA(i,n)}function Mte(t,e,n){var r,i,o,s,a=new hi,l=[],u=0,c=!1,h=!1,p=0,d=0,v,b,S,y;if(t.isCIDFont){var T=t.tables.cff.topDict._fdSelect[e.index],E=t.tables.cff.topDict._fdArray[T];v=E._subrs,b=E._subrsBias,S=E._defaultWidthX,y=E._nominalWidthX}else v=t.tables.cff.topDict._subrs,b=t.tables.cff.topDict._subrsBias,S=t.tables.cff.topDict._defaultWidthX,y=t.tables.cff.topDict._nominalWidthX;var A=S;function N(k,U){h&&a.closePath(),a.moveTo(k,U),h=!0}function x(){var k;k=l.length%2!==0,k&&!c&&(A=l.shift()+y),u+=l.length>>1,l.length=0,c=!0}function D(k){for(var U,L,j,ie,se,fe,_e,J,te,ne,xe,Ce,Le=0;Le<k.length;){var rt=k[Le];switch(Le+=1,rt){case 1:x();break;case 3:x();break;case 4:l.length>1&&!c&&(A=l.shift()+y,c=!0),d+=l.pop(),N(p,d);break;case 5:for(;l.length>0;)p+=l.shift(),d+=l.shift(),a.lineTo(p,d);break;case 6:for(;l.length>0&&(p+=l.shift(),a.lineTo(p,d),l.length!==0);)d+=l.shift(),a.lineTo(p,d);break;case 7:for(;l.length>0&&(d+=l.shift(),a.lineTo(p,d),l.length!==0);)p+=l.shift(),a.lineTo(p,d);break;case 8:for(;l.length>0;)r=p+l.shift(),i=d+l.shift(),o=r+l.shift(),s=i+l.shift(),p=o+l.shift(),d=s+l.shift(),a.curveTo(r,i,o,s,p,d);break;case 10:se=l.pop()+b,fe=v[se],fe&&D(fe);break;case 11:return;case 12:switch(rt=k[Le],Le+=1,rt){case 35:r=p+l.shift(),i=d+l.shift(),o=r+l.shift(),s=i+l.shift(),_e=o+l.shift(),J=s+l.shift(),te=_e+l.shift(),ne=J+l.shift(),xe=te+l.shift(),Ce=ne+l.shift(),p=xe+l.shift(),d=Ce+l.shift(),l.shift(),a.curveTo(r,i,o,s,_e,J),a.curveTo(te,ne,xe,Ce,p,d);break;case 34:r=p+l.shift(),i=d,o=r+l.shift(),s=i+l.shift(),_e=o+l.shift(),J=s,te=_e+l.shift(),ne=s,xe=te+l.shift(),Ce=d,p=xe+l.shift(),a.curveTo(r,i,o,s,_e,J),a.curveTo(te,ne,xe,Ce,p,d);break;case 36:r=p+l.shift(),i=d+l.shift(),o=r+l.shift(),s=i+l.shift(),_e=o+l.shift(),J=s,te=_e+l.shift(),ne=s,xe=te+l.shift(),Ce=ne+l.shift(),p=xe+l.shift(),a.curveTo(r,i,o,s,_e,J),a.curveTo(te,ne,xe,Ce,p,d);break;case 37:r=p+l.shift(),i=d+l.shift(),o=r+l.shift(),s=i+l.shift(),_e=o+l.shift(),J=s+l.shift(),te=_e+l.shift(),ne=J+l.shift(),xe=te+l.shift(),Ce=ne+l.shift(),Math.abs(xe-p)>Math.abs(Ce-d)?p=xe+l.shift():d=Ce+l.shift(),a.curveTo(r,i,o,s,_e,J),a.curveTo(te,ne,xe,Ce,p,d);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+rt),l.length=0}break;case 14:l.length>0&&!c&&(A=l.shift()+y,c=!0),h&&(a.closePath(),h=!1);break;case 18:x();break;case 19:case 20:x(),Le+=u+7>>3;break;case 21:l.length>2&&!c&&(A=l.shift()+y,c=!0),d+=l.pop(),p+=l.pop(),N(p,d);break;case 22:l.length>1&&!c&&(A=l.shift()+y,c=!0),p+=l.pop(),N(p,d);break;case 23:x();break;case 24:for(;l.length>2;)r=p+l.shift(),i=d+l.shift(),o=r+l.shift(),s=i+l.shift(),p=o+l.shift(),d=s+l.shift(),a.curveTo(r,i,o,s,p,d);p+=l.shift(),d+=l.shift(),a.lineTo(p,d);break;case 25:for(;l.length>6;)p+=l.shift(),d+=l.shift(),a.lineTo(p,d);r=p+l.shift(),i=d+l.shift(),o=r+l.shift(),s=i+l.shift(),p=o+l.shift(),d=s+l.shift(),a.curveTo(r,i,o,s,p,d);break;case 26:for(l.length%2&&(p+=l.shift());l.length>0;)r=p,i=d+l.shift(),o=r+l.shift(),s=i+l.shift(),p=o,d=s+l.shift(),a.curveTo(r,i,o,s,p,d);break;case 27:for(l.length%2&&(d+=l.shift());l.length>0;)r=p+l.shift(),i=d,o=r+l.shift(),s=i+l.shift(),p=o+l.shift(),d=s,a.curveTo(r,i,o,s,p,d);break;case 28:U=k[Le],L=k[Le+1],l.push((U<<24|L<<16)>>16),Le+=2;break;case 29:se=l.pop()+t.gsubrsBias,fe=t.gsubrs[se],fe&&D(fe);break;case 30:for(;l.length>0&&(r=p,i=d+l.shift(),o=r+l.shift(),s=i+l.shift(),p=o+l.shift(),d=s+(l.length===1?l.shift():0),a.curveTo(r,i,o,s,p,d),l.length!==0);)r=p+l.shift(),i=d,o=r+l.shift(),s=i+l.shift(),d=s+l.shift(),p=o+(l.length===1?l.shift():0),a.curveTo(r,i,o,s,p,d);break;case 31:for(;l.length>0&&(r=p+l.shift(),i=d,o=r+l.shift(),s=i+l.shift(),d=s+l.shift(),p=o+(l.length===1?l.shift():0),a.curveTo(r,i,o,s,p,d),l.length!==0);)r=p,i=d+l.shift(),o=r+l.shift(),s=i+l.shift(),p=o+l.shift(),d=s+(l.length===1?l.shift():0),a.curveTo(r,i,o,s,p,d);break;default:rt<32?console.log("Glyph "+e.index+": unknown operator "+rt):rt<247?l.push(rt-139):rt<251?(U=k[Le],Le+=1,l.push((rt-247)*256+U+108)):rt<255?(U=k[Le],Le+=1,l.push(-(rt-251)*256-U-108)):(U=k[Le],L=k[Le+1],j=k[Le+2],ie=k[Le+3],Le+=4,l.push((U<<24|L<<16|j<<8|ie)/65536))}}}return D(n),e.advanceWidth=A,a}function bTe(t,e,n,r){var i=[],o,s=new tn.Parser(t,e),a=s.parseCard8();if(a===0)for(var l=0;l<n;l++){if(o=s.parseCard8(),o>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+r+")");i.push(o)}else if(a===3){var u=s.parseCard16(),c=s.parseCard16();if(c!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var h,p=0;p<u;p++){if(o=s.parseCard8(),h=s.parseCard16(),o>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+r+")");if(h>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+h);for(;c<h;c++)i.push(o);c=h}if(h!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+h)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);return i}function wTe(t,e,n,r){n.tables.cff={};var i=yTe(t,e),o=Df(t,i.endOffset,tn.bytesToString),s=Df(t,o.endOffset),a=Df(t,s.endOffset,tn.bytesToString),l=Df(t,a.endOffset);n.gsubrs=l.objects,n.gsubrsBias=u3(n.gsubrs);var u=Cte(t,e,s.objects,a.objects);if(u.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+u.length);var c=u[0];if(n.tables.cff.topDict=c,c._privateDict&&(n.defaultWidthX=c._privateDict.defaultWidthX,n.nominalWidthX=c._privateDict.nominalWidthX),c.ros[0]!==void 0&&c.ros[1]!==void 0&&(n.isCIDFont=!0),n.isCIDFont){var h=c.fdArray,p=c.fdSelect;if(h===0||p===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");h+=e;var d=Df(t,h),v=Cte(t,e,d.objects,a.objects);c._fdArray=v,p+=e,c._fdSelect=bTe(t,p,n.numGlyphs,v.length)}var b=e+c.private[1],S=xne(t,b,c.private[0],a.objects);if(n.defaultWidthX=S.defaultWidthX,n.nominalWidthX=S.nominalWidthX,S.subrs!==0){var y=b+S.subrs,T=Df(t,y);n.subrs=T.objects,n.subrsBias=u3(n.subrs)}else n.subrs=[],n.subrsBias=0;var E;r.lowMemory?(E=pTe(t,e+c.charStrings),n.nGlyphs=E.offsets.length):(E=Df(t,e+c.charStrings),n.nGlyphs=E.objects.length);var A=_Te(t,e+c.charset,n.nGlyphs,a.objects);if(c.encoding===0?n.cffEncoding=new sA(rTe,A):c.encoding===1?n.cffEncoding=new sA(iTe,A):n.cffEncoding=STe(t,e+c.encoding,A),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new Jl.GlyphSet(n),r.lowMemory)n._push=function(D){var k=dTe(D,E.offsets,t,e+c.charStrings);n.glyphs.push(D,Jl.cffGlyphLoader(n,D,Mte,k))};else for(var N=0;N<n.nGlyphs;N+=1){var x=E.objects[N];n.glyphs.push(N,Jl.cffGlyphLoader(n,N,Mte,x))}}function _ne(t,e){var n,r=QM.indexOf(t);return r>=0&&(n=r),r=e.indexOf(t),r>=0?n=r+QM.length:(n=QM.length+e.length,e.push(t)),n}function ETe(){return new qt.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function TTe(t){var e=new qt.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var n=0;n<t.length;n+=1)e.names.push({name:"name_"+n,type:"NAME",value:t[n]});return e}function Sne(t,e,n){for(var r={},i=0;i<t.length;i+=1){var o=t[i],s=e[o.name];s!==void 0&&!dne(s,o.value)&&(o.type==="SID"&&(s=_ne(s,n)),r[o.op]={name:o.name,type:o.type,value:s})}return r}function Ate(t,e){var n=new qt.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=Sne(vne,t,e),n}function Pte(t){var e=new qt.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function CTe(t){var e=new qt.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var n=0;n<t.length;n+=1)e.strings.push({name:"string_"+n,type:"STRING",value:t[n]});return e}function MTe(){return new qt.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function ATe(t,e){for(var n=new qt.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<t.length;r+=1){var i=t[r],o=_ne(i,e);n.fields.push({name:"glyph_"+r,type:"SID",value:o})}return n}function PTe(t){var e=[],n=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var r=0,i=0,o=0;o<n.commands.length;o+=1){var s=void 0,a=void 0,l=n.commands[o];if(l.type==="Q"){var u=.3333333333333333,c=2/3;l={type:"C",x:l.x,y:l.y,x1:Math.round(u*r+c*l.x1),y1:Math.round(u*i+c*l.y1),x2:Math.round(u*l.x+c*l.x1),y2:Math.round(u*l.y+c*l.y1)}}if(l.type==="M")s=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:s}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="L")s=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:s}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="C"){var h=Math.round(l.x1-r),p=Math.round(l.y1-i),d=Math.round(l.x2-l.x1),v=Math.round(l.y2-l.y1);s=Math.round(l.x-l.x2),a=Math.round(l.y-l.y2),e.push({name:"dx1",type:"NUMBER",value:h}),e.push({name:"dy1",type:"NUMBER",value:p}),e.push({name:"dx2",type:"NUMBER",value:d}),e.push({name:"dy2",type:"NUMBER",value:v}),e.push({name:"dx",type:"NUMBER",value:s}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(l.x),i=Math.round(l.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function RTe(t){for(var e=new qt.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<t.length;n+=1){var r=t.get(n),i=PTe(r);e.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return e}function ITe(t,e){var n=new qt.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=Sne(yne,t,e),n}function NTe(t,e){for(var n=new qt.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),r=1/e.unitsPerEm,i={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o={},s=[],a,l=1;l<t.length;l+=1)a=t.get(l),s.push(a.name);var u=[];n.header=ETe(),n.nameIndex=TTe([e.postScriptName]);var c=Ate(i,u);n.topDictIndex=Pte(c),n.globalSubrIndex=MTe(),n.charsets=ATe(s,u),n.charStringsIndex=RTe(t),n.privateDict=ITe(o,u),n.stringIndex=CTe(u);var h=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return i.charset=h,i.encoding=0,i.charStrings=i.charset+n.charsets.sizeOf(),i.private[1]=i.charStrings+n.charStringsIndex.sizeOf(),c=Ate(i,u),n.topDictIndex=Pte(c),n}var bne={parse:wTe,make:NTe};function OTe(t,e){var n={},r=new tn.Parser(t,e);return n.version=r.parseVersion(),n.fontRevision=Math.round(r.parseFixed()*1e3)/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),_n.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n}function LTe(t){var e=Math.round(new Date().getTime()/1e3)+2082844800,n=e;return t.createdTimestamp&&(n=t.createdTimestamp+2082844800),new qt.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}var wne={parse:OTe,make:LTe};function DTe(t,e){var n={},r=new tn.Parser(t,e);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n}function kTe(t){return new qt.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}var Ene={parse:DTe,make:kTe};function FTe(t,e,n,r,i){for(var o,s,a=new tn.Parser(t,e),l=0;l<r;l+=1){l<n&&(o=a.parseUShort(),s=a.parseShort());var u=i.get(l);u.advanceWidth=o,u.leftSideBearing=s}}function UTe(t,e,n,r,i){t._hmtxTableData={};for(var o,s,a=new tn.Parser(e,n),l=0;l<i;l+=1)l<r&&(o=a.parseUShort(),s=a.parseShort()),t._hmtxTableData[l]={advanceWidth:o,leftSideBearing:s}}function BTe(t,e,n,r,i,o,s){s.lowMemory?UTe(t,e,n,r,i):FTe(e,n,r,i,o)}function zTe(t){for(var e=new qt.Table("hmtx",[]),n=0;n<t.length;n+=1){var r=t.get(n),i=r.advanceWidth||0,o=r.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),e.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:o})}return e}var Tne={parse:BTe,make:zTe};function HTe(t){for(var e=new qt.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),n="",r=12+t.length*4,i=0;i<t.length;++i){var o=n.indexOf(t[i]);o<0&&(o=n.length,n+=t[i]),e.fields.push({name:"offset "+i,type:"USHORT",value:r+o}),e.fields.push({name:"length "+i,type:"USHORT",value:t[i].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),e}function VTe(t,e){var n=new tn.Parser(t,e),r=n.parseULong();_n.argument(r===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var i=n.parseULong(),o=[],s=0;s<i;s++){for(var a="",l=e+n.parseUShort(),u=n.parseUShort(),c=l;c<l+u;++c)a+=String.fromCharCode(t.getInt8(c));o.push(a)}return o}var Cne={make:HTe,parse:VTe};function WTe(t,e){var n={},r=new tn.Parser(t,e);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),n.version===1&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n}function GTe(t){return new qt.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}var Mne={parse:WTe,make:GTe},Ane=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Pne={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},$Te={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Rne={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function XTe(t,e,n){switch(t){case 0:if(e===65535)return"und";if(n)return n[e];break;case 1:return Pne[e];case 3:return Rne[e]}}var c3="utf-16",jTe={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},YTe={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Ine(t,e,n){switch(t){case 0:return c3;case 1:return YTe[n]||jTe[e];case 3:if(e===1||e===10)return c3;break}}function qTe(t,e,n){for(var r={},i=new tn.Parser(t,e),o=i.parseUShort(),s=i.parseUShort(),a=i.offset+i.parseUShort(),l=0;l<s;l++){var u=i.parseUShort(),c=i.parseUShort(),h=i.parseUShort(),p=i.parseUShort(),d=Ane[p]||p,v=i.parseUShort(),b=i.parseUShort(),S=XTe(u,h,n),y=Ine(u,c,h);if(y!==void 0&&S!==void 0){var T=void 0;if(y===c3?T=Og.UTF16(t,a+b,v):T=Og.MACSTRING(t,a+b,v,y),T){var E=r[d];E===void 0&&(E=r[d]={}),E[S]=T}}}var A=0;return o===1&&(A=i.parseUShort()),r}function Kk(t){var e={};for(var n in t)e[t[n]]=parseInt(n);return e}function Rte(t,e,n,r,i,o){return new qt.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:o}])}function ZTe(t,e){var n=t.length,r=e.length-n+1;e:for(var i=0;i<r;i++)for(;i<r;i++){for(var o=0;o<n;o++)if(e[i+o]!==t[o])continue e;return i}return-1}function Ite(t,e){var n=ZTe(t,e);if(n<0){n=e.length;for(var r=0,i=t.length;r<i;++r)e.push(t[r])}return n}function KTe(t,e){var n,r=[],i={},o=Kk(Ane);for(var s in t){var a=o[s];if(a===void 0&&(a=s),n=parseInt(a),isNaN(n))throw new Error('Name table entry "'+s+'" does not exist, see nameTableNames for complete list.');i[n]=t[s],r.push(n)}for(var l=Kk(Pne),u=Kk(Rne),c=[],h=[],p=0;p<r.length;p++){n=r[p];var d=i[n];for(var v in d){var b=d[v],S=1,y=l[v],T=$Te[y],E=Ine(S,T,y),A=Bt.MACSTRING(b,E);A===void 0&&(S=0,y=e.indexOf(v),y<0&&(y=e.length,e.push(v)),T=4,A=Bt.UTF16(b));var N=Ite(A,h);c.push(Rte(S,T,y,n,A.length,N));var x=u[v];if(x!==void 0){var D=Bt.UTF16(b),k=Ite(D,h);c.push(Rte(3,1,x,n,D.length,k))}}}c.sort(function(j,ie){return j.platformID-ie.platformID||j.encodingID-ie.encodingID||j.languageID-ie.languageID||j.nameID-ie.nameID});for(var U=new qt.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:c.length},{name:"stringOffset",type:"USHORT",value:6+c.length*12}]),L=0;L<c.length;L++)U.fields.push({name:"record_"+L,type:"RECORD",value:c[L]});return U.fields.push({name:"strings",type:"LITERAL",value:h}),U}var Nne={parse:qTe,make:KTe},f3=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function JTe(t){for(var e=0;e<f3.length;e+=1){var n=f3[e];if(t>=n.begin&&t<n.end)return e}return-1}function QTe(t,e){var n={},r=new tn.Parser(t,e);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;i<10;i++)n.panose[i]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n}function eCe(t){return new qt.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)}var h3={parse:QTe,make:eCe,unicodeRanges:f3,getUnicodeRange:JTe};function tCe(t,e){var n={},r=new tn.Parser(t,e);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=wp.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var i=0;i<n.numberOfGlyphs;i++)n.glyphNameIndex[i]=r.parseUShort();n.names=[];for(var o=0;o<n.numberOfGlyphs;o++)if(n.glyphNameIndex[o]>=wp.length){var s=r.parseChar();n.names.push(r.parseString(s))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var a=0;a<n.numberOfGlyphs;a++)n.offset[a]=r.parseChar();break}return n}function nCe(){return new qt.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var One={parse:tCe,make:nCe},ll=new Array(9);ll[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(Ye.coverage),deltaGlyphId:this.parseUShort()};if(n===2)return{substFormat:2,coverage:this.parsePointer(Ye.coverage),substitute:this.parseOffset16List()};_n.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")};ll[2]=function(){var e=this.parseUShort();return _n.argument(e===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ye.coverage),sequences:this.parseListOfLists()}};ll[3]=function(){var e=this.parseUShort();return _n.argument(e===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ye.coverage),alternateSets:this.parseListOfLists()}};ll[4]=function(){var e=this.parseUShort();return _n.argument(e===1,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ye.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Ng={sequenceIndex:Ye.uShort,lookupListIndex:Ye.uShort};ll[5]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:n,coverage:this.parsePointer(Ye.coverage),ruleSets:this.parseListOfLists(function(){var o=this.parseUShort(),s=this.parseUShort();return{input:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(s,Ng)}})};if(n===2)return{substFormat:n,coverage:this.parsePointer(Ye.coverage),classDef:this.parsePointer(Ye.classDef),classSets:this.parseListOfLists(function(){var o=this.parseUShort(),s=this.parseUShort();return{classes:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(s,Ng)}})};if(n===3){var r=this.parseUShort(),i=this.parseUShort();return{substFormat:n,coverages:this.parseList(r,Ye.pointer(Ye.coverage)),lookupRecords:this.parseRecordList(i,Ng)}}_n.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};ll[6]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(Ye.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Ng)}})};if(n===2)return{substFormat:2,coverage:this.parsePointer(Ye.coverage),backtrackClassDef:this.parsePointer(Ye.classDef),inputClassDef:this.parsePointer(Ye.classDef),lookaheadClassDef:this.parsePointer(Ye.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Ng)}})};if(n===3)return{substFormat:3,backtrackCoverage:this.parseList(Ye.pointer(Ye.coverage)),inputCoverage:this.parseList(Ye.pointer(Ye.coverage)),lookaheadCoverage:this.parseList(Ye.pointer(Ye.coverage)),lookupRecords:this.parseRecordList(Ng)};_n.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};ll[7]=function(){var e=this.parseUShort();_n.argument(e===1,"GSUB Extension Substitution subtable identifier-format must be 1");var n=this.parseUShort(),r=new Ye(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:n,extension:ll[n].call(r)}};ll[8]=function(){var e=this.parseUShort();return _n.argument(e===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ye.coverage),backtrackCoverage:this.parseList(Ye.pointer(Ye.coverage)),lookaheadCoverage:this.parseList(Ye.pointer(Ye.coverage)),substitutes:this.parseUShortList()}};function rCe(t,e){e=e||0;var n=new Ye(t,e),r=n.parseVersion(1);return _n.argument(r===1||r===1.1,"Unsupported GSUB table version."),r===1?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(ll)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(ll),variations:n.parseFeatureVariationsList()}}var Lg=new Array(9);Lg[1]=function(e){return e.substFormat===1?new qt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new qt.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new qt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new qt.Coverage(e.coverage)}].concat(qt.ushortList("substitute",e.substitute)))};Lg[2]=function(e){return _n.assert(e.substFormat===1,"Lookup type 2 substFormat must be 1."),new qt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new qt.Coverage(e.coverage)}].concat(qt.tableList("seqSet",e.sequences,function(n){return new qt.Table("sequenceSetTable",qt.ushortList("sequence",n))})))};Lg[3]=function(e){return _n.assert(e.substFormat===1,"Lookup type 3 substFormat must be 1."),new qt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new qt.Coverage(e.coverage)}].concat(qt.tableList("altSet",e.alternateSets,function(n){return new qt.Table("alternateSetTable",qt.ushortList("alternate",n))})))};Lg[4]=function(e){return _n.assert(e.substFormat===1,"Lookup type 4 substFormat must be 1."),new qt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new qt.Coverage(e.coverage)}].concat(qt.tableList("ligSet",e.ligatureSets,function(n){return new qt.Table("ligatureSetTable",qt.tableList("ligature",n,function(r){return new qt.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:r.ligGlyph}].concat(qt.ushortList("component",r.components,r.components.length+1)))}))})))};Lg[6]=function(e){if(e.substFormat===1){var n=new qt.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new qt.Coverage(e.coverage)}].concat(qt.tableList("chainRuleSet",e.chainRuleSets,function(o){return new qt.Table("chainRuleSetTable",qt.tableList("chainRule",o,function(s){var a=qt.ushortList("backtrackGlyph",s.backtrack,s.backtrack.length).concat(qt.ushortList("inputGlyph",s.input,s.input.length+1)).concat(qt.ushortList("lookaheadGlyph",s.lookahead,s.lookahead.length)).concat(qt.ushortList("substitution",[],s.lookupRecords.length));return s.lookupRecords.forEach(function(l,u){a=a.concat({name:"sequenceIndex"+u,type:"USHORT",value:l.sequenceIndex}).concat({name:"lookupListIndex"+u,type:"USHORT",value:l.lookupListIndex})}),new qt.Table("chainRuleTable",a)}))})));return n}else if(e.substFormat===2)_n.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(e.substFormat===3){var r=[{name:"substFormat",type:"USHORT",value:e.substFormat}];r.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(o,s){r.push({name:"backtrackCoverage"+s,type:"TABLE",value:new qt.Coverage(o)})}),r.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(o,s){r.push({name:"inputCoverage"+s,type:"TABLE",value:new qt.Coverage(o)})}),r.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(o,s){r.push({name:"lookaheadCoverage"+s,type:"TABLE",value:new qt.Coverage(o)})}),r.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(o,s){r=r.concat({name:"sequenceIndex"+s,type:"USHORT",value:o.sequenceIndex}).concat({name:"lookupListIndex"+s,type:"USHORT",value:o.lookupListIndex})});var i=new qt.Table("chainContextTable",r);return i}_n.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function iCe(t){return new qt.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new qt.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new qt.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new qt.LookupList(t.lookups,Lg)}])}var Lne={parse:rCe,make:iCe};function oCe(t,e){var n=new tn.Parser(t,e),r=n.parseULong();_n.argument(r===1,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var i=n.parseULong(),o={},s=0;s<i;s++){var a=n.parseTag(),l=n.parseULong(),u=n.parseULong(),c=Og.UTF8(t,e+l,u);o[a]=c}return o}function sCe(t){var e=Object.keys(t).length,n="",r=16+e*12,i=new qt.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:e}]);for(var o in t){var s=n.length;n+=t[o],i.fields.push({name:"tag "+o,type:"TAG",value:o}),i.fields.push({name:"offset "+o,type:"ULONG",value:r+s}),i.fields.push({name:"length "+o,type:"ULONG",value:t[o].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),i}var Dne={parse:oCe,make:sCe};function Nte(t){return Math.log(t)/Math.log(2)|0}function _3(t){for(;t.length%4!==0;)t.push(0);for(var e=0,n=0;n<t.length;n+=4)e+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];return e%=Math.pow(2,32),e}function Ote(t,e,n,r){return new qt.Record("Table Record",[{name:"tag",type:"TAG",value:t!==void 0?t:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:n!==void 0?n:0},{name:"length",type:"ULONG",value:r!==void 0?r:0}])}function kne(t){var e=new qt.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;var n=Math.pow(2,Nte(e.numTables));e.searchRange=16*n,e.entrySelector=Nte(n),e.rangeShift=e.numTables*16-e.searchRange;for(var r=[],i=[],o=e.sizeOf()+Ote().sizeOf()*e.numTables;o%4!==0;)o+=1,i.push({name:"padding",type:"BYTE",value:0});for(var s=0;s<t.length;s+=1){var a=t[s];_n.argument(a.tableName.length===4,"Table name"+a.tableName+" is invalid.");var l=a.sizeOf(),u=Ote(a.tableName,_3(a.encode()),o,l);for(r.push({name:u.tag+" Table Record",type:"RECORD",value:u}),i.push({name:a.tableName+" table",type:"RECORD",value:a}),o+=l,_n.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!==0;)o+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort(function(c,h){return c.value.tag>h.value.tag?1:-1}),e.fields=e.fields.concat(r),e.fields=e.fields.concat(i),e}function Lte(t,e,n){for(var r=0;r<e.length;r+=1){var i=t.charToGlyphIndex(e[r]);if(i>0){var o=t.glyphs.get(i);return o.getMetrics()}}return n}function aCe(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length}function lCe(t){for(var e=[],n=[],r=[],i=[],o=[],s=[],a=[],l,u=0,c=0,h=0,p=0,d=0,v=0;v<t.glyphs.length;v+=1){var b=t.glyphs.get(v),S=b.unicode|0;if(isNaN(b.advanceWidth))throw new Error("Glyph "+b.name+" ("+v+"): advanceWidth is not a number.");(l>S||l===void 0)&&S>0&&(l=S),u<S&&(u=S);var y=h3.getUnicodeRange(S);if(y<32)c|=1<<y;else if(y<64)h|=1<<y-32;else if(y<96)p|=1<<y-64;else if(y<123)d|=1<<y-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(b.name!==".notdef"){var T=b.getMetrics();e.push(T.xMin),n.push(T.yMin),r.push(T.xMax),i.push(T.yMax),s.push(T.leftSideBearing),a.push(T.rightSideBearing),o.push(b.advanceWidth)}}var E={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,i),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:aCe(o),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,a)};E.ascender=t.ascender,E.descender=t.descender;var A=wne.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:E.xMin,yMin:E.yMin,xMax:E.xMax,yMax:E.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),N=Ene.make({ascender:E.ascender,descender:E.descender,advanceWidthMax:E.advanceWidthMax,minLeftSideBearing:E.minLeftSideBearing,minRightSideBearing:E.minRightSideBearing,xMaxExtent:E.maxLeftSideBearing+(E.xMax-E.xMin),numberOfHMetrics:t.glyphs.length}),x=Mne.make(t.glyphs.length),D=h3.make(Object.assign({xAvgCharWidth:Math.round(E.advanceWidthAvg),usFirstCharIndex:l,usLastCharIndex:u,ulUnicodeRange1:c,ulUnicodeRange2:h,ulUnicodeRange3:p,ulUnicodeRange4:d,sTypoAscender:E.ascender,sTypoDescender:E.descender,sTypoLineGap:0,usWinAscent:E.yMax,usWinDescent:Math.abs(E.yMin),ulCodePageRange1:1,sxHeight:Lte(t,"xyvw",{yMax:Math.round(E.ascender/2)}).yMax,sCapHeight:Lte(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",E).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0},t.tables.os2)),k=Tne.make(t.glyphs),U=fne.make(t.glyphs),L=t.getEnglishName("fontFamily"),j=t.getEnglishName("fontSubfamily"),ie=L+" "+j,se=t.getEnglishName("postScriptName");se||(se=L.replace(/\s/g,"")+"-"+j);var fe={};for(var _e in t.names)fe[_e]=t.names[_e];fe.uniqueID||(fe.uniqueID={en:t.getEnglishName("manufacturer")+":"+ie}),fe.postScriptName||(fe.postScriptName={en:se}),fe.preferredFamily||(fe.preferredFamily=t.names.fontFamily),fe.preferredSubfamily||(fe.preferredSubfamily=t.names.fontSubfamily);var J=[],te=Nne.make(fe,J),ne=J.length>0?Cne.make(J):void 0,xe=One.make(),Ce=bne.make(t.glyphs,{version:t.getEnglishName("version"),fullName:ie,familyName:L,weightName:j,postScriptName:se,unitsPerEm:t.unitsPerEm,fontBBox:[0,E.yMin,E.ascender,E.advanceWidthMax]}),Le=t.metas&&Object.keys(t.metas).length>0?Dne.make(t.metas):void 0,rt=[A,N,x,D,te,U,xe,Ce,k];ne&&rt.push(ne),t.tables.gsub&&rt.push(Lne.make(t.tables.gsub)),Le&&rt.push(Le);for(var ot=kne(rt),Ae=ot.encode(),ze=_3(Ae),je=ot.fields,it=!1,pt=0;pt<je.length;pt+=1)if(je[pt].name==="head table"){je[pt].value.checkSumAdjustment=2981146554-ze,it=!0;break}if(!it)throw new Error("Could not find head table with checkSum to adjust.");return ot}var uCe={make:kne,fontToTable:lCe,computeCheckSum:_3};function Jk(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,o=t[i].tag;if(o===e)return i;o<e?n=i+1:r=i-1}return-n-1}function Dte(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,o=t[i];if(o===e)return i;o<e?n=i+1:r=i-1}return-n-1}function kte(t,e){for(var n,r=0,i=t.length-1;r<=i;){var o=r+i>>>1;n=t[o];var s=n.start;if(s===e)return n;s<e?r=o+1:i=o-1}if(r>0)return n=t[r-1],e>n.end?0:n}function jx(t,e){this.font=t,this.tableName=e}jx.prototype={searchTag:Jk,binSearch:Dte,getTable:function(t){var e=this.font.tables[this.tableName];return!e&&t&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var e=!1,n=0;n<t.scripts.length;n++){var r=t.scripts[n].tag;if(r==="DFLT")return r;r==="latn"&&(e=!0)}if(e)return"latn"}},getScriptTable:function(t,e){var n=this.getTable(e);if(n){t=t||"DFLT";var r=n.scripts,i=Jk(n.scripts,t);if(i>=0)return r[i].script;if(e){var o={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-i,0,o),o.script}}},getLangSysTable:function(t,e,n){var r=this.getScriptTable(t,n);if(r){if(!e||e==="dflt"||e==="DFLT")return r.defaultLangSys;var i=Jk(r.langSysRecords,e);if(i>=0)return r.langSysRecords[i].langSys;if(n){var o={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-i,0,o),o.langSys}}},getFeatureTable:function(t,e,n,r){var i=this.getLangSysTable(t,e,r);if(i){for(var o,s=i.featureIndexes,a=this.font.tables[this.tableName].features,l=0;l<s.length;l++)if(o=a[s[l]],o.tag===n)return o.feature;if(r){var u=a.length;return _n.assert(u===0||n>=a[u-1].tag,"Features must be added in alphabetical order."),o={tag:n,feature:{params:0,lookupListIndexes:[]}},a.push(o),s.push(u),o.feature}}},getLookupTables:function(t,e,n,r,i){var o=this.getFeatureTable(t,e,n,i),s=[];if(o){for(var a,l=o.lookupListIndexes,u=this.font.tables[this.tableName].lookups,c=0;c<l.length;c++)a=u[l[c]],a.lookupType===r&&s.push(a);if(s.length===0&&i){a={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var h=u.length;return u.push(a),l.push(h),[a]}}return s},getGlyphClass:function(t,e){switch(t.format){case 1:return t.startGlyph<=e&&e<t.startGlyph+t.classes.length?t.classes[e-t.startGlyph]:0;case 2:var n=kte(t.ranges,e);return n?n.classId:0}},getCoverageIndex:function(t,e){switch(t.format){case 1:var n=Dte(t.glyphs,e);return n>=0?n:-1;case 2:var r=kte(t.ranges,e);return r?r.index+e-r.start:-1}},expandCoverage:function(t){if(t.format===1)return t.glyphs;for(var e=[],n=t.ranges,r=0;r<n.length;r++)for(var i=n[r],o=i.start,s=i.end,a=o;a<=s;a++)e.push(a);return e}};function Yx(t){jx.call(this,t,"gpos")}Yx.prototype=jx.prototype;Yx.prototype.init=function(){var t=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(t)};Yx.prototype.getKerningValue=function(t,e,n){for(var r=0;r<t.length;r++)for(var i=t[r].subtables,o=0;o<i.length;o++){var s=i[o],a=this.getCoverageIndex(s.coverage,e);if(!(a<0))switch(s.posFormat){case 1:for(var l=s.pairSets[a],u=0;u<l.length;u++){var c=l[u];if(c.secondGlyph===n)return c.value1&&c.value1.xAdvance||0}break;case 2:var h=this.getGlyphClass(s.classDef1,e),p=this.getGlyphClass(s.classDef2,n),d=s.classRecords[h][p];return d.value1&&d.value1.xAdvance||0}}return 0};Yx.prototype.getKerningTables=function(t,e){if(this.font.tables.gpos)return this.getLookupTables(t,e,"kern",2)};function Qs(t){jx.call(this,t,"gsub")}function cCe(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function S3(t,e,n){for(var r=t.subtables,i=0;i<r.length;i++){var o=r[i];if(o.substFormat===e)return o}if(n)return r.push(n),n}Qs.prototype=jx.prototype;Qs.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};Qs.prototype.getSingle=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,1),o=0;o<i.length;o++)for(var s=i[o].subtables,a=0;a<s.length;a++){var l=s[a],u=this.expandCoverage(l.coverage),c=void 0;if(l.substFormat===1){var h=l.deltaGlyphId;for(c=0;c<u.length;c++){var p=u[c];r.push({sub:p,by:p+h})}}else{var d=l.substitute;for(c=0;c<u.length;c++)r.push({sub:u[c],by:d[c]})}}return r};Qs.prototype.getMultiple=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,2),o=0;o<i.length;o++)for(var s=i[o].subtables,a=0;a<s.length;a++){var l=s[a],u=this.expandCoverage(l.coverage),c=void 0;for(c=0;c<u.length;c++){var h=u[c],p=l.sequences[c];r.push({sub:h,by:p})}}return r};Qs.prototype.getAlternates=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,3),o=0;o<i.length;o++)for(var s=i[o].subtables,a=0;a<s.length;a++)for(var l=s[a],u=this.expandCoverage(l.coverage),c=l.alternateSets,h=0;h<u.length;h++)r.push({sub:u[h],by:c[h]});return r};Qs.prototype.getLigatures=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,4),o=0;o<i.length;o++)for(var s=i[o].subtables,a=0;a<s.length;a++)for(var l=s[a],u=this.expandCoverage(l.coverage),c=l.ligatureSets,h=0;h<u.length;h++)for(var p=u[h],d=c[h],v=0;v<d.length;v++){var b=d[v];r.push({sub:[p].concat(b.components),by:b.ligGlyph})}return r};Qs.prototype.addSingle=function(t,e,n,r){var i=this.getLookupTables(n,r,t,1,!0)[0],o=S3(i,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});_n.assert(o.coverage.format===1,"Single: unable to modify coverage table format "+o.coverage.format);var s=e.sub,a=this.binSearch(o.coverage.glyphs,s);a<0&&(a=-1-a,o.coverage.glyphs.splice(a,0,s),o.substitute.splice(a,0,0)),o.substitute[a]=e.by};Qs.prototype.addMultiple=function(t,e,n,r){_n.assert(e.by instanceof Array&&e.by.length>1,'Multiple: "by" must be an array of two or more ids');var i=this.getLookupTables(n,r,t,2,!0)[0],o=S3(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});_n.assert(o.coverage.format===1,"Multiple: unable to modify coverage table format "+o.coverage.format);var s=e.sub,a=this.binSearch(o.coverage.glyphs,s);a<0&&(a=-1-a,o.coverage.glyphs.splice(a,0,s),o.sequences.splice(a,0,0)),o.sequences[a]=e.by};Qs.prototype.addAlternate=function(t,e,n,r){var i=this.getLookupTables(n,r,t,3,!0)[0],o=S3(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});_n.assert(o.coverage.format===1,"Alternate: unable to modify coverage table format "+o.coverage.format);var s=e.sub,a=this.binSearch(o.coverage.glyphs,s);a<0&&(a=-1-a,o.coverage.glyphs.splice(a,0,s),o.alternateSets.splice(a,0,0)),o.alternateSets[a]=e.by};Qs.prototype.addLigature=function(t,e,n,r){var i=this.getLookupTables(n,r,t,4,!0)[0],o=i.subtables[0];o||(o={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=o),_n.assert(o.coverage.format===1,"Ligature: unable to modify coverage table format "+o.coverage.format);var s=e.sub[0],a=e.sub.slice(1),l={ligGlyph:e.by,components:a},u=this.binSearch(o.coverage.glyphs,s);if(u>=0){for(var c=o.ligatureSets[u],h=0;h<c.length;h++)if(cCe(c[h].components,a))return;c.push(l)}else u=-1-u,o.coverage.glyphs.splice(u,0,s),o.ligatureSets.splice(u,0,[l])};Qs.prototype.getFeature=function(t,e,n){if(/ss\d\d/.test(t))return this.getSingle(t,e,n);switch(t){case"aalt":case"salt":return this.getSingle(t,e,n).concat(this.getAlternates(t,e,n));case"dlig":case"liga":case"rlig":return this.getLigatures(t,e,n);case"ccmp":return this.getMultiple(t,e,n).concat(this.getLigatures(t,e,n));case"stch":return this.getMultiple(t,e,n)}};Qs.prototype.add=function(t,e,n,r){if(/ss\d\d/.test(t))return this.addSingle(t,e,n,r);switch(t){case"aalt":case"salt":return typeof e.by=="number"?this.addSingle(t,e,n,r):this.addAlternate(t,e,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(t,e,n,r);case"ccmp":return e.by instanceof Array?this.addMultiple(t,e,n,r):this.addLigature(t,e,n,r)}};function fCe(){return typeof window<"u"}function Fne(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r<t.length;++r)n[r]=t[r];return e}function hCe(t){for(var e=new Buffer(t.byteLength),n=new Uint8Array(t),r=0;r<e.length;++r)e[r]=n[r];return e}function Hx(t,e){if(!t)throw e}function Fte(t,e,n,r,i){var o;return(e&r)>0?(o=t.parseByte(),(e&i)===0&&(o=-o),o=n+o):(e&i)>0?o=n:o=n+t.parseShort(),o}function Une(t,e,n){var r=new tn.Parser(e,n);t.numberOfContours=r.parseShort(),t._xMin=r.parseShort(),t._yMin=r.parseShort(),t._xMax=r.parseShort(),t._yMax=r.parseShort();var i,o;if(t.numberOfContours>0){for(var s=t.endPointIndices=[],a=0;a<t.numberOfContours;a+=1)s.push(r.parseUShort());t.instructionLength=r.parseUShort(),t.instructions=[];for(var l=0;l<t.instructionLength;l+=1)t.instructions.push(r.parseByte());var u=s[s.length-1]+1;i=[];for(var c=0;c<u;c+=1)if(o=r.parseByte(),i.push(o),(o&8)>0)for(var h=r.parseByte(),p=0;p<h;p+=1)i.push(o),c+=1;if(_n.argument(i.length===u,"Bad flags."),s.length>0){var d=[],v;if(u>0){for(var b=0;b<u;b+=1)o=i[b],v={},v.onCurve=!!(o&1),v.lastPointOfContour=s.indexOf(b)>=0,d.push(v);for(var S=0,y=0;y<u;y+=1)o=i[y],v=d[y],v.x=Fte(r,o,S,2,16),S=v.x;for(var T=0,E=0;E<u;E+=1)o=i[E],v=d[E],v.y=Fte(r,o,T,4,32),T=v.y}t.points=d}else t.points=[]}else if(t.numberOfContours===0)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var A=!0;A;){i=r.parseUShort();var N={glyphIndex:r.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(i&1)>0?(i&2)>0?(N.dx=r.parseShort(),N.dy=r.parseShort()):N.matchedPoints=[r.parseUShort(),r.parseUShort()]:(i&2)>0?(N.dx=r.parseChar(),N.dy=r.parseChar()):N.matchedPoints=[r.parseByte(),r.parseByte()],(i&8)>0?N.xScale=N.yScale=r.parseF2Dot14():(i&64)>0?(N.xScale=r.parseF2Dot14(),N.yScale=r.parseF2Dot14()):(i&128)>0&&(N.xScale=r.parseF2Dot14(),N.scale01=r.parseF2Dot14(),N.scale10=r.parseF2Dot14(),N.yScale=r.parseF2Dot14()),t.components.push(N),A=!!(i&32)}if(i&256){t.instructionLength=r.parseUShort(),t.instructions=[];for(var x=0;x<t.instructionLength;x+=1)t.instructions.push(r.parseByte())}}}function Qk(t,e){for(var n=[],r=0;r<t.length;r+=1){var i=t[r],o={x:e.xScale*i.x+e.scale01*i.y+e.dx,y:e.scale10*i.x+e.yScale*i.y+e.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(o)}return n}function pCe(t){for(var e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];n.push(i),i.lastPointOfContour&&(e.push(n),n=[])}return _n.argument(n.length===0,"There are still points left in the current contour."),e}function Bne(t){var e=new hi;if(!t)return e;for(var n=pCe(t),r=0;r<n.length;++r){var i=n[r],o=null,s=i[i.length-1],a=i[0];if(s.onCurve)e.moveTo(s.x,s.y);else if(a.onCurve)e.moveTo(a.x,a.y);else{var l={x:(s.x+a.x)*.5,y:(s.y+a.y)*.5};e.moveTo(l.x,l.y)}for(var u=0;u<i.length;++u)if(o=s,s=a,a=i[(u+1)%i.length],s.onCurve)e.lineTo(s.x,s.y);else{var c=o,h=a;o.onCurve||(c={x:(s.x+o.x)*.5,y:(s.y+o.y)*.5}),a.onCurve||(h={x:(s.x+a.x)*.5,y:(s.y+a.y)*.5}),e.quadraticCurveTo(s.x,s.y,h.x,h.y)}e.closePath()}return e}function zne(t,e){if(e.isComposite)for(var n=0;n<e.components.length;n+=1){var r=e.components[n],i=t.get(r.glyphIndex);if(i.getPath(),i.points){var o=void 0;if(r.matchedPoints===void 0)o=Qk(i.points,r);else{if(r.matchedPoints[0]>e.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+e.name);var s=e.points[r.matchedPoints[0]],a=i.points[r.matchedPoints[1]],l={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};a=Qk([a],l)[0],l.dx=s.x-a.x,l.dy=s.y-a.y,o=Qk(i.points,l)}e.points=e.points.concat(o)}}return Bne(e.points)}function dCe(t,e,n,r){for(var i=new Jl.GlyphSet(r),o=0;o<n.length-1;o+=1){var s=n[o],a=n[o+1];s!==a?i.push(o,Jl.ttfGlyphLoader(r,o,Une,t,e+s,zne)):i.push(o,Jl.glyphLoader(r,o))}return i}function mCe(t,e,n,r){var i=new Jl.GlyphSet(r);return r._push=function(o){var s=n[o],a=n[o+1];s!==a?i.push(o,Jl.ttfGlyphLoader(r,o,Une,t,e+s,zne)):i.push(o,Jl.glyphLoader(r,o))},i}function gCe(t,e,n,r,i){return i.lowMemory?mCe(t,e,n,r):dCe(t,e,n,r)}var Hne={getPath:Bne,parse:gCe},Vne,Tp,Wne,p3;function Gne(t){this.font=t,this.getCommands=function(e){return Hne.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function vCe(t){return t}function $ne(t){return Math.sign(t)*Math.round(Math.abs(t))}function yCe(t){return Math.sign(t)*Math.round(Math.abs(t*2))/2}function xCe(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function _Ce(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function SCe(t){return Math.sign(t)*Math.floor(Math.abs(t))}var Xne=function(t){var e=this.srPeriod,n=this.srPhase,r=this.srThreshold,i=1;return t<0&&(t=-t,i=-1),t+=r-n,t=Math.trunc(t/e)*e,t+=n,t<0?n*i:t*i},Kl={x:1,y:0,axis:"x",distance:function(t,e,n,r){return(n?t.xo:t.x)-(r?e.xo:e.x)},interpolate:function(t,e,n,r){var i,o,s,a,l,u,c;if(!r||r===this){if(i=t.xo-e.xo,o=t.xo-n.xo,l=e.x-e.xo,u=n.x-n.xo,s=Math.abs(i),a=Math.abs(o),c=s+a,c===0){t.x=t.xo+(l+u)/2;return}t.x=t.xo+(l*a+u*s)/c;return}if(i=r.distance(t,e,!0,!0),o=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),u=r.distance(n,n,!1,!0),s=Math.abs(i),a=Math.abs(o),c=s+a,c===0){Kl.setRelative(t,t,(l+u)/2,r,!0);return}Kl.setRelative(t,t,(l*a+u*s)/c,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(t,e,n,r,i){if(!r||r===this){t.x=(i?e.xo:e.x)+n;return}var o=i?e.xo:e.x,s=i?e.yo:e.y,a=o+n*r.x,l=s+n*r.y;t.x=a+(t.y-l)/r.normalSlope},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},ic={x:0,y:1,axis:"y",distance:function(t,e,n,r){return(n?t.yo:t.y)-(r?e.yo:e.y)},interpolate:function(t,e,n,r){var i,o,s,a,l,u,c;if(!r||r===this){if(i=t.yo-e.yo,o=t.yo-n.yo,l=e.y-e.yo,u=n.y-n.yo,s=Math.abs(i),a=Math.abs(o),c=s+a,c===0){t.y=t.yo+(l+u)/2;return}t.y=t.yo+(l*a+u*s)/c;return}if(i=r.distance(t,e,!0,!0),o=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),u=r.distance(n,n,!1,!0),s=Math.abs(i),a=Math.abs(o),c=s+a,c===0){ic.setRelative(t,t,(l+u)/2,r,!0);return}ic.setRelative(t,t,(l*a+u*s)/c,r,!0)},normalSlope:0,setRelative:function(t,e,n,r,i){if(!r||r===this){t.y=(i?e.yo:e.y)+n;return}var o=i?e.xo:e.x,s=i?e.yo:e.y,a=o+n*r.x,l=s+n*r.y;t.y=l+r.normalSlope*(t.x-a)},slope:Number.POSITIVE_INFINITY,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};Object.freeze(Kl);Object.freeze(ic);function qx(t,e){this.x=t,this.y=e,this.axis=void 0,this.slope=e/t,this.normalSlope=-t/e,Object.freeze(this)}qx.prototype.distance=function(t,e,n,r){return this.x*Kl.distance(t,e,n,r)+this.y*ic.distance(t,e,n,r)};qx.prototype.interpolate=function(t,e,n,r){var i,o,s,a,l,u,c;if(s=r.distance(t,e,!0,!0),a=r.distance(t,n,!0,!0),i=r.distance(e,e,!1,!0),o=r.distance(n,n,!1,!0),l=Math.abs(s),u=Math.abs(a),c=l+u,c===0){this.setRelative(t,t,(i+o)/2,r,!0);return}this.setRelative(t,t,(i*u+o*l)/c,r,!0)};qx.prototype.setRelative=function(t,e,n,r,i){r=r||this;var o=i?e.xo:e.x,s=i?e.yo:e.y,a=o+n*r.x,l=s+n*r.y,u=r.normalSlope,c=this.slope,h=t.x,p=t.y;t.x=(c*h-u*a+l-p)/(c-u),t.y=c*(t.x-h)+p};qx.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0};function Zx(t,e){var n=Math.sqrt(t*t+e*e);return t/=n,e/=n,t===1&&e===0?Kl:t===0&&e===1?ic:new qx(t,e)}function oc(t,e,n,r){this.x=this.xo=Math.round(t*64)/64,this.y=this.yo=Math.round(e*64)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}oc.prototype.nextTouched=function(t){for(var e=this.nextPointOnContour;!t.touched(e)&&e!==this;)e=e.nextPointOnContour;return e};oc.prototype.prevTouched=function(t){for(var e=this.prevPointOnContour;!t.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var Xx=Object.freeze(new oc(0,0)),bCe={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function kf(t,e){switch(this.env=t,this.stack=[],this.prog=e,t){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Kl,this.round=$ne}}Gne.prototype.exec=function(t,e){if(typeof e!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,r=this._prepState;if(!r||r.ppem!==e){var i=this._fpgmState;if(!i){kf.prototype=bCe,i=this._fpgmState=new kf("fpgm",n.tables.fpgm),i.funcs=[],i.font=n,exports.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{Tp(i)}catch(u){console.log("Hinting error in FPGM:"+u),this._errorState=3;return}}kf.prototype=i,r=this._prepState=new kf("prep",n.tables.prep),r.ppem=e;var o=n.tables.cvt;if(o)for(var s=r.cvt=new Array(o.length),a=e/n.unitsPerEm,l=0;l<o.length;l++)s[l]=o[l]*a;else r.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{Tp(r)}catch(u){this._errorState<2&&console.log("Hinting error in PREP:"+u),this._errorState=2}}if(!(this._errorState>1))try{return Wne(t,r)}catch(u){this._errorState<1&&(console.log("Hinting error:"+u),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};Wne=function(t,e){var n=e.ppem/e.font.unitsPerEm,r=n,i=t.components,o,s,a;if(kf.prototype=e,!i)a=new kf("glyf",t.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),a.step=-1),p3(t,a,n,r),s=a.gZone;else{var l=e.font;s=[],o=[];for(var u=0;u<i.length;u++){var c=i[u],h=l.glyphs.get(c.glyphIndex);a=new kf("glyf",h.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+u+"---"),a.step=-1),p3(h,a,n,r);for(var p=Math.round(c.dx*n),d=Math.round(c.dy*r),v=a.gZone,b=a.contours,S=0;S<v.length;S++){var y=v[S];y.xTouched=y.yTouched=!1,y.xo=y.x=y.x+p,y.yo=y.y=y.y+d}var T=s.length;s.push.apply(s,v);for(var E=0;E<b.length;E++)o.push(b[E]+T)}t.instructions&&!a.inhibitGridFit&&(a=new kf("glyf",t.instructions),a.gZone=a.z0=a.z1=a.z2=s,a.contours=o,s.push(new oc(0,0),new oc(Math.round(t.advanceWidth*n),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),a.step=-1),Tp(a),s.length-=2)}return s};p3=function(t,e,n,r){for(var i=t.points||[],o=i.length,s=e.gZone=e.z0=e.z1=e.z2=[],a=e.contours=[],l,u=0;u<o;u++)l=i[u],s[u]=new oc(l.x*n,l.y*r,l.lastPointOfContour,l.onCurve);for(var c,h,p=0;p<o;p++)l=s[p],c||(c=l,a.push(p)),l.lastPointOfContour?(l.nextPointOnContour=c,c.prevPointOnContour=l,c=void 0):(h=s[p+1],l.nextPointOnContour=h,h.prevPointOnContour=l);if(!e.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(var d=0;d<o;d++)console.log(d,s[d].x,s[d].y)}if(s.push(new oc(0,0),new oc(Math.round(t.advanceWidth*n),0)),Tp(e),s.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",e.stack);for(var v=0;v<o;v++)console.log(v,s[v].x,s[v].y)}}};Tp=function(t){var e=t.prog;if(e){var n=e.length,r;for(t.ip=0;t.ip<n;t.ip++){if(exports.DEBUG&&t.step++,r=Vne[e[t.ip]],!r)throw new Error("unknown instruction: 0x"+Number(e[t.ip]).toString(16));r(t)}}};function aA(t){for(var e=t.tZone=new Array(t.gZone.length),n=0;n<e.length;n++)e[n]=new oc(0,0)}function jne(t,e){var n=t.prog,r=t.ip,i=1,o;do if(o=n[++r],o===88)i++;else if(o===89)i--;else if(o===64)r+=n[r+1]+1;else if(o===65)r+=2*n[r+1]+1;else if(o>=176&&o<=183)r+=o-176+1;else if(o>=184&&o<=191)r+=(o-184+1)*2;else if(e&&i===1&&o===27)break;while(i>0);t.ip=r}function Ute(t,e){exports.DEBUG&&console.log(e.step,"SVTCA["+t.axis+"]"),e.fv=e.pv=e.dpv=t}function Bte(t,e){exports.DEBUG&&console.log(e.step,"SPVTCA["+t.axis+"]"),e.pv=e.dpv=t}function zte(t,e){exports.DEBUG&&console.log(e.step,"SFVTCA["+t.axis+"]"),e.fv=t}function Hte(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z2[r],s=e.z1[i];exports.DEBUG&&console.log("SPVTL["+t+"]",r,i);var a,l;t?(a=o.y-s.y,l=s.x-o.x):(a=s.x-o.x,l=s.y-o.y),e.pv=e.dpv=Zx(a,l)}function Vte(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z2[r],s=e.z1[i];exports.DEBUG&&console.log("SFVTL["+t+"]",r,i);var a,l;t?(a=o.y-s.y,l=s.x-o.x):(a=s.x-o.x,l=s.y-o.y),e.fv=Zx(a,l)}function wCe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.pv=t.dpv=Zx(r,n)}function ECe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.fv=Zx(r,n)}function TCe(t){var e=t.stack,n=t.pv;exports.DEBUG&&console.log(t.step,"GPV[]"),e.push(n.x*16384),e.push(n.y*16384)}function CCe(t){var e=t.stack,n=t.fv;exports.DEBUG&&console.log(t.step,"GFV[]"),e.push(n.x*16384),e.push(n.y*16384)}function MCe(t){t.fv=t.pv,exports.DEBUG&&console.log(t.step,"SFVTPV[]")}function ACe(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop(),o=e.pop(),s=e.pop(),a=t.z0,l=t.z1,u=a[n],c=a[r],h=l[i],p=l[o],d=t.z2[s];exports.DEBUG&&console.log("ISECT[], ",n,r,i,o,s);var v=u.x,b=u.y,S=c.x,y=c.y,T=h.x,E=h.y,A=p.x,N=p.y,x=(v-S)*(E-N)-(b-y)*(T-A),D=v*y-b*S,k=T*N-E*A;d.x=(D*(T-A)-k*(v-S))/x,d.y=(D*(E-N)-k*(b-y))/x}function PCe(t){t.rp0=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)}function RCe(t){t.rp1=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)}function ICe(t){t.rp2=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)}function NCe(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP0[]",e),t.zp0=e,e){case 0:t.tZone||aA(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function OCe(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP1[]",e),t.zp1=e,e){case 0:t.tZone||aA(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function LCe(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP2[]",e),t.zp2=e,e){case 0:t.tZone||aA(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function DCe(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZPS[]",e),t.zp0=t.zp1=t.zp2=e,e){case 0:t.tZone||aA(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function kCe(t){t.loop=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)}function FCe(t){exports.DEBUG&&console.log(t.step,"RTG[]"),t.round=$ne}function UCe(t){exports.DEBUG&&console.log(t.step,"RTHG[]"),t.round=xCe}function BCe(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SMD[]",e),t.minDis=e/64}function zCe(t){exports.DEBUG&&console.log(t.step,"ELSE[]"),jne(t,!1)}function HCe(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"JMPR[]",e),t.ip+=e-1}function VCe(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCVTCI[]",e),t.cvCutIn=e/64}function WCe(t){var e=t.stack;exports.DEBUG&&console.log(t.step,"DUP[]"),e.push(e[e.length-1])}function e3(t){exports.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function GCe(t){exports.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0}function $Ce(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SWAP[]"),e.push(n),e.push(r)}function XCe(t){var e=t.stack;exports.DEBUG&&console.log(t.step,"DEPTH[]"),e.push(e.length)}function jCe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LOOPCALL[]",n,r);var i=t.ip,o=t.prog;t.prog=t.funcs[n];for(var s=0;s<r;s++)Tp(t),exports.DEBUG&&console.log(++t.step,s+1<r?"next loopcall":"done loopcall",s);t.ip=i,t.prog=o}function YCe(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"CALL[]",e);var n=t.ip,r=t.prog;t.prog=t.funcs[e],Tp(t),t.ip=n,t.prog=r,exports.DEBUG&&console.log(++t.step,"returning from",e)}function qCe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"CINDEX[]",n),e.push(e[e.length-n])}function ZCe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"MINDEX[]",n),e.push(e.splice(e.length-n,1)[0])}function KCe(t){if(t.env!=="fpgm")throw new Error("FDEF not allowed here");var e=t.stack,n=t.prog,r=t.ip,i=e.pop(),o=r;for(exports.DEBUG&&console.log(t.step,"FDEF[]",i);n[++r]!==45;);t.ip=r,t.funcs[i]=n.slice(o+1,r)}function Wte(t,e){var n=e.stack.pop(),r=e.z0[n],i=e.fv,o=e.pv;exports.DEBUG&&console.log(e.step,"MDAP["+t+"]",n);var s=o.distance(r,Xx);t&&(s=e.round(s)),i.setRelative(r,Xx,s,o),i.touch(r),e.rp0=e.rp1=n}function Gte(t,e){var n=e.z2,r=n.length-2,i,o,s;exports.DEBUG&&console.log(e.step,"IUP["+t.axis+"]");for(var a=0;a<r;a++)i=n[a],!t.touched(i)&&(o=i.prevTouched(t),o!==i&&(s=i.nextTouched(t),o===s&&t.setRelative(i,i,t.distance(o,o,!1,!0),t,!0),t.interpolate(i,o,s,t)))}function $te(t,e){for(var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],o=e.fv,s=e.pv,a=e.loop,l=e.z2;a--;){var u=n.pop(),c=l[u],h=s.distance(i,i,!1,!0);o.setRelative(c,c,h,s),o.touch(c),exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",u)}e.loop=1}function Xte(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],o=e.fv,s=e.pv,a=n.pop(),l=e.z2[e.contours[a]],u=l;exports.DEBUG&&console.log(e.step,"SHC["+t+"]",a);var c=s.distance(i,i,!1,!0);do u!==i&&o.setRelative(u,u,c,s),u=u.nextPointOnContour;while(u!==l)}function jte(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],o=e.fv,s=e.pv,a=n.pop();exports.DEBUG&&console.log(e.step,"SHZ["+t+"]",a);var l;switch(a){case 0:l=e.tZone;break;case 1:l=e.gZone;break;default:throw new Error("Invalid zone")}for(var u,c=s.distance(i,i,!1,!0),h=l.length-2,p=0;p<h;p++)u=l[p],o.setRelative(u,u,c,s)}function JCe(t){for(var e=t.stack,n=t.loop,r=t.fv,i=e.pop()/64,o=t.z2;n--;){var s=e.pop(),a=o[s];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-n)+": ":"")+"SHPIX[]",s,i),r.setRelative(a,a,i),r.touch(a)}t.loop=1}function QCe(t){for(var e=t.stack,n=t.rp1,r=t.rp2,i=t.loop,o=t.z0[n],s=t.z1[r],a=t.fv,l=t.dpv,u=t.z2;i--;){var c=e.pop(),h=u[c];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"IP[]",c,n,"<->",r),a.interpolate(h,o,s,l),a.touch(h)}t.loop=1}function Yte(t,e){var n=e.stack,r=n.pop()/64,i=n.pop(),o=e.z1[i],s=e.z0[e.rp0],a=e.fv,l=e.pv;a.setRelative(o,s,r,l),a.touch(o),exports.DEBUG&&console.log(e.step,"MSIRP["+t+"]",r,i),e.rp1=e.rp0,e.rp2=i,t&&(e.rp0=i)}function eMe(t){for(var e=t.stack,n=t.rp0,r=t.z0[n],i=t.loop,o=t.fv,s=t.pv,a=t.z1;i--;){var l=e.pop(),u=a[l];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"ALIGNRP[]",l),o.setRelative(u,r,0,s),o.touch(u)}t.loop=1}function tMe(t){exports.DEBUG&&console.log(t.step,"RTDG[]"),t.round=yCe}function qte(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z0[i],s=e.fv,a=e.pv,l=e.cvt[r];exports.DEBUG&&console.log(e.step,"MIAP["+t+"]",r,"(",l,")",i);var u=a.distance(o,Xx);t&&(Math.abs(u-l)<e.cvCutIn&&(u=l),u=e.round(u)),s.setRelative(o,Xx,u,a),e.zp0===0&&(o.xo=o.x,o.yo=o.y),s.touch(o),e.rp0=e.rp1=i}function nMe(t){var e=t.prog,n=t.ip,r=t.stack,i=e[++n];exports.DEBUG&&console.log(t.step,"NPUSHB[]",i);for(var o=0;o<i;o++)r.push(e[++n]);t.ip=n}function rMe(t){var e=t.ip,n=t.prog,r=t.stack,i=n[++e];exports.DEBUG&&console.log(t.step,"NPUSHW[]",i);for(var o=0;o<i;o++){var s=n[++e]<<8|n[++e];s&32768&&(s=-((s^65535)+1)),r.push(s)}t.ip=e}function iMe(t){var e=t.stack,n=t.store;n||(n=t.store=[]);var r=e.pop(),i=e.pop();exports.DEBUG&&console.log(t.step,"WS",r,i),n[i]=r}function oMe(t){var e=t.stack,n=t.store,r=e.pop();exports.DEBUG&&console.log(t.step,"RS",r);var i=n&&n[r]||0;e.push(i)}function sMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"WCVTP",n,r),t.cvt[r]=n/64}function aMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"RCVT",n),e.push(t.cvt[n]*64)}function Zte(t,e){var n=e.stack,r=n.pop(),i=e.z2[r];exports.DEBUG&&console.log(e.step,"GC["+t+"]",r),n.push(e.dpv.distance(i,Xx,t,!1)*64)}function Kte(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z1[r],s=e.z0[i],a=e.dpv.distance(s,o,t,t);exports.DEBUG&&console.log(e.step,"MD["+t+"]",r,i,"->",a),e.stack.push(Math.round(a*64))}function lMe(t){exports.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)}function uMe(t){exports.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0}function cMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LT[]",n,r),e.push(r<n?1:0)}function fMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LTEQ[]",n,r),e.push(r<=n?1:0)}function hMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"GT[]",n,r),e.push(r>n?1:0)}function pMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"GTEQ[]",n,r),e.push(r>=n?1:0)}function dMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"EQ[]",n,r),e.push(n===r?1:0)}function mMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"NEQ[]",n,r),e.push(n!==r?1:0)}function gMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"ODD[]",n),e.push(Math.trunc(n)%2?1:0)}function vMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"EVEN[]",n),e.push(Math.trunc(n)%2?0:1)}function yMe(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"IF[]",e),e||(jne(t,!0),exports.DEBUG&&console.log(t.step,"EIF[]"))}function xMe(t){exports.DEBUG&&console.log(t.step,"EIF[]")}function _Me(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"AND[]",n,r),e.push(n&&r?1:0)}function SMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"OR[]",n,r),e.push(n||r?1:0)}function bMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"NOT[]",n),e.push(n?0:1)}function t3(t,e){var n=e.stack,r=n.pop(),i=e.fv,o=e.pv,s=e.ppem,a=e.deltaBase+(t-1)*16,l=e.deltaShift,u=e.z0;exports.DEBUG&&console.log(e.step,"DELTAP["+t+"]",r,n);for(var c=0;c<r;c++){var h=n.pop(),p=n.pop(),d=a+((p&240)>>4);if(d===s){var v=(p&15)-8;v>=0&&v++,exports.DEBUG&&console.log(e.step,"DELTAPFIX",h,"by",v*l);var b=u[h];i.setRelative(b,b,v*l,o)}}}function wMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"SDB[]",n),t.deltaBase=n}function EMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"SDS[]",n),t.deltaShift=Math.pow(.5,n)}function TMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"ADD[]",n,r),e.push(r+n)}function CMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SUB[]",n,r),e.push(r-n)}function MMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"DIV[]",n,r),e.push(r*64/n)}function AMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MUL[]",n,r),e.push(r*n/64)}function PMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"ABS[]",n),e.push(Math.abs(n))}function RMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"NEG[]",n),e.push(-n)}function IMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"FLOOR[]",n),e.push(Math.floor(n/64)*64)}function NMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"CEILING[]",n),e.push(Math.ceil(n/64)*64)}function JM(t,e){var n=e.stack,r=n.pop();exports.DEBUG&&console.log(e.step,"ROUND[]"),n.push(e.round(r/64)*64)}function OMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"WCVTF[]",n,r),t.cvt[r]=n*t.ppem/t.font.unitsPerEm}function n3(t,e){var n=e.stack,r=n.pop(),i=e.ppem,o=e.deltaBase+(t-1)*16,s=e.deltaShift;exports.DEBUG&&console.log(e.step,"DELTAC["+t+"]",r,n);for(var a=0;a<r;a++){var l=n.pop(),u=n.pop(),c=o+((u&240)>>4);if(c===i){var h=(u&15)-8;h>=0&&h++;var p=h*s;exports.DEBUG&&console.log(e.step,"DELTACFIX",l,"by",p),e.cvt[l]+=p}}}function LMe(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SROUND[]",e),t.round=Xne;var n;switch(e&192){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function DMe(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"S45ROUND[]",e),t.round=Xne;var n;switch(e&192){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function kMe(t){exports.DEBUG&&console.log(t.step,"ROFF[]"),t.round=vCe}function FMe(t){exports.DEBUG&&console.log(t.step,"RUTG[]"),t.round=_Ce}function UMe(t){exports.DEBUG&&console.log(t.step,"RDTG[]"),t.round=SCe}function BMe(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANCTRL[]",e)}function Jte(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z2[r],s=e.z1[i];exports.DEBUG&&console.log(e.step,"SDPVTL["+t+"]",r,i);var a,l;t?(a=o.y-s.y,l=s.x-o.x):(a=s.x-o.x,l=s.y-o.y),e.dpv=Zx(a,l)}function zMe(t){var e=t.stack,n=e.pop(),r=0;exports.DEBUG&&console.log(t.step,"GETINFO[]",n),n&1&&(r=35),n&32&&(r|=4096),e.push(r)}function HMe(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop();exports.DEBUG&&console.log(t.step,"ROLL[]"),e.push(r),e.push(n),e.push(i)}function VMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MAX[]",n,r),e.push(Math.max(r,n))}function WMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MIN[]",n,r),e.push(Math.min(r,n))}function GMe(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANTYPE[]",e)}function $Me(t){var e=t.stack.pop(),n=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"INSTCTRL[]",e,n),e){case 1:t.inhibitGridFit=!!n;return;case 2:t.ignoreCvt=!!n;return;default:throw new Error("invalid INSTCTRL[] selector")}}function Of(t,e){var n=e.stack,r=e.prog,i=e.ip;exports.DEBUG&&console.log(e.step,"PUSHB["+t+"]");for(var o=0;o<t;o++)n.push(r[++i]);e.ip=i}function Lf(t,e){var n=e.ip,r=e.prog,i=e.stack;exports.DEBUG&&console.log(e.ip,"PUSHW["+t+"]");for(var o=0;o<t;o++){var s=r[++n]<<8|r[++n];s&32768&&(s=-((s^65535)+1)),i.push(s)}e.ip=n}function nn(t,e,n,r,i,o){var s=o.stack,a=t&&s.pop(),l=s.pop(),u=o.rp0,c=o.z0[u],h=o.z1[l],p=o.minDis,d=o.fv,v=o.dpv,b,S,y,T;S=b=v.distance(h,c,!0,!0),y=S>=0?1:-1,S=Math.abs(S),t&&(T=o.cvt[a],r&&Math.abs(S-T)<o.cvCutIn&&(S=T)),n&&S<p&&(S=p),r&&(S=o.round(S)),d.setRelative(h,c,y*S,v),d.touch(h),exports.DEBUG&&console.log(o.step,(t?"MIRP[":"MDRP[")+(e?"M":"m")+(n?">":"_")+(r?"R":"_")+(i===0?"Gr":i===1?"Bl":i===2?"Wh":"")+"]",t?a+"("+o.cvt[a]+","+T+")":"",l,"(d =",b,"->",y*S,")"),o.rp1=o.rp0,o.rp2=l,e&&(o.rp0=l)}Vne=[Ute.bind(void 0,ic),Ute.bind(void 0,Kl),Bte.bind(void 0,ic),Bte.bind(void 0,Kl),zte.bind(void 0,ic),zte.bind(void 0,Kl),Hte.bind(void 0,0),Hte.bind(void 0,1),Vte.bind(void 0,0),Vte.bind(void 0,1),wCe,ECe,TCe,CCe,MCe,ACe,PCe,RCe,ICe,NCe,OCe,LCe,DCe,kCe,FCe,UCe,BCe,zCe,HCe,VCe,void 0,void 0,WCe,e3,GCe,$Ce,XCe,qCe,ZCe,void 0,void 0,void 0,jCe,YCe,KCe,void 0,Wte.bind(void 0,0),Wte.bind(void 0,1),Gte.bind(void 0,ic),Gte.bind(void 0,Kl),$te.bind(void 0,0),$te.bind(void 0,1),Xte.bind(void 0,0),Xte.bind(void 0,1),jte.bind(void 0,0),jte.bind(void 0,1),JCe,QCe,Yte.bind(void 0,0),Yte.bind(void 0,1),eMe,tMe,qte.bind(void 0,0),qte.bind(void 0,1),nMe,rMe,iMe,oMe,sMe,aMe,Zte.bind(void 0,0),Zte.bind(void 0,1),void 0,Kte.bind(void 0,0),Kte.bind(void 0,1),lMe,void 0,uMe,void 0,void 0,cMe,fMe,hMe,pMe,dMe,mMe,gMe,vMe,yMe,xMe,_Me,SMe,bMe,t3.bind(void 0,1),wMe,EMe,TMe,CMe,MMe,AMe,PMe,RMe,IMe,NMe,JM.bind(void 0,0),JM.bind(void 0,1),JM.bind(void 0,2),JM.bind(void 0,3),void 0,void 0,void 0,void 0,OMe,t3.bind(void 0,2),t3.bind(void 0,3),n3.bind(void 0,1),n3.bind(void 0,2),n3.bind(void 0,3),LMe,DMe,void 0,void 0,kMe,void 0,FMe,UMe,e3,e3,void 0,void 0,void 0,void 0,void 0,BMe,Jte.bind(void 0,0),Jte.bind(void 0,1),zMe,void 0,HMe,VMe,WMe,GMe,$Me,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Of.bind(void 0,1),Of.bind(void 0,2),Of.bind(void 0,3),Of.bind(void 0,4),Of.bind(void 0,5),Of.bind(void 0,6),Of.bind(void 0,7),Of.bind(void 0,8),Lf.bind(void 0,1),Lf.bind(void 0,2),Lf.bind(void 0,3),Lf.bind(void 0,4),Lf.bind(void 0,5),Lf.bind(void 0,6),Lf.bind(void 0,7),Lf.bind(void 0,8),nn.bind(void 0,0,0,0,0,0),nn.bind(void 0,0,0,0,0,1),nn.bind(void 0,0,0,0,0,2),nn.bind(void 0,0,0,0,0,3),nn.bind(void 0,0,0,0,1,0),nn.bind(void 0,0,0,0,1,1),nn.bind(void 0,0,0,0,1,2),nn.bind(void 0,0,0,0,1,3),nn.bind(void 0,0,0,1,0,0),nn.bind(void 0,0,0,1,0,1),nn.bind(void 0,0,0,1,0,2),nn.bind(void 0,0,0,1,0,3),nn.bind(void 0,0,0,1,1,0),nn.bind(void 0,0,0,1,1,1),nn.bind(void 0,0,0,1,1,2),nn.bind(void 0,0,0,1,1,3),nn.bind(void 0,0,1,0,0,0),nn.bind(void 0,0,1,0,0,1),nn.bind(void 0,0,1,0,0,2),nn.bind(void 0,0,1,0,0,3),nn.bind(void 0,0,1,0,1,0),nn.bind(void 0,0,1,0,1,1),nn.bind(void 0,0,1,0,1,2),nn.bind(void 0,0,1,0,1,3),nn.bind(void 0,0,1,1,0,0),nn.bind(void 0,0,1,1,0,1),nn.bind(void 0,0,1,1,0,2),nn.bind(void 0,0,1,1,0,3),nn.bind(void 0,0,1,1,1,0),nn.bind(void 0,0,1,1,1,1),nn.bind(void 0,0,1,1,1,2),nn.bind(void 0,0,1,1,1,3),nn.bind(void 0,1,0,0,0,0),nn.bind(void 0,1,0,0,0,1),nn.bind(void 0,1,0,0,0,2),nn.bind(void 0,1,0,0,0,3),nn.bind(void 0,1,0,0,1,0),nn.bind(void 0,1,0,0,1,1),nn.bind(void 0,1,0,0,1,2),nn.bind(void 0,1,0,0,1,3),nn.bind(void 0,1,0,1,0,0),nn.bind(void 0,1,0,1,0,1),nn.bind(void 0,1,0,1,0,2),nn.bind(void 0,1,0,1,0,3),nn.bind(void 0,1,0,1,1,0),nn.bind(void 0,1,0,1,1,1),nn.bind(void 0,1,0,1,1,2),nn.bind(void 0,1,0,1,1,3),nn.bind(void 0,1,1,0,0,0),nn.bind(void 0,1,1,0,0,1),nn.bind(void 0,1,1,0,0,2),nn.bind(void 0,1,1,0,0,3),nn.bind(void 0,1,1,0,1,0),nn.bind(void 0,1,1,0,1,1),nn.bind(void 0,1,1,0,1,2),nn.bind(void 0,1,1,0,1,3),nn.bind(void 0,1,1,1,0,0),nn.bind(void 0,1,1,1,0,1),nn.bind(void 0,1,1,1,0,2),nn.bind(void 0,1,1,1,0,3),nn.bind(void 0,1,1,1,1,0),nn.bind(void 0,1,1,1,1,1),nn.bind(void 0,1,1,1,1,2),nn.bind(void 0,1,1,1,1,3)];function Dg(t){this.char=t,this.state={},this.activeState=null}function b3(t,e,n){this.contextName=n,this.startIndex=t,this.endOffset=e}function XMe(t,e,n){this.contextName=t,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=n}function ul(t,e){this.context=t,this.index=e,this.length=t.length,this.current=t[e],this.backtrack=t.slice(0,e),this.lookahead=t.slice(e+1)}function lA(t){this.eventId=t,this.subscribers=[]}function jMe(t){var e=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach(function(i){Object.defineProperty(e.events,i,{value:new lA(i)})}),t&&n.forEach(function(i){var o=t[i];typeof o=="function"&&e.events[i].subscribe(o)});var r=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];r.forEach(function(i){e.events[i].subscribe(e.updateContextsRanges)})}function ni(t){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],jMe.call(this,t)}Dg.prototype.setState=function(t,e){return this.state[t]=e,this.activeState={key:t,value:this.state[t]},this.activeState};Dg.prototype.getState=function(t){return this.state[t]||null};ni.prototype.inboundIndex=function(t){return t>=0&&t<this.tokens.length};ni.prototype.composeRUD=function(t){var e=this,n=!0,r=t.map(function(o){return e[o[0]].apply(e,o.slice(1).concat(n))}),i=function(o){return typeof o=="object"&&o.hasOwnProperty("FAIL")};if(r.every(i))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:r.filter(i)};this.dispatch("composeRUD",[r.filter(function(o){return!i(o)})])};ni.prototype.replaceRange=function(t,e,n,r){e=e!==null?e:this.tokens.length;var i=n.every(function(s){return s instanceof Dg});if(!isNaN(t)&&this.inboundIndex(t)&&i){var o=this.tokens.splice.apply(this.tokens,[t,e].concat(n));return r||this.dispatch("replaceToken",[t,e,n]),[o,n]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};ni.prototype.replaceToken=function(t,e,n){if(!isNaN(t)&&this.inboundIndex(t)&&e instanceof Dg){var r=this.tokens.splice(t,1,e);return n||this.dispatch("replaceToken",[t,e]),[r[0],e]}else return{FAIL:"replaceToken: invalid token or index."}};ni.prototype.removeRange=function(t,e,n){e=isNaN(e)?this.tokens.length:e;var r=this.tokens.splice(t,e);return n||this.dispatch("removeRange",[r,t,e]),r};ni.prototype.removeToken=function(t,e){if(!isNaN(t)&&this.inboundIndex(t)){var n=this.tokens.splice(t,1);return e||this.dispatch("removeToken",[n,t]),n}else return{FAIL:"removeToken: invalid token index."}};ni.prototype.insertToken=function(t,e,n){var r=t.every(function(i){return i instanceof Dg});return r?(this.tokens.splice.apply(this.tokens,[e,0].concat(t)),n||this.dispatch("insertToken",[t,e]),t):{FAIL:"insertToken: invalid token(s)."}};ni.prototype.registerModifier=function(t,e,n){this.events.newToken.subscribe(function(r,i){var o=[r,i],s=e===null||e.apply(this,o)===!0,a=[r,i];if(s){var l=n.apply(this,a);r.setState(t,l)}}),this.registeredModifiers.push(t)};lA.prototype.subscribe=function(t){return typeof t=="function"?this.subscribers.push(t)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};lA.prototype.unsubscribe=function(t){this.subscribers.splice(t,1)};ul.prototype.setCurrentIndex=function(t){this.index=t,this.current=this.context[t],this.backtrack=this.context.slice(0,t),this.lookahead=this.context.slice(t+1)};ul.prototype.get=function(t){switch(!0){case t===0:return this.current;case(t<0&&Math.abs(t)<=this.backtrack.length):return this.backtrack.slice(t)[0];case(t>0&&t<=this.lookahead.length):return this.lookahead[t-1];default:return null}};ni.prototype.rangeToText=function(t){if(t instanceof b3)return this.getRangeTokens(t).map(function(e){return e.char}).join("")};ni.prototype.getText=function(){return this.tokens.map(function(t){return t.char}).join("")};ni.prototype.getContext=function(t){var e=this.registeredContexts[t];return e||null};ni.prototype.on=function(t,e){var n=this.events[t];return n?n.subscribe(e):null};ni.prototype.dispatch=function(t,e){var n=this,r=this.events[t];r instanceof lA&&r.subscribers.forEach(function(i){i.apply(n,e||[])})};ni.prototype.registerContextChecker=function(t,e,n){if(this.getContext(t))return{FAIL:"context name '"+t+"' is already registered."};if(typeof e!="function")return{FAIL:"missing context start check."};if(typeof n!="function")return{FAIL:"missing context end check."};var r=new XMe(t,e,n);return this.registeredContexts[t]=r,this.contextCheckers.push(r),r};ni.prototype.getRangeTokens=function(t){var e=t.startIndex+t.endOffset;return[].concat(this.tokens.slice(t.startIndex,e))};ni.prototype.getContextRanges=function(t){var e=this.getContext(t);return e?e.ranges:{FAIL:"context checker '"+t+"' is not registered."}};ni.prototype.resetContextsRanges=function(){var t=this.registeredContexts;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.ranges=[]}};ni.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var t=this.tokens.map(function(r){return r.char}),e=0;e<t.length;e++){var n=new ul(t,e);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])};ni.prototype.setEndOffset=function(t,e){var n=this.getContext(e).openRange.startIndex,r=new b3(n,t,e),i=this.getContext(e).ranges;return r.rangeId=e+"."+i.length,i.push(r),this.getContext(e).openRange=null,r};ni.prototype.runContextCheck=function(t){var e=this,n=t.index;this.contextCheckers.forEach(function(r){var i=r.contextName,o=e.getContext(i).openRange;if(!o&&r.checkStart(t)&&(o=new b3(n,null,i),e.getContext(i).openRange=o,e.dispatch("contextStart",[i,n])),o&&r.checkEnd(t)){var s=n-o.startIndex+1,a=e.setEndOffset(s,i);e.dispatch("contextEnd",[i,a])}})};ni.prototype.tokenize=function(t){this.tokens=[],this.resetContextsRanges();var e=Array.from(t);this.dispatch("start");for(var n=0;n<e.length;n++){var r=e[n],i=new ul(e,n);this.dispatch("next",[i]),this.runContextCheck(i);var o=new Dg(r);this.tokens.push(o),this.dispatch("newToken",[o,i])}return this.dispatch("end",[this.tokens]),this.tokens};function Ff(t){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(t)}function Yne(t){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(t)}function Uf(t){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(t)}function eA(t){return/[A-z]/.test(t)}function YMe(t){return/\s/.test(t)}function ea(t){this.font=t,this.features={}}function Ep(t){this.id=t.id,this.tag=t.tag,this.substitution=t.substitution}function Kx(t,e){if(!t)return-1;switch(e.format){case 1:return e.glyphs.indexOf(t);case 2:for(var n=e.ranges,r=0;r<n.length;r++){var i=n[r];if(t>=i.start&&t<=i.end){var o=t-i.start;return i.index+o}}break;default:return-1}return-1}function qMe(t,e){var n=Kx(t,e.coverage);return n===-1?null:t+e.deltaGlyphId}function ZMe(t,e){var n=Kx(t,e.coverage);return n===-1?null:e.substitute[n]}function r3(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=e.current;o=Array.isArray(o)?o[0]:o;var s=Kx(o,i);s!==-1&&n.push(s)}return n.length!==t.length?-1:n}function KMe(t,e){var n=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(t.context.length<n)return[];var r=r3(e.inputCoverage,t);if(r===-1)return[];var i=e.inputCoverage.length-1;if(t.lookahead.length<e.lookaheadCoverage.length)return[];for(var o=t.lookahead.slice(i);o.length&&Uf(o[0].char);)o.shift();var s=new ul(o,0),a=r3(e.lookaheadCoverage,s),l=[].concat(t.backtrack);for(l.reverse();l.length&&Uf(l[0].char);)l.shift();if(l.length<e.backtrackCoverage.length)return[];var u=new ul(l,0),c=r3(e.backtrackCoverage,u),h=r.length===e.inputCoverage.length&&a.length===e.lookaheadCoverage.length&&c.length===e.backtrackCoverage.length,p=[];if(h)for(var d=0;d<e.lookupRecords.length;d++)for(var v=e.lookupRecords[d],b=v.lookupListIndex,S=this.getLookupByIndex(b),y=0;y<S.subtables.length;y++){var T=S.subtables[y],E=this.getLookupMethod(S,T),A=this.getSubstitutionType(S,T);if(A==="12")for(var N=0;N<r.length;N++){var x=t.get(N),D=E(x);D&&p.push(D)}}return p}function JMe(t,e){var n=t.current,r=Kx(n,e.coverage);if(r===-1)return null;for(var i,o=e.ligatureSets[r],s=0;s<o.length;s++){i=o[s];for(var a=0;a<i.components.length;a++){var l=t.lookahead[a],u=i.components[a];if(l!==u)break;if(a===i.components.length-1)return i}}return null}function QMe(t,e){var n=Kx(t,e.coverage);return n===-1?null:e.sequences[n]}ea.prototype.getDefaultScriptFeaturesIndexes=function(){for(var t=this.font.tables.gsub.scripts,e=0;e<t.length;e++){var n=t[e];if(n.tag==="DFLT")return n.script.defaultLangSys.featureIndexes}return[]};ea.prototype.getScriptFeaturesIndexes=function(t){var e=this.font.tables;if(!e.gsub)return[];if(!t)return this.getDefaultScriptFeaturesIndexes();for(var n=this.font.tables.gsub.scripts,r=0;r<n.length;r++){var i=n[r];if(i.tag===t&&i.script.defaultLangSys)return i.script.defaultLangSys.featureIndexes;var o=i.langSysRecords;if(o)for(var s=0;s<o.length;s++){var a=o[s];if(a.tag===t){var l=a.langSys;return l.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};ea.prototype.mapTagsToFeatures=function(t,e){for(var n={},r=0;r<t.length;r++){var i=t[r].tag,o=t[r].feature;n[i]=o}this.features[e].tags=n};ea.prototype.getScriptFeatures=function(t){var e=this.features[t];if(this.features.hasOwnProperty(t))return e;var n=this.getScriptFeaturesIndexes(t);if(!n)return null;var r=this.font.tables.gsub;return e=n.map(function(i){return r.features[i]}),this.features[t]=e,this.mapTagsToFeatures(e,t),e};ea.prototype.getSubstitutionType=function(t,e){var n=t.lookupType.toString(),r=e.substFormat.toString();return n+r};ea.prototype.getLookupMethod=function(t,e){var n=this,r=this.getSubstitutionType(t,e);switch(r){case"11":return function(i){return qMe.apply(n,[i,e])};case"12":return function(i){return ZMe.apply(n,[i,e])};case"63":return function(i){return KMe.apply(n,[i,e])};case"41":return function(i){return JMe.apply(n,[i,e])};case"21":return function(i){return QMe.apply(n,[i,e])};default:throw new Error("lookupType: "+t.lookupType+" - substFormat: "+e.substFormat+" is not yet supported")}};ea.prototype.lookupFeature=function(t){var e=t.contextParams,n=e.index,r=this.getFeature({tag:t.tag,script:t.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+t.tag+"' for script '"+t.script+"'.");for(var i=this.getFeatureLookups(r),o=[].concat(e.context),s=0;s<i.length;s++)for(var a=i[s],l=this.getLookupSubtables(a),u=0;u<l.length;u++){var c=l[u],h=this.getSubstitutionType(a,c),p=this.getLookupMethod(a,c),d=void 0;switch(h){case"11":d=p(e.current),d&&o.splice(n,1,new Ep({id:11,tag:t.tag,substitution:d}));break;case"12":d=p(e.current),d&&o.splice(n,1,new Ep({id:12,tag:t.tag,substitution:d}));break;case"63":d=p(e),Array.isArray(d)&&d.length&&o.splice(n,1,new Ep({id:63,tag:t.tag,substitution:d}));break;case"41":d=p(e),d&&o.splice(n,1,new Ep({id:41,tag:t.tag,substitution:d}));break;case"21":d=p(e.current),d&&o.splice(n,1,new Ep({id:21,tag:t.tag,substitution:d}));break}e=new ul(o,n),!(Array.isArray(d)&&!d.length)&&(d=null)}return o.length?o:null};ea.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);var e=this.features.hasOwnProperty(t.script);if(!t.tag)return e;var n=this.features[t.script].some(function(r){return r.tag===t.tag});return e&&n};ea.prototype.getLookupSubtables=function(t){return t.subtables||null};ea.prototype.getLookupByIndex=function(t){var e=this.font.tables.gsub.lookups;return e[t]||null};ea.prototype.getFeatureLookups=function(t){return t.lookupListIndexes.map(this.getLookupByIndex.bind(this))};ea.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var n=this.features[e.script];return n?n.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};function eAe(t){var e=t.current,n=t.get(-1);return n===null&&Ff(e)||!Ff(n)&&Ff(e)}function tAe(t){var e=t.get(1);return e===null||!Ff(e)}var nAe={startCheck:eAe,endCheck:tAe};function rAe(t){var e=t.current,n=t.get(-1);return(Ff(e)||Uf(e))&&!Ff(n)}function iAe(t){var e=t.get(1);switch(!0){case e===null:return!0;case(!Ff(e)&&!Uf(e)):var n=YMe(e);if(!n)return!0;if(n){var r=!1;if(r=t.lookahead.some(function(i){return Ff(i)||Uf(i)}),!r)return!0}break;default:return!1}}var oAe={startCheck:rAe,endCheck:iAe};function sAe(t,e,n){e[n].setState(t.tag,t.substitution)}function aAe(t,e,n){e[n].setState(t.tag,t.substitution)}function lAe(t,e,n){t.substitution.forEach(function(r,i){var o=e[n+i];o.setState(t.tag,r)})}function uAe(t,e,n){var r=e[n];r.setState(t.tag,t.substitution.ligGlyph);for(var i=t.substitution.components.length,o=0;o<i;o++)r=e[n+o+1],r.setState("deleted",!0)}var Qte={11:sAe,12:aAe,63:lAe,41:uAe};function w3(t,e,n){t instanceof Ep&&Qte[t.id]&&Qte[t.id](t,e,n)}function cAe(t){for(var e=[].concat(t.backtrack),n=e.length-1;n>=0;n--){var r=e[n],i=Yne(r),o=Uf(r);if(!i&&!o)return!0;if(i)return!1}return!1}function fAe(t){if(Yne(t.current))return!1;for(var e=0;e<t.lookahead.length;e++){var n=t.lookahead[e],r=Uf(n);if(!r)return!0}return!1}function hAe(t){var e=this,n="arab",r=this.featuresTags[n],i=this.tokenizer.getRangeTokens(t);if(i.length!==1){var o=new ul(i.map(function(a){return a.getState("glyphIndex")}),0),s=new ul(i.map(function(a){return a.char}),0);i.forEach(function(a,l){if(!Uf(a.char)){o.setCurrentIndex(l),s.setCurrentIndex(l);var u=0;cAe(s)&&(u|=1),fAe(s)&&(u|=2);var c;switch(u){case 1:c="fina";break;case 2:c="init";break;case 3:c="medi";break}if(r.indexOf(c)!==-1){var h=e.query.lookupFeature({tag:c,script:n,contextParams:o});if(h instanceof Error)return console.info(h.message);h.forEach(function(p,d){p instanceof Ep&&(w3(p,i,d),o.context[d]=p.substitution)})}}})}}function ene(t,e){var n=t.map(function(r){return r.activeState.value});return new ul(n,e||0)}function pAe(t){var e=this,n="arab",r=this.tokenizer.getRangeTokens(t),i=ene(r);i.context.forEach(function(o,s){i.setCurrentIndex(s);var a=e.query.lookupFeature({tag:"rlig",script:n,contextParams:i});a.length&&(a.forEach(function(l){return w3(l,r,s)}),i=ene(r))})}function dAe(t){var e=t.current,n=t.get(-1);return n===null&&eA(e)||!eA(n)&&eA(e)}function mAe(t){var e=t.get(1);return e===null||!eA(e)}var gAe={startCheck:dAe,endCheck:mAe};function tne(t,e){var n=t.map(function(r){return r.activeState.value});return new ul(n,e||0)}function vAe(t){var e=this,n="latn",r=this.tokenizer.getRangeTokens(t),i=tne(r);i.context.forEach(function(o,s){i.setCurrentIndex(s);var a=e.query.lookupFeature({tag:"liga",script:n,contextParams:i});a.length&&(a.forEach(function(l){return w3(l,r,s)}),i=tne(r))})}function hl(t){this.baseDir=t||"ltr",this.tokenizer=new ni,this.featuresTags={}}hl.prototype.setText=function(t){this.text=t};hl.prototype.contextChecks={latinWordCheck:gAe,arabicWordCheck:nAe,arabicSentenceCheck:oAe};function i3(t){var e=this.contextChecks[t+"Check"];return this.tokenizer.registerContextChecker(t,e.startCheck,e.endCheck)}function yAe(){return i3.call(this,"latinWord"),i3.call(this,"arabicWord"),i3.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function xAe(){var t=this,e=this.tokenizer.getContextRanges("arabicSentence");e.forEach(function(n){var r=t.tokenizer.getRangeTokens(n);t.tokenizer.replaceRange(n.startIndex,n.endOffset,r.reverse())})}hl.prototype.registerFeatures=function(t,e){var n=this,r=e.filter(function(i){return n.query.supports({script:t,tag:i})});this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(r):this.featuresTags[t]=r};hl.prototype.applyFeatures=function(t,e){if(!t)throw new Error("No valid font was provided to apply features");this.query||(this.query=new ea(t));for(var n=0;n<e.length;n++){var r=e[n];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}};hl.prototype.registerModifier=function(t,e,n){this.tokenizer.registerModifier(t,e,n)};function E3(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function _Ae(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){E3.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(r){hAe.call(t,r)})}}function SAe(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("rlig")!==-1){E3.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(i){pAe.call(t,i)})}}}function bAe(){var t=this,e="latn";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("liga")!==-1){E3.call(this);var r=this.tokenizer.getContextRanges("latinWord");r.forEach(function(i){vAe.call(t,i)})}}}hl.prototype.checkContextReady=function(t){return!!this.tokenizer.getContext(t)};hl.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(_Ae.call(this),SAe.call(this)),this.checkContextReady("latinWord")&&bAe.call(this),this.checkContextReady("arabicSentence")&&xAe.call(this)};hl.prototype.processText=function(t){(!this.text||this.text!==t)&&(this.setText(t),yAe.call(this),this.applyFeaturesToContexts())};hl.prototype.getBidiText=function(t){return this.processText(t),this.tokenizer.getText()};hl.prototype.getTextGlyphs=function(t){this.processText(t);for(var e=[],n=0;n<this.tokenizer.tokens.length;n++){var r=this.tokenizer.tokens[n];if(!r.state.deleted){var i=r.activeState.value;e.push(Array.isArray(i)?i[0]:i)}}return e};function gr(t){t=t||{},t.tables=t.tables||{},t.empty||(Hx(t.familyName,"When creating a new Font object, familyName is required."),Hx(t.styleName,"When creating a new Font object, styleName is required."),Hx(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Hx(t.ascender,"When creating a new Font object, ascender is required."),Hx(t.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||(t.familyName+t.styleName).replace(/\s/g,"")},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables=Object.assign(t.tables,{os2:Object.assign({usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR},t.tables.os2)})),this.supported=!0,this.glyphs=new Jl.GlyphSet(this,t.glyphs||[]),this.encoding=new hne(this),this.position=new Yx(this),this.substitution=new Qs(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new Gne(this)}})}gr.prototype.hasChar=function(t){return this.encoding.charToGlyphIndex(t)!==null};gr.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)};gr.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};gr.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(function(e){return e.script==="latn"?{script:"latn",tags:e.tags.filter(function(n){return t[n]})}:e})};gr.prototype.stringToGlyphs=function(t,e){var n=this,r=new hl,i=function(h){return n.charToGlyphIndex(h.char)};r.registerModifier("glyphIndex",null,i);var o=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;r.applyFeatures(this,o);for(var s=r.getTextGlyphs(t),a=s.length,l=new Array(a),u=this.glyphs.get(0),c=0;c<a;c+=1)l[c]=this.glyphs.get(s[c])||u;return l};gr.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)};gr.prototype.nameToGlyph=function(t){var e=this.nameToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};gr.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""};gr.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,t,e):this.kerningPairs[t+","+e]||0};gr.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};gr.prototype.forEachGlyph=function(t,e,n,r,i,o){e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:72,i=Object.assign({},this.defaultRenderOptions,i);var s=1/this.unitsPerEm*r,a=this.stringToGlyphs(t,i),l;if(i.kerning){var u=i.script||this.position.getDefaultScriptName();l=this.position.getKerningTables(u,i.language)}for(var c=0;c<a.length;c+=1){var h=a[c];if(o.call(this,h,e,n,r,i),h.advanceWidth&&(e+=h.advanceWidth*s),i.kerning&&c<a.length-1){var p=l?this.position.getKerningValue(l,h.index,a[c+1].index):this.getKerningValue(h,a[c+1]);e+=p*s}i.letterSpacing?e+=i.letterSpacing*r:i.tracking&&(e+=i.tracking/1e3*r)}return e};gr.prototype.getPath=function(t,e,n,r,i){var o=new hi;return this.forEachGlyph(t,e,n,r,i,function(s,a,l,u){var c=s.getPath(a,l,u,i,this);o.extend(c)}),o};gr.prototype.getPaths=function(t,e,n,r,i){var o=[];return this.forEachGlyph(t,e,n,r,i,function(s,a,l,u){var c=s.getPath(a,l,u,i,this);o.push(c)}),o};gr.prototype.getAdvanceWidth=function(t,e,n){return this.forEachGlyph(t,0,0,e,n,function(){})};gr.prototype.draw=function(t,e,n,r,i,o){this.getPath(e,n,r,i,o).draw(t)};gr.prototype.drawPoints=function(t,e,n,r,i,o){this.forEachGlyph(e,n,r,i,o,function(s,a,l,u){s.drawPoints(t,a,l,u)})};gr.prototype.drawMetrics=function(t,e,n,r,i,o){this.forEachGlyph(e,n,r,i,o,function(s,a,l,u){s.drawMetrics(t,a,l,u)})};gr.prototype.getEnglishName=function(t){var e=this.names[t];if(e)return e.en};gr.prototype.validate=function(){var t=this;function e(r,i){}function n(r){var i=t.getEnglishName(r);i&&i.trim().length>0}n("fontFamily"),n("weightName"),n("manufacturer"),n("copyright"),n("version"),this.unitsPerEm>0};gr.prototype.toTables=function(){return uCe.fontToTable(this)};gr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};gr.prototype.toArrayBuffer=function(){for(var t=this.toTables(),e=t.encode(),n=new ArrayBuffer(e.length),r=new Uint8Array(n),i=0;i<e.length;i++)r[i]=e[i];return n};gr.prototype.download=function(t){var e=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");t=t||e.replace(/\s/g,"")+"-"+n+".otf";var r=this.toArrayBuffer();if(fCe())if(window.URL=window.URL||window.webkitURL,window.URL){var i=new DataView(r),o=new Blob([i],{type:"font/opentype"}),s=document.createElement("a");s.href=window.URL.createObjectURL(o),s.download=t;var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!1),s.dispatchEvent(a)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var l=jM(),u=hCe(r);l.writeFileSync(t,u)}};gr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};gr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};gr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};function qne(t,e){var n=JSON.stringify(t),r=256;for(var i in e){var o=parseInt(i);if(!(!o||o<256)){if(JSON.stringify(e[i])===n)return o;r<=o&&(r=o+1)}}return e[r]=t,r}function wAe(t,e,n){var r=qne(e.name,n);return[{name:"tag_"+t,type:"TAG",value:e.tag},{name:"minValue_"+t,type:"FIXED",value:e.minValue<<16},{name:"defaultValue_"+t,type:"FIXED",value:e.defaultValue<<16},{name:"maxValue_"+t,type:"FIXED",value:e.maxValue<<16},{name:"flags_"+t,type:"USHORT",value:0},{name:"nameID_"+t,type:"USHORT",value:r}]}function EAe(t,e,n){var r={},i=new tn.Parser(t,e);return r.tag=i.parseTag(),r.minValue=i.parseFixed(),r.defaultValue=i.parseFixed(),r.maxValue=i.parseFixed(),i.skip("uShort",1),r.name=n[i.parseUShort()]||{},r}function TAe(t,e,n,r){for(var i=qne(e.name,r),o=[{name:"nameID_"+t,type:"USHORT",value:i},{name:"flags_"+t,type:"USHORT",value:0}],s=0;s<n.length;++s){var a=n[s].tag;o.push({name:"axis_"+t+" "+a,type:"FIXED",value:e.coordinates[a]<<16})}return o}function CAe(t,e,n,r){var i={},o=new tn.Parser(t,e);i.name=r[o.parseUShort()]||{},o.skip("uShort",1),i.coordinates={};for(var s=0;s<n.length;++s)i.coordinates[n[s].tag]=o.parseFixed();return i}function MAe(t,e){var n=new qt.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:t.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:t.instances.length},{name:"instanceSize",type:"USHORT",value:4+t.axes.length*4}]);n.offsetToData=n.sizeOf();for(var r=0;r<t.axes.length;r++)n.fields=n.fields.concat(wAe(r,t.axes[r],e));for(var i=0;i<t.instances.length;i++)n.fields=n.fields.concat(TAe(i,t.instances[i],t.axes,e));return n}function AAe(t,e,n){var r=new tn.Parser(t,e),i=r.parseULong();_n.argument(i===65536,"Unsupported fvar table version.");var o=r.parseOffset16();r.skip("uShort",1);for(var s=r.parseUShort(),a=r.parseUShort(),l=r.parseUShort(),u=r.parseUShort(),c=[],h=0;h<s;h++)c.push(EAe(t,e+o+h*a,n));for(var p=[],d=e+o+s*a,v=0;v<l;v++)p.push(CAe(t,d+v*u,c,n));return{axes:c,instances:p}}var PAe={make:MAe,parse:AAe},RAe=function(){return{coverage:this.parsePointer(Ye.coverage),attachPoints:this.parseList(Ye.pointer(Ye.uShortList))}},IAe=function(){var t=this.parseUShort();if(_n.argument(t===1||t===2||t===3,"Unsupported CaretValue table version."),t===1)return{coordinate:this.parseShort()};if(t===2)return{pointindex:this.parseShort()};if(t===3)return{coordinate:this.parseShort()}},NAe=function(){return this.parseList(Ye.pointer(IAe))},OAe=function(){return{coverage:this.parsePointer(Ye.coverage),ligGlyphs:this.parseList(Ye.pointer(NAe))}},LAe=function(){return this.parseUShort(),this.parseList(Ye.pointer(Ye.coverage))};function DAe(t,e){e=e||0;var n=new Ye(t,e),r=n.parseVersion(1);_n.argument(r===1||r===1.2||r===1.3,"Unsupported GDEF table version.");var i={version:r,classDef:n.parsePointer(Ye.classDef),attachList:n.parsePointer(RAe),ligCaretList:n.parsePointer(OAe),markAttachClassDef:n.parsePointer(Ye.classDef)};return r>=1.2&&(i.markGlyphSets=n.parsePointer(LAe)),i}var kAe={parse:DAe},cl=new Array(10);cl[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{posFormat:1,coverage:this.parsePointer(Ye.coverage),value:this.parseValueRecord()};if(n===2)return{posFormat:2,coverage:this.parsePointer(Ye.coverage),values:this.parseValueRecordList()};_n.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};cl[2]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();_n.assert(n===1||n===2,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var r=this.parsePointer(Ye.coverage),i=this.parseUShort(),o=this.parseUShort();if(n===1)return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:o,pairSets:this.parseList(Ye.pointer(Ye.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(i),value2:this.parseValueRecord(o)}})))};if(n===2){var s=this.parsePointer(Ye.classDef),a=this.parsePointer(Ye.classDef),l=this.parseUShort(),u=this.parseUShort();return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:o,classDef1:s,classDef2:a,class1Count:l,class2Count:u,classRecords:this.parseList(l,Ye.list(u,function(){return{value1:this.parseValueRecord(i),value2:this.parseValueRecord(o)}}))}}};cl[3]=function(){return{error:"GPOS Lookup 3 not supported"}};cl[4]=function(){return{error:"GPOS Lookup 4 not supported"}};cl[5]=function(){return{error:"GPOS Lookup 5 not supported"}};cl[6]=function(){return{error:"GPOS Lookup 6 not supported"}};cl[7]=function(){return{error:"GPOS Lookup 7 not supported"}};cl[8]=function(){return{error:"GPOS Lookup 8 not supported"}};cl[9]=function(){return{error:"GPOS Lookup 9 not supported"}};function FAe(t,e){e=e||0;var n=new Ye(t,e),r=n.parseVersion(1);return _n.argument(r===1||r===1.1,"Unsupported GPOS table version "+r),r===1?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(cl)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(cl),variations:n.parseFeatureVariationsList()}}var UAe=new Array(10);function BAe(t){return new qt.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new qt.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new qt.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new qt.LookupList(t.lookups,UAe)}])}var zAe={parse:FAe,make:BAe};function HAe(t){var e={};t.skip("uShort");var n=t.parseUShort();_n.argument(n===0,"Unsupported kern sub-table version."),t.skip("uShort",2);var r=t.parseUShort();t.skip("uShort",3);for(var i=0;i<r;i+=1){var o=t.parseUShort(),s=t.parseUShort(),a=t.parseShort();e[o+","+s]=a}return e}function VAe(t){var e={};t.skip("uShort");var n=t.parseULong();n>1&&console.warn("Only the first kern subtable is supported."),t.skip("uLong");var r=t.parseUShort(),i=r&255;if(t.skip("uShort"),i===0){var o=t.parseUShort();t.skip("uShort",3);for(var s=0;s<o;s+=1){var a=t.parseUShort(),l=t.parseUShort(),u=t.parseShort();e[a+","+l]=u}}return e}function WAe(t,e){var n=new tn.Parser(t,e),r=n.parseUShort();if(r===0)return HAe(n);if(r===1)return VAe(n);throw new Error("Unsupported kern table version ("+r+").")}var GAe={parse:WAe};function $Ae(t,e,n,r){for(var i=new tn.Parser(t,e),o=r?i.parseUShort:i.parseULong,s=[],a=0;a<n+1;a+=1){var l=o.call(i);r&&(l*=2),s.push(l)}return s}var XAe={parse:$Ae};function jAe(t,e){var n=jM();n.readFile(t,function(r,i){if(r)return e(r.message);e(null,Fne(i))})}function YAe(t,e){var n=new XMLHttpRequest;n.open("get",t,!0),n.responseType="arraybuffer",n.onload=function(){return n.response?e(null,n.response):e("Font could not be loaded: "+n.statusText)},n.onerror=function(){e("Font could not be loaded")},n.send()}function nne(t,e){for(var n=[],r=12,i=0;i<e;i+=1){var o=tn.getTag(t,r),s=tn.getULong(t,r+4),a=tn.getULong(t,r+8),l=tn.getULong(t,r+12);n.push({tag:o,checksum:s,offset:a,length:l,compression:!1}),r+=16}return n}function qAe(t,e){for(var n=[],r=44,i=0;i<e;i+=1){var o=tn.getTag(t,r),s=tn.getULong(t,r+4),a=tn.getULong(t,r+8),l=tn.getULong(t,r+12),u=void 0;a<l?u="WOFF":u=!1,n.push({tag:o,offset:s,compression:u,compressedLength:a,length:l}),r+=20}return n}function fi(t,e){if(e.compression==="WOFF"){var n=new Uint8Array(t.buffer,e.offset+2,e.compressedLength-2),r=new Uint8Array(e.length);if(zEe(n,r),r.byteLength!==e.length)throw new Error("Decompression error: "+e.tag+" decompressed length doesn't match recorded length");var i=new DataView(r.buffer,0);return{data:i,offset:0}}else return{data:t,offset:e.offset}}function uA(t,e){e=e??{};var n,r,i=new gr({empty:!0}),o=new DataView(t,0),s,a=[],l=tn.getTag(o,0);if(l==="\0\0\0"||l==="true"||l==="typ1")i.outlinesFormat="truetype",s=tn.getUShort(o,4),a=nne(o,s);else if(l==="OTTO")i.outlinesFormat="cff",s=tn.getUShort(o,4),a=nne(o,s);else if(l==="wOFF"){var u=tn.getTag(o,4);if(u==="\0\0\0")i.outlinesFormat="truetype";else if(u==="OTTO")i.outlinesFormat="cff";else throw new Error("Unsupported OpenType flavor "+l);s=tn.getUShort(o,12),a=qAe(o,s)}else throw new Error("Unsupported OpenType signature "+l);for(var c,h,p,d,v,b,S,y,T,E,A,N,x=0;x<s;x+=1){var D=a[x],k=void 0;switch(D.tag){case"cmap":k=fi(o,D),i.tables.cmap=fne.parse(k.data,k.offset),i.encoding=new pne(i.tables.cmap);break;case"cvt ":k=fi(o,D),N=new tn.Parser(k.data,k.offset),i.tables.cvt=N.parseShortList(D.length/2);break;case"fvar":h=D;break;case"fpgm":k=fi(o,D),N=new tn.Parser(k.data,k.offset),i.tables.fpgm=N.parseByteList(D.length);break;case"head":k=fi(o,D),i.tables.head=wne.parse(k.data,k.offset),i.unitsPerEm=i.tables.head.unitsPerEm,n=i.tables.head.indexToLocFormat;break;case"hhea":k=fi(o,D),i.tables.hhea=Ene.parse(k.data,k.offset),i.ascender=i.tables.hhea.ascender,i.descender=i.tables.hhea.descender,i.numberOfHMetrics=i.tables.hhea.numberOfHMetrics;break;case"hmtx":S=D;break;case"ltag":k=fi(o,D),r=Cne.parse(k.data,k.offset);break;case"maxp":k=fi(o,D),i.tables.maxp=Mne.parse(k.data,k.offset),i.numGlyphs=i.tables.maxp.numGlyphs;break;case"name":E=D;break;case"OS/2":k=fi(o,D),i.tables.os2=h3.parse(k.data,k.offset);break;case"post":k=fi(o,D),i.tables.post=One.parse(k.data,k.offset),i.glyphNames=new y3(i.tables.post);break;case"prep":k=fi(o,D),N=new tn.Parser(k.data,k.offset),i.tables.prep=N.parseByteList(D.length);break;case"glyf":p=D;break;case"loca":T=D;break;case"CFF ":c=D;break;case"kern":y=D;break;case"GDEF":d=D;break;case"GPOS":v=D;break;case"GSUB":b=D;break;case"meta":A=D;break}}var U=fi(o,E);if(i.tables.name=Nne.parse(U.data,U.offset,r),i.names=i.tables.name,p&&T){var L=n===0,j=fi(o,T),ie=XAe.parse(j.data,j.offset,i.numGlyphs,L),se=fi(o,p);i.glyphs=Hne.parse(se.data,se.offset,ie,i,e)}else if(c){var fe=fi(o,c);bne.parse(fe.data,fe.offset,i,e)}else throw new Error("Font doesn't contain TrueType or CFF outlines.");var _e=fi(o,S);if(Tne.parse(i,_e.data,_e.offset,i.numberOfHMetrics,i.numGlyphs,i.glyphs,e),aTe(i,e),y){var J=fi(o,y);i.kerningPairs=GAe.parse(J.data,J.offset)}else i.kerningPairs={};if(d){var te=fi(o,d);i.tables.gdef=kAe.parse(te.data,te.offset)}if(v){var ne=fi(o,v);i.tables.gpos=zAe.parse(ne.data,ne.offset),i.position.init()}if(b){var xe=fi(o,b);i.tables.gsub=Lne.parse(xe.data,xe.offset)}if(h){var Ce=fi(o,h);i.tables.fvar=PAe.parse(Ce.data,Ce.offset,i.names)}if(A){var Le=fi(o,A);i.tables.meta=Dne.parse(Le.data,Le.offset),i.metas=i.tables.meta}return i}function Zne(t,e,n){n=n??{};var r=typeof window>"u",i=r&&!n.isUrl?jAe:YAe;return new Promise(function(o,s){i(t,function(a,l){if(a){if(e)return e(a);s(a)}var u;try{u=uA(l,n)}catch(c){if(e)return e(c,null);s(c)}if(e)return e(null,u);o(u)})})}function Kne(t,e){var n=jM(),r=n.readFileSync(t);return uA(Fne(r),e)}var ZAe=Object.freeze({__proto__:null,Font:gr,Glyph:xs,Path:hi,BoundingBox:Ql,_parse:tn,parse:uA,load:Zne,loadSync:Kne}),KAe=ZAe;var ure=F(Jne(),1);window.jQuery=window.$=C3.default;(0,Qne.default)(C3.default);window.manifold=N3;window.clipper2=L3;window.React=ere.default;window.ReactJSX=tre.default;window.ReactDOM=nre.default;window.ReactDOMClient=JAe;window.ReactDOMServer=QAe;window.PropTypes=rre.default;window.Redux=vI;window.ReactRedux=NI;window.THREE=fO;window.THREESTLLoader=pO;window.THREEBufferGeometryUtils=mO;window.THREEOrbitControls=xO;window.ReactBootstrap=LD;window.ActiveStorage=ire.default;window.Cookies=PJ;window.ClipperLib=ore.default;window.Raphael=sre.default;window.saveAs=are.default;window.fflate=uk;window.io=lre.default;window.opentype=T3;window.$.ua=new ure.default().getResult();})();
/*! Bundled license information:

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.7.1
   * https://jquery.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2023-08-28T13:37Z
   *)

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-server-legacy.browser.production.min.js:
  (**
   * @license React
   * react-dom-server-legacy.browser.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-server.browser.production.min.js:
  (**
   * @license React
   * react-dom-server.browser.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js:
  (**
   * @license React
   * use-sync-external-store-shim.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js:
  (**
   * @license React
   * use-sync-external-store-shim/with-selector.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (**
   * @license React
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

engine.io-parser/lib/utf8.js:
  (*! https://mths.be/utf8js v2.1.2 by @mathias *)

three/build/three.module.js:
  (**
   * @license
   * Copyright 2010-2024 Three.js Authors
   * SPDX-License-Identifier: MIT
   *)

bootstrap/dist/js/bootstrap.esm.js:
  (*!
    * Bootstrap v5.3.2 (https://getbootstrap.com/)
    * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.5 | MIT *)

opentype.js/dist/opentype.module.js:
  (*! https://mths.be/codepointat v0.2.0 by @mathias *)
*/
//# sourceMappingURL=https://d1ruu3w8cmk6tc.cloudfront.net/assets/core.js-0a9dbaaee8fa35dd8168c4b92094da8ea7abec0bd14a009d6c0b061cf1e7a963.map
//!
;
